{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/chart.js/Chart.js","node_modules/dota-hero-calculator-library/src/herocalc/AbilityModel.js","node_modules/dota-hero-calculator-library/src/herocalc/BuffViewModel.js","node_modules/dota-hero-calculator-library/src/herocalc/buffs/BuffModel.js","node_modules/dota-hero-calculator-library/src/herocalc/buffs/buffOptionsArray.js","node_modules/dota-hero-calculator-library/src/herocalc/buffs/debuffOptionsArray.js","node_modules/dota-hero-calculator-library/src/herocalc/data/main.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/CloneModel.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/DamageTypeColor.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/HeroDamageMixin.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/HeroModel.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/HeroOption.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/IllusionModel.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/TalentController.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/UnitModel.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/UnitOption.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/diffProperties.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/heroOptionsArray.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/nextLevelExp.js","node_modules/dota-hero-calculator-library/src/herocalc/hero/totalExp.js","node_modules/dota-hero-calculator-library/src/herocalc/herocalc_abilitydata.js","node_modules/dota-hero-calculator-library/src/herocalc/herocalc_knockout.js","node_modules/dota-hero-calculator-library/src/herocalc/illusion/IllusionOption.js","node_modules/dota-hero-calculator-library/src/herocalc/illusion/illusionData.js","node_modules/dota-hero-calculator-library/src/herocalc/illusion/illusionOptionsArray.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/BasicInventoryViewModel.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/InventoryViewModel.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/ItemInput.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/itemBuffOptions.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/itemDebuffOptions.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/itemOptionsArray.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/itemsWithActive.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/levelItems.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/stackableItems.js","node_modules/dota-hero-calculator-library/src/herocalc/inventory/validItems.js","node_modules/dota-hero-calculator-library/src/herocalc/main.js","node_modules/dota-hero-calculator-library/src/herocalc/util/extend.js","node_modules/dota-hero-calculator-library/src/herocalc/util/findWhere.js","node_modules/dota-hero-calculator-library/src/herocalc/util/getJSON.js","node_modules/dota-hero-calculator-library/src/herocalc/util/isEmpty.js","node_modules/dota-hero-calculator-library/src/herocalc/util/isString.js","node_modules/dota-hero-calculator-library/src/herocalc/util/main.js","node_modules/dota-hero-calculator-library/src/herocalc/util/union.js","node_modules/dota-hero-calculator-library/src/herocalc/util/uniqueId.js","node_modules/dota-hero-calculator-library/src/herocalc/util/uniques.js","node_modules/dota-hero-calculator-library/src/lib/knockout.mapping.js","node_modules/dota-hero-calculator-library/src/lib/knockout.wrap.js","node_modules/jquery-ui/ui/data.js","node_modules/jquery-ui/ui/disable-selection.js","node_modules/jquery-ui/ui/focusable.js","node_modules/jquery-ui/ui/ie.js","node_modules/jquery-ui/ui/keycode.js","node_modules/jquery-ui/ui/plugin.js","node_modules/jquery-ui/ui/position.js","node_modules/jquery-ui/ui/safe-active-element.js","node_modules/jquery-ui/ui/safe-blur.js","node_modules/jquery-ui/ui/scroll-parent.js","node_modules/jquery-ui/ui/tabbable.js","node_modules/jquery-ui/ui/unique-id.js","node_modules/jquery-ui/ui/version.js","node_modules/jquery-ui/ui/widget.js","node_modules/jquery-ui/ui/widgets/autocomplete.js","node_modules/jquery-ui/ui/widgets/button.js","node_modules/jquery-ui/ui/widgets/dialog.js","node_modules/jquery-ui/ui/widgets/draggable.js","node_modules/jquery-ui/ui/widgets/menu.js","node_modules/jquery-ui/ui/widgets/mouse.js","node_modules/jquery-ui/ui/widgets/resizable.js","node_modules/jquery-ui/ui/widgets/spinner.js","node_modules/rollbar-browser/dist/rollbar.umd.nojson.min.js","src/js/app/BuildExplorerViewModel.js","src/js/app/CloneViewModel.js","src/js/app/DamageAmpViewModel.js","src/js/app/HeroCalculatorViewModel.js","src/js/app/HeroDamageAmpMixin.js","src/js/app/HeroViewModel.js","src/js/app/IllusionViewModel.js","src/js/app/UnitViewModel.js","src/js/app/getParameterByName.js","src/js/app/herocalc_knockout.js","src/js/app/herocalc_tooltips_ability.js","src/js/app/herocalc_tooltips_item.js","src/js/app/jquery-ui.custom.js","src/js/app/ko.extenders.async.js","src/js/app/polyfill.js","src/js/components/shop.js","src/js/lib/Chart.scatter.js","src/js/main.js"],"names":["root","this","previous","Chart","context","canvas","ctx","computeDimension","element","dimension","document","defaultView","getComputedStyle","getPropertyValue","width","height","aspectRatio","helpers","retinaScale","defaults","global","animation","animationSteps","animationEasing","showScale","scaleOverride","scaleSteps","scaleStepWidth","scaleStartValue","scaleLineColor","scaleLineWidth","scaleShowLabels","scaleLabel","scaleIntegersOnly","scaleBeginAtZero","scaleFontFamily","scaleFontSize","scaleFontStyle","scaleFontColor","responsive","maintainAspectRatio","showTooltips","customTooltips","tooltipEvents","tooltipFillColor","tooltipFontFamily","tooltipFontSize","tooltipFontStyle","tooltipFontColor","tooltipTitleFontFamily","tooltipTitleFontSize","tooltipTitleFontStyle","tooltipTitleFontColor","tooltipTitleTemplate","tooltipYPadding","tooltipXPadding","tooltipCaretSize","tooltipCornerRadius","tooltipXOffset","tooltipTemplate","multiTooltipTemplate","multiTooltipKeyBackground","segmentColorDefault","segmentHighlightColorDefaults","onAnimationProgress","onAnimationComplete","types","each","loopable","callback","self","additionalArgs","Array","prototype","slice","call","arguments","length","i","apply","concat","item","clone","obj","objClone","value","key","hasOwnProperty","extend","base","extensionObject","merge","master","args","unshift","indexOf","arrayToSearch","inherits","where","collection","filterCallback","filtered","push","findNextWhere","startIndex","currentItem","findPreviousWhere","extensions","parent","ChartElement","constructor","Surrogate","__super__","noop","uid","id","warn","str","window","console","amd","define","isNumber","n","isNaN","parseFloat","isFinite","max","array","Math","min","getDecimalPlaces","cap","valueToCap","maxValue","minValue","num","s","toString","split","parseInt","parts","toRadians","radians","degrees","PI","aliasPixel","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","x","distanceFromYCenter","y","radialDistanceFromCenter","sqrt","angle","atan2","distance","pixelWidth","calculateOrderOfMagnitude","splineCurve","FirstPoint","MiddlePoint","AfterPoint","t","d01","pow","d12","fa","fb","inner","outer","val","floor","log","LN10","template","calculateScaleRange","valuesArray","drawingSize","textSize","startFromZero","integersOnly","minSteps","maxSteps","skipFitting","values","v","valueRange","abs","rangeOrderOfMagnitude","graphMax","ceil","graphMin","graphRange","stepValue","numberOfSteps","round","steps","templateString","valuesObject","tmpl","data","fn","test","Function","replace","join","cache","easingEffects","generateLabels","labelsArray","index","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","p","a","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","addEvent","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","animationLoop","totalSteps","easingString","onProgress","onComplete","chartInstance","currentStep","easingFunction","animationFrame","stepDecimal","easeDecimal","getRelativePosition","evt","mouseX","mouseY","e","originalEvent","currentTarget","srcElement","boundingRect","getBoundingClientRect","touches","clientX","left","clientY","top","node","eventType","method","addEventListener","attachEvent","removeEvent","handler","removeEventListener","detachEvent","unbindEvents","bindEvents","arrayOfEvents","events","eventName","chart","getMaximumWidth","domNode","container","parentNode","padding","getStyle","clientWidth","getMaximumHeight","clientHeight","el","property","currentStyle","getMaximumSize","devicePixelRatio","style","scale","clear","clearRect","fontString","pixelSize","fontStyle","fontFamily","longestText","font","arrayOfStrings","longest","string","textWidth","measureText","drawRoundedRectangle","radius","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","instances","Type","options","resize","initialize","stop","animationService","cancelAnimation","newWidth","newHeight","reflow","render","Animation","numSteps","easing","animationObject","draw","addAnimation","generateLegend","legendTemplate","destroy","removeProperty","removeAttribute","showTooltip","ChartElements","forceRedraw","activeElements","isChanged","Elements","changed","datasets","dataArray","dataIndex","points","bars","segments","tooltipLabels","tooltipColors","medianPosition","dataCollection","xMax","yMax","xMin","yMin","xPositions","yPositions","dataset","hasValue","fill","_saved","fillColor","stroke","strokeColor","MultiTooltip","xPadding","yPadding","xOffset","textColor","fontSize","titleTextColor","titleFontFamily","titleFontStyle","titleFontSize","cornerRadius","labels","legendColors","legendColorBackground","title","custom","Element","tooltipPosition","Tooltip","caretHeight","text","toBase64Image","toDataURL","ChartType","name","chartName","baseDefaults","config","configuration","save","restore","props","update","newProps","transition","ease","Point","display","inRange","chartX","chartY","hitDetectionRange","hitDetectionRadius","arc","strokeStyle","lineWidth","strokeWidth","fillStyle","Arc","pointRelativePosition","pointRelativeAngle","startAngle","endAngle","betweenAngles","withinRadius","innerRadius","outerRadius","centreAngle","rangeFromCentre","animationPercent","lineJoin","showStroke","Rectangle","halfWidth","leftX","rightX","halfStroke","xAlign","yAlign","caretPadding","tooltipWidth","tooltipRectHeight","tooltipHeight","tooltipX","tooltipY","textAlign","textBaseline","fillText","titleFont","titleHeight","titleWidth","labelWidth","longestTextWidth","halfHeight","getLineHeight","baseLineHeight","afterTitleIndex","label","fillRect","Scale","fit","buildYLabels","yLabels","stepDecimalPlaces","toFixed","yLabelWidth","showLabels","addXLabel","xLabels","valuesCount","removeXLabel","shift","startPoint","endPoint","cachedYLabelWidth","cachedEndPoint","cachedHeight","calculateYRange","calculateXLabelRotation","firstRotated","lastRotated","firstWidth","lastWidth","xScalePaddingRight","xScalePaddingLeft","xLabelRotation","cosRotation","originalLabelWidth","xLabelWidth","xGridWidth","calculateX","drawingArea","calculateY","scalingFactor","innerWidth","valueWidth","valueOffset","offsetGridLines","yLabelGap","xStart","labelString","yLabelCenter","linePositionY","drawHorizontalLine","showHorizontalLines","gridLineWidth","gridLineColor","lineColor","xPos","linePos","isRotated","drawVerticalLine","showVerticalLines","translate","rotate","RadialScale","size","backdropPaddingY","calculateCenterOffset","lineArc","setScaleSize","getCircumference","pointPosition","halfTextWidth","furthestRightIndex","furthestRightAngle","furthestLeftIndex","furthestLeftAngle","xProtrusionLeft","xProtrusionRight","radiusReductionRight","radiusReductionLeft","largestPossibleRadius","pointLabelFontSize","furthestRight","furthestLeft","pointLabelFontStyle","pointLabelFontFamily","getPointPosition","getIndexAngle","setCenterPoint","leftMovement","rightMovement","maxRight","maxLeft","xCenter","yCenter","angleMultiplier","distanceFromCenter","thisAngle","yCenterOffset","yHeight","showLabelBackdrop","backdropColor","backdropPaddingX","fontColor","angleLineWidth","angleLineColor","centerOffset","outerPosition","angleLineInterval","backgroundColors","previousOuterPosition","nextOuterPosition","previousOuterHalfway","nextOuterHalfway","pointLabelPosition","pointLabelFontColor","labelsCount","halfLabelsCount","quarterLabelsCount","upperHalf","exactQuarter","frameDuration","animations","dropFrames","digestWrapper","animationWrapper","splice","startDigest","startTime","Date","now","framesToDrop","endTime","delay","frameDelay","timeout","instance","module","exports","noConflict","defaultConfig","scaleShowGridLines","scaleGridLineColor","scaleGridLineWidth","scaleShowHorizontalLines","scaleShowVerticalLines","barShowStroke","barStrokeWidth","barValueSpacing","barDatasetSpacing","ScaleClass","calculateBarX","datasetCount","datasetIndex","barIndex","xWidth","calculateBaseWidth","xAbsolute","barWidth","calculateBarWidth","baseWidth","activeBars","type","getBarsAtEvent","eachBars","bar","activeBar","highlightFill","highlightStroke","BarClass","datasetObject","dataPoint","datasetLabel","buildScale","activeElement","barsArray","eventPosition","datasetIterator","dataTotal","scaleOptions","beginAtZero","currentHeight","updatedRanges","addData","removeData","newScaleProps","easingDecimal","segmentShowStroke","segmentStrokeColor","segmentStrokeWidth","percentageInnerCutout","animateRotate","animateScale","SegmentArc","activeSegments","getSegmentsAtEvent","segment","activeSegment","highlightColor","calculateTotal","datapoint","color","segmentsArray","location","atIndex","silent","undefined","highlight","circumference","calculateCircumference","total","indexToDelete","animDecimal","Doughnut","bezierCurve","bezierCurveTension","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","datasetStroke","datasetStrokeWidth","datasetFill","PointClass","activePoints","getPointsAtEvent","eachPoints","point","activePoint","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","pointsArray","nextPoint","previousPoint","pointsWithValues","tension","controlPoints","bezierCurveTo","scaleShowLabelBackdrop","scaleBackdropColor","scaleBackdropPaddingY","scaleBackdropPaddingX","scaleShowLine","updateScaleRange","datapoints","scaleSizes","angleShowLineOut","activePointsCollection","mousePosition","fromCenter","anglePerIndex","pointIndex","scaleBackgroundColors","totalDataArray","ko","require","abilityData","AbilityModel","h","hero","hasScepter","observable","isShapeShiftActive","abilities","_abilities","level","isActive","isDetail","baseDamage","baseDamageReductionPct","baseDamageMultiplier","bash","bashBonusDamage","bonusDamage","bonusDamageOrb","bonusDamagePct","bonusDamagePrecisionAura","bonusDamageReduction","bonusHealth","bonusStrength","bonusStrength2","bonusAgility","bonusAgility2","bonusInt","bonusAllStatsReduction","damageAmplification","damageReduction","evasion","magicResist","manaregen","manaregenreduction","missChance","movementSpeedFlat","movementSpeedPct","movementSpeedPctReduction","turnRateReduction","attackrange","attackspeed","attackspeedreduction","armor","armorReduction","healthregen","lifesteal","visionnight","visionday","abilityControlData","abilitySettingsData","processAbility","result","v_list","controlType","numeric","controlValueType","labelName","toUpperCase","controlVal","controlOptions","controls","noLevel","attributeValue","attributeName","computed","_ability","find","b","getAbilityAttributeValue","attributes","g","r","getComputedFunction","returnProperty","ignoreTooltip","tooltip","getAbilityAttributeTooltip","clean","abilityModel","abilityName","pureComputed","inputValue","returnVal","getAbilityLevelByAbilityName","getAbilityByName","getAbilityPropertyValue","ability","getAttributeBonusLevel","getAllStatsReduction","totalAttribute","behavior","j","getStrengthReduction","getStrength","getAgility","attribute","getIntelligence","getArmor","getArmorBaseReduction","getArmorReduction","getHealth","isTrueFormActive","getHealthRegen","getMana","getManaRegen","getManaRegenArcaneAura","getManaRegenReduction","getAttackRange","getAttackSpeed","getAttackSpeedReduction","getBash","getBaseDamage","totalMultiplier","sources","damage","damageType","displayname","multiplier","getSelfBaseDamageReductionPct","getBaseDamageReductionPct","getBAT","getBonusDamage","getBonusDamagePercent","heroId","getBonusDamageBackstab","totalAttribute1","totalAttribute2","getBonusDamagePrecisionAura","getBonusDamageReduction","getBonusDamageReductionPct","getDamageAmplification","getDamageReduction","getCritSource","chance","count","getCleaveSource","magnitude","getCritChance","getEvasion","getEvasionBacktrack","getMissChance","getLifesteal","getMagicResist","getMagicResistReduction","getMovementSpeedFlat","getMovementSpeedPercent","getMovementSpeedPercentReduction","getTurnRateReduction","getVisionRangeNight","getVisionRangePctReduction","setEvasion","setMovementSpeed","MAX_MOVESPEED","MIN_MOVESPEED","getBashSource","attacktype","getOrbSource","totalInt","toggleAbility","event","bind","toggleAbilityDetail","getAbility","levelUpAbility","getAbilityLevelMax","availableSkillPoints","abilitytype","selectedHeroLevel","skillPointHistory","levelDownAbility","utils","unwrapObservable","lastIndexOf","d","InventoryViewModel","findWhere","buffOptionsArray","debuffOptionsArray","BuffViewModel","itemData","observableArray","availableBuffs","items","availableDebuffs","selectedBuff","buffs","itemBuffs","addBuff","buffName","JSON","parse","stringify","removeBuff","remove","dispose","toggleBuff","toggleBuffDetail","Object","create","BuffModel","heroData","unitData","buffDisplayName","init","HeroCalcData","getJSON","isEmpty","isString","out","resourceCounter","onResourceLoaded","fixHeroData","HERODATA_PATH","ITEMDATA_PATH","UNITDATA_PATH","HeroModel","CloneModel","DamageTypeColor","physical","pure","magic","default","HeroDamageMixin","critInfo","compareByMultiplier","critSources","inventory","critSourcesArray","prop","sort","critTotal","k","total2","totalChance","cleaveInfo","compareByRadius","cleaveSources","cleaveSourcesArray","cleaveSourcesByRadius","bashInfo","bashSources","bashSourcesArray","bashTotal","totalMovementSpeed","orbProcInfo","compareByDamage","priority","damageSources","getOrbProcSource","damageSourcesArray","damageTotal","getReducedDamage","enemy","totalArmorPhysical","totalMagicResistance","debuffs","damageTotalInfo","bonusDamageArray","bonusDamagePctArray","itemBonusDamage","itemBonusDamagePct","abilityOrbSources","itemOrbSources","itemProcOrbSources","attackSources","cooldown","cd","o","enabled","item_echo_sabre","attacks","map","totalDamage","totalCritableDamage","totalCrit","geminateAttack","damageReduced","active","crits","totalAgi","attacksPerSecond","dps","dpsReduced","orb","keys","totalReduced","totalCritReduced","crit","reduced","forEach","totalCritChance","reduce","memo","t1Crit","c","t2Crit","t3Crit","filter","t4Crit","t1","t2","t3","t4","totalCritRow","totalRow","visible","sourcesCrit","totalGeminateAttack","totalGeminateAttackReduced","sumTotal","sumTotalReduced","getDamageTypeColor","diffProperties","TalentController","totalExp","nextLevelExp","selectedInventory","heroCompare","unit","talents","selectedTalents","arr","removeAll","talent","primaryAttribute","attributeprimary","startingArmor","attributebaseagility","armorphysical","respawnTime","reduction","getRespawnReduction","totalStr","attributeagilitygain","getAttributes","intStolen","attributebaseintelligence","attributeintelligencegain","attributebasestrength","attributestrengthgain","health","statushealth","healthRegenAura","getHealthRegenAura","excludeList","statushealthregen","mana","statusmana","statusmanaregen","getManaRegenPercent","getManaRegenBloodstone","armorAura","getArmorAura","totalArmorPhysicalReduction","totalArmor","ms","movementSpeedPercent","movementSpeedPercentReduction","isSheeped","movementspeed","totalTurnRate","movementturnrate","abilityBaseDamage","minDamage","attackdamagemin","maxDamage","attackdamagemax","baseDamageAvg","baseDamageMin","baseDamageMax","damageAvg","damageMin","damageMax","totalMagicResistanceProduct","magicalresistance","getMagicResistReductionSelf","bat","abilityBAT","attackrate","ias","attackSpeed","attackSpeedReduction","attackTime","ehpPhysical","ehp","activeItems","some","ehpMagical","critChance","missDebuff","totalattackrange","visionrangeday","visionrangenight","visionnighttimerange","lifestealAura","getLifestealAura","diff","getDiffFunction","deferEvaluation","toggleTalent","talentTier","talentIndex","HeroOption","heroName","heroDisplayName","illusionData","IllusionModel","abilityLevel","illusionAbilityLevel","abilityObj","getIncomingDamageMultiplier","illusionType","attackType","incoming_damage_melee","incoming_damage_ranged","incoming_damage","getOutgoingDamageMultiplier","outgoing_damage_melee","outgoing_damage_ranged","outgoing_damage","startsWith","UnitModel","unitId","unitLevel","subscribe","newValue","UnitOption","levels","image","heroOptionsArray","alchemist_acid_spray","alchemist_unstable_concoction","ancient_apparition_cold_feet","ancient_apparition_ice_blast","antimage_mana_void","axe_battle_hunger","bane_nightmare","bane_fiends_grip","batrider_sticky_napalm","batrider_firefly","bloodseeker_rupture","bristleback_viscous_nasal_goo","bristleback_quill_spray","damage_cap","bristleback_bristleback","bristleback_warpath","centaur_return","centaur_stampede","clinkz_death_pact","crystal_maiden_frostbite","dark_seer_ion_shell","dazzle_shadow_wave","dazzle_weave","death_prophet_exorcism","disruptor_static_storm","damagevalue","mult","doom_bringer_scorched_earth","doom_bringer_doom","dragon_knight_elder_dragon_form","drow_ranger_trueshot","earth_spirit_rolling_boulder","earthshaker_enchant_totem","earthshaker_echo_slam","elder_titan_ancestral_spirit","elder_titan_earth_splitter","enchantress_natures_attendants","enigma_malefice","enigma_midnight_pulse","enigma_black_hole","faceless_void_time_lock","gyrocopter_rocket_barrage","huskar_burning_spear","huskar_berserkers_blood","hp_threshold_max","huskar_life_break","invoker_quas","invoker_wex","invoker_exort","invoker_ghost_walk","invoker_alacrity","invoker_ice_wall","jakiro_dual_breath","jakiro_liquid_fire","jakiro_macropyre","juggernaut_blade_fury","juggernaut_healing_ward","juggernaut_omni_slash","keeper_of_the_light_illuminate","keeper_of_the_light_mana_leak","legion_commander_duel","leshrac_pulse_nova","lich_chain_frost","life_stealer_feast","life_stealer_open_wounds","lina_fiery_soul","lion_mana_drain","luna_moon_glaive","luna_eclipse","lucentBeamAbility","medusa_mystic_snake","snake_jumps","snake_scale","medusa_mana_shield","meepo_poof","meepo_geostrike","mirana_arrow","arrow_min_stun","arrow_max_stunrange","bonus_damage","morphling_morph_agi","morphling_morph_str","furion_wrath_of_nature","necrolyte_heartstopper_aura","necrolyte_sadist","hero_multiplier","night_stalker_crippling_fear","night_stalker_hunter_in_the_night","obsidian_destroyer_arcane_orb","ogre_magi_ignite","pudge_rot","pudge_flesh_heap","pudge_dismember","pugna_nether_ward","pugna_life_drain","queenofpain_shadow_strike","duration_damage","ticks","razor_plasma_field","max_radius","damage_min","damage_max","razor_static_link","tick_duration","drain_rate","razor_eye_of_the_storm","rubick_fade_bolt","sandking_sand_storm","sandking_epicenter","shadow_demon_shadow_poison","stackmult","nevermore_necromastery","nevermore_requiem","shadow_shaman_shackles","silencer_curse_of_the_silent","skywrath_mage_mystic_flare","slark_essence_shift","slark_shadow_dance","sniper_shrapnel","spectre_desolate","spectre_dispersion","storm_spirit_ball_lightning","distance_intervals","travel_cost_base","travel_cost_percent","templar_assassin_psionic_trap","max_slow","slow_per_tick","shredder_reactive_armor","shredder_chakram","interval","spirit_breaker_greater_bash","techies_land_mines","phys_reduction","magic_reduction","techies_suicide","techies_remote_mines","tinker_march_of_the_machines","treant_leech_seed","troll_warlord_fervor","undying_decay","str_steal_scepter","undying_soul_rip","undying_flesh_golem","min_speed_slow","full_power_radius","min_damage_amp","ursa_fury_swipes","enrageAbility","enrage_multiplier","ursa_enrage","venomancer_venomous_gale","venomancer_poison_sting","venomancer_poison_nova","viper_poison_attack","viper_corrosive_skin","viper_viper_strike","visage_soul_assumption","soul_base_damage","stack_limit","visage_gravekeepers_cloak","warlock_shadow_word","warlock_upheaval","weaver_the_swarm","windrunner_powershot","winter_wyvern_cold_embrace","base_heal","wisp_spirits","wisp_overcharge","witch_doctor_paralyzing_cask","bounces","witch_doctor_voodoo_restoration","heal_per_tick","mana_per_tick","witch_doctor_maledict","duration","witch_doctor_death_ward","zuus_static_field","mapping","wrap","extenders","target","opts","read","write","current","roundingMultiplier","precision","newValueAsNum","defaultValue","valueToWrite","notifySubscribers","notify","IllusionOption","baseHero","illusionName","illusionDisplayName","chaos_knight_phantasm","displayName","use_selected_hero","max_level","naga_siren_mirror_image","dark_seer_wall_of_replica","outgoing_damage_scepter","morphling_replicate","phantom_lancer_doppelwalk","phantom_lancer_juxtapose","phantom_lancer_spirit_lance","shadow_demon_disruption","spectre_haunt","terrorblade_conjure_image","terrorblade_reflection","item_manta","is_item","illusionOptionsArray","stackableItems","levelItems","itemsWithActive","BasicInventoryViewModel","addItem","selectedItem","new_item","state","itemInputValue","toggleItem","removeItem","toggleMuteItem","getItemImage","getItemSizeLabel","getActiveBorder","getItemAttributeValue","itemOptionsArray","itemBuffOptions","itemDebuffOptions","hasInventory","isEthereal","totalCost","itemcost","addItemBuff","selectedItemBuff","addItemDebuff","selectedItemDebuff","debuff","attributetype","aList","attributeList","hasBoots","hasEuls","hasWindLace","bootItems","hasYasha","hasDrums","hasDrumsActive","hasPhaseActive","hasShadowBladeActive","hasButterflyActive","hasMoMActive","yashaItems","hasPowerTreads","itemOptions","ItemInput","ItemAliases","itemAlias","itemDebuffs","validItems","core","Data","Util","HeroOptions","BuffOptions","DebuffOptions","ItemOptions","ItemBuffOptions","ItemDebuffOptions","arrLoop","url","successCallback","errorCallback","request","XMLHttpRequest","open","onload","status","responseText","onerror","send","myVar","String","util","union","uniqueId","uniques","idCounter","prefix","l","factory","unionArrays","res","extendObject","destination","source","destType","getType","bothArrays","obj1","obj2","merged","fillOptions","rawOptions","otherOptions","recognizedRootProperties","ignore","mergeArrays","include","copy","observe","defaultOptions","mappedProperties","copiedProperties","arrayGetDistinctValues","withProxyDependentObservable","dependentObservables","localDO","dependentObservable","owner","realDeferEvaluation","isRemoved","DO","tmp","realKoDependentObservable","isWriteable","isWriteableObservable","wrapped","arrayRemoveItem","DEBUG","_wrapper","__DO","realDependentObservable","updateViewModel","mappedRootObject","rootObject","parentName","parentPropertyName","mappedParent","isArray","isMapped","previousMapping","mappingProperty","callbackParams","hasCreateCallback","createCallback","skip","emptyReturn","hasUpdateCallback","updateCallback","params","alreadyMapped","visitedObjects","get","changes","hasKeyCallback","keyCallback","isObservable","mappedRemove","valueOrPredicate","predicate","mappedRemoveAll","arrayOfValues","arrayOfKeys","filterArrayByKey","arrayIndexOf","mappedDestroy","mappedDestroyAll","mappedIndexOf","mappedGet","mappedCreate","Error","currentArrayKeys","newArrayKeys","editScript","compareArrays","ignoreIndexOf","unwrappedRootObject","itemsByKey","optimizedKeys","newContents","passedOver","mappedItem","fullPropertyName","getItemByKey","ignorableIndexOf","arrayChanged","arrayForEach","change","canHaveProperties","visitPropertiesOrArrayEntries","indexer","prevMappedProperty","retval","hasCreateOrUpdateCallback","ignoreIndices","mapKey","arrayMap","visitorCallback","propertyName","object","getPropertyName","simpleObjectLookup","existingIndex","objectLookup","buckets","findBucket","bucketKey","bucket","mappingNesting","_defaultOptions","viewModel","unwrapped","fromJS","jsObject","pop","fromJSON","jsonString","parsed","parseJson","updateFromJS","updateFromJSON","toJS","resetDefaultOptions","visitModel","toJSON","plainJavaScriptObject","stringifyJson","propertyValue","previouslyMappedValue","typeOf","unwrapObject","isComputed","unwrap","unwrapArray","reset","parents","lvl","wrapObject","computedFunctions","currentLvl","hasES5Plugin","track","wrapArray","jQuery","$","expr","createPseudo","dataName","elem","match","disableSelection","createElement","on","preventDefault","enableSelection","off","visibility","css","ui","focusable","hasTabindex","mapName","img","focusableIfVisible","fieldset","nodeName","toLowerCase","href","is","disabled","closest","attr","ie","exec","navigator","userAgent","keyCode","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","plugin","add","option","set","proto","plugins","allowDisconnected","nodeType","getOffsets","offsets","rpercent","parseCss","getDimensions","raw","offset","isWindow","scrollTop","scrollLeft","pageY","pageX","outerWidth","outerHeight","cachedScrollbarWidth","rhorizontal","rvertical","roffset","rposition","_position","position","scrollbarWidth","w1","w2","div","innerDiv","children","append","offsetWidth","getScrollInfo","within","overflowX","isDocument","overflowY","hasOverflowX","scrollWidth","hasOverflowY","scrollHeight","getWithinInfo","withinElement","hasOffset","of","atOffset","targetWidth","targetHeight","targetOffset","basePosition","dimensions","scrollInfo","collision","at","horizontalOffset","verticalOffset","pos","collisionPosition","using","elemWidth","elemHeight","marginLeft","marginTop","collisionWidth","collisionHeight","myOffset","my","dir","right","bottom","feedback","horizontal","vertical","important","newOverRight","withinOffset","collisionPosLeft","overLeft","overRight","newOverBottom","collisionPosTop","overTop","overBottom","flip","newOverLeft","offsetLeft","newOverTop","offsetTop","flipfit","safeActiveElement","error","body","safeBlur","trigger","scrollParent","includeHidden","excludeStaticParent","overflowRegex","eq","ownerDocument","tabbable","tabIndex","uuid","removeUniqueId","removeAttr","version","widgetUuid","widgetSlice","cleanData","orig","elems","_data","triggerHandler","widget","existingConstructor","basePrototype","proxiedPrototype","namespace","fullName","Widget","_createWidget","_proto","_childConstructors","isFunction","_super","_superApply","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","bridge","input","inputIndex","inputLength","isPlainObject","isMethodCall","methodValue","charAt","jquery","pushStack","_init","defaultElement","classes","eventNamespace","bindings","hoverable","classesElementLookup","_on","parentWindow","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","that","_destroy","_removeClass","curOption","_setOptions","_setOption","_setOptionClasses","classKey","elements","currentElements","addClass","_classes","_toggleClass","enable","disable","processClassString","checkOption","unique","not","full","extra","_untrackClassesElement","inArray","_addClass","toggleClass","suppressDisabledCheck","handlers","delegateElement","handlerProxy","hasClass","guid","selector","_off","_delay","_hoverable","mouseenter","mouseleave","_focusable","focusin","focusout","Event","isDefaultPrevented","show","hide","defaultEffect","effect","hasOptions","effectName","isEmptyObject","complete","effects","queue","next","appendTo","autoFocus","minLength","close","focus","response","search","select","requestIndex","pending","suppressKeyPress","suppressKeyPressRepeat","suppressInput","isTextarea","isInput","isMultiLine","_isContentEditable","valueMethod","isNewMenu","keydown","_move","_keyEvent","menu","_value","term","_searchTimeout","keypress","blur","cancelBlur","searching","_change","_initSource","_appendTo","role","mousedown","menufocus","one","trim","liveRegion","menuselect","aria-live","aria-relevant","beforeunload","xhr","abort","_isEventTargetInWidget","menuElement","contains","_closeOnClickOutside","autocomplete","ajax","dataType","success","equalValues","menuVisible","modifierKey","altKey","ctrlKey","metaKey","shiftKey","_search","cancelSearch","_response","proxy","content","__response","_normalize","_suggest","_close","ul","empty","_renderMenu","refresh","_resizeMenu","_renderItemData","_renderItem","direction","isFirstItem","isLastItem","keyEvent","editable","escapeRegex","matcher","RegExp","grep","messages","noResults","results","amount","message","ui-button","icon","iconPosition","showLabel","originalLabel","html","hasTitle","_enhance","keyup","click","_updateIcon","_updateTooltip","displayBlock","_attachIcon","iconSpace","_attachIconSpace","newShowLabel","newIcon","isDisabled","uiBackCompat","button","icons","primary","secondary","tagName","checkboxradio","buttonset","controlgroup","autoOpen","buttons","ui-dialog","ui-dialog-titlebar","closeOnEscape","closeText","draggable","maxHeight","maxWidth","minHeight","minWidth","modal","topOffset","resizable","beforeClose","drag","dragStart","dragStop","resizeStart","resizeStop","sizeRelatedOptions","resizableRelatedOptions","originalCss","originalPosition","originalTitle","_createWrapper","uiDialog","_createTitlebar","_createButtonPane","_makeDraggable","_makeResizable","_isOpen","_trackFocus","_untrackInstance","_destroyOverlay","detach","before","_focusedElement","opener","_hide","isOpen","moveToTop","_moveToTop","moved","zIndices","siblings","zIndexMax","_focusTabbable","_size","_createOverlay","overlay","_show","_makeFocusTarget","hasFocus","uiDialogButtonPane","uiDialogTitlebarClose","_keepFocus","checkFocus","tabbables","first","last","aria-describedby","uiDialogTitle","uiDialogTitlebar","prependTo","_title","aria-labelledby","uiButtonSet","_createButtons","buttonOptions","filteredUi","cancel","handle","containment","start","_blockFrames","_unblockFrames","originalSize","handles","resizeHandles","alsoResize","_minHeight","_trackingInstances","exists","isVisible","resizableOptions","isDraggable","isResizable","nonContentHeight","minContentHeight","maxContentHeight","iframeBlocks","iframe","_allowInteraction","isOpening","overlays","dialog","dialogClass","removeClass","mouse","addClasses","axis","connectToSortable","cursor","cursorAt","grid","helper","iframeFix","opacity","refreshPositions","revert","revertDuration","scope","scroll","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","_setPositionRelative","_setHandleClassName","_mouseInit","_removeHandleClassName","destroyOnClear","_mouseDestroy","_mouseCapture","_getHandle","_blurActiveElement","_mouseStart","_createHelper","_cacheHelperProportions","ddmanager","_cacheMargins","cssPosition","offsetParent","hasFixedAncestor","positionAbs","_refreshOffsets","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","_mouseDrag","margins","_getParentOffset","relative","_getRelativeOffset","noPropagation","_convertPositionTo","_uiHash","_mouseUp","_mouseStop","dropped","drop","animate","handleElement","helperIsFunction","helperProportions","_isRootNode","po","scrollIsRootNode","isUserScrollable","ce","relativeContainer","offsetHeight","mod","constrainPosition","co","cancelHelperRemoval","uiSortable","sortables","sortable","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","scrolled","snapElements","$t","$o","inst","ts","bs","ls","rs","x1","x2","y1","y2","snapping","release","snapItem","group","makeArray","_zIndex","submenu","menus","activeMenu","mouseHandled","mousedown .ui-menu-item","click .ui-menu-item","isPropagationStopped","has","expand","timer","mouseenter .ui-menu-item","previousFilter","actualTarget","mouseleave .ui-menu","keepActiveItem","notContained","collapseAll","_closeOnDocumentClick","submenus","addBack","_keydown","prev","character","previousPage","nextPage","collapse","_activate","fromCharCode","filterTimer","_filterMenuItems","nextAll","newSubmenus","newItems","newWrappers","aria-hidden","aria-expanded","submenuCaret","prepend","_isDivider","_itemRole","listbox","nested","focused","activeParent","_scrollIntoView","_startOpening","borderTop","paddingTop","elementHeight","itemHeight","_hasScroll","fromFocus","_open","all","currentMenu","startMenu","newItem","prevAll","escapedCharacter","regex","_mouseDown","stopImmediatePropagation","started","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseDownEvent","btnIsLeft","which","elIsCancel","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseMove","documentMode","ignoreMissingWhich","animateDuration","animateEasing","autoHide","ui-resizable-se","ghost","_num","_isNumber","_aspectRatio","originalElement","_proportionallyResizeElements","elementIsWrapper","marginRight","marginBottom","originalResizeStyle","zoom","_proportionallyResize","_setupHandles","_handles","resizing","wrapper","exp","insertAfter","_removeHandles","hname","w","se","sw","ne","nw","_renderAxis","padPos","padWrapper","className","capture","curleft","curtop","_renderProxy","sizeDiff","originalMousePosition","_propagate","smp","dx","dy","_updatePrevProperties","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","_applyChanges","pr","ista","soffseth","soffsetw","prevPosition","prevSize","forceAspectRatio","pMinWidth","pMaxWidth","pMinHeight","pMaxHeight","Infinity","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","_getPaddingPlusBorderDimensions","widths","borders","paddings","prel","outerDimensions","elementOffset","cs","sp","step","oc","containerElement","containerOffset","containerPosition","parentData","containerSize","innerHeight","woset","hoset","isParent","isOffsetRelative","cp","pRatio","cop","continueResize","ho","os","op","delta","sum","margin","removeChild","gridX","gridY","ox","oy","isMaxWidth","isMaxHeight","isMinWidth","isMinHeight","spinnerModifer","_refresh","ui-spinner","ui-spinner-down","ui-spinner-up","culture","down","up","incremental","numberFormat","page","spin","_draw","_events","_start","_stop","mousewheel","spinning","_spin","mousewheelTimer","mousedown .ui-spinner-button","_repeat","mouseup .ui-spinner-button","mouseenter .ui-spinner-button","mouseleave .ui-spinner-button","uiSpinner","counter","_adjustValue","_increment","_precision","_precisionOf","decimal","aboveMin","prevValue","_parse","_format","Globalize","format","aria-valuemin","aria-valuemax","aria-valuenow","isValid","allowAny","replaceWith","stepUp","_stepUp","stepDown","_stepDown","pageUp","pages","pageDown","newVal","spinner","_uiSpinnerHtml","_buttonHtml","loaded","m","setupJSON","_rollbarConfig","globalAlias","u","shimId","Rollbar","RollbarNotifier","Notifier","_rollbarWrappedError","uncaughtError","_wrapped","configure","captureUncaught","isType","_rollbarOldOnError","belongsToShim","captureUnhandledRejections","_unhandledRejectionHandler","reason","promise","detail","unhandledRejection","processPayloads","E","f","_","DEFAULT_ENDPOINT","endpoint","environment","scrubFields","DEFAULT_SCRUB_FIELDS","checkIgnore","logLevel","DEFAULT_LOG_LEVEL","reportLevel","DEFAULT_REPORT_LEVEL","uncaughtErrorLevel","DEFAULT_UNCAUGHT_ERROR_LEVEL","payload","lastError","parentNotifier","notifier","_rollbarPayloadQueue","_getLogArgs","_log","err","guessErrorClass","exception","class","description","frames","filename","sanitizeUrl","lineno","line","func","colno","column","code","pre","post","reverse","trace","endpointUrl","accessToken","getTime","L","R","_globalRollbarOptions","maxItems","itemsPerMinute","ignoreRateLimit","T","RETRY_DELAY","XHR","ConnectionError","NOTIFIER_VERSION","DEFAULT_ITEMS_PER_MIN","DEFAULT_MAX_ITEMS","LEVELS","debug","info","warning","critical","typeName","DOMException","extraArgs","_route","substring","_processShimQueue","shim","parentShim","_buildPayload","uuid4","platform","framework","language","_buildBody","query_string","user_ip","client","runtime_ms","timestamp","javascript","browser","cookie_enabled","cookieEnabled","screen","_getBrowserPlugins","server","access_token","_scrub","_browserPlugins","redact","_getScrubFieldRegexs","_getScrubQueryParamRegexs","traverse","_urlIsWhitelisted","hostWhiteList","_messageIsIgnored","ignoredMessages","_enqueuePayload","_internalCheckIgnore","verbose","logFunction","transform","ignoreAjaxErrors","isAjax","_savedStackTrace","guessFunctionName","gatherContext","mode","useragent","_rollbarContext","_isWrap","_wrappedSource","loadFull","topLevelNotifier","_stackFrame","fileName","lineNumber","functionName","columnNumber","Stack","Frame","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","parseOpera9","parseOpera11","parseOpera10","setFunctionName","setArgs","setFileName","setLineNumber","setColumnNumber","setSource","getFunctionName","getArgs","TypeError","getFileName","getLineNumber","Number","getColumnNumber","getSource","parser","strictMode","q","anchor","query","random","strict","loose","parseUri","parseUriOptions","XMLHttpFactories","ActiveXObject","createXMLHTTPObject","readyState","setRequestHeader","onreadystatechange","XDomainRequest","onprogress","ontimeout","inventoryClipBoard","GraphPropertyOption","isQWER","BuildExplorerViewModel","itemBuild","skillBuild","graphDataItemRows","carryOver","toggleItemBuildCarryOver","abilityMapData","abilityMapHero","selectedHero","abilityMap","newMap","abilityValue","abilityIndex","availableSkillBuildPoints","getSkillBuildAbilityLevel","toggleAbilitySkillBuild","skillBuildSlice","IsValidAbilityLevel","heroLevel","resetItemBuild","resetAllItemBuilds","resetSkillBuild","graphData","graphDataHeader","graphDataDescription","graphProperties","graph","savedAbilityLevels","savedLevel","savedItems","savedActiveItems","carryOverItems","carryOverActiveItems","skillBuildSubset","dataObj","header","cumulativeSkillBuild","skillBuildAtLevel","removeGraphDataSet","selectedGraphProperty","graphChartOptions","graphChartData","graphDistinctColor","alpha","rgba","hslToRgb","getDistinctColor","hue2rgb","showGraphItemBuildRows","showGraphSkillBuildColumns","graphRowHasItems","selectInventory","getSelectedInventory","copyInventory","copyInventoryToClipBoard","pasteInventoryFromClipBoard","loadGraphData","sectionDisplay","graphChartContext","exportImage","HeroCalc","DamageAmpViewModel","HeroDamageAmpMixin","CloneViewModel","bound","buff","damageamp","illusion","skillbuild","skillbuild-skills","skillbuild-items","sectionDisplayToggle","section","showUnitTab","showDiff","showCriticalStrikeDetails","showDamageDetails","showStatDetails","showDamageAmpCalcDetails","getAbilityDamageAmpValue","getDamageMultiplierSources","components","register","getItemTooltipData","getAbilityTooltipData","HeroViewModel","UnitViewModel","PlayerColors","Tab","TabGroup","illusions","HeroCalculatorViewModel","tooltipURL","heroes","enemies","otherHeroes","selectedCompare","availableCompare","selectedEnemy","availableEnemies","selectedUnit","availableUnits","tabs","vm","tabsArr","tabGroup","layout","displayShop","displayShopItemTooltip","allItems","selectedItems","moveUp","end","moveDown","selectedTabId","getSelectedTab","tabId","indices","tab","selectedTab","selectedTabs","boundSettings","clickTab","buildExplorer","valueHasMutated","isSecondTab","showSideTabId","sideView","removeTab","shopPopout","$window","windowWidth","windowHeight","shopDock","shopDockTrigger","dblclick","changeSelectedItem","getItemInputLabel","saveLink","getAppState","getSaveData","enemyIndex","heroCompareIndex","serialized","protocol","host","pathname","file","failure","errMsg","alert","load","availableHeroes","sendReport","email","done","getProperty","properties","getDiffTextWrapper","getDiffText","getDiffMagnitude","highlightedTabInternal","highlightedTab","throttle","highlightTab","unhighlightTab","DamageInstance","damageBrackets","getDamageAfterBracket","initialDamage","bracket","processDamageAmpReducBracket","getDamageAmpReducInstance","getDamageAmpReduc","sourcesAmp","sourcesReduc","b4","damageInputValue","damageInputModified","IllusionViewModel","HeroOption2","availableIllusions","selectedIllusion","illusionAbilityMaxLevel","addIllusion","playerColorCss","heroOption","setHeroOptionStyling","applyBindingsToNode","selectedUnitLevel","getParameterByName","decodeURIComponent","bindingHandlers","stopBinding","controlsDescendantBindings","virtualElements","allowedBindings","lazyBinding","valueAccessor","allBindingsAccessor","bindingContext","domData","isBound","applyBindingsToDescendants","itemBuildTable","pressedKeys","keyDownHandler","keyUpHandler","$hoveredRows","fadeOut","fadeIn","domNodeDisposal","addDisposeCallback","unbind","preventBubble","registerEventHandler","cancelBubble","stopPropagation","toggle","shopDockStyle","$data","overflow-y","logger","allBindings","$element","isToolTipVisible","origAnimation","popover","popoverBindingValues","popoverData","popoverEl","$tip","buttonPosition","buttonDimensions","popoverDimensions","placement","newCanvas","getContext","chartType","chartOptions","chartContext","myChart","$root","spinnerOptions","secondTab","second-tab","hoverTab","hoverPaneStyle","diffStyle","diffPos","diffNeg","diffCss","stat","diffCssStat","jqAuto","writeValueToModel","modelValue","jqAutoValue","jqAutoSource","valueProp","jqAutoSourceValue","inputValueProp","jqAutoSourceInputValue","labelProp","jqAutoSourceLabel","actualValue","currentValue","matchingItem","arrayFirst","mappedSource","mapped","jqAutoCombo","autoEl","ability_vars","$health","$mana","$armor","$damage","$str","$int","$agi","$all","$attack","$hp_regen","$mana_regen","$move_speed","$evasion","$spell_resist","$selected_attribute","$selected_attrib","$cast_range","$attack_range","abilityTooltipData","abilityDamageTypes","DAMAGE_TYPE_MAGICAL","DAMAGE_TYPE_PURE","DAMAGE_TYPE_PHYSICAL","DAMAGE_TYPE_COMPOSITE","DAMAGE_TYPE_HP_REMOVAL","tooltipJSON","getTooltipAbilityDescription","regexp","getTooltipAbilityAttributes","attributeTooltip","attributeValues","trimmedAttributeValues","getTooltipAbilityManaCost","manacost","every","getTooltipAbilityCooldown","abilityunitdamagetype","attributedata","cdmanacost","lore","itemtooltipdata","getTooltipItemDescription","getTooltipItemAttributes","getTooltipItemCooldown","getTooltipItemManaCost","initSource","async","computedDeferred","initialValue","currentDeferred","plainObservable","inProgress","reject","newDeferred","Deferred","resolve","list","thisArg","ViewModel","Line","App","appConfig","addUserAction","userActions","actionTrackWrapper","src","textContent","getAttribute","callbackWrap","argumentIndex","wrapperFactory","eventFilter","original","abilityTooltipPath","deferUpdates","applyBindings","saveId","lastUpdate","rollbarConfig","source_map_enabled","code_version","guess_uncaught_frames","rollbar","old","logEl","querySelector","msg","classList","closeBtn","innerHTML","onclick","appendChild","reportEl","clientLogCreated","heroCalcState","appState"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 1.1.1\n *\n * Copyright 2015 Nick Downie\n * Released under the MIT license\n * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md\n */\n\n\n(function(){\n\n\t\"use strict\";\n\n\t//Declare root variable - window in the browser, global on the server\n\tvar root = this,\n\t\tprevious = root.Chart;\n\n\t//Occupy the global variable of Chart, and create a simple base class\n\tvar Chart = function(context){\n\t\tvar chart = this;\n\t\tthis.canvas = context.canvas;\n\n\t\tthis.ctx = context;\n\n\t\t//Variables global to the chart\n\t\tvar computeDimension = function(element,dimension)\n\t\t{\n\t\t\tif (element['offset'+dimension])\n\t\t\t{\n\t\t\t\treturn element['offset'+dimension];\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\treturn document.defaultView.getComputedStyle(element).getPropertyValue(dimension);\n\t\t\t}\n\t\t};\n\n\t\tvar width = this.width = computeDimension(context.canvas,'Width') || context.canvas.width;\n\t\tvar height = this.height = computeDimension(context.canvas,'Height') || context.canvas.height;\n\n\t\tthis.aspectRatio = this.width / this.height;\n\t\t//High pixel density displays - multiply the size of the canvas height/width by the device pixel ratio, then scale.\n\t\thelpers.retinaScale(this);\n\n\t\treturn this;\n\t};\n\t//Globally expose the defaults to allow for user updating/changing\n\tChart.defaults = {\n\t\tglobal: {\n\t\t\t// Boolean - Whether to animate the chart\n\t\t\tanimation: true,\n\n\t\t\t// Number - Number of animation steps\n\t\t\tanimationSteps: 60,\n\n\t\t\t// String - Animation easing effect\n\t\t\tanimationEasing: \"easeOutQuart\",\n\n\t\t\t// Boolean - If we should show the scale at all\n\t\t\tshowScale: true,\n\n\t\t\t// Boolean - If we want to override with a hard coded scale\n\t\t\tscaleOverride: false,\n\n\t\t\t// ** Required if scaleOverride is true **\n\t\t\t// Number - The number of steps in a hard coded scale\n\t\t\tscaleSteps: null,\n\t\t\t// Number - The value jump in the hard coded scale\n\t\t\tscaleStepWidth: null,\n\t\t\t// Number - The scale starting value\n\t\t\tscaleStartValue: null,\n\n\t\t\t// String - Colour of the scale line\n\t\t\tscaleLineColor: \"rgba(0,0,0,.1)\",\n\n\t\t\t// Number - Pixel width of the scale line\n\t\t\tscaleLineWidth: 1,\n\n\t\t\t// Boolean - Whether to show labels on the scale\n\t\t\tscaleShowLabels: true,\n\n\t\t\t// Interpolated JS string - can access value\n\t\t\tscaleLabel: \"<%=value%>\",\n\n\t\t\t// Boolean - Whether the scale should stick to integers, and not show any floats even if drawing space is there\n\t\t\tscaleIntegersOnly: true,\n\n\t\t\t// Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n\t\t\tscaleBeginAtZero: false,\n\n\t\t\t// String - Scale label font declaration for the scale label\n\t\t\tscaleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Scale label font size in pixels\n\t\t\tscaleFontSize: 12,\n\n\t\t\t// String - Scale label font weight style\n\t\t\tscaleFontStyle: \"normal\",\n\n\t\t\t// String - Scale label font colour\n\t\t\tscaleFontColor: \"#666\",\n\n\t\t\t// Boolean - whether or not the chart should be responsive and resize when the browser does.\n\t\t\tresponsive: false,\n\n\t\t\t// Boolean - whether to maintain the starting aspect ratio or not when responsive, if set to false, will take up entire container\n\t\t\tmaintainAspectRatio: true,\n\n\t\t\t// Boolean - Determines whether to draw tooltips on the canvas or not - attaches events to touchmove & mousemove\n\t\t\tshowTooltips: true,\n\n\t\t\t// Boolean - Determines whether to draw built-in tooltip or call custom tooltip function\n\t\t\tcustomTooltips: false,\n\n\t\t\t// Array - Array of string names to attach tooltip events\n\t\t\ttooltipEvents: [\"mousemove\", \"touchstart\", \"touchmove\", \"mouseout\"],\n\n\t\t\t// String - Tooltip background colour\n\t\t\ttooltipFillColor: \"rgba(0,0,0,0.8)\",\n\n\t\t\t// String - Tooltip label font declaration for the scale label\n\t\t\ttooltipFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Tooltip label font size in pixels\n\t\t\ttooltipFontSize: 14,\n\n\t\t\t// String - Tooltip font weight style\n\t\t\ttooltipFontStyle: \"normal\",\n\n\t\t\t// String - Tooltip label font colour\n\t\t\ttooltipFontColor: \"#fff\",\n\n\t\t\t// String - Tooltip title font declaration for the scale label\n\t\t\ttooltipTitleFontFamily: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n\n\t\t\t// Number - Tooltip title font size in pixels\n\t\t\ttooltipTitleFontSize: 14,\n\n\t\t\t// String - Tooltip title font weight style\n\t\t\ttooltipTitleFontStyle: \"bold\",\n\n\t\t\t// String - Tooltip title font colour\n\t\t\ttooltipTitleFontColor: \"#fff\",\n\n\t\t\t// String - Tooltip title template\n\t\t\ttooltipTitleTemplate: \"<%= label%>\",\n\n\t\t\t// Number - pixel width of padding around tooltip text\n\t\t\ttooltipYPadding: 6,\n\n\t\t\t// Number - pixel width of padding around tooltip text\n\t\t\ttooltipXPadding: 6,\n\n\t\t\t// Number - Size of the caret on the tooltip\n\t\t\ttooltipCaretSize: 8,\n\n\t\t\t// Number - Pixel radius of the tooltip border\n\t\t\ttooltipCornerRadius: 6,\n\n\t\t\t// Number - Pixel offset from point x to tooltip edge\n\t\t\ttooltipXOffset: 10,\n\n\t\t\t// String - Template string for single tooltips\n\t\t\ttooltipTemplate: \"<%if (label){%><%=label%>: <%}%><%= value %>\",\n\n\t\t\t// String - Template string for single tooltips\n\t\t\tmultiTooltipTemplate: \"<%= datasetLabel %>: <%= value %>\",\n\n\t\t\t// String - Colour behind the legend colour block\n\t\t\tmultiTooltipKeyBackground: '#fff',\n\n\t\t\t// Array - A list of colors to use as the defaults\n\t\t\tsegmentColorDefault: [\"#A6CEE3\", \"#1F78B4\", \"#B2DF8A\", \"#33A02C\", \"#FB9A99\", \"#E31A1C\", \"#FDBF6F\", \"#FF7F00\", \"#CAB2D6\", \"#6A3D9A\", \"#B4B482\", \"#B15928\" ],\n\n\t\t\t// Array - A list of highlight colors to use as the defaults\n\t\t\tsegmentHighlightColorDefaults: [ \"#CEF6FF\", \"#47A0DC\", \"#DAFFB2\", \"#5BC854\", \"#FFC2C1\", \"#FF4244\", \"#FFE797\", \"#FFA728\", \"#F2DAFE\", \"#9265C2\", \"#DCDCAA\", \"#D98150\" ],\n\n\t\t\t// Function - Will fire on animation progression.\n\t\t\tonAnimationProgress: function(){},\n\n\t\t\t// Function - Will fire on animation completion.\n\t\t\tonAnimationComplete: function(){}\n\n\t\t}\n\t};\n\n\t//Create a dictionary of chart types, to allow for extension of existing types\n\tChart.types = {};\n\n\t//Global Chart helpers object for utility methods and classes\n\tvar helpers = Chart.helpers = {};\n\n\t\t//-- Basic js utility methods\n\tvar each = helpers.each = function(loopable,callback,self){\n\t\t\tvar additionalArgs = Array.prototype.slice.call(arguments, 3);\n\t\t\t// Check to see if null or undefined firstly.\n\t\t\tif (loopable){\n\t\t\t\tif (loopable.length === +loopable.length){\n\t\t\t\t\tvar i;\n\t\t\t\t\tfor (i=0; i<loopable.length; i++){\n\t\t\t\t\t\tcallback.apply(self,[loopable[i], i].concat(additionalArgs));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tfor (var item in loopable){\n\t\t\t\t\t\tcallback.apply(self,[loopable[item],item].concat(additionalArgs));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tclone = helpers.clone = function(obj){\n\t\t\tvar objClone = {};\n\t\t\teach(obj,function(value,key){\n\t\t\t\tif (obj.hasOwnProperty(key)){\n\t\t\t\t\tobjClone[key] = value;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn objClone;\n\t\t},\n\t\textend = helpers.extend = function(base){\n\t\t\teach(Array.prototype.slice.call(arguments,1), function(extensionObject) {\n\t\t\t\teach(extensionObject,function(value,key){\n\t\t\t\t\tif (extensionObject.hasOwnProperty(key)){\n\t\t\t\t\t\tbase[key] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn base;\n\t\t},\n\t\tmerge = helpers.merge = function(base,master){\n\t\t\t//Merge properties in left object over to a shallow clone of object right.\n\t\t\tvar args = Array.prototype.slice.call(arguments,0);\n\t\t\targs.unshift({});\n\t\t\treturn extend.apply(null, args);\n\t\t},\n\t\tindexOf = helpers.indexOf = function(arrayToSearch, item){\n\t\t\tif (Array.prototype.indexOf) {\n\t\t\t\treturn arrayToSearch.indexOf(item);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfor (var i = 0; i < arrayToSearch.length; i++) {\n\t\t\t\t\tif (arrayToSearch[i] === item) return i;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t},\n\t\twhere = helpers.where = function(collection, filterCallback){\n\t\t\tvar filtered = [];\n\n\t\t\thelpers.each(collection, function(item){\n\t\t\t\tif (filterCallback(item)){\n\t\t\t\t\tfiltered.push(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn filtered;\n\t\t},\n\t\tfindNextWhere = helpers.findNextWhere = function(arrayToSearch, filterCallback, startIndex){\n\t\t\t// Default to start of the array\n\t\t\tif (!startIndex){\n\t\t\t\tstartIndex = -1;\n\t\t\t}\n\t\t\tfor (var i = startIndex + 1; i < arrayToSearch.length; i++) {\n\t\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\t\tif (filterCallback(currentItem)){\n\t\t\t\t\treturn currentItem;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tfindPreviousWhere = helpers.findPreviousWhere = function(arrayToSearch, filterCallback, startIndex){\n\t\t\t// Default to end of the array\n\t\t\tif (!startIndex){\n\t\t\t\tstartIndex = arrayToSearch.length;\n\t\t\t}\n\t\t\tfor (var i = startIndex - 1; i >= 0; i--) {\n\t\t\t\tvar currentItem = arrayToSearch[i];\n\t\t\t\tif (filterCallback(currentItem)){\n\t\t\t\t\treturn currentItem;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tinherits = helpers.inherits = function(extensions){\n\t\t\t//Basic javascript inheritance based on the model created in Backbone.js\n\t\t\tvar parent = this;\n\t\t\tvar ChartElement = (extensions && extensions.hasOwnProperty(\"constructor\")) ? extensions.constructor : function(){ return parent.apply(this, arguments); };\n\n\t\t\tvar Surrogate = function(){ this.constructor = ChartElement;};\n\t\t\tSurrogate.prototype = parent.prototype;\n\t\t\tChartElement.prototype = new Surrogate();\n\n\t\t\tChartElement.extend = inherits;\n\n\t\t\tif (extensions) extend(ChartElement.prototype, extensions);\n\n\t\t\tChartElement.__super__ = parent.prototype;\n\n\t\t\treturn ChartElement;\n\t\t},\n\t\tnoop = helpers.noop = function(){},\n\t\tuid = helpers.uid = (function(){\n\t\t\tvar id=0;\n\t\t\treturn function(){\n\t\t\t\treturn \"chart-\" + id++;\n\t\t\t};\n\t\t})(),\n\t\twarn = helpers.warn = function(str){\n\t\t\t//Method for warning of errors\n\t\t\tif (window.console && typeof window.console.warn === \"function\") console.warn(str);\n\t\t},\n\t\tamd = helpers.amd = (typeof define === 'function' && define.amd),\n\t\t//-- Math methods\n\t\tisNumber = helpers.isNumber = function(n){\n\t\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t\t},\n\t\tmax = helpers.max = function(array){\n\t\t\treturn Math.max.apply( Math, array );\n\t\t},\n\t\tmin = helpers.min = function(array){\n\t\t\treturn Math.min.apply( Math, array );\n\t\t},\n\t\tcap = helpers.cap = function(valueToCap,maxValue,minValue){\n\t\t\tif(isNumber(maxValue)) {\n\t\t\t\tif( valueToCap > maxValue ) {\n\t\t\t\t\treturn maxValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(isNumber(minValue)){\n\t\t\t\tif ( valueToCap < minValue ){\n\t\t\t\t\treturn minValue;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn valueToCap;\n\t\t},\n\t\tgetDecimalPlaces = helpers.getDecimalPlaces = function(num){\n\t\t\tif (num%1!==0 && isNumber(num)){\n\t\t\t\tvar s = num.toString();\n\t\t\t\tif(s.indexOf(\"e-\") < 0){\n\t\t\t\t\t// no exponent, e.g. 0.01\n\t\t\t\t\treturn s.split(\".\")[1].length;\n\t\t\t\t}\n\t\t\t\telse if(s.indexOf(\".\") < 0) {\n\t\t\t\t\t// no decimal point, e.g. 1e-9\n\t\t\t\t\treturn parseInt(s.split(\"e-\")[1]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// exponent and decimal point, e.g. 1.23e-9\n\t\t\t\t\tvar parts = s.split(\".\")[1].split(\"e-\");\n\t\t\t\t\treturn parts[0].length + parseInt(parts[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\ttoRadians = helpers.radians = function(degrees){\n\t\t\treturn degrees * (Math.PI/180);\n\t\t},\n\t\t// Gets the angle from vertical upright to the point about a centre.\n\t\tgetAngleFromPoint = helpers.getAngleFromPoint = function(centrePoint, anglePoint){\n\t\t\tvar distanceFromXCenter = anglePoint.x - centrePoint.x,\n\t\t\t\tdistanceFromYCenter = anglePoint.y - centrePoint.y,\n\t\t\t\tradialDistanceFromCenter = Math.sqrt( distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n\n\n\t\t\tvar angle = Math.PI * 2 + Math.atan2(distanceFromYCenter, distanceFromXCenter);\n\n\t\t\t//If the segment is in the top left quadrant, we need to add another rotation to the angle\n\t\t\tif (distanceFromXCenter < 0 && distanceFromYCenter < 0){\n\t\t\t\tangle += Math.PI*2;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tangle: angle,\n\t\t\t\tdistance: radialDistanceFromCenter\n\t\t\t};\n\t\t},\n\t\taliasPixel = helpers.aliasPixel = function(pixelWidth){\n\t\t\treturn (pixelWidth % 2 === 0) ? 0 : 0.5;\n\t\t},\n\t\tsplineCurve = helpers.splineCurve = function(FirstPoint,MiddlePoint,AfterPoint,t){\n\t\t\t//Props to Rob Spencer at scaled innovation for his post on splining between points\n\t\t\t//http://scaledinnovation.com/analytics/splines/aboutSplines.html\n\t\t\tvar d01=Math.sqrt(Math.pow(MiddlePoint.x-FirstPoint.x,2)+Math.pow(MiddlePoint.y-FirstPoint.y,2)),\n\t\t\t\td12=Math.sqrt(Math.pow(AfterPoint.x-MiddlePoint.x,2)+Math.pow(AfterPoint.y-MiddlePoint.y,2)),\n\t\t\t\tfa=t*d01/(d01+d12),// scaling factor for triangle Ta\n\t\t\t\tfb=t*d12/(d01+d12);\n\t\t\treturn {\n\t\t\t\tinner : {\n\t\t\t\t\tx : MiddlePoint.x-fa*(AfterPoint.x-FirstPoint.x),\n\t\t\t\t\ty : MiddlePoint.y-fa*(AfterPoint.y-FirstPoint.y)\n\t\t\t\t},\n\t\t\t\touter : {\n\t\t\t\t\tx: MiddlePoint.x+fb*(AfterPoint.x-FirstPoint.x),\n\t\t\t\t\ty : MiddlePoint.y+fb*(AfterPoint.y-FirstPoint.y)\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tcalculateOrderOfMagnitude = helpers.calculateOrderOfMagnitude = function(val){\n\t\t\treturn Math.floor(Math.log(val) / Math.LN10);\n\t\t},\n\t\tcalculateScaleRange = helpers.calculateScaleRange = function(valuesArray, drawingSize, textSize, startFromZero, integersOnly){\n\n\t\t\t//Set a minimum step of two - a point at the top of the graph, and a point at the base\n\t\t\tvar minSteps = 2,\n\t\t\t\tmaxSteps = Math.floor(drawingSize/(textSize * 1.5)),\n\t\t\t\tskipFitting = (minSteps >= maxSteps);\n\n\t\t\t// Filter out null values since these would min() to zero\n\t\t\tvar values = [];\n\t\t\teach(valuesArray, function( v ){\n\t\t\t\tv == null || values.push( v );\n\t\t\t});\n\t\t\tvar minValue = min(values),\n\t\t\t    maxValue = max(values);\n\n\t\t\t// We need some degree of separation here to calculate the scales if all the values are the same\n\t\t\t// Adding/minusing 0.5 will give us a range of 1.\n\t\t\tif (maxValue === minValue){\n\t\t\t\tmaxValue += 0.5;\n\t\t\t\t// So we don't end up with a graph with a negative start value if we've said always start from zero\n\t\t\t\tif (minValue >= 0.5 && !startFromZero){\n\t\t\t\t\tminValue -= 0.5;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t// Make up a whole number above the values\n\t\t\t\t\tmaxValue += 0.5;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar\tvalueRange = Math.abs(maxValue - minValue),\n\t\t\t\trangeOrderOfMagnitude = calculateOrderOfMagnitude(valueRange),\n\t\t\t\tgraphMax = Math.ceil(maxValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tgraphMin = (startFromZero) ? 0 : Math.floor(minValue / (1 * Math.pow(10, rangeOrderOfMagnitude))) * Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tgraphRange = graphMax - graphMin,\n\t\t\t\tstepValue = Math.pow(10, rangeOrderOfMagnitude),\n\t\t\t\tnumberOfSteps = Math.round(graphRange / stepValue);\n\n\t\t\t//If we have more space on the graph we'll use it to give more definition to the data\n\t\t\twhile((numberOfSteps > maxSteps || (numberOfSteps * 2) < maxSteps) && !skipFitting) {\n\t\t\t\tif(numberOfSteps > maxSteps){\n\t\t\t\t\tstepValue *=2;\n\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t// Don't ever deal with a decimal number of steps - cancel fitting and just use the minimum number of steps.\n\t\t\t\t\tif (numberOfSteps % 1 !== 0){\n\t\t\t\t\t\tskipFitting = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//We can fit in double the amount of scale points on the scale\n\t\t\t\telse{\n\t\t\t\t\t//If user has declared ints only, and the step value isn't a decimal\n\t\t\t\t\tif (integersOnly && rangeOrderOfMagnitude >= 0){\n\t\t\t\t\t\t//If the user has said integers only, we need to check that making the scale more granular wouldn't make it a float\n\t\t\t\t\t\tif(stepValue/2 % 1 === 0){\n\t\t\t\t\t\t\tstepValue /=2;\n\t\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//If it would make it a float break out of the loop\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t//If the scale doesn't have to be an int, make the scale more granular anyway.\n\t\t\t\t\telse{\n\t\t\t\t\t\tstepValue /=2;\n\t\t\t\t\t\tnumberOfSteps = Math.round(graphRange/stepValue);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (skipFitting){\n\t\t\t\tnumberOfSteps = minSteps;\n\t\t\t\tstepValue = graphRange / numberOfSteps;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tsteps : numberOfSteps,\n\t\t\t\tstepValue : stepValue,\n\t\t\t\tmin : graphMin,\n\t\t\t\tmax\t: graphMin + (numberOfSteps * stepValue)\n\t\t\t};\n\n\t\t},\n\t\t/* jshint ignore:start */\n\t\t// Blows up jshint errors based on the new Function constructor\n\t\t//Templating methods\n\t\t//Javascript micro templating by John Resig - source at http://ejohn.org/blog/javascript-micro-templating/\n\t\ttemplate = helpers.template = function(templateString, valuesObject){\n\n\t\t\t// If templateString is function rather than string-template - call the function for valuesObject\n\n\t\t\tif(templateString instanceof Function){\n\t\t\t \treturn templateString(valuesObject);\n\t\t \t}\n\n\t\t\tvar cache = {};\n\t\t\tfunction tmpl(str, data){\n\t\t\t\t// Figure out if we're getting a template, or if we need to\n\t\t\t\t// load the template - and be sure to cache the result.\n\t\t\t\tvar fn = !/\\W/.test(str) ?\n\t\t\t\tcache[str] = cache[str] :\n\n\t\t\t\t// Generate a reusable function that will serve as a template\n\t\t\t\t// generator (and which will be cached).\n\t\t\t\tnew Function(\"obj\",\n\t\t\t\t\t\"var p=[],print=function(){p.push.apply(p,arguments);};\" +\n\n\t\t\t\t\t// Introduce the data as local variables using with(){}\n\t\t\t\t\t\"with(obj){p.push('\" +\n\n\t\t\t\t\t// Convert the template into pure JavaScript\n\t\t\t\t\tstr\n\t\t\t\t\t\t.replace(/[\\r\\t\\n]/g, \" \")\n\t\t\t\t\t\t.split(\"<%\").join(\"\\t\")\n\t\t\t\t\t\t.replace(/((^|%>)[^\\t]*)'/g, \"$1\\r\")\n\t\t\t\t\t\t.replace(/\\t=(.*?)%>/g, \"',$1,'\")\n\t\t\t\t\t\t.split(\"\\t\").join(\"');\")\n\t\t\t\t\t\t.split(\"%>\").join(\"p.push('\")\n\t\t\t\t\t\t.split(\"\\r\").join(\"\\\\'\") +\n\t\t\t\t\t\"');}return p.join('');\"\n\t\t\t\t);\n\n\t\t\t\t// Provide some basic currying to the user\n\t\t\t\treturn data ? fn( data ) : fn;\n\t\t\t}\n\t\t\treturn tmpl(templateString,valuesObject);\n\t\t},\n\t\t/* jshint ignore:end */\n\t\tgenerateLabels = helpers.generateLabels = function(templateString,numberOfSteps,graphMin,stepValue){\n\t\t\tvar labelsArray = new Array(numberOfSteps);\n\t\t\tif (templateString){\n\t\t\t\teach(labelsArray,function(val,index){\n\t\t\t\t\tlabelsArray[index] = template(templateString,{value: (graphMin + (stepValue*(index+1)))});\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn labelsArray;\n\t\t},\n\t\t//--Animation methods\n\t\t//Easing functions adapted from Robert Penner's easing equations\n\t\t//http://www.robertpenner.com/easing/\n\t\teasingEffects = helpers.easingEffects = {\n\t\t\tlinear: function (t) {\n\t\t\t\treturn t;\n\t\t\t},\n\t\t\teaseInQuad: function (t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\t\t\teaseOutQuad: function (t) {\n\t\t\t\treturn -1 * t * (t - 2);\n\t\t\t},\n\t\t\teaseInOutQuad: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn 1 / 2 * t * t;\n\t\t\t\t}\n\t\t\t\treturn -1 / 2 * ((--t) * (t - 2) - 1);\n\t\t\t},\n\t\t\teaseInCubic: function (t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\t\t\teaseOutCubic: function (t) {\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t + 1);\n\t\t\t},\n\t\t\teaseInOutCubic: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn 1 / 2 * t * t * t;\n\t\t\t\t}\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t + 2);\n\t\t\t},\n\t\t\teaseInQuart: function (t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\t\t\teaseOutQuart: function (t) {\n\t\t\t\treturn -1 * ((t = t / 1 - 1) * t * t * t - 1);\n\t\t\t},\n\t\t\teaseInOutQuart: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn 1 / 2 * t * t * t * t;\n\t\t\t\t}\n\t\t\t\treturn -1 / 2 * ((t -= 2) * t * t * t - 2);\n\t\t\t},\n\t\t\teaseInQuint: function (t) {\n\t\t\t\treturn 1 * (t /= 1) * t * t * t * t;\n\t\t\t},\n\t\t\teaseOutQuint: function (t) {\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * t * t * t + 1);\n\t\t\t},\n\t\t\teaseInOutQuint: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn 1 / 2 * t * t * t * t * t;\n\t\t\t\t}\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * t * t * t + 2);\n\t\t\t},\n\t\t\teaseInSine: function (t) {\n\t\t\t\treturn -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1;\n\t\t\t},\n\t\t\teaseOutSine: function (t) {\n\t\t\t\treturn 1 * Math.sin(t / 1 * (Math.PI / 2));\n\t\t\t},\n\t\t\teaseInOutSine: function (t) {\n\t\t\t\treturn -1 / 2 * (Math.cos(Math.PI * t / 1) - 1);\n\t\t\t},\n\t\t\teaseInExpo: function (t) {\n\t\t\t\treturn (t === 0) ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1));\n\t\t\t},\n\t\t\teaseOutExpo: function (t) {\n\t\t\t\treturn (t === 1) ? 1 : 1 * (-Math.pow(2, -10 * t / 1) + 1);\n\t\t\t},\n\t\t\teaseInOutExpo: function (t) {\n\t\t\t\tif (t === 0){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif (t === 1){\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn 1 / 2 * Math.pow(2, 10 * (t - 1));\n\t\t\t\t}\n\t\t\t\treturn 1 / 2 * (-Math.pow(2, -10 * --t) + 2);\n\t\t\t},\n\t\t\teaseInCirc: function (t) {\n\t\t\t\tif (t >= 1){\n\t\t\t\t\treturn t;\n\t\t\t\t}\n\t\t\t\treturn -1 * (Math.sqrt(1 - (t /= 1) * t) - 1);\n\t\t\t},\n\t\t\teaseOutCirc: function (t) {\n\t\t\t\treturn 1 * Math.sqrt(1 - (t = t / 1 - 1) * t);\n\t\t\t},\n\t\t\teaseInOutCirc: function (t) {\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn -1 / 2 * (Math.sqrt(1 - t * t) - 1);\n\t\t\t\t}\n\t\t\t\treturn 1 / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n\t\t\t},\n\t\t\teaseInElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif ((t /= 1) == 1){\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (!p){\n\t\t\t\t\tp = 1 * 0.3;\n\t\t\t\t}\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else{\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\t}\n\t\t\t\treturn -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));\n\t\t\t},\n\t\t\teaseOutElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif ((t /= 1) == 1){\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (!p){\n\t\t\t\t\tp = 1 * 0.3;\n\t\t\t\t}\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else{\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\t}\n\t\t\t\treturn a * Math.pow(2, -10 * t) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) + 1;\n\t\t\t},\n\t\t\teaseInOutElastic: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tvar p = 0;\n\t\t\t\tvar a = 1;\n\t\t\t\tif (t === 0){\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tif ((t /= 1 / 2) == 2){\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (!p){\n\t\t\t\t\tp = 1 * (0.3 * 1.5);\n\t\t\t\t}\n\t\t\t\tif (a < Math.abs(1)) {\n\t\t\t\t\ta = 1;\n\t\t\t\t\ts = p / 4;\n\t\t\t\t} else {\n\t\t\t\t\ts = p / (2 * Math.PI) * Math.asin(1 / a);\n\t\t\t\t}\n\t\t\t\tif (t < 1){\n\t\t\t\t\treturn -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p));}\n\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * 1 - s) * (2 * Math.PI) / p) * 0.5 + 1;\n\t\t\t},\n\t\t\teaseInBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\treturn 1 * (t /= 1) * t * ((s + 1) * t - s);\n\t\t\t},\n\t\t\teaseOutBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\treturn 1 * ((t = t / 1 - 1) * t * ((s + 1) * t + s) + 1);\n\t\t\t},\n\t\t\teaseInOutBack: function (t) {\n\t\t\t\tvar s = 1.70158;\n\t\t\t\tif ((t /= 1 / 2) < 1){\n\t\t\t\t\treturn 1 / 2 * (t * t * (((s *= (1.525)) + 1) * t - s));\n\t\t\t\t}\n\t\t\t\treturn 1 / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n\t\t\t},\n\t\t\teaseInBounce: function (t) {\n\t\t\t\treturn 1 - easingEffects.easeOutBounce(1 - t);\n\t\t\t},\n\t\t\teaseOutBounce: function (t) {\n\t\t\t\tif ((t /= 1) < (1 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * t * t);\n\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75);\n\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375);\n\t\t\t\t} else {\n\t\t\t\t\treturn 1 * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375);\n\t\t\t\t}\n\t\t\t},\n\t\t\teaseInOutBounce: function (t) {\n\t\t\t\tif (t < 1 / 2){\n\t\t\t\t\treturn easingEffects.easeInBounce(t * 2) * 0.5;\n\t\t\t\t}\n\t\t\t\treturn easingEffects.easeOutBounce(t * 2 - 1) * 0.5 + 1 * 0.5;\n\t\t\t}\n\t\t},\n\t\t//Request animation polyfill - http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\n\t\trequestAnimFrame = helpers.requestAnimFrame = (function(){\n\t\t\treturn window.requestAnimationFrame ||\n\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\treturn window.setTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t})(),\n\t\tcancelAnimFrame = helpers.cancelAnimFrame = (function(){\n\t\t\treturn window.cancelAnimationFrame ||\n\t\t\t\twindow.webkitCancelAnimationFrame ||\n\t\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\t\twindow.oCancelAnimationFrame ||\n\t\t\t\twindow.msCancelAnimationFrame ||\n\t\t\t\tfunction(callback) {\n\t\t\t\t\treturn window.clearTimeout(callback, 1000 / 60);\n\t\t\t\t};\n\t\t})(),\n\t\tanimationLoop = helpers.animationLoop = function(callback,totalSteps,easingString,onProgress,onComplete,chartInstance){\n\n\t\t\tvar currentStep = 0,\n\t\t\t\teasingFunction = easingEffects[easingString] || easingEffects.linear;\n\n\t\t\tvar animationFrame = function(){\n\t\t\t\tcurrentStep++;\n\t\t\t\tvar stepDecimal = currentStep/totalSteps;\n\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\n\t\t\t\tcallback.call(chartInstance,easeDecimal,stepDecimal, currentStep);\n\t\t\t\tonProgress.call(chartInstance,easeDecimal,stepDecimal);\n\t\t\t\tif (currentStep < totalSteps){\n\t\t\t\t\tchartInstance.animationFrame = requestAnimFrame(animationFrame);\n\t\t\t\t} else{\n\t\t\t\t\tonComplete.apply(chartInstance);\n\t\t\t\t}\n\t\t\t};\n\t\t\trequestAnimFrame(animationFrame);\n\t\t},\n\t\t//-- DOM methods\n\t\tgetRelativePosition = helpers.getRelativePosition = function(evt){\n\t\t\tvar mouseX, mouseY;\n\t\t\tvar e = evt.originalEvent || evt,\n\t\t\t\tcanvas = evt.currentTarget || evt.srcElement,\n\t\t\t\tboundingRect = canvas.getBoundingClientRect();\n\n\t\t\tif (e.touches){\n\t\t\t\tmouseX = e.touches[0].clientX - boundingRect.left;\n\t\t\t\tmouseY = e.touches[0].clientY - boundingRect.top;\n\n\t\t\t}\n\t\t\telse{\n\t\t\t\tmouseX = e.clientX - boundingRect.left;\n\t\t\t\tmouseY = e.clientY - boundingRect.top;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx : mouseX,\n\t\t\t\ty : mouseY\n\t\t\t};\n\n\t\t},\n\t\taddEvent = helpers.addEvent = function(node,eventType,method){\n\t\t\tif (node.addEventListener){\n\t\t\t\tnode.addEventListener(eventType,method);\n\t\t\t} else if (node.attachEvent){\n\t\t\t\tnode.attachEvent(\"on\"+eventType, method);\n\t\t\t} else {\n\t\t\t\tnode[\"on\"+eventType] = method;\n\t\t\t}\n\t\t},\n\t\tremoveEvent = helpers.removeEvent = function(node, eventType, handler){\n\t\t\tif (node.removeEventListener){\n\t\t\t\tnode.removeEventListener(eventType, handler, false);\n\t\t\t} else if (node.detachEvent){\n\t\t\t\tnode.detachEvent(\"on\"+eventType,handler);\n\t\t\t} else{\n\t\t\t\tnode[\"on\" + eventType] = noop;\n\t\t\t}\n\t\t},\n\t\tbindEvents = helpers.bindEvents = function(chartInstance, arrayOfEvents, handler){\n\t\t\t// Create the events object if it's not already present\n\t\t\tif (!chartInstance.events) chartInstance.events = {};\n\n\t\t\teach(arrayOfEvents,function(eventName){\n\t\t\t\tchartInstance.events[eventName] = function(){\n\t\t\t\t\thandler.apply(chartInstance, arguments);\n\t\t\t\t};\n\t\t\t\taddEvent(chartInstance.chart.canvas,eventName,chartInstance.events[eventName]);\n\t\t\t});\n\t\t},\n\t\tunbindEvents = helpers.unbindEvents = function (chartInstance, arrayOfEvents) {\n\t\t\teach(arrayOfEvents, function(handler,eventName){\n\t\t\t\tremoveEvent(chartInstance.chart.canvas, eventName, handler);\n\t\t\t});\n\t\t},\n\t\tgetMaximumWidth = helpers.getMaximumWidth = function(domNode){\n\t\t\tvar container = domNode.parentNode,\n\t\t\t    padding = parseInt(getStyle(container, 'padding-left')) + parseInt(getStyle(container, 'padding-right'));\n\t\t\t// TODO = check cross browser stuff with this.\n\t\t\treturn container ? container.clientWidth - padding : 0;\n\t\t},\n\t\tgetMaximumHeight = helpers.getMaximumHeight = function(domNode){\n\t\t\tvar container = domNode.parentNode,\n\t\t\t    padding = parseInt(getStyle(container, 'padding-bottom')) + parseInt(getStyle(container, 'padding-top'));\n\t\t\t// TODO = check cross browser stuff with this.\n\t\t\treturn container ? container.clientHeight - padding : 0;\n\t\t},\n\t\tgetStyle = helpers.getStyle = function (el, property) {\n\t\t\treturn el.currentStyle ?\n\t\t\t\tel.currentStyle[property] :\n\t\t\t\tdocument.defaultView.getComputedStyle(el, null).getPropertyValue(property);\n\t\t},\n\t\tgetMaximumSize = helpers.getMaximumSize = helpers.getMaximumWidth, // legacy support\n\t\tretinaScale = helpers.retinaScale = function(chart){\n\t\t\tvar ctx = chart.ctx,\n\t\t\t\twidth = chart.canvas.width,\n\t\t\t\theight = chart.canvas.height;\n\n\t\t\tif (window.devicePixelRatio) {\n\t\t\t\tctx.canvas.style.width = width + \"px\";\n\t\t\t\tctx.canvas.style.height = height + \"px\";\n\t\t\t\tctx.canvas.height = height * window.devicePixelRatio;\n\t\t\t\tctx.canvas.width = width * window.devicePixelRatio;\n\t\t\t\tctx.scale(window.devicePixelRatio, window.devicePixelRatio);\n\t\t\t}\n\t\t},\n\t\t//-- Canvas methods\n\t\tclear = helpers.clear = function(chart){\n\t\t\tchart.ctx.clearRect(0,0,chart.width,chart.height);\n\t\t},\n\t\tfontString = helpers.fontString = function(pixelSize,fontStyle,fontFamily){\n\t\t\treturn fontStyle + \" \" + pixelSize+\"px \" + fontFamily;\n\t\t},\n\t\tlongestText = helpers.longestText = function(ctx,font,arrayOfStrings){\n\t\t\tctx.font = font;\n\t\t\tvar longest = 0;\n\t\t\teach(arrayOfStrings,function(string){\n\t\t\t\tvar textWidth = ctx.measureText(string).width;\n\t\t\t\tlongest = (textWidth > longest) ? textWidth : longest;\n\t\t\t});\n\t\t\treturn longest;\n\t\t},\n\t\tdrawRoundedRectangle = helpers.drawRoundedRectangle = function(ctx,x,y,width,height,radius){\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(x + radius, y);\n\t\t\tctx.lineTo(x + width - radius, y);\n\t\t\tctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n\t\t\tctx.lineTo(x + width, y + height - radius);\n\t\t\tctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n\t\t\tctx.lineTo(x + radius, y + height);\n\t\t\tctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n\t\t\tctx.lineTo(x, y + radius);\n\t\t\tctx.quadraticCurveTo(x, y, x + radius, y);\n\t\t\tctx.closePath();\n\t\t};\n\n\n\t//Store a reference to each instance - allowing us to globally resize chart instances on window resize.\n\t//Destroy method on the chart will remove the instance of the chart from this reference.\n\tChart.instances = {};\n\n\tChart.Type = function(data,options,chart){\n\t\tthis.options = options;\n\t\tthis.chart = chart;\n\t\tthis.id = uid();\n\t\t//Add the chart instance to the global namespace\n\t\tChart.instances[this.id] = this;\n\n\t\t// Initialize is always called when a chart type is created\n\t\t// By default it is a no op, but it should be extended\n\t\tif (options.responsive){\n\t\t\tthis.resize();\n\t\t}\n\t\tthis.initialize.call(this,data);\n\t};\n\n\t//Core methods that'll be a part of every chart type\n\textend(Chart.Type.prototype,{\n\t\tinitialize : function(){return this;},\n\t\tclear : function(){\n\t\t\tclear(this.chart);\n\t\t\treturn this;\n\t\t},\n\t\tstop : function(){\n\t\t\t// Stops any current animation loop occuring\n\t\t\tChart.animationService.cancelAnimation(this);\n\t\t\treturn this;\n\t\t},\n\t\tresize : function(callback){\n\t\t\tthis.stop();\n\t\t\tvar canvas = this.chart.canvas,\n\t\t\t\tnewWidth = getMaximumWidth(this.chart.canvas),\n\t\t\t\tnewHeight = this.options.maintainAspectRatio ? newWidth / this.chart.aspectRatio : getMaximumHeight(this.chart.canvas);\n\n\t\t\tcanvas.width = this.chart.width = newWidth;\n\t\t\tcanvas.height = this.chart.height = newHeight;\n\n\t\t\tretinaScale(this.chart);\n\n\t\t\tif (typeof callback === \"function\"){\n\t\t\t\tcallback.apply(this, Array.prototype.slice.call(arguments, 1));\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\treflow : noop,\n\t\trender : function(reflow){\n\t\t\tif (reflow){\n\t\t\t\tthis.reflow();\n\t\t\t}\n\t\t\t\n\t\t\tif (this.options.animation && !reflow){\n\t\t\t\tvar animation = new Chart.Animation();\n\t\t\t\tanimation.numSteps = this.options.animationSteps;\n\t\t\t\tanimation.easing = this.options.animationEasing;\n\t\t\t\t\n\t\t\t\t// render function\n\t\t\t\tanimation.render = function(chartInstance, animationObject) {\n\t\t\t\t\tvar easingFunction = helpers.easingEffects[animationObject.easing];\n\t\t\t\t\tvar stepDecimal = animationObject.currentStep / animationObject.numSteps;\n\t\t\t\t\tvar easeDecimal = easingFunction(stepDecimal);\n\t\t\t\t\t\n\t\t\t\t\tchartInstance.draw(easeDecimal, stepDecimal, animationObject.currentStep);\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// user events\n\t\t\t\tanimation.onAnimationProgress = this.options.onAnimationProgress;\n\t\t\t\tanimation.onAnimationComplete = this.options.onAnimationComplete;\n\t\t\t\t\n\t\t\t\tChart.animationService.addAnimation(this, animation);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.draw();\n\t\t\t\tthis.options.onAnimationComplete.call(this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgenerateLegend : function(){\n\t\t\treturn helpers.template(this.options.legendTemplate, this);\n\t\t},\n\t\tdestroy : function(){\n\t\t\tthis.stop();\n\t\t\tthis.clear();\n\t\t\tunbindEvents(this, this.events);\n\t\t\tvar canvas = this.chart.canvas;\n\n\t\t\t// Reset canvas height/width attributes starts a fresh with the canvas context\n\t\t\tcanvas.width = this.chart.width;\n\t\t\tcanvas.height = this.chart.height;\n\n\t\t\t// < IE9 doesn't support removeProperty\n\t\t\tif (canvas.style.removeProperty) {\n\t\t\t\tcanvas.style.removeProperty('width');\n\t\t\t\tcanvas.style.removeProperty('height');\n\t\t\t} else {\n\t\t\t\tcanvas.style.removeAttribute('width');\n\t\t\t\tcanvas.style.removeAttribute('height');\n\t\t\t}\n\n\t\t\tdelete Chart.instances[this.id];\n\t\t},\n\t\tshowTooltip : function(ChartElements, forceRedraw){\n\t\t\t// Only redraw the chart if we've actually changed what we're hovering on.\n\t\t\tif (typeof this.activeElements === 'undefined') this.activeElements = [];\n\n\t\t\tvar isChanged = (function(Elements){\n\t\t\t\tvar changed = false;\n\n\t\t\t\tif (Elements.length !== this.activeElements.length){\n\t\t\t\t\tchanged = true;\n\t\t\t\t\treturn changed;\n\t\t\t\t}\n\n\t\t\t\teach(Elements, function(element, index){\n\t\t\t\t\tif (element !== this.activeElements[index]){\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t\treturn changed;\n\t\t\t}).call(this, ChartElements);\n\n\t\t\tif (!isChanged && !forceRedraw){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.activeElements = ChartElements;\n\t\t\t}\n\t\t\tthis.draw();\n\t\t\tif(this.options.customTooltips){\n\t\t\t\tthis.options.customTooltips(false);\n\t\t\t}\n\t\t\tif (ChartElements.length > 0){\n\t\t\t\t// If we have multiple datasets, show a MultiTooltip for all of the data points at that index\n\t\t\t\tif (this.datasets && this.datasets.length > 1) {\n\t\t\t\t\tvar dataArray,\n\t\t\t\t\t\tdataIndex;\n\n\t\t\t\t\tfor (var i = this.datasets.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tdataArray = this.datasets[i].points || this.datasets[i].bars || this.datasets[i].segments;\n\t\t\t\t\t\tdataIndex = indexOf(dataArray, ChartElements[0]);\n\t\t\t\t\t\tif (dataIndex !== -1){\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar tooltipLabels = [],\n\t\t\t\t\t\ttooltipColors = [],\n\t\t\t\t\t\tmedianPosition = (function(index) {\n\n\t\t\t\t\t\t\t// Get all the points at that particular index\n\t\t\t\t\t\t\tvar Elements = [],\n\t\t\t\t\t\t\t\tdataCollection,\n\t\t\t\t\t\t\t\txPositions = [],\n\t\t\t\t\t\t\t\tyPositions = [],\n\t\t\t\t\t\t\t\txMax,\n\t\t\t\t\t\t\t\tyMax,\n\t\t\t\t\t\t\t\txMin,\n\t\t\t\t\t\t\t\tyMin;\n\t\t\t\t\t\t\thelpers.each(this.datasets, function(dataset){\n\t\t\t\t\t\t\t\tdataCollection = dataset.points || dataset.bars || dataset.segments;\n\t\t\t\t\t\t\t\tif (dataCollection[dataIndex] && dataCollection[dataIndex].hasValue()){\n\t\t\t\t\t\t\t\t\tElements.push(dataCollection[dataIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\thelpers.each(Elements, function(element) {\n\t\t\t\t\t\t\t\txPositions.push(element.x);\n\t\t\t\t\t\t\t\tyPositions.push(element.y);\n\n\n\t\t\t\t\t\t\t\t//Include any colour information about the element\n\t\t\t\t\t\t\t\ttooltipLabels.push(helpers.template(this.options.multiTooltipTemplate, element));\n\t\t\t\t\t\t\t\ttooltipColors.push({\n\t\t\t\t\t\t\t\t\tfill: element._saved.fillColor || element.fillColor,\n\t\t\t\t\t\t\t\t\tstroke: element._saved.strokeColor || element.strokeColor\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}, this);\n\n\t\t\t\t\t\t\tyMin = min(yPositions);\n\t\t\t\t\t\t\tyMax = max(yPositions);\n\n\t\t\t\t\t\t\txMin = min(xPositions);\n\t\t\t\t\t\t\txMax = max(xPositions);\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tx: (xMin > this.chart.width/2) ? xMin : xMax,\n\t\t\t\t\t\t\t\ty: (yMin + yMax)/2\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}).call(this, dataIndex);\n\n\t\t\t\t\tnew Chart.MultiTooltip({\n\t\t\t\t\t\tx: medianPosition.x,\n\t\t\t\t\t\ty: medianPosition.y,\n\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\txOffset: this.options.tooltipXOffset,\n\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\ttitleTextColor: this.options.tooltipTitleFontColor,\n\t\t\t\t\t\ttitleFontFamily: this.options.tooltipTitleFontFamily,\n\t\t\t\t\t\ttitleFontStyle: this.options.tooltipTitleFontStyle,\n\t\t\t\t\t\ttitleFontSize: this.options.tooltipTitleFontSize,\n\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\tlabels: tooltipLabels,\n\t\t\t\t\t\tlegendColors: tooltipColors,\n\t\t\t\t\t\tlegendColorBackground : this.options.multiTooltipKeyBackground,\n\t\t\t\t\t\ttitle: template(this.options.tooltipTitleTemplate,ChartElements[0]),\n\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\tctx: this.chart.ctx,\n\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t}).draw();\n\n\t\t\t\t} else {\n\t\t\t\t\teach(ChartElements, function(Element) {\n\t\t\t\t\t\tvar tooltipPosition = Element.tooltipPosition();\n\t\t\t\t\t\tnew Chart.Tooltip({\n\t\t\t\t\t\t\tx: Math.round(tooltipPosition.x),\n\t\t\t\t\t\t\ty: Math.round(tooltipPosition.y),\n\t\t\t\t\t\t\txPadding: this.options.tooltipXPadding,\n\t\t\t\t\t\t\tyPadding: this.options.tooltipYPadding,\n\t\t\t\t\t\t\tfillColor: this.options.tooltipFillColor,\n\t\t\t\t\t\t\ttextColor: this.options.tooltipFontColor,\n\t\t\t\t\t\t\tfontFamily: this.options.tooltipFontFamily,\n\t\t\t\t\t\t\tfontStyle: this.options.tooltipFontStyle,\n\t\t\t\t\t\t\tfontSize: this.options.tooltipFontSize,\n\t\t\t\t\t\t\tcaretHeight: this.options.tooltipCaretSize,\n\t\t\t\t\t\t\tcornerRadius: this.options.tooltipCornerRadius,\n\t\t\t\t\t\t\ttext: template(this.options.tooltipTemplate, Element),\n\t\t\t\t\t\t\tchart: this.chart,\n\t\t\t\t\t\t\tcustom: this.options.customTooltips\n\t\t\t\t\t\t}).draw();\n\t\t\t\t\t}, this);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\ttoBase64Image : function(){\n\t\t\treturn this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments);\n\t\t}\n\t});\n\n\tChart.Type.extend = function(extensions){\n\n\t\tvar parent = this;\n\n\t\tvar ChartType = function(){\n\t\t\treturn parent.apply(this,arguments);\n\t\t};\n\n\t\t//Copy the prototype object of the this class\n\t\tChartType.prototype = clone(parent.prototype);\n\t\t//Now overwrite some of the properties in the base class with the new extensions\n\t\textend(ChartType.prototype, extensions);\n\n\t\tChartType.extend = Chart.Type.extend;\n\n\t\tif (extensions.name || parent.prototype.name){\n\n\t\t\tvar chartName = extensions.name || parent.prototype.name;\n\t\t\t//Assign any potential default values of the new chart type\n\n\t\t\t//If none are defined, we'll use a clone of the chart type this is being extended from.\n\t\t\t//I.e. if we extend a line chart, we'll use the defaults from the line chart if our new chart\n\t\t\t//doesn't define some defaults of their own.\n\n\t\t\tvar baseDefaults = (Chart.defaults[parent.prototype.name]) ? clone(Chart.defaults[parent.prototype.name]) : {};\n\n\t\t\tChart.defaults[chartName] = extend(baseDefaults,extensions.defaults);\n\n\t\t\tChart.types[chartName] = ChartType;\n\n\t\t\t//Register this new chart type in the Chart prototype\n\t\t\tChart.prototype[chartName] = function(data,options){\n\t\t\t\tvar config = merge(Chart.defaults.global, Chart.defaults[chartName], options || {});\n\t\t\t\treturn new ChartType(data,config,this);\n\t\t\t};\n\t\t} else{\n\t\t\twarn(\"Name not provided for this chart, so it hasn't been registered\");\n\t\t}\n\t\treturn parent;\n\t};\n\n\tChart.Element = function(configuration){\n\t\textend(this,configuration);\n\t\tthis.initialize.apply(this,arguments);\n\t\tthis.save();\n\t};\n\textend(Chart.Element.prototype,{\n\t\tinitialize : function(){},\n\t\trestore : function(props){\n\t\t\tif (!props){\n\t\t\t\textend(this,this._saved);\n\t\t\t} else {\n\t\t\t\teach(props,function(key){\n\t\t\t\t\tthis[key] = this._saved[key];\n\t\t\t\t},this);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tsave : function(){\n\t\t\tthis._saved = clone(this);\n\t\t\tdelete this._saved._saved;\n\t\t\treturn this;\n\t\t},\n\t\tupdate : function(newProps){\n\t\t\teach(newProps,function(value,key){\n\t\t\t\tthis._saved[key] = this[key];\n\t\t\t\tthis[key] = value;\n\t\t\t},this);\n\t\t\treturn this;\n\t\t},\n\t\ttransition : function(props,ease){\n\t\t\teach(props,function(value,key){\n\t\t\t\tthis[key] = ((value - this._saved[key]) * ease) + this._saved[key];\n\t\t\t},this);\n\t\t\treturn this;\n\t\t},\n\t\ttooltipPosition : function(){\n\t\t\treturn {\n\t\t\t\tx : this.x,\n\t\t\t\ty : this.y\n\t\t\t};\n\t\t},\n\t\thasValue: function(){\n\t\t\treturn isNumber(this.value);\n\t\t}\n\t});\n\n\tChart.Element.extend = inherits;\n\n\n\tChart.Point = Chart.Element.extend({\n\t\tdisplay: true,\n\t\tinRange: function(chartX,chartY){\n\t\t\tvar hitDetectionRange = this.hitDetectionRadius + this.radius;\n\t\t\treturn ((Math.pow(chartX-this.x, 2)+Math.pow(chartY-this.y, 2)) < Math.pow(hitDetectionRange,2));\n\t\t},\n\t\tdraw : function(){\n\t\t\tif (this.display){\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.arc(this.x, this.y, this.radius, 0, Math.PI*2);\n\t\t\t\tctx.closePath();\n\n\t\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\t\tctx.fill();\n\t\t\t\tctx.stroke();\n\t\t\t}\n\n\n\t\t\t//Quick debug for bezier curve splining\n\t\t\t//Highlights control points and the line between them.\n\t\t\t//Handy for dev - stripped in the min version.\n\n\t\t\t// ctx.save();\n\t\t\t// ctx.fillStyle = \"black\";\n\t\t\t// ctx.strokeStyle = \"black\"\n\t\t\t// ctx.beginPath();\n\t\t\t// ctx.arc(this.controlPoints.inner.x,this.controlPoints.inner.y, 2, 0, Math.PI*2);\n\t\t\t// ctx.fill();\n\n\t\t\t// ctx.beginPath();\n\t\t\t// ctx.arc(this.controlPoints.outer.x,this.controlPoints.outer.y, 2, 0, Math.PI*2);\n\t\t\t// ctx.fill();\n\n\t\t\t// ctx.moveTo(this.controlPoints.inner.x,this.controlPoints.inner.y);\n\t\t\t// ctx.lineTo(this.x, this.y);\n\t\t\t// ctx.lineTo(this.controlPoints.outer.x,this.controlPoints.outer.y);\n\t\t\t// ctx.stroke();\n\n\t\t\t// ctx.restore();\n\n\n\n\t\t}\n\t});\n\n\tChart.Arc = Chart.Element.extend({\n\t\tinRange : function(chartX,chartY){\n\n\t\t\tvar pointRelativePosition = helpers.getAngleFromPoint(this, {\n\t\t\t\tx: chartX,\n\t\t\t\ty: chartY\n\t\t\t});\n\n\t\t\t// Normalize all angles to 0 - 2*PI (0 - 360)\n\t\t\tvar pointRelativeAngle = pointRelativePosition.angle % (Math.PI * 2),\n\t\t\t    startAngle = (Math.PI * 2 + this.startAngle) % (Math.PI * 2),\n\t\t\t    endAngle = (Math.PI * 2 + this.endAngle) % (Math.PI * 2) || 360;\n\n\t\t\t// Calculate wether the pointRelativeAngle is between the start and the end angle\n\t\t\tvar betweenAngles = (endAngle < startAngle) ?\n\t\t\t\tpointRelativeAngle <= endAngle || pointRelativeAngle >= startAngle:\n\t\t\t\tpointRelativeAngle >= startAngle && pointRelativeAngle <= endAngle;\n\n\t\t\t//Check if within the range of the open/close angle\n\t\t\tvar withinRadius = (pointRelativePosition.distance >= this.innerRadius && pointRelativePosition.distance <= this.outerRadius);\n\n\t\t\treturn (betweenAngles && withinRadius);\n\t\t\t//Ensure within the outside of the arc centre, but inside arc outer\n\t\t},\n\t\ttooltipPosition : function(){\n\t\t\tvar centreAngle = this.startAngle + ((this.endAngle - this.startAngle) / 2),\n\t\t\t\trangeFromCentre = (this.outerRadius - this.innerRadius) / 2 + this.innerRadius;\n\t\t\treturn {\n\t\t\t\tx : this.x + (Math.cos(centreAngle) * rangeFromCentre),\n\t\t\t\ty : this.y + (Math.sin(centreAngle) * rangeFromCentre)\n\t\t\t};\n\t\t},\n\t\tdraw : function(animationPercent){\n\n\t\t\tvar easingDecimal = animationPercent || 1;\n\n\t\t\tvar ctx = this.ctx;\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.arc(this.x, this.y, this.outerRadius < 0 ? 0 : this.outerRadius, this.startAngle, this.endAngle);\n\n            ctx.arc(this.x, this.y, this.innerRadius < 0 ? 0 : this.innerRadius, this.endAngle, this.startAngle, true);\n\n\t\t\tctx.closePath();\n\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\tctx.fill();\n\t\t\tctx.lineJoin = 'bevel';\n\n\t\t\tif (this.showStroke){\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.Rectangle = Chart.Element.extend({\n\t\tdraw : function(){\n\t\t\tvar ctx = this.ctx,\n\t\t\t\thalfWidth = this.width/2,\n\t\t\t\tleftX = this.x - halfWidth,\n\t\t\t\trightX = this.x + halfWidth,\n\t\t\t\ttop = this.base - (this.base - this.y),\n\t\t\t\thalfStroke = this.strokeWidth / 2;\n\n\t\t\t// Canvas doesn't allow us to stroke inside the width so we can\n\t\t\t// adjust the sizes to fit if we're setting a stroke on the line\n\t\t\tif (this.showStroke){\n\t\t\t\tleftX += halfStroke;\n\t\t\t\trightX -= halfStroke;\n\t\t\t\ttop += halfStroke;\n\t\t\t}\n\n\t\t\tctx.beginPath();\n\n\t\t\tctx.fillStyle = this.fillColor;\n\t\t\tctx.strokeStyle = this.strokeColor;\n\t\t\tctx.lineWidth = this.strokeWidth;\n\n\t\t\t// It'd be nice to keep this class totally generic to any rectangle\n\t\t\t// and simply specify which border to miss out.\n\t\t\tctx.moveTo(leftX, this.base);\n\t\t\tctx.lineTo(leftX, top);\n\t\t\tctx.lineTo(rightX, top);\n\t\t\tctx.lineTo(rightX, this.base);\n\t\t\tctx.fill();\n\t\t\tif (this.showStroke){\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t},\n\t\theight : function(){\n\t\t\treturn this.base - this.y;\n\t\t},\n\t\tinRange : function(chartX,chartY){\n\t\t\treturn (chartX >= this.x - this.width/2 && chartX <= this.x + this.width/2) && (chartY >= this.y && chartY <= this.base);\n\t\t}\n\t});\n\n\tChart.Animation = Chart.Element.extend({\n\t\tcurrentStep: null, // the current animation step\n\t\tnumSteps: 60, // default number of steps\n\t\teasing: \"\", // the easing to use for this animation\n\t\trender: null, // render function used by the animation service\n\t\t\n\t\tonAnimationProgress: null, // user specified callback to fire on each step of the animation \n\t\tonAnimationComplete: null, // user specified callback to fire when the animation finishes\n\t});\n\t\n\tChart.Tooltip = Chart.Element.extend({\n\t\tdraw : function(){\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\n\t\t\tthis.xAlign = \"center\";\n\t\t\tthis.yAlign = \"above\";\n\n\t\t\t//Distance between the actual element.y position and the start of the tooltip caret\n\t\t\tvar caretPadding = this.caretPadding = 2;\n\n\t\t\tvar tooltipWidth = ctx.measureText(this.text).width + 2*this.xPadding,\n\t\t\t\ttooltipRectHeight = this.fontSize + 2*this.yPadding,\n\t\t\t\ttooltipHeight = tooltipRectHeight + this.caretHeight + caretPadding;\n\n\t\t\tif (this.x + tooltipWidth/2 >this.chart.width){\n\t\t\t\tthis.xAlign = \"left\";\n\t\t\t} else if (this.x - tooltipWidth/2 < 0){\n\t\t\t\tthis.xAlign = \"right\";\n\t\t\t}\n\n\t\t\tif (this.y - tooltipHeight < 0){\n\t\t\t\tthis.yAlign = \"below\";\n\t\t\t}\n\n\n\t\t\tvar tooltipX = this.x - tooltipWidth/2,\n\t\t\t\ttooltipY = this.y - tooltipHeight;\n\n\t\t\tctx.fillStyle = this.fillColor;\n\n\t\t\t// Custom Tooltips\n\t\t\tif(this.custom){\n\t\t\t\tthis.custom(this);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tswitch(this.yAlign)\n\t\t\t\t{\n\t\t\t\tcase \"above\":\n\t\t\t\t\t//Draw a caret above the x/y\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(this.x,this.y - caretPadding);\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y - (caretPadding + this.caretHeight));\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y - (caretPadding + this.caretHeight));\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"below\":\n\t\t\t\t\ttooltipY = this.y + caretPadding + this.caretHeight;\n\t\t\t\t\t//Draw a caret below the x/y\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(this.x, this.y + caretPadding);\n\t\t\t\t\tctx.lineTo(this.x + this.caretHeight, this.y + caretPadding + this.caretHeight);\n\t\t\t\t\tctx.lineTo(this.x - this.caretHeight, this.y + caretPadding + this.caretHeight);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tswitch(this.xAlign)\n\t\t\t\t{\n\t\t\t\tcase \"left\":\n\t\t\t\t\ttooltipX = this.x - tooltipWidth + (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"right\":\n\t\t\t\t\ttooltipX = this.x - (this.cornerRadius + this.caretHeight);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tdrawRoundedRectangle(ctx,tooltipX,tooltipY,tooltipWidth,tooltipRectHeight,this.cornerRadius);\n\n\t\t\t\tctx.fill();\n\n\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\tctx.textAlign = \"center\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillText(this.text, tooltipX + tooltipWidth/2, tooltipY + tooltipRectHeight/2);\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.MultiTooltip = Chart.Element.extend({\n\t\tinitialize : function(){\n\t\t\tthis.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\n\t\t\tthis.titleFont = fontString(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);\n\n\t\t\tthis.titleHeight = this.title ? this.titleFontSize * 1.5 : 0;\n\t\t\tthis.height = (this.labels.length * this.fontSize) + ((this.labels.length-1) * (this.fontSize/2)) + (this.yPadding*2) + this.titleHeight;\n\n\t\t\tthis.ctx.font = this.titleFont;\n\n\t\t\tvar titleWidth = this.ctx.measureText(this.title).width,\n\t\t\t\t//Label has a legend square as well so account for this.\n\t\t\t\tlabelWidth = longestText(this.ctx,this.font,this.labels) + this.fontSize + 3,\n\t\t\t\tlongestTextWidth = max([labelWidth,titleWidth]);\n\n\t\t\tthis.width = longestTextWidth + (this.xPadding*2);\n\n\n\t\t\tvar halfHeight = this.height/2;\n\n\t\t\t//Check to ensure the height will fit on the canvas\n\t\t\tif (this.y - halfHeight < 0 ){\n\t\t\t\tthis.y = halfHeight;\n\t\t\t} else if (this.y + halfHeight > this.chart.height){\n\t\t\t\tthis.y = this.chart.height - halfHeight;\n\t\t\t}\n\n\t\t\t//Decide whether to align left or right based on position on canvas\n\t\t\tif (this.x > this.chart.width/2){\n\t\t\t\tthis.x -= this.xOffset + this.width;\n\t\t\t} else {\n\t\t\t\tthis.x += this.xOffset;\n\t\t\t}\n\n\n\t\t},\n\t\tgetLineHeight : function(index){\n\t\t\tvar baseLineHeight = this.y - (this.height/2) + this.yPadding,\n\t\t\t\tafterTitleIndex = index-1;\n\n\t\t\t//If the index is zero, we're getting the title\n\t\t\tif (index === 0){\n\t\t\t\treturn baseLineHeight + this.titleHeight / 3;\n\t\t\t} else{\n\t\t\t\treturn baseLineHeight + ((this.fontSize * 1.5 * afterTitleIndex) + this.fontSize / 2) + this.titleHeight;\n\t\t\t}\n\n\t\t},\n\t\tdraw : function(){\n\t\t\t// Custom Tooltips\n\t\t\tif(this.custom){\n\t\t\t\tthis.custom(this);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tdrawRoundedRectangle(this.ctx,this.x,this.y - this.height/2,this.width,this.height,this.cornerRadius);\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\tctx.fillStyle = this.fillColor;\n\t\t\t\tctx.fill();\n\t\t\t\tctx.closePath();\n\n\t\t\t\tctx.textAlign = \"left\";\n\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\tctx.fillStyle = this.titleTextColor;\n\t\t\t\tctx.font = this.titleFont;\n\n\t\t\t\tctx.fillText(this.title,this.x + this.xPadding, this.getLineHeight(0));\n\n\t\t\t\tctx.font = this.font;\n\t\t\t\thelpers.each(this.labels,function(label,index){\n\t\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\t\tctx.fillText(label,this.x + this.xPadding + this.fontSize + 3, this.getLineHeight(index + 1));\n\n\t\t\t\t\t//A bit gnarly, but clearing this rectangle breaks when using explorercanvas (clears whole canvas)\n\t\t\t\t\t//ctx.clearRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\t\t\t\t\t//Instead we'll make a white filled block to put the legendColour palette over.\n\n\t\t\t\t\tctx.fillStyle = this.legendColorBackground;\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\n\t\t\t\t\tctx.fillStyle = this.legendColors[index].fill;\n\t\t\t\t\tctx.fillRect(this.x + this.xPadding, this.getLineHeight(index + 1) - this.fontSize/2, this.fontSize, this.fontSize);\n\n\n\t\t\t\t},this);\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.Scale = Chart.Element.extend({\n\t\tinitialize : function(){\n\t\t\tthis.fit();\n\t\t},\n\t\tbuildYLabels : function(){\n\t\t\tthis.yLabels = [];\n\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\n\n\t\t\tfor (var i=0; i<=this.steps; i++){\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\n\t\t\t}\n\t\t\tthis.yLabelWidth = (this.display && this.showLabels) ? longestText(this.ctx,this.font,this.yLabels) + 10 : 0;\n\t\t},\n\t\taddXLabel : function(label){\n\t\t\tthis.xLabels.push(label);\n\t\t\tthis.valuesCount++;\n\t\t\tthis.fit();\n\t\t},\n\t\tremoveXLabel : function(){\n\t\t\tthis.xLabels.shift();\n\t\t\tthis.valuesCount--;\n\t\t\tthis.fit();\n\t\t},\n\t\t// Fitting loop to rotate x Labels and figure out what fits there, and also calculate how many Y steps to use\n\t\tfit: function(){\n\t\t\t// First we need the width of the yLabels, assuming the xLabels aren't rotated\n\n\t\t\t// To do that we need the base line at the top and base of the chart, assuming there is no x label rotation\n\t\t\tthis.startPoint = (this.display) ? this.fontSize : 0;\n\t\t\tthis.endPoint = (this.display) ? this.height - (this.fontSize * 1.5) - 5 : this.height; // -5 to pad labels\n\n\t\t\t// Apply padding settings to the start and end point.\n\t\t\tthis.startPoint += this.padding;\n\t\t\tthis.endPoint -= this.padding;\n\n\t\t\t// Cache the starting endpoint, excluding the space for x labels\n\t\t\tvar cachedEndPoint = this.endPoint;\n\n\t\t\t// Cache the starting height, so can determine if we need to recalculate the scale yAxis\n\t\t\tvar cachedHeight = this.endPoint - this.startPoint,\n\t\t\t\tcachedYLabelWidth;\n\n\t\t\t// Build the current yLabels so we have an idea of what size they'll be to start\n\t\t\t/*\n\t\t\t *\tThis sets what is returned from calculateScaleRange as static properties of this class:\n\t\t\t *\n\t\t\t\tthis.steps;\n\t\t\t\tthis.stepValue;\n\t\t\t\tthis.min;\n\t\t\t\tthis.max;\n\t\t\t *\n\t\t\t */\n\t\t\tthis.calculateYRange(cachedHeight);\n\n\t\t\t// With these properties set we can now build the array of yLabels\n\t\t\t// and also the width of the largest yLabel\n\t\t\tthis.buildYLabels();\n\n\t\t\tthis.calculateXLabelRotation();\n\n\t\t\twhile((cachedHeight > this.endPoint - this.startPoint)){\n\t\t\t\tcachedHeight = this.endPoint - this.startPoint;\n\t\t\t\tcachedYLabelWidth = this.yLabelWidth;\n\n\t\t\t\tthis.calculateYRange(cachedHeight);\n\t\t\t\tthis.buildYLabels();\n\n\t\t\t\t// Only go through the xLabel loop again if the yLabel width has changed\n\t\t\t\tif (cachedYLabelWidth < this.yLabelWidth){\n\t\t\t\t\tthis.endPoint = cachedEndPoint;\n\t\t\t\t\tthis.calculateXLabelRotation();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\tcalculateXLabelRotation : function(){\n\t\t\t//Get the width of each grid by calculating the difference\n\t\t\t//between x offsets between 0 and 1.\n\n\t\t\tthis.ctx.font = this.font;\n\n\t\t\tvar firstWidth = this.ctx.measureText(this.xLabels[0]).width,\n\t\t\t\tlastWidth = this.ctx.measureText(this.xLabels[this.xLabels.length - 1]).width,\n\t\t\t\tfirstRotated,\n\t\t\t\tlastRotated;\n\n\n\t\t\tthis.xScalePaddingRight = lastWidth/2 + 3;\n\t\t\tthis.xScalePaddingLeft = (firstWidth/2 > this.yLabelWidth) ? firstWidth/2 : this.yLabelWidth;\n\n\t\t\tthis.xLabelRotation = 0;\n\t\t\tif (this.display){\n\t\t\t\tvar originalLabelWidth = longestText(this.ctx,this.font,this.xLabels),\n\t\t\t\t\tcosRotation,\n\t\t\t\t\tfirstRotatedWidth;\n\t\t\t\tthis.xLabelWidth = originalLabelWidth;\n\t\t\t\t//Allow 3 pixels x2 padding either side for label readability\n\t\t\t\tvar xGridWidth = Math.floor(this.calculateX(1) - this.calculateX(0)) - 6;\n\n\t\t\t\t//Max label rotate should be 90 - also act as a loop counter\n\t\t\t\twhile ((this.xLabelWidth > xGridWidth && this.xLabelRotation === 0) || (this.xLabelWidth > xGridWidth && this.xLabelRotation <= 90 && this.xLabelRotation > 0)){\n\t\t\t\t\tcosRotation = Math.cos(toRadians(this.xLabelRotation));\n\n\t\t\t\t\tfirstRotated = cosRotation * firstWidth;\n\t\t\t\t\tlastRotated = cosRotation * lastWidth;\n\n\t\t\t\t\t// We're right aligning the text now.\n\t\t\t\t\tif (firstRotated + this.fontSize / 2 > this.yLabelWidth){\n\t\t\t\t\t\tthis.xScalePaddingLeft = firstRotated + this.fontSize / 2;\n\t\t\t\t\t}\n\t\t\t\t\tthis.xScalePaddingRight = this.fontSize/2;\n\n\n\t\t\t\t\tthis.xLabelRotation++;\n\t\t\t\t\tthis.xLabelWidth = cosRotation * originalLabelWidth;\n\n\t\t\t\t}\n\t\t\t\tif (this.xLabelRotation > 0){\n\t\t\t\t\tthis.endPoint -= Math.sin(toRadians(this.xLabelRotation))*originalLabelWidth + 3;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.xLabelWidth = 0;\n\t\t\t\tthis.xScalePaddingRight = this.padding;\n\t\t\t\tthis.xScalePaddingLeft = this.padding;\n\t\t\t}\n\n\t\t},\n\t\t// Needs to be overidden in each Chart type\n\t\t// Otherwise we need to pass all the data into the scale class\n\t\tcalculateYRange: noop,\n\t\tdrawingArea: function(){\n\t\t\treturn this.startPoint - this.endPoint;\n\t\t},\n\t\tcalculateY : function(value){\n\t\t\tvar scalingFactor = this.drawingArea() / (this.min - this.max);\n\t\t\treturn this.endPoint - (scalingFactor * (value - this.min));\n\t\t},\n\t\tcalculateX : function(index){\n\t\t\tvar isRotated = (this.xLabelRotation > 0),\n\t\t\t\t// innerWidth = (this.offsetGridLines) ? this.width - offsetLeft - this.padding : this.width - (offsetLeft + halfLabelWidth * 2) - this.padding,\n\t\t\t\tinnerWidth = this.width - (this.xScalePaddingLeft + this.xScalePaddingRight),\n\t\t\t\tvalueWidth = innerWidth/Math.max((this.valuesCount - ((this.offsetGridLines) ? 0 : 1)), 1),\n\t\t\t\tvalueOffset = (valueWidth * index) + this.xScalePaddingLeft;\n\n\t\t\tif (this.offsetGridLines){\n\t\t\t\tvalueOffset += (valueWidth/2);\n\t\t\t}\n\n\t\t\treturn Math.round(valueOffset);\n\t\t},\n\t\tupdate : function(newProps){\n\t\t\thelpers.extend(this, newProps);\n\t\t\tthis.fit();\n\t\t},\n\t\tdraw : function(){\n\t\t\tvar ctx = this.ctx,\n\t\t\t\tyLabelGap = (this.endPoint - this.startPoint) / this.steps,\n\t\t\t\txStart = Math.round(this.xScalePaddingLeft);\n\t\t\tif (this.display){\n\t\t\t\tctx.fillStyle = this.textColor;\n\t\t\t\tctx.font = this.font;\n\t\t\t\teach(this.yLabels,function(labelString,index){\n\t\t\t\t\tvar yLabelCenter = this.endPoint - (yLabelGap * index),\n\t\t\t\t\t\tlinePositionY = Math.round(yLabelCenter),\n\t\t\t\t\t\tdrawHorizontalLine = this.showHorizontalLines;\n\n\t\t\t\t\tctx.textAlign = \"right\";\n\t\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\t\tif (this.showLabels){\n\t\t\t\t\t\tctx.fillText(labelString,xStart - 10,yLabelCenter);\n\t\t\t\t\t}\n\n\t\t\t\t\t// This is X axis, so draw it\n\t\t\t\t\tif (index === 0 && !drawHorizontalLine){\n\t\t\t\t\t\tdrawHorizontalLine = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawHorizontalLine){\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is the first line on the scale\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tlinePositionY += helpers.aliasPixel(ctx.lineWidth);\n\n\t\t\t\t\tif(drawHorizontalLine){\n\t\t\t\t\t\tctx.moveTo(xStart, linePositionY);\n\t\t\t\t\t\tctx.lineTo(this.width, linePositionY);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(xStart - 5, linePositionY);\n\t\t\t\t\tctx.lineTo(xStart, linePositionY);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.closePath();\n\n\t\t\t\t},this);\n\n\t\t\t\teach(this.xLabels,function(label,index){\n\t\t\t\t\tvar xPos = this.calculateX(index) + aliasPixel(this.lineWidth),\n\t\t\t\t\t\t// Check to see if line/bar here and decide where to place the line\n\t\t\t\t\t\tlinePos = this.calculateX(index - (this.offsetGridLines ? 0.5 : 0)) + aliasPixel(this.lineWidth),\n\t\t\t\t\t\tisRotated = (this.xLabelRotation > 0),\n\t\t\t\t\t\tdrawVerticalLine = this.showVerticalLines;\n\n\t\t\t\t\t// This is Y axis, so draw it\n\t\t\t\t\tif (index === 0 && !drawVerticalLine){\n\t\t\t\t\t\tdrawVerticalLine = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawVerticalLine){\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\t// This is a grid line in the centre, so drop that\n\t\t\t\t\t\tctx.lineWidth = this.gridLineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.gridLineColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is the first line on the scale\n\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (drawVerticalLine){\n\t\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\n\t\t\t\t\t\tctx.lineTo(linePos,this.startPoint - 3);\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t}\n\n\n\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\n\n\t\t\t\t\t// Small lines at the bottom of the base grid line\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(linePos,this.endPoint);\n\t\t\t\t\tctx.lineTo(linePos,this.endPoint + 5);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t\tctx.closePath();\n\n\t\t\t\t\tctx.save();\n\t\t\t\t\tctx.translate(xPos,(isRotated) ? this.endPoint + 12 : this.endPoint + 8);\n\t\t\t\t\tctx.rotate(toRadians(this.xLabelRotation)*-1);\n\t\t\t\t\tctx.font = this.font;\n\t\t\t\t\tctx.textAlign = (isRotated) ? \"right\" : \"center\";\n\t\t\t\t\tctx.textBaseline = (isRotated) ? \"middle\" : \"top\";\n\t\t\t\t\tctx.fillText(label, 0, 0);\n\t\t\t\t\tctx.restore();\n\t\t\t\t},this);\n\n\t\t\t}\n\t\t}\n\n\t});\n\n\tChart.RadialScale = Chart.Element.extend({\n\t\tinitialize: function(){\n\t\t\tthis.size = min([this.height, this.width]);\n\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\n\t\t},\n\t\tcalculateCenterOffset: function(value){\n\t\t\t// Take into account half font size + the yPadding of the top value\n\t\t\tvar scalingFactor = this.drawingArea / (this.max - this.min);\n\n\t\t\treturn (value - this.min) * scalingFactor;\n\t\t},\n\t\tupdate : function(){\n\t\t\tif (!this.lineArc){\n\t\t\t\tthis.setScaleSize();\n\t\t\t} else {\n\t\t\t\tthis.drawingArea = (this.display) ? (this.size/2) - (this.fontSize/2 + this.backdropPaddingY) : (this.size/2);\n\t\t\t}\n\t\t\tthis.buildYLabels();\n\t\t},\n\t\tbuildYLabels: function(){\n\t\t\tthis.yLabels = [];\n\n\t\t\tvar stepDecimalPlaces = getDecimalPlaces(this.stepValue);\n\n\t\t\tfor (var i=0; i<=this.steps; i++){\n\t\t\t\tthis.yLabels.push(template(this.templateString,{value:(this.min + (i * this.stepValue)).toFixed(stepDecimalPlaces)}));\n\t\t\t}\n\t\t},\n\t\tgetCircumference : function(){\n\t\t\treturn ((Math.PI*2) / this.valuesCount);\n\t\t},\n\t\tsetScaleSize: function(){\n\t\t\t/*\n\t\t\t * Right, this is really confusing and there is a lot of maths going on here\n\t\t\t * The gist of the problem is here: https://gist.github.com/nnnick/696cc9c55f4b0beb8fe9\n\t\t\t *\n\t\t\t * Reaction: https://dl.dropboxusercontent.com/u/34601363/toomuchscience.gif\n\t\t\t *\n\t\t\t * Solution:\n\t\t\t *\n\t\t\t * We assume the radius of the polygon is half the size of the canvas at first\n\t\t\t * at each index we check if the text overlaps.\n\t\t\t *\n\t\t\t * Where it does, we store that angle and that index.\n\t\t\t *\n\t\t\t * After finding the largest index and angle we calculate how much we need to remove\n\t\t\t * from the shape radius to move the point inwards by that x.\n\t\t\t *\n\t\t\t * We average the left and right distances to get the maximum shape radius that can fit in the box\n\t\t\t * along with labels.\n\t\t\t *\n\t\t\t * Once we have that, we can find the centre point for the chart, by taking the x text protrusion\n\t\t\t * on each side, removing that from the size, halving it and adding the left x protrusion width.\n\t\t\t *\n\t\t\t * This will mean we have a shape fitted to the canvas, as large as it can be with the labels\n\t\t\t * and position it in the most space efficient manner\n\t\t\t *\n\t\t\t * https://dl.dropboxusercontent.com/u/34601363/yeahscience.gif\n\t\t\t */\n\n\n\t\t\t// Get maximum radius of the polygon. Either half the height (minus the text width) or half the width.\n\t\t\t// Use this to calculate the offset + change. - Make sure L/R protrusion is at least 0 to stop issues with centre points\n\t\t\tvar largestPossibleRadius = min([(this.height/2 - this.pointLabelFontSize - 5), this.width/2]),\n\t\t\t\tpointPosition,\n\t\t\t\ti,\n\t\t\t\ttextWidth,\n\t\t\t\thalfTextWidth,\n\t\t\t\tfurthestRight = this.width,\n\t\t\t\tfurthestRightIndex,\n\t\t\t\tfurthestRightAngle,\n\t\t\t\tfurthestLeft = 0,\n\t\t\t\tfurthestLeftIndex,\n\t\t\t\tfurthestLeftAngle,\n\t\t\t\txProtrusionLeft,\n\t\t\t\txProtrusionRight,\n\t\t\t\tradiusReductionRight,\n\t\t\t\tradiusReductionLeft,\n\t\t\t\tmaxWidthRadius;\n\t\t\tthis.ctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\n\t\t\tfor (i=0;i<this.valuesCount;i++){\n\t\t\t\t// 5px to space the text slightly out - similar to what we do in the draw function.\n\t\t\t\tpointPosition = this.getPointPosition(i, largestPossibleRadius);\n\t\t\t\ttextWidth = this.ctx.measureText(template(this.templateString, { value: this.labels[i] })).width + 5;\n\t\t\t\tif (i === 0 || i === this.valuesCount/2){\n\t\t\t\t\t// If we're at index zero, or exactly the middle, we're at exactly the top/bottom\n\t\t\t\t\t// of the radar chart, so text will be aligned centrally, so we'll half it and compare\n\t\t\t\t\t// w/left and right text sizes\n\t\t\t\t\thalfTextWidth = textWidth/2;\n\t\t\t\t\tif (pointPosition.x + halfTextWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + halfTextWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t\tif (pointPosition.x - halfTextWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - halfTextWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i < this.valuesCount/2) {\n\t\t\t\t\t// Less than half the values means we'll left align the text\n\t\t\t\t\tif (pointPosition.x + textWidth > furthestRight) {\n\t\t\t\t\t\tfurthestRight = pointPosition.x + textWidth;\n\t\t\t\t\t\tfurthestRightIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (i > this.valuesCount/2){\n\t\t\t\t\t// More than half the values means we'll right align the text\n\t\t\t\t\tif (pointPosition.x - textWidth < furthestLeft) {\n\t\t\t\t\t\tfurthestLeft = pointPosition.x - textWidth;\n\t\t\t\t\t\tfurthestLeftIndex = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\txProtrusionLeft = furthestLeft;\n\n\t\t\txProtrusionRight = Math.ceil(furthestRight - this.width);\n\n\t\t\tfurthestRightAngle = this.getIndexAngle(furthestRightIndex);\n\n\t\t\tfurthestLeftAngle = this.getIndexAngle(furthestLeftIndex);\n\n\t\t\tradiusReductionRight = xProtrusionRight / Math.sin(furthestRightAngle + Math.PI/2);\n\n\t\t\tradiusReductionLeft = xProtrusionLeft / Math.sin(furthestLeftAngle + Math.PI/2);\n\n\t\t\t// Ensure we actually need to reduce the size of the chart\n\t\t\tradiusReductionRight = (isNumber(radiusReductionRight)) ? radiusReductionRight : 0;\n\t\t\tradiusReductionLeft = (isNumber(radiusReductionLeft)) ? radiusReductionLeft : 0;\n\n\t\t\tthis.drawingArea = largestPossibleRadius - (radiusReductionLeft + radiusReductionRight)/2;\n\n\t\t\t//this.drawingArea = min([maxWidthRadius, (this.height - (2 * (this.pointLabelFontSize + 5)))/2])\n\t\t\tthis.setCenterPoint(radiusReductionLeft, radiusReductionRight);\n\n\t\t},\n\t\tsetCenterPoint: function(leftMovement, rightMovement){\n\n\t\t\tvar maxRight = this.width - rightMovement - this.drawingArea,\n\t\t\t\tmaxLeft = leftMovement + this.drawingArea;\n\n\t\t\tthis.xCenter = (maxLeft + maxRight)/2;\n\t\t\t// Always vertically in the centre as the text height doesn't change\n\t\t\tthis.yCenter = (this.height/2);\n\t\t},\n\n\t\tgetIndexAngle : function(index){\n\t\t\tvar angleMultiplier = (Math.PI * 2) / this.valuesCount;\n\t\t\t// Start from the top instead of right, so remove a quarter of the circle\n\n\t\t\treturn index * angleMultiplier - (Math.PI/2);\n\t\t},\n\t\tgetPointPosition : function(index, distanceFromCenter){\n\t\t\tvar thisAngle = this.getIndexAngle(index);\n\t\t\treturn {\n\t\t\t\tx : (Math.cos(thisAngle) * distanceFromCenter) + this.xCenter,\n\t\t\t\ty : (Math.sin(thisAngle) * distanceFromCenter) + this.yCenter\n\t\t\t};\n\t\t},\n\t\tdraw: function(){\n\t\t\tif (this.display){\n\t\t\t\tvar ctx = this.ctx;\n\t\t\t\teach(this.yLabels, function(label, index){\n\t\t\t\t\t// Don't draw a centre value\n\t\t\t\t\tif (index > 0){\n\t\t\t\t\t\tvar yCenterOffset = index * (this.drawingArea/this.steps),\n\t\t\t\t\t\t\tyHeight = this.yCenter - yCenterOffset,\n\t\t\t\t\t\t\tpointPosition;\n\n\t\t\t\t\t\t// Draw circular lines around the scale\n\t\t\t\t\t\tif (this.lineWidth > 0){\n\t\t\t\t\t\t\tctx.strokeStyle = this.lineColor;\n\t\t\t\t\t\t\tctx.lineWidth = this.lineWidth;\n\n\t\t\t\t\t\t\tif(this.lineArc){\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tctx.arc(this.xCenter, this.yCenter, yCenterOffset, 0, Math.PI*2);\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\t\tfor (var i=0;i<this.valuesCount;i++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpointPosition = this.getPointPosition(i, this.calculateCenterOffset(this.min + (index * this.stepValue)));\n\t\t\t\t\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\t\t\t\t\tctx.moveTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tctx.lineTo(pointPosition.x, pointPosition.y);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(this.showLabels){\n\t\t\t\t\t\t\tctx.font = fontString(this.fontSize,this.fontStyle,this.fontFamily);\n\t\t\t\t\t\t\tif (this.showLabelBackdrop){\n\t\t\t\t\t\t\t\tvar labelWidth = ctx.measureText(label).width;\n\t\t\t\t\t\t\t\tctx.fillStyle = this.backdropColor;\n\t\t\t\t\t\t\t\tctx.fillRect(\n\t\t\t\t\t\t\t\t\tthis.xCenter - labelWidth/2 - this.backdropPaddingX,\n\t\t\t\t\t\t\t\t\tyHeight - this.fontSize/2 - this.backdropPaddingY,\n\t\t\t\t\t\t\t\t\tlabelWidth + this.backdropPaddingX*2,\n\t\t\t\t\t\t\t\t\tthis.fontSize + this.backdropPaddingY*2\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t\tctx.textBaseline = \"middle\";\n\t\t\t\t\t\t\tctx.fillStyle = this.fontColor;\n\t\t\t\t\t\t\tctx.fillText(label, this.xCenter, yHeight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tif (!this.lineArc){\n\t\t\t\t\tctx.lineWidth = this.angleLineWidth;\n\t\t\t\t\tctx.strokeStyle = this.angleLineColor;\n\t\t\t\t\tfor (var i = this.valuesCount - 1; i >= 0; i--) {\n\t\t\t\t\t\tvar centerOffset = null, outerPosition = null;\n\n\t\t\t\t\t\tif (this.angleLineWidth > 0 && (i % this.angleLineInterval === 0)){\n\t\t\t\t\t\t\tcenterOffset = this.calculateCenterOffset(this.max);\n\t\t\t\t\t\t\touterPosition = this.getPointPosition(i, centerOffset);\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(this.xCenter, this.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.backgroundColors && this.backgroundColors.length == this.valuesCount) {\n\t\t\t\t\t\t\tif (centerOffset == null)\n\t\t\t\t\t\t\t\tcenterOffset = this.calculateCenterOffset(this.max);\n\n\t\t\t\t\t\t\tif (outerPosition == null)\n\t\t\t\t\t\t\t\touterPosition = this.getPointPosition(i, centerOffset);\n\n\t\t\t\t\t\t\tvar previousOuterPosition = this.getPointPosition(i === 0 ? this.valuesCount - 1 : i - 1, centerOffset);\n\t\t\t\t\t\t\tvar nextOuterPosition = this.getPointPosition(i === this.valuesCount - 1 ? 0 : i + 1, centerOffset);\n\n\t\t\t\t\t\t\tvar previousOuterHalfway = { x: (previousOuterPosition.x + outerPosition.x) / 2, y: (previousOuterPosition.y + outerPosition.y) / 2 };\n\t\t\t\t\t\t\tvar nextOuterHalfway = { x: (outerPosition.x + nextOuterPosition.x) / 2, y: (outerPosition.y + nextOuterPosition.y) / 2 };\n\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\t\tctx.moveTo(this.xCenter, this.yCenter);\n\t\t\t\t\t\t\tctx.lineTo(previousOuterHalfway.x, previousOuterHalfway.y);\n\t\t\t\t\t\t\tctx.lineTo(outerPosition.x, outerPosition.y);\n\t\t\t\t\t\t\tctx.lineTo(nextOuterHalfway.x, nextOuterHalfway.y);\n\t\t\t\t\t\t\tctx.fillStyle = this.backgroundColors[i];\n\t\t\t\t\t\t\tctx.fill();\n\t\t\t\t\t\t\tctx.closePath();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Extra 3px out for some label spacing\n\t\t\t\t\t\tvar pointLabelPosition = this.getPointPosition(i, this.calculateCenterOffset(this.max) + 5);\n\t\t\t\t\t\tctx.font = fontString(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);\n\t\t\t\t\t\tctx.fillStyle = this.pointLabelFontColor;\n\n\t\t\t\t\t\tvar labelsCount = this.labels.length,\n\t\t\t\t\t\t\thalfLabelsCount = this.labels.length/2,\n\t\t\t\t\t\t\tquarterLabelsCount = halfLabelsCount/2,\n\t\t\t\t\t\t\tupperHalf = (i < quarterLabelsCount || i > labelsCount - quarterLabelsCount),\n\t\t\t\t\t\t\texactQuarter = (i === quarterLabelsCount || i === labelsCount - quarterLabelsCount);\n\t\t\t\t\t\tif (i === 0){\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if(i === halfLabelsCount){\n\t\t\t\t\t\t\tctx.textAlign = 'center';\n\t\t\t\t\t\t} else if (i < halfLabelsCount){\n\t\t\t\t\t\t\tctx.textAlign = 'left';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textAlign = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Set the correct text baseline based on outer positioning\n\t\t\t\t\t\tif (exactQuarter){\n\t\t\t\t\t\t\tctx.textBaseline = 'middle';\n\t\t\t\t\t\t} else if (upperHalf){\n\t\t\t\t\t\t\tctx.textBaseline = 'bottom';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tctx.textBaseline = 'top';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tctx.fillText(this.labels[i], pointLabelPosition.x, pointLabelPosition.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tChart.animationService = {\n\t\tframeDuration: 17,\n\t\tanimations: [],\n\t\tdropFrames: 0,\n\t\taddAnimation: function(chartInstance, animationObject) {\n\t\t\tfor (var index = 0; index < this.animations.length; ++ index){\n\t\t\t\tif (this.animations[index].chartInstance === chartInstance){\n\t\t\t\t\t// replacing an in progress animation\n\t\t\t\t\tthis.animations[index].animationObject = animationObject;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.animations.push({\n\t\t\t\tchartInstance: chartInstance,\n\t\t\t\tanimationObject: animationObject\n\t\t\t});\n\n\t\t\t// If there are no animations queued, manually kickstart a digest, for lack of a better word\n\t\t\tif (this.animations.length == 1) {\n\t\t\t\thelpers.requestAnimFrame.call(window, this.digestWrapper);\n\t\t\t}\n\t\t},\n\t\t// Cancel the animation for a given chart instance\n\t\tcancelAnimation: function(chartInstance) {\n\t\t\tvar index = helpers.findNextWhere(this.animations, function(animationWrapper) {\n\t\t\t\treturn animationWrapper.chartInstance === chartInstance;\n\t\t\t});\n\t\t\t\n\t\t\tif (index)\n\t\t\t{\n\t\t\t\tthis.animations.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t// calls startDigest with the proper context\n\t\tdigestWrapper: function() {\n\t\t\tChart.animationService.startDigest.call(Chart.animationService);\n\t\t},\n\t\tstartDigest: function() {\n\n\t\t\tvar startTime = Date.now();\n\t\t\tvar framesToDrop = 0;\n\n\t\t\tif(this.dropFrames > 1){\n\t\t\t\tframesToDrop = Math.floor(this.dropFrames);\n\t\t\t\tthis.dropFrames -= framesToDrop;\n\t\t\t}\n\n\t\t\tfor (var i = 0; i < this.animations.length; i++) {\n\n\t\t\t\tif (this.animations[i].animationObject.currentStep === null){\n\t\t\t\t\tthis.animations[i].animationObject.currentStep = 0;\n\t\t\t\t}\n\n\t\t\t\tthis.animations[i].animationObject.currentStep += 1 + framesToDrop;\n\t\t\t\tif(this.animations[i].animationObject.currentStep > this.animations[i].animationObject.numSteps){\n\t\t\t\t\tthis.animations[i].animationObject.currentStep = this.animations[i].animationObject.numSteps;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.animations[i].animationObject.render(this.animations[i].chartInstance, this.animations[i].animationObject);\n\t\t\t\t\n\t\t\t\t// Check if executed the last frame.\n\t\t\t\tif (this.animations[i].animationObject.currentStep == this.animations[i].animationObject.numSteps){\n\t\t\t\t\t// Call onAnimationComplete\n\t\t\t\t\tthis.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance);\n\t\t\t\t\t// Remove the animation.\n\t\t\t\t\tthis.animations.splice(i, 1);\n\t\t\t\t\t// Keep the index in place to offset the splice\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar endTime = Date.now();\n\t\t\tvar delay = endTime - startTime - this.frameDuration;\n\t\t\tvar frameDelay = delay / this.frameDuration;\n\n\t\t\tif(frameDelay > 1){\n\t\t\t\tthis.dropFrames += frameDelay;\n\t\t\t}\n\n\t\t\t// Do we have more stuff to animate?\n\t\t\tif (this.animations.length > 0){\n\t\t\t\thelpers.requestAnimFrame.call(window, this.digestWrapper);\n\t\t\t}\n\t\t}\n\t};\n\n\t// Attach global event to resize each chart instance when the browser resizes\n\thelpers.addEvent(window, \"resize\", (function(){\n\t\t// Basic debounce of resize function so it doesn't hurt performance when resizing browser.\n\t\tvar timeout;\n\t\treturn function(){\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = setTimeout(function(){\n\t\t\t\teach(Chart.instances,function(instance){\n\t\t\t\t\t// If the responsive flag is set in the chart instance config\n\t\t\t\t\t// Cascade the resize event down to the chart.\n\t\t\t\t\tif (instance.options.responsive){\n\t\t\t\t\t\tinstance.resize(instance.render, true);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, 50);\n\t\t};\n\t})());\n\n\n\tif (amd) {\n\t\tdefine('Chart', [], function(){\n\t\t\treturn Chart;\n\t\t});\n\t} else if (typeof module === 'object' && module.exports) {\n\t\tmodule.exports = Chart;\n\t}\n\n\troot.Chart = Chart;\n\n\tChart.noConflict = function(){\n\t\troot.Chart = previous;\n\t\treturn Chart;\n\t};\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\n\tvar defaultConfig = {\n\t\t//Boolean - Whether the scale should start at zero, or an order of magnitude down from the lowest value\n\t\tscaleBeginAtZero : true,\n\n\t\t//Boolean - Whether grid lines are shown across the chart\n\t\tscaleShowGridLines : true,\n\n\t\t//String - Colour of the grid lines\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\n\n\t\t//Number - Width of the grid lines\n\t\tscaleGridLineWidth : 1,\n\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\n\t\tscaleShowHorizontalLines: true,\n\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\n\t\tscaleShowVerticalLines: true,\n\n\t\t//Boolean - If there is a stroke on each bar\n\t\tbarShowStroke : true,\n\n\t\t//Number - Pixel width of the bar stroke\n\t\tbarStrokeWidth : 2,\n\n\t\t//Number - Spacing between each of the X value sets\n\t\tbarValueSpacing : 5,\n\n\t\t//Number - Spacing between data sets within X values\n\t\tbarDatasetSpacing : 1,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span class=\\\"<%=name.toLowerCase()%>-legend-icon\\\" style=\\\"background-color:<%=datasets[i].fillColor%>\\\"></span><span class=\\\"<%=name.toLowerCase()%>-legend-text\\\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>\"\n\n\t};\n\n\n\tChart.Type.extend({\n\t\tname: \"Bar\",\n\t\tdefaults : defaultConfig,\n\t\tinitialize:  function(data){\n\n\t\t\t//Expose options as a scope variable here so we can access it in the ScaleClass\n\t\t\tvar options = this.options;\n\n\t\t\tthis.ScaleClass = Chart.Scale.extend({\n\t\t\t\toffsetGridLines : true,\n\t\t\t\tcalculateBarX : function(datasetCount, datasetIndex, barIndex){\n\t\t\t\t\t//Reusable method for calculating the xPosition of a given bar based on datasetIndex & width of the bar\n\t\t\t\t\tvar xWidth = this.calculateBaseWidth(),\n\t\t\t\t\t\txAbsolute = this.calculateX(barIndex) - (xWidth/2),\n\t\t\t\t\t\tbarWidth = this.calculateBarWidth(datasetCount);\n\n\t\t\t\t\treturn xAbsolute + (barWidth * datasetIndex) + (datasetIndex * options.barDatasetSpacing) + barWidth/2;\n\t\t\t\t},\n\t\t\t\tcalculateBaseWidth : function(){\n\t\t\t\t\treturn (this.calculateX(1) - this.calculateX(0)) - (2*options.barValueSpacing);\n\t\t\t\t},\n\t\t\t\tcalculateBarWidth : function(datasetCount){\n\t\t\t\t\t//The padding between datasets is to the right of each bar, providing that there are more than 1 dataset\n\t\t\t\t\tvar baseWidth = this.calculateBaseWidth() - ((datasetCount - 1) * options.barDatasetSpacing);\n\n\t\t\t\t\treturn (baseWidth / datasetCount);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeBars = (evt.type !== 'mouseout') ? this.getBarsAtEvent(evt) : [];\n\n\t\t\t\t\tthis.eachBars(function(bar){\n\t\t\t\t\t\tbar.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeBars, function(activeBar){\n\t\t\t\t\t\tif (activeBar) {\n\t\t\t\t\t\t\tactiveBar.fillColor = activeBar.highlightFill;\n\t\t\t\t\t\t\tactiveBar.strokeColor = activeBar.highlightStroke;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeBars);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\n\t\t\tthis.BarClass = Chart.Rectangle.extend({\n\t\t\t\tstrokeWidth : this.options.barStrokeWidth,\n\t\t\t\tshowStroke : this.options.barShowStroke,\n\t\t\t\tctx : this.chart.ctx\n\t\t\t});\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset,datasetIndex){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel : dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tbars : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tdatasetObject.bars.push(new this.BarClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tstrokeColor : (typeof dataset.strokeColor == 'object') ? dataset.strokeColor[index] : dataset.strokeColor,\n\t\t\t\t\t\tfillColor : (typeof dataset.fillColor == 'object') ? dataset.fillColor[index] : dataset.fillColor,\n\t\t\t\t\t\thighlightFill : (dataset.highlightFill) ? (typeof dataset.highlightFill == 'object') ? dataset.highlightFill[index] : dataset.highlightFill : (typeof dataset.fillColor == 'object') ? dataset.fillColor[index] : dataset.fillColor,\n\t\t\t\t\t\thighlightStroke : (dataset.highlightStroke) ? (typeof dataset.highlightStroke == 'object') ? dataset.highlightStroke[index] : dataset.highlightStroke : (typeof dataset.strokeColor == 'object') ? dataset.strokeColor[index] : dataset.strokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t},this);\n\n\t\t\tthis.buildScale(data.labels);\n\n\t\t\tthis.BarClass.prototype.base = this.scale.endPoint;\n\n\t\t\tthis.eachBars(function(bar, index, datasetIndex){\n\t\t\t\thelpers.extend(bar, {\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\n\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t});\n\t\t\t\tbar.save();\n\t\t\t}, this);\n\n\t\t\tthis.render();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.scale.update();\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\n\t\t\t});\n\n\t\t\tthis.eachBars(function(bar){\n\t\t\t\tbar.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\t\teachBars : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset, datasetIndex){\n\t\t\t\thelpers.each(dataset.bars, callback, this, datasetIndex);\n\t\t\t},this);\n\t\t},\n\t\tgetBarsAtEvent : function(e){\n\t\t\tvar barsArray = [],\n\t\t\t\teventPosition = helpers.getRelativePosition(e),\n\t\t\t\tdatasetIterator = function(dataset){\n\t\t\t\t\tbarsArray.push(dataset.bars[barIndex]);\n\t\t\t\t},\n\t\t\t\tbarIndex;\n\n\t\t\tfor (var datasetIndex = 0; datasetIndex < this.datasets.length; datasetIndex++) {\n\t\t\t\tfor (barIndex = 0; barIndex < this.datasets[datasetIndex].bars.length; barIndex++) {\n\t\t\t\t\tif (this.datasets[datasetIndex].bars[barIndex].inRange(eventPosition.x,eventPosition.y)){\n\t\t\t\t\t\thelpers.each(this.datasets, datasetIterator);\n\t\t\t\t\t\treturn barsArray;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn barsArray;\n\t\t},\n\t\tbuildScale : function(labels){\n\t\t\tvar self = this;\n\n\t\t\tvar dataTotal = function(){\n\t\t\t\tvar values = [];\n\t\t\t\tself.eachBars(function(bar){\n\t\t\t\t\tvalues.push(bar.value);\n\t\t\t\t});\n\t\t\t\treturn values;\n\t\t\t};\n\n\t\t\tvar scaleOptions = {\n\t\t\t\ttemplateString : this.options.scaleLabel,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttextColor : this.options.scaleFontColor,\n\t\t\t\tfontSize : this.options.scaleFontSize,\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\n\t\t\t\tvaluesCount : labels.length,\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\n\t\t\t\tcalculateYRange: function(currentHeight){\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\n\t\t\t\t\t\tdataTotal(),\n\t\t\t\t\t\tcurrentHeight,\n\t\t\t\t\t\tthis.fontSize,\n\t\t\t\t\t\tthis.beginAtZero,\n\t\t\t\t\t\tthis.integersOnly\n\t\t\t\t\t);\n\t\t\t\t\thelpers.extend(this, updatedRanges);\n\t\t\t\t},\n\t\t\t\txLabels : labels,\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\n\t\t\t\tlineColor : this.options.scaleLineColor,\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\tpadding : (this.options.showScale) ? 0 : (this.options.barShowStroke) ? this.options.barStrokeWidth : 0,\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\n\t\t\t\tdisplay : this.options.showScale\n\t\t\t};\n\n\t\t\tif (this.options.scaleOverride){\n\t\t\t\thelpers.extend(scaleOptions, {\n\t\t\t\t\tcalculateYRange: helpers.noop,\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.scale = new this.ScaleClass(scaleOptions);\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\tthis.datasets[datasetIndex].bars.push(new this.BarClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tdatasetLabel: this.datasets[datasetIndex].label,\n\t\t\t\t\tx: this.scale.calculateBarX(this.datasets.length, datasetIndex, this.scale.valuesCount+1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length),\n\t\t\t\t\tbase : this.scale.endPoint,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].strokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].fillColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.addXLabel(label);\n\t\t\t//Then re-render the chart.\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.removeXLabel();\n\t\t\t//Then re-render the chart.\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.bars.shift();\n\t\t\t},this);\n\t\t\tthis.update();\n\t\t},\n\t\treflow : function(){\n\t\t\thelpers.extend(this.BarClass.prototype,{\n\t\t\t\ty: this.scale.endPoint,\n\t\t\t\tbase : this.scale.endPoint\n\t\t\t});\n\t\t\tvar newScaleProps = helpers.extend({\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(newScaleProps);\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tthis.clear();\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\tthis.scale.draw(easingDecimal);\n\n\t\t\t//Draw all the bars for each dataset\n\t\t\thelpers.each(this.datasets,function(dataset,datasetIndex){\n\t\t\t\thelpers.each(dataset.bars,function(bar,index){\n\t\t\t\t\tif (bar.hasValue()){\n\t\t\t\t\t\tbar.base = this.scale.endPoint;\n\t\t\t\t\t\t//Transition then draw\n\t\t\t\t\t\tbar.transition({\n\t\t\t\t\t\t\tx : this.scale.calculateBarX(this.datasets.length, datasetIndex, index),\n\t\t\t\t\t\t\ty : this.scale.calculateY(bar.value),\n\t\t\t\t\t\t\twidth : this.scale.calculateBarWidth(this.datasets.length)\n\t\t\t\t\t\t}, easingDecimal).draw();\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\t\t\t},this);\n\t\t}\n\t});\n\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\t//Cache a local reference to Chart.helpers\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\t//Boolean - Whether we should show a stroke on each segment\n\t\tsegmentShowStroke : true,\n\n\t\t//String - The colour of each segment stroke\n\t\tsegmentStrokeColor : \"#fff\",\n\n\t\t//Number - The width of each segment stroke\n\t\tsegmentStrokeWidth : 2,\n\n\t\t//The percentage of the chart that we cut out of the middle.\n\t\tpercentageInnerCutout : 50,\n\n\t\t//Number - Amount of animation steps\n\t\tanimationSteps : 100,\n\n\t\t//String - Animation easing effect\n\t\tanimationEasing : \"easeOutBounce\",\n\n\t\t//Boolean - Whether we animate the rotation of the Doughnut\n\t\tanimateRotate : true,\n\n\t\t//Boolean - Whether we animate scaling the Doughnut from the centre\n\t\tanimateScale : false,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span class=\\\"<%=name.toLowerCase()%>-legend-icon\\\" style=\\\"background-color:<%=segments[i].fillColor%>\\\"></span><span class=\\\"<%=name.toLowerCase()%>-legend-text\\\"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>\"\n\n\t};\n\n\tChart.Type.extend({\n\t\t//Passing in a name registers this chart in the Chart namespace\n\t\tname: \"Doughnut\",\n\t\t//Providing a defaults will also register the defaults in the chart namespace\n\t\tdefaults : defaultConfig,\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\n\t\tinitialize:  function(data){\n\n\t\t\t//Declare segments as a static property to prevent inheriting across the Chart type prototype\n\t\t\tthis.segments = [];\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\n\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\n\n\t\t\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeSegments);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.calculateTotal(data);\n\n\t\t\thelpers.each(data,function(datapoint, index){\n\t\t\t\tif (!datapoint.color) {\n\t\t\t\t\tdatapoint.color = 'hsl(' + (360 * index / data.length) + ', 100%, 50%)';\n\t\t\t\t}\n\t\t\t\tthis.addData(datapoint, index, true);\n\t\t\t},this);\n\n\t\t\tthis.render();\n\t\t},\n\t\tgetSegmentsAtEvent : function(e){\n\t\t\tvar segmentsArray = [];\n\n\t\t\tvar location = helpers.getRelativePosition(e);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\n\t\t\t},this);\n\t\t\treturn segmentsArray;\n\t\t},\n\t\taddData : function(segment, atIndex, silent){\n\t\t\tvar index = atIndex !== undefined ? atIndex : this.segments.length;\n\t\t\tif ( typeof(segment.color) === \"undefined\" ) {\n\t\t\t\tsegment.color = Chart.defaults.global.segmentColorDefault[index % Chart.defaults.global.segmentColorDefault.length];\n\t\t\t\tsegment.highlight = Chart.defaults.global.segmentHighlightColorDefaults[index % Chart.defaults.global.segmentHighlightColorDefaults.length];\t\t\t\t\n\t\t\t}\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\n\t\t\t\tvalue : segment.value,\n\t\t\t\touterRadius : (this.options.animateScale) ? 0 : this.outerRadius,\n\t\t\t\tinnerRadius : (this.options.animateScale) ? 0 : (this.outerRadius/100) * this.options.percentageInnerCutout,\n\t\t\t\tfillColor : segment.color,\n\t\t\t\thighlightColor : segment.highlight || segment.color,\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\n\t\t\t\tstartAngle : Math.PI * 1.5,\n\t\t\t\tcircumference : (this.options.animateRotate) ? 0 : this.calculateCircumference(segment.value),\n\t\t\t\tlabel : segment.label\n\t\t\t}));\n\t\t\tif (!silent){\n\t\t\t\tthis.reflow();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\tcalculateCircumference : function(value) {\n\t\t\tif ( this.total > 0 ) {\n\t\t\t\treturn (Math.PI*2)*(value / this.total);\n\t\t\t} else {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t},\n\t\tcalculateTotal : function(data){\n\t\t\tthis.total = 0;\n\t\t\thelpers.each(data,function(segment){\n\t\t\t\tthis.total += Math.abs(segment.value);\n\t\t\t},this);\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.calculateTotal(this.segments);\n\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor']);\n\t\t\t});\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tsegment.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\n\t\tremoveData: function(atIndex){\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\n\t\t\tthis.segments.splice(indexToDelete, 1);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\n\t\treflow : function(){\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.outerRadius = (helpers.min([this.chart.width,this.chart.height]) -\tthis.options.segmentStrokeWidth/2)/2;\n\t\t\thelpers.each(this.segments, function(segment){\n\t\t\t\tsegment.update({\n\t\t\t\t\touterRadius : this.outerRadius,\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\n\t\t\t\t});\n\t\t\t}, this);\n\t\t},\n\t\tdraw : function(easeDecimal){\n\t\t\tvar animDecimal = (easeDecimal) ? easeDecimal : 1;\n\t\t\tthis.clear();\n\t\t\thelpers.each(this.segments,function(segment,index){\n\t\t\t\tsegment.transition({\n\t\t\t\t\tcircumference : this.calculateCircumference(segment.value),\n\t\t\t\t\touterRadius : this.outerRadius,\n\t\t\t\t\tinnerRadius : (this.outerRadius/100) * this.options.percentageInnerCutout\n\t\t\t\t},animDecimal);\n\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\n\n\t\t\t\tsegment.draw();\n\t\t\t\tif (index === 0){\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\n\t\t\t\t}\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\n\t\t\t\tif (index < this.segments.length-1){\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\n\t\t\t\t}\n\t\t\t},this);\n\n\t\t}\n\t});\n\n\tChart.types.Doughnut.extend({\n\t\tname : \"Pie\",\n\t\tdefaults : helpers.merge(defaultConfig,{percentageInnerCutout : 0})\n\t});\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\n\t\t///Boolean - Whether grid lines are shown across the chart\n\t\tscaleShowGridLines : true,\n\n\t\t//String - Colour of the grid lines\n\t\tscaleGridLineColor : \"rgba(0,0,0,.05)\",\n\n\t\t//Number - Width of the grid lines\n\t\tscaleGridLineWidth : 1,\n\n\t\t//Boolean - Whether to show horizontal lines (except X axis)\n\t\tscaleShowHorizontalLines: true,\n\n\t\t//Boolean - Whether to show vertical lines (except Y axis)\n\t\tscaleShowVerticalLines: true,\n\n\t\t//Boolean - Whether the line is curved between points\n\t\tbezierCurve : true,\n\n\t\t//Number - Tension of the bezier curve between points\n\t\tbezierCurveTension : 0.4,\n\n\t\t//Boolean - Whether to show a dot for each point\n\t\tpointDot : true,\n\n\t\t//Number - Radius of each point dot in pixels\n\t\tpointDotRadius : 4,\n\n\t\t//Number - Pixel width of point dot stroke\n\t\tpointDotStrokeWidth : 1,\n\n\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\n\t\tpointHitDetectionRadius : 20,\n\n\t\t//Boolean - Whether to show a stroke for datasets\n\t\tdatasetStroke : true,\n\n\t\t//Number - Pixel width of dataset stroke\n\t\tdatasetStrokeWidth : 2,\n\n\t\t//Boolean - Whether to fill the dataset with a colour\n\t\tdatasetFill : true,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span class=\\\"<%=name.toLowerCase()%>-legend-icon\\\" style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><span class=\\\"<%=name.toLowerCase()%>-legend-text\\\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>\",\n\n\t\t//Boolean - Whether to horizontally center the label and point dot inside the grid\n\t\toffsetGridLines : false\n\n\t};\n\n\n\tChart.Type.extend({\n\t\tname: \"Line\",\n\t\tdefaults : defaultConfig,\n\t\tinitialize:  function(data){\n\t\t\t//Declare the extension of the default point, to cater for the options passed in to the constructor\n\t\t\tthis.PointClass = Chart.Point.extend({\n\t\t\t\toffsetGridLines : this.options.offsetGridLines,\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\n\t\t\t\tradius : this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tinRange : function(mouseX){\n\t\t\t\t\treturn (Math.pow(mouseX-this.x, 2) < Math.pow(this.radius + this.hitDetectionRadius,2));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activePoints = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\n\t\t\t\t\tthis.eachPoints(function(point){\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activePoints, function(activePoint){\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activePoints);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel : dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tpointColor : dataset.pointColor,\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\tpoints : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\t\tfillColor : dataset.pointColor,\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t\tthis.buildScale(data.labels);\n\n\n\t\t\t\tthis.eachPoints(function(point, index){\n\t\t\t\t\thelpers.extend(point, {\n\t\t\t\t\t\tx: this.scale.calculateX(index),\n\t\t\t\t\t\ty: this.scale.endPoint\n\t\t\t\t\t});\n\t\t\t\t\tpoint.save();\n\t\t\t\t}, this);\n\n\t\t\t},this);\n\n\n\t\t\tthis.render();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.scale.update();\n\t\t\t// Reset any highlight colours before updating.\n\t\t\thelpers.each(this.activeElements, function(activeElement){\n\t\t\t\tactiveElement.restore(['fillColor', 'strokeColor']);\n\t\t\t});\n\t\t\tthis.eachPoints(function(point){\n\t\t\t\tpoint.save();\n\t\t\t});\n\t\t\tthis.render();\n\t\t},\n\t\teachPoints : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,callback,this);\n\t\t\t},this);\n\t\t},\n\t\tgetPointsAtEvent : function(e){\n\t\t\tvar pointsArray = [],\n\t\t\t\teventPosition = helpers.getRelativePosition(e);\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,function(point){\n\t\t\t\t\tif (point.inRange(eventPosition.x,eventPosition.y)) pointsArray.push(point);\n\t\t\t\t});\n\t\t\t},this);\n\t\t\treturn pointsArray;\n\t\t},\n\t\tbuildScale : function(labels){\n\t\t\tvar self = this;\n\n\t\t\tvar dataTotal = function(){\n\t\t\t\tvar values = [];\n\t\t\t\tself.eachPoints(function(point){\n\t\t\t\t\tvalues.push(point.value);\n\t\t\t\t});\n\n\t\t\t\treturn values;\n\t\t\t};\n\n\t\t\tvar scaleOptions = {\n\t\t\t\ttemplateString : this.options.scaleLabel,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttextColor : this.options.scaleFontColor,\n\t\t\t\toffsetGridLines : this.options.offsetGridLines,\n\t\t\t\tfontSize : this.options.scaleFontSize,\n\t\t\t\tfontStyle : this.options.scaleFontStyle,\n\t\t\t\tfontFamily : this.options.scaleFontFamily,\n\t\t\t\tvaluesCount : labels.length,\n\t\t\t\tbeginAtZero : this.options.scaleBeginAtZero,\n\t\t\t\tintegersOnly : this.options.scaleIntegersOnly,\n\t\t\t\tcalculateYRange : function(currentHeight){\n\t\t\t\t\tvar updatedRanges = helpers.calculateScaleRange(\n\t\t\t\t\t\tdataTotal(),\n\t\t\t\t\t\tcurrentHeight,\n\t\t\t\t\t\tthis.fontSize,\n\t\t\t\t\t\tthis.beginAtZero,\n\t\t\t\t\t\tthis.integersOnly\n\t\t\t\t\t);\n\t\t\t\t\thelpers.extend(this, updatedRanges);\n\t\t\t\t},\n\t\t\t\txLabels : labels,\n\t\t\t\tfont : helpers.fontString(this.options.scaleFontSize, this.options.scaleFontStyle, this.options.scaleFontFamily),\n\t\t\t\tlineWidth : this.options.scaleLineWidth,\n\t\t\t\tlineColor : this.options.scaleLineColor,\n\t\t\t\tshowHorizontalLines : this.options.scaleShowHorizontalLines,\n\t\t\t\tshowVerticalLines : this.options.scaleShowVerticalLines,\n\t\t\t\tgridLineWidth : (this.options.scaleShowGridLines) ? this.options.scaleGridLineWidth : 0,\n\t\t\t\tgridLineColor : (this.options.scaleShowGridLines) ? this.options.scaleGridLineColor : \"rgba(0,0,0,0)\",\n\t\t\t\tpadding: (this.options.showScale) ? 0 : this.options.pointDotRadius + this.options.pointDotStrokeWidth,\n\t\t\t\tshowLabels : this.options.scaleShowLabels,\n\t\t\t\tdisplay : this.options.showScale\n\t\t\t};\n\n\t\t\tif (this.options.scaleOverride){\n\t\t\t\thelpers.extend(scaleOptions, {\n\t\t\t\t\tcalculateYRange: helpers.noop,\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t});\n\t\t\t}\n\n\n\t\t\tthis.scale = new Chart.Scale(scaleOptions);\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tdatasetLabel: this.datasets[datasetIndex].label,\n\t\t\t\t\tx: this.scale.calculateX(this.scale.valuesCount+1),\n\t\t\t\t\ty: this.scale.endPoint,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.addXLabel(label);\n\t\t\t//Then re-render the chart.\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.removeXLabel();\n\t\t\t//Then re-render the chart.\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.points.shift();\n\t\t\t},this);\n\t\t\tthis.update();\n\t\t},\n\t\treflow : function(){\n\t\t\tvar newScaleProps = helpers.extend({\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth : this.chart.width\n\t\t\t});\n\t\t\tthis.scale.update(newScaleProps);\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\tthis.clear();\n\n\t\t\tvar ctx = this.chart.ctx;\n\n\t\t\t// Some helper methods for getting the next/prev points\n\t\t\tvar hasValue = function(item){\n\t\t\t\treturn item.value !== null;\n\t\t\t},\n\t\t\tnextPoint = function(point, collection, index){\n\t\t\t\treturn helpers.findNextWhere(collection, hasValue, index) || point;\n\t\t\t},\n\t\t\tpreviousPoint = function(point, collection, index){\n\t\t\t\treturn helpers.findPreviousWhere(collection, hasValue, index) || point;\n\t\t\t};\n\n\t\t\tif (!this.scale) return;\n\t\t\tthis.scale.draw(easingDecimal);\n\n\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tvar pointsWithValues = helpers.where(dataset.points, hasValue);\n\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\n\t\t\t\t//We can use this extra loop to calculate the control points of this dataset also in this loop\n\n\t\t\t\thelpers.each(dataset.points, function(point, index){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.transition({\n\t\t\t\t\t\t\ty : this.scale.calculateY(point.value),\n\t\t\t\t\t\t\tx : this.scale.calculateX(index)\n\t\t\t\t\t\t}, easingDecimal);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\n\t\t\t\t// Control points need to be calculated in a separate loop, because we need to know the current x/y of the point\n\t\t\t\t// This would cause issues when there is no animation, because the y of the next point would be 0, so beziers would be skewed\n\t\t\t\tif (this.options.bezierCurve){\n\t\t\t\t\thelpers.each(pointsWithValues, function(point, index){\n\t\t\t\t\t\tvar tension = (index > 0 && index < pointsWithValues.length - 1) ? this.options.bezierCurveTension : 0;\n\t\t\t\t\t\tpoint.controlPoints = helpers.splineCurve(\n\t\t\t\t\t\t\tpreviousPoint(point, pointsWithValues, index),\n\t\t\t\t\t\t\tpoint,\n\t\t\t\t\t\t\tnextPoint(point, pointsWithValues, index),\n\t\t\t\t\t\t\ttension\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Prevent the bezier going outside of the bounds of the graph\n\n\t\t\t\t\t\t// Cap puter bezier handles to the upper/lower scale bounds\n\t\t\t\t\t\tif (point.controlPoints.outer.y > this.scale.endPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.endPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (point.controlPoints.outer.y < this.scale.startPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.outer.y = this.scale.startPoint;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Cap inner bezier handles to the upper/lower scale bounds\n\t\t\t\t\t\tif (point.controlPoints.inner.y > this.scale.endPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.endPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (point.controlPoints.inner.y < this.scale.startPoint){\n\t\t\t\t\t\t\tpoint.controlPoints.inner.y = this.scale.startPoint;\n\t\t\t\t\t\t}\n\t\t\t\t\t},this);\n\t\t\t\t}\n\n\n\t\t\t\t//Draw the line between all the points\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\n\t\t\t\tctx.beginPath();\n\n\t\t\t\thelpers.each(pointsWithValues, function(point, index){\n\t\t\t\t\tif (index === 0){\n\t\t\t\t\t\tctx.moveTo(point.x, point.y);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tif(this.options.bezierCurve){\n\t\t\t\t\t\t\tvar previous = previousPoint(point, pointsWithValues, index);\n\n\t\t\t\t\t\t\tctx.bezierCurveTo(\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.x,\n\t\t\t\t\t\t\t\tprevious.controlPoints.outer.y,\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.x,\n\t\t\t\t\t\t\t\tpoint.controlPoints.inner.y,\n\t\t\t\t\t\t\t\tpoint.x,\n\t\t\t\t\t\t\t\tpoint.y\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tctx.lineTo(point.x,point.y);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tif (this.options.datasetStroke) {\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\n\t\t\t\tif (this.options.datasetFill && pointsWithValues.length > 0){\n\t\t\t\t\t//Round off the line by going to the base of the chart, back to the start, then fill.\n\t\t\t\t\tctx.lineTo(pointsWithValues[pointsWithValues.length - 1].x, this.scale.endPoint);\n\t\t\t\t\tctx.lineTo(pointsWithValues[0].x, this.scale.endPoint);\n\t\t\t\t\tctx.fillStyle = dataset.fillColor;\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\n\t\t\t\t//Now draw the points over the line\n\t\t\t\t//A little inefficient double looping, but better than the line\n\t\t\t\t//lagging behind the point positions\n\t\t\t\thelpers.each(pointsWithValues,function(point){\n\t\t\t\t\tpoint.draw();\n\t\t\t\t});\n\t\t\t},this);\n\t\t}\n\t});\n\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\t//Cache a local reference to Chart.helpers\n\t\thelpers = Chart.helpers;\n\n\tvar defaultConfig = {\n\t\t//Boolean - Show a backdrop to the scale label\n\t\tscaleShowLabelBackdrop : true,\n\n\t\t//String - The colour of the label backdrop\n\t\tscaleBackdropColor : \"rgba(255,255,255,0.75)\",\n\n\t\t// Boolean - Whether the scale should begin at zero\n\t\tscaleBeginAtZero : true,\n\n\t\t//Number - The backdrop padding above & below the label in pixels\n\t\tscaleBackdropPaddingY : 2,\n\n\t\t//Number - The backdrop padding to the side of the label in pixels\n\t\tscaleBackdropPaddingX : 2,\n\n\t\t//Boolean - Show line for each value in the scale\n\t\tscaleShowLine : true,\n\n\t\t//Boolean - Stroke a line around each segment in the chart\n\t\tsegmentShowStroke : true,\n\n\t\t//String - The colour of the stroke on each segment.\n\t\tsegmentStrokeColor : \"#fff\",\n\n\t\t//Number - The width of the stroke value in pixels\n\t\tsegmentStrokeWidth : 2,\n\n\t\t//Number - Amount of animation steps\n\t\tanimationSteps : 100,\n\n\t\t//String - Animation easing effect.\n\t\tanimationEasing : \"easeOutBounce\",\n\n\t\t//Boolean - Whether to animate the rotation of the chart\n\t\tanimateRotate : true,\n\n\t\t//Boolean - Whether to animate scaling the chart from the centre\n\t\tanimateScale : false,\n\n\t\t//String - A legend template\n\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<segments.length; i++){%><li><span class=\\\"<%=name.toLowerCase()%>-legend-icon\\\" style=\\\"background-color:<%=segments[i].fillColor%>\\\"></span><span class=\\\"<%=name.toLowerCase()%>-legend-text\\\"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>\"\n\t};\n\n\n\tChart.Type.extend({\n\t\t//Passing in a name registers this chart in the Chart namespace\n\t\tname: \"PolarArea\",\n\t\t//Providing a defaults will also register the defaults in the chart namespace\n\t\tdefaults : defaultConfig,\n\t\t//Initialize is fired when the chart is initialized - Data is passed in as a parameter\n\t\t//Config is automatically merged by the core of Chart.js, and is available at this.options\n\t\tinitialize:  function(data){\n\t\t\tthis.segments = [];\n\t\t\t//Declare segment class as a chart instance specific class, so it can share props for this instance\n\t\t\tthis.SegmentArc = Chart.Arc.extend({\n\t\t\t\tshowStroke : this.options.segmentShowStroke,\n\t\t\t\tstrokeWidth : this.options.segmentStrokeWidth,\n\t\t\t\tstrokeColor : this.options.segmentStrokeColor,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\tinnerRadius : 0,\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.scale = new Chart.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tlineArc: true,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tvaluesCount: data.length\n\t\t\t});\n\n\t\t\tthis.updateScaleRange(data);\n\n\t\t\tthis.scale.update();\n\n\t\t\thelpers.each(data,function(segment,index){\n\t\t\t\tthis.addData(segment,index,true);\n\t\t\t},this);\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activeSegments = (evt.type !== 'mouseout') ? this.getSegmentsAtEvent(evt) : [];\n\t\t\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\t\t\tsegment.restore([\"fillColor\"]);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activeSegments,function(activeSegment){\n\t\t\t\t\t\tactiveSegment.fillColor = activeSegment.highlightColor;\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTooltip(activeSegments);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.render();\n\t\t},\n\t\tgetSegmentsAtEvent : function(e){\n\t\t\tvar segmentsArray = [];\n\n\t\t\tvar location = helpers.getRelativePosition(e);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tif (segment.inRange(location.x,location.y)) segmentsArray.push(segment);\n\t\t\t},this);\n\t\t\treturn segmentsArray;\n\t\t},\n\t\taddData : function(segment, atIndex, silent){\n\t\t\tvar index = atIndex || this.segments.length;\n\n\t\t\tthis.segments.splice(index, 0, new this.SegmentArc({\n\t\t\t\tfillColor: segment.color,\n\t\t\t\thighlightColor: segment.highlight || segment.color,\n\t\t\t\tlabel: segment.label,\n\t\t\t\tvalue: segment.value,\n\t\t\t\touterRadius: (this.options.animateScale) ? 0 : this.scale.calculateCenterOffset(segment.value),\n\t\t\t\tcircumference: (this.options.animateRotate) ? 0 : this.scale.getCircumference(),\n\t\t\t\tstartAngle: Math.PI * 1.5\n\t\t\t}));\n\t\t\tif (!silent){\n\t\t\t\tthis.reflow();\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t},\n\t\tremoveData: function(atIndex){\n\t\t\tvar indexToDelete = (helpers.isNumber(atIndex)) ? atIndex : this.segments.length-1;\n\t\t\tthis.segments.splice(indexToDelete, 1);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\t\tcalculateTotal: function(data){\n\t\t\tthis.total = 0;\n\t\t\thelpers.each(data,function(segment){\n\t\t\t\tthis.total += segment.value;\n\t\t\t},this);\n\t\t\tthis.scale.valuesCount = this.segments.length;\n\t\t},\n\t\tupdateScaleRange: function(datapoints){\n\t\t\tvar valuesArray = [];\n\t\t\thelpers.each(datapoints,function(segment){\n\t\t\t\tvaluesArray.push(segment.value);\n\t\t\t});\n\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\n\t\t\t\t{\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t} :\n\t\t\t\thelpers.calculateScaleRange(\n\t\t\t\t\tvaluesArray,\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\n\t\t\t\t\tthis.options.scaleFontSize,\n\t\t\t\t\tthis.options.scaleBeginAtZero,\n\t\t\t\t\tthis.options.scaleIntegersOnly\n\t\t\t\t);\n\n\t\t\thelpers.extend(\n\t\t\t\tthis.scale,\n\t\t\t\tscaleSizes,\n\t\t\t\t{\n\t\t\t\t\tsize: helpers.min([this.chart.width, this.chart.height]),\n\t\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\t\tyCenter: this.chart.height/2\n\t\t\t\t}\n\t\t\t);\n\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.calculateTotal(this.segments);\n\n\t\t\thelpers.each(this.segments,function(segment){\n\t\t\t\tsegment.save();\n\t\t\t});\n\t\t\t\n\t\t\tthis.reflow();\n\t\t\tthis.render();\n\t\t},\n\t\treflow : function(){\n\t\t\thelpers.extend(this.SegmentArc.prototype,{\n\t\t\t\tx : this.chart.width/2,\n\t\t\t\ty : this.chart.height/2\n\t\t\t});\n\t\t\tthis.updateScaleRange(this.segments);\n\t\t\tthis.scale.update();\n\n\t\t\thelpers.extend(this.scale,{\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2\n\t\t\t});\n\n\t\t\thelpers.each(this.segments, function(segment){\n\t\t\t\tsegment.update({\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\n\t\t\t\t});\n\t\t\t}, this);\n\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easingDecimal = ease || 1;\n\t\t\t//Clear & draw the canvas\n\t\t\tthis.clear();\n\t\t\thelpers.each(this.segments,function(segment, index){\n\t\t\t\tsegment.transition({\n\t\t\t\t\tcircumference : this.scale.getCircumference(),\n\t\t\t\t\touterRadius : this.scale.calculateCenterOffset(segment.value)\n\t\t\t\t},easingDecimal);\n\n\t\t\t\tsegment.endAngle = segment.startAngle + segment.circumference;\n\n\t\t\t\t// If we've removed the first segment we need to set the first one to\n\t\t\t\t// start at the top.\n\t\t\t\tif (index === 0){\n\t\t\t\t\tsegment.startAngle = Math.PI * 1.5;\n\t\t\t\t}\n\n\t\t\t\t//Check to see if it's the last segment, if not get the next and update the start angle\n\t\t\t\tif (index < this.segments.length - 1){\n\t\t\t\t\tthis.segments[index+1].startAngle = segment.endAngle;\n\t\t\t\t}\n\t\t\t\tsegment.draw();\n\t\t\t}, this);\n\t\t\tthis.scale.draw();\n\t\t}\n\t});\n\n}).call(this);\n\n(function(){\n\t\"use strict\";\n\n\tvar root = this,\n\t\tChart = root.Chart,\n\t\thelpers = Chart.helpers;\n\n\n\n\tChart.Type.extend({\n\t\tname: \"Radar\",\n\t\tdefaults:{\n\t\t\t//Boolean - Whether to show lines for each scale point\n\t\t\tscaleShowLine : true,\n\n\t\t\t//Boolean - Whether we show the angle lines out of the radar\n\t\t\tangleShowLineOut : true,\n\n\t\t\t//Boolean - Whether to show labels on the scale\n\t\t\tscaleShowLabels : false,\n\n\t\t\t// Boolean - Whether the scale should begin at zero\n\t\t\tscaleBeginAtZero : true,\n\n\t\t\t//String - Colour of the angle line\n\t\t\tangleLineColor : \"rgba(0,0,0,.1)\",\n\n\t\t\t//Number - Pixel width of the angle line\n\t\t\tangleLineWidth : 1,\n\n\t\t\t//Number - Interval at which to draw angle lines (\"every Nth point\")\n\t\t\tangleLineInterval: 1,\n\n\t\t\t//String - Point label font declaration\n\t\t\tpointLabelFontFamily : \"'Arial'\",\n\n\t\t\t//String - Point label font weight\n\t\t\tpointLabelFontStyle : \"normal\",\n\n\t\t\t//Number - Point label font size in pixels\n\t\t\tpointLabelFontSize : 10,\n\n\t\t\t//String - Point label font colour\n\t\t\tpointLabelFontColor : \"#666\",\n\n\t\t\t//Boolean - Whether to show a dot for each point\n\t\t\tpointDot : true,\n\n\t\t\t//Number - Radius of each point dot in pixels\n\t\t\tpointDotRadius : 3,\n\n\t\t\t//Number - Pixel width of point dot stroke\n\t\t\tpointDotStrokeWidth : 1,\n\n\t\t\t//Number - amount extra to add to the radius to cater for hit detection outside the drawn point\n\t\t\tpointHitDetectionRadius : 20,\n\n\t\t\t//Boolean - Whether to show a stroke for datasets\n\t\t\tdatasetStroke : true,\n\n\t\t\t//Number - Pixel width of dataset stroke\n\t\t\tdatasetStrokeWidth : 2,\n\n\t\t\t//Boolean - Whether to fill the dataset with a colour\n\t\t\tdatasetFill : true,\n\n\t\t\t//String - A legend template\n\t\t\tlegendTemplate : \"<ul class=\\\"<%=name.toLowerCase()%>-legend\\\"><% for (var i=0; i<datasets.length; i++){%><li><span class=\\\"<%=name.toLowerCase()%>-legend-icon\\\" style=\\\"background-color:<%=datasets[i].strokeColor%>\\\"></span><span class=\\\"<%=name.toLowerCase()%>-legend-text\\\"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>\"\n\n\t\t},\n\n\t\tinitialize: function(data){\n\t\t\tthis.PointClass = Chart.Point.extend({\n\t\t\t\tstrokeWidth : this.options.pointDotStrokeWidth,\n\t\t\t\tradius : this.options.pointDotRadius,\n\t\t\t\tdisplay: this.options.pointDot,\n\t\t\t\thitDetectionRadius : this.options.pointHitDetectionRadius,\n\t\t\t\tctx : this.chart.ctx\n\t\t\t});\n\n\t\t\tthis.datasets = [];\n\n\t\t\tthis.buildScale(data);\n\n\t\t\t//Set up tooltip events on the chart\n\t\t\tif (this.options.showTooltips){\n\t\t\t\thelpers.bindEvents(this, this.options.tooltipEvents, function(evt){\n\t\t\t\t\tvar activePointsCollection = (evt.type !== 'mouseout') ? this.getPointsAtEvent(evt) : [];\n\n\t\t\t\t\tthis.eachPoints(function(point){\n\t\t\t\t\t\tpoint.restore(['fillColor', 'strokeColor']);\n\t\t\t\t\t});\n\t\t\t\t\thelpers.each(activePointsCollection, function(activePoint){\n\t\t\t\t\t\tactivePoint.fillColor = activePoint.highlightFill;\n\t\t\t\t\t\tactivePoint.strokeColor = activePoint.highlightStroke;\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.showTooltip(activePointsCollection);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//Iterate through each of the datasets, and build this into a property of the chart\n\t\t\thelpers.each(data.datasets,function(dataset){\n\n\t\t\t\tvar datasetObject = {\n\t\t\t\t\tlabel: dataset.label || null,\n\t\t\t\t\tfillColor : dataset.fillColor,\n\t\t\t\t\tstrokeColor : dataset.strokeColor,\n\t\t\t\t\tpointColor : dataset.pointColor,\n\t\t\t\t\tpointStrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\tpoints : []\n\t\t\t\t};\n\n\t\t\t\tthis.datasets.push(datasetObject);\n\n\t\t\t\thelpers.each(dataset.data,function(dataPoint,index){\n\t\t\t\t\t//Add a new point for each piece of data, passing any required data to draw.\n\t\t\t\t\tvar pointPosition;\n\t\t\t\t\tif (!this.scale.animation){\n\t\t\t\t\t\tpointPosition = this.scale.getPointPosition(index, this.scale.calculateCenterOffset(dataPoint));\n\t\t\t\t\t}\n\t\t\t\t\tdatasetObject.points.push(new this.PointClass({\n\t\t\t\t\t\tvalue : dataPoint,\n\t\t\t\t\t\tlabel : data.labels[index],\n\t\t\t\t\t\tdatasetLabel: dataset.label,\n\t\t\t\t\t\tx: (this.options.animation) ? this.scale.xCenter : pointPosition.x,\n\t\t\t\t\t\ty: (this.options.animation) ? this.scale.yCenter : pointPosition.y,\n\t\t\t\t\t\tstrokeColor : dataset.pointStrokeColor,\n\t\t\t\t\t\tfillColor : dataset.pointColor,\n\t\t\t\t\t\thighlightFill : dataset.pointHighlightFill || dataset.pointColor,\n\t\t\t\t\t\thighlightStroke : dataset.pointHighlightStroke || dataset.pointStrokeColor\n\t\t\t\t\t}));\n\t\t\t\t},this);\n\n\t\t\t},this);\n\n\t\t\tthis.render();\n\t\t},\n\t\teachPoints : function(callback){\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\thelpers.each(dataset.points,callback,this);\n\t\t\t},this);\n\t\t},\n\n\t\tgetPointsAtEvent : function(evt){\n\t\t\tvar mousePosition = helpers.getRelativePosition(evt),\n\t\t\t\tfromCenter = helpers.getAngleFromPoint({\n\t\t\t\t\tx: this.scale.xCenter,\n\t\t\t\t\ty: this.scale.yCenter\n\t\t\t\t}, mousePosition);\n\n\t\t\tvar anglePerIndex = (Math.PI * 2) /this.scale.valuesCount,\n\t\t\t\tpointIndex = Math.round((fromCenter.angle - Math.PI * 1.5) / anglePerIndex),\n\t\t\t\tactivePointsCollection = [];\n\n\t\t\t// If we're at the top, make the pointIndex 0 to get the first of the array.\n\t\t\tif (pointIndex >= this.scale.valuesCount || pointIndex < 0){\n\t\t\t\tpointIndex = 0;\n\t\t\t}\n\n\t\t\tif (fromCenter.distance <= this.scale.drawingArea){\n\t\t\t\thelpers.each(this.datasets, function(dataset){\n\t\t\t\t\tactivePointsCollection.push(dataset.points[pointIndex]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn activePointsCollection;\n\t\t},\n\n\t\tbuildScale : function(data){\n\t\t\tthis.scale = new Chart.RadialScale({\n\t\t\t\tdisplay: this.options.showScale,\n\t\t\t\tfontStyle: this.options.scaleFontStyle,\n\t\t\t\tfontSize: this.options.scaleFontSize,\n\t\t\t\tfontFamily: this.options.scaleFontFamily,\n\t\t\t\tfontColor: this.options.scaleFontColor,\n\t\t\t\tshowLabels: this.options.scaleShowLabels,\n\t\t\t\tshowLabelBackdrop: this.options.scaleShowLabelBackdrop,\n\t\t\t\tbackdropColor: this.options.scaleBackdropColor,\n\t\t\t\tbackgroundColors: this.options.scaleBackgroundColors,\n\t\t\t\tbackdropPaddingY : this.options.scaleBackdropPaddingY,\n\t\t\t\tbackdropPaddingX: this.options.scaleBackdropPaddingX,\n\t\t\t\tlineWidth: (this.options.scaleShowLine) ? this.options.scaleLineWidth : 0,\n\t\t\t\tlineColor: this.options.scaleLineColor,\n\t\t\t\tangleLineColor : this.options.angleLineColor,\n\t\t\t\tangleLineWidth : (this.options.angleShowLineOut) ? this.options.angleLineWidth : 0,\n        angleLineInterval: (this.options.angleLineInterval) ? this.options.angleLineInterval : 1,\n\t\t\t\t// Point labels at the edge of each line\n\t\t\t\tpointLabelFontColor : this.options.pointLabelFontColor,\n\t\t\t\tpointLabelFontSize : this.options.pointLabelFontSize,\n\t\t\t\tpointLabelFontFamily : this.options.pointLabelFontFamily,\n\t\t\t\tpointLabelFontStyle : this.options.pointLabelFontStyle,\n\t\t\t\theight : this.chart.height,\n\t\t\t\twidth: this.chart.width,\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2,\n\t\t\t\tctx : this.chart.ctx,\n\t\t\t\ttemplateString: this.options.scaleLabel,\n\t\t\t\tlabels: data.labels,\n\t\t\t\tvaluesCount: data.datasets[0].data.length\n\t\t\t});\n\n\t\t\tthis.scale.setScaleSize();\n\t\t\tthis.updateScaleRange(data.datasets);\n\t\t\tthis.scale.buildYLabels();\n\t\t},\n\t\tupdateScaleRange: function(datasets){\n\t\t\tvar valuesArray = (function(){\n\t\t\t\tvar totalDataArray = [];\n\t\t\t\thelpers.each(datasets,function(dataset){\n\t\t\t\t\tif (dataset.data){\n\t\t\t\t\t\ttotalDataArray = totalDataArray.concat(dataset.data);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\thelpers.each(dataset.points, function(point){\n\t\t\t\t\t\t\ttotalDataArray.push(point.value);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn totalDataArray;\n\t\t\t})();\n\n\n\t\t\tvar scaleSizes = (this.options.scaleOverride) ?\n\t\t\t\t{\n\t\t\t\t\tsteps: this.options.scaleSteps,\n\t\t\t\t\tstepValue: this.options.scaleStepWidth,\n\t\t\t\t\tmin: this.options.scaleStartValue,\n\t\t\t\t\tmax: this.options.scaleStartValue + (this.options.scaleSteps * this.options.scaleStepWidth)\n\t\t\t\t} :\n\t\t\t\thelpers.calculateScaleRange(\n\t\t\t\t\tvaluesArray,\n\t\t\t\t\thelpers.min([this.chart.width, this.chart.height])/2,\n\t\t\t\t\tthis.options.scaleFontSize,\n\t\t\t\t\tthis.options.scaleBeginAtZero,\n\t\t\t\t\tthis.options.scaleIntegersOnly\n\t\t\t\t);\n\n\t\t\thelpers.extend(\n\t\t\t\tthis.scale,\n\t\t\t\tscaleSizes\n\t\t\t);\n\n\t\t},\n\t\taddData : function(valuesArray,label){\n\t\t\t//Map the values array for each of the datasets\n\t\t\tthis.scale.valuesCount++;\n\t\t\thelpers.each(valuesArray,function(value,datasetIndex){\n\t\t\t\tvar pointPosition = this.scale.getPointPosition(this.scale.valuesCount, this.scale.calculateCenterOffset(value));\n\t\t\t\tthis.datasets[datasetIndex].points.push(new this.PointClass({\n\t\t\t\t\tvalue : value,\n\t\t\t\t\tlabel : label,\n\t\t\t\t\tdatasetLabel: this.datasets[datasetIndex].label,\n\t\t\t\t\tx: pointPosition.x,\n\t\t\t\t\ty: pointPosition.y,\n\t\t\t\t\tstrokeColor : this.datasets[datasetIndex].pointStrokeColor,\n\t\t\t\t\tfillColor : this.datasets[datasetIndex].pointColor\n\t\t\t\t}));\n\t\t\t},this);\n\n\t\t\tthis.scale.labels.push(label);\n\n\t\t\tthis.reflow();\n\n\t\t\tthis.update();\n\t\t},\n\t\tremoveData : function(){\n\t\t\tthis.scale.valuesCount--;\n\t\t\tthis.scale.labels.shift();\n\t\t\thelpers.each(this.datasets,function(dataset){\n\t\t\t\tdataset.points.shift();\n\t\t\t},this);\n\t\t\tthis.reflow();\n\t\t\tthis.update();\n\t\t},\n\t\tupdate : function(){\n\t\t\tthis.eachPoints(function(point){\n\t\t\t\tpoint.save();\n\t\t\t});\n\t\t\tthis.reflow();\n\t\t\tthis.render();\n\t\t},\n\t\treflow: function(){\n\t\t\thelpers.extend(this.scale, {\n\t\t\t\twidth : this.chart.width,\n\t\t\t\theight: this.chart.height,\n\t\t\t\tsize : helpers.min([this.chart.width, this.chart.height]),\n\t\t\t\txCenter: this.chart.width/2,\n\t\t\t\tyCenter: this.chart.height/2\n\t\t\t});\n\t\t\tthis.updateScaleRange(this.datasets);\n\t\t\tthis.scale.setScaleSize();\n\t\t\tthis.scale.buildYLabels();\n\t\t},\n\t\tdraw : function(ease){\n\t\t\tvar easeDecimal = ease || 1,\n\t\t\t\tctx = this.chart.ctx;\n\t\t\tthis.clear();\n\t\t\tthis.scale.draw();\n\n\t\t\thelpers.each(this.datasets,function(dataset){\n\n\t\t\t\t//Transition each point first so that the line and point drawing isn't out of sync\n\t\t\t\thelpers.each(dataset.points,function(point,index){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.transition(this.scale.getPointPosition(index, this.scale.calculateCenterOffset(point.value)), easeDecimal);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\n\n\n\t\t\t\t//Draw the line between all the points\n\t\t\t\tctx.lineWidth = this.options.datasetStrokeWidth;\n\t\t\t\tctx.strokeStyle = dataset.strokeColor;\n\t\t\t\tctx.beginPath();\n\t\t\t\thelpers.each(dataset.points,function(point,index){\n\t\t\t\t\tif (index === 0){\n\t\t\t\t\t\tctx.moveTo(point.x,point.y);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tctx.lineTo(point.x,point.y);\n\t\t\t\t\t}\n\t\t\t\t},this);\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\n\t\t\t\tctx.fillStyle = dataset.fillColor;\n\t\t\t\tif(this.options.datasetFill){\n\t\t\t\t\tctx.fill();\n\t\t\t\t}\n\t\t\t\t//Now draw the points over the line\n\t\t\t\t//A little inefficient double looping, but better than the line\n\t\t\t\t//lagging behind the point positions\n\t\t\t\thelpers.each(dataset.points,function(point){\n\t\t\t\t\tif (point.hasValue()){\n\t\t\t\t\t\tpoint.draw();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t},this);\n\n\t\t}\n\n\t});\n\n\n\n\n\n}).call(this);\n","'use strict';\nvar ko = require('./herocalc_knockout');\nvar abilityData = require(\"./herocalc_abilitydata\");\n\nvar AbilityModel = function (a, h) {\n    var self = this;\n    self.hero = h;\n    self.abilityData = abilityData;\n    self.hasScepter = ko.observable(false);\n    self.isShapeShiftActive = ko.observable(false);\n    self.abilities = a;\n    self._abilities = self.abilities();\n    for (var i = 0; i < self.abilities().length; i++) {\n        self._abilities[i].level = ko.observable(0);\n        self._abilities[i].isActive = ko.observable(false);\n        self._abilities[i].isDetail = ko.observable(false);\n        self._abilities[i].baseDamage = ko.observable(0);\n        self._abilities[i].baseDamageReductionPct = ko.observable(0);\n        self._abilities[i].baseDamageMultiplier = ko.observable(0);\n        self._abilities[i].bash = ko.observable(0);\n        self._abilities[i].bashBonusDamage = ko.observable(0);\n        self._abilities[i].bonusDamage = ko.observable(0);\n        self._abilities[i].bonusDamageOrb = ko.observable(0);\n        self._abilities[i].bonusDamagePct = ko.observable(0);\n        self._abilities[i].bonusDamagePrecisionAura = ko.observable(0);\n        self._abilities[i].bonusDamageReduction = ko.observable(0);\n        self._abilities[i].bonusHealth = ko.observable(0);\n        self._abilities[i].bonusStrength = ko.observable(0);\n        self._abilities[i].bonusStrength2 = ko.observable(0);\n        self._abilities[i].bonusAgility = ko.observable(0);\n        self._abilities[i].bonusAgility2 = ko.observable(0);\n        self._abilities[i].bonusInt = ko.observable(0);\n        self._abilities[i].bonusAllStatsReduction = ko.observable(0);\n        self._abilities[i].damageAmplification = ko.observable(0);\n        self._abilities[i].damageReduction = ko.observable(0);\n        self._abilities[i].evasion = ko.observable(0);\n        self._abilities[i].magicResist = ko.observable(0);\n        self._abilities[i].manaregen = ko.observable(0);\n        self._abilities[i].manaregenreduction = ko.observable(0);\n        self._abilities[i].missChance = ko.observable(0);\n        self._abilities[i].movementSpeedFlat = ko.observable(0);\n        self._abilities[i].movementSpeedPct = ko.observable(0);\n        self._abilities[i].movementSpeedPctReduction = ko.observable(0);\n        self._abilities[i].turnRateReduction = ko.observable(0);\n        self._abilities[i].attackrange = ko.observable(0);\n        self._abilities[i].attackspeed = ko.observable(0);\n        self._abilities[i].attackspeedreduction = ko.observable(0);\n        self._abilities[i].armor = ko.observable(0);\n        self._abilities[i].armorReduction = ko.observable(0);\n        self._abilities[i].healthregen = ko.observable(0);\n        self._abilities[i].lifesteal = ko.observable(0);\n        self._abilities[i].visionnight = ko.observable(0);\n        self._abilities[i].visionday = ko.observable(0);\n    }\n    self.abilityControlData = {};\n    self.abilitySettingsData = function (data, parent, index) {\n        if (self.abilityControlData[data] == undefined) {\n            return self.processAbility(data, parent, index, self.abilityData[data]);\n        }\n        else {\n            return self.abilityControlData[data];\n        }\n    }\n    \n    self.processAbility = function (data, parent, index, args) {\n        var result = {};\n        result.data = [];\n        var v;\n        var v_list = [];\n        for (var i=0; i < args.length; i++) {\n            switch (args[i].controlType) {\n                case 'input':\n                    v = ko.observable(0).extend({ numeric: 2 });\n                    v.controlValueType = args[i].controlValueType;\n                    v_list.push(v);\n                    result.data.push({ labelName: args[i].label.toUpperCase() + ':', controlVal: v, controlType: args[i].controlType, display: args[i].display });\n                break;\n                case 'checkbox':\n                    v = ko.observable(false);\n                    v.controlValueType = args[i].controlValueType;\n                    v_list.push(v);\n                    result.data.push({ labelName: args[i].label.toUpperCase() + '?', controlVal: v, controlType: args[i].controlType, display: args[i].display });\n                break;\n                case 'radio':\n                    v = ko.observable(args[i].controlOptions[0].value);\n                    v.controlValueType = args[i].controlValueType;\n                    v_list.push(v);\n                    result.data.push({ labelName: args[i].label.toUpperCase() + '?', controlVal: v, controlType: args[i].controlType, display: args[i].display, controlOptions: args[i].controlOptions });\n                break;\n                case 'method':\n                case 'text':\n                    // single input abilities\n                    if (args[i].controls == undefined) {\n                        if (args[i].noLevel) {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    var _ability = self.abilities().find(function(b) {\n                                        return b.name == data;\n                                    });\n                                    return self.getAbilityAttributeValue(_ability.attributes, attributeName, 0);\n                                })};\n                            };\n                        }\n                        else {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    var _ability = self.abilities().find(function(b) {\n                                        return b.name == data;\n                                    });\n                                    return self.getAbilityAttributeValue(_ability.attributes, attributeName, _ability.level());\n                                })};\n                            };\n                        }\n                        var g = attributeValue(args[i].attributeName)\n                        var r = self.getComputedFunction(v, g.fn, args[i].fn, parent, index, self, args[i].returnProperty, undefined, data);\n                        if (args[i].ignoreTooltip) {\n                            var tooltip = args[i].label || args[i].attributeName;\n                        }\n                        else {\n                            var tooltip = self.getAbilityAttributeTooltip(self.abilities()[index].attributes, args[i].attributeName) || args[i].label || args[i].attributeName;\n                        }\n                        result.data.push({ labelName: tooltip.toUpperCase(), controlVal: r, controlType: args[i].controlType, display: args[i].display, clean: g.fn });\n                    }\n                    // multi input abilities\n                    else {\n                        if (args[i].noLevel) {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    return self.getAbilityAttributeValue(self.abilities()[index].attributes, attributeName, 0);\n                                })};\n                            };\n                        }\n                        else {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    return self.getAbilityAttributeValue(self.abilities()[index].attributes, attributeName, self.abilities()[index].level());\n                                })};\n                            };\n                        }\n                        var g = attributeValue(args[i].attributeName)\n                        var r = self.getComputedFunction(v_list, g.fn, args[i].fn, parent, index, self, args[i].returnProperty, args[i].controls, data);\n                        if (args[i].ignoreTooltip) {\n                            var tooltip = args[i].label || args[i].attributeName;\n                        }\n                        else {\n                            var tooltip = self.getAbilityAttributeTooltip(self.abilities()[index].attributes, args[i].attributeName) || args[i].label || args[i].attributeName;\n                        }\n                        result.data.push({ labelName: tooltip.toUpperCase(), controlVal: r, controlType: args[i].controlType, display: args[i].display, clean: g.fn });\n                    }\n                    \n                    if (args[i].controlType == 'method') {\n                        v_list.push(r);\n                    }\n                break;\n            }\n        }\n        self.abilityControlData[data] = result;\n        return result;\n    }\n\n    self.getComputedFunction = function (v, attributeValue, fn, parent, index, abilityModel, returnProperty, controls, abilityName) {\n        var _ability = abilityModel.abilities().find(function(b) {\n            return b.name == abilityName;\n        });\n        return ko.pureComputed(function () {                \n            var inputValue;\n            if (controls == undefined) {\n                if (v == undefined) {\n                    inputValue = v;\n                }\n                else if (typeof v() == 'boolean') {\n                    inputValue = v();\n                }\n                else if (v.controlValueType == undefined) {\n                    inputValue = parseFloat(v());\n                }\n                else if (v.controlValueType == 'string') {\n                    inputValue = v();\n                }\n                else {\n                    inputValue = parseFloat(v());\n                }\n            }\n            else {\n                var v_list = [];\n                for (var i=0;i<controls.length;i++) {\n                    switch (typeof v[controls[i]]()) {\n                        case 'boolean':\n                        case 'object':\n                            v_list.push(v[controls[i]]());\n                        break;\n                        default:\n                            v_list.push(parseFloat(v[controls[i]]()));\n                        break;\n                    }\n                }\n                inputValue = v_list;\n            }\n            \n            var returnVal = fn.call(this, inputValue, attributeValue(), parent, index, abilityModel, _ability);\n            if (returnProperty != undefined) {\n                _ability[returnProperty](returnVal);\n            }\n            return returnVal;\n        }, this);\n    }\n    \n    self.getAbilityLevelByAbilityName = function (abilityName) {\n        for (var i = 0; i < self.abilities().length; i++) {\n            if (self._abilities[i].name == abilityName) {\n                return self._abilities[i].level();\n            }\n        }\n        return -1;\n    }\n\n    self.getAbilityByName = function (abilityName) {\n        for (var i = 0; i < self.abilities().length; i++) {\n            if (self._abilities[i].name == abilityName) {\n                return self._abilities[i];\n            }\n        }\n        return undefined;\n    }\n\n    self.getAbilityPropertyValue = function (ability, property) {\n        return parseFloat(ability[property]()[ability.level()-1]);\n    }\n    \n    self.getAttributeBonusLevel = function () {\n        for (var i = 0; i < self.abilities().length; i++) {\n            if (self._abilities[i].name == 'attribute_bonus') {\n                return self._abilities[i].level();\n            }\n        }\n        return 0;        \n    }\n    \n    self.getAllStatsReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {                    \n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        /*switch(attribute.name) {\n                            // invoker_quas\n                            case 'bonus_strength':\n                                totalAttribute += parseInt(attribute.value[ability.level()-1]);\n                            break;\n                        }*/\n                    }\n                }\n                else if (ability.bonusAllStatsReduction != undefined) {\n                    // slark_essence_shift\n                    totalAttribute+=ability.bonusAllStatsReduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getStrengthReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {                    \n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        /*switch(attribute.name) {\n                            // invoker_quas\n                            case 'bonus_strength':\n                                totalAttribute += parseInt(attribute.value[ability.level()-1]);\n                            break;\n                        }*/\n                    }\n                }\n                else if (ability.bonusStrength != undefined && ability.name == 'undying_decay') {\n                    // undying_decay\n                    totalAttribute-=ability.bonusStrength();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getStrength = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0) {\n                if (!(ability.name in self.abilityData)) {\n                    if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                        for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                            var attribute = self._abilities[i].attributes[j];\n                            /*switch(attribute.name) {\n                                // invoker_quas\n                                case 'bonus_strength':\n                                    totalAttribute += parseInt(attribute.value[ability.level()-1]);\n                                break;\n                            }*/\n                        }\n                    }\n                }\n                else {\n                    if (ability.bonusStrength != undefined) {\n                        if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                            // pudge_flesh_heap,morphling_morph_str,morphling_morph_agi,undying_decay\n                            totalAttribute+=ability.bonusStrength();\n                        }\n                    }\n                    if (ability.bonusStrength2 != undefined) {\n                        if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                            // morphling_morph_str\n                            totalAttribute+=ability.bonusStrength2();\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAgility = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0) {\n                if (!(ability.name in self.abilityData)) {\n                    if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                        for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                            var attribute = self._abilities[i].attributes[j];\n                            switch(attribute.name) {\n                                // drow_ranger_marksmanship\n                                case 'marksmanship_agility_bonus':\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                break;\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (ability.bonusAgility != undefined) {\n                        if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                            // morphling_morph_agi,morphling_morph_str\n                            totalAttribute+=ability.bonusAgility();\n                        }\n                    }\n                    if (ability.bonusAgility2 != undefined) {\n                        if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                            // morphling_morph_agi,morphling_morph_str\n                            totalAttribute+=ability.bonusAgility2();\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getIntelligence = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0) {\n                if (!(ability.name in self.abilityData)) {\n                    if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                        for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                            var attribute = self._abilities[i].attributes[j];\n                            switch(attribute.name) {\n                                // invoker_exort\n                            /*    case 'bonus_intelligence':\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                break;*/\n                            }\n                        }\n                    }\n                }\n                /*else if (ability.bonusInt != undefined) {\n                    if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1) || ability.name == 'invoker_exort') {\n                        // invoker_exort\n                        totalAttribute+=ability.bonusInt();\n                    }\n                }*/\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getArmor = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // axe_berserkers_call,dragon_knight_dragon_blood,troll_warlord_berserkers_rage,lycan_shapeshift,enraged_wildkin_toughness_aura\n                            case 'bonus_armor':\n                                if (ability.name != 'templar_assassin_meld') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // sven_warcry\n                            case 'warcry_armor':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                            // lich_frost_armor,ogre_magi_frost_armor\n                            case 'armor_bonus':\n                                if (ability.name == 'lich_frost_armor' || ability.name == 'ogre_magi_frost_armor') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.armor != undefined) {\n                    // shredder_reactive_armor,visage_gravekeepers_cloak\n                    totalAttribute+=ability.armor();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getArmorBaseReduction = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                //if (!(ability.name in self.abilityData)) {\n                    switch(ability.name) {\n                        //elder_titan_natural_order\n                        case 'elder_titan_natural_order':\n                            totalAttribute *= (1-self.getAbilityAttributeValue(self._abilities[i].attributes, 'armor_reduction_pct', ability.level())/100);\n                        break;\n                    }\n                //}\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getArmorReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    switch(ability.name) {\n                        //templar_assassin_meld\n                        case 'templar_assassin_meld':\n                            totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, 'bonus_armor', ability.level());\n                        break;\n                        // tidehunter_gush\n                        case 'tidehunter_gush':\n                            totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, 'armor_bonus', ability.level());\n                        break;\n                        // naga_siren_rip_tide\n                        case 'naga_siren_rip_tide':\n                        // slardar_amplify_damage\n                        case 'slardar_amplify_damage':\n                        // vengefulspirit_wave_of_terror\n                        case 'vengefulspirit_wave_of_terror':\n                            totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, 'armor_reduction', ability.level());\n                        break;\n                        // nevermore_dark_lord\n                        case 'nevermore_dark_lord':\n                            totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, 'presence_armor_reduction', ability.level());\n                        break;\n                    }\n                }\n                else if (ability.armorReduction != undefined) {\n                    // alchemist_acid_spray\n                    totalAttribute+=ability.armorReduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getHealth = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // lone_druid_true_form,lycan_shapeshift,troll_warlord_berserkers_rage\n                            case 'bonus_hp':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                            // lone_druid_synergy\n                            case 'true_form_hp_bonus':\n                                if (self.isTrueFormActive()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.bonusHealth != undefined) {\n                    // clinkz_death_pact\n                    totalAttribute+=ability.bonusHealth();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.isTrueFormActive = function () {\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.isActive() && ability.name == 'lone_druid_true_form') {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    self.getHealthRegen = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // alchemist_chemical_rage, dragon_knight_dragon_blood\n                            case 'bonus_health_regen':\n                            // broodmother_spin_web\n                            case 'heath_regen':\n                            // omniknight_guardian_angel,treant_living_armor,satyr_hellcaller_unholy_aura\n                            case 'health_regen':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                            // legion_commander_press_the_attack\n                            case 'hp_regen':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n                else if (ability.healthregen != undefined) {\n                    // shredder_reactive_armor,invoker_quas,necrolyte_sadist\n                    totalAttribute+=ability.healthregen();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getMana = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                //if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // obsidian_destroyer_essence_aura\n                            case 'bonus_mana':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                //}\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getManaRegen = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // alchemist_chemical_rage\n                            case 'bonus_mana_regen':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n                else if (ability.manaregen != undefined) {\n                    // necrolyte_sadist\n                    totalAttribute+=ability.manaregen();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getManaRegenArcaneAura = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                //if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // crystal_maiden_brilliance_aura\n                            case 'mana_regen':\n                                if (ability.name == 'crystal_maiden_brilliance_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                        }\n                    }\n                //}\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getManaRegenReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                /*if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        //switch(attribute.name) {\n                        //    // \n                        //    case '':\n                        //        totalAttribute += parseInt(attribute.value[ability.level()-1]);\n                        //    break;\n                        //}\n                    }\n                }\n                else*/ if (ability.manaregenreduction != undefined) {\n                    // pugna_nether_ward\n                    totalAttribute+=ability.manaregenreduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAttackRange = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0) {\n                if (!(ability.name in self.abilityData)) {\n                    if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                        for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                            var attribute = self._abilities[i].attributes[j];\n                            switch(attribute.name) {\n                                // winter_wyvern_arctic_burn\n                                case 'attack_range_bonus':\n                                // templar_assassin_psi_blades,sniper_take_aim\n                                case 'bonus_attack_range':\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                break;\n                                // terrorblade_metamorphosis,troll_warlord_berserkers_rage\n                                case 'bonus_range':\n                                    if (ability.name == 'terrorblade_metamorphosis') {\n                                        totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                    }\n                                    if (ability.name == 'troll_warlord_berserkers_rage') {\n                                        totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                    }\n                                break;\n                                // tiny_grow\n                                case 'bonus_range_scepter':\n                                    if (ability.name == 'tiny_grow' && self.hasScepter()) {\n                                        totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                    }\n                                break;\n                                // enchantress_impetus\n                                case 'bonus_attack_range_scepter':\n                                    if (ability.name == 'enchantress_impetus' && self.hasScepter()) {\n                                        totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                    }\n                                break;\n                            }\n                        }\n                        // lone_druid_true_form\n                        if (ability.name == 'lone_druid_true_form') {\n                            totalAttribute -= 422;\n                        }\n                    }\n                    else if (ability.name == 'enchantress_impetus' && self.hasScepter()) {\n                        for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                            var attribute = self._abilities[i].attributes[j];\n                            switch(attribute.name) {\n                              case 'bonus_attack_range_scepter':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                              break;\n                            }\n                        }\n                    }\n                }\n                else if (ability.attackrange != undefined) {\n                    if (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1)) {\n                        // dragon_knight_elder_dragon_form\n                        totalAttribute+=ability.attackrange();\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAttackSpeed = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // abaddon_frostmourne,troll_warlord_battle_trance\n                            case 'attack_speed':\n                            // visage_grave_chill\n                            case 'attackspeed_bonus':\n                            // mirana_leap\n                            case 'leap_speedbonus_as':\n                            // life_stealer\n                            case 'attack_speed_bonus':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                            // clinkz_strafe,ursa_overpower\n                            case 'attack_speed_bonus_pct':\n                                if (ability.name == 'clinkz_strafe' || ability.name == 'ursa_overpower') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // axe_culling_blade,necronomicon_archer_aoe\n                            case 'speed_bonus':\n                                if (ability.name == 'axe_culling_blade' || ability.name == 'necronomicon_archer_aoe') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // ancient_apparition_chilling_touch\n                            case 'attack_speed_pct':\n                                if (ability.name == 'ancient_apparition_chilling_touch') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // beastmaster_inner_beast,lycan_feral_impulse,lone_druid_rabid,tiny_grow,phantom_assassin_phantom_strike,windrunner_focusfire,ogre_magi_bloodlust,centaur_khan_endurance_aura\n                            case 'bonus_attack_speed':\n                                if (ability.name == 'beastmaster_inner_beast' \n                                 || ability.name == 'lycan_feral_impulse' \n                                 || ability.name == 'lone_druid_rabid' \n                                 || ability.name == 'tiny_grow' \n                                 || ability.name == 'phantom_assassin_phantom_strike' \n                                 || ability.name == 'windrunner_focusfire' \n                                 || ability.name == 'ogre_magi_bloodlust'\n                                 || ability.name == 'centaur_khan_endurance_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.attackspeed != undefined) {\n                    // troll_warlord_fervor,wisp_overcharge,lina_fiery_soul,invoker_alacrity,invoker_wex,huskar_berserkers_blood\n                    totalAttribute+=ability.attackspeed();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getAttackSpeedReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // night_stalker_void,crystal_maiden_crystal_nova,ghost_frost_attack,ogre_magi_frost_armor,polar_furbolg_ursa_warrior_thunder_clap\n                            case 'attackspeed_slow':\n                            // lich_frost_armor,lich_frost_nova,enchantress_untouchable\n                            case 'slow_attack_speed':\n                            // beastmaster_primal_roar\n                            case 'slow_attack_speed_pct':\n                            // storm_spirit_overload\n                            case 'overload_attack_slow':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                            // omniknight_degen_aura\n                            case 'speed_bonus':\n                                if (ability.name == 'omniknight_degen_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // tusk_frozen_sigil,crystal_maiden_freezing_field\n                            case 'attack_slow':\n                                if (ability.name == 'crystal_maiden_freezing_field' && !self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                                else if (ability.name == 'tusk_frozen_sigil') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            case 'attack_slow_scepter':\n                                if (ability.name == 'crystal_maiden_freezing_field' && self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // faceless_void_time_walk\n                            case 'attack_speed_pct':\n                                if (ability.name == 'faceless_void_time_walk') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // bounty_hunter_jinada\n                            case 'bonus_attackspeed':\n                                if (ability.name == 'bounty_hunter_jinada') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // brewmaster_thunder_clap\n                            case 'attack_speed_slow':\n                                if (ability.name == 'brewmaster_thunder_clap') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // medusa_stone_gaze\n                            case 'slow':\n                                if (ability.name == 'medusa_stone_gaze') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // visage_grave_chill\n                            case 'attackspeed_bonus':\n                                totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                            // abaddon_frostmourne\n                            case 'attack_slow_tooltip':\n                                if (ability.name == 'abaddon_frostmourne') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                        }\n                    }\n                    if (ability.name == 'enraged_wildkin_tornado') {\n                        totalAttribute -= 15;\n                    }\n                }\n                else if (ability.attackspeedreduction != undefined) {\n                    // viper_viper_strike,viper_corrosive_skin,jakiro_liquid_fire,lich_chain_frost,sandking_epicenter,earth_spirit_rolling_boulder\n                    totalAttribute+=ability.attackspeedreduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    self.getBash = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // slardar_bash\n                            case 'chance':\n                            // sniper_headshot\n                            case 'proc_chance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n                else if (ability.bash != undefined) {\n                    // spirit_breaker_greater_bash,faceless_void_time_lock\n                    totalAttribute *= (1 - ability.bash()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });    \n    self.getBaseDamage = ko.computed(function () {\n        var totalAttribute = 0;\n        var totalMultiplier = 1;\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // tiny_grow,terrorblade_metamorphosis\n                            case 'bonus_damage':\n                                if (ability.name == 'tiny_grow' || ability.name == 'terrorblade_metamorphosis') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    if (ability.baseDamageMultiplier != undefined) {\n                        // earthshaker_enchant_totem\n                        totalMultiplier += ability.baseDamageMultiplier()/100;\n                        /*totalAttribute += ability.baseDamage();\n                        sources[ability.name] = {\n                            'damage': ability.baseDamage(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname\n                        }*/\n                    }\n                    if (ability.baseDamage != undefined) {\n                        // clinkz_death_pact\n                        totalAttribute += ability.baseDamage();\n                        sources[ability.name] = {\n                            'damage': ability.baseDamage(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname\n                        }\n                    }\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute, multiplier: totalMultiplier };\n    });\n    \n    self.getSelfBaseDamageReductionPct = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // medusa_split_shot\n                            case 'damage_modifier':\n                                totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                            // windrunner_focusfire\n                            case 'focusfire_damage_reduction':\n                                if (!self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                            case 'focusfire_damage_reduction_scepter':\n                                if (self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getBaseDamageReductionPct = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // vengefulspirit_command_aura\n                            case 'bonus_damage_pct':\n                                if (ability.name == 'vengefulspirit_command_aura') {\n                                    totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.baseDamageReductionPct != undefined) {\n                    // nevermore_requiem\n                    totalAttribute *= (1 + ability.baseDamageReductionPct()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getBAT = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // troll_warlord_berserkers_rage,alchemist_chemical_rage,lone_druid_true_form,lycan_shapeshift\n                            case 'base_attack_time':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    self.getBonusDamage = ko.computed(function () {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // broodmother_insatiable_hunger,luna_lunar_blessing,templar_assassin_refraction,templar_assassin_meld,troll_warlord_berserkers_rage,lone_druid_true_form_battle_cry\n                            case 'bonus_damage':\n                                if (ability.name == 'broodmother_insatiable_hunger' || ability.name == 'luna_lunar_blessing'\n                                 || ability.name == 'templar_assassin_refraction' || ability.name == 'templar_assassin_meld'\n                                 || ability.name == 'troll_warlord_berserkers_rage' || ability.name == 'lone_druid_true_form_battle_cry') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                            // lycan_howl\n                            case 'hero_bonus_damage':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                sources[ability.name] = {\n                                    'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level()),\n                                    'damageType': 'physical',\n                                    'displayname': ability.displayname\n                                }\n                            break;\n                        }\n                    }\n                    if (ability.name == 'storm_spirit_overload') {\n                        totalAttribute += self.getAbilityPropertyValue(ability, 'damage');\n                        sources[ability.name] = {\n                            'damage': self.getAbilityPropertyValue(ability, 'damage'),\n                            'damageType': 'magic',\n                            'displayname': ability.displayname\n                        }                        \n                    }\n                }\n                else if (ability.bonusDamage != undefined && ability.bonusDamage() != 0) {\n                    // nevermore_necromastery,ursa_fury_swipes,ursa_enrage,invoker_alacrity,invoker_exort,elder_titan_ancestral_spirit,spectre_desolate,razor_static_link\n                    totalAttribute+=ability.bonusDamage();\n                    sources[ability.name] = {\n                        'damage': ability.bonusDamage(),\n                        'damageType': ability.name == 'spectre_desolate' ? 'pure' : 'physical',\n                        'displayname': ability.displayname\n                    }\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    });\n\n    self.getBonusDamagePercent = ko.computed(function () {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // bloodseeker_bloodrage\n                            case 'damage_increase_pct':\n                                if (ability.name == 'bloodseeker_bloodrage') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                            // magnataur_empower,vengefulspirit_command_aura,alpha_wolf_command_aura\n                            case 'bonus_damage_pct':\n                                if (ability.name == 'magnataur_empower' || ability.name == 'vengefulspirit_command_aura' || ability.name == 'alpha_wolf_command_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                            // sven_gods_strength\n                            case 'gods_strength_damage':\n                                if (ability.name == 'sven_gods_strength' && self.hero != undefined && self.hero.heroId() == 'sven') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                            case 'gods_strength_damage_scepter':\n                                if (ability.name == 'sven_gods_strength' && self.hero == undefined) {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n                /*else if (ability.bonusDamagePct != undefined && ability.bonusDamagePct() != 0) {\n                    // bloodseeker_bloodrage\n                    // totalAttribute+=ability.bonusDamagePct()/100;\n                    // sources[ability.name] = {\n                        // 'damage': ability.bonusDamagePct()/100,\n                        // 'damageType': 'physical',\n                        // 'displayname': ability.displayname\n                    // }\n                }*/\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    });\n\n    self.getBonusDamageBackstab = ko.computed(function () {\n        var totalAttribute1 = 0;\n        var totalAttribute2 = 0;\n        var sources = [];\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.name == 'riki_backstab') {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // riki_backstab\n                            case 'damage_multiplier':\n                                totalAttribute1 += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                sources.push({\n                                    'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level()),\n                                    'damageType': 'physical',\n                                    'displayname': ability.displayname\n                                });\n                            break;\n                        }\n                    }/*\n                    if (ability.bonusDamageBackstab != undefined) {\n                        console.log('bonusDamageBackstab');\n                        // damage_multiplier\n                        totalAttribute2+=ability.bonusDamageBackstab();\n                        sources.push({\n                            'damage': ability.bonusDamageBackstab(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname\n                        });\n                    }\n                    */\n                }\n            }\n        }\n        return { sources: sources, total: [totalAttribute1,totalAttribute2] };\n    });\n    \n    self.getBonusDamagePrecisionAura = ko.computed(function () {\n        var totalAttribute1 = 0;\n        var totalAttribute2 = 0;\n        var sources = [];\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.name == 'drow_ranger_trueshot') {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // drow_ranger_trueshot\n                            case 'trueshot_ranged_damage':\n                                totalAttribute1 += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                sources.push({\n                                    'damage': self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100,\n                                    'damageType': 'physical',\n                                    'displayname': ability.displayname\n                                });\n                            break;\n                        }\n                    }\n                    if (ability.bonusDamagePrecisionAura != undefined) {\n                        // drow_ranger_trueshot\n                        totalAttribute2+=ability.bonusDamagePrecisionAura();\n                        sources.push({\n                            'damage': ability.bonusDamagePrecisionAura(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname\n                        });\n                    }\n                }\n            }\n        }\n        return { sources: sources, total: [totalAttribute1,totalAttribute2] };\n    });\n    \n    self.getBonusDamageReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // bane_enfeeble\n                            case 'enfeeble_attack_reduction':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n                else if (ability.bonusDamageReduction != undefined) {\n                    // rubick_fade_bolt,razor_static_link\n                    totalAttribute+=ability.bonusDamageReduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getBonusDamageReductionPct = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // medusa_split_shot\n                            case 'damage_modifier':\n                                totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                            // windrunner_focusfire\n                            case 'focusfire_damage_reduction':\n                                if (!self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                            case 'focusfire_damage_reduction_scepter':\n                                if (self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getDamageAmplification = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                /*if (!(ability.name in self.abilityData)) {\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                        for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                            var attribute = self._abilities[i].attributes[j];\n                            switch(attribute.name) {\n                                // bane_enfeeble\n                                case 'enfeeble_attack_reduction':\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                break;\n                            }\n                        }\n                    }\n                }\n                else*/ if (ability.damageAmplification != undefined) {\n                        // undying_flesh_golem\n                        totalAttribute *= (1 + ability.damageAmplification()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getDamageReduction = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // bloodseeker_bloodrage\n                            case 'damage_increase_pct':\n                                if (ability.name == 'bloodseeker_bloodrage') {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                    // kunkka_ghostship\n                    if (ability.name == 'kunkka_ghostship') {\n                        totalAttribute *= (1 - 50/100);\n                    }\n                }\n                else if (ability.damageReduction != undefined) {\n                    // wisp_overcharge,bristleback_bristleback,spectre_dispersion,medusa_mana_shield,ursa_enrage\n                    totalAttribute *= (1 + ability.damageReduction()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getCritSource = ko.computed(function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    switch(ability.name) {\n                        // phantom_assassin_coup_de_grace,brewmaster_drunken_brawler,chaos_knight_chaos_strike,lycan_shapeshift,skeleton_king_mortal_strike,juggernaut_blade_dance,alpha_wolf_critical_strike,giant_wolf_critical_strike\n                        case 'phantom_assassin_coup_de_grace':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'chance': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_bonus', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        case 'brewmaster_drunken_brawler':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'chance': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_multiplier', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        case 'chaos_knight_chaos_strike':\n                        case 'lycan_shapeshift':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'chance': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_multiplier', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        case 'skeleton_king_mortal_strike':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'chance': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_mult', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        case 'juggernaut_blade_dance':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'chance': self.getAbilityAttributeValue(self._abilities[i].attributes, 'blade_dance_crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self._abilities[i].attributes, 'blade_dance_crit_mult', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        case 'alpha_wolf_critical_strike':\n                        case 'giant_wolf_critical_strike':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'chance': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self._abilities[i].attributes, 'crit_mult', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                    }\n                }\n            }\n        }\n        return sources;\n    });    \n\n    self.getCleaveSource = ko.computed(function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    switch(ability.name) {\n                        // magnataur_empower\n                        case 'magnataur_empower':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'radius': self.getAbilityAttributeValue(self._abilities[i].attributes, 'cleave_radius', ability.level()),\n                                    'magnitude': self.getAbilityAttributeValue(self._abilities[i].attributes, 'cleave_damage_pct', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        // sven_great_cleave\n                        case 'sven_great_cleave':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'radius': self.getAbilityAttributeValue(self._abilities[i].attributes, 'great_cleave_radius', ability.level()),\n                                    'magnitude': self.getAbilityAttributeValue(self._abilities[i].attributes, 'great_cleave_damage', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        // kunkka_tidebringer\n                        case 'kunkka_tidebringer':\n                            if (sources[ability.name] == undefined) {\n                                sources[ability.name] = {\n                                    'radius': self.getAbilityAttributeValue(self._abilities[i].attributes, 'radius', ability.level()),\n                                    'magnitude': 1,\n                                    'count': 1,\n                                    'displayname': ability.displayname\n                                }\n                            }\n                            else {\n                                sources[ability.name].count += 1;\n                            }\n                        break;\n                        // tiny_grow\n                        case 'tiny_grow':\n                            if (self.hasScepter()) {\n                                if (sources[ability.name] == undefined) {\n                                    sources[ability.name] = {\n                                        'radius': self.getAbilityAttributeValue(self._abilities[i].attributes, 'bonus_cleave_radius_scepter', ability.level()),\n                                        'magnitude': self.getAbilityAttributeValue(self._abilities[i].attributes, 'bonus_cleave_damage_scepter', ability.level())/100,\n                                        'count': 1,\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                                else {\n                                    sources[ability.name].count += 1;\n                                }\n                            }\n                        break;\n                    }\n                }\n            }\n        }\n        return sources;\n    });    \n    \n    self.getCritChance = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // phantom_assassin_coup_de_grace,brewmaster_drunken_brawler,chaos_knight_chaos_strike,lycan_shapeshift,skeleton_king_mortal_strike\n                            case 'crit_chance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });            \n    \n    self.getEvasion = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // phantom_assassin_blur\n                            case 'bonus_evasion':\n                            // brewmaster_drunken_brawler\n                            case 'dodge_chance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getEvasionBacktrack = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // faceless_void_backtrack\n                            case 'dodge_chance_pct':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMissChance = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // broodmother_incapacitating_bite,brewmaster_drunken_haze\n                            case 'miss_chance':\n                            // riki_smoke_screen,keeper_of_the_light_blinding_light,tinker_laser\n                            case 'miss_rate':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n                else if (ability.missChance != undefined) {\n                    // night_stalker_crippling_fear\n                    totalAttribute*=(1-ability.missChance()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getLifesteal = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // skeleton_king_vampiric_aura\n                            case 'vampiric_aura':\n                            // broodmother_insatiable_hunger\n                            case 'lifesteal_pct':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n                else if (ability.lifesteal != undefined) {\n                    // life_stealer_open_wounds\n                    totalAttribute+=ability.lifesteal();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMagicResist = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // antimage_spell_shield\n                            case 'spell_shield_resistance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                            // phantom_lancer_phantom_edge\n                            case 'magic_resistance_pct':\n                                if (ability.name == 'phantom_lancer_phantom_edge') {\n                                    totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                            // rubick_null_field\n                            case 'magic_damage_reduction_pct':\n                                if (ability.name == 'rubick_null_field') {\n                                    totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.magicResist != undefined) {\n                    // huskar_berserkers_blood,viper_corrosive_skin,visage_gravekeepers_cloak\n                    totalAttribute *= (1 - ability.magicResist()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getMagicResistReduction = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // ancient_apparition_ice_vortex\n                            case 'spell_resist_pct':\n                            // pugna_decrepify\n                            case 'bonus_spell_damage_pct':\n                            // skywrath_mage_ancient_seal\n                            case 'resist_debuff':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                            // elder_titan_natural_order\n                            case 'magic_resistance_pct':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMovementSpeedFlat = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // alchemist_chemical_rage\n                            case 'bonus_movespeed':\n                                if (ability.name == 'alchemist_chemical_rage') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // tiny_grow\n                            case 'bonus_movement_speed':\n                                if (ability.name == 'tiny_grow') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }\n                            break;\n                            // troll_warlord_berserkers_rage\n                            case 'bonus_move_speed':\n                                if (ability.name == 'troll_warlord_berserkers_rage') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                                }                                \n                            break;\n                            // lone_druid_true_form\n                            case 'speed_loss':\n                                totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n                else if (ability.movementSpeedFlat != undefined) {\n                // dragon_knight_elder_dragon_form\n                    totalAttribute+=ability.movementSpeedFlat();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMovementSpeedPercent = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // abaddon_frostmourne \n                            case 'move_speed_pct':\n                            // bounty_hunter_track \n                            case 'bonus_move_speed_pct':\n                            // mirana_leap \n                            case 'leap_speedbonus':\n                            // sven_warcry \n                            case 'warcry_movespeed':\n                            // clinkz_wind_walk\n                            case 'move_speed_bonus_pct':\n                            // windrunner_windrun\n                            case 'movespeed_bonus_pct':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                            break;\n                            // broodmother_spin_web,spectre_spectral_dagger\n                            case 'bonus_movespeed':\n                                if (ability.name == 'broodmother_spin_web' || ability.name == 'spectre_spectral_dagger') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // axe_culling_blade,necronomicon_archer_aoe\n                            case 'speed_bonus':\n                                if (ability.name == 'axe_culling_blade' || ability.name == 'necronomicon_archer_aoe') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // nyx_assassin_vendetta \n                            case 'movement_speed':\n                                if (ability.name == 'nyx_assassin_vendetta') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // spirit_breaker_empowering_haste\n                            case 'bonus_movespeed_pct':\n                                if (ability.name == 'spirit_breaker_empowering_haste') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // ogre_magi_bloodlust,death_prophet_witchcraft,kobold_taskmaster_speed_aura\n                            case 'bonus_movement_speed':\n                                if (ability.name == 'ogre_magi_bloodlust' || ability.name == 'death_prophet_witchcraft' || ability.name == 'kobold_taskmaster_speed_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // razor_unstable_current,phantom_lancer_doppelwalk\n                            case 'movement_speed_pct':\n                                if (ability.name == 'razor_unstable_current' || ability.name == 'phantom_lancer_doppelwalk') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // treant_natures_guise,lone_druid_rabid\n                            case 'bonus_move_speed':\n                                if (ability.name == 'treant_natures_guise' || ability.name == 'lone_druid_rabid') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // wisp_tether\n                            case 'movespeed':\n                                if (ability.name == 'wisp_tether') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // kunkka_ghostship,visage_grave_chill\n                            case 'movespeed_bonus':\n                                if (ability.name == 'kunkka_ghostship' || ability.name == 'visage_grave_chill') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }                                \n                            break;\n                        }\n                    }\n                }\n                else if (ability.movementSpeedPct != undefined) {\n                // axe_battle_hunger,bristleback_warpath,spirit_breaker_greater_bash,lina_fiery_soul,invoker_ghost_walk,invoker_wex,elder_titan_ancestral_spirit\n                    totalAttribute+=ability.movementSpeedPct()/100;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getMovementSpeedPercentReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // crystal_maiden_freezing_field\n                            case 'movespeed_slow':\n                                if (ability.name == 'crystal_maiden_freezing_field' && !self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            case 'movespeed_slow_scepter':\n                                if (ability.name == 'crystal_maiden_freezing_field' && self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // elder_titan_earth_splitter,magnataur_skewer,abaddon_frostmourne \n                            case 'slow_pct':\n                                totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                            break;\n                            // night_stalker_void,crystal_maiden_crystal_nova,ghost_frost_attack,ogre_magi_frost_armor,polar_furbolg_ursa_warrior_thunder_clap\n                            case 'movespeed_slow':\n                                if (ability.name != 'crystal_maiden_freezing_field') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // lich_frost_armor,lich_frost_nova,enchantress_enchant\n                            case 'slow_movement_speed':\n                            // beastmaster_primal_roar\n                            case 'slow_movement_speed_pct':\n                            // drow_ranger_frost_arrows\n                            case 'frost_arrows_movement_speed':\n                            // skeleton_king_hellfire_blast\n                            case 'blast_slow':\n                            // slardar_slithereen_crush\n                            case 'crush_extra_slow':\n                            // storm_spirit_overload:\n                            case 'overload_move_slow':\n                            // windrunner_windrun\n                            case 'enemy_movespeed_bonus_pct':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                            break;\n                            // phantom_assassin_stifling_dagger,tusk_frozen_sigil\n                            case 'move_slow':\n                                if (ability.name == 'phantom_assassin_stifling_dagger') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                                else if (ability.name == 'tusk_frozen_sigil') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // invoker_ice_wall,medusa_stone_gaze,wisp_tether\n                            case 'slow':\n                                if (ability.name == 'medusa_stone_gaze') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                                else {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // broodmother_incapacitating_bite,bounty_hunter_jinada,spectre_spectral_dagger,winter_wyvern_arctic_burn\n                            case 'bonus_movespeed':\n                                if (ability.name == 'broodmother_incapacitating_bite' || ability.name == 'bounty_hunter_jinada' || ability.name == 'winter_wyvern_arctic_burn' || ability.name == 'winter_wyvern_splinter_blast') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                                else if (ability.name == 'spectre_spectral_dagger') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // omniknight_degen_aura\n                            case 'speed_bonus':\n                                if (ability.name == 'omniknight_degen_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // tidehunter_gush\n                            case 'movement_speed':\n                                if (ability.name == 'tidehunter_gush') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // pugna_decrepify,chen_penitence\n                            case 'bonus_movement_speed':\n                                if (ability.name == 'pugna_decrepify' || ability.name == 'chen_penitence') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // ancient_apparition_ice_vortex,phantom_lancer_spirit_lance,skywrath_mage_concussive_shot,faceless_void_time_walk\n                            case 'movement_speed_pct':\n                                if (ability.name == 'ancient_apparition_ice_vortex' || ability.name == 'phantom_lancer_spirit_lance' || ability.name == 'faceless_void_time_walk') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                                else if (ability.name == 'skywrath_mage_concussive_shot') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // razor_unstable_current\n                            case 'slow_amount':\n                                if (ability.name == 'razor_unstable_current') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // brewmaster_drunken_haze,brewmaster_thunder_clap,treant_leech_seed\n                            case 'movement_slow':\n                                if (ability.name == 'brewmaster_drunken_haze' || ability.name == 'brewmaster_thunder_clap') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                                else if (ability.name == 'ursa_earthshock' || ability.name == 'treant_leech_seed') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // skeleton_king_reincarnation\n                            case 'movespeed':\n                                if (ability.name == 'skeleton_king_reincarnation') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                            // kunkka_torrent,visage_grave_chill\n                            case 'movespeed_bonus':\n                                if (ability.name == 'kunkka_torrent') {\n                                    totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                                else if (ability.name == 'visage_grave_chill') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                        }\n                    }\n                    if (ability.name == 'satyr_trickster_purge') {\n                        totalAttribute -= 80/100;\n                    }\n                    else if (ability.name == 'enraged_wildkin_tornado') {\n                        totalAttribute -= 15/100;\n                    }\n                }\n                else if (ability.movementSpeedPctReduction != undefined) {\n                    // axe_battle_hunger,batrider_sticky_napalm,shredder_chakram,meepo_geostrike,life_stealer_open_wounds,\n                    // venomancer_poison_sting,viper_viper_strike,viper_corrosive_skin,viper_poison_attack,venomancer_venomous_gale,treant_leech_seed\n                    // lich_chain_frost,sniper_shrapnel,centaur_stampede,huskar_life_break,jakiro_dual_breath,meepo_geostrike,sandking_epicenter\n                    // earth_spirit_rolling_boulder,invoker_ghost_walk,invoker_ice_wall,elder_titan_earth_splitter\n                    // undying_flesh_golem,templar_assassin_psionic_trap,nevermore_requiem,queenofpain_shadow_strike\n                    totalAttribute+=ability.movementSpeedPctReduction()/100;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getTurnRateReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // medusa_stone_gaze\n                            case 'slow':\n                                if (ability.name == 'medusa_stone_gaze') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.turnRateReduction != undefined) {\n                    // batrider_sticky_napalm\n                    totalAttribute+=ability.turnRateReduction()/100;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getVisionRangeNight = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // winter_wyvern_arctic_burn\n                            case 'night_vision_bonus':\n                            // lycan_shapeshift,luna_lunar_blessing\n                            case 'bonus_night_vision':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level());\n                            break;\n                        }\n                    }\n                }\n                else if (ability.visionnight != undefined) {\n                    // \n                    totalAttribute+=ability.visionnight();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getVisionRangePctReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // night_stalker_darkness\n                            case 'blind_percentage':\n                                totalAttribute += self.getAbilityAttributeValue(self._abilities[i].attributes, attribute.name, ability.level())/100;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.setEvasion = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (ability.name == 'windrunner_windrun') {\n                    return 1;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.setMovementSpeed = ko.computed(function () {\n        var MAX_MOVESPEED = 522;\n        var MIN_MOVESPEED = 100;\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (ability.name == 'spirit_breaker_charge_of_darkness') {\n                    return self.getAbilityAttributeValue(ability.attributes, 'movement_speed', ability.level());\n                }\n                if (ability.name == 'dark_seer_surge') {\n                    return MAX_MOVESPEED;\n                }\n                if (ability.name == 'centaur_stampede') {\n                    return MAX_MOVESPEED;\n                }\n                if (ability.name == 'lycan_shapeshift') {\n                    return MAX_MOVESPEED;\n                }\n                if (ability.name == 'lion_voodoo' || ability.name == 'shadow_shaman_voodoo') {\n                    return MIN_MOVESPEED;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getBashSource = function (attacktype) {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // sniper_headshot\n                            case 'proc_chance':\n                                if (sources[ability.name] == undefined && ability.name == 'sniper_headshot') {\n                                    sources[ability.name] = {\n                                        'chance': self.getAbilityAttributeValue(ability.attributes, attribute.name, ability.level())/100,\n                                        'damage': self.getAbilityPropertyValue(ability, 'damage'),\n                                        'count': 1,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                            // slardar_bash\n                            case 'chance':\n                                if (sources[ability.name] == undefined && ability.name == 'slardar_bash') {\n                                    sources[ability.name] = {\n                                        'chance': self.getAbilityAttributeValue(ability.attributes, attribute.name, ability.level())/100,\n                                        'damage': self.getAbilityAttributeValue(ability.attributes, 'bonus_damage', ability.level()),\n                                        'count': 1,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.bashBonusDamage != undefined) {\n                    // faceless_void_time_lock\n                    if (sources[ability.name] == undefined && ability.name == 'faceless_void_time_lock') {\n                        sources[ability.name] = {\n                            'chance': ability.bash()/100,\n                            'damage': ability.bashBonusDamage(),\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': ability.displayname\n                        }\n                    }\n                    // spirit_breaker_greater_bash\n                    if (sources[ability.name] == undefined && ability.name == 'spirit_breaker_greater_bash') {\n                        sources[ability.name] = {\n                            'chance': ability.bash()/100,\n                            'damage': ability.bashBonusDamage()/100,\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': ability.displayname\n                        }\n                    }\n                }\n            }\n        }\n\n        return sources;\n    };\n    \n    self.getOrbSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self._abilities[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (!(ability.name in self.abilityData)) {\n                    for (var j = 0; j < self._abilities[i].attributes.length; j++) {\n                        var attribute = self._abilities[i].attributes[j];\n                        switch(attribute.name) {\n                            // antimage_mana_break\n                            case 'mana_per_hit':\n                                if (sources[ability.name] == undefined && ability.name == 'antimage_mana_break') {\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(ability.attributes, attribute.name, ability.level()) \n                                                * self.getAbilityAttributeValue(ability.attributes, 'damage_per_burn', ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                            // clinkz_searing_arrows\n                            case 'damage_bonus':\n                                if (sources[ability.name] == undefined && ability.name == 'clinkz_searing_arrows') {\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(ability.attributes, attribute.name, ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            // silencer_glaives_of_wisdom\n                            case 'intellect_damage_pct':\n                                if (sources[ability.name] == undefined && ability.name == 'silencer_glaives_of_wisdom') {\n                                    sources[ability.name] = {\n                                        'damage': self.getAbilityAttributeValue(ability.attributes, attribute.name, ability.level())/100 * self.hero.totalInt(),\n                                        'damageType': 'pure',\n                                        'displayname': ability.displayname\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n                else if (ability.bonusDamageOrb != undefined) {\n                    // obsidian_destroyer_arcane_orb\n                    if (sources[ability.name] == undefined && ability.name == 'obsidian_destroyer_arcane_orb') {\n                        sources[ability.name] = {\n                            'damage': ability.bonusDamageOrb(),\n                            'damageType': 'pure',\n                            'displayname': ability.displayname\n                        }\n                    }\n                }\n            }\n        }\n        \n        return sources;\n    };\n    \n    self.toggleAbility = function (index, data, event) {\n        if (self.abilities()[index()].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') < 0) {\n            if (self.abilities()[index()].isActive()) {\n                self.abilities()[index()].isActive(false);\n            }\n            else {\n                self.abilities()[index()].isActive(true);\n            }\n            \n            if (self.abilities()[index()].name == 'lycan_shapeshift') {\n                self.isShapeShiftActive(self.abilities()[index()].isActive());\n            }\n        }\n    }.bind(this);\n\n    self.toggleAbilityDetail = function (index, data, event) {\n        if (self.abilities()[index()].isDetail()) {\n            self.abilities()[index()].isDetail(false);\n        }\n        else {\n            self.abilities()[index()].isDetail(true);\n        }\n    }.bind(this);\n    \n    self.getAbility = function (abilityName) {\n        return self.abilities().find(function(b) {\n            return b.name == abilityName;\n        });\n    }\n}\n\nAbilityModel.prototype.levelUpAbility = function (index, data, event, hero) {\n    var self = this;\n    if (self.abilities()[index()].level() < hero.getAbilityLevelMax(data) && hero.availableSkillPoints() > 0 ) {\n        switch(self.abilities()[index()].abilitytype) {\n            case 'DOTA_ABILITY_TYPE_ULTIMATE':\n                if (hero.heroId() == 'invoker') {\n                    if (\n                        (self.abilities()[index()].level() == 0) && (parseInt(hero.selectedHeroLevel()) >= 2) ||\n                        (self.abilities()[index()].level() == 1) && (parseInt(hero.selectedHeroLevel()) >= 7) ||\n                        (self.abilities()[index()].level() == 2) && (parseInt(hero.selectedHeroLevel()) >= 11) ||\n                        (self.abilities()[index()].level() == 3) && (parseInt(hero.selectedHeroLevel()) >= 17)\n                    ) {\n                        self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                        hero.skillPointHistory.push(index());\n                    }\n                }\n                else if (hero.heroId() == 'meepo') {\n                    if (self.abilities()[index()].level() * 7 + 3 <= parseInt(hero.selectedHeroLevel())) {\n                        self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                        hero.skillPointHistory.push(index());\n                    }\n                }\n                else {\n                    if ((self.abilities()[index()].level()+1) * 5 + 1 <= parseInt(hero.selectedHeroLevel())) {\n                        self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                        hero.skillPointHistory.push(index());\n                    }\n                }\n            break;\n            default:\n                if (self.abilities()[index()].level() * 2 + 1 <= parseInt(hero.selectedHeroLevel())) {\n                    self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                    hero.skillPointHistory.push(index());\n                }\n            break;\n        }\n        switch (self.abilities()[index()].name) {\n            case 'beastmaster_call_of_the_wild':\n            case 'chen_test_of_faith':\n            case 'morphling_morph_agi':\n            case 'shadow_demon_shadow_poison':\n                self.abilities()[index() + 1].level(self.abilities()[index()].level());\n            break;\n            case 'morphling_morph_str':\n                self.abilities()[index() - 1].level(self.abilities()[index()].level());\n            break;\n            case 'keeper_of_the_light_spirit_form':\n                self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                self.abilities()[index() - 2].level(self.abilities()[index()].level());\n            break;\n            case 'nevermore_shadowraze1':\n                self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                self.abilities()[index() + 2].level(self.abilities()[index()].level());\n            break;\n            case 'nevermore_shadowraze2':\n                self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                self.abilities()[index() + 1].level(self.abilities()[index()].level());\n            break;\n            case 'nevermore_shadowraze3':\n                self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                self.abilities()[index() - 2].level(self.abilities()[index()].level());\n            break;\n            case 'ember_spirit_fire_remnant':\n                self.abilities()[index() - 1].level(self.abilities()[index()].level());\n            break;\n            case 'lone_druid_true_form':\n                self.abilities()[index() - 1].level(self.abilities()[index()].level());\n            break;\n        }\n    }\n};\nAbilityModel.prototype.levelDownAbility = function (index, data, event, hero) {\n    var i = ko.utils.unwrapObservable(index);\n    var self = this;\n    if (self.abilities()[i].level() > 0) {\n        self.abilities()[i].level(self.abilities()[i].level() - 1);\n        hero.skillPointHistory.splice(hero.skillPointHistory().lastIndexOf(i), 1);\n        switch (self.abilities()[i].name) {\n            case 'beastmaster_call_of_the_wild':\n            case 'chen_test_of_faith':\n            case 'morphling_morph_agi':\n            case 'shadow_demon_shadow_poison':\n                self.abilities()[i + 1].level(self.abilities()[i].level());\n            break;\n            case 'morphling_morph_str':\n                self.abilities()[i - 1].level(self.abilities()[i].level());\n            break;\n            case 'keeper_of_the_light_spirit_form':\n                self.abilities()[i - 1].level(self.abilities()[i].level());\n                self.abilities()[i - 2].level(self.abilities()[i].level());\n            break;\n            case 'nevermore_shadowraze1':\n                self.abilities()[i + 1].level(self.abilities()[i].level());\n                self.abilities()[i + 2].level(self.abilities()[i].level());\n            break;\n            case 'nevermore_shadowraze2':\n                self.abilities()[i - 1].level(self.abilities()[i].level());\n                self.abilities()[i + 1].level(self.abilities()[i].level());\n            break;\n            case 'nevermore_shadowraze3':\n                self.abilities()[i - 1].level(self.abilities()[i].level());\n                self.abilities()[i - 2].level(self.abilities()[i].level());\n            break;\n            case 'ember_spirit_fire_remnant':\n                self.abilities()[i - 1].level(self.abilities()[i].level());\n            break;\n            case 'lone_druid_true_form':\n                self.abilities()[i - 1].level(self.abilities()[i].level());\n            break;\n        }\n    }\n};\nAbilityModel.prototype.getAbilityAttributeValue = function (attributes, attributeName, level) {\n    for (var i=0; i < attributes.length; i++) {\n        if (attributes[i].name == attributeName) {\n            if (level == 0) {\n                return parseFloat(attributes[i].value[0]);\n            }\n            else if (level > attributes[i].value.length) {\n                return parseFloat(attributes[i].value[0]);\n            }\n            else {\n                return parseFloat(attributes[i].value[level-1]);\n            }\n        }\n    }\n}\nAbilityModel.prototype.getAbilityAttributeTooltip = function (attributes, attributeName) {\n    for (var i=0; i<attributes.length; i++) {\n        if (attributes[i].name == attributeName) {\n            if (attributes[i].hasOwnProperty('tooltip')) {\n                var d = attributes[i].tooltip.replace(/\\\\n/g, '');\n                return d;\n            }\n            else {\n                return '';\n            }\n        }\n    }\n    return '';\n}\n\nmodule.exports = AbilityModel;","'use strict';\nvar ko = require('./herocalc_knockout');\n\nvar AbilityModel = require(\"./AbilityModel\");\nvar InventoryViewModel = require(\"./inventory/InventoryViewModel\");\nvar findWhere = require(\"./util/findWhere\");\nvar buffOptionsArray = require(\"./buffs/buffOptionsArray\");\nvar debuffOptionsArray = require(\"./buffs/debuffOptionsArray\");\n\nvar BuffViewModel = function (itemData, a) {\n    var self = this;\n    AbilityModel.call(this, ko.observableArray([]));\n    self.availableBuffs = ko.observableArray(buffOptionsArray.items);\n    self.availableDebuffs = ko.observableArray(debuffOptionsArray.items);\n    self.selectedBuff = ko.observable(self.availableBuffs()[0]);\n    \n    self.buffs = ko.observableArray([]);\n    self.itemBuffs = new InventoryViewModel(itemData);\n    \n    self.addBuff = function (data, event) {\n        if (findWhere(self.buffs(), { name: self.selectedBuff().buffName }) == undefined) {\n            var a = JSON.parse(JSON.stringify(self.selectedBuff().abilityData));\n            a.level = ko.observable(0);\n            a.isActive = ko.observable(false);\n            a.isDetail = ko.observable(false);\n            a.baseDamage = ko.observable(0);\n            a.bash = ko.observable(0);\n            a.bashBonusDamage = ko.observable(0);\n            a.bonusDamage = ko.observable(0);\n            a.bonusDamageOrb = ko.observable(0);\n            a.bonusDamagePct = ko.observable(0);\n            a.bonusDamagePrecisionAura = ko.observable(0);\n            a.bonusDamageReduction = ko.observable(0);\n            a.bonusHealth = ko.observable(0);\n            a.bonusStrength = ko.observable(0);\n            a.bonusStrength2 = ko.observable(0);\n            a.bonusAgility = ko.observable(0);\n            a.bonusAgility2 = ko.observable(0);\n            a.bonusInt = ko.observable(0);\n            a.bonusAllStatsReduction = ko.observable(0);\n            a.damageAmplification = ko.observable(0);\n            a.damageReduction = ko.observable(0);\n            a.evasion = ko.observable(0);\n            a.magicResist = ko.observable(0);\n            a.manaregen = ko.observable(0);\n            a.manaregenreduction = ko.observable(0);\n            a.missChance = ko.observable(0);\n            a.movementSpeedFlat = ko.observable(0);\n            a.movementSpeedPct = ko.observable(0);\n            a.movementSpeedPctReduction = ko.observable(0);\n            a.turnRateReduction = ko.observable(0);\n            a.attackrange = ko.observable(0);\n            a.attackspeed = ko.observable(0);\n            a.attackspeedreduction = ko.observable(0);\n            a.armor = ko.observable(0);\n            a.armorReduction = ko.observable(0);\n            a.healthregen = ko.observable(0);\n            a.lifesteal = ko.observable(0);\n            a.visionnight = ko.observable(0);\n            a.visionday = ko.observable(0);\n            switch (a.name) {\n                case 'invoker_cold_snap':\n                case 'invoker_ghost_walk':\n                case 'invoker_tornado':\n                case 'invoker_emp':\n                case 'invoker_alacrity':\n                case 'invoker_chaos_meteor':\n                case 'invoker_sun_strike':\n                case 'invoker_forge_spirit':\n                case 'invoker_ice_wall':\n                case 'invoker_deafening_blast':\n                    a.level(1);\n                break;\n            }\n            self.abilities.push(a);\n            self.buffs.push({ name: self.selectedBuff().buffName, hero: self.selectedBuff().hero, data: a });\n        }\n    };\n    \n    self.removeBuff = function (data, event, abilityName) {\n        if (findWhere(self.buffs(), { name: abilityName })  != undefined) {\n                self.buffs.remove(findWhere(self.buffs(), { name: abilityName }));\n                if (self.abilityControlData[abilityName] != undefined) {\n                    for (var i = 0; i < self.abilityControlData[abilityName].data.length; i++) {\n                        if (self.abilityControlData[abilityName].data[i].controlVal.dispose != undefined) {\n                            self.abilityControlData[abilityName].data[i].controlVal.dispose();\n                        }\n                        if (self.abilityControlData[abilityName].data[i].clean != undefined) {\n                            self.abilityControlData[abilityName].data[i].clean.dispose();\n                        }\n                    }\n                    self.abilityControlData[abilityName] = undefined;\n                }\n                for (var i = 0; i < self.abilities().length; i++) {\n                    if (self.abilities()[i].name == abilityName) {\n                        self.abilities()[i].level(0);\n                        self.abilities.remove(self.abilities()[i]);\n                        break;\n                    }\n                }\n        }\n    };\n    self.toggleBuff = function (index, data, event) {\n        if (self.buffs()[index()].data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') < 0) {\n            if (self.buffs()[index()].data.isActive()) {\n                self.buffs()[index()].data.isActive(false);\n                self.abilities()[index()].isActive(false);\n            }\n            else {\n                self.buffs()[index()].data.isActive(true);\n                self.abilities()[index()].isActive(true);\n            }\n        }\n    }.bind(this);\n\n    self.toggleBuffDetail = function (index, data, event) {\n        if (self.buffs()[index()].data.isDetail()) {\n            self.buffs()[index()].data.isDetail(false);\n        }\n        else {\n            self.buffs()[index()].data.isDetail(true);\n        }\n    }.bind(this);\n\n    // Overrides the ability module function to remove available skill point check\n    self.levelUpAbility = function (index, data, event, hero) {\n        if (self.abilities()[index()].level() < hero.getAbilityLevelMax(data)) {\n            switch(self.abilities()[index()].abilitytype) {\n                case 'DOTA_ABILITY_TYPE_ULTIMATE':\n                    self.abilities()[index()].level(self.abilities()[index()].level() + 1);\n                break;\n                default:\n                    self.abilities()[index()].level(self.abilities()[index()].level() + 1);\n                break;\n            }\n            switch (self.abilities()[index()].name) {\n                case 'beastmaster_call_of_the_wild':\n                case 'chen_test_of_faith':\n                case 'morphling_morph_agi':\n                case 'shadow_demon_shadow_poison':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'morphling_morph_str':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'keeper_of_the_light_spirit_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                case 'nevermore_shadowraze1':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 2].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze2':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze3':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                break;\n            }\n        }\n    };\n    self.levelDownAbility = function (index, data, event, hero) {\n        if (self.abilities()[index()].level() > 0) {\n            self.abilities()[index()].level(self.abilities()[index()].level() - 1);\n            switch (self.abilities()[index()].name) {\n                case 'beastmaster_call_of_the_wild':\n                case 'chen_test_of_faith':\n                case 'morphling_morph_agi':\n                case 'shadow_demon_shadow_poison':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'morphling_morph_str':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'keeper_of_the_light_spirit_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                case 'nevermore_shadowraze1':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 2].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze2':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze3':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                break;\n                case 'ember_spirit_fire_remnant':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'lone_druid_true_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n            }\n        }\n    };\n    \n    return self;\n}\nBuffViewModel.prototype = Object.create(AbilityModel.prototype);\nBuffViewModel.prototype.constructor = BuffViewModel;\n\nmodule.exports = BuffViewModel;","var findWhere = require(\"../util/findWhere\");\n\nvar BuffModel = function (heroData, unitData, hero, ability) {\n    this.buffName = ability;\n    if (heroData['npc_dota_hero_' + hero] == undefined) {\n        this.hero = hero;\n        this.abilityData = findWhere(unitData[hero].abilities, {name: ability})\n        this.buffDisplayName = unitData[hero].displayname + ' - ' + this.abilityData.displayname;\n    }\n    else {\n        this.hero = 'npc_dota_hero_' + hero;\n        this.abilityData = findWhere(heroData['npc_dota_hero_' + hero].abilities, {name: ability})\n        this.buffDisplayName = heroData['npc_dota_hero_' + hero].displayname + ' - ' + this.abilityData.displayname;        \n        if (ability == 'sven_gods_strength') {\n            this.buffDisplayName += ' (Aura for allies)';\n        }\n    }\n\n};\n\nmodule.exports = BuffModel;","var BuffModel = require(\"./BuffModel\");\n\nvar buffOptionsArray = {};\n\nvar init = function (heroData, unitData) {\n    buffOptionsArray.items = [\n        new BuffModel(heroData, unitData, 'abaddon', 'abaddon_frostmourne'),\n        new BuffModel(heroData, unitData, 'axe', 'axe_culling_blade'),\n        new BuffModel(heroData, unitData, 'beastmaster', 'beastmaster_inner_beast'),\n        new BuffModel(heroData, unitData, 'bloodseeker', 'bloodseeker_bloodrage'),\n        new BuffModel(heroData, unitData, 'bounty_hunter', 'bounty_hunter_track'),\n        new BuffModel(heroData, unitData, 'centaur', 'centaur_stampede'),\n        new BuffModel(heroData, unitData, 'crystal_maiden', 'crystal_maiden_brilliance_aura'),\n        new BuffModel(heroData, unitData, 'dark_seer', 'dark_seer_surge'),\n        new BuffModel(heroData, unitData, 'dazzle', 'dazzle_weave'),\n        new BuffModel(heroData, unitData, 'drow_ranger', 'drow_ranger_trueshot'),\n        new BuffModel(heroData, unitData, 'invoker', 'invoker_alacrity'),\n        new BuffModel(heroData, unitData, 'wisp', 'wisp_tether'),\n        new BuffModel(heroData, unitData, 'wisp', 'wisp_overcharge'),\n        new BuffModel(heroData, unitData, 'kunkka', 'kunkka_ghostship'),\n        new BuffModel(heroData, unitData, 'lich', 'lich_frost_armor'),\n        new BuffModel(heroData, unitData, 'life_stealer', 'life_stealer_open_wounds'),\n        new BuffModel(heroData, unitData, 'luna', 'luna_lunar_blessing'),\n        new BuffModel(heroData, unitData, 'lycan', 'lycan_howl'),\n        new BuffModel(heroData, unitData, 'magnataur', 'magnataur_empower'),\n        new BuffModel(heroData, unitData, 'mirana', 'mirana_leap'),\n        new BuffModel(heroData, unitData, 'ogre_magi', 'ogre_magi_bloodlust'),\n        new BuffModel(heroData, unitData, 'omniknight', 'omniknight_guardian_angel'),\n        new BuffModel(heroData, unitData, 'rubick', 'rubick_null_field'),\n        new BuffModel(heroData, unitData, 'skeleton_king', 'skeleton_king_vampiric_aura'),\n        new BuffModel(heroData, unitData, 'spirit_breaker', 'spirit_breaker_empowering_haste'),\n        new BuffModel(heroData, unitData, 'sven', 'sven_warcry'),\n        new BuffModel(heroData, unitData, 'sven', 'sven_gods_strength'),\n        new BuffModel(heroData, unitData, 'treant', 'treant_living_armor'),\n        new BuffModel(heroData, unitData, 'troll_warlord', 'troll_warlord_battle_trance'),\n        new BuffModel(heroData, unitData, 'vengefulspirit', 'vengefulspirit_command_aura'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_alpha_wolf', 'alpha_wolf_critical_strike'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_alpha_wolf', 'alpha_wolf_command_aura'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_polar_furbolg_ursa_warrior', 'centaur_khan_endurance_aura'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_giant_wolf', 'giant_wolf_critical_strike'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_kobold_taskmaster', 'kobold_taskmaster_speed_aura'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_ogre_magi', 'ogre_magi_frost_armor'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_satyr_hellcaller', 'satyr_hellcaller_unholy_aura'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_enraged_wildkin', 'enraged_wildkin_toughness_aura'),\n        new BuffModel(heroData, unitData, 'npc_dota_necronomicon_archer_1', 'necronomicon_archer_aoe')\n    ];\n    return buffOptionsArray.items;\n}\n\nbuffOptionsArray.init = init;\n\nmodule.exports = buffOptionsArray;","var BuffModel = require(\"./BuffModel\");\n\nvar debuffOptionsArray = {};\n\nvar init = function (heroData, unitData) {\n    debuffOptionsArray.items = [\n        new BuffModel(heroData, unitData, 'abaddon', 'abaddon_frostmourne'),\n        new BuffModel(heroData, unitData, 'alchemist', 'alchemist_acid_spray'),\n        new BuffModel(heroData, unitData, 'ancient_apparition', 'ancient_apparition_ice_vortex'),\n        new BuffModel(heroData, unitData, 'axe', 'axe_battle_hunger'),\n        new BuffModel(heroData, unitData, 'bane', 'bane_enfeeble'),\n        new BuffModel(heroData, unitData, 'batrider', 'batrider_sticky_napalm'),\n        new BuffModel(heroData, unitData, 'beastmaster', 'beastmaster_primal_roar'),\n        new BuffModel(heroData, unitData, 'bounty_hunter', 'bounty_hunter_jinada'),\n        new BuffModel(heroData, unitData, 'brewmaster', 'brewmaster_thunder_clap'),\n        new BuffModel(heroData, unitData, 'brewmaster', 'brewmaster_drunken_haze'),\n        new BuffModel(heroData, unitData, 'bristleback', 'bristleback_viscous_nasal_goo'),\n        new BuffModel(heroData, unitData, 'broodmother', 'broodmother_incapacitating_bite'),\n        new BuffModel(heroData, unitData, 'centaur', 'centaur_stampede'),\n        new BuffModel(heroData, unitData, 'chen', 'chen_penitence'),\n        new BuffModel(heroData, unitData, 'crystal_maiden', 'crystal_maiden_crystal_nova'),\n        new BuffModel(heroData, unitData, 'crystal_maiden', 'crystal_maiden_freezing_field'),\n        new BuffModel(heroData, unitData, 'dazzle', 'dazzle_weave'),\n        new BuffModel(heroData, unitData, 'drow_ranger', 'drow_ranger_frost_arrows'),\n        new BuffModel(heroData, unitData, 'earth_spirit', 'earth_spirit_rolling_boulder'),\n        new BuffModel(heroData, unitData, 'elder_titan', 'elder_titan_natural_order'),\n        new BuffModel(heroData, unitData, 'elder_titan', 'elder_titan_earth_splitter'),\n        new BuffModel(heroData, unitData, 'enchantress', 'enchantress_untouchable'),\n        new BuffModel(heroData, unitData, 'enchantress', 'enchantress_enchant'),\n        new BuffModel(heroData, unitData, 'faceless_void', 'faceless_void_time_walk'),\n        new BuffModel(heroData, unitData, 'huskar', 'huskar_life_break'),\n        new BuffModel(heroData, unitData, 'invoker', 'invoker_ghost_walk'),\n        new BuffModel(heroData, unitData, 'invoker', 'invoker_ice_wall'),\n        new BuffModel(heroData, unitData, 'wisp', 'wisp_tether'),\n        new BuffModel(heroData, unitData, 'jakiro', 'jakiro_dual_breath'),\n        new BuffModel(heroData, unitData, 'jakiro', 'jakiro_liquid_fire'),\n        new BuffModel(heroData, unitData, 'keeper_of_the_light', 'keeper_of_the_light_blinding_light'),\n        new BuffModel(heroData, unitData, 'kunkka', 'kunkka_torrent'),\n        new BuffModel(heroData, unitData, 'lich', 'lich_frost_nova'),\n        new BuffModel(heroData, unitData, 'lich', 'lich_frost_armor'),\n        new BuffModel(heroData, unitData, 'lich', 'lich_chain_frost'),\n        new BuffModel(heroData, unitData, 'life_stealer', 'life_stealer_open_wounds'),\n        new BuffModel(heroData, unitData, 'lion', 'lion_voodoo'),\n        new BuffModel(heroData, unitData, 'magnataur', 'magnataur_skewer'),\n        new BuffModel(heroData, unitData, 'medusa', 'medusa_stone_gaze'),\n        new BuffModel(heroData, unitData, 'meepo', 'meepo_geostrike'),\n        new BuffModel(heroData, unitData, 'naga_siren', 'naga_siren_rip_tide'),\n        new BuffModel(heroData, unitData, 'night_stalker', 'night_stalker_void'),\n        new BuffModel(heroData, unitData, 'night_stalker', 'night_stalker_crippling_fear'),\n        new BuffModel(heroData, unitData, 'night_stalker', 'night_stalker_darkness'),\n        new BuffModel(heroData, unitData, 'ogre_magi', 'ogre_magi_ignite'),\n        new BuffModel(heroData, unitData, 'omniknight', 'omniknight_degen_aura'),\n        new BuffModel(heroData, unitData, 'phantom_assassin', 'phantom_assassin_stifling_dagger'),\n        new BuffModel(heroData, unitData, 'phantom_lancer', 'phantom_lancer_spirit_lance'),\n        new BuffModel(heroData, unitData, 'pudge', 'pudge_rot'),\n        new BuffModel(heroData, unitData, 'pugna', 'pugna_decrepify'),\n        new BuffModel(heroData, unitData, 'queenofpain', 'queenofpain_shadow_strike'),\n        new BuffModel(heroData, unitData, 'riki', 'riki_smoke_screen'),\n        new BuffModel(heroData, unitData, 'rubick', 'rubick_fade_bolt'),\n        new BuffModel(heroData, unitData, 'sand_king', 'sandking_epicenter'),\n        new BuffModel(heroData, unitData, 'nevermore', 'nevermore_dark_lord'),\n        new BuffModel(heroData, unitData, 'shadow_shaman', 'shadow_shaman_voodoo'),\n        new BuffModel(heroData, unitData, 'skeleton_king', 'skeleton_king_hellfire_blast'),\n        new BuffModel(heroData, unitData, 'skeleton_king', 'skeleton_king_reincarnation'),\n        new BuffModel(heroData, unitData, 'skywrath_mage', 'skywrath_mage_concussive_shot'),\n        new BuffModel(heroData, unitData, 'skywrath_mage', 'skywrath_mage_ancient_seal'),\n        new BuffModel(heroData, unitData, 'slardar', 'slardar_slithereen_crush'),\n        new BuffModel(heroData, unitData, 'slardar', 'slardar_amplify_damage'),\n        new BuffModel(heroData, unitData, 'slark', 'slark_essence_shift'),\n        new BuffModel(heroData, unitData, 'sniper', 'sniper_shrapnel'),\n        new BuffModel(heroData, unitData, 'spectre', 'spectre_spectral_dagger'),\n        new BuffModel(heroData, unitData, 'storm_spirit', 'storm_spirit_overload'),\n        new BuffModel(heroData, unitData, 'templar_assassin', 'templar_assassin_meld'),\n        new BuffModel(heroData, unitData, 'tidehunter', 'tidehunter_gush'),\n        new BuffModel(heroData, unitData, 'tinker', 'tinker_laser'),\n        new BuffModel(heroData, unitData, 'treant', 'treant_leech_seed'),\n        new BuffModel(heroData, unitData, 'tusk', 'tusk_frozen_sigil'),\n        new BuffModel(heroData, unitData, 'undying', 'undying_flesh_golem'),\n        new BuffModel(heroData, unitData, 'ursa', 'ursa_earthshock'),\n        new BuffModel(heroData, unitData, 'vengefulspirit', 'vengefulspirit_wave_of_terror'),\n        new BuffModel(heroData, unitData, 'vengefulspirit', 'vengefulspirit_command_aura'),\n        new BuffModel(heroData, unitData, 'venomancer', 'venomancer_venomous_gale'),\n        new BuffModel(heroData, unitData, 'venomancer', 'venomancer_poison_sting'),\n        new BuffModel(heroData, unitData, 'viper', 'viper_poison_attack'),\n        new BuffModel(heroData, unitData, 'viper', 'viper_corrosive_skin'),\n        new BuffModel(heroData, unitData, 'viper', 'viper_viper_strike'),\n        new BuffModel(heroData, unitData, 'visage', 'visage_grave_chill'),\n        new BuffModel(heroData, unitData, 'warlock', 'warlock_upheaval'),\n        new BuffModel(heroData, unitData, 'weaver', 'weaver_the_swarm'),\n        new BuffModel(heroData, unitData, 'windrunner', 'windrunner_windrun'),\n        new BuffModel(heroData, unitData, 'winter_wyvern', 'winter_wyvern_arctic_burn'),\n        new BuffModel(heroData, unitData, 'winter_wyvern', 'winter_wyvern_splinter_blast'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_ghost', 'ghost_frost_attack'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_polar_furbolg_ursa_warrior', 'polar_furbolg_ursa_warrior_thunder_clap'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_ogre_magi', 'ogre_magi_frost_armor'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_satyr_trickster', 'satyr_trickster_purge'),\n        new BuffModel(heroData, unitData, 'npc_dota_neutral_enraged_wildkin', 'enraged_wildkin_tornado')\n    ];\n    return debuffOptionsArray.items;\n}\n\ndebuffOptionsArray.init = init;\n\nmodule.exports = debuffOptionsArray;","var HeroCalcData = (typeof window !== \"undefined\" ? window['HeroCalcData'] : typeof global !== \"undefined\" ? global['HeroCalcData'] : null) || {};\nvar getJSON = require(\"../util/getJSON\");\nvar isEmpty = require(\"../util/isEmpty\");\nvar isString = require(\"../util/isString\");\nvar extend = function(out) {\n  out = out || {};\n\n  for (var i = 1; i < arguments.length; i++) {\n    if (!arguments[i])\n      continue;\n\n    for (var key in arguments[i]) {\n      if (arguments[i].hasOwnProperty(key))\n        out[key] = arguments[i][key];\n    }\n  }\n\n  return out;\n};\n\nvar resourceCounter = 0;\n\nvar onResourceLoaded = function (callback) {\n    resourceCounter--;\n    if (resourceCounter === 0) {\n        fixHeroData(HeroCalcData.heroData);\n        if (callback) callback();\n    }\n}\n\nvar fixHeroData = function (heroData) {\n    heroData['npc_dota_hero_invoker'].abilities[5].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_chen'].abilities[2].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_nevermore'].abilities[1].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_nevermore'].abilities[2].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_morphling'].abilities[3].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_ogre_magi'].abilities[3].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_techies'].abilities[4].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n    heroData['npc_dota_hero_beastmaster'].abilities[2].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n\n    var index = heroData['npc_dota_hero_lone_druid'].abilities[3].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_HIDDEN');\n    heroData['npc_dota_hero_lone_druid'].abilities[3].behavior.splice(index, 1);\n\n    index = heroData['npc_dota_hero_abaddon'].abilities[2].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE');\n    heroData['npc_dota_hero_abaddon'].abilities[2].behavior.splice(index, 1);\n\n    index = heroData['npc_dota_hero_riki'].abilities[2].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE');\n    heroData['npc_dota_hero_riki'].abilities[2].behavior.splice(index, 1);\n}\n\nvar init = function (HERODATA_PATH, ITEMDATA_PATH, UNITDATA_PATH, callback) {\n    resourceCounter = 3;\n    \n    if (!HeroCalcData.heroData || isEmpty(HeroCalcData.heroData)) {\n        if (isString(HERODATA_PATH)) {\n            getJSON(HERODATA_PATH, function (data) {\n                HeroCalcData.heroData = data;\n                onResourceLoaded(callback);\n            });\n        }\n        else if (!isEmpty(HERODATA_PATH)) {\n            HeroCalcData.heroData = HERODATA_PATH;\n            onResourceLoaded(callback);\n        }\n    }\n    else {\n        onResourceLoaded(callback);\n    }\n    \n    if (!HeroCalcData.itemData || isEmpty(HeroCalcData.itemData)) {\n        if (isString(ITEMDATA_PATH)) {\n            getJSON(ITEMDATA_PATH, function (data) {\n                HeroCalcData.itemData = data;\n                onResourceLoaded(callback);\n            });\n        }\n        else if (!isEmpty(ITEMDATA_PATH)) {\n            HeroCalcData.itemData = ITEMDATA_PATH;\n            onResourceLoaded(callback);\n        }\n    }\n    else {\n        onResourceLoaded(callback);\n    }\n    \n    if (!HeroCalcData.unitData || isEmpty(HeroCalcData.unitData)) {\n        if (isString(UNITDATA_PATH)) {\n            getJSON(UNITDATA_PATH, function (data) {\n                HeroCalcData.unitData = data;\n                onResourceLoaded(callback);\n            });\n        }\n        else if (!isEmpty(UNITDATA_PATH)) {\n            HeroCalcData.unitData = UNITDATA_PATH;\n            onResourceLoaded(callback);\n        }\n    }\n    else {\n        onResourceLoaded(callback);\n    }\n}\n    \nHeroCalcData.init = init;\n\nmodule.exports = HeroCalcData;","'use strict';\nvar HeroModel = require(\"./HeroModel\");\n\nvar CloneModel = function (heroData, itemData, h,p) {\n    var self = this;\n    HeroModel.call(this, heroData, itemData, h);\n    self.parent = p;\n    return self;\n}\nCloneModel.prototype = Object.create(HeroModel.prototype);\nCloneModel.prototype.constructor = CloneModel;\n\nmodule.exports = CloneModel;","var DamageTypeColor = {\n    'physical': '#979aa2',\n    'pure': 'goldenrod',\n    'magic': '#428bca',\n    'default': '#979aa2'\n}\n\nmodule.exports = DamageTypeColor;","'use strict';\nvar ko = require('../herocalc_knockout');\n    \nvar DamageTypeColor = require(\"./DamageTypeColor\");\nvar extend = require(\"../util/extend\");\n\nvar HeroDamageMixin = function (self, itemData) {\n    self.critInfo = ko.pureComputed(function () {\n        var critSources = self.inventory.getCritSource();\n        extend(critSources, self.ability().getCritSource());\n        extend(critSources, self.buffs.getCritSource());\n        var critSourcesArray = [];\n        for (var prop in critSources) {\n            var el = critSources[prop];\n            el.name = prop\n            critSourcesArray.push(el);\n        }\n        function compareByMultiplier(a,b) {\n            if (a.multiplier < b.multiplier)\n                return 1;\n            if (a.multiplier > b.multiplier)\n                return -1;\n            return 0;\n        }\n\n        critSourcesArray.sort(compareByMultiplier);\n        \n        var result = [];\n        var critTotal = 0;\n        for (var i = 0; i < critSourcesArray.length; i++) {\n            var total = 1;\n            for (var j = 0; j < i; j++) {\n                for (var k = 0; k <critSourcesArray[j].count; k++) {\n                    total *= (1 - critSourcesArray[j].chance);\n                }\n            }\n            var total2 = 1;\n            for (var k = 0; k < critSourcesArray[i].count; k++) {\n                total2 *= (1 - critSourcesArray[i].chance);\n            }\n            total *= (1 - total2);\n            critTotal += total;\n            if (critSourcesArray[i].count > 1) {\n                result.push({\n                    'name':critSourcesArray[i].displayname + ' x' + critSourcesArray[i].count,\n                    'chance':critSourcesArray[i].chance,\n                    'multiplier':critSourcesArray[i].multiplier,\n                    'count':critSourcesArray[i].count,\n                    'totalChance':total\n                });\n            }\n            else {\n                result.push({\n                    'name':critSourcesArray[i].displayname,\n                    'chance':critSourcesArray[i].chance,\n                    'multiplier':critSourcesArray[i].multiplier,\n                    'count':critSourcesArray[i].count,\n                    'totalChance':total\n                });\n            }\n        }\n        return { sources: result, total: critTotal };\n    });\n\n    self.cleaveInfo = ko.pureComputed(function () {\n        var cleaveSources = self.inventory.getCleaveSource();\n        extend(cleaveSources, self.ability().getCleaveSource());\n        extend(cleaveSources, self.buffs.getCleaveSource());\n        var cleaveSourcesArray = [];\n        for (var prop in cleaveSources) {\n            var el = cleaveSources[prop];\n            el.name = prop\n            cleaveSourcesArray.push(el);\n        }\n        function compareByRadius(a,b) {\n            if (a.radius < b.radius)\n                return 1;\n            if (a.radius > b.radius)\n                return -1;\n            return 0;\n        }\n\n        cleaveSourcesArray.sort(compareByRadius);\n        var cleaveSourcesByRadius = {};\n        for (var i = 0; i < cleaveSourcesArray.length; i++) {\n            var total = 0;\n            for (var j = 0; j <cleaveSourcesArray.length; j++) {\n                if (cleaveSourcesArray[j].radius >= cleaveSourcesArray[i].radius) {\n                    total += cleaveSourcesArray[j].magnitude * cleaveSourcesArray[j].count;\n                }\n            }\n            cleaveSourcesByRadius[cleaveSourcesArray[i].radius] = total;\n        }\n        var result = [];\n        for (var prop in cleaveSourcesByRadius) {\n            result.push({\n                'radius':prop,\n                'magnitude':cleaveSourcesByRadius[prop]\n            });\n        }\n        return result;\n    });\n    \n    self.bashInfo = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        var bashSources = self.inventory.getBashSource(attacktype);\n        extend(bashSources, self.ability().getBashSource());\n        var bashSourcesArray = [];\n        for (var prop in bashSources) {\n            var el = bashSources[prop];\n            el.name = prop\n            bashSourcesArray.push(el);\n        }\n        function compareByDuration(a, b) {\n            if (a.duration < b.duration)\n                return 1;\n            if (a.duration > b.duration)\n                return -1;\n            return 0;\n        }\n\n        //bashSourcesArray.sort(compareByDuration);\n        \n        var result = [];\n        var bashTotal = 0;\n        for (var i = 0;i < bashSourcesArray.length; i++) {\n            var total = 1;\n            for (var j = 0; j < i; j++) {\n                for (var k = 0; k < bashSourcesArray[j].count; k++) {\n                    total *= (1 - bashSourcesArray[j].chance);\n                }\n            }\n            var total2 = 1;\n            for (var k = 0; k < bashSourcesArray[i].count; k++) {\n                total2 *= (1 - bashSourcesArray[i].chance);\n            }\n            total *= (1 - total2);\n            bashTotal += total;\n            if (bashSourcesArray[i].name === 'spirit_breaker_greater_bash') {\n                var d = bashSourcesArray[i].damage * self.totalMovementSpeed();\n            }\n            else {\n                var d = bashSourcesArray[i].damage;\n            }\n            if (bashSourcesArray[i].count > 1) {\n                result.push({\n                    'name':bashSourcesArray[i].displayname, // + ' x' + bashSourcesArray[i].count,\n                    'chance':bashSourcesArray[i].chance,\n                    'damage':d,\n                    'count':bashSourcesArray[i].count,\n                    'damageType':bashSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n            else {\n                result.push({\n                    'name':bashSourcesArray[i].displayname,\n                    'chance':bashSourcesArray[i].chance,\n                    'damage':d,\n                    'count':bashSourcesArray[i].count,\n                    'damageType':bashSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n\n        }\n        return { sources: result, total: bashTotal };\n    });\n    \n    self.orbProcInfo = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        var damageSources = self.inventory.getOrbProcSource();\n        var damageSourcesArray = [];\n        for (var prop in damageSources) {\n            var el = damageSources[prop];\n            el.name = prop\n            damageSourcesArray.push(el);\n        }\n        function compareByDamage(a, b) {\n            if (a.priority > b.priority) {\n                return 1;\n            }\n            if (a.priority < b.priority) {\n                return -1;\n            }\n            if (a.damage < b.damage)\n                return 1;\n            if (a.damage > b.damage)\n                return -1;\n            return 0;\n        }\n\n        damageSourcesArray.sort(compareByDamage);\n        \n        var result = [];\n        var damageTotal = 0;\n        for (var i=0 ; i < damageSourcesArray.length; i++) {\n            var total = 1;\n            for (var j = 0; j < i; j++) {\n                for (var k = 0; k < damageSourcesArray[j].count; k++) {\n                    total *= (1 - damageSourcesArray[j].chance);\n                }\n            }\n            var total2 = 1;\n            for (var k = 0; k < damageSourcesArray[i].count; k++) {\n                total2 *= (1 - damageSourcesArray[i].chance);\n            }\n            total *= (1 - total2);\n            damageTotal += total;\n            if (damageSourcesArray[i].count > 1) {\n                result.push({\n                    'name':damageSourcesArray[i].displayname + ' x' + damageSourcesArray[i].count,\n                    'chance':damageSourcesArray[i].chance,\n                    'damage':damageSourcesArray[i].damage,\n                    'count':damageSourcesArray[i].count,\n                    'damageType':damageSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n            else {\n                result.push({\n                    'name':damageSourcesArray[i].displayname,\n                    'chance':damageSourcesArray[i].chance,\n                    'damage':damageSourcesArray[i].damage,\n                    'count':damageSourcesArray[i].count,\n                    'damageType':damageSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n        }\n        return { sources: result, total: damageTotal };\n    });\n    \n    self.getReducedDamage = function (value, type) {\n        var result = value;\n        switch (type) {\n            case 'physical':\n                result = value * (1 - (0.06 * self.enemy().totalArmorPhysical()) / (1 + 0.06 * Math.abs(self.enemy().totalArmorPhysical())));\n            break;\n            case 'magic':\n                result = value * (1 - self.enemy().totalMagicResistance() / 100);\n            break;\n            case 'pure':\n                result = value;\n            break;\n            case 'composite':\n                result = value * (1 - (0.06 * self.enemy().totalArmorPhysical()) / (1 + 0.06 * Math.abs(self.enemy().totalArmorPhysical())));\n                result *= (1 - self.enemy().totalMagicResistance() / 100);\n            break;\n        }\n        result *= self.ability().getDamageAmplification() * self.debuffs.getDamageAmplification();\n        result *= self.enemy().ability().getDamageReduction() * self.enemy().buffs.getDamageReduction();\n        return result;\n    }\n    \n    self.damageTotalInfo = ko.pureComputed(function () {\n        var bonusDamageArray = [\n            self.ability().getBonusDamage().sources,\n            self.buffs.getBonusDamage().sources\n        ],\n        bonusDamagePctArray = [\n            self.ability().getBonusDamagePercent().sources,\n            self.buffs.getBonusDamagePercent().sources\n        ],\n        itemBonusDamage = self.inventory.getBonusDamage().sources,\n        itemBonusDamagePct = self.buffs.itemBuffs.getBonusDamagePercent(self.inventory.getBonusDamagePercent()).sources,\n        critSources = self.critInfo(),\n        abilityOrbSources = self.ability().getOrbSource(),\n        itemOrbSources = self.inventory.getOrbSource(),\n        itemProcOrbSources = self.orbProcInfo(),\n        bashSources = self.bashInfo(),\n        \n        attackSources = [];\n        \n        attackSources.push({\n            name: 'Base Attack',\n            cooldown: 1\n        });\n        \n        // weaver_geminate_attack\n        if (self.heroId() === 'weaver') {\n            var a = self.ability().abilities().find(function (ability) {\n                return ability.name === 'weaver_geminate_attack';\n            });\n            if (a) {\n                if (a.level() > 0) {\n                    var cd = a.cooldown[a.level() - 1];\n                    attackSources.push({\n                        name: a.displayname,\n                        cooldown: (1/cd)\n                    });\n                }\n            }\n        }\n        \n        // echo_sabre\n        var item = self.inventory.items().find(function (o) { return o.item === \"echo_sabre\" && o.enabled(); });\n        if (item && self.heroData().attacktype === 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n            var item_echo_sabre = itemData['item_echo_sabre'];\n            attackSources.push({\n                name: item_echo_sabre.displayname,\n                cooldown: (1/item_echo_sabre.cooldown)\n            });\n        }\n\n        var attacks = attackSources.map(function (a) {\n            var baseDamage = (self.baseDamage()[0] + self.baseDamage()[1]) / 2,\n            totalDamage = 0,\n            totalCritableDamage = 0,\n            totalCrit = 0,\n            geminateAttack = { damage: 0, damageReduced: 0, cooldown: 6, active: false },\n            echoSabreAttack = { damage: 0, damageReduced: 0, cooldown: itemData['item_echo_sabre'].cooldown[0], active: false },\n            damage = {\n                pure: 0,\n                physical: 0,\n                magic: 0\n            },\n            result = [],\n            crits = [];\n            \n            // base damage\n            result.push({\n                name: 'Base Damage',\n                damage: baseDamage,\n                damageType: 'physical',\n                damageReduced: self.getReducedDamage(baseDamage, 'physical'),\n                enabled: ko.observable(true)\n            });\n            totalDamage += baseDamage;\n            totalCritableDamage += baseDamage;\n            damage.physical += baseDamage;\n            \n            // bonus damage from items\n            for (i in itemBonusDamage) {\n                var d = itemBonusDamage[i].damage*itemBonusDamage[i].count * self.ability().getSelfBaseDamageReductionPct() * self.enemy().ability().getBaseDamageReductionPct() * self.debuffs.itemBuffs.getBaseDamageReductionPct();\n                result.push({\n                    name: itemBonusDamage[i].displayname + (itemBonusDamage[i].count > 1 ? ' x' + itemBonusDamage[i].count : ''),\n                    damage: d,\n                    damageType: itemBonusDamage[i].damageType,\n                    damageReduced: self.getReducedDamage(d, itemBonusDamage[i].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                totalCritableDamage += d;\n                damage[itemBonusDamage[i].damageType] += d;\n            }\n\n            // bonus damage percent from items\n            for (i in itemBonusDamagePct) {\n                var d = baseDamage * itemBonusDamagePct[i].damage;\n                result.push({\n                    name: itemBonusDamagePct[i].displayname,\n                    damage: d,\n                    damageType: itemBonusDamagePct[i].damageType,\n                    damageReduced: self.getReducedDamage(d, itemBonusDamagePct[i].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                totalCritableDamage += d;\n                damage[itemBonusDamagePct[i].damageType] += d;\n            }\n            \n            // bonus damage from abilities and buffs\n            for (var i = 0; i < bonusDamageArray.length; i++) {\n                for (j in bonusDamageArray[i]) {\n                    var d = bonusDamageArray[i][j].damage;\n                    result.push({\n                        name: bonusDamageArray[i][j].displayname,\n                        damage: d,\n                        damageType: bonusDamageArray[i][j].damageType,\n                        damageReduced: self.getReducedDamage(d, bonusDamageArray[i][j].damageType),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    totalCritableDamage += d;\n                    damage[bonusDamageArray[i][j].damageType] += d;\n                }\n            }\n            \n            // bonus damage percent from abilities and buffs\n            for (var i = 0; i < bonusDamagePctArray.length; i++) {\n                for (j in bonusDamagePctArray[i]) {\n                    var d = baseDamage * bonusDamagePctArray[i][j].damage;\n                    result.push({\n                        name: bonusDamagePctArray[i][j].displayname,\n                        damage: d,\n                        damageType: bonusDamagePctArray[i][j].damageType,\n                        damageReduced: self.getReducedDamage(d, bonusDamagePctArray[i][j].damageType),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    totalCritableDamage += d;\n                    damage[bonusDamagePctArray[i][j].damageType] += d;\n                }\n            }\n            // drow_ranger_trueshot\n            if (self.heroData().attacktype === 'DOTA_UNIT_CAP_RANGED_ATTACK') {\n                if (self.heroId() === 'drow_ranger') {\n                    var s = self.ability().getBonusDamagePrecisionAura().sources;\n                    var index = 0;\n                }\n                else {\n                    var s = self.buffs.getBonusDamagePrecisionAura().sources;\n                    var index = 1;\n                }\n                if (s[index] != undefined) {\n                    if (self.heroId() === 'drow_ranger') {\n                        var d = s[index].damage * self.totalAgi();\n                    }\n                    else {\n                        var d = s[index].damage;\n                    }\n                    result.push({\n                        name: s[index].displayname,\n                        damage: d,\n                        damageType: 'physical',\n                        damageReduced: self.getReducedDamage(d, 'physical'),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    totalCritableDamage += d;\n                    damage.physical += d;                    \n                }\n            }\n            \n            // riki_backstab\n            if (self.heroId() === 'riki') {\n                var s = self.ability().getBonusDamageBackstab().sources;\n                var index = 0;\n            }\n            else {\n                var s = self.buffs.getBonusDamageBackstab().sources;\n                var index = 1;\n            }\n            if (s[index] != undefined) {\n                if (self.heroId() === 'riki') {\n                    var d = s[index].damage * self.totalAgi();\n                }\n                else {\n                    var d = s[index].damage;\n                }\n                result.push({\n                    name: s[index].displayname,\n                    damage: d,\n                    damageType: 'physical',\n                    damageReduced: self.getReducedDamage(d, 'physical'),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                //totalCritableDamage += d;\n                damage.physical += d;                    \n            }\n\n            // bash damage\n            for (var i = 0; i < bashSources.sources.length; i++) {\n                var o = bashSources.sources[i];\n                var d = bashSources.sources[i].damage;\n                var cd = self.attacksPerSecond();\n                if (o.cooldown) {\n                    cd = Math.max(1/o.cooldown, cd);\n                }\n                for (var j = 0; j < bashSources.sources[i].count; j++) {\n                    result.push({\n                        name: bashSources.sources[i].name,\n                        damage: d,\n                        damageType: bashSources.sources[i].damageType,\n                        damageReduced: self.getReducedDamage(d, bashSources.sources[i].damageType),\n                        dps: d * cd * bashSources.sources[i].chance,\n                        dpsReduced: self.getReducedDamage(d, bashSources.sources[i].damageType) * cd * bashSources.sources[i].chance,\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    damage[bashSources.sources[i].damageType] += d;\n                }\n\n            }\n            \n            // %-based orbs\n            for (var i = 0; i < itemProcOrbSources.sources.length; i++) {\n                var d = itemProcOrbSources.sources[i].damage * (1 - Math.pow(1 - itemProcOrbSources.sources[i].chance, itemProcOrbSources.sources[i].count));\n                result.push({\n                    name: itemProcOrbSources.sources[i].name,\n                    damage: d,\n                    damageType: itemProcOrbSources.sources[i].damageType,\n                    damageReduced: self.getReducedDamage(d, itemProcOrbSources.sources[i].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                damage[itemProcOrbSources.sources[i].damageType] += d;\n            }\n            \n            // ability orbs\n            for (var orb in abilityOrbSources) {\n                var d = abilityOrbSources[orb].damage * (1 - itemProcOrbSources.total);\n                result.push({\n                    name: abilityOrbSources[orb].displayname,\n                    damage: d,\n                    damageType: abilityOrbSources[orb].damageType,\n                    damageReduced: self.getReducedDamage(d, abilityOrbSources[orb].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                damage[abilityOrbSources[orb].damageType] += d;\n            }\n            \n            // item orbs\n            if (Object.keys(abilityOrbSources).length === 0) {\n                for (var orb in itemOrbSources) {\n                    var d = itemOrbSources[orb].damage * (1 - itemProcOrbSources.total);\n                    result.push({\n                        name: itemOrbSources[orb].displayname,\n                        damage: d,\n                        damageType: itemOrbSources[orb].damageType,\n                        damageReduced: self.getReducedDamage(d, itemOrbSources[orb].damageType),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    damage[itemOrbSources[orb].damageType] += d;\n                }            \n            }\n            \n            // crit damage\n            for (var i = 0; i < critSources.sources.length; i++) {\n                var d = totalCritableDamage * (critSources.sources[i].multiplier - 1);// * critSources.sources[i].totalChance;\n                crits.push({\n                    name: critSources.sources[i].name + ', ' + critSources.sources[i].multiplier + 'x, ' + (critSources.sources[i].totalChance * 100).toFixed(1) + '%',\n                    damage: d,\n                    damageType: 'physical',\n                    damageReduced: self.getReducedDamage(d, 'physical'),\n                    enabled: ko.observable(true),\n                    chance: critSources.sources[i].totalChance\n                });\n                totalCrit += d;\n            }\n\n            var totalReduced = self.getReducedDamage(damage.pure, 'pure') \n                    + self.getReducedDamage(damage.physical, 'physical')\n                    + self.getReducedDamage(damage.magic, 'magic'),\n                totalCritReduced = self.getReducedDamage(totalCrit, 'physical'),\n                dps = {\n                    base: totalDamage * self.attacksPerSecond(),\n                    crit: totalCrit * self.attacksPerSecond(),\n                    geminateAttack: geminateAttack.active ? geminateAttack.damage / geminateAttack.cooldown : 0,\n                    reduced: {\n                        base: totalReduced * self.attacksPerSecond(),\n                        crit: totalCritReduced * self.attacksPerSecond(),\n                        geminateAttack: geminateAttack.active ? self.getReducedDamage(geminateAttack.damage, 'physical') / geminateAttack.cooldown : 0,\n                    }\n                }\n                \n            crits.forEach(function (o) {\n                if (!o.dps) {\n                    o.dps = o.damage * (o.cooldown || self.attacksPerSecond()) * o.chance;\n                }\n                if (!o.dpsReduced) {\n                    o.dpsReduced = o.damageReduced * (o.cooldown || self.attacksPerSecond()) * o.chance;\n                }\n            });\n                \n            result.forEach(function (o) {\n                if (!o.dps) {\n                    o.dps = o.damage * (o.cooldown || self.attacksPerSecond());\n                }\n                if (!o.dpsReduced) {\n                    o.dpsReduced = o.damageReduced * (o.cooldown || self.attacksPerSecond());\n                }\n            });\n            \n            var totalCritChance = crits.reduce(function (memo, o) { return memo + o.chance }, 0);\n                \n            var t1Crit = ko.computed(function () {\n                var c = crits.find(function (o) { return o.enabled(); });\n                return c ? c.damage : 0;\n            });\n            var t2Crit = ko.computed(function () {\n                var c = crits.find(function (o) { return o.enabled(); });\n                return c ? c.damageReduced : 0;\n            });\n            var t3Crit = ko.computed(function () {\n                return crits.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dps }, 0);\n            });\n            var t4Crit = ko.computed(function () {\n                return crits.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dpsReduced }, 0);\n            });\n                \n            var t1 = ko.computed(function () {\n                return result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.damage }, 0) + t1Crit();\n            });\n            var t2 = ko.computed(function () {\n                return result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.damageReduced }, 0) + t2Crit();\n            });\n            var t3 = ko.computed(function () {\n                return (result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dps }, 0) + t3Crit()) * a.cooldown;\n            });\n            var t4 = ko.computed(function () {\n                return (result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dpsReduced }, 0) + t4Crit()) * a.cooldown;\n            });\n            \n            var totalCritRow = [t1Crit, t2Crit, t3Crit, t4Crit];\n            \n            var totalRow = [t1, t2, t3, t4];\n\n            return {\n                name: a.name + ' Subtotal',\n                cooldown: a.cooldown,\n                enabled: ko.observable(true),\n                visible: ko.observable(true),\n                totalCritChance: totalCritChance,\n                totalCritRow: totalCritRow,\n                totalRow: totalRow,\n                sources: result,\n                sourcesCrit: crits,\n                total: totalDamage,\n                totalCrit: totalCrit,\n                totalGeminateAttack: totalDamage + geminateAttack.damage,\n                totalGeminateAttackReduced: totalReduced + geminateAttack.damageReduced,\n                geminateAttack: geminateAttack,\n                totalCritReduced: totalCritReduced,\n                totalReduced: totalReduced,\n                sumTotal: totalDamage + totalCrit,\n                sumTotalReduced: totalReduced + totalCritReduced,\n                dps: {\n                    base: dps.base,\n                    crit: dps.base + dps.crit,\n                    geminateAttack: dps.base + dps.geminateAttack,\n                    total: dps.base + dps.crit + dps.geminateAttack,\n                    reduced: {\n                        base: dps.reduced.base,\n                        crit: dps.reduced.base + dps.reduced.crit,\n                        geminateAttack: dps.reduced.base + dps.reduced.geminateAttack,\n                        total: dps.reduced.base + dps.reduced.crit + dps.reduced.geminateAttack\n                    }\n                }\n            };\n        });\n        \n        var t1 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[0]() }, 0);\n        });\n        var t2 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[1]() }, 0);\n        });\n        var t3 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[2]() }, 0);\n        });\n        var t4 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[3]() }, 0);\n        });\n            \n        return {\n            attacks: attacks,\n            totalRow: [t1, t2, t3, t4]\n        }\n    });\n    \n    self.getDamageTypeColor = function (damageType) {\n        return DamageTypeColor[damageType] || DamageTypeColor['default'];\n    }\n    \n}\n\nmodule.exports = HeroDamageMixin;","'use strict';\nvar ko = require('../herocalc_knockout');\n\nvar AbilityModel = require(\"../AbilityModel\");\nvar BuffViewModel = require(\"../BuffViewModel\");\nvar InventoryViewModel = require(\"../inventory/InventoryViewModel\");\nvar diffProperties = require(\"./diffProperties\");\nvar HeroDamageMixin = require(\"./HeroDamageMixin\");\nvar TalentController = require(\"./TalentController\");\nvar totalExp = require(\"./totalExp\");\nvar nextLevelExp = require(\"./nextLevelExp\");\n\nvar HeroModel = function (heroData, itemData, h) {\n    var self = this;\n    self.heroId = ko.observable(h);\n    self.selectedHeroLevel = ko.observable(1);\n    self.inventory = new InventoryViewModel(itemData, self);\n    self.selectedInventory = ko.observable(-1);\n    self.buffs = new BuffViewModel(itemData);\n    self.buffs.hasScepter = self.inventory.hasScepter;\n    self.debuffs = new BuffViewModel(itemData);\n    self.heroData = ko.computed(function () {\n      return heroData['npc_dota_hero_' + self.heroId()];\n    });\n    self.heroCompare = ko.observable(self);\n    self.enemy = ko.observable(self);\n    self.unit = ko.observable(self);\n    self.clone = ko.observable(self);\n    \n    self.talents = [\n        ko.observable(-1),\n        ko.observable(-1),\n        ko.observable(-1),\n        ko.observable(-1)\n    ];\n    \n    self.selectedTalents = ko.computed(function () {\n        var arr = [];\n        for (var i = 0; i < 4; i++) {\n            if (self.talents[i]() !== -1) {\n                arr.push(self.heroData().talents[i][self.talents[i]()]);\n            }\n        }\n        return arr;\n    });\n    \n    self.skillPointHistory = ko.observableArray();\n    \n    self.ability = ko.computed(function () {\n        var a = new AbilityModel(ko.observableArray(JSON.parse(JSON.stringify(self.heroData().abilities))), self);\n        switch (self.heroId()) {\n            case 'earth_spirit':\n            case 'ogre_magi':\n                a._abilities[3].level(1);\n            break;\n            case 'invoker':\n                for (var i = 5; i < 16; i++) {\n                    console.log(a._abilities[i]);\n                    a._abilities[i].level(1);\n                }\n            break;\n        }\n        self.skillPointHistory.removeAll();\n        a.hasScepter = self.inventory.hasScepter\n        return a;\n    });\n\n    self.availableSkillPoints = ko.computed(function () {\n        var c = self.selectedHeroLevel();\n        for (var i = 0; i < 4; i++) {\n            if (self.selectedHeroLevel() < i * 5 + 10) self.talents[i](-1);\n        }\n        c -= self.talents.filter(function (talent) { return talent() !== -1 }).length;\n        for (var i = 0; i < self.ability().abilities().length; i++) {\n            switch(self.ability().abilities()[i].abilitytype) {\n                case 'DOTA_ABILITY_TYPE_ULTIMATE':\n                    if (self.heroId() === 'invoker') {\n                        /*while (\n                            ((self.ability().abilities()[i].level() == 1) && (parseInt(self.selectedHeroLevel()) < 2)) ||\n                            ((self.ability().abilities()[i].level() == 2) && (parseInt(self.selectedHeroLevel()) < 7)) ||\n                            ((self.ability().abilities()[i].level() == 3) && (parseInt(self.selectedHeroLevel()) < 11)) ||\n                            ((self.ability().abilities()[i].level() == 4) && (parseInt(self.selectedHeroLevel()) < 17))\n                        ) {\n                            self.ability().levelDownAbility(i, null, null, self);\n                        }*/\n                    }\n                    else if (self.heroId() === 'meepo') {\n                        while ((self.ability().abilities()[i].level()-1) * 7 + 3 > parseInt(self.selectedHeroLevel())) {\n                            self.ability().levelDownAbility(i, null, null, self);\n                        }\n                    }\n                    else {\n                        while (self.ability().abilities()[i].level() * 5 + 1 > parseInt(self.selectedHeroLevel())) {\n                            self.ability().levelDownAbility(i, null, null, self);\n                        }\n                    }\n                break;\n                default:\n                    while (self.ability().abilities()[i].level() * 2 - 1 > parseInt(self.selectedHeroLevel())) {\n                        self.ability().levelDownAbility(i, null, null, self);\n                    }\n                break;\n            }\n        }\n        while (self.skillPointHistory().length > c) {\n            self.ability().levelDownAbility(self.skillPointHistory()[self.skillPointHistory().length-1], null, null, self);\n        }\n        return c-self.skillPointHistory().length;\n    }, this);\n    self.primaryAttribute = ko.pureComputed(function () {\n        var v = self.heroData().attributeprimary;\n        if (v === 'DOTA_ATTRIBUTE_AGILITY') return 'agi';\n        if (v === 'DOTA_ATTRIBUTE_INTELLECT') return 'int';\n        if (v === 'DOTA_ATTRIBUTE_STRENGTH') return 'str';\n        return '';\n    });\n    self.totalExp = ko.pureComputed(function () {\n        return totalExp[self.selectedHeroLevel() - 1];\n    });\n    self.nextLevelExp = ko.pureComputed(function () {\n        return nextLevelExp[self.selectedHeroLevel() - 1];\n    });\n    self.startingArmor = ko.pureComputed(function () {\n        return (self.heroData().attributebaseagility * .14 + self.heroData().armorphysical).toFixed(2);\n    });\n    self.respawnTime = ko.pureComputed(function () {\n        var level = self.selectedHeroLevel();\n        var reduction = TalentController.getRespawnReduction(self.selectedTalents());\n        if (level >= 1 && level <= 5) {\n            return (level - 1) * 2 + 8 - reduction;\n        }\n        else if (level >= 6 && level <= 11) {\n            return (level - 6) * 2 + 26 - reduction;\n        }\n        else if (level >= 12 && level <= 17) {\n            return (level - 12) * 2 + 46 - reduction;\n        }\n        else if (level >= 18 && level <= 24) {\n            return (level - 18) * 4 + 66 - reduction;\n        }\n        else if (level == 25) {\n            return 100 - reduction;\n        }\n    });\n    self.totalAttribute = function (a) {\n        if (a === 'agi') return parseFloat(self.totalAgi());\n        if (a === 'int') return parseFloat(self.totalInt());\n        if (a === 'str') return parseFloat(self.totalStr());\n        return 0;\n    };\n    self.totalAgi = ko.pureComputed(function () {\n        return (self.heroData().attributebaseagility\n                + self.heroData().attributeagilitygain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('agi') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getAgility()\n                + TalentController.getAgility(self.selectedTalents())\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.intStolen = ko.observable(0).extend({ numeric: 0 });\n    self.totalInt = ko.pureComputed(function () {\n        return (self.heroData().attributebaseintelligence \n                + self.heroData().attributeintelligencegain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('int') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getIntelligence()\n                + TalentController.getIntelligence(self.selectedTalents())\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction() + self.intStolen()\n               ).toFixed(2);\n    });\n    self.totalStr = ko.pureComputed(function () {\n        return (self.heroData().attributebasestrength \n                + self.heroData().attributestrengthgain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('str') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getStrength()\n                + TalentController.getStrength(self.selectedTalents())\n                + self.enemy().ability().getStrengthReduction()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.health = ko.pureComputed(function () {\n        return (self.heroData().statushealth + Math.floor(self.totalStr()) * 20 \n                + self.inventory.getHealth()\n                + self.ability().getHealth()\n                + TalentController.getHealth(self.selectedTalents())\n                ).toFixed(2);\n    });\n    self.healthregen = ko.pureComputed(function () {\n        var healthRegenAura = [self.inventory.getHealthRegenAura, self.buffs.itemBuffs.getHealthRegenAura].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value: 0, excludeList: []});\n        return (self.heroData().statushealthregen + self.totalStr() * .03 \n                + self.inventory.getHealthRegen() \n                + self.ability().getHealthRegen()\n                + TalentController.getHealthRegen(self.selectedTalents())\n                + self.buffs.getHealthRegen()\n                + healthRegenAura.value\n                ).toFixed(2);\n    });\n    self.mana = ko.pureComputed(function () {\n        return (self.heroData().statusmana\n                + self.totalInt() * 12\n                + self.inventory.getMana()\n                + TalentController.getMana(self.selectedTalents())\n                + self.ability().getMana()).toFixed(2);\n    });\n    self.manaregen = ko.pureComputed(function () {\n        return ((self.heroData().statusmanaregen \n                + self.totalInt() * .04 \n                + self.ability().getManaRegen()\n                + TalentController.getManaRegen(self.selectedTalents())\n                ) \n                * (1 + self.inventory.getManaRegenPercent()) \n                + (self.heroId() === 'crystal_maiden' ? self.ability().getManaRegenArcaneAura() * 2 : self.buffs.getManaRegenArcaneAura())\n                + self.inventory.getManaRegenBloodstone()\n                + self.inventory.getManaRegen()\n                - self.enemy().ability().getManaRegenReduction()).toFixed(2);\n    });\n    self.totalArmorPhysical = ko.pureComputed(function () {\n        var armorAura = [self.inventory.getArmorAura, self.buffs.itemBuffs.getArmorAura].reduce(function (memo, fn) {\n            var obj = fn(memo.attributes);\n            return obj;\n        }, {value:0, attributes:[]});\n        var armorReduction = [self.enemy().inventory.getArmorReduction, self.debuffs.itemBuffs.getArmorReduction].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value: 0, excludeList: []});\n        return (self.enemy().ability().getArmorBaseReduction() * self.debuffs.getArmorBaseReduction() * (self.heroData().armorphysical + self.totalAgi() * .14)\n                + self.inventory.getArmor()\n                //+ self.inventory.getArmorAura().value\n                //+ self.enemy().inventory.getArmorReduction()\n                + self.ability().getArmor()\n                + TalentController.getArmor(self.selectedTalents())\n                + self.enemy().ability().getArmorReduction()\n                + self.buffs.getArmor()\n                + self.buffs.itemBuffs.getArmor()\n                + self.debuffs.getArmorReduction()\n                //+ self.buffs.itemBuffs.getArmorAura().value\n                + armorAura.value\n                + armorReduction.value\n                //+ self.debuffs.getArmorReduction()\n                ).toFixed(2);\n    });\n    self.totalArmorPhysicalReduction = ko.pureComputed(function () {\n        var totalArmor = self.totalArmorPhysical();\n        if (totalArmor >= 0) {\n            return ((0.06 * self.totalArmorPhysical()) / (1 + 0.06 * self.totalArmorPhysical()) * 100).toFixed(2);\n        }\n        else {\n            return -((0.06 * -self.totalArmorPhysical()) / (1 + 0.06 * -self.totalArmorPhysical()) * 100).toFixed(2);\n        }\n    });\n    self.totalMovementSpeed = ko.pureComputed(function () {\n        var MIN_MOVESPEED = 100;\n        var ms = (self.ability().setMovementSpeed() > 0 ? self.ability().setMovementSpeed() : self.buffs.setMovementSpeed());\n        if (ms > 0) {\n            return ms;\n        }\n        else {\n            var movementSpeedPercent = [self.inventory.getMovementSpeedPercent, self.buffs.itemBuffs.getMovementSpeedPercent].reduce(function (memo, fn) {\n                var obj = fn(memo.excludeList);\n                obj.value += memo.value;\n                return obj;\n            }, {value:0, excludeList:[]});\n            var movementSpeedPercentReduction = [self.enemy().inventory.getMovementSpeedPercentReduction, self.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function (memo, fn) {\n                var obj = fn(memo.excludeList);\n                obj.value += memo.value;\n                return obj;\n            }, {value:0, excludeList:[]});\n            return Math.max(\n                self.enemy().inventory.isSheeped() || self.debuffs.itemBuffs.isSheeped() ? 140 :\n                (self.heroData().movementspeed + self.inventory.getMovementSpeedFlat() + self.ability().getMovementSpeedFlat() + TalentController.getMovementSpeedFlat(self.selectedTalents())) * \n                (1 //+ self.inventory.getMovementSpeedPercent() \n                   + movementSpeedPercent.value\n                   + movementSpeedPercentReduction.value\n                   + self.ability().getMovementSpeedPercent() \n                   //+ self.enemy().inventory.getMovementSpeedPercentReduction() \n                   + self.enemy().ability().getMovementSpeedPercentReduction() \n                   + self.buffs.getMovementSpeedPercent() \n                   + self.debuffs.getMovementSpeedPercentReduction()\n                   + self.unit().ability().getMovementSpeedPercent() \n                )\n            , MIN_MOVESPEED).toFixed(2);\n        }\n    });\n    self.totalTurnRate = ko.pureComputed(function () {\n        return (self.heroData().movementturnrate \n                * (1 + self.enemy().ability().getTurnRateReduction()\n                     + self.debuffs.getTurnRateReduction())).toFixed(2);\n    });\n    self.baseDamage = ko.pureComputed(function () {\n        var totalAttribute = self.totalAttribute(self.primaryAttribute()),\n            abilityBaseDamage = self.ability().getBaseDamage(),\n            minDamage = self.heroData().attackdamagemin,\n            maxDamage = self.heroData().attackdamagemax;\n        return [Math.floor((minDamage + totalAttribute + abilityBaseDamage.total) * self.ability().getSelfBaseDamageReductionPct() * self.enemy().ability().getBaseDamageReductionPct() * self.debuffs.getBaseDamageReductionPct() * self.debuffs.itemBuffs.getBaseDamageReductionPct() * abilityBaseDamage.multiplier),\n                Math.floor((maxDamage + totalAttribute + abilityBaseDamage.total) * self.ability().getSelfBaseDamageReductionPct() * self.enemy().ability().getBaseDamageReductionPct() * self.debuffs.getBaseDamageReductionPct() * self.debuffs.itemBuffs.getBaseDamageReductionPct() * abilityBaseDamage.multiplier)];\n    });\n    self.baseDamageAvg = ko.pureComputed(function () {\n        return (self.baseDamage()[0] + self.baseDamage()[1]) / 2;\n    });\n    self.baseDamageMin = ko.pureComputed(function () {\n        return self.baseDamage()[0];\n    });\n    self.baseDamageMax = ko.pureComputed(function () {\n        return self.baseDamage()[1];\n    });\n    self.bonusDamage = ko.pureComputed(function () {\n        return ((self.inventory.getBonusDamage().total\n                + self.ability().getBonusDamage().total\n                + TalentController.getBonusDamage(self.selectedTalents()).total\n                + self.buffs.getBonusDamage().total\n                + Math.floor((self.baseDamage()[0] + self.baseDamage()[1]) / 2 \n                              * (self.buffs.itemBuffs.getBonusDamagePercent(self.inventory.getBonusDamagePercent()).total\n                                 + self.ability().getBonusDamagePercent().total\n                                 + self.buffs.getBonusDamagePercent().total\n                                )\n                            )\n                + Math.floor(\n                    (self.heroData().attacktype == 'DOTA_UNIT_CAP_RANGED_ATTACK' \n                        ? ((self.heroId() == 'drow_ranger') ? self.ability().getBonusDamagePrecisionAura().total[0] * self.totalAgi() : self.buffs.getBonusDamagePrecisionAura().total[1])\n                        : 0)\n                  )\n                + Math.floor(\n                    ((self.heroId() == 'riki') ? self.ability().getBonusDamageBackstab().total[0] * self.totalAgi() : 0)\n                  )\n                ) * self.ability().getSelfBaseDamageReductionPct()\n                  * self.enemy().ability().getBaseDamageReductionPct()\n                  * self.debuffs.itemBuffs.getBaseDamageReductionPct());\n    });\n    self.bonusDamageReduction = ko.pureComputed(function () {\n        return Math.abs(self.enemy().ability().getBonusDamageReduction() + self.debuffs.getBonusDamageReduction());\n    });\n    self.damageAvg = ko.pureComputed(function () {\n        return (self.baseDamage()[0] + self.baseDamage()[1]) / 2 + self.bonusDamage();\n    });\n    self.damageMin = ko.pureComputed(function () {\n        return self.baseDamage()[0] + self.bonusDamage();\n    });\n    self.damageMax = ko.pureComputed(function () {\n        return self.baseDamage()[1] + self.bonusDamage();\n    });\n    self.damage = ko.pureComputed(function () {\n        return [self.baseDamage()[0] + self.bonusDamage(),\n                self.baseDamage()[1] + self.bonusDamage()];\n    });\n    self.totalMagicResistanceProduct = ko.pureComputed(function () {\n        return (1 - self.heroData().magicalresistance / 100) \n                * self.inventory.getMagicResist()\n                * self.ability().getMagicResist()\n                * TalentController.getMagicResist(self.selectedTalents())\n                * self.buffs.getMagicResist()\n                * self.inventory.getMagicResistReductionSelf()\n                * self.enemy().inventory.getMagicResistReduction()\n                * self.enemy().ability().getMagicResistReduction()\n                * self.debuffs.getMagicResistReduction()\n                * self.debuffs.itemBuffs.getMagicResistReduction();\n    });\n    self.totalMagicResistance = ko.pureComputed(function () {\n        return ((1 - self.totalMagicResistanceProduct()) * 100).toFixed(2);\n    });\n    self.bat = ko.pureComputed(function () {\n        var abilityBAT = self.ability().getBAT();\n        if (abilityBAT > 0) {\n            return abilityBAT;\n        }\n        return self.heroData().attackrate;\n    });\n    self.ias = ko.pureComputed(function () {\n        var attackSpeed = [self.inventory.getAttackSpeed, self.buffs.itemBuffs.getAttackSpeed].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value:0, excludeList:[]});\n        var attackSpeedReduction = [self.enemy().inventory.getAttackSpeedReduction, self.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value:0, excludeList: []});\n        var val = parseFloat(self.totalAgi()) \n                //+ self.inventory.getAttackSpeed() \n                + attackSpeed.value\n                + attackSpeedReduction.value\n                //+ self.enemy().inventory.getAttackSpeedReduction() \n                + self.ability().getAttackSpeed() \n                + TalentController.getAttackSpeed(self.selectedTalents()) \n                + self.enemy().ability().getAttackSpeedReduction() \n                + self.buffs.getAttackSpeed() \n                + self.debuffs.getAttackSpeedReduction()\n                + self.unit().ability().getAttackSpeed(); \n        if (val < -80) {\n            return -80;\n        }\n        else if (val > 500) {\n            return 500;\n        }\n        return val.toFixed(2);\n    });\n    self.attackTime = ko.pureComputed(function () {\n        return (self.bat() / (1 + self.ias() / 100)).toFixed(2);\n    });\n    self.attacksPerSecond = ko.pureComputed(function () {\n        return ((1 + self.ias() / 100) / self.bat()).toFixed(2);\n    });\n    self.evasion = ko.pureComputed(function () {\n        if (self.enemy().inventory.isSheeped() || self.debuffs.itemBuffs.isSheeped()) return 0;\n        var e = self.ability().setEvasion();\n        if (e) {\n            return (e * 100).toFixed(2);\n        }\n        else {\n            return (\n                (\n                    1 - (\n                        self.inventory.getEvasion()\n                        * self.ability().getEvasion()\n                        * self.ability().getEvasionBacktrack()\n                        * TalentController.getEvasion(self.selectedTalents())\n                        * self.buffs.itemBuffs.getEvasion()\n                    )\n                ) * 100\n            ).toFixed(2);\n        }\n    });\n    self.ehpPhysical = ko.pureComputed(function () {\n        var evasion = self.enemy().inventory.isSheeped() || self.debuffs.itemBuffs.isSheeped() ? 1 : self.inventory.getEvasion() * self.ability().getEvasion() * self.buffs.itemBuffs.getEvasion();\n        if (self.totalArmorPhysical() >= 0) {\n            var ehp = self.health() * (1 + .06 * self.totalArmorPhysical());\n        }\n        else {\n            var ehp = self.health() * (1 - .06 * self.totalArmorPhysical()) / (1 - .12 * self.totalArmorPhysical());\n        }\n        ehp /= (1 - (1 - (evasion * self.ability().getEvasionBacktrack())));\n        ehp /= (1 - parseFloat(self.enemy().missChance()) / 100);\n        ehp *= (self.inventory.activeItems().some(function (item) {return item.item == 'mask_of_madness';}) ? (1 / 1.3) : 1);\n        ehp *= (1 / self.ability().getDamageReduction());\n        ehp *= (1 / self.buffs.getDamageReduction());\n        ehp *= (1 / self.enemy().ability().getDamageAmplification());\n        ehp *= (1 / self.debuffs.getDamageAmplification());\n        return ehp.toFixed(2);\n    });\n    self.ehpMagical = ko.pureComputed(function () {\n        var ehp = self.health() / self.totalMagicResistanceProduct();\n        ehp *= (self.inventory.activeItems().some(function (item) {return item.item == 'mask_of_madness';}) ? (1 / 1.3) : 1);\n        ehp *= (1 / self.ability().getDamageReduction());\n        ehp *= (1 / self.buffs.getDamageReduction());\n        ehp *= (1 / self.ability().getEvasionBacktrack());\n        ehp *= (1 / self.enemy().ability().getDamageAmplification());\n        ehp *= (1 / self.debuffs.getDamageAmplification());\n        return ehp.toFixed(2);\n    });\n    self.bash = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        return ((1 - (self.inventory.getBash(attacktype) * self.ability().getBash())) * 100).toFixed(2);\n    });\n    \n    self.critChance = ko.pureComputed(function () {\n        return ((1 - (self.inventory.getCritChance() * self.ability().getCritChance())) * 100).toFixed(2);\n    });\n\n    HeroDamageMixin(self, itemData);\n    \n    /*self.critDamage = ko.computed(function () {\n        self.critInfo();\n        return 0;\n    });*/\n    self.missChance = ko.pureComputed(function () {\n        var missDebuff = [self.enemy().inventory.getMissChance, self.debuffs.itemBuffs.getMissChance].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value *= memo.value;\n            return obj;\n        }, {value:1, excludeList:[]});\n        return ((1 - (self.enemy().ability().getMissChance() * self.debuffs.getMissChance() * missDebuff.value)) * 100).toFixed(2);\n    });\n    self.totalattackrange = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        return self.heroData().attackrange\n             + self.ability().getAttackRange()\n             + TalentController.getAttackRange(self.selectedTalents())\n             + self.inventory.getAttackRange(attacktype).value;\n    });\n    self.visionrangeday = ko.pureComputed(function () {\n        return (self.heroData().visiondaytimerange) * (1 + self.enemy().ability().getVisionRangePctReduction() + self.debuffs.getVisionRangePctReduction());\n    });\n    self.visionrangenight = ko.pureComputed(function () {\n        return (self.heroData().visionnighttimerange + self.inventory.getVisionRangeNight() + self.ability().getVisionRangeNight()) * (1 + self.enemy().ability().getVisionRangePctReduction() + self.debuffs.getVisionRangePctReduction());\n    });\n    self.lifesteal = ko.pureComputed(function () {\n        var total = self.inventory.getLifesteal()\n                  + self.ability().getLifesteal()\n                  + TalentController.getLifesteal(self.selectedTalents())\n                  + self.buffs.getLifesteal();\n        if (self.heroData().attacktype == 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n            var lifestealAura = [self.inventory.getLifestealAura, self.buffs.itemBuffs.getLifestealAura].reduce(function (memo, fn) {\n                var obj = fn(memo.excludeList);\n                obj.value += memo.value;\n                return obj;\n            }, {value: 0, excludeList: []});\n            total += lifestealAura.value;\n        }\n        return (total).toFixed(2);\n    });\n    \n    self.diffProperties = diffProperties;\n    self.diff = {};\n\n    for (var i = 0; i < self.diffProperties.length; i++) {\n        var index = i;\n        self.diff[self.diffProperties[index]] = self.getDiffFunction(self.diffProperties[index]);\n    }\n};\n\nHeroModel.prototype.getDiffFunction = function (prop) {\n    var self = this;\n    return ko.computed(function () {\n        if (prop == 'baseDamage') {\n            return [self[prop]()[0] - self.heroCompare()[prop]()[0], self[prop]()[1] - self.heroCompare()[prop]()[1]];\n        }\n        else {\n            return self[prop]() - self.heroCompare()[prop]();\n        }\n    }, this, { deferEvaluation: true });\n}\n\nHeroModel.prototype.getAbilityLevelMax = function (data) {\n    if (data.abilitytype === 'DOTA_ABILITY_TYPE_ATTRIBUTES') {\n        return 1;\n    }\n    else if (data.name === 'invoker_quas' || data.name === 'invoker_wex' || data.name === 'invoker_exort') {\n        return 7;\n    }\n    else if (data.name === 'invoker_invoke') {\n        return 1;\n    }\n    else if (data.name === 'earth_spirit_stone_caller' || data.name === 'ogre_magi_unrefined_fireblast') {\n        return 1;\n    }\n    else if (data.abilitytype === 'DOTA_ABILITY_TYPE_ULTIMATE' || data.name === 'keeper_of_the_light_recall' ||\n             data.name === 'keeper_of_the_light_blinding_light' || data.name === 'ember_spirit_activate_fire_remnant' ||\n             data.name === 'lone_druid_true_form_battle_cry') {\n        return 3;\n    }\n    else if (data.name === 'puck_ethereal_jaunt'  || data.name === 'shadow_demon_shadow_poison_release' ||\n             data.name === 'templar_assassin_trap' || data.name === 'spectre_reality') {\n        return 0;\n    }\n    else if (data.name === 'invoker_cold_snap'  || data.name === 'invoker_ghost_walk' || data.name === 'invoker_tornado' || \n             data.name === 'invoker_emp' || data.name === 'invoker_alacrity' || data.name === 'invoker_chaos_meteor' || \n             data.name === 'invoker_sun_strike' || data.name === 'invoker_forge_spirit' || data.name === 'invoker_ice_wall' || \n             data.name === 'invoker_deafening_blast') {\n        return 0;\n    }\n    else if (data.name === 'techies_minefield_sign' || data.name === 'techies_focused_detonate') {\n        return 0;\n    }\n    else {\n        return 4;\n    }\n};\n\nHeroModel.prototype.toggleTalent = function (talentTier, talentIndex) {\n    if (this.talents[talentTier]() === talentIndex) {\n        this.talents[talentTier](-1);\n    }\n    else if (this.availableSkillPoints() > 0 || this.talents[talentTier]() == 1 - talentIndex) {\n        if (parseInt(this.selectedHeroLevel()) >= talentTier * 5 + 10) {\n            this.talents[talentTier](talentIndex);\n        }\n    }\n}\n\nmodule.exports = HeroModel;","var HeroOption = function (name, displayname, hero) {\n    this.heroName = name;\n    this.heroDisplayName = displayname;\n    this.hero = hero;\n};\n\nmodule.exports = HeroOption;","'use strict';\nvar HeroModel = require(\"./HeroModel\");\nvar illusionData = require(\"../illusion/illusionData\");\nvar findWhere = require(\"../util/findWhere\");\n\nvar IllusionModel = function (heroData, itemData, h,p, abilityLevel) {\n    var self = this;\n    HeroModel.call(this, heroData, itemData, h);\n    self.illusionAbilityLevel = ko.observable(abilityLevel);\n    self.parent = p;\n    \n    self.totalAgi = ko.computed(function () {\n        return (self.heroData().attributebaseagility\n                + self.heroData().attributeagilitygain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('agi') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getAgility()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.intStolen = ko.observable(0).extend({ numeric: 0 });\n    self.totalInt = ko.computed(function () {\n        return (self.heroData().attributebaseintelligence \n                + self.heroData().attributeintelligencegain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('int') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getIntelligence()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction() + self.intStolen()\n               ).toFixed(2);\n    });\n    self.totalStr = ko.computed(function () {\n        return (self.heroData().attributebasestrength \n                + self.heroData().attributestrengthgain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('str') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getStrength()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    \n    self.getAbilityAttributeValue = function(hero, ability, attributeName, level) {\n        if (ability == 'item_manta') {\n            var abilityObj = itemData[ability];\n        }\n        else {\n            var abilityObj = findWhere(heroData['npc_dota_hero_' + hero].abilities, {name: ability});\n        }\n        var attribute = findWhere(abilityObj.attributes, {name: attributeName});\n        if (level == 0) {\n            return parseFloat(attribute.value[0]);\n        }\n        else if (level > attribute.length) {\n            return parseFloat(attribute.value[0]);\n        }\n        else {\n            return parseFloat(attribute.value[level - 1]);\n        }\n    }\n    \n    self.getIncomingDamageMultiplier = function(illusionType, hasScepter, attackType) {\n        if (illusionType == 'item_manta') {\n            if (attackType == 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n                return (1 + self.getAbilityAttributeValue(illusionData[self.illusionType()].hero, self.illusionType(), illusionData[illusionType].incoming_damage_melee, self.illusionAbilityLevel())/100)\n            }\n            else {\n                return (1 + self.getAbilityAttributeValue(illusionData[self.illusionType()].hero, self.illusionType(), illusionData[illusionType].incoming_damage_ranged, self.illusionAbilityLevel())/100)\n            }\n        }\n        else {\n            return (1 + self.getAbilityAttributeValue(illusionData[self.illusionType()].hero, self.illusionType(), illusionData[illusionType].incoming_damage, self.illusionAbilityLevel())/100)\n        }\n    }\n    self.getOutgoingDamageMultiplier = function(illusionType, hasScepter, attackType) {\n        if (illusionType == 'item_manta') {\n            if (attackType == 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n                return (1 + self.getAbilityAttributeValue(illusionData[self.illusionType()].hero, self.illusionType(), illusionData[illusionType].outgoing_damage_melee, self.illusionAbilityLevel())/100);\n            }\n            else {\n                return (1 + self.getAbilityAttributeValue(illusionData[self.illusionType()].hero, self.illusionType(), illusionData[illusionType].outgoing_damage_ranged, self.illusionAbilityLevel())/100);\n            }\n        }\n        else {\n            return (1 + self.getAbilityAttributeValue(illusionData[self.illusionType()].hero, self.illusionType(), illusionData[illusionType].outgoing_damage, self.illusionAbilityLevel())/100);\n        }\n    }\n\n    self.baseDamage = ko.computed(function() {\n        return [Math.floor(heroData['npc_dota_hero_' + self.heroId()].attackdamagemin + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total)\n                * self.getOutgoingDamageMultiplier(self.illusionType(), false, self.heroData().attacktype),\n                Math.floor(heroData['npc_dota_hero_' + self.heroId()].attackdamagemax + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total)\n                * self.getOutgoingDamageMultiplier(self.illusionType(), false, self.heroData().attacktype)];\n    });\n    \n    self.damage = ko.computed(function() {\n        return [self.baseDamage()[0],\n                self.baseDamage()[1]];\n    });\n    \n    self.ehpPhysical = ko.computed(function() {\n        var ehp = (self.health() * (1 + .06 * self.totalArmorPhysical())) / (1 - (1 - (self.inventory.getEvasion() * self.ability().getEvasion())))\n        ehp *= (self.inventory.activeItems().some(function(item) {return item.item == 'mask_of_madness';}) ? (1 / 1.3) : 1);\n        ehp *= (1 / self.getIncomingDamageMultiplier(self.illusionType(), false, self.heroData().attacktype));\n        return ehp.toFixed(2);\n    });\n    self.ehpMagical = ko.computed(function() {\n        var ehp = self.health() / self.totalMagicResistanceProduct();\n        ehp *= (1 / self.getIncomingDamageMultiplier(self.illusionType(), false, self.heroData().attacktype));\n        return ehp.toFixed(2);\n    });\n    \n    self.totalArmorPhysical = ko.computed(function() {\n        return (self.enemy().ability().getArmorBaseReduction() * self.debuffs.getArmorBaseReduction() * (heroData['npc_dota_hero_' + self.heroId()].armorphysical + self.totalAgi() * .14)\n                + self.ability().getArmor() + self.enemy().ability().getArmorReduction() + self.buffs.getArmor() + self.debuffs.getArmorReduction()).toFixed(2);\n    });\n    \n    self.ias = ko.computed(function() {\n        var val = parseFloat(self.totalAgi()) \n                + self.ability().getAttackSpeed() \n                + self.enemy().ability().getAttackSpeedReduction() \n                + self.buffs.getAttackSpeed() \n                + self.debuffs.getAttackSpeedReduction()\n                + self.unit().ability().getAttackSpeed(); \n        if (val < -80) {\n            return -80;\n        }\n        else if (val > 400) {\n            return 400;\n        }\n        return val.toFixed(2);\n    });\n    \n    return self;\n}\nIllusionModel.prototype = Object.create(HeroModel.prototype);\nIllusionModel.prototype.constructor = IllusionModel;\n\nmodule.exports = IllusionModel;","module.exports = {\n    getBonusDamage: function (talents) {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_attack_damage_')) {\n                totalAttribute += ability.attributes[0].value[0];\n                sources[ability.name] = {\n                    'damage': ability.attributes[0].value[0],\n                    'damageType': 'physical',\n                    'displayname': ability.displayname\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    },\n    getHealth: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_hp_') && !ability.name.startsWith('special_bonus_hp_regen_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getHealthRegen: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_hp_regen_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getMana: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_mp_') && !ability.name.startsWith('special_bonus_mp_regen_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getManaRegen: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_mp_regen_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getArmor: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_armor_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getMovementSpeedFlat: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_movement_speed_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getAttackRange: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_attack_range_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getAttackSpeed: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_attack_speed_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getLifesteal: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_lifesteal_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getEvasion: function (talents) {\n        var totalAttribute = 1;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_evasion_')) {\n                totalAttribute *= (1 - ability.attributes[0].value[0]/100);\n            }\n        }\n        return totalAttribute;\n    },\n    getMagicResist: function (talents) {\n        var totalAttribute = 1;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_magic_resistance_')) {\n                totalAttribute *= (1 - ability.attributes[0].value[0]/100);\n            }\n        }\n        return totalAttribute;\n    },\n    getRespawnReduction: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_respawn_reduction_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getStrength: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_strength_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n            else if (ability.name.startsWith('special_bonus_all_stats_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getAgility: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_agility_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n            else if (ability.name.startsWith('special_bonus_all_stats_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    },\n    getIntelligence: function (talents) {\n        var totalAttribute = 0;\n        for (var i = 0; i < talents.length; i++) {\n            var ability = talents[i];\n            if (ability.name.startsWith('special_bonus_intelligence_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n            else if (ability.name.startsWith('special_bonus_all_stats_')) {\n                totalAttribute += ability.attributes[0].value[0];\n            }\n        }\n        return totalAttribute;\n    }\n}","'use strict';\nvar ko = require('../herocalc_knockout');\n\nvar AbilityModel = require(\"../AbilityModel\");\nvar HeroModel = require(\"./HeroModel\");\n\nvar UnitModel = function (heroData, itemData, unitData, h, p) {\n    var self = this;\n    HeroModel.call(this, heroData, itemData, 'abaddon');\n    self.parent = p;\n    self.unitId = ko.observable(h);\n    self.unitLevel = ko.observable(1);\n\n    self.heroData = ko.computed(function() {\n        return unitData[self.unitId()];\n    });\n    self.getAbilityLevelMax = function(data) {\n        if (data.abilitytype == 'DOTA_ABILITY_TYPE_ATTRIBUTES') {\n            return 10;\n        }\n        else if (data.name == 'necronomicon_archer_mana_burn' || data.name == 'necronomicon_archer_aoe'\n            || data.name == 'necronomicon_warrior_mana_burn' || data.name == 'necronomicon_warrior_last_will') {\n            return 3;\n        }\n        else if (data.name == 'necronomicon_warrior_sight') {\n            return 1;\n        }\n        else {\n            return 4;\n        }\n    };\n    self.availableSkillPoints.dispose();\n    self.ability = ko.computed(function() {\n        var a = new AbilityModel(ko.observableArray(JSON.parse(JSON.stringify(self.heroData().abilities))), self);\n        a.hasScepter = self.inventory.hasScepter\n        switch (self.unitId()) {\n            case 'npc_dota_necronomicon_archer_1':\n            case 'npc_dota_necronomicon_warrior_1':\n                a.abilities()[0].level(1);\n                a.abilities()[1].level(1);\n            break;\n            case 'npc_dota_necronomicon_archer_2':\n            case 'npc_dota_necronomicon_warrior_2':\n                a.abilities()[0].level(2);\n                a.abilities()[1].level(2);\n            break;\n            case 'npc_dota_necronomicon_archer_3':\n                a.abilities()[0].level(3);\n                a.abilities()[1].level(3);\n            break;\n            case 'npc_dota_necronomicon_warrior_3':\n                a.abilities()[0].level(3);\n                a.abilities()[1].level(3);\n                a.abilities()[2].level(1);\n            break;\n        }\n        a.levelUpAbility = function(index, data, event, hero) {\n            var i = ko.utils.unwrapObservable(index);\n            switch (a.abilities()[i].name) {\n                case 'necronomicon_archer_mana_burn':\n                case 'necronomicon_archer_aoe':\n                case 'necronomicon_warrior_mana_burn':\n                case 'necronomicon_warrior_last_will':\n                case 'necronomicon_warrior_sight':\n                break;\n                default:\n                    if (a.abilities()[i].level() < hero.getAbilityLevelMax(data)) {\n                        a.abilities()[i].level(a.abilities()[i].level()+1);\n                    }                    \n                break;\n            }\n\n        };\n        a.levelDownAbility = function(index, data, event, hero) {            \n            var i = ko.utils.unwrapObservable(index);\n            switch (a.abilities()[i].name) {\n                case 'necronomicon_archer_mana_burn':\n                case 'necronomicon_archer_aoe':\n                case 'necronomicon_warrior_mana_burn':\n                case 'necronomicon_warrior_last_will':\n                case 'necronomicon_warrior_sight':\n                break;\n                default:\n                    if (a.abilities()[i].level()>0) {\n                        a.abilities()[i].level(a.abilities()[i].level()-1);\n                    }\n                break;\n            }\n        };\n        return a;\n    });        \n    self.primaryAttribute = ko.computed(function() {\n        //var v = unitData[self.unitId()].attributeprimary;\n        var v = 0;\n        if (v == 'DOTA_ATTRIBUTE_AGILITY') {\n            return 'agi'\n        }\n        else if (v == 'DOTA_ATTRIBUTE_INTELLECT') {\n            return 'int'\n        }\n        else if (v == 'DOTA_ATTRIBUTE_STRENGTH') {\n            return 'str'\n        }\n        else {\n            return ''\n        }\n    });\n    self.totalAttribute = function(a) {\n        if (a == 'agi') {\n            return parseFloat(self.totalAgi());\n        }\n        if (a == 'int') {\n            return parseFloat(self.totalInt());\n        }\n        if (a == 'str') {\n            return parseFloat(self.totalStr());\n        }\n        return 0;\n    };\n    self.totalAgi = ko.computed(function() {\n        return (unitData[self.unitId()].attributebaseagility\n                + unitData[self.unitId()].attributeagilitygain * (self.selectedHeroLevel() - 1) \n                //+ self.inventory.getAttributes('agi') \n                + self.ability().getAttributeBonusLevel()*2\n                + self.ability().getAgility()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.totalInt = ko.computed(function() {\n        return (unitData[self.unitId()].attributebaseintelligence \n                + unitData[self.unitId()].attributeintelligencegain * (self.selectedHeroLevel() - 1) \n                //+ self.inventory.getAttributes('int') \n                + self.ability().getAttributeBonusLevel()*2\n                + self.ability().getIntelligence()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.totalStr = ko.computed(function() {\n        return (unitData[self.unitId()].attributebasestrength \n                + unitData[self.unitId()].attributestrengthgain * (self.selectedHeroLevel() - 1) \n                //+ self.inventory.getAttributes('str') \n                + self.ability().getAttributeBonusLevel()*2\n                + self.ability().getStrength()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    /*self.health = ko.computed(function() {\n        return (unitData[self.unitId()].statushealth + self.totalStr()*19 \n                + self.inventory.getHealth()\n                + self.ability().getHealth()).toFixed(2);\n    });\n    self.healthregen = ko.computed(function() {\n        return (unitData[self.unitId()].statushealthregen + self.totalStr()*.03 \n                + self.inventory.getHealthRegen() \n                + self.ability().getHealthRegen()\n                + self.buffs.getHealthRegen()).toFixed(2);\n    });\n    self.mana = ko.computed(function() {\n        return (unitData[self.unitId()].statusmana + self.totalInt()*13 + self.inventory.getMana()).toFixed(2);\n    });\n    self.manaregen = ko.computed(function() {\n        return ((unitData[self.unitId()].statusmanaregen \n                + self.totalInt()*.04 \n                + self.ability().getManaRegen()) \n                * (1 + self.inventory.getManaRegenPercent()) \n                + (self.selectedHero().heroName == 'crystal_maiden' ? self.ability().getManaRegenArcaneAura() * 2 : self.buffs.getManaRegenArcaneAura())\n                + self.inventory.getManaRegenBloodstone()\n                - self.enemy().ability().getManaRegenReduction()).toFixed(2);\n    });\n    self.totalArmorPhysical = ko.computed(function() {\n        return (self.enemy().ability().getArmorBaseReduction() * self.debuffs.getArmorBaseReduction() * (unitData[self.unitId()].armorphysical + self.totalAgi()*.14)\n                + self.inventory.getArmor() + self.ability().getArmor() + self.enemy().ability().getArmorReduction() + self.buffs.getArmor() + self.debuffs.getArmorReduction()).toFixed(2);\n    });\n    self.totalArmorPhysicalReduction = ko.computed(function() {\n        return ((0.06 * self.totalArmorPhysical()) / (1 + 0.06 * self.totalArmorPhysical()) * 100).toFixed(2);\n    });\n    self.totalMovementSpeed = ko.computed(function() {\n        if (self.parent.ability().isShapeShiftActive()) {\n            return 522;\n        }\n        var ms = (self.ability().setMovementSpeed() > 0 ? self.ability().setMovementSpeed() : self.buffs.setMovementSpeed());\n        if (ms > 0) {\n            return ms;\n        }\n        else {\n            return ((unitData[self.unitId()].movementspeed + self.inventory.getMovementSpeedFlat()+ self.ability().getMovementSpeedFlat()) * \n                    (1 + self.inventory.getMovementSpeedPercent() \n                       + self.ability().getMovementSpeedPercent() \n                       + self.enemy().inventory.getMovementSpeedPercentReduction() \n                       + self.enemy().ability().getMovementSpeedPercentReduction() \n                       + self.buffs.getMovementSpeedPercent() \n                       + self.debuffs.getMovementSpeedPercentReduction()\n                    )).toFixed(2);\n        }\n    });\n    self.totalTurnRate = ko.computed(function() {\n        return (unitData[self.unitId()].movementturnrate \n                * (1 + self.enemy().ability().getTurnRateReduction()\n                     + self.debuffs.getTurnRateReduction())).toFixed(2);\n    });\n    */\n    self.baseDamage = ko.computed(function() {\n        return [Math.floor(unitData[self.unitId()].attackdamagemin + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total),\n                Math.floor(unitData[self.unitId()].attackdamagemax + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total)];\n    });\n    /*self.bonusDamage = ko.computed(function() {\n        return self.inventory.getBonusDamage().total\n                + self.ability().getBonusDamage().total\n                + self.buffs.getBonusDamage().total\n                + Math.floor((self.baseDamage()[0] + self.baseDamage()[1])/2 \n                              * (self.inventory.getBonusDamagePercent().total\n                                 + self.ability().getBonusDamagePercent().total\n                                 + self.buffs.getBonusDamagePercent().total\n                                )\n                            )\n                + Math.floor(\n                    (self.hero().attacktype() == 'DOTA_UNIT_CAP_RANGED_ATTACK' \n                        ? ((self.selectedHero().heroName == 'drow_ranger') ? self.ability().getBonusDamagePrecisionAura().total[0] * self.totalAgi() : self.buffs.getBonusDamagePrecisionAura().total[1])\n                        : 0)\n                  );\n    });*/\n    /*self.bonusDamageReduction = ko.computed(function() {\n        return Math.abs(self.enemy().ability().getBonusDamageReduction() + self.debuffs.getBonusDamageReduction());\n    });\n    self.damage = ko.computed(function() {\n        return [self.baseDamage()[0] + self.bonusDamage()[0],\n                self.baseDamage()[1] + self.bonusDamage()[1]];\n    });*/\n    self.totalMagicResistanceProduct = ko.computed(function() {\n        return (1 - unitData[self.unitId()].magicalresistance / 100) \n                   * (1 - self.inventory.getMagicResist() / 100) \n                   * (1 - self.ability().getMagicResist() / 100) \n                   * (1 - self.buffs.getMagicResist() / 100) \n                   * self.enemy().inventory.getMagicResistReduction()\n                   * self.enemy().ability().getMagicResistReduction() \n                   * self.debuffs.getMagicResistReduction();\n    });\n    self.totalMagicResistance = ko.computed(function() {\n        return (1 - self.totalMagicResistanceProduct());\n    });\n    self.bat = ko.computed(function() {\n        var abilityBAT = self.ability().getBAT();\n        if (abilityBAT > 0) {\n            return abilityBAT;\n        }\n        return unitData[self.unitId()].attackrate;\n    });\n    /*\n    self.ias = ko.computed(function() {\n        var val = parseFloat(self.totalAgi()) \n                + self.inventory.getAttackSpeed() \n                + self.ability().getAttackSpeed() \n                + self.enemy().ability().getAttackSpeedReduction() \n                + self.buffs.getAttackSpeed() \n                + self.debuffs.getAttackSpeedReduction();\n        if (val < -80) {\n            return -80;\n        }\n        else if (val > 400) {\n            return 400;\n        }\n        return (val).toFixed(2);\n    });*/\n    self.attackTime = ko.computed(function() {\n        return (self.bat() / (1 + self.ias() / 100)).toFixed(2);\n    });\n    self.attacksPerSecond = ko.computed(function() {\n        return (1 + self.ias() / 100) / self.bat();\n    });\n    self.evasion = ko.computed(function() {\n        var e = self.ability().setEvasion();\n        if (e) {\n            return (e * 100).toFixed(2) + '%';\n        }\n        else {\n            return ((1-(self.inventory.getEvasion() * self.ability().getEvasion())) * 100).toFixed(2) + '%';\n        }\n    });\n    self.ehpPhysical = ko.computed(function() {\n        return ((self.health() * (1 + .06 * self.totalArmorPhysical())) / (1-(1-(self.inventory.getEvasion() * self.ability().getEvasion())))).toFixed(2);\n    });\n    self.ehpMagical = ko.computed(function() {\n        return (self.health() / self.totalMagicResistanceProduct()).toFixed(2);\n    });\n    self.heroId(h);\n    self.unitId.subscribe(function (newValue) {\n        self.heroId(newValue);\n    });\n    return self;\n}\nUnitModel.prototype = Object.create(HeroModel.prototype);\nUnitModel.prototype.constructor = UnitModel;\n\nmodule.exports = UnitModel;","var UnitOption = function (name, displayname, levels, image, level) {\n    this.heroName = ko.computed(function() {\n        return (levels > 0) ? name + (level() <= levels ? level() : 1) : name;\n    });\n    this.heroDisplayName = displayname;\n    this.image = image;\n    this.levels = levels;\n};\n\nmodule.exports = UnitOption;","var diffProperties = [\n    'totalAgi',\n    'totalInt',\n    'totalStr',\n    'health',\n    'healthregen',\n    'mana',\n    'manaregen',\n    'totalArmorPhysical',\n    'totalArmorPhysicalReduction',\n    'totalMovementSpeed',\n    'totalTurnRate',\n    'baseDamage',\n    'bonusDamage',\n    'bonusDamageReduction',\n    'damage',\n    'totalMagicResistanceProduct',\n    'totalMagicResistance',\n    'bat',\n    'ias',\n    'attackTime',\n    'attacksPerSecond',\n    'evasion',\n    'ehpPhysical',\n    'ehpMagical',\n    'bash',\n    'critChance',\n    //'critDamage',\n    'missChance',\n    'totalattackrange',\n    'visionrangeday',\n    'visionrangenight',\n    'lifesteal'\n];\n\nmodule.exports = diffProperties;","var HeroOption = require(\"./HeroOption\");\n\nvar heroOptionsArray = {};\n\nvar init = function (heroData) {\n    heroOptionsArray.items = [];\n    for (var h in heroData) {\n        heroOptionsArray.items.push(new HeroOption(h.replace('npc_dota_hero_', ''), heroData[h].displayname));\n    }\n    return heroOptionsArray.items;\n}\n\nheroOptionsArray.init = init;\n\nmodule.exports = heroOptionsArray;","var nextLevelExp = [200, 300, 400, 500, 600, 600, 800, 1000, 1000, 600, 2200, 800, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400, 2500, '&mdash;'];\n\nmodule.exports = nextLevelExp;","var totalExp = [0, 200, 500, 900, 1400, 2000, 2600, 3400, 4400, 5400, 6000, 8200, 9000, 10400, 11900, 13500, 15200, 17000, 18900, 20900, 23000, 25200, 27500, 29900, 32400];\n\nmodule.exports = totalExp;","var abilityData = {\n    'alchemist_acid_spray': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'armor_reduction',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'armorReduction'\n        }\n    ],\n    'alchemist_unstable_concoction': [\n        {\n            label: 'Brew Time',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'max_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/5;\n            }\n        },\n        {\n            attributeName: 'max_stun',\n            label: 'Total Stun',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/5;\n            }\n        }\n    ],\n    'ancient_apparition_cold_feet': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'stun_duration',\n            label: 'Total Stun',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        }\n    ],\n    'ancient_apparition_ice_blast': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'dot_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')+v*a;\n            }\n        }\n    ],\n    'antimage_mana_void': [\n        {\n            label: 'Enemy Missing Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_void_damage_per_mana',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'axe_battle_hunger': [\n        {\n            label: 'Battle Hungered Enemies',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'speed_bonus',\n            label: 'Movement Speed Bonus',\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'slow',\n            label: 'Movement Speed Bonus',\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'bane_nightmare': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'bane_fiends_grip': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'fiend_grip_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    return v[0]*abilityModel.getAbilityAttributeValue(ability.attributes, 'fiend_grip_damage_scepter',ability.level());\n                }\n                else {\n                    return v[0]*a;\n                }\n            }\n        },\n        {\n            attributeName: 'fiend_grip_mana_drain',\n            label: 'Total Mana Drain',\n            controlType: 'text',\n            controls: [0,1],\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    return v[0]*v[1]*abilityModel.getAbilityAttributeValue(ability.attributes, 'fiend_grip_mana_drain_scepter',ability.level())/100;\n                }\n                else {\n                    return v[0]*v[1]*a/100;\n                }\n            }\n        }\n    ],\n    'batrider_sticky_napalm': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Bonus Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        },\n        {\n            attributeName: 'movement_speed_pct',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'turn_rate_pct',\n            label: 'Enemy Turn Rate Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'turnRateReduction'\n        }\n    ],\n    'batrider_firefly': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'bloodseeker_rupture': [\n        {\n            label: 'Enemy Distance Traveled',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'movement_damage_pct',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage') + v*a/100;\n            }\n        }\n    ],\n    'bristleback_viscous_nasal_goo': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'armor_per_stack',\n            label: 'Enemy Armor Reduction',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'armorReduction'\n        },\n        {\n            attributeName: 'move_slow_per_stack',\n            label: '%SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -(abilityModel.getAbilityAttributeValue(ability.attributes, 'base_move_slow',0)+v*a);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'bristleback_quill_spray': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'quill_stack_damage',\n            label: 'DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var total = abilityModel.getAbilityAttributeValue(ability.attributes, 'quill_base_damage',ability.level())+v*a,\n                damage_cap = abilityModel.getAbilityAttributeValue(ability.attributes, 'max_damage',0);\n                if (total > damage_cap) {\n                    total = damage_cap;\n                }\n                return total;\n            }\n        }\n    ],\n    'bristleback_bristleback': [\n        {\n            label: 'Damage From',\n            controlType: 'radio',\n            controlValueType: 'string',\n            controlOptions: [\n                {text: 'Back', value: 'back'},\n                {text: 'Side', value: 'side'}\n            ]\n        },\n        {\n            attributeName: 'back_damage_reduction',\n            label: '%DAMAGE REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var ability = abilityModel.abilities().find(function(b) {\n                    return b.name == 'bristleback_bristleback';\n                });\n                if (v == 'back') {\n                    var total = abilityModel.getAbilityAttributeValue(ability.attributes, 'back_damage_reduction', ability.level());\n                }\n                else {\n                    var total = abilityModel.getAbilityAttributeValue(ability.attributes, 'side_damage_reduction', ability.level());\n                }\n                return -total;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'bristleback_warpath': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_stack',\n            label: 'BONUS DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v < 1) {\n                    return 0;\n                }\n                else {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes, 'base_damage',ability.level())+(v-1)*a;\n                }\n            }\n        },\n        {\n            attributeName: 'move_speed_per_stack',\n            label: '%MOVEMENT:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v < 1) {\n                    return 0;\n                }\n                else {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes, 'base_move_speed',ability.level())+(v-1)*a;\n                }\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'centaur_return': [\n        {\n            label: 'Strength',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'strength_pct',\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'return_damage',ability.level()) + v*a/100;\n            }\n        }\n    ],\n    'centaur_stampede': [\n        {\n            label: 'Strength',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'strength_damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'clinkz_death_pact': [\n        {\n            label: 'Consumed Unit HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_gain_pct',\n            label: 'BASE DAMAGE GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'baseDamage'\n        },\n        {\n            attributeName: 'health_gain_pct',\n            label: 'HEALTH GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusHealth'\n        }\n    ],\n    'crystal_maiden_frostbite': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'dark_seer_ion_shell': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'dazzle_shadow_wave': [\n        {\n            label: 'Targets',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'dazzle_weave': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'armor_per_second',\n            label: 'ARMOR',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'armor'\n        },\n        {\n            attributeName: 'armor_per_second',\n            label: 'ARMOR REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'armorReduction'\n        }\n    ],\n    'death_prophet_exorcism': [\n        {\n            label: 'Damage Dealt',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal_percent',\n            label: 'Total Armor',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        }\n    ],\n    'disruptor_static_storm': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damagevalue = 0.25 * (130 + 40 * ability.level()) * (1/20),\n                mult = (v*4)*((v*4)+1)/2;\n                return damagevalue * mult;\n            }\n        }\n    ],\n    'doom_bringer_scorched_earth': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'HP REGEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'healthregen'\n        }\n    ],\n    'doom_bringer_doom': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    return v*abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_scepter',ability.level());\n                }\n                else {\n                    return v*a;\n                }\n            }\n        }\n    ],\n    'dragon_knight_elder_dragon_form': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_attack_range',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackrange'\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedFlat'\n        }\n    ],\n    'drow_ranger_trueshot': [\n        {\n            label: 'Drow\\'s Agility',\n            controlType: 'input',\n            display: 'buff'\n        },\n        {\n            attributeName: 'trueshot_ranged_damage',\n            label: 'DAMAGE BONUS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            display: 'buff',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusDamagePrecisionAura'\n        }\n    ],\n    'earth_spirit_rolling_boulder': [\n        {\n            label: 'Using Stone',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'move_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return -a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'earthshaker_enchant_totem': [\n        {\n            label: 'Activated',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'totem_damage_percentage',\n            label: 'DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'baseDamageMultiplier'\n        }\n    ],\n    'earthshaker_echo_slam': [\n        {\n            label: 'Enemies in Range',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'echo_slam_echo_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'elder_titan_ancestral_spirit': [\n        {\n            label: 'HEROES PASSED THROUGH',\n            controlType: 'input'\n        },\n        {\n            label: 'CREEPS PASSED THROUGH',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_creeps',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_heroes',ability.level()) + v[1]*a;\n            },\n            returnProperty: 'bonusDamage'\n        },\n        {\n            attributeName: 'move_pct_creeps',\n            label: '%BONUS SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*abilityModel.getAbilityAttributeValue(ability.attributes, 'move_pct_heroes',ability.level()) + v[1]*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'elder_titan_earth_splitter': [\n        {\n            label: 'Enemy Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        },\n        {\n            attributeName: 'slow_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'enchantress_natures_attendants': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal',\n            label: 'HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'wisp_count',ability.level())*v*a;\n            }\n        }\n    ],\n    'enigma_malefice': [\n        {\n            label: 'Hits',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'stun_duration',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'enigma_midnight_pulse': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_percent',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        }\n    ],\n    'enigma_black_hole': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'far_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'near_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'faceless_void_time_lock': [\n        {\n            label: 'In Chronosphere',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: '%MOVESPEED AS DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a*2;\n                }\n                else {\n                    return a;\n                }\n            },\n            returnProperty: 'bashBonusDamage'\n        },\n        {\n            attributeName: 'duration',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        },\n        {\n            attributeName: 'chance_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bash'\n        }\n    ],\n    'gyrocopter_rocket_barrage': [\n        {\n            label: 'Rockets',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'rockets_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n/*        'gyrocopter_homing_missile': [\n        {\n            label: 'Distance Traveled',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'gyrocopter_flak_cannon': [\n        {\n            label: 'Attacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],*/\n    'huskar_burning_spear': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_cost',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'huskar_berserkers_blood': [\n        {\n            label: '%HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hp_threshold_max',\n            label: 'Health at given %HP:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return parent.health()*v/100;\n            }\n        },\n        {\n            attributeName: 'hp_threshold_max',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        },\n        {\n            attributeName: 'maximum_resistance',\n            label: 'MAGIC RESISTANCE BONUS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var v = Math.min(v, 100);\n                v = Math.max(v, 10);\n                var hp_threshold_max = abilityModel.getAbilityAttributeValue(ability.attributes, 'hp_threshold_max',0);\n                var d = 100 - hp_threshold_max;\n                var c = (v - hp_threshold_max) / d;\n                c = 1 - c;\n                return c*a;\n            },\n            returnProperty: 'magicResist'\n        },\n        {\n            attributeName: 'maximum_attack_speed',\n            label: 'ATTACK SPEED BONUS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var v = Math.min(v, 100);\n                v = Math.max(v, 10);\n                var hp_threshold_max = abilityModel.getAbilityAttributeValue(ability.attributes, 'hp_threshold_max',0);\n                var d = 100 - hp_threshold_max;\n                var c = (v - hp_threshold_max) / d;\n                c = 1 - c;\n                return c*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'huskar_life_break': [\n        {\n            label: 'Enemy Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            label: 'Huskar Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_cost_percent',\n            label: 'DAMAGE TAKEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'movespeed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'invoker_quas': [\n        {\n            label: 'Instances',\n            controlType: 'input'\n        },\n        /*{\n            attributeName: 'bonus_strength',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusStrength'\n        },*/\n        {\n            attributeName: 'health_regen_per_instance',\n            label: 'HP REGEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'healthregen'\n        }\n    ],\n    'invoker_wex': [\n        {\n            label: 'Instances',\n            controlType: 'input'\n        },\n        /*{\n            attributeName: 'bonus_agility',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusAgility'\n        },*/\n        {\n            attributeName: 'move_speed_per_instance',\n            label: '%MOVE SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'attack_speed_per_instance',\n            label: '%ATTACK SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'invoker_exort': [\n        {\n            label: 'Instances',\n            controlType: 'input'\n        },\n        /*{\n            attributeName: 'bonus_intelligence',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusInt'\n        },*/\n        {\n            attributeName: 'bonus_damage_per_instance',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'invoker_ghost_walk': [\n        {\n            label: 'Quas Level',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'enemy_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'enemy_slow',v);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            label: 'Wex Level',\n            controlType: 'input',\n            display: 'ability'\n        },\n        {\n            attributeName: 'self_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            display: 'ability',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'self_slow',v);\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'invoker_alacrity': [\n        {\n            label: 'Wex Level',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'bonus_attack_speed',v);\n            },\n            returnProperty: 'attackspeed'\n        },\n        {\n            label: 'Exort Level',\n            controlType: 'input',\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'bonus_damage',v);\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'invoker_ice_wall': [\n        {\n            label: 'Quas Level',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'slow',v);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            label: 'Exort Level',\n            controlType: 'input',\n            display: 'ability'\n        },\n        {\n            label: 'Duration',\n            controlType: 'input',\n            display: 'ability'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            display: 'ability',\n            controls: [1,2],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v[0] == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_per_second',v[0])*v[1];\n            }\n        }\n    ],\n    'jakiro_dual_breath': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*2 + \n                abilityModel.getAbilityAttributeValue(ability.attributes, 'burn_damage',ability.level())*v;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'slow_attack_speed_pct',\n            label: '%ATTACK SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'jakiro_liquid_fire': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_attack_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'jakiro_macropyre': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'juggernaut_blade_fury': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'juggernaut_healing_ward': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'healing_ward_heal_amount',\n            label: 'HEAL OVER TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        }\n    ],\n    'juggernaut_omni_slash': [\n        {\n            label: 'Jumps',\n            controlType: 'input'\n        },\n        {\n            label: 'MIN DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'omni_slash_damage',1)*v;\n            }\n        },\n        {\n            label: 'MAX DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'omni_slash_damage',2)*v;\n            }\n        }\n    ],\n    'keeper_of_the_light_illuminate': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'keeper_of_the_light_mana_leak': [\n        {\n            label: 'Distance Moved',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_leak_pct',\n            label: 'MANA LEAKED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]/100*v[1]*a/100;\n            }\n        }\n    ],\n    'legion_commander_duel': [\n        {\n            label: 'Duel Wins',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'reward_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'leshrac_pulse_nova': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_cost_per_second',\n            label: 'MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'lich_chain_frost': [\n        {\n            label: 'Bounce Hits',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'slow_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'life_stealer_feast': [\n        {\n            label: 'Enemy Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hp_leech_percent',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'life_stealer_open_wounds': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal_percent',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'lifesteal'\n        },\n        {\n            attributeName: 'slow_steps',\n            label: '%SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'slow_steps',v+1);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'lina_fiery_soul': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'fiery_soul_move_speed_bonus',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'fiery_soul_attack_speed_bonus',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'lion_mana_drain': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_per_second',\n            label: 'MANA DRAINED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'luna_moon_glaive': [\n        {\n            label: 'Damage',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_reduction_percent',\n            label: 'BOUNCE DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var result = [];\n                for (var i = 1; i < 6; i++) {\n                    result.push((v*Math.pow(a/100,i)).toFixed(2))\n                }\n                return result.join('<br>');\n            }\n        }\n    ],\n    'luna_eclipse': [\n        {\n            label: 'Beam Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'beams',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var lucentBeamAbility = abilityModel.abilities().find(function(b) {\n                    return b.name == 'luna_lucent_beam';\n                });\n                if (lucentBeamAbility.level() == 0) return 0;\n                var damage = abilityModel.getAbilityPropertyValue(lucentBeamAbility, 'damage');\n                return v*damage;\n            }\n        }\n    ],\n    'medusa_mystic_snake': [\n        {\n            label: 'Jump Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Damage Per Jump:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            display: 'none',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var snake_jumps = abilityModel.getAbilityAttributeValue(ability.attributes, 'snake_jumps',ability.level());\n                var snake_scale = abilityModel.getAbilityAttributeValue(ability.attributes, 'snake_scale',0);\n                var damage = [];\n                for (var i = 0; i < snake_jumps; i++) {\n                    damage.push(a + a * i * snake_scale/100);\n                }\n                return damage;\n            }\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Damage Per Jump:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[1].join(' / ');\n            }\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[1].slice(0, v[0]).reduce(function (memo, o) { return memo + o }, 0);\n            }\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Max Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[1].reduce(function (memo, o) { return memo + o }, 0);\n            }\n        }\n    ],\n    'medusa_mana_shield': [\n        {\n            label: 'Damage',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_mana',\n            label: 'MANA USED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return (v/a).toFixed(2);\n            }\n        },\n        {\n            attributeName: 'absorption_tooltip',\n            label: '%DAMAGE REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'meepo_poof': [\n        {\n            label: 'Meepo Count',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'meepo_geostrike': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            attributeName: 'slow',\n            label: '%SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'slow',ability.level())*v;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'mirana_arrow': [\n        {\n            label: 'Arrow Travel Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'arrow_max_stun',\n            label: 'STUN DURATION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var arrow_min_stun = abilityModel.getAbilityAttributeValue(ability.attributes, 'arrow_min_stun',0);\n                var arrow_max_stunrange = abilityModel.getAbilityAttributeValue(ability.attributes, 'arrow_max_stunrange',0);\n                var scale = Math.min(v, arrow_max_stunrange) / arrow_max_stunrange;\n                return Math.max(arrow_min_stun, Math.floor(a * scale / 0.1) * 0.1);\n            }\n        },\n        {\n            attributeName: 'arrow_bonus_damage',\n            label: 'TOTAL DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var ability = ability;\n                var damage = ability.damage()[ability.level()-1];\n                var arrow_max_stunrange = abilityModel.getAbilityAttributeValue(ability.attributes, 'arrow_max_stunrange',0);\n                var scale = Math.min(v, arrow_max_stunrange) / arrow_max_stunrange;\n                var bonus_damage = Math.floor(a * scale / 2.8) * 2.8;\n                return damage + ' + ' + bonus_damage + ' = ' + (damage + bonus_damage);\n            }\n        }\n    ],\n    'morphling_morph_agi': [\n        {\n            label: 'Shifts',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'AGI SHIFT GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'STR SHIFT LOSS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'bonus_attributes',\n            label: 'SHIFT TIME:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusAgility2'\n        },\n        {\n            attributeName: 'morph_cooldown',\n            label: 'SHIFT TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_cost',\n            label: 'SHIFT MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a*abilityModel.getAbilityAttributeValue(ability.attributes, 'morph_cooldown',ability.level());\n            }\n        }\n    ],\n    'morphling_morph_str': [\n        {\n            label: 'Shifts',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'STR SHIFT GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'AGI SHIFT LOSS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'bonus_attributes',\n            label: 'SHIFT TIME:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusStrength2'\n        },\n        {\n            attributeName: 'morph_cooldown',\n            label: 'SHIFT TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_cost',\n            label: 'SHIFT MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a*abilityModel.getAbilityAttributeValue(ability.attributes, 'morph_cooldown',ability.level());\n            }\n        }\n    ],\n    'furion_wrath_of_nature': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'necrolyte_heartstopper_aura': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'aura_damage',\n            label: 'HEALTH LOST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        }\n    ],\n    'necrolyte_sadist': [\n        {\n            label: 'Unit Kills',\n            controlType: 'input'\n        },\n        {\n            label: 'Hero Kills',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_regen',\n            label: 'Total Damage',\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var hero_multiplier = abilityModel.getAbilityAttributeValue(ability.attributes, 'hero_multiplier',0)\n                return (v[0]+v[1]*hero_multiplier)*a;\n            },\n            returnProperty: 'healthregen'\n        },\n        {\n            attributeName: 'mana_regen',\n            label: 'Total Damage',\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var hero_multiplier = abilityModel.getAbilityAttributeValue(ability.attributes, 'hero_multiplier',0)\n                return (v[0]+v[1]*hero_multiplier)*a;\n            },\n            returnProperty: 'manaregen'\n        }\n    ],\n    'night_stalker_crippling_fear': [\n        {\n            label: 'Is Night',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'miss_rate_night',\n            label: '%CHANCE TO MISS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes, 'miss_rate_night',ability.level());\n                }\n                else {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes, 'miss_rate_day',ability.level());\n                }\n            },\n            returnProperty: 'missChance'\n        }\n    ],    \n    'night_stalker_hunter_in_the_night': [\n        {\n            label: 'Is Night',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'bonus_attack_speed_night',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'attackspeed'\n        },\n        {\n            attributeName: 'bonus_movement_speed_pct_night',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],    \n    'obsidian_destroyer_arcane_orb': [\n        {\n            label: 'Current Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_pool_damage_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusDamageOrb'\n        }\n    ],\n    'ogre_magi_ignite': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'burn_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'pudge_rot': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            attributeName: 'rot_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'pudge_flesh_heap': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'flesh_heap_strength_buff_amount',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'flesh_heap_magic_resist',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'magicResist'\n        }\n    ],\n    'pudge_dismember': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'dismember_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'pugna_nether_ward': [\n        {\n            label: 'Enemy Mana Spent',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_multiplier',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_regen',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'manaregenreduction'\n        }\n    ],\n    'pugna_life_drain': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_drain',\n            label: 'HEALTH DRAINED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'queenofpain_shadow_strike': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'movement_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'strike_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var duration_damage = abilityModel.getAbilityAttributeValue(ability.attributes, 'duration_damage',ability.level());\n                var ticks = Math.floor(v/3);\n                return a + duration_damage * ticks;\n            }\n        }\n    ],\n    'razor_plasma_field': [\n        {\n            label: 'Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'radius',\n            label: 'MIN DISTANCE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return 200;\n            }\n        },\n        {\n            attributeName: 'radius',\n            label: 'MAX DISTANCE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return 200 + a;\n            }\n        },\n        {\n            attributeName: 'radius',\n            label: 'Instance Damage',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var max_radius = a + 200;\n                var scale = (Math.min(Math.max(v, 200), max_radius) - 200) / (max_radius - 200);\n                var damage_min = abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_min',ability.level());\n                var damage_max = abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_max',ability.level());\n                return damage_min + (damage_max - damage_min) * scale;\n            }\n        }\n    ],\n    'razor_static_link': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'drain_length',\n            label: 'Damage Drained:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var tick_duration = Math.floor(v * 4) + 1;\n                var ticks = Math.min(a * 4 + 1, tick_duration);\n                var drain_rate = abilityModel.getAbilityAttributeValue(ability.attributes, 'drain_rate',ability.level());\n                return ticks * drain_rate/4;\n            },\n            returnProperty: 'bonusDamage'\n        },\n        {\n            attributeName: 'drain_length',\n            label: 'Enemy Damage Lost:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            display: 'hidden',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var tick_duration = Math.floor(v * 4) + 1;\n                var ticks = Math.min(a * 4 + 1, tick_duration);\n                var drain_rate = abilityModel.getAbilityAttributeValue(ability.attributes, 'drain_rate',ability.level());\n                return ticks * drain_rate/4;\n            },\n            returnProperty: 'bonusDamageReduction'\n        }\n    ],\n    'razor_eye_of_the_storm': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'rubick_fade_bolt': [\n        {\n            label: 'Jumps',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a * (1 - v*abilityModel.getAbilityAttributeValue(ability.attributes, 'jump_damage_reduction_pct',ability.level())/100);\n            }\n        },\n        {\n            attributeName: 'hero_attack_damage_reduction',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusDamageReduction'\n        }\n    ],\n    'sandking_sand_storm': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'sandking_epicenter': [\n        {\n            label: 'Pulses',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'epicenter_damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'epicenter_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'epicenter_slow_as',\n            label: '%ATTACK SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'shadow_demon_shadow_poison': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'stack_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var stackmult = [1,2,4,8];\n                if (v > 4) {\n                    return a * stackmult[3] + 50 * (v - 4);\n                }\n                else if (v <= 0) {\n                    return 0\n                }\n                else {\n                    return a * stackmult[v-1]\n                }\n            }\n        }\n    ],\n    'nevermore_necromastery': [\n        {\n            label: 'Souls',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'necromastery_damage_per_soul',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'nevermore_requiem': [\n        {\n            label: 'Line Hit Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'requiem_reduction_damage',\n            label: 'Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            label: 'Return Line Hit Count (Scepter)',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'requiem_damage_pct_scepter',\n            label: 'Damage/Heal:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v*a/100;\n            }\n        },\n        {\n            attributeName: 'requiem_damage_pct_scepter',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return damage*v[0] + damage*v[1]*a/100;\n            }\n        },\n        {\n            attributeName: 'requiem_reduction_damage',\n            label: '%DAMAGE REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'baseDamageReductionPct'\n        },\n        {\n            attributeName: 'requiem_reduction_ms',\n            label: '%DAMAGE REDUCTION:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'shadow_shaman_shackles': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'silencer_curse_of_the_silent': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return Math.floor(v)*a;\n            }\n        },\n        {\n            attributeName: 'movespeed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n/*        'silencer_glaives_of_wisdom': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],*/\n    'skywrath_mage_mystic_flare': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'slark_essence_shift': [\n        {\n            label: 'Attacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'agi_gain',\n            label: 'Total Damage',\n            controlType: 'text',\n            display: 'ability',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'stat_loss',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'bonusAllStatsReduction'\n        }\n    ],\n    'slark_shadow_dance': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_regen_pct',\n            label: 'TOTAL HEALTH REGENERATED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*parent.health()*a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_regen_pct',\n            label: 'HEALTH GAINED PER SECOND:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return parent.health()*a/100;\n            },\n            returnProperty: 'healthregen'\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: '%MOVE SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'sniper_shrapnel': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            attributeName: 'building_damage',\n            label: 'BUILDING DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'spectre_desolate': [\n        {\n            label: 'Enemy Alone',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'spectre_dispersion': [\n        {\n            label: 'Damage Taken',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_reflection_pct',\n            label: 'DAMAGE REFLECTED:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'damageReduction'\n        },\n        {\n            attributeName: 'damage_reflection_pct',\n            label: 'DAMAGE REFLECTED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        }\n    ],\n    'storm_spirit_ball_lightning': [\n        {\n            label: 'MAX MANA',\n            controlType: 'input'\n        },\n        {\n            label: 'Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_base',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0, 1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')/100*v[1];\n            }\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_base',\n            label: 'FLAT MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var distance_intervals = Math.floor(v[1]/100);\n                var travel_cost_base = abilityModel.getAbilityAttributeValue(ability.attributes, 'ball_lightning_travel_cost_base',0);\n                return a + distance_intervals * travel_cost_base;\n            }\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_percentage',\n            label: '%MAX MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var distance_intervals = Math.floor(v[1]/100);\n                var travel_cost_percent = abilityModel.getAbilityAttributeValue(ability.attributes, 'ball_lightning_travel_cost_percent',0);\n                return a + distance_intervals * travel_cost_percent;\n            }\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_base',\n            label: 'TOTAL MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0, 1, 2, 3],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[2] + ' + ' + (v[3]/100 * v[0]) + ' (' + v[3] + '% of max) = ' + (v[2] + v[3]/100 * v[0]);\n            }\n        }\n    ],\n    'templar_assassin_psionic_trap': [\n        {\n            label: 'Charge Time',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'movement_speed_min_tooltip',\n            label: '%MOVE SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var max_slow = abilityModel.getAbilityAttributeValue(ability.attributes, 'movement_speed_max_tooltip',0);\n                var slow_per_tick = (max_slow - a)/40;\n                return -(a + slow_per_tick * Math.min(Math.max(0, v), 4) * 10);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'shredder_reactive_armor': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_armor',\n            label: 'Total Armor Bonus',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'armor'\n        },\n        {\n            attributeName: 'bonus_hp_regen',\n            label: 'Total HP Regen Bonus',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'healthregen'\n        }\n    ],\n    'shredder_chakram': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_interval',0);\n                var ticks = Math.floor(v / interval);\n                return a*interval*ticks;\n            }\n        },\n        {\n            attributeName: 'mana_per_second',\n            label: 'MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes, 'damage_interval',0);\n                var ticks = Math.floor(v / interval);\n                return a*interval*ticks;\n            }\n        },\n        {\n            label: 'ENEMY %HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'slow',\n            label: 'MANA COST:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var ticks = 20 - Math.floor(Math.min(Math.max(v-1, 0), 99) / 5);\n                return -a*ticks;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'spirit_breaker_greater_bash': [\n        {\n            label: 'Bash Proc',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'damage',\n            label: '%MOVESPEED AS DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'bashBonusDamage'\n        },\n        {\n            attributeName: 'bonus_movespeed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'chance_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a\n            },\n            returnProperty: 'bash'\n        }\n    ],\n    'techies_land_mines': [\n        {\n            label: 'Number of Mines',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'damage',\n            label: 'AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var phys_reduction = parent.enemy().totalArmorPhysicalReduction(),\n                    magic_reduction = parent.enemy().totalMagicResistance();\n                return (v * a * (1 - phys_reduction / 100) * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        }\n    ],\n    'techies_suicide': [\n        {\n            attributeName: 'damage',\n            label: 'FULL DAMAGE AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var phys_reduction = parent.enemy().totalArmorPhysicalReduction(),\n                    magic_reduction = parent.enemy().totalMagicResistance();\n                return (a * (1 - phys_reduction / 100) * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        },\n        {\n            attributeName: 'partial_damage',\n            label: 'PARTIAL DAMAGE AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var phys_reduction = parent.enemy().totalArmorPhysicalReduction(),\n                    magic_reduction = parent.enemy().totalMagicResistance();\n                return (a * (1 - phys_reduction / 100) * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        },\n        {\n            attributeName: 'damage',\n            label: 'RESPAWN TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return (parent.respawnTime() / 2).toFixed(0) + ' seconds';\n            }\n        }\n    ],\n    'techies_remote_mines': [\n        {\n            label: 'Number of Mines',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'damage',\n            label: 'AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var magic_reduction = parent.enemy().totalMagicResistance();\n                return (v * a * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        }\n    ],\n    'tinker_march_of_the_machines': [\n        {\n            label: 'Robot Explosions',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'machines_per_sec',\n            label: 'TOTAL DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'treant_leech_seed': [\n        {\n            label: 'Pulses',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'leech_damage',\n            label: 'DAMAGE/HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'movement_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'troll_warlord_fervor': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'attack_speed',\n            label: 'ATTACK SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'undying_decay': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'str_steal',\n            label: 'STRENGTH STOLEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    var str_steal_scepter = abilityModel.getAbilityAttributeValue(ability.attributes, 'str_steal_scepter',0);\n                    return v*str_steal_scepter;\n                }\n                else {\n                    return v*a;\n                }\n            },\n            returnProperty: 'bonusStrength'\n        },\n    ],\n    'undying_soul_rip': [\n        {\n            label: 'Units',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_unit',\n            label: 'DAMAGE/HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'undying_flesh_golem': [\n        {\n            label: 'Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'max_speed_slow',\n            label: '%MOVE SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var min_speed_slow = abilityModel.getAbilityAttributeValue(ability.attributes, 'min_speed_slow', 0);\n                var radius = abilityModel.getAbilityAttributeValue(ability.attributes, 'radius', 0);\n                var full_power_radius = abilityModel.getAbilityAttributeValue(ability.attributes, 'full_power_radius', 0);\n                var distance = Math.min(Math.max(v, full_power_radius), radius);\n                var scale = 1 - (distance - full_power_radius) / (radius - full_power_radius);\n                return -Math.max(scale * a, min_speed_slow);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'max_damage_amp',\n            label: '%DAMAGE AMP:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var min_damage_amp = abilityModel.getAbilityAttributeValue(ability.attributes, 'min_damage_amp', 0);\n                var radius = abilityModel.getAbilityAttributeValue(ability.attributes, 'radius', 0);\n                var full_power_radius = abilityModel.getAbilityAttributeValue(ability.attributes, 'full_power_radius', 0);\n                var distance = Math.min(Math.max(v, full_power_radius), radius);\n                var scale = 1 - (distance - full_power_radius) / (radius - full_power_radius);\n                return Math.max(scale * a, min_damage_amp);\n            },\n            returnProperty: 'damageAmplification'\n        },\n        {\n            label: 'MAX HP',\n            controlType: 'input'\n        },\n        {\n            label: 'Hero Death Count',\n            controlType: 'input'\n        },\n        {\n            label: 'Creep Death Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'death_heal',\n            label: 'DEATH HEAL (HEROES):',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [1, 2],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        },\n        {\n            attributeName: 'death_heal_creep',\n            label: 'DEATH HEAL (CREEPS):',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [1, 3],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        },\n        {\n            attributeName: 'death_heal_creep',\n            label: 'TOTAL DEATH HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [4, 5],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]+v[1];\n            }\n        }\n    ],\n    'ursa_fury_swipes': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_stack',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var enrageAbility = abilityModel.abilities().find(function(b) {\n                    return b.name == 'ursa_enrage';\n                });\n                if (enrageAbility.isActive() && enrageAbility.level() > 0) {\n                    var enrage_multiplier = abilityModel.getAbilityAttributeValue(enrageAbility.attributes, 'enrage_multiplier', enrageAbility.level());\n                    return v*a*enrage_multiplier;\n                }\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'ursa_enrage': [\n        {\n            attributeName: 'damage_reduction',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'venomancer_venomous_gale': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'tick_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes, 'strike_damage',ability.level()) + Math.floor(v/3)*a;\n            }\n        },\n        {\n            attributeName: 'movement_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'venomancer_poison_sting': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'venomancer_poison_nova': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'viper_poison_attack': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'viper_corrosive_skin': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        },\n        {\n            attributeName: 'bonus_magic_resistance',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'magicResist'\n        }\n    ],\n    'viper_viper_strike': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'visage_soul_assumption': [\n        {\n            label: 'Charges',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'soul_charge_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var soul_base_damage = abilityModel.getAbilityAttributeValue(ability.attributes, 'soul_base_damage',0);\n                var stack_limit = abilityModel.getAbilityAttributeValue(ability.attributes, 'stack_limit', ability.level());\n                stack_limit = Math.max(Math.min(v, stack_limit), 0);\n                return soul_base_damage + stack_limit*a;\n            }\n        }\n    ],\n    'visage_gravekeepers_cloak': [\n        {\n            label: 'Layers',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_armor',\n            label: 'ARMOR:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'armor'\n        },\n        {\n            attributeName: 'bonus_resist',\n            label: '%RESIST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'magicResist'\n        }\n    ],\n    'warlock_shadow_word': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'warlock_upheaval': [\n        {\n            label: 'Channel Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'slow_rate_duration',\n            label: '%MOVE SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var max_slow = abilityModel.getAbilityAttributeValue(ability.attributes, 'max_slow',0);\n                var slow_per_tick = max_slow / (a - 0.5) / 2;\n                var ticks = Math.max(Math.floor(v * 2) - 1, 0);\n                return -Math.min(ticks * slow_per_tick, max_slow);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'weaver_the_swarm': [\n        {\n            label: 'Attacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'armor_reduction',\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'armorReduction'\n        }\n    ],\n    'windrunner_powershot': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'winter_wyvern_cold_embrace': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Ally Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal_percentage',\n            label: 'TOTAL HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var base_heal = abilityModel.getAbilityAttributeValue(ability.attributes, 'heal_additive',ability.level());\n                return (base_heal + v[1] * a/100) * v[0];\n            }\n        }\n    ],\n    'wisp_spirits': [\n        {\n            label: 'Collision Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hero_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'creep_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'wisp_overcharge': [\n        {\n            label: 'Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'drain_pct',\n            label: 'HP DRAINED:',\n            ignoreTooltip: true, \n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            label: 'Current MP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'drain_pct',\n            label: 'MP DRAINED:',\n            ignoreTooltip: true, \n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeed'\n        },\n        {\n            attributeName: 'bonus_damage_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'witch_doctor_paralyzing_cask': [\n        {\n            label: 'Hero Bounce Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hero_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var bounces = abilityModel.getAbilityAttributeValue(ability.attributes, 'bounces',ability.level());\n                return Math.min(Math.max(v, 0), bounces)*a;\n            }\n        },\n        {\n            label: 'Creep Bounce Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hero_damage',\n            label: 'CREEP DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var bounces = abilityModel.getAbilityAttributeValue(ability.attributes, 'bounces',ability.level());\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return Math.min(Math.max(v, 0), bounces)*damage;\n            }\n        }\n    ],\n    'witch_doctor_voodoo_restoration': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes, 'heal_interval',ability.level());\n                var heal_per_tick = a * interval;\n                var ticks = Math.max(Math.floor(v / interval) - 1, 0);\n                return heal_per_tick * ticks;\n            }\n        },\n        {\n            attributeName: 'mana_per_second',\n            label: 'MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes, 'heal_interval',ability.level());\n                var mana_per_tick = a * interval;\n                var ticks = Math.max(Math.floor(v / interval) - 1, 0);\n                return mana_per_tick * ticks;\n            }\n        }\n    ],\n    'witch_doctor_maledict': [\n        {\n            label: 'damage 0-4s',\n            controlType: 'input'\n        },\n        {\n            label: 'damage 4-8s',\n            controlType: 'input'\n        },\n        {\n            label: 'damage 8-12s',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Dot Damage after 3s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return 3*damage;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Burst Damage at 4s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 3],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                var d = v.reduce(function (memo, o) { return memo + o }, 0);\n                return Math.max(d, 0) * a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Dot Damage after 7s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return 7*damage;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Burst Damage at 8s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1, 4, 5],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                var d = v.reduce(function (memo, o) { return memo + o }, 0);\n                return Math.max(d, 0) * a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Dot Damage after 11s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return 11*damage;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Burst Damage at 12s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1, 2, 4, 6, 7],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                var d = v.reduce(function (memo, o) { return memo + o }, 0);\n                return Math.max(d, 0) * a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Burst Damage:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [4, 6, 8],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v.reduce(function (memo, o) { return memo + o }, 0);\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Maledict Damage:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [9],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var duration = abilityModel.getAbilityAttributeValue(ability.attributes, 'duration_tooltip',0);\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return damage * duration + v[0];\n            }\n        },\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'DOT Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var duration = abilityModel.getAbilityAttributeValue(ability.attributes, 'duration_tooltip',0);\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*Math.min(Math.max(v, 0), duration);\n            }\n        }\n    ],\n    'witch_doctor_death_ward': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'zuus_static_field': [\n        {\n            label: 'Enemy HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_health_pct',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        }\n    ]\n}\n\nmodule.exports = abilityData;","'use strict';\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\n\nko.mapping = require('../lib/knockout.mapping');\nko.wrap = require('../lib/knockout.wrap');\n\nko.extenders.numeric = function(target, opts) {\n    //create a writable computed observable to intercept writes to our observable\n    var result = ko.pureComputed({\n        read: target,  //always return the original observables value\n        write: function(newValue) {\n            var current = target(),\n                roundingMultiplier = Math.pow(10, (opts === Object(opts) ? opts.precision : opts) || 0),\n                newValueAsNum = isNaN(newValue) ? (opts.defaultValue || 0) : +newValue,\n                valueToWrite = Math.round(newValueAsNum * roundingMultiplier) / roundingMultiplier;\n \n            //only write if it changed\n            if (valueToWrite !== current) {\n                target(valueToWrite);\n            } else {\n                //if the rounded value is the same, but a different value was written, force a notification for the current field\n                if (newValue !== current) {\n                    target.notifySubscribers(valueToWrite);\n                }\n            }\n        }\n    }).extend({ notify: 'always' });\n \n    //initialize with current value to make sure it is rounded appropriately\n    result(target());\n \n    //return the new computed observable\n    return result;\n};\n\nmodule.exports = ko;","var IllusionOption = function (name, displayname, baseHero) {\n    this.illusionName = name;\n    this.illusionDisplayName = displayname;\n    this.baseHero = baseHero;\n};\n\nmodule.exports = IllusionOption;","var illusionData = {\n    chaos_knight_phantasm: {\n        hero: 'chaos_knight',\n        displayName: 'Chaos Knight Phantasm',\n        use_selected_hero: false,\n        max_level: 3,\n        outgoing_damage: 'outgoing_damage',\n        incoming_damage: 'incoming_damage'\n    },\n    naga_siren_mirror_image: {\n        hero: 'naga_siren',\n        displayName: 'Naga Siren Mirror Image',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'outgoing_damage',\n        incoming_damage: 'incoming_damage'\n    },\n    dark_seer_wall_of_replica: {\n        hero: 'dark_seer',\n        displayName: 'Dark Seer Wall of Replica',\n        use_selected_hero: true,\n        max_level: 3,\n        outgoing_damage: 'replica_damage_outgoing',\n        incoming_damage: 'replica_damage_incoming',\n        outgoing_damage_scepter: 'replica_damage_outgoing_scepter'\n    },\n    morphling_replicate: {\n        hero: 'morphling',\n        displayName: 'Morphling Replicate',\n        use_selected_hero: true,\n        max_level: 3,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'\n    },\n    phantom_lancer_doppelwalk: {\n        hero: 'phantom_lancer',\n        displayName: 'Phantom Lancer Doppelwalk',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'        \n    },\n    phantom_lancer_juxtapose: {\n        hero: 'phantom_lancer',\n        displayName: 'Phantom Lancer Juxtapose',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'        \n    },\n    phantom_lancer_spirit_lance: {\n        hero: 'phantom_lancer',\n        displayName: 'Phantom Lancer Spirit Lance',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'        \n    },\n    shadow_demon_disruption: {\n        hero: 'shadow_demon',\n        displayName: 'Shadow Demon Disruption',\n        use_selected_hero: true,\n        max_level: 4,\n        outgoing_damage: 'illusion_outgoing_damage',\n        incoming_damage: 'illusion_incoming_damage'        \n    },\n    spectre_haunt: {\n        hero: 'spectre',\n        displayName: 'Spectre Haunt',\n        use_selected_hero: false,\n        max_level: 3,\n        outgoing_damage: 'illusion_damage_outgoing',\n        incoming_damage: 'illusion_damage_incoming'        \n    },\n    terrorblade_conjure_image: {\n        hero: 'terrorblade',\n        displayName: 'Terrorblade Conjure Image',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_outgoing_damage',\n        incoming_damage: 'illusion_incoming_damage'        \n    },\n    terrorblade_reflection: {\n        hero: 'terrorblade',\n        displayName: 'Terrorblade Reflection',\n        use_selected_hero: true,\n        max_level: 4,\n        outgoing_damage: 'illusion_outgoing_damage'     \n    },\n    item_manta: {\n        hero: '',\n        is_item: true,\n        displayName: 'Manta Style Illusion',\n        use_selected_hero: true,\n        max_level: 1,\n        outgoing_damage_melee: 'images_do_damage_percent_melee',\n        incoming_damage_melee: 'images_take_damage_percent_melee',\n        outgoing_damage_ranged: 'images_do_damage_percent_ranged',\n        incoming_damage_ranged: 'images_take_damage_percent_ranged'\n    }\n}\n\nmodule.exports = illusionData;","var IllusionOption = require(\"./IllusionOption\");\nvar illusionData = require(\"./illusionData\");\n\nvar illusionOptionsArray = [];\nfor (var h in illusionData) {\n    illusionOptionsArray.push(new IllusionOption(h, illusionData[h].displayName, illusionData[h].hero));\n}\n\nmodule.exports = illusionOptionsArray;","var stackableItems = require(\"./stackableItems\");\nvar levelItems = require(\"./levelItems\");\nvar itemsWithActive = require(\"./itemsWithActive\");\n\nvar BasicInventoryViewModel = function (h) {\n    var self = this;\n    self.items = ko.observableArray([]);\n    self.activeItems = ko.observableArray([]);\n    self.addItem = function (data, event) {\n        if (data.selectedItem() != undefined) {\n            var new_item = {\n                item: data.selectedItem().split('|')[0],\n                state: ko.observable(0),\n                size: data.itemInputValue(),\n                enabled: ko.observable(true)\n            }\n            switch (new_item.item) {\n                case 'dagon':\n                    new_item.size = Math.min(new_item.size, 5);\n                break;\n                break;\n                case 'travel_boots':\n                case 'diffusal_blade':\n                    new_item.size = Math.min(new_item.size, 2);\n                break;\n                case 'necronomicon':\n                    new_item.size = Math.min(new_item.size, 3);\n                break;\n            }\n            this.items.push(new_item);\n            if (data.selectedItem() === 'ring_of_aquila' || data.selectedItem() === 'ring_of_basilius' || data.selectedItem() === 'heart') {\n                this.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    }.bind(this);\n    self.toggleItem = function (index, data, event) {\n        if (itemsWithActive.indexOf(data.item) >= 0) {\n            if (this.activeItems.indexOf(data) < 0) {\n                this.activeItems.push(data);\n            }\n            else {\n                this.activeItems.remove(data);\n            }\n            switch (data.item) {\n                case 'power_treads':\n                    if (data.state() < 2) {\n                        data.state(data.state() + 1);\n                    }\n                    else {\n                        data.state(0);\n                    }                \n                break;\n                default:\n                    if (data.state() == 0) {\n                        data.state(1);\n                    }\n                    else {\n                        data.state(0);\n                    }                \n                break;\n            }\n        }\n    }.bind(this);\n    self.removeItem = function (item) {\n        this.activeItems.remove(item);\n        this.items.remove(item);\n    }.bind(this);\n    self.toggleMuteItem = function (item) {\n        item.enabled(!item.enabled());\n    }.bind(this);\n    self.removeAll = function () {\n        this.activeItems.removeAll();\n        this.items.removeAll();\n    }.bind(this);\n}\nBasicInventoryViewModel.prototype.getItemImage = function (data) {\n    var state = ko.utils.unwrapObservable(data.state);\n    switch (data.item) {\n        case 'power_treads':\n            if (state == 0) {\n                return '/media/images/items/' + data.item + '_str.png';\n            }\n            else if (state == 1) {\n                return '/media/images/items/' + data.item + '_int.png';\n            }\n            else {\n                return '/media/images/items/' + data.item + '_agi.png';\n            }\n        break;\n        case 'tranquil_boots':\n        case 'ring_of_basilius':\n            if (state == 0) {\n                return '/media/images/items/' + data.item + '.png';\n            }\n            else {\n                return '/media/images/items/' + data.item + '_active.png';\n            }\n        break;\n        case 'armlet':\n            if (state == 0) {\n                return '/media/images/items/' + data.item + '.png';\n            }\n            else {\n                return '/media/images/items/' + data.item + '_active.png';\n            }\n        break;\n        case 'ring_of_aquila':\n            if (state == 0) {\n                return '/media/images/items/' + data.item + '_active.png';\n            }\n            else {\n                return '/media/images/items/' + data.item + '.png';\n            }\n        break;\n        case 'dagon':\n        case 'diffusal_blade':\n        case 'travel_boots':\n        case 'necronomicon':\n            if (data.size > 1) {\n                return '/media/images/items/' + data.item + '_' + data.size + '.png';\n            }\n            else {\n                return '/media/images/items/' + data.item + '.png';\n            }\n        break;\n        default:\n            return '/media/images/items/' + data.item + '.png';            \n        break;\n    }\n};\nBasicInventoryViewModel.prototype.getItemSizeLabel = function (data) {\n    if (stackableItems.indexOf(data.item) != -1) {\n        return '<span style=\"font-size:10px\">Qty: </span>' + data.size;\n    }\n    else if (levelItems.indexOf(data.item) != -1) {\n        return '<span style=\"font-size:10px\">Lvl: </span>' + data.size;\n    }\n    else if (data.item == 'bloodstone') {\n        return '<span style=\"font-size:10px\">Charges: </span>' + data.size;\n    }\n    else {\n        return '';\n    }\n};\nBasicInventoryViewModel.prototype.getActiveBorder = function (data) {\n    switch (data.item) {\n        case 'power_treads':\n        case 'tranquil_boots':\n        case 'ring_of_basilius':\n        case 'ring_of_aquila':\n        case 'armlet':\n            return 0;\n        break;\n        default:\n            return ko.utils.unwrapObservable(data.state);    \n        break;\n    }\n}\nBasicInventoryViewModel.prototype.getItemAttributeValue = function (attributes, attributeName, level) {\n    for (var i = 0; i < attributes.length; i++) {\n        if (attributes[i].name == attributeName) {\n            if (level == 0) {\n                return parseFloat(attributes[i].value[0]);\n            }\n            else if (level > attributes[i].value.length) {\n                return parseFloat(attributes[i].value[0]);\n            }\n            else {\n                return parseFloat(attributes[i].value[level - 1]);\n            }\n        }\n    }\n}\n\nmodule.exports = BasicInventoryViewModel;","'use strict';\nvar ko = require('../herocalc_knockout');\n\nvar stackableItems = require(\"./stackableItems\");\nvar levelItems = require(\"./levelItems\");\nvar BasicInventoryViewModel = require(\"./BasicInventoryViewModel\");\nvar itemOptionsArray = require(\"./itemOptionsArray\");\nvar itemBuffOptions = require(\"./itemBuffOptions\");\nvar itemDebuffOptions = require(\"./itemDebuffOptions\");\n\nvar InventoryViewModel = function (itemData, h) {\n    var self = this;\n    BasicInventoryViewModel.call(this, h);\n    self.hero = h;\n    self.hasInventory = ko.observable(true);\n    self.items = ko.observableArray([]);\n    self.activeItems = ko.observableArray([]);\n    self.hasScepter = ko.computed(function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (item === 'ultimate_scepter' && self.items()[i].enabled()) {\n                return true;\n            }\n            \n        }\n        return false;\n    }, this);\n    self.isEthereal = ko.computed(function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if ((item === 'ghost' || item === 'ethereal_blade') && self.items()[i].enabled() && isActive) {\n                return true;\n            }\n        }\n        return false;\n    }, this);\n    self.isSheeped = ko.computed(function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (item === 'sheepstick' && self.items()[i].enabled() && isActive) {\n                return true;\n            }\n        }\n        return false;\n    }, this);\n    self.totalCost = ko.computed(function () {\n        var c = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            if (stackableItems.indexOf(item) != -1) {\n                c += itemData['item_' + item].itemcost * self.items()[i].size;\n            }\n            else if (levelItems.indexOf(item) != -1) {\n                switch(item) {\n                    case 'diffusal_blade':\n                        c += itemData['item_' + item].itemcost + (self.items()[i].size - 1) * 700;\n                    break;\n                    case 'necronomicon':\n                    case 'dagon':\n                        c += itemData['item_' + item].itemcost + (self.items()[i].size - 1) * 1250;\n                    break;\n                    default:\n                        c += itemData['item_' + item].itemcost;\n                    break;\n                }\n            }\n            else {\n                c += itemData['item_' + item].itemcost;\n            }\n            \n        }\n        return c;\n    }, this);\n    self.addItemBuff = function (data, event) {\n        if (self.hasInventory() && self.selectedItemBuff() != undefined) {\n            var new_item = {\n                item: self.selectedItemBuff(),\n                state: ko.observable(0),\n                size: 1,\n                enabled: ko.observable(true)\n            }\n            self.items.push(new_item);\n            if (self.selectedItemBuff() === 'ring_of_aquila' || self.selectedItemBuff() === 'ring_of_basilius') {\n                self.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    };\n    self.addItemDebuff = function (data, event) {\n        if (self.hasInventory() && self.selectedItemDebuff() != undefined) {\n            var new_item = {\n                item: self.selectedItemDebuff().split('|')[0],\n                state: ko.observable(0),\n                size: 1,\n                enabled: ko.observable(true)\n            }\n            if (self.selectedItemDebuff().split('|').length == 2) {\n                new_item.debuff = self.selectedItemDebuff().split('|')[1]\n            }\n            self.items.push(new_item);\n            if (self.selectedItemDebuff() === 'ring_of_aquila' || self.selectedItemDebuff() === 'ring_of_basilius') {\n                self.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    };\n    \n    self.getAttributes = function (attributetype) {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            var size = self.items()[i].size;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_all_stats':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'bonus_stats':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                }\n                switch(attributetype) {\n                    case 'agi':\n                        if (attribute.name == 'bonus_agility') {\n                            if (item == 'diffusal_blade') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        if (attribute.name == 'bonus_stat' && self.items()[i].state() == 2) {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_agi') {totalAttribute += parseInt(attribute.value[0]);};\n                    break;\n                    case 'int':\n                        if (attribute.name == 'bonus_intellect') {\n                            if (item == 'necronomicon') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else if (item == 'diffusal_blade') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else if (item == 'dagon') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        if (attribute.name == 'bonus_intelligence') {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_int') {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_stat' && self.items()[i].state() == 1) {totalAttribute += parseInt(attribute.value[0]);};\n                    break;\n                    case 'str':\n                        if (attribute.name == 'bonus_strength') {\n                            if (item == 'necronomicon') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        if (attribute.name == 'bonus_stat' && self.items()[i].state() == 0) {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_str') {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'unholy_bonus_strength' && isActive) {totalAttribute += parseInt(attribute.value[0]);};\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getBash = function (attacktype) {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bash_chance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                    case 'bash_chance_melee':\n                        if (attacktype == 'DOTA_UNIT_CAP_MELEE_ATTACK') { totalAttribute *= (1 - parseInt(attribute.value[0]) / 100); };\n                    break;\n                    case 'bash_chance_ranged':\n                        if (attacktype == 'DOTA_UNIT_CAP_RANGED_ATTACK') { totalAttribute *= (1 - parseInt(attribute.value[0]) / 100); };\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getCritChance = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'crit_chance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getCritSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'lesser_crit':\n                case 'greater_crit':\n                case 'bloodthorn':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'chance': self.getItemAttributeValue(itemData['item_' + item].attributes, 'crit_chance', 0) / 100,\n                            'multiplier': self.getItemAttributeValue(itemData['item_' + item].attributes, 'crit_multiplier', 0) / 100,\n                            'count': 1,\n                            'displayname': itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n            if (item === 'bloodthorn' && isActive) {\n                if (sources['soul_rend'] == undefined) {\n                    sources['soul_rend'] = {\n                        'chance': 1,\n                        'multiplier': self.getItemAttributeValue(itemData['item_' + item].attributes, 'target_crit_multiplier', 0) / 100,\n                        'count': 1,\n                        'displayname': 'Soul Rend'\n                    }\n                }\n                else {\n                    sources['soul_rend'].count += 1;\n                }\n            }\n        }\n        return sources;\n    };\n\n    self.getCleaveSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'bfury':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'radius': self.getItemAttributeValue(itemData['item_' + item].attributes, 'cleave_radius', 0),\n                            'magnitude': self.getItemAttributeValue(itemData['item_' + item].attributes, 'cleave_damage_percent', 0) / 100,\n                            'count': 1,\n                            'displayname': itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n    \n    self.getBashSource = function (attacktype) {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'javelin':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'damage': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bonus_chance_damage', 1),\n                            'damageType': 'magic',\n                            'count': 1,\n                            'chance': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bonus_chance', 1) / 100,\n                            'displayname': itemData['item_' + item].displayname + ' Pierce'\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n                case 'monkey_king_bar':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'item': item,\n                            'chance': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bash_chance', 0) / 100,\n                            'damage': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bash_damage', 0),\n                            'duration': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bash_stun', 0),\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': 'Mini-Bash' //itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n                case 'abyssal_blade':\n                case 'basher':\n                    if (!sources.hasOwnProperty('bash')) {\n                        sources['bash'] = {\n                            'item': item,\n                            'chance': self.getItemAttributeValue(itemData['item_' + item].attributes, (attacktype == 'DOTA_UNIT_CAP_MELEE_ATTACK') ?'bash_chance_melee' : 'bash_chance_ranged', 0) / 100,\n                            'damage': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bonus_chance_damage', 0),\n                            'duration': self.getItemAttributeValue(itemData['item_' + item].attributes, 'bash_duration', 0),\n                            'count': 1,\n                            'damageType': 'physical',\n                            'displayname': 'Bash' //itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        //sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n    \n    self.getOrbProcSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'maelstrom':\n                case 'mjollnir':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'chance': self.getItemAttributeValue(itemData['item_' + item].attributes, 'chain_chance', 0) / 100,\n                            'damage': self.getItemAttributeValue(itemData['item_' + item].attributes, 'chain_damage', 0),\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n\n    self.getOrbSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'diffusal_blade':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'chance': 1,\n                            'damage': self.getItemAttributeValue(itemData['item_' + item].attributes, 'feedback_mana_burn', self.items()[i].size),\n                            'count': 1,\n                            'damageType': 'physical',\n                            'displayname': itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n    \n    self.getHealth = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_health':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getHealthRegen = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'health_regen':\n                    case 'bonus_regen':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'bonus_health_regen':\n                        if (item == 'tranquil_boots' && !isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                        else if (item != 'tranquil_boots') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'hp_regen':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'health_regen_rate':\n                        if (item == 'heart' && isActive) {\n                            totalAttribute += (parseInt(attribute.value[0]) / 100) * self.hero.health();\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getHealthRegenAura = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(item + attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'aura_health_regen':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(item + attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    \n    self.getMana = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_mana':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getManaRegen = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'aura_mana_regen':\n                    case 'mana_regen_aura':\n                        totalAttribute += parseFloat(attribute.value[0]);\n                    break;\n                    case 'mana_regen':\n                        if (item == 'infused_raindrop') totalAttribute += parseFloat(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;    \n    };\n    self.getManaRegenPercent = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_mana_regen':\n                    case 'mana_regen':\n                    case 'bonus_mana_regen_pct':\n                        if (item != 'infused_raindrop') totalAttribute += parseFloat(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute / 100;    \n    };\n    self.getManaRegenBloodstone = function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            if (item.indexOf('bloodstone') != -1) {\n                return parseInt(self.items()[i].size);\n            }\n        }\n        return 0;\n    };\n    \n    self.getArmor = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_armor':\n                        if (!isActive || (item != 'medallion_of_courage' && item != 'solar_crest')) { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                    case 'unholy_bonus_armor':\n                        if (isActive && item == 'armlet') { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getArmorAura = function (aList) {\n        var totalAttribute = 0,\n            attributeList = aList || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0;j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (attributeList.find(function (a) { return attribute.name == a.name; })) continue;\n                switch(attribute.name) {\n                    // buckler\n                    case 'bonus_aoe_armor':\n                        if (isActive) {\n                            attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                        }\n                    break;\n                    // assault\n                    case 'aura_positive_armor':\n                        attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                    break;\n                    // ring_of_aquila,ring_of_basilius\n                    case 'aura_bonus_armor':\n                        if (isActive) {\n                            attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                        }\n                    break;\n                    // vladmir\n                    case 'armor_aura':\n                        attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                    break;\n                    // mekansm\n                    case 'heal_bonus_armor':\n                        if (isActive) {\n                            attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                        }\n                    break;\n                }\n            }\n        }\n        // remove buckler if there is a mekansm\n        if (attributeList.find(function (attribute) { return attribute.name == 'heal_bonus_armor'; })) {\n            attributeList = attributeList.filter(function (attribute) {\n                return attribute.name !== 'bonus_aoe_armor';\n            });\n        }\n        // remove ring_of_aquila,ring_of_basilius if there is a vladmir\n        if (attributeList.find(function (attribute) { return attribute.name == 'armor_aura'; })) {\n            attributeList = attributeList.filter(function (attribute) {\n                return attribute.name !== 'aura_bonus_armor';\n            });\n        }\n        \n        totalAttribute = attributeList.reduce(function (memo, attribute) {\n            return memo += attribute.value;\n        }, 0);\n        return {value: totalAttribute, attributes: attributeList};\n    };\n    self.getArmorReduction = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1 || excludeList.indexOf(item + '_' + attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'armor_reduction':\n                        if (isActive || (item != 'medallion_of_courage' && item != 'solar_crest')) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(item + '_' + attribute.name);\n                        }\n                    break;\n                    case 'aura_negative_armor':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                    case 'corruption_armor':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getEvasion = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_evasion':\n                        if (!isActive || (item != 'butterfly' && item != 'solar_crest')) { totalAttribute *= (1 - parseInt(attribute.value[0]) / 100); }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getMovementSpeedFlat = function () {\n        var totalAttribute = 0,\n        hasBoots = false,\n        hasEuls = false,\n        hasWindLace = false,\n        bootItems = ['boots','phase_boots','arcane_boots','travel_boots','power_treads','tranquil_boots','guardian_greaves'];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_movement_speed':\n                        if (!hasBoots && bootItems.indexOf(item) >= 0) {\n                            if (item != 'tranquil_boots' || (item == 'tranquil_boots' && !isActive)) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                                hasBoots = true;\n                            }\n                        }\n                        //else if (!hasEuls && item == 'cyclone') {\n                        else if (item == 'cyclone') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasEuls = true;\n                        }\n                    break;\n                    case 'broken_movement_speed':\n                        if (!hasBoots && bootItems.indexOf(item) >= 0) {\n                            if (item == 'tranquil_boots' && isActive) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                                hasBoots = true;\n                            }\n                        }\n                    break;\n                    case 'bonus_movement':\n                        if (!hasBoots && bootItems.indexOf(item) >= 0) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasBoots = true;\n                        }\n                    break;\n                    case 'movement_speed':\n                        if (!hasWindLace && item == 'wind_lace') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasWindLace = true;\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getMovementSpeedPercent = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [],\n            hasYasha = false,\n            hasDrums = false,\n            hasDrumsActive = false,\n            hasPhaseActive = false,\n            hasShadowBladeActive = false,\n            hasButterflyActive = false,\n            hasMoMActive = false,\n            yashaItems = ['manta','yasha','sange_and_yasha'];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'movement_speed_percent_bonus':\n                        if (!hasYasha && yashaItems.indexOf(item) >= 0) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasYasha = true;\n                        }\n                    break;\n                    case 'bonus_aura_movement_speed_pct':\n                        if (!hasDrums && item == 'ancient_janggo') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasDrums = true;\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'phase_movement_speed':\n                        if (isActive && !hasPhaseActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasPhaseActive = true;\n                        }\n                    break;\n                    case 'bonus_movement_speed_pct':\n                        if (isActive && !hasDrumsActive && item == 'ancient_janggo') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasDrumsActive = true;\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'windwalk_movement_speed':\n                        if (isActive && !hasShadowBladeActive && (item == 'invis_sword' || item == 'silver_edge')) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasShadowBladeActive = true;\n                        }\n                    break;\n                    case 'berserk_bonus_movement_speed':\n                        if (isActive && !hasMoMActive && item == 'mask_of_madness') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasMoMActive = true;\n                        }\n                    break;\n                    case 'bonus_movement_speed': //manta\n                        if (!hasYasha && item == 'manta') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasYasha = true;\n                        }\n                        else if (item == 'smoke_of_deceit' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'bonus_move_speed':\n                        if (isActive && !hasButterflyActive && item == 'butterfly') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasButterflyActive = true;\n                        }\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute/100, excludeList: excludeList};\n    };\n    \n    self.getMovementSpeedPercentReduction = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'movespeed':\n                        if (item == 'dust' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    case 'blast_movement_speed':\n                        if (item == 'shivas_guard' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    case 'cold_movement_speed':\n                        if (item == 'skadi') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'maim_movement_speed':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'maim') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute/100, excludeList: excludeList};\n    };\n    \n    self.getBonusDamage = function () {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_damage':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        if (sources[item] == undefined) {\n                            sources[item] = {\n                                'damage': parseInt(attribute.value[0]),\n                                'damageType': 'physical',\n                                'count':1,\n                                'displayname': itemData['item_' + item].displayname\n                            }                            \n                        }\n                        else {\n                            sources[item].count += 1;\n                        }\n                    break;\n                    case 'unholy_bonus_damage':\n                        if (isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            if (sources[item + '_active'] == undefined) {\n                                sources[item + '_active'] = {\n                                    'damage': parseInt(attribute.value[0]),\n                                    'damageType': 'physical',\n                                    'count':1,\n                                    'displayname': itemData['item_' + item].displayname + ' Unholy Strength'\n                                }                            \n                            }\n                            else {\n                                sources[item].count += 1;\n                            }\n                        }\n                    break;\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    };\n    self.getBonusDamagePercent = function (s) {\n        s = s || {sources:{},total:0};\n        var totalAttribute = s.total || 0;\n        var sources = s.sources || {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'damage_aura':\n                        if (sources[item] == undefined) {\n                            totalAttribute += parseInt(attribute.value[0]) / 100;\n                            sources[item] = {\n                                'damage': parseInt(attribute.value[0]) / 100,\n                                'damageType': 'physical',\n                                'count':1,\n                                'displayname': itemData['item_' + item].displayname\n                            }\n                        }\n                        // else {\n                            // sources[item].count += 1;\n                        // }\n                    break;\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    };\n    self.getAttackSpeed = function (e) {\n        var totalAttribute = 0,\n            hasPowerTreads = false,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'bonus_attack_speed':\n                        if (item == 'power_treads') {\n                            if (!hasPowerTreads) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                                hasPowerTreads = true;\n                            }\n                        }\n                        else if (item == 'moon_shard') {\n                            if (!isActive) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        else if (item == 'hurricane_pike') {\n                            if (isActive) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        else {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'consumed_bonus':\n                        if (item == 'moon_shard' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    break;\n                    case 'bonus_speed':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'aura_attack_speed':\n                        if (item != 'shivas_guard') { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                    // ancient_janggo\n                    case 'bonus_aura_attack_speed_pct':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                    // ancient_janggo\n                    case 'bonus_attack_speed_pct':\n                        if (isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'unholy_bonus_attack_speed':\n                        if (isActive) { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                    case 'berserk_bonus_attack_speed':\n                        if (isActive) { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getAttackSpeedReduction = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'aura_attack_speed':\n                        if (item == 'shivas_guard') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'cold_attack_speed':\n                        if (item == 'skadi') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'maim_attack_speed':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'maim') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getLifesteal = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'lifesteal_percent':\n                        if (item == 'satanic') {\n                            if (!isActive) { return parseInt(attribute.value[0]); };\n                        }\n                        else {\n                            return parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'unholy_lifesteal_percent':\n                        if (isActive) { return parseInt(attribute.value[0]); };\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getLifestealAura = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'vampiric_aura':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getMagicResist = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_magical_armor':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                    case 'bonus_spell_resist':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                    case 'magic_resistance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getMagicResistReductionSelf = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            if (isActive) {\n                for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                    var attribute = itemData['item_' + item].attributes[j];\n                    switch(attribute.name) {\n                        case 'extra_spell_damage_percent':\n                        case 'ethereal_damage_bonus':\n                            return (1 - parseInt(attribute.value[0]) / 100);\n                        break;\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    };   \n    self.getMagicResistReduction = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            if (isActive) {\n                for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                    var attribute = itemData['item_' + item].attributes[j];\n                    switch(attribute.name) {\n                        case 'ethereal_damage_bonus':\n                            if (!self.isEthereal()) totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        case 'resist_debuff':\n                            totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        break;\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    };        \n\n    self.getVisionRangeNight = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_night_vision':\n                        if (item != 'moon_shard' || !isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAttackRange = function (attacktype, aList) {\n        var totalAttribute = 0,\n            attributeList = aList || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0;j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (attributeList.find(function (a) { return attribute.name == a.name; })) continue;\n                switch(attribute.name) {\n                    // dragon_lance\n                    case 'base_attack_range':\n                        if (attacktype == 'DOTA_UNIT_CAP_RANGED_ATTACK') attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                    break;\n                }\n            }\n        }\n        \n        totalAttribute = attributeList.reduce(function (memo, attribute) {\n            return memo += attribute.value;\n        }, 0);\n        return {value: totalAttribute, attributes: attributeList};\n    };\n    \n    self.getMissChance = function (e) {\n        var totalAttribute = 1,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'miss_chance':\n                        if (item === 'solar_crest' && isActive) {\n                            totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'blind_pct':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        excludeList.push(attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    \n    self.getBaseDamageReductionPct = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'backstab_reduction':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'shadow_walk') {\n                            totalAttribute *= (1 + parseInt(attribute.value[0]) / 100);\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };    \n    self.getBonusDamageReductionPct = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < itemData['item_' + item].attributes.length; j++) {\n                var attribute = itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'backstab_reduction':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'shadow_walk') {\n                            totalAttribute *= (1 + parseInt(attribute.value[0]) / 100);\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.itemOptions = ko.observableArray(itemOptionsArray.items);\n    \n    self.itemBuffOptions = ko.observableArray(itemBuffOptions.items);\n    self.selectedItemBuff = ko.observable('assault');\n\n    self.itemDebuffOptions = ko.observableArray(itemDebuffOptions.items);\n    self.selectedItemDebuff = ko.observable('assault');\n    \n    return self;\n};\nInventoryViewModel.prototype = Object.create(BasicInventoryViewModel.prototype);\nInventoryViewModel.prototype.constructor = InventoryViewModel;\n\nmodule.exports = InventoryViewModel;","var ItemInput = function (itemData, value, name, debuff) {\n    if (itemData['item_' + value].ItemAliases instanceof Array) {\n        var itemAlias = itemData['item_' + value].ItemAliases.join(' ');\n    }\n    else {\n        var itemAlias = itemData['item_' + value].ItemAliases;\n    }\n    this.value = ko.observable(value);\n    this.debuff = ko.observable(debuff);\n    if (this.debuff()) {\n        this.value = ko.observable(value + '|' + debuff.id);\n        this.name = ko.observable(name + ' (' + debuff.name + ')');\n        this.displayname = ko.observable(name + ' (' + debuff.name + ') <span style=\"display:none\">' + ';' + itemAlias + '</span>');\n    }\n    else {\n        this.value = ko.observable(value);\n        this.name = ko.observable(name);\n        this.displayname = ko.observable(name + ' <span style=\"display:none\">' + ';' + itemAlias + '</span>');\n    }\n};\n\nmodule.exports = ItemInput;","var ItemInput = require(\"./ItemInput\");\nvar itemBuffs = ['assault', 'ancient_janggo', 'headdress', 'mekansm', 'pipe', 'ring_of_aquila', 'vladmir', 'ring_of_basilius', 'buckler', 'solar_crest'];\nvar itemBuffOptions = {};\n\nvar init = function (itemData) {\n    itemBuffOptions.items = itemBuffs.map(function(item) {\n        return new ItemInput(itemData, item, itemData['item_' + item].displayname);\n    });\n    return itemBuffOptions.items;\n}\n\nitemBuffOptions.init = init;\n\nmodule.exports = itemBuffOptions;","var ItemInput = require(\"./ItemInput\");\nvar itemDebuffs = [\n    {item: 'assault', debuff: null},\n    {item: 'shivas_guard', debuff: null},\n    {item: 'desolator', debuff: null},\n    {item: 'medallion_of_courage', debuff: null},\n    {item: 'radiance', debuff: null},\n    {item: 'sheepstick', debuff: null},\n    {item: 'veil_of_discord', debuff: null},\n    {item: 'solar_crest', debuff: null},\n    {item: 'silver_edge', debuff: {id: 'shadow_walk', name: 'Shadow Walk'}},\n    {item: 'silver_edge', debuff: {id: 'maim', name: 'Lesser Maim'}}\n]\nvar itemDebuffOptions = {};\n\nvar init = function (itemData) {\n    itemDebuffOptions.items = itemDebuffs.map(function(item) {\n        return new ItemInput(itemData, item.item, itemData['item_' + item.item].displayname, item.debuff);\n    });\n    return itemDebuffOptions.items;\n}\n\nitemDebuffOptions.init = init;\n\nmodule.exports = itemDebuffOptions;","var validItems = require(\"./validItems\");\nvar ItemInput = require(\"./ItemInput\");\n\nvar itemOptionsArray = {};\n\nvar init = function (itemData) {\n    itemOptionsArray.items = [];\n    for (var i = 0; i < validItems.length; i++) {\n        itemOptionsArray.items.push(new ItemInput(itemData, validItems[i], itemData['item_' + validItems[i]].displayname));\n    }\n    return itemOptionsArray.items;\n}\n\nitemOptionsArray.init = init;\n\nmodule.exports = itemOptionsArray;","module.exports = ['solar_crest', 'heart','smoke_of_deceit','dust','ghost','tranquil_boots','phase_boots','power_treads','buckler','medallion_of_courage','ancient_janggo','mekansm','pipe','veil_of_discord','rod_of_atos','orchid','sheepstick','armlet','invis_sword','ethereal_blade','shivas_guard','manta','mask_of_madness','diffusal_blade','mjollnir','satanic','ring_of_basilius','ring_of_aquila', 'butterfly', 'moon_shard', 'silver_edge','bloodthorn','hurricane_pike'];","module.exports = ['necronomicon','dagon','diffusal_blade','travel_boots'];","module.exports = ['clarity','flask','dust','ward_observer','ward_sentry','tango','tpscroll','smoke_of_deceit'];","module.exports = [\"abyssal_blade\",\"ultimate_scepter\",\"courier\",\"arcane_boots\",\"armlet\",\"assault\",\"boots_of_elves\",\"bfury\",\"belt_of_strength\",\"black_king_bar\",\"blade_mail\",\"blade_of_alacrity\",\"blades_of_attack\",\"blink\",\"bloodstone\",\"boots\",\"travel_boots\",\"bottle\",\"bracer\",\"broadsword\",\"buckler\",\"butterfly\",\"chainmail\",\"circlet\",\"clarity\",\"claymore\",\"cloak\",\"lesser_crit\",\"greater_crit\",\"dagon\",\"demon_edge\",\"desolator\",\"diffusal_blade\",\"rapier\",\"ancient_janggo\",\"dust\",\"eagle\",\"energy_booster\",\"ethereal_blade\",\"cyclone\",\"skadi\",\"flying_courier\",\"force_staff\",\"gauntlets\",\"gem\",\"ghost\",\"gloves\",\"hand_of_midas\",\"headdress\",\"flask\",\"heart\",\"heavens_halberd\",\"helm_of_iron_will\",\"helm_of_the_dominator\",\"hood_of_defiance\",\"hyperstone\",\"branches\",\"javelin\",\"sphere\",\"maelstrom\",\"magic_stick\",\"magic_wand\",\"manta\",\"mantle\",\"mask_of_madness\",\"medallion_of_courage\",\"mekansm\",\"mithril_hammer\",\"mjollnir\",\"monkey_king_bar\",\"lifesteal\",\"mystic_staff\",\"necronomicon\",\"null_talisman\",\"oblivion_staff\",\"ward_observer\",\"ogre_axe\",\"orb_of_venom\",\"orchid\",\"pers\",\"phase_boots\",\"pipe\",\"platemail\",\"point_booster\",\"poor_mans_shield\",\"power_treads\",\"quarterstaff\",\"quelling_blade\",\"radiance\",\"reaver\",\"refresher\",\"ring_of_aquila\",\"ring_of_basilius\",\"ring_of_health\",\"ring_of_protection\",\"ring_of_regen\",\"robe\",\"rod_of_atos\",\"relic\",\"sobi_mask\",\"sange\",\"sange_and_yasha\",\"satanic\",\"sheepstick\",\"ward_sentry\",\"shadow_amulet\",\"invis_sword\",\"shivas_guard\",\"basher\",\"slippers\",\"smoke_of_deceit\",\"soul_booster\",\"soul_ring\",\"staff_of_wizardry\",\"stout_shield\",\"talisman_of_evasion\",\"tango\",\"tpscroll\",\"tranquil_boots\",\"ultimate_orb\",\"urn_of_shadows\",\"vanguard\",\"veil_of_discord\",\"vitality_booster\",\"vladmir\",\"void_stone\",\"wraith_band\",\"yasha\",\"crimson_guard\",\"enchanted_mango\",\"lotus_orb\",\"glimmer_cape\",\"guardian_greaves\",\"moon_shard\",\"silver_edge\",\"solar_crest\",\"octarine_core\",\"aether_lens\",\"faerie_fire\",\"iron_talon\",\"dragon_lance\",\"echo_sabre\",\"infused_raindrop\",\"blight_stone\",\"wind_lace\",\"tome_of_knowledge\",\"bloodthorn\",\"hurricane_pike\"];","'use strict';\n\nvar core = {};\ncore.InventoryViewModel = require(\"./inventory/InventoryViewModel\");\ncore.AbilityModel = require(\"./AbilityModel\");\ncore.BuffViewModel = require(\"./BuffViewModel\");\ncore.HeroModel = require(\"./hero/HeroModel\");\ncore.CloneModel = require(\"./hero/CloneModel\");\ncore.UnitModel = require(\"./hero/UnitModel\");\ncore.IllusionModel = require(\"./hero/IllusionModel\");\ncore.Data = require(\"./data/main\");\ncore.Util = require(\"./util/main\");\n\ncore.init = function (HERODATA_PATH, ITEMDATA_PATH, UNITDATA_PATH, callback) {\n    core.Data.init(HERODATA_PATH, ITEMDATA_PATH, UNITDATA_PATH, function () {\n        core.HeroOptions = require(\"./hero/heroOptionsArray\").init(core.Data.heroData);\n        core.BuffOptions = require(\"./buffs/buffOptionsArray\").init(core.Data.heroData, core.Data.unitData);\n        core.DebuffOptions = require(\"./buffs/debuffOptionsArray\").init(core.Data.heroData, core.Data.unitData);\n        core.ItemOptions = require(\"./inventory/itemOptionsArray\").init(core.Data.itemData);\n        core.ItemBuffOptions = require(\"./inventory/itemBuffOptions\").init(core.Data.itemData);\n        core.ItemDebuffOptions = require(\"./inventory/itemDebuffOptions\").init(core.Data.itemData);\n        callback();\n    });\n}\n\nmodule.exports = core;","var extend = function (out) {\n    out = out || {};\n\n    for (var i = 1; i < arguments.length; i++) {\n        var obj = arguments[i];\n\n        if (!obj)\n            continue;\n\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                if (typeof obj[key] === 'object')\n                    out[key] = extend(out[key], obj[key]);\n                else\n                    out[key] = obj[key];\n            }\n        }\n    }\n\n    return out;\n};\n\nmodule.exports = extend;","var findWhere = function (arr, obj) {\n    arrLoop: for (var i = 0; i < arr.length; i++) {\n        objLoop: for (var key in obj) {\n            if (arr[i][key] != obj[key]) {\n                continue arrLoop;\n            }\n        }\n        return arr[i];\n    }\n}\n\nmodule.exports = findWhere;","\"use strict\";\n\nvar getJSON = function (url, successCallback, errorCallback) {\n    var request = new XMLHttpRequest();\n    request.open('GET', url, true);\n\n    request.onload = function() {\n        if (request.status >= 200 && request.status < 400) {\n            // Success!\n            var data = JSON.parse(request.responseText);\n            successCallback(data);\n        } else {\n            // We reached our target server, but it returned an error\n            errorCallback();\n        }\n    };\n\n    request.onerror = function() {\n        // There was a connection error of some sort\n        errorCallback();\n    };\n\n    request.send();\n}\n\nmodule.exports = getJSON;","var isEmpty = function (obj) {\n    return Object.keys(obj).length === 0 && obj.constructor === Object;\n}\n\nmodule.exports = isEmpty;","var isString = function (myVar) {\n    return typeof myVar === 'string' || myVar instanceof String;\n}\n\nmodule.exports = isString;","'use strict';\n\nvar util = {};\nutil.extend = require(\"./extend\");\nutil.findWhere = require(\"./findWhere\");\nutil.getJSON = require(\"./getJSON\");\nutil.union = require(\"./union\");\nutil.uniqueId = require(\"./uniqueId\");\nutil.uniques = require(\"./uniques\");\n\nmodule.exports = util;","\"use strict\";\nvar uniques = require(\"./uniques\");\n\nvar union = function (a, b) {\n    var arr = a.concat(b);\n    return uniques(arr);\n}\n\nmodule.exports = union;","\"use strict\";\n\nvar idCounter = 0;\nvar uniqueId = function (prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n};\n\nmodule.exports = uniqueId;","\"use strict\";\nvar uniques = function (arr) {\n    var a = [];\n    for (var i=0, l=arr.length; i<l; i++)\n        if (a.indexOf(arr[i]) === -1 && arr[i] !== '')\n            a.push(arr[i]);\n    return a;\n}\n\nmodule.exports = uniques;","(function (factory) {\n\t// Module systems magic dance.\n\n\tif (typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\") {\n\t\t// CommonJS or Node: hard-coded dependency on \"knockout\"\n\t\tfactory((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null), exports);\n\t} else if (typeof define === \"function\" && define[\"amd\"]) {\n\t\t// AMD anonymous module with hard-coded dependency on \"knockout\"\n\t\tdefine([\"knockout\", \"exports\"], factory);\n\t} else {\n\t\t// <script> tag: use the global `ko` object, attaching a `mapping` property\n\t\tfactory(ko, ko.mapping = {});\n\t}\n}(function (ko, exports) {\n\tvar DEBUG=true;\n\tvar mappingProperty = \"__ko_mapping__\";\n\tvar realKoDependentObservable = ko.dependentObservable;\n\tvar mappingNesting = 0;\n\tvar dependentObservables;\n\tvar visitedObjects;\n\tvar recognizedRootProperties = [\"create\", \"update\", \"key\", \"arrayChanged\"];\n\tvar emptyReturn = {};\n\n\tvar _defaultOptions = {\n\t\tinclude: [\"_destroy\"],\n\t\tignore: [],\n\t\tcopy: [],\n\t\tobserve: []\n\t};\n\tvar defaultOptions = _defaultOptions;\n\n\t// Author: KennyTM @ StackOverflow\n\tfunction unionArrays (x, y) {\n\t\tvar obj = {};\n\t\tfor (var i = x.length - 1; i >= 0; -- i) obj[x[i]] = x[i];\n\t\tfor (var i = y.length - 1; i >= 0; -- i) obj[y[i]] = y[i];\n\t\tvar res = [];\n\n\t\tfor (var k in obj) {\n\t\t\tres.push(obj[k]);\n\t\t};\n\n\t\treturn res;\n\t}\n\n\tfunction extendObject(destination, source) {\n\t\tvar destType;\n\n\t\tfor (var key in source) {\n\t\t\tif (source.hasOwnProperty(key) && source[key]) {\n\t\t\t\tdestType = exports.getType(destination[key]);\n\t\t\t\tif (key && destination[key] && destType !== \"array\" && destType !== \"string\") {\n\t\t\t\t\textendObject(destination[key], source[key]);\n\t\t\t\t} else {\n\t\t\t\t\tvar bothArrays = exports.getType(destination[key]) === \"array\" && exports.getType(source[key]) === \"array\";\n\t\t\t\t\tif (bothArrays) {\n\t\t\t\t\t\tdestination[key] = unionArrays(destination[key], source[key]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdestination[key] = source[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction merge(obj1, obj2) {\n\t\tvar merged = {};\n\t\textendObject(merged, obj1);\n\t\textendObject(merged, obj2);\n\n\t\treturn merged;\n\t}\n\n\texports.isMapped = function (viewModel) {\n\t\tvar unwrapped = ko.utils.unwrapObservable(viewModel);\n\t\treturn unwrapped && unwrapped[mappingProperty];\n\t}\n\n\texports.fromJS = function (jsObject /*, inputOptions, target*/ ) {\n\t\tif (arguments.length == 0) throw new Error(\"When calling ko.fromJS, pass the object you want to convert.\");\n\n\t\ttry {\n\t\t\tif (!mappingNesting++) {\n\t\t\t\tdependentObservables = [];\n\t\t\t\tvisitedObjects = new objectLookup();\n\t\t\t}\n\n\t\t\tvar options;\n\t\t\tvar target;\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t\tif (arguments[1][mappingProperty]) {\n\t\t\t\t\ttarget = arguments[1];\n\t\t\t\t} else {\n\t\t\t\t\toptions = arguments[1];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (arguments.length == 3) {\n\t\t\t\toptions = arguments[1];\n\t\t\t\ttarget = arguments[2];\n\t\t\t}\n\n\t\t\tif (target) {\n\t\t\t\toptions = merge(options, target[mappingProperty]);\n\t\t\t}\n\t\t\toptions = fillOptions(options);\n\n\t\t\tvar result = updateViewModel(target, jsObject, options);\n\t\t\tif (target) {\n\t\t\t\tresult = target;\n\t\t\t}\n\n\t\t\t// Evaluate any dependent observables that were proxied.\n\t\t\t// Do this after the model's observables have been created\n\t\t\tif (!--mappingNesting) {\n\t\t\t\twhile (dependentObservables.length) {\n\t\t\t\t\tvar DO = dependentObservables.pop();\n\t\t\t\t\tif (DO) {\n\t\t\t\t\t\tDO();\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Move this magic property to the underlying dependent observable\n\t\t\t\t\t\tDO.__DO[\"throttleEvaluation\"] = DO[\"throttleEvaluation\"];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Save any new mapping options in the view model, so that updateFromJS can use them later.\n\t\t\tresult[mappingProperty] = merge(result[mappingProperty], options);\n\n\t\t\treturn result;\n\t\t} catch(e) {\n\t\t\tmappingNesting = 0;\n\t\t\tthrow e;\n\t\t}\n\t};\n\n\texports.fromJSON = function (jsonString /*, options, target*/ ) {\n\t\tvar parsed = ko.utils.parseJson(jsonString);\n\t\targuments[0] = parsed;\n\t\treturn exports.fromJS.apply(this, arguments);\n\t};\n\n\texports.updateFromJS = function (viewModel) {\n\t\tthrow new Error(\"ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!\");\n\t};\n\n\texports.updateFromJSON = function (viewModel) {\n\t\tthrow new Error(\"ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!\");\n\t};\n\n\texports.toJS = function (rootObject, options) {\n\t\tif (!defaultOptions) exports.resetDefaultOptions();\n\n\t\tif (arguments.length == 0) throw new Error(\"When calling ko.mapping.toJS, pass the object you want to convert.\");\n\t\tif (exports.getType(defaultOptions.ignore) !== \"array\") throw new Error(\"ko.mapping.defaultOptions().ignore should be an array.\");\n\t\tif (exports.getType(defaultOptions.include) !== \"array\") throw new Error(\"ko.mapping.defaultOptions().include should be an array.\");\n\t\tif (exports.getType(defaultOptions.copy) !== \"array\") throw new Error(\"ko.mapping.defaultOptions().copy should be an array.\");\n\n\t\t// Merge in the options used in fromJS\n\t\toptions = fillOptions(options, rootObject[mappingProperty]);\n\n\t\t// We just unwrap everything at every level in the object graph\n\t\treturn exports.visitModel(rootObject, function (x) {\n\t\t\treturn ko.utils.unwrapObservable(x)\n\t\t}, options);\n\t};\n\n\texports.toJSON = function (rootObject, options) {\n\t\tvar plainJavaScriptObject = exports.toJS(rootObject, options);\n\t\treturn ko.utils.stringifyJson(plainJavaScriptObject);\n\t};\n\n\texports.defaultOptions = function () {\n\t\tif (arguments.length > 0) {\n\t\t\tdefaultOptions = arguments[0];\n\t\t} else {\n\t\t\treturn defaultOptions;\n\t\t}\n\t};\n\n\texports.resetDefaultOptions = function () {\n\t\tdefaultOptions = {\n\t\t\tinclude: _defaultOptions.include.slice(0),\n\t\t\tignore: _defaultOptions.ignore.slice(0),\n\t\t\tcopy: _defaultOptions.copy.slice(0)\n\t\t};\n\t};\n\n\texports.getType = function(x) {\n\t\tif ((x) && (typeof (x) === \"object\")) {\n\t\t\tif (x.constructor === Date) return \"date\";\n\t\t\tif (x.constructor === Array) return \"array\";\n\t\t}\n\t\treturn typeof x;\n\t}\n\n\tfunction fillOptions(rawOptions, otherOptions) {\n\t\tvar options = merge({}, rawOptions);\n\n\t\t// Move recognized root-level properties into a root namespace\n\t\tfor (var i = recognizedRootProperties.length - 1; i >= 0; i--) {\n\t\t\tvar property = recognizedRootProperties[i];\n\t\t\t\n\t\t\t// Carry on, unless this property is present\n\t\t\tif (!options[property]) continue;\n\t\t\t\n\t\t\t// Move the property into the root namespace\n\t\t\tif (!(options[\"\"] instanceof Object)) options[\"\"] = {};\n\t\t\toptions[\"\"][property] = options[property];\n\t\t\tdelete options[property];\n\t\t}\n\n\t\tif (otherOptions) {\n\t\t\toptions.ignore = mergeArrays(otherOptions.ignore, options.ignore);\n\t\t\toptions.include = mergeArrays(otherOptions.include, options.include);\n\t\t\toptions.copy = mergeArrays(otherOptions.copy, options.copy);\n\t\t\toptions.observe = mergeArrays(otherOptions.observe, options.observe);\n\t\t}\n\t\toptions.ignore = mergeArrays(options.ignore, defaultOptions.ignore);\n\t\toptions.include = mergeArrays(options.include, defaultOptions.include);\n\t\toptions.copy = mergeArrays(options.copy, defaultOptions.copy);\n\t\toptions.observe = mergeArrays(options.observe, defaultOptions.observe);\n\n\t\toptions.mappedProperties = options.mappedProperties || {};\n\t\toptions.copiedProperties = options.copiedProperties || {};\n\t\treturn options;\n\t}\n\n\tfunction mergeArrays(a, b) {\n\t\tif (exports.getType(a) !== \"array\") {\n\t\t\tif (exports.getType(a) === \"undefined\") a = [];\n\t\t\telse a = [a];\n\t\t}\n\t\tif (exports.getType(b) !== \"array\") {\n\t\t\tif (exports.getType(b) === \"undefined\") b = [];\n\t\t\telse b = [b];\n\t\t}\n\n\t\treturn ko.utils.arrayGetDistinctValues(a.concat(b));\n\t}\n\n\t// When using a 'create' callback, we proxy the dependent observable so that it doesn't immediately evaluate on creation.\n\t// The reason is that the dependent observables in the user-specified callback may contain references to properties that have not been mapped yet.\n\tfunction withProxyDependentObservable(dependentObservables, callback) {\n\t\tvar localDO = ko.dependentObservable;\n\t\tko.dependentObservable = function (read, owner, options) {\n\t\t\toptions = options || {};\n\n\t\t\tif (read && typeof read == \"object\") { // mirrors condition in knockout implementation of DO's\n\t\t\t\toptions = read;\n\t\t\t}\n\n\t\t\tvar realDeferEvaluation = options.deferEvaluation;\n\n\t\t\tvar isRemoved = false;\n\n\t\t\t// We wrap the original dependent observable so that we can remove it from the 'dependentObservables' list we need to evaluate after mapping has\n\t\t\t// completed if the user already evaluated the DO themselves in the meantime.\n\t\t\tvar wrap = function (DO) {\n\t\t\t\t// Temporarily revert ko.dependentObservable, since it is used in ko.isWriteableObservable\n\t\t\t\tvar tmp = ko.dependentObservable;\n\t\t\t\tko.dependentObservable = realKoDependentObservable;\n\t\t\t\tvar isWriteable = ko.isWriteableObservable(DO);\n\t\t\t\tko.dependentObservable = tmp;\n\n\t\t\t\tvar wrapped = realKoDependentObservable({\n\t\t\t\t\tread: function () {\n\t\t\t\t\t\tif (!isRemoved) {\n\t\t\t\t\t\t\tko.utils.arrayRemoveItem(dependentObservables, DO);\n\t\t\t\t\t\t\tisRemoved = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn DO.apply(DO, arguments);\n\t\t\t\t\t},\n\t\t\t\t\twrite: isWriteable && function (val) {\n\t\t\t\t\t\treturn DO(val);\n\t\t\t\t\t},\n\t\t\t\t\tdeferEvaluation: true\n\t\t\t\t});\n\t\t\t\tif (DEBUG) wrapped._wrapper = true;\n\t\t\t\twrapped.__DO = DO;\n\t\t\t\treturn wrapped;\n\t\t\t};\n\t\t\t\n\t\t\toptions.deferEvaluation = true; // will either set for just options, or both read/options.\n\t\t\tvar realDependentObservable = new realKoDependentObservable(read, owner, options);\n\n\t\t\tif (!realDeferEvaluation) {\n\t\t\t\trealDependentObservable = wrap(realDependentObservable);\n\t\t\t\tdependentObservables.push(realDependentObservable);\n\t\t\t}\n\n\t\t\treturn realDependentObservable;\n\t\t}\n\t\tko.dependentObservable.fn = realKoDependentObservable.fn;\n\t\tko.computed = ko.dependentObservable;\n\t\tvar result = callback();\n\t\tko.dependentObservable = localDO;\n\t\tko.computed = ko.dependentObservable;\n\t\treturn result;\n\t}\n\n\tfunction updateViewModel(mappedRootObject, rootObject, options, parentName, parent, parentPropertyName, mappedParent) {\n\t\tvar isArray = exports.getType(ko.utils.unwrapObservable(rootObject)) === \"array\";\n\n\t\tparentPropertyName = parentPropertyName || \"\";\n\n\t\t// If this object was already mapped previously, take the options from there and merge them with our existing ones.\n\t\tif (exports.isMapped(mappedRootObject)) {\n\t\t\tvar previousMapping = ko.utils.unwrapObservable(mappedRootObject)[mappingProperty];\n\t\t\toptions = merge(previousMapping, options);\n\t\t}\n\n\t\tvar callbackParams = {\n\t\t\tdata: rootObject,\n\t\t\tparent: mappedParent || parent\n\t\t};\n\n\t\tvar hasCreateCallback = function () {\n\t\t\treturn options[parentName] && options[parentName].create instanceof Function;\n\t\t};\n\n\t\tvar createCallback = function (data) {\n\t\t\treturn withProxyDependentObservable(dependentObservables, function () {\n\t\t\t\t\n\t\t\t\tif (ko.utils.unwrapObservable(parent) instanceof Array) {\n\t\t\t\t\treturn options[parentName].create({\n\t\t\t\t\t\tdata: data || callbackParams.data,\n\t\t\t\t\t\tparent: callbackParams.parent,\n\t\t\t\t\t\tskip: emptyReturn\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn options[parentName].create({\n\t\t\t\t\t\tdata: data || callbackParams.data,\n\t\t\t\t\t\tparent: callbackParams.parent\n\t\t\t\t\t});\n\t\t\t\t}\t\t\t\t\n\t\t\t});\n\t\t};\n\n\t\tvar hasUpdateCallback = function () {\n\t\t\treturn options[parentName] && options[parentName].update instanceof Function;\n\t\t};\n\n\t\tvar updateCallback = function (obj, data) {\n\t\t\tvar params = {\n\t\t\t\tdata: data || callbackParams.data,\n\t\t\t\tparent: callbackParams.parent,\n\t\t\t\ttarget: ko.utils.unwrapObservable(obj)\n\t\t\t};\n\n\t\t\tif (ko.isWriteableObservable(obj)) {\n\t\t\t\tparams.observable = obj;\n\t\t\t}\n\n\t\t\treturn options[parentName].update(params);\n\t\t}\n\n\t\tvar alreadyMapped = visitedObjects.get(rootObject);\n\t\tif (alreadyMapped) {\n\t\t\treturn alreadyMapped;\n\t\t}\n\n\t\tparentName = parentName || \"\";\n\n\t\tif (!isArray) {\n\t\t\t// For atomic types, do a direct update on the observable\n\t\t\tif (!canHaveProperties(rootObject)) {\n\t\t\t\tswitch (exports.getType(rootObject)) {\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\t\tif (ko.isWriteableObservable(rootObject)) {\n\t\t\t\t\t\t\trootObject(updateCallback(rootObject));\n\t\t\t\t\t\t\tmappedRootObject = rootObject;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmappedRootObject = updateCallback(rootObject);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmappedRootObject = rootObject;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif (ko.isWriteableObservable(mappedRootObject)) {\n\t\t\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\t\t\tvar valueToWrite = updateCallback(mappedRootObject);\n\t\t\t\t\t\t\tmappedRootObject(valueToWrite);\n\t\t\t\t\t\t\treturn valueToWrite;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar valueToWrite = ko.utils.unwrapObservable(rootObject);\n\t\t\t\t\t\t\tmappedRootObject(valueToWrite);\n\t\t\t\t\t\t\treturn valueToWrite;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar hasCreateOrUpdateCallback = hasCreateCallback() || hasUpdateCallback();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (hasCreateCallback()) {\n\t\t\t\t\t\t\tmappedRootObject = createCallback();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tmappedRootObject = ko.observable(ko.utils.unwrapObservable(rootObject));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\t\t\tmappedRootObject(updateCallback(mappedRootObject));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (hasCreateOrUpdateCallback) return mappedRootObject;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tmappedRootObject = ko.utils.unwrapObservable(mappedRootObject);\n\t\t\t\tif (!mappedRootObject) {\n\t\t\t\t\tif (hasCreateCallback()) {\n\t\t\t\t\t\tvar result = createCallback();\n\n\t\t\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\t\t\tresult = updateCallback(result);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\t\t\treturn updateCallback(result);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmappedRootObject = {};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\tmappedRootObject = updateCallback(mappedRootObject);\n\t\t\t\t}\n\n\t\t\t\tvisitedObjects.save(rootObject, mappedRootObject);\n\t\t\t\tif (hasUpdateCallback()) return mappedRootObject;\n\n\t\t\t\t// For non-atomic types, visit all properties and update recursively\n\t\t\t\tvisitPropertiesOrArrayEntries(rootObject, function (indexer) {\n\t\t\t\t\tvar fullPropertyName = parentPropertyName.length ? parentPropertyName + \".\" + indexer : indexer;\n\n\t\t\t\t\tif (ko.utils.arrayIndexOf(options.ignore, fullPropertyName) != -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (ko.utils.arrayIndexOf(options.copy, fullPropertyName) != -1) {\n\t\t\t\t\t\tmappedRootObject[indexer] = rootObject[indexer];\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof rootObject[indexer] != \"object\" && typeof rootObject[indexer] != \"array\" && options.observe.length > 0 && ko.utils.arrayIndexOf(options.observe, fullPropertyName) == -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tmappedRootObject[indexer] = rootObject[indexer];\n\t\t\t\t\t\toptions.copiedProperties[fullPropertyName] = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// In case we are adding an already mapped property, fill it with the previously mapped property value to prevent recursion.\n\t\t\t\t\t// If this is a property that was generated by fromJS, we should use the options specified there\n\t\t\t\t\tvar prevMappedProperty = visitedObjects.get(rootObject[indexer]);\n\t\t\t\t\tvar retval = updateViewModel(mappedRootObject[indexer], rootObject[indexer], options, indexer, mappedRootObject, fullPropertyName, mappedRootObject);\n\t\t\t\t\tvar value = prevMappedProperty || retval;\n\t\t\t\t\t\n\t\t\t\t\tif(options.observe.length > 0 && ko.utils.arrayIndexOf(options.observe, fullPropertyName) == -1)\n\t\t\t\t\t{\n\t\t\t\t\t\tmappedRootObject[indexer] = value();\n\t\t\t\t\t\toptions.copiedProperties[fullPropertyName] = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (ko.isWriteableObservable(mappedRootObject[indexer])) {\n\t\t\t\t\t\tvalue = ko.utils.unwrapObservable(value);\n\t\t\t\t\t\tif (mappedRootObject[indexer]() !== value) {\n\t\t\t\t\t\t\tmappedRootObject[indexer](value);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = mappedRootObject[indexer] === undefined ? value : ko.utils.unwrapObservable(value);\n\t\t\t\t\t\tmappedRootObject[indexer] = value;\n\t\t\t\t\t}\n\n\t\t\t\t\toptions.mappedProperties[fullPropertyName] = true;\n\t\t\t\t});\n\t\t\t}\n\t\t} else { //mappedRootObject is an array\n\t\t\tvar changes = [];\n\n\t\t\tvar hasKeyCallback = false;\n\t\t\tvar keyCallback = function (x) {\n\t\t\t\treturn x;\n\t\t\t}\n\t\t\tif (options[parentName] && options[parentName].key) {\n\t\t\t\tkeyCallback = options[parentName].key;\n\t\t\t\thasKeyCallback = true;\n\t\t\t}\n\n\t\t\tif (!ko.isObservable(mappedRootObject)) {\n\t\t\t\t// When creating the new observable array, also add a bunch of utility functions that take the 'key' of the array items into account.\n\t\t\t\tmappedRootObject = ko.observableArray([]);\n\n\t\t\t\tmappedRootObject.mappedRemove = function (valueOrPredicate) {\n\t\t\t\t\tvar predicate = typeof valueOrPredicate == \"function\" ? valueOrPredicate : function (value) {\n\t\t\t\t\t\t\treturn value === keyCallback(valueOrPredicate);\n\t\t\t\t\t\t};\n\t\t\t\t\treturn mappedRootObject.remove(function (item) {\n\t\t\t\t\t\treturn predicate(keyCallback(item));\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tmappedRootObject.mappedRemoveAll = function (arrayOfValues) {\n\t\t\t\t\tvar arrayOfKeys = filterArrayByKey(arrayOfValues, keyCallback);\n\t\t\t\t\treturn mappedRootObject.remove(function (item) {\n\t\t\t\t\t\treturn ko.utils.arrayIndexOf(arrayOfKeys, keyCallback(item)) != -1;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tmappedRootObject.mappedDestroy = function (valueOrPredicate) {\n\t\t\t\t\tvar predicate = typeof valueOrPredicate == \"function\" ? valueOrPredicate : function (value) {\n\t\t\t\t\t\t\treturn value === keyCallback(valueOrPredicate);\n\t\t\t\t\t\t};\n\t\t\t\t\treturn mappedRootObject.destroy(function (item) {\n\t\t\t\t\t\treturn predicate(keyCallback(item));\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tmappedRootObject.mappedDestroyAll = function (arrayOfValues) {\n\t\t\t\t\tvar arrayOfKeys = filterArrayByKey(arrayOfValues, keyCallback);\n\t\t\t\t\treturn mappedRootObject.destroy(function (item) {\n\t\t\t\t\t\treturn ko.utils.arrayIndexOf(arrayOfKeys, keyCallback(item)) != -1;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tmappedRootObject.mappedIndexOf = function (item) {\n\t\t\t\t\tvar keys = filterArrayByKey(mappedRootObject(), keyCallback);\n\t\t\t\t\tvar key = keyCallback(item);\n\t\t\t\t\treturn ko.utils.arrayIndexOf(keys, key);\n\t\t\t\t}\n\n\t\t\t\tmappedRootObject.mappedGet = function (item) {\n\t\t\t\t\treturn mappedRootObject()[mappedRootObject.mappedIndexOf(item)];\n\t\t\t\t}\n\n\t\t\t\tmappedRootObject.mappedCreate = function (value) {\n\t\t\t\t\tif (mappedRootObject.mappedIndexOf(value) !== -1) {\n\t\t\t\t\t\tthrow new Error(\"There already is an object with the key that you specified.\");\n\t\t\t\t\t}\n\n\t\t\t\t\tvar item = hasCreateCallback() ? createCallback(value) : value;\n\t\t\t\t\tif (hasUpdateCallback()) {\n\t\t\t\t\t\tvar newValue = updateCallback(item, value);\n\t\t\t\t\t\tif (ko.isWriteableObservable(item)) {\n\t\t\t\t\t\t\titem(newValue);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem = newValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tmappedRootObject.push(item);\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar currentArrayKeys = filterArrayByKey(ko.utils.unwrapObservable(mappedRootObject), keyCallback).sort();\n\t\t\tvar newArrayKeys = filterArrayByKey(rootObject, keyCallback);\n\t\t\tif (hasKeyCallback) newArrayKeys.sort();\n\t\t\tvar editScript = ko.utils.compareArrays(currentArrayKeys, newArrayKeys);\n\n\t\t\tvar ignoreIndexOf = {};\n\t\t\t\n\t\t\tvar i, j;\n\n\t\t\tvar unwrappedRootObject = ko.utils.unwrapObservable(rootObject);\n\t\t\tvar itemsByKey = {};\n\t\t\tvar optimizedKeys = true;\n\t\t\tfor (i = 0, j = unwrappedRootObject.length; i < j; i++) {\n\t\t\t\tvar key = keyCallback(unwrappedRootObject[i]);\n\t\t\t\tif (key === undefined || key instanceof Object) {\n\t\t\t\t\toptimizedKeys = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\titemsByKey[key] = unwrappedRootObject[i];\n\t\t\t}\n\n\t\t\tvar newContents = [];\n\t\t\tvar passedOver = 0;\n\t\t\tfor (i = 0, j = editScript.length; i < j; i++) {\n\t\t\t\tvar key = editScript[i];\n\t\t\t\tvar mappedItem;\n\t\t\t\tvar fullPropertyName = parentPropertyName + \"[\" + i + \"]\";\n\t\t\t\tswitch (key.status) {\n\t\t\t\tcase \"added\":\n\t\t\t\t\tvar item = optimizedKeys ? itemsByKey[key.value] : getItemByKey(ko.utils.unwrapObservable(rootObject), key.value, keyCallback);\n\t\t\t\t\tmappedItem = updateViewModel(undefined, item, options, parentName, mappedRootObject, fullPropertyName, parent);\n\t\t\t\t\tif(!hasCreateCallback()) {\n\t\t\t\t\t\tmappedItem = ko.utils.unwrapObservable(mappedItem);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar index = ignorableIndexOf(ko.utils.unwrapObservable(rootObject), item, ignoreIndexOf);\n\t\t\t\t\t\n\t\t\t\t\tif (mappedItem === emptyReturn) {\n\t\t\t\t\t\tpassedOver++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewContents[index - passedOver] = mappedItem;\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\tignoreIndexOf[index] = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"retained\":\n\t\t\t\t\tvar item = optimizedKeys ? itemsByKey[key.value] : getItemByKey(ko.utils.unwrapObservable(rootObject), key.value, keyCallback);\n\t\t\t\t\tmappedItem = getItemByKey(mappedRootObject, key.value, keyCallback);\n\t\t\t\t\tupdateViewModel(mappedItem, item, options, parentName, mappedRootObject, fullPropertyName, parent);\n\n\t\t\t\t\tvar index = ignorableIndexOf(ko.utils.unwrapObservable(rootObject), item, ignoreIndexOf);\n\t\t\t\t\tnewContents[index] = mappedItem;\n\t\t\t\t\tignoreIndexOf[index] = true;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"deleted\":\n\t\t\t\t\tmappedItem = getItemByKey(mappedRootObject, key.value, keyCallback);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tchanges.push({\n\t\t\t\t\tevent: key.status,\n\t\t\t\t\titem: mappedItem\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmappedRootObject(newContents);\n\n\t\t\tif (options[parentName] && options[parentName].arrayChanged) {\n\t\t\t\tko.utils.arrayForEach(changes, function (change) {\n\t\t\t\t\toptions[parentName].arrayChanged(change.event, change.item);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn mappedRootObject;\n\t}\n\n\tfunction ignorableIndexOf(array, item, ignoreIndices) {\n\t\tfor (var i = 0, j = array.length; i < j; i++) {\n\t\t\tif (ignoreIndices[i] === true) continue;\n\t\t\tif (array[i] === item) return i;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction mapKey(item, callback) {\n\t\tvar mappedItem;\n\t\tif (callback) mappedItem = callback(item);\n\t\tif (exports.getType(mappedItem) === \"undefined\") mappedItem = item;\n\n\t\treturn ko.utils.unwrapObservable(mappedItem);\n\t}\n\n\tfunction getItemByKey(array, key, callback) {\n\t\tarray = ko.utils.unwrapObservable(array);\n\t\tfor (var i = 0, j = array.length; i < j; i++) {\n\t\t\tvar item = array[i];\n\t\t\tif (mapKey(item, callback) === key) return item;\n\t\t}\n\n\t\tthrow new Error(\"When calling ko.update*, the key '\" + key + \"' was not found!\");\n\t}\n\n\tfunction filterArrayByKey(array, callback) {\n\t\treturn ko.utils.arrayMap(ko.utils.unwrapObservable(array), function (item) {\n\t\t\tif (callback) {\n\t\t\t\treturn mapKey(item, callback);\n\t\t\t} else {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction visitPropertiesOrArrayEntries(rootObject, visitorCallback) {\n\t\tif (exports.getType(rootObject) === \"array\") {\n\t\t\tfor (var i = 0; i < rootObject.length; i++)\n\t\t\tvisitorCallback(i);\n\t\t} else {\n\t\t\tfor (var propertyName in rootObject)\n\t\t\tvisitorCallback(propertyName);\n\t\t}\n\t};\n\n\tfunction canHaveProperties(object) {\n\t\tvar type = exports.getType(object);\n\t\treturn ((type === \"object\") || (type === \"array\")) && (object !== null);\n\t}\n\n\t// Based on the parentName, this creates a fully classified name of a property\n\n\tfunction getPropertyName(parentName, parent, indexer) {\n\t\tvar propertyName = parentName || \"\";\n\t\tif (exports.getType(parent) === \"array\") {\n\t\t\tif (parentName) {\n\t\t\t\tpropertyName += \"[\" + indexer + \"]\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (parentName) {\n\t\t\t\tpropertyName += \".\";\n\t\t\t}\n\t\t\tpropertyName += indexer;\n\t\t}\n\t\treturn propertyName;\n\t}\n\n\texports.visitModel = function (rootObject, callback, options) {\n\t\toptions = options || {};\n\t\toptions.visitedObjects = options.visitedObjects || new objectLookup();\n\n\t\tvar mappedRootObject;\n\t\tvar unwrappedRootObject = ko.utils.unwrapObservable(rootObject);\n\n\t\tif (!canHaveProperties(unwrappedRootObject)) {\n\t\t\treturn callback(rootObject, options.parentName);\n\t\t} else {\n\t\t\toptions = fillOptions(options, unwrappedRootObject[mappingProperty]);\n\n\t\t\t// Only do a callback, but ignore the results\n\t\t\tcallback(rootObject, options.parentName);\n\t\t\tmappedRootObject = exports.getType(unwrappedRootObject) === \"array\" ? [] : {};\n\t\t}\n\n\t\toptions.visitedObjects.save(rootObject, mappedRootObject);\n\n\t\tvar parentName = options.parentName;\n\t\tvisitPropertiesOrArrayEntries(unwrappedRootObject, function (indexer) {\n\t\t\tif (options.ignore && ko.utils.arrayIndexOf(options.ignore, indexer) != -1) return;\n\n\t\t\tvar propertyValue = unwrappedRootObject[indexer];\n\t\t\toptions.parentName = getPropertyName(parentName, unwrappedRootObject, indexer);\n\n\t\t\t// If we don't want to explicitly copy the unmapped property...\n\t\t\tif (ko.utils.arrayIndexOf(options.copy, indexer) === -1) {\n\t\t\t\t// ...find out if it's a property we want to explicitly include\n\t\t\t\tif (ko.utils.arrayIndexOf(options.include, indexer) === -1) {\n\t\t\t\t\t// The mapped properties object contains all the properties that were part of the original object.\n\t\t\t\t\t// If a property does not exist, and it is not because it is part of an array (e.g. \"myProp[3]\"), then it should not be unmapped.\n\t\t\t\t    if (unwrappedRootObject[mappingProperty]\n\t\t\t\t        && unwrappedRootObject[mappingProperty].mappedProperties && !unwrappedRootObject[mappingProperty].mappedProperties[indexer]\n\t\t\t\t        && unwrappedRootObject[mappingProperty].copiedProperties && !unwrappedRootObject[mappingProperty].copiedProperties[indexer]\n\t\t\t\t        && !(exports.getType(unwrappedRootObject) === \"array\")) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar outputProperty;\n\t\t\tswitch (exports.getType(ko.utils.unwrapObservable(propertyValue))) {\n\t\t\tcase \"object\":\n\t\t\tcase \"array\":\n\t\t\tcase \"undefined\":\n\t\t\t\tvar previouslyMappedValue = options.visitedObjects.get(propertyValue);\n\t\t\t\tmappedRootObject[indexer] = (exports.getType(previouslyMappedValue) !== \"undefined\") ? previouslyMappedValue : exports.visitModel(propertyValue, callback, options);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tmappedRootObject[indexer] = callback(propertyValue, options.parentName);\n\t\t\t}\n\t\t});\n\n\t\treturn mappedRootObject;\n\t}\n\n\tfunction simpleObjectLookup() {\n\t\tvar keys = [];\n\t\tvar values = [];\n\t\tthis.save = function (key, value) {\n\t\t\tvar existingIndex = ko.utils.arrayIndexOf(keys, key);\n\t\t\tif (existingIndex >= 0) values[existingIndex] = value;\n\t\t\telse {\n\t\t\t\tkeys.push(key);\n\t\t\t\tvalues.push(value);\n\t\t\t}\n\t\t};\n\t\tthis.get = function (key) {\n\t\t\tvar existingIndex = ko.utils.arrayIndexOf(keys, key);\n\t\t\tvar value = (existingIndex >= 0) ? values[existingIndex] : undefined;\n\t\t\treturn value;\n\t\t};\n\t};\n\t\n\tfunction objectLookup() {\n\t\tvar buckets = {};\n\t\t\n\t\tvar findBucket = function(key) {\n\t\t\tvar bucketKey;\n\t\t\ttry {\n\t\t\t\tbucketKey = key;//JSON.stringify(key);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tbucketKey = \"$$$\";\n\t\t\t}\n\n\t\t\tvar bucket = buckets[bucketKey];\n\t\t\tif (bucket === undefined) {\n\t\t\t\tbucket = new simpleObjectLookup();\n\t\t\t\tbuckets[bucketKey] = bucket;\n\t\t\t}\n\t\t\treturn bucket;\n\t\t};\n\t\t\n\t\tthis.save = function (key, value) {\n\t\t\tfindBucket(key).save(key, value);\n\t\t};\n\t\tthis.get = function (key) {\n\t\t\treturn findBucket(key).get(key);\n\t\t};\n\t};\n}));","// Knockout Fast Mapping v0.1\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\n\n(function (factory) {\n\t// Module systems magic dance.\n\n\tif (typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\") {\n\t\t// CommonJS or Node: hard-coded dependency on \"knockout\"\n\t\tfactory((typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null), exports);\n\t} else if (typeof define === \"function\" && define[\"amd\"]) {\n\t\t// AMD anonymous module with hard-coded dependency on \"knockout\"\n\t\tdefine([\"knockout\", \"exports\"], factory);\n\t} else {\n\t\t// <script> tag: use the global `ko` object, attaching a `wrap` property\n\t\tfactory(ko, ko.wrap = {});\n\t}\n}(function (ko, exports) {\n    \n    // this function mimics ko.mapping\n    exports.fromJS = function(jsObject, computedFunctions)\n    {\n        reset();\n\treturn wrap(jsObject, computedFunctions);\n    }\n\n    // this function unwraps the outer for assigning the result to an observable\n    // see https://github.com/SteveSanderson/knockout/issues/517\n    exports.updateFromJS = function(observable, jsObject, computedFunctions)\n    {\n        reset();\n\treturn observable(ko.utils.unwrapObservable(wrap(jsObject, computedFunctions)));\n    }\n\n    exports.fromJSON = function (jsonString, computedFunctions) {\n\tvar parsed = ko.utils.parseJson(jsonString);\n\targuments[0] = parsed;\n\treturn exports.fromJS.apply(this, computedFunctions);\n    };\n    \n    exports.toJS = function (observable) {\n\treturn unwrap(observable);\n    }\n\n    exports.toJSON = function (observable) {\n\tvar plainJavaScriptObject = exports.toJS(observable);\n\treturn ko.utils.stringifyJson(plainJavaScriptObject);\n    };\n\n    function typeOf(value) {\n\tvar s = typeof value;\n\tif (s === 'object') {\n            if (value) {\n                if (value.constructor == Date)\n                    s = 'date';\n\t\telse if (Object.prototype.toString.call(value) == '[object Array]')\n                    s = 'array';\n            } else {\n\t\ts = 'null';\n            }\n\t}\n\treturn s;\n    }\n\n    // unwrapping\n    function unwrapObject(o)\n    {\n\tvar t = {};\n\n\tfor (var k in o)\n\t{\n\t    var v = o[k];\n\n\t    if (ko.isComputed(v))\n\t\tcontinue;\n\n\t    t[k] = unwrap(v);\n\t}\n\n\treturn t;\n    }\n\n    function unwrapArray(a)\n    {\n\tvar r = [];\n\n\tif (!a || a.length == 0)\n\t    return r;\n\t\n\tfor (var i = 0, l = a.length; i < l; ++i)\n\t    r.push(unwrap(a[i]));\n\n\treturn r;\n    }\n\n    function unwrap(v)\n    {\n\tvar isObservable = ko.isObservable(v);\n\n\tif (isObservable)\n\t{\n\t    var val = v();\n\n\t    return unwrap(val);\n\t}\n\telse\n\t{\n\t    if (typeOf(v) == \"array\")\n\t    {\n\t\treturn unwrapArray(v);\n\t    }\n\t    else if (typeOf(v) == \"object\")\n\t    {\n\t\treturn unwrapObject(v);\n\t    }\n\t    else\n\t    {\n\t\treturn v;\n\t    }\n\t}\n    }\n\n    function reset()\n    {\n        parents = [{obj: null, wrapped: null, lvl: \"\"}];\n    }    \n    \n    // wrapping\n\n    function wrapObject(o, computedFunctions)\n    {\n        // check for infinite recursion\n        for (var i = 0; i < parents.length; ++i) {\n            if (parents[i].obj === o) {\n                return parents[i].wrapped;\n            }\n        }\n\n\tvar t = {};\n\n\tfor (var k in o)\n\t{\n\t    var v = o[k];\n\n            parents.push({obj: o, wrapped: t, lvl: currentLvl() + \"/\" + k});\n\n\t    t[k] = wrap(v, computedFunctions);\n\n            parents.pop();\n\t}\n\n\tif (computedFunctions && computedFunctions[currentLvl()])\n\t    t = computedFunctions[currentLvl()](t);\n\n        if (hasES5Plugin())\n            ko.track(t);\n\n\treturn t;\n    }\n\n    function wrapArray(a, computedFunctions)\n    {\n\tvar r = ko.observableArray();\n\n\tif (!a || a.length == 0)\n\t    return r;\n\n\tfor (var i = 0, l = a.length; i < l; ++i)\n\t    r.push(wrap(a[i], computedFunctions));\n\n\treturn r;\n    }\n\n    // a stack, used for two purposes:\n    //  - circular reference checking\n    //  - computed functions\n    var parents;\n\n    function currentLvl()\n    {\n\treturn parents[parents.length-1].lvl;\n    }\n\n    function wrap(v, computedFunctions)\n    {\n\tif (typeOf(v) == \"array\")\n\t{\n\t    return wrapArray(v, computedFunctions);\n\t}\n\telse if (typeOf(v) == \"object\")\n\t{\n\t    return wrapObject(v, computedFunctions);\n\t}\n\telse\n\t{\n            if (!hasES5Plugin() && typeof v !== 'function')\n            {\n\t        var t = ko.observable();\n\t        t(v);\n\t        return t;\n            } else\n                return v;\n\t}\n    }\n\n    function hasES5Plugin()\n    {\n        return ko.track != null;\n    }\n}));","/*!\n * jQuery UI :data 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :data Selector\n//>>group: Core\n//>>description: Selects elements which have data stored under the specified key.\n//>>docs: http://api.jqueryui.com/data-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo( function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t} ) :\n\n\t\t// Support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t}\n} );\n} ) );\n","/*!\n * jQuery UI Disable Selection 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: disableSelection\n//>>group: Core\n//>>description: Disable selection of text content within the set of matched elements.\n//>>docs: http://api.jqueryui.com/disableSelection/\n\n// This file is deprecated\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.extend( {\n\tdisableSelection: ( function() {\n\t\tvar eventType = \"onselectstart\" in document.createElement( \"div\" ) ?\n\t\t\t\"selectstart\" :\n\t\t\t\"mousedown\";\n\n\t\treturn function() {\n\t\t\treturn this.on( eventType + \".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t} );\n\t\t};\n\t} )(),\n\n\tenableSelection: function() {\n\t\treturn this.off( \".ui-disableSelection\" );\n\t}\n} );\n\n} ) );\n","/*!\n * jQuery UI Focusable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :focusable Selector\n//>>group: Core\n//>>description: Selects elements which can be focused.\n//>>docs: http://api.jqueryui.com/focusable-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// Selectors\n$.ui.focusable = function( element, hasTabindex ) {\n\tvar map, mapName, img, focusableIfVisible, fieldset,\n\t\tnodeName = element.nodeName.toLowerCase();\n\n\tif ( \"area\" === nodeName ) {\n\t\tmap = element.parentNode;\n\t\tmapName = map.name;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap='#\" + mapName + \"']\" );\n\t\treturn img.length > 0 && img.is( \":visible\" );\n\t}\n\n\tif ( /^(input|select|textarea|button|object)$/.test( nodeName ) ) {\n\t\tfocusableIfVisible = !element.disabled;\n\n\t\tif ( focusableIfVisible ) {\n\n\t\t\t// Form controls within a disabled fieldset are disabled.\n\t\t\t// However, controls within the fieldset's legend do not get disabled.\n\t\t\t// Since controls generally aren't placed inside legends, we skip\n\t\t\t// this portion of the check.\n\t\t\tfieldset = $( element ).closest( \"fieldset\" )[ 0 ];\n\t\t\tif ( fieldset ) {\n\t\t\t\tfocusableIfVisible = !fieldset.disabled;\n\t\t\t}\n\t\t}\n\t} else if ( \"a\" === nodeName ) {\n\t\tfocusableIfVisible = element.href || hasTabindex;\n\t} else {\n\t\tfocusableIfVisible = hasTabindex;\n\t}\n\n\treturn focusableIfVisible && $( element ).is( \":visible\" ) && visible( $( element ) );\n};\n\n// Support: IE 8 only\n// IE 8 doesn't resolve inherit to visible/hidden for computed values\nfunction visible( element ) {\n\tvar visibility = element.css( \"visibility\" );\n\twhile ( visibility === \"inherit\" ) {\n\t\telement = element.parent();\n\t\tvisibility = element.css( \"visibility\" );\n\t}\n\treturn visibility !== \"hidden\";\n}\n\n$.extend( $.expr[ \":\" ], {\n\tfocusable: function( element ) {\n\t\treturn $.ui.focusable( element, $.attr( element, \"tabindex\" ) != null );\n\t}\n} );\n\nreturn $.ui.focusable;\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// This file is deprecated\nreturn $.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n} ) );\n","/*!\n * jQuery UI Keycode 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Keycode\n//>>group: Core\n//>>description: Provide keycodes as keynames\n//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.keyCode = {\n\tBACKSPACE: 8,\n\tCOMMA: 188,\n\tDELETE: 46,\n\tDOWN: 40,\n\tEND: 35,\n\tENTER: 13,\n\tESCAPE: 27,\n\tHOME: 36,\n\tLEFT: 37,\n\tPAGE_DOWN: 34,\n\tPAGE_UP: 33,\n\tPERIOD: 190,\n\tRIGHT: 39,\n\tSPACE: 32,\n\tTAB: 9,\n\tUP: 38\n};\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\nreturn $.ui.plugin = {\n\tadd: function( module, option, set ) {\n\t\tvar i,\n\t\t\tproto = $.ui[ module ].prototype;\n\t\tfor ( i in set ) {\n\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t}\n\t},\n\tcall: function( instance, name, args, allowDisconnected ) {\n\t\tvar i,\n\t\t\tset = instance.plugins[ name ];\n\n\t\tif ( !set ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode ||\n\t\t\t\tinstance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n} ) );\n","/*!\n * jQuery UI Position 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/position/\n */\n\n//>>label: Position\n//>>group: Core\n//>>description: Positions elements relative to other elements.\n//>>docs: http://api.jqueryui.com/position/\n//>>demos: http://jqueryui.com/position/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n( function() {\nvar cachedScrollbarWidth,\n\tmax = Math.max,\n\tabs = Math.abs,\n\trhorizontal = /left|center|right/,\n\trvertical = /top|center|bottom/,\n\troffset = /[\\+\\-]\\d+(\\.[\\d]+)?%?/,\n\trposition = /^\\w+/,\n\trpercent = /%$/,\n\t_position = $.fn.position;\n\nfunction getOffsets( offsets, width, height ) {\n\treturn [\n\t\tparseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),\n\t\tparseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )\n\t];\n}\n\nfunction parseCss( element, property ) {\n\treturn parseInt( $.css( element, property ), 10 ) || 0;\n}\n\nfunction getDimensions( elem ) {\n\tvar raw = elem[ 0 ];\n\tif ( raw.nodeType === 9 ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: 0, left: 0 }\n\t\t};\n\t}\n\tif ( $.isWindow( raw ) ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: elem.scrollTop(), left: elem.scrollLeft() }\n\t\t};\n\t}\n\tif ( raw.preventDefault ) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\toffset: { top: raw.pageY, left: raw.pageX }\n\t\t};\n\t}\n\treturn {\n\t\twidth: elem.outerWidth(),\n\t\theight: elem.outerHeight(),\n\t\toffset: elem.offset()\n\t};\n}\n\n$.position = {\n\tscrollbarWidth: function() {\n\t\tif ( cachedScrollbarWidth !== undefined ) {\n\t\t\treturn cachedScrollbarWidth;\n\t\t}\n\t\tvar w1, w2,\n\t\t\tdiv = $( \"<div \" +\n\t\t\t\t\"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>\" +\n\t\t\t\t\"<div style='height:100px;width:auto;'></div></div>\" ),\n\t\t\tinnerDiv = div.children()[ 0 ];\n\n\t\t$( \"body\" ).append( div );\n\t\tw1 = innerDiv.offsetWidth;\n\t\tdiv.css( \"overflow\", \"scroll\" );\n\n\t\tw2 = innerDiv.offsetWidth;\n\n\t\tif ( w1 === w2 ) {\n\t\t\tw2 = div[ 0 ].clientWidth;\n\t\t}\n\n\t\tdiv.remove();\n\n\t\treturn ( cachedScrollbarWidth = w1 - w2 );\n\t},\n\tgetScrollInfo: function( within ) {\n\t\tvar overflowX = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-x\" ),\n\t\t\toverflowY = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-y\" ),\n\t\t\thasOverflowX = overflowX === \"scroll\" ||\n\t\t\t\t( overflowX === \"auto\" && within.width < within.element[ 0 ].scrollWidth ),\n\t\t\thasOverflowY = overflowY === \"scroll\" ||\n\t\t\t\t( overflowY === \"auto\" && within.height < within.element[ 0 ].scrollHeight );\n\t\treturn {\n\t\t\twidth: hasOverflowY ? $.position.scrollbarWidth() : 0,\n\t\t\theight: hasOverflowX ? $.position.scrollbarWidth() : 0\n\t\t};\n\t},\n\tgetWithinInfo: function( element ) {\n\t\tvar withinElement = $( element || window ),\n\t\t\tisWindow = $.isWindow( withinElement[ 0 ] ),\n\t\t\tisDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9,\n\t\t\thasOffset = !isWindow && !isDocument;\n\t\treturn {\n\t\t\telement: withinElement,\n\t\t\tisWindow: isWindow,\n\t\t\tisDocument: isDocument,\n\t\t\toffset: hasOffset ? $( element ).offset() : { left: 0, top: 0 },\n\t\t\tscrollLeft: withinElement.scrollLeft(),\n\t\t\tscrollTop: withinElement.scrollTop(),\n\t\t\twidth: withinElement.outerWidth(),\n\t\t\theight: withinElement.outerHeight()\n\t\t};\n\t}\n};\n\n$.fn.position = function( options ) {\n\tif ( !options || !options.of ) {\n\t\treturn _position.apply( this, arguments );\n\t}\n\n\t// Make a copy, we don't want to modify arguments\n\toptions = $.extend( {}, options );\n\n\tvar atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,\n\t\ttarget = $( options.of ),\n\t\twithin = $.position.getWithinInfo( options.within ),\n\t\tscrollInfo = $.position.getScrollInfo( within ),\n\t\tcollision = ( options.collision || \"flip\" ).split( \" \" ),\n\t\toffsets = {};\n\n\tdimensions = getDimensions( target );\n\tif ( target[ 0 ].preventDefault ) {\n\n\t\t// Force left top to allow flipping\n\t\toptions.at = \"left top\";\n\t}\n\ttargetWidth = dimensions.width;\n\ttargetHeight = dimensions.height;\n\ttargetOffset = dimensions.offset;\n\n\t// Clone to reuse original targetOffset later\n\tbasePosition = $.extend( {}, targetOffset );\n\n\t// Force my and at to have valid horizontal and vertical positions\n\t// if a value is missing or invalid, it will be converted to center\n\t$.each( [ \"my\", \"at\" ], function() {\n\t\tvar pos = ( options[ this ] || \"\" ).split( \" \" ),\n\t\t\thorizontalOffset,\n\t\t\tverticalOffset;\n\n\t\tif ( pos.length === 1 ) {\n\t\t\tpos = rhorizontal.test( pos[ 0 ] ) ?\n\t\t\t\tpos.concat( [ \"center\" ] ) :\n\t\t\t\trvertical.test( pos[ 0 ] ) ?\n\t\t\t\t\t[ \"center\" ].concat( pos ) :\n\t\t\t\t\t[ \"center\", \"center\" ];\n\t\t}\n\t\tpos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : \"center\";\n\t\tpos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : \"center\";\n\n\t\t// Calculate offsets\n\t\thorizontalOffset = roffset.exec( pos[ 0 ] );\n\t\tverticalOffset = roffset.exec( pos[ 1 ] );\n\t\toffsets[ this ] = [\n\t\t\thorizontalOffset ? horizontalOffset[ 0 ] : 0,\n\t\t\tverticalOffset ? verticalOffset[ 0 ] : 0\n\t\t];\n\n\t\t// Reduce to just the positions without the offsets\n\t\toptions[ this ] = [\n\t\t\trposition.exec( pos[ 0 ] )[ 0 ],\n\t\t\trposition.exec( pos[ 1 ] )[ 0 ]\n\t\t];\n\t} );\n\n\t// Normalize collision option\n\tif ( collision.length === 1 ) {\n\t\tcollision[ 1 ] = collision[ 0 ];\n\t}\n\n\tif ( options.at[ 0 ] === \"right\" ) {\n\t\tbasePosition.left += targetWidth;\n\t} else if ( options.at[ 0 ] === \"center\" ) {\n\t\tbasePosition.left += targetWidth / 2;\n\t}\n\n\tif ( options.at[ 1 ] === \"bottom\" ) {\n\t\tbasePosition.top += targetHeight;\n\t} else if ( options.at[ 1 ] === \"center\" ) {\n\t\tbasePosition.top += targetHeight / 2;\n\t}\n\n\tatOffset = getOffsets( offsets.at, targetWidth, targetHeight );\n\tbasePosition.left += atOffset[ 0 ];\n\tbasePosition.top += atOffset[ 1 ];\n\n\treturn this.each( function() {\n\t\tvar collisionPosition, using,\n\t\t\telem = $( this ),\n\t\t\telemWidth = elem.outerWidth(),\n\t\t\telemHeight = elem.outerHeight(),\n\t\t\tmarginLeft = parseCss( this, \"marginLeft\" ),\n\t\t\tmarginTop = parseCss( this, \"marginTop\" ),\n\t\t\tcollisionWidth = elemWidth + marginLeft + parseCss( this, \"marginRight\" ) +\n\t\t\t\tscrollInfo.width,\n\t\t\tcollisionHeight = elemHeight + marginTop + parseCss( this, \"marginBottom\" ) +\n\t\t\t\tscrollInfo.height,\n\t\t\tposition = $.extend( {}, basePosition ),\n\t\t\tmyOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );\n\n\t\tif ( options.my[ 0 ] === \"right\" ) {\n\t\t\tposition.left -= elemWidth;\n\t\t} else if ( options.my[ 0 ] === \"center\" ) {\n\t\t\tposition.left -= elemWidth / 2;\n\t\t}\n\n\t\tif ( options.my[ 1 ] === \"bottom\" ) {\n\t\t\tposition.top -= elemHeight;\n\t\t} else if ( options.my[ 1 ] === \"center\" ) {\n\t\t\tposition.top -= elemHeight / 2;\n\t\t}\n\n\t\tposition.left += myOffset[ 0 ];\n\t\tposition.top += myOffset[ 1 ];\n\n\t\tcollisionPosition = {\n\t\t\tmarginLeft: marginLeft,\n\t\t\tmarginTop: marginTop\n\t\t};\n\n\t\t$.each( [ \"left\", \"top\" ], function( i, dir ) {\n\t\t\tif ( $.ui.position[ collision[ i ] ] ) {\n\t\t\t\t$.ui.position[ collision[ i ] ][ dir ]( position, {\n\t\t\t\t\ttargetWidth: targetWidth,\n\t\t\t\t\ttargetHeight: targetHeight,\n\t\t\t\t\telemWidth: elemWidth,\n\t\t\t\t\telemHeight: elemHeight,\n\t\t\t\t\tcollisionPosition: collisionPosition,\n\t\t\t\t\tcollisionWidth: collisionWidth,\n\t\t\t\t\tcollisionHeight: collisionHeight,\n\t\t\t\t\toffset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],\n\t\t\t\t\tmy: options.my,\n\t\t\t\t\tat: options.at,\n\t\t\t\t\twithin: within,\n\t\t\t\t\telem: elem\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\tif ( options.using ) {\n\n\t\t\t// Adds feedback as second argument to using callback, if present\n\t\t\tusing = function( props ) {\n\t\t\t\tvar left = targetOffset.left - position.left,\n\t\t\t\t\tright = left + targetWidth - elemWidth,\n\t\t\t\t\ttop = targetOffset.top - position.top,\n\t\t\t\t\tbottom = top + targetHeight - elemHeight,\n\t\t\t\t\tfeedback = {\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\telement: target,\n\t\t\t\t\t\t\tleft: targetOffset.left,\n\t\t\t\t\t\t\ttop: targetOffset.top,\n\t\t\t\t\t\t\twidth: targetWidth,\n\t\t\t\t\t\t\theight: targetHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\telement: {\n\t\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\t\tleft: position.left,\n\t\t\t\t\t\t\ttop: position.top,\n\t\t\t\t\t\t\twidth: elemWidth,\n\t\t\t\t\t\t\theight: elemHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\thorizontal: right < 0 ? \"left\" : left > 0 ? \"right\" : \"center\",\n\t\t\t\t\t\tvertical: bottom < 0 ? \"top\" : top > 0 ? \"bottom\" : \"middle\"\n\t\t\t\t\t};\n\t\t\t\tif ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {\n\t\t\t\t\tfeedback.horizontal = \"center\";\n\t\t\t\t}\n\t\t\t\tif ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {\n\t\t\t\t\tfeedback.vertical = \"middle\";\n\t\t\t\t}\n\t\t\t\tif ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {\n\t\t\t\t\tfeedback.important = \"horizontal\";\n\t\t\t\t} else {\n\t\t\t\t\tfeedback.important = \"vertical\";\n\t\t\t\t}\n\t\t\t\toptions.using.call( this, props, feedback );\n\t\t\t};\n\t\t}\n\n\t\telem.offset( $.extend( position, { using: using } ) );\n\t} );\n};\n\n$.ui.position = {\n\tfit: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\touterWidth = within.width,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = withinOffset - collisionPosLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,\n\t\t\t\tnewOverRight;\n\n\t\t\t// Element is wider than within\n\t\t\tif ( data.collisionWidth > outerWidth ) {\n\n\t\t\t\t// Element is initially over the left side of within\n\t\t\t\tif ( overLeft > 0 && overRight <= 0 ) {\n\t\t\t\t\tnewOverRight = position.left + overLeft + data.collisionWidth - outerWidth -\n\t\t\t\t\t\twithinOffset;\n\t\t\t\t\tposition.left += overLeft - newOverRight;\n\n\t\t\t\t// Element is initially over right side of within\n\t\t\t\t} else if ( overRight > 0 && overLeft <= 0 ) {\n\t\t\t\t\tposition.left = withinOffset;\n\n\t\t\t\t// Element is initially over both left and right sides of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overLeft > overRight ) {\n\t\t\t\t\t\tposition.left = withinOffset + outerWidth - data.collisionWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Too far left -> align with left edge\n\t\t\t} else if ( overLeft > 0 ) {\n\t\t\t\tposition.left += overLeft;\n\n\t\t\t// Too far right -> align with right edge\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tposition.left -= overRight;\n\n\t\t\t// Adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.left = max( position.left - collisionPosLeft, position.left );\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\touterHeight = data.within.height,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = withinOffset - collisionPosTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,\n\t\t\t\tnewOverBottom;\n\n\t\t\t// Element is taller than within\n\t\t\tif ( data.collisionHeight > outerHeight ) {\n\n\t\t\t\t// Element is initially over the top of within\n\t\t\t\tif ( overTop > 0 && overBottom <= 0 ) {\n\t\t\t\t\tnewOverBottom = position.top + overTop + data.collisionHeight - outerHeight -\n\t\t\t\t\t\twithinOffset;\n\t\t\t\t\tposition.top += overTop - newOverBottom;\n\n\t\t\t\t// Element is initially over bottom of within\n\t\t\t\t} else if ( overBottom > 0 && overTop <= 0 ) {\n\t\t\t\t\tposition.top = withinOffset;\n\n\t\t\t\t// Element is initially over both top and bottom of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overTop > overBottom ) {\n\t\t\t\t\t\tposition.top = withinOffset + outerHeight - data.collisionHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Too far up -> align with top\n\t\t\t} else if ( overTop > 0 ) {\n\t\t\t\tposition.top += overTop;\n\n\t\t\t// Too far down -> align with bottom edge\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tposition.top -= overBottom;\n\n\t\t\t// Adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.top = max( position.top - collisionPosTop, position.top );\n\t\t\t}\n\t\t}\n\t},\n\tflip: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.left + within.scrollLeft,\n\t\t\t\touterWidth = within.width,\n\t\t\t\toffsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = collisionPosLeft - offsetLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,\n\t\t\t\tmyOffset = data.my[ 0 ] === \"left\" ?\n\t\t\t\t\t-data.elemWidth :\n\t\t\t\t\tdata.my[ 0 ] === \"right\" ?\n\t\t\t\t\t\tdata.elemWidth :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 0 ] === \"left\" ?\n\t\t\t\t\tdata.targetWidth :\n\t\t\t\t\tdata.at[ 0 ] === \"right\" ?\n\t\t\t\t\t\t-data.targetWidth :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 0 ],\n\t\t\t\tnewOverRight,\n\t\t\t\tnewOverLeft;\n\n\t\t\tif ( overLeft < 0 ) {\n\t\t\t\tnewOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth -\n\t\t\t\t\touterWidth - withinOffset;\n\t\t\t\tif ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tnewOverLeft = position.left - data.collisionPosition.marginLeft + myOffset +\n\t\t\t\t\tatOffset + offset - offsetLeft;\n\t\t\t\tif ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.top + within.scrollTop,\n\t\t\t\touterHeight = within.height,\n\t\t\t\toffsetTop = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = collisionPosTop - offsetTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,\n\t\t\t\ttop = data.my[ 1 ] === \"top\",\n\t\t\t\tmyOffset = top ?\n\t\t\t\t\t-data.elemHeight :\n\t\t\t\t\tdata.my[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\tdata.elemHeight :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 1 ] === \"top\" ?\n\t\t\t\t\tdata.targetHeight :\n\t\t\t\t\tdata.at[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\t-data.targetHeight :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 1 ],\n\t\t\t\tnewOverTop,\n\t\t\t\tnewOverBottom;\n\t\t\tif ( overTop < 0 ) {\n\t\t\t\tnewOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight -\n\t\t\t\t\touterHeight - withinOffset;\n\t\t\t\tif ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tnewOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset +\n\t\t\t\t\toffset - offsetTop;\n\t\t\t\tif ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tflipfit: {\n\t\tleft: function() {\n\t\t\t$.ui.position.flip.left.apply( this, arguments );\n\t\t\t$.ui.position.fit.left.apply( this, arguments );\n\t\t},\n\t\ttop: function() {\n\t\t\t$.ui.position.flip.top.apply( this, arguments );\n\t\t\t$.ui.position.fit.top.apply( this, arguments );\n\t\t}\n\t}\n};\n\n} )();\n\nreturn $.ui.position;\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.safeActiveElement = function( document ) {\n\tvar activeElement;\n\n\t// Support: IE 9 only\n\t// IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n\ttry {\n\t\tactiveElement = document.activeElement;\n\t} catch ( error ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE may return null instead of an element\n\t// Interestingly, this only seems to occur when NOT in an iframe\n\tif ( !activeElement ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 11 only\n\t// IE11 returns a seemingly empty object in some cases when accessing\n\t// document.activeElement from an <iframe>\n\tif ( !activeElement.nodeName ) {\n\t\tactiveElement = document.body;\n\t}\n\n\treturn activeElement;\n};\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.safeBlur = function( element ) {\n\n\t// Support: IE9 - 10 only\n\t// If the <body> is blurred, IE will switch windows, see #9420\n\tif ( element && element.nodeName.toLowerCase() !== \"body\" ) {\n\t\t$( element ).trigger( \"blur\" );\n\t}\n};\n\n} ) );\n","/*!\n * jQuery UI Scroll Parent 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*!\n * jQuery UI Tabbable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :tabbable Selector\n//>>group: Core\n//>>description: Selects elements which can be tabbed to.\n//>>docs: http://api.jqueryui.com/tabbable-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\", \"./focusable\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.extend( $.expr[ \":\" ], {\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\thasTabindex = tabIndex != null;\n\t\treturn ( !hasTabindex || tabIndex >= 0 ) && $.ui.focusable( element, hasTabindex );\n\t}\n} );\n\n} ) );\n","/*!\n * jQuery UI Unique ID 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: uniqueId\n//>>group: Core\n//>>description: Functions to generate and remove uniqueId's\n//>>docs: http://api.jqueryui.com/uniqueId/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.extend( {\n\tuniqueId: ( function() {\n\t\tvar uuid = 0;\n\n\t\treturn function() {\n\t\t\treturn this.each( function() {\n\t\t\t\tif ( !this.id ) {\n\t\t\t\t\tthis.id = \"ui-id-\" + ( ++uuid );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t} )(),\n\n\tremoveUniqueId: function() {\n\t\treturn this.each( function() {\n\t\t\tif ( /^ui-id-\\d+$/.test( this.id ) ) {\n\t\t\t\t$( this ).removeAttr( \"id\" );\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n$.ui = $.ui || {};\n\nreturn $.ui.version = \"1.12.1\";\n\n} ) );\n","/*!\n * jQuery UI Widget 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar widgetUuid = 0;\nvar widgetSlice = Array.prototype.slice;\n\n$.cleanData = ( function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// Http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n} )( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar existingConstructor, constructor, basePrototype;\n\n\t// ProxiedPrototype allows the provided prototype to remain unmodified\n\t// so that it can be used as a mixin for multiple widgets (#8876)\n\tvar proxiedPrototype = {};\n\n\tvar namespace = name.split( \".\" )[ 0 ];\n\tname = name.split( \".\" )[ 1 ];\n\tvar fullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\tif ( $.isArray( prototype ) ) {\n\t\tprototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n\t}\n\n\t// Create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\n\t\t// Allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// Allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\t// Extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\n\t\t// Copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\n\t\t// Track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t} );\n\n\tbasePrototype = new base();\n\n\t// We need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = ( function() {\n\t\t\tfunction _super() {\n\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t}\n\n\t\t\tfunction _superApply( args ) {\n\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super;\n\t\t\t\tvar __superApply = this._superApply;\n\t\t\t\tvar returnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t} )();\n\t} );\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t} );\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// Redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor,\n\t\t\t\tchild._proto );\n\t\t} );\n\n\t\t// Remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widgetSlice.call( arguments, 1 );\n\tvar inputIndex = 0;\n\tvar inputLength = input.length;\n\tvar key;\n\tvar value;\n\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\";\n\t\tvar args = widgetSlice.call( arguments, 1 );\n\t\tvar returnValue = this;\n\n\t\tif ( isMethodCall ) {\n\n\t\t\t// If this is an empty collection, we need to have the instance method\n\t\t\t// return undefined instead of the jQuery instance\n\t\t\tif ( !this.length && options === \"instance\" ) {\n\t\t\t\treturnValue = undefined;\n\t\t\t} else {\n\t\t\t\tthis.each( function() {\n\t\t\t\t\tvar methodValue;\n\t\t\t\t\tvar instance = $.data( this, fullName );\n\n\t\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\t\treturnValue = instance;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !instance ) {\n\t\t\t\t\t\treturn $.error( \"cannot call methods on \" + name +\n\t\t\t\t\t\t\t\" prior to initialization; \" +\n\t\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name +\n\t\t\t\t\t\t\t\" widget instance\" );\n\t\t\t\t\t}\n\n\t\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\n\t\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\t\tmethodValue;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat( args ) );\n\t\t\t}\n\n\t\t\tthis.each( function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\n\toptions: {\n\t\tclasses: {},\n\t\tdisabled: false,\n\n\t\t// Callbacks\n\t\tcreate: null\n\t},\n\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widgetUuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\t\tthis.classesElementLookup = {};\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.document = $( element.style ?\n\n\t\t\t\t// Element within the document\n\t\t\t\telement.ownerDocument :\n\n\t\t\t\t// Element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._setOptionDisabled( this.options.disabled );\n\t\t}\n\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\n\t_getCreateOptions: function() {\n\t\treturn {};\n\t},\n\n\t_getCreateEventData: $.noop,\n\n\t_create: $.noop,\n\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tvar that = this;\n\n\t\tthis._destroy();\n\t\t$.each( this.classesElementLookup, function( key, value ) {\n\t\t\tthat._removeClass( value, key );\n\t\t} );\n\n\t\t// We can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName );\n\t\tthis.widget()\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" );\n\n\t\t// Clean up events and states\n\t\tthis.bindings.off( this.eventNamespace );\n\t},\n\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\t\tvar parts;\n\t\tvar curOption;\n\t\tvar i;\n\n\t\tif ( arguments.length === 0 ) {\n\n\t\t\t// Don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\n\t\t\t// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"classes\" ) {\n\t\t\tthis._setOptionClasses( value );\n\t\t}\n\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._setOptionDisabled( value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptionClasses: function( value ) {\n\t\tvar classKey, elements, currentElements;\n\n\t\tfor ( classKey in value ) {\n\t\t\tcurrentElements = this.classesElementLookup[ classKey ];\n\t\t\tif ( value[ classKey ] === this.options.classes[ classKey ] ||\n\t\t\t\t\t!currentElements ||\n\t\t\t\t\t!currentElements.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// We are doing this to create a new jQuery object because the _removeClass() call\n\t\t\t// on the next line is going to destroy the reference to the current elements being\n\t\t\t// tracked. We need to save a copy of this collection so that we can add the new classes\n\t\t\t// below.\n\t\t\telements = $( currentElements.get() );\n\t\t\tthis._removeClass( currentElements, classKey );\n\n\t\t\t// We don't use _addClass() here, because that uses this.options.classes\n\t\t\t// for generating the string of classes. We want to use the value passed in from\n\t\t\t// _setOption(), this is the new value of the classes option which was passed to\n\t\t\t// _setOption(). We pass this value directly to _classes().\n\t\t\telements.addClass( this._classes( {\n\t\t\t\telement: elements,\n\t\t\t\tkeys: classKey,\n\t\t\t\tclasses: value,\n\t\t\t\tadd: true\n\t\t\t} ) );\n\t\t}\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._toggleClass( this.widget(), this.widgetFullName + \"-disabled\", null, !!value );\n\n\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\tif ( value ) {\n\t\t\tthis._removeClass( this.hoverable, null, \"ui-state-hover\" );\n\t\t\tthis._removeClass( this.focusable, null, \"ui-state-focus\" );\n\t\t}\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions( { disabled: false } );\n\t},\n\n\tdisable: function() {\n\t\treturn this._setOptions( { disabled: true } );\n\t},\n\n\t_classes: function( options ) {\n\t\tvar full = [];\n\t\tvar that = this;\n\n\t\toptions = $.extend( {\n\t\t\telement: this.element,\n\t\t\tclasses: this.options.classes || {}\n\t\t}, options );\n\n\t\tfunction processClassString( classes, checkOption ) {\n\t\t\tvar current, i;\n\t\t\tfor ( i = 0; i < classes.length; i++ ) {\n\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\n\t\t\t\tif ( options.add ) {\n\t\t\t\t\tcurrent = $( $.unique( current.get().concat( options.element.get() ) ) );\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\n\t\t\t\t}\n\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\n\t\t\t\tfull.push( classes[ i ] );\n\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\n\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._on( options.element, {\n\t\t\t\"remove\": \"_untrackClassesElement\"\n\t\t} );\n\n\t\tif ( options.keys ) {\n\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\n\t\t}\n\t\tif ( options.extra ) {\n\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\n\t\t}\n\n\t\treturn full.join( \" \" );\n\t},\n\n\t_untrackClassesElement: function( event ) {\n\t\tvar that = this;\n\t\t$.each( that.classesElementLookup, function( key, value ) {\n\t\t\tif ( $.inArray( event.target, value ) !== -1 ) {\n\t\t\t\tthat.classesElementLookup[ key ] = $( value.not( event.target ).get() );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_removeClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, false );\n\t},\n\n\t_addClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, true );\n\t},\n\n\t_toggleClass: function( element, keys, extra, add ) {\n\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\n\t\tvar shift = ( typeof element === \"string\" || element === null ),\n\t\t\toptions = {\n\t\t\t\textra: shift ? keys : extra,\n\t\t\t\tkeys: shift ? element : keys,\n\t\t\t\telement: shift ? this.element : element,\n\t\t\t\tadd: add\n\t\t\t};\n\t\toptions.element.toggleClass( this._classes( options ), add );\n\t\treturn this;\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement;\n\t\tvar instance = this;\n\n\t\t// No suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// No element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\n\t\t\t\t// Allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// Copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\n\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\n\t\t\tvar selector = match[ 2 ];\n\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.on( eventName, handlerProxy );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.off( eventName ).off( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig;\n\t\tvar callback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\n\t\t// The original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// Copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\n\t\tvar hasOptions;\n\t\tvar effectName = !options ?\n\t\t\tmethod :\n\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\tdefaultEffect :\n\t\t\t\toptions.effect || defaultEffect;\n\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue( function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t} );\n\t\t}\n\t};\n} );\n\nreturn $.widget;\n\n} ) );\n","/*!\n * jQuery UI Autocomplete 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Autocomplete\n//>>group: Widgets\n//>>description: Lists suggested words as the user is typing.\n//>>docs: http://api.jqueryui.com/autocomplete/\n//>>demos: http://jqueryui.com/autocomplete/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/autocomplete.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./menu\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.autocomplete\", {\n\tversion: \"1.12.1\",\n\tdefaultElement: \"<input>\",\n\toptions: {\n\t\tappendTo: null,\n\t\tautoFocus: false,\n\t\tdelay: 300,\n\t\tminLength: 1,\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"left bottom\",\n\t\t\tcollision: \"none\"\n\t\t},\n\t\tsource: null,\n\n\t\t// Callbacks\n\t\tchange: null,\n\t\tclose: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresponse: null,\n\t\tsearch: null,\n\t\tselect: null\n\t},\n\n\trequestIndex: 0,\n\tpending: 0,\n\n\t_create: function() {\n\n\t\t// Some browsers only repeat keydown events, not keypress events,\n\t\t// so we use the suppressKeyPress flag to determine if we've already\n\t\t// handled the keydown event. #7269\n\t\t// Unfortunately the code for & in keypress is the same as the up arrow,\n\t\t// so we use the suppressKeyPressRepeat flag to avoid handling keypress\n\t\t// events when we know the keydown event was used to modify the\n\t\t// search term. #7799\n\t\tvar suppressKeyPress, suppressKeyPressRepeat, suppressInput,\n\t\t\tnodeName = this.element[ 0 ].nodeName.toLowerCase(),\n\t\t\tisTextarea = nodeName === \"textarea\",\n\t\t\tisInput = nodeName === \"input\";\n\n\t\t// Textareas are always multi-line\n\t\t// Inputs are always single-line, even if inside a contentEditable element\n\t\t// IE also treats inputs as contentEditable\n\t\t// All other element types are determined by whether or not they're contentEditable\n\t\tthis.isMultiLine = isTextarea || !isInput && this._isContentEditable( this.element );\n\n\t\tthis.valueMethod = this.element[ isTextarea || isInput ? \"val\" : \"text\" ];\n\t\tthis.isNewMenu = true;\n\n\t\tthis._addClass( \"ui-autocomplete-input\" );\n\t\tthis.element.attr( \"autocomplete\", \"off\" );\n\n\t\tthis._on( this.element, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\tif ( this.element.prop( \"readOnly\" ) ) {\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tsuppressInput = true;\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsuppressKeyPress = false;\n\t\t\t\tsuppressInput = false;\n\t\t\t\tsuppressKeyPressRepeat = false;\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ENTER:\n\n\t\t\t\t\t// when menu is open and has focus\n\t\t\t\t\tif ( this.menu.active ) {\n\n\t\t\t\t\t\t// #6055 - Opera still allows the keypress to occur\n\t\t\t\t\t\t// which causes forms to submit\n\t\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.TAB:\n\t\t\t\t\tif ( this.menu.active ) {\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ESCAPE:\n\t\t\t\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tif ( !this.isMultiLine ) {\n\t\t\t\t\t\t\tthis._value( this.term );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.close( event );\n\n\t\t\t\t\t\t// Different browsers have different default behavior for escape\n\t\t\t\t\t\t// Single press can mean undo or clear\n\t\t\t\t\t\t// Double press in IE means clear the whole form\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\n\t\t\t\t\t// search timeout should be triggered before the input value is changed\n\t\t\t\t\tthis._searchTimeout( event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeypress: function( event ) {\n\t\t\t\tif ( suppressKeyPress ) {\n\t\t\t\t\tsuppressKeyPress = false;\n\t\t\t\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( suppressKeyPressRepeat ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Replicate some key handlers to allow them to repeat in Firefox and Opera\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tinput: function( event ) {\n\t\t\t\tif ( suppressInput ) {\n\t\t\t\t\tsuppressInput = false;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._searchTimeout( event );\n\t\t\t},\n\t\t\tfocus: function() {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.previous = this._value();\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tif ( this.cancelBlur ) {\n\t\t\t\t\tdelete this.cancelBlur;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tclearTimeout( this.searching );\n\t\t\t\tthis.close( event );\n\t\t\t\tthis._change( event );\n\t\t\t}\n\t\t} );\n\n\t\tthis._initSource();\n\t\tthis.menu = $( \"<ul>\" )\n\t\t\t.appendTo( this._appendTo() )\n\t\t\t.menu( {\n\n\t\t\t\t// disable ARIA support, the live region takes care of that\n\t\t\t\trole: null\n\t\t\t} )\n\t\t\t.hide()\n\t\t\t.menu( \"instance\" );\n\n\t\tthis._addClass( this.menu.element, \"ui-autocomplete\", \"ui-front\" );\n\t\tthis._on( this.menu.element, {\n\t\t\tmousedown: function( event ) {\n\n\t\t\t\t// prevent moving focus out of the text field\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t\tthis.cancelBlur = true;\n\t\t\t\tthis._delay( function() {\n\t\t\t\t\tdelete this.cancelBlur;\n\n\t\t\t\t\t// Support: IE 8 only\n\t\t\t\t\t// Right clicking a menu item or selecting text from the menu items will\n\t\t\t\t\t// result in focus moving out of the input. However, we've already received\n\t\t\t\t\t// and ignored the blur event because of the cancelBlur flag set above. So\n\t\t\t\t\t// we restore focus to ensure that the menu closes properly based on the user's\n\t\t\t\t\t// next actions.\n\t\t\t\t\tif ( this.element[ 0 ] !== $.ui.safeActiveElement( this.document[ 0 ] ) ) {\n\t\t\t\t\t\tthis.element.trigger( \"focus\" );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t\tmenufocus: function( event, ui ) {\n\t\t\t\tvar label, item;\n\n\t\t\t\t// support: Firefox\n\t\t\t\t// Prevent accidental activation of menu items in Firefox (#7024 #9118)\n\t\t\t\tif ( this.isNewMenu ) {\n\t\t\t\t\tthis.isNewMenu = false;\n\t\t\t\t\tif ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis.menu.blur();\n\n\t\t\t\t\t\tthis.document.one( \"mousemove\", function() {\n\t\t\t\t\t\t\t$( event.target ).trigger( event.originalEvent );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem = ui.item.data( \"ui-autocomplete-item\" );\n\t\t\t\tif ( false !== this._trigger( \"focus\", event, { item: item } ) ) {\n\n\t\t\t\t\t// use value to match what will end up in the input, if it was a key event\n\t\t\t\t\tif ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis._value( item.value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Announce the value in the liveRegion\n\t\t\t\tlabel = ui.item.attr( \"aria-label\" ) || item.value;\n\t\t\t\tif ( label && $.trim( label ).length ) {\n\t\t\t\t\tthis.liveRegion.children().hide();\n\t\t\t\t\t$( \"<div>\" ).text( label ).appendTo( this.liveRegion );\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuselect: function( event, ui ) {\n\t\t\t\tvar item = ui.item.data( \"ui-autocomplete-item\" ),\n\t\t\t\t\tprevious = this.previous;\n\n\t\t\t\t// Only trigger when focus was lost (click on menu)\n\t\t\t\tif ( this.element[ 0 ] !== $.ui.safeActiveElement( this.document[ 0 ] ) ) {\n\t\t\t\t\tthis.element.trigger( \"focus\" );\n\t\t\t\t\tthis.previous = previous;\n\n\t\t\t\t\t// #6109 - IE triggers two focus events and the second\n\t\t\t\t\t// is asynchronous, so we need to reset the previous\n\t\t\t\t\t// term synchronously and asynchronously :-(\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t\tthis.selectedItem = item;\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tif ( false !== this._trigger( \"select\", event, { item: item } ) ) {\n\t\t\t\t\tthis._value( item.value );\n\t\t\t\t}\n\n\t\t\t\t// reset the term after the select event\n\t\t\t\t// this allows custom select handling to work properly\n\t\t\t\tthis.term = this._value();\n\n\t\t\t\tthis.close( event );\n\t\t\t\tthis.selectedItem = item;\n\t\t\t}\n\t\t} );\n\n\t\tthis.liveRegion = $( \"<div>\", {\n\t\t\trole: \"status\",\n\t\t\t\"aria-live\": \"assertive\",\n\t\t\t\"aria-relevant\": \"additions\"\n\t\t} )\n\t\t\t.appendTo( this.document[ 0 ].body );\n\n\t\tthis._addClass( this.liveRegion, null, \"ui-helper-hidden-accessible\" );\n\n\t\t// Turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tclearTimeout( this.searching );\n\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\tthis.menu.element.remove();\n\t\tthis.liveRegion.remove();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"source\" ) {\n\t\t\tthis._initSource();\n\t\t}\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.menu.element.appendTo( this._appendTo() );\n\t\t}\n\t\tif ( key === \"disabled\" && value && this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\t},\n\n\t_isEventTargetInWidget: function( event ) {\n\t\tvar menuElement = this.menu.element[ 0 ];\n\n\t\treturn event.target === this.element[ 0 ] ||\n\t\t\tevent.target === menuElement ||\n\t\t\t$.contains( menuElement, event.target );\n\t},\n\n\t_closeOnClickOutside: function( event ) {\n\t\tif ( !this._isEventTargetInWidget( event ) ) {\n\t\t\tthis.close();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\n\t\tif ( element ) {\n\t\t\telement = element.jquery || element.nodeType ?\n\t\t\t\t$( element ) :\n\t\t\t\tthis.document.find( element ).eq( 0 );\n\t\t}\n\n\t\tif ( !element || !element[ 0 ] ) {\n\t\t\telement = this.element.closest( \".ui-front, dialog\" );\n\t\t}\n\n\t\tif ( !element.length ) {\n\t\t\telement = this.document[ 0 ].body;\n\t\t}\n\n\t\treturn element;\n\t},\n\n\t_initSource: function() {\n\t\tvar array, url,\n\t\t\tthat = this;\n\t\tif ( $.isArray( this.options.source ) ) {\n\t\t\tarray = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tresponse( $.ui.autocomplete.filter( array, request.term ) );\n\t\t\t};\n\t\t} else if ( typeof this.options.source === \"string\" ) {\n\t\t\turl = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tif ( that.xhr ) {\n\t\t\t\t\tthat.xhr.abort();\n\t\t\t\t}\n\t\t\t\tthat.xhr = $.ajax( {\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: request,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\tresponse( data );\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tresponse( [] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t};\n\t\t} else {\n\t\t\tthis.source = this.options.source;\n\t\t}\n\t},\n\n\t_searchTimeout: function( event ) {\n\t\tclearTimeout( this.searching );\n\t\tthis.searching = this._delay( function() {\n\n\t\t\t// Search if the value has changed, or if the user retypes the same value (see #7434)\n\t\t\tvar equalValues = this.term === this._value(),\n\t\t\t\tmenuVisible = this.menu.element.is( \":visible\" ),\n\t\t\t\tmodifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n\n\t\t\tif ( !equalValues || ( equalValues && !menuVisible && !modifierKey ) ) {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.search( null, event );\n\t\t\t}\n\t\t}, this.options.delay );\n\t},\n\n\tsearch: function( value, event ) {\n\t\tvalue = value != null ? value : this._value();\n\n\t\t// Always save the actual value, not the one passed as an argument\n\t\tthis.term = this._value();\n\n\t\tif ( value.length < this.options.minLength ) {\n\t\t\treturn this.close( event );\n\t\t}\n\n\t\tif ( this._trigger( \"search\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._search( value );\n\t},\n\n\t_search: function( value ) {\n\t\tthis.pending++;\n\t\tthis._addClass( \"ui-autocomplete-loading\" );\n\t\tthis.cancelSearch = false;\n\n\t\tthis.source( { term: value }, this._response() );\n\t},\n\n\t_response: function() {\n\t\tvar index = ++this.requestIndex;\n\n\t\treturn $.proxy( function( content ) {\n\t\t\tif ( index === this.requestIndex ) {\n\t\t\t\tthis.__response( content );\n\t\t\t}\n\n\t\t\tthis.pending--;\n\t\t\tif ( !this.pending ) {\n\t\t\t\tthis._removeClass( \"ui-autocomplete-loading\" );\n\t\t\t}\n\t\t}, this );\n\t},\n\n\t__response: function( content ) {\n\t\tif ( content ) {\n\t\t\tcontent = this._normalize( content );\n\t\t}\n\t\tthis._trigger( \"response\", null, { content: content } );\n\t\tif ( !this.options.disabled && content && content.length && !this.cancelSearch ) {\n\t\t\tthis._suggest( content );\n\t\t\tthis._trigger( \"open\" );\n\t\t} else {\n\n\t\t\t// use ._close() instead of .close() so we don't cancel future searches\n\t\t\tthis._close();\n\t\t}\n\t},\n\n\tclose: function( event ) {\n\t\tthis.cancelSearch = true;\n\t\tthis._close( event );\n\t},\n\n\t_close: function( event ) {\n\n\t\t// Remove the handler that closes the menu on outside clicks\n\t\tthis._off( this.document, \"mousedown\" );\n\n\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.menu.element.hide();\n\t\t\tthis.menu.blur();\n\t\t\tthis.isNewMenu = true;\n\t\t\tthis._trigger( \"close\", event );\n\t\t}\n\t},\n\n\t_change: function( event ) {\n\t\tif ( this.previous !== this._value() ) {\n\t\t\tthis._trigger( \"change\", event, { item: this.selectedItem } );\n\t\t}\n\t},\n\n\t_normalize: function( items ) {\n\n\t\t// assume all items have the right format when the first item is complete\n\t\tif ( items.length && items[ 0 ].label && items[ 0 ].value ) {\n\t\t\treturn items;\n\t\t}\n\t\treturn $.map( items, function( item ) {\n\t\t\tif ( typeof item === \"string\" ) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tvalue: item\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn $.extend( {}, item, {\n\t\t\t\tlabel: item.label || item.value,\n\t\t\t\tvalue: item.value || item.label\n\t\t\t} );\n\t\t} );\n\t},\n\n\t_suggest: function( items ) {\n\t\tvar ul = this.menu.element.empty();\n\t\tthis._renderMenu( ul, items );\n\t\tthis.isNewMenu = true;\n\t\tthis.menu.refresh();\n\n\t\t// Size and position menu\n\t\tul.show();\n\t\tthis._resizeMenu();\n\t\tul.position( $.extend( {\n\t\t\tof: this.element\n\t\t}, this.options.position ) );\n\n\t\tif ( this.options.autoFocus ) {\n\t\t\tthis.menu.next();\n\t\t}\n\n\t\t// Listen for interactions outside of the widget (#6642)\n\t\tthis._on( this.document, {\n\t\t\tmousedown: \"_closeOnClickOutside\"\n\t\t} );\n\t},\n\n\t_resizeMenu: function() {\n\t\tvar ul = this.menu.element;\n\t\tul.outerWidth( Math.max(\n\n\t\t\t// Firefox wraps long text (possibly a rounding bug)\n\t\t\t// so we add 1px to avoid the wrapping (#7513)\n\t\t\tul.width( \"\" ).outerWidth() + 1,\n\t\t\tthis.element.outerWidth()\n\t\t) );\n\t},\n\n\t_renderMenu: function( ul, items ) {\n\t\tvar that = this;\n\t\t$.each( items, function( index, item ) {\n\t\t\tthat._renderItemData( ul, item );\n\t\t} );\n\t},\n\n\t_renderItemData: function( ul, item ) {\n\t\treturn this._renderItem( ul, item ).data( \"ui-autocomplete-item\", item );\n\t},\n\n\t_renderItem: function( ul, item ) {\n\t\treturn $( \"<li>\" )\n\t\t\t.append( $( \"<div>\" ).text( item.label ) )\n\t\t\t.appendTo( ul );\n\t},\n\n\t_move: function( direction, event ) {\n\t\tif ( !this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.search( null, event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.menu.isFirstItem() && /^previous/.test( direction ) ||\n\t\t\t\tthis.menu.isLastItem() && /^next/.test( direction ) ) {\n\n\t\t\tif ( !this.isMultiLine ) {\n\t\t\t\tthis._value( this.term );\n\t\t\t}\n\n\t\t\tthis.menu.blur();\n\t\t\treturn;\n\t\t}\n\t\tthis.menu[ direction ]( event );\n\t},\n\n\twidget: function() {\n\t\treturn this.menu.element;\n\t},\n\n\t_value: function() {\n\t\treturn this.valueMethod.apply( this.element, arguments );\n\t},\n\n\t_keyEvent: function( keyEvent, event ) {\n\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis._move( keyEvent, event );\n\n\t\t\t// Prevents moving cursor to beginning/end of the text field in some browsers\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t// Support: Chrome <=50\n\t// We should be able to just use this.element.prop( \"isContentEditable\" )\n\t// but hidden elements always report false in Chrome.\n\t// https://code.google.com/p/chromium/issues/detail?id=313082\n\t_isContentEditable: function( element ) {\n\t\tif ( !element.length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar editable = element.prop( \"contentEditable\" );\n\n\t\tif ( editable === \"inherit\" ) {\n\t\t  return this._isContentEditable( element.parent() );\n\t\t}\n\n\t\treturn editable === \"true\";\n\t}\n} );\n\n$.extend( $.ui.autocomplete, {\n\tescapeRegex: function( value ) {\n\t\treturn value.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" );\n\t},\n\tfilter: function( array, term ) {\n\t\tvar matcher = new RegExp( $.ui.autocomplete.escapeRegex( term ), \"i\" );\n\t\treturn $.grep( array, function( value ) {\n\t\t\treturn matcher.test( value.label || value.value || value );\n\t\t} );\n\t}\n} );\n\n// Live region extension, adding a `messages` option\n// NOTE: This is an experimental API. We are still investigating\n// a full solution for string manipulation and internationalization.\n$.widget( \"ui.autocomplete\", $.ui.autocomplete, {\n\toptions: {\n\t\tmessages: {\n\t\t\tnoResults: \"No search results.\",\n\t\t\tresults: function( amount ) {\n\t\t\t\treturn amount + ( amount > 1 ? \" results are\" : \" result is\" ) +\n\t\t\t\t\t\" available, use up and down arrow keys to navigate.\";\n\t\t\t}\n\t\t}\n\t},\n\n\t__response: function( content ) {\n\t\tvar message;\n\t\tthis._superApply( arguments );\n\t\tif ( this.options.disabled || this.cancelSearch ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( content && content.length ) {\n\t\t\tmessage = this.options.messages.results( content.length );\n\t\t} else {\n\t\t\tmessage = this.options.messages.noResults;\n\t\t}\n\t\tthis.liveRegion.children().hide();\n\t\t$( \"<div>\" ).text( message ).appendTo( this.liveRegion );\n\t}\n} );\n\nreturn $.ui.autocomplete;\n\n} ) );\n","/*!\n * jQuery UI Button 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Button\n//>>group: Widgets\n//>>description: Enhances a form with themeable buttons.\n//>>docs: http://api.jqueryui.com/button/\n//>>demos: http://jqueryui.com/button/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/button.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\n\t\t\t// These are only for backcompat\n\t\t\t// TODO: Remove after 1.12\n\t\t\t\"./controlgroup\",\n\t\t\t\"./checkboxradio\",\n\n\t\t\t\"../keycode\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.button\", {\n\tversion: \"1.12.1\",\n\tdefaultElement: \"<button>\",\n\toptions: {\n\t\tclasses: {\n\t\t\t\"ui-button\": \"ui-corner-all\"\n\t\t},\n\t\tdisabled: null,\n\t\ticon: null,\n\t\ticonPosition: \"beginning\",\n\t\tlabel: null,\n\t\tshowLabel: true\n\t},\n\n\t_getCreateOptions: function() {\n\t\tvar disabled,\n\n\t\t\t// This is to support cases like in jQuery Mobile where the base widget does have\n\t\t\t// an implementation of _getCreateOptions\n\t\t\toptions = this._super() || {};\n\n\t\tthis.isInput = this.element.is( \"input\" );\n\n\t\tdisabled = this.element[ 0 ].disabled;\n\t\tif ( disabled != null ) {\n\t\t\toptions.disabled = disabled;\n\t\t}\n\n\t\tthis.originalLabel = this.isInput ? this.element.val() : this.element.html();\n\t\tif ( this.originalLabel ) {\n\t\t\toptions.label = this.originalLabel;\n\t\t}\n\n\t\treturn options;\n\t},\n\n\t_create: function() {\n\t\tif ( !this.option.showLabel & !this.options.icon ) {\n\t\t\tthis.options.showLabel = true;\n\t\t}\n\n\t\t// We have to check the option again here even though we did in _getCreateOptions,\n\t\t// because null may have been passed on init which would override what was set in\n\t\t// _getCreateOptions\n\t\tif ( this.options.disabled == null ) {\n\t\t\tthis.options.disabled = this.element[ 0 ].disabled || false;\n\t\t}\n\n\t\tthis.hasTitle = !!this.element.attr( \"title\" );\n\n\t\t// Check to see if the label needs to be set or if its already correct\n\t\tif ( this.options.label && this.options.label !== this.originalLabel ) {\n\t\t\tif ( this.isInput ) {\n\t\t\t\tthis.element.val( this.options.label );\n\t\t\t} else {\n\t\t\t\tthis.element.html( this.options.label );\n\t\t\t}\n\t\t}\n\t\tthis._addClass( \"ui-button\", \"ui-widget\" );\n\t\tthis._setOption( \"disabled\", this.options.disabled );\n\t\tthis._enhance();\n\n\t\tif ( this.element.is( \"a\" ) ) {\n\t\t\tthis._on( {\n\t\t\t\t\"keyup\": function( event ) {\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE ) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Support: PhantomJS <= 1.9, IE 8 Only\n\t\t\t\t\t\t// If a native click is available use it so we actually cause navigation\n\t\t\t\t\t\t// otherwise just trigger a click event\n\t\t\t\t\t\tif ( this.element[ 0 ].click ) {\n\t\t\t\t\t\t\tthis.element[ 0 ].click();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.element.trigger( \"click\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t},\n\n\t_enhance: function() {\n\t\tif ( !this.element.is( \"button\" ) ) {\n\t\t\tthis.element.attr( \"role\", \"button\" );\n\t\t}\n\n\t\tif ( this.options.icon ) {\n\t\t\tthis._updateIcon( \"icon\", this.options.icon );\n\t\t\tthis._updateTooltip();\n\t\t}\n\t},\n\n\t_updateTooltip: function() {\n\t\tthis.title = this.element.attr( \"title\" );\n\n\t\tif ( !this.options.showLabel && !this.title ) {\n\t\t\tthis.element.attr( \"title\", this.options.label );\n\t\t}\n\t},\n\n\t_updateIcon: function( option, value ) {\n\t\tvar icon = option !== \"iconPosition\",\n\t\t\tposition = icon ? this.options.iconPosition : value,\n\t\t\tdisplayBlock = position === \"top\" || position === \"bottom\";\n\n\t\t// Create icon\n\t\tif ( !this.icon ) {\n\t\t\tthis.icon = $( \"<span>\" );\n\n\t\t\tthis._addClass( this.icon, \"ui-button-icon\", \"ui-icon\" );\n\n\t\t\tif ( !this.options.showLabel ) {\n\t\t\t\tthis._addClass( \"ui-button-icon-only\" );\n\t\t\t}\n\t\t} else if ( icon ) {\n\n\t\t\t// If we are updating the icon remove the old icon class\n\t\t\tthis._removeClass( this.icon, null, this.options.icon );\n\t\t}\n\n\t\t// If we are updating the icon add the new icon class\n\t\tif ( icon ) {\n\t\t\tthis._addClass( this.icon, null, value );\n\t\t}\n\n\t\tthis._attachIcon( position );\n\n\t\t// If the icon is on top or bottom we need to add the ui-widget-icon-block class and remove\n\t\t// the iconSpace if there is one.\n\t\tif ( displayBlock ) {\n\t\t\tthis._addClass( this.icon, null, \"ui-widget-icon-block\" );\n\t\t\tif ( this.iconSpace ) {\n\t\t\t\tthis.iconSpace.remove();\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Position is beginning or end so remove the ui-widget-icon-block class and add the\n\t\t\t// space if it does not exist\n\t\t\tif ( !this.iconSpace ) {\n\t\t\t\tthis.iconSpace = $( \"<span> </span>\" );\n\t\t\t\tthis._addClass( this.iconSpace, \"ui-button-icon-space\" );\n\t\t\t}\n\t\t\tthis._removeClass( this.icon, null, \"ui-wiget-icon-block\" );\n\t\t\tthis._attachIconSpace( position );\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeAttr( \"role\" );\n\n\t\tif ( this.icon ) {\n\t\t\tthis.icon.remove();\n\t\t}\n\t\tif ( this.iconSpace ) {\n\t\t\tthis.iconSpace.remove();\n\t\t}\n\t\tif ( !this.hasTitle ) {\n\t\t\tthis.element.removeAttr( \"title\" );\n\t\t}\n\t},\n\n\t_attachIconSpace: function( iconPosition ) {\n\t\tthis.icon[ /^(?:end|bottom)/.test( iconPosition ) ? \"before\" : \"after\" ]( this.iconSpace );\n\t},\n\n\t_attachIcon: function( iconPosition ) {\n\t\tthis.element[ /^(?:end|bottom)/.test( iconPosition ) ? \"append\" : \"prepend\" ]( this.icon );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar newShowLabel = options.showLabel === undefined ?\n\t\t\t\tthis.options.showLabel :\n\t\t\t\toptions.showLabel,\n\t\t\tnewIcon = options.icon === undefined ? this.options.icon : options.icon;\n\n\t\tif ( !newShowLabel && !newIcon ) {\n\t\t\toptions.showLabel = true;\n\t\t}\n\t\tthis._super( options );\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icon\" ) {\n\t\t\tif ( value ) {\n\t\t\t\tthis._updateIcon( key, value );\n\t\t\t} else if ( this.icon ) {\n\t\t\t\tthis.icon.remove();\n\t\t\t\tif ( this.iconSpace ) {\n\t\t\t\t\tthis.iconSpace.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"iconPosition\" ) {\n\t\t\tthis._updateIcon( key, value );\n\t\t}\n\n\t\t// Make sure we can't end up with a button that has neither text nor icon\n\t\tif ( key === \"showLabel\" ) {\n\t\t\t\tthis._toggleClass( \"ui-button-icon-only\", null, !value );\n\t\t\t\tthis._updateTooltip();\n\t\t}\n\n\t\tif ( key === \"label\" ) {\n\t\t\tif ( this.isInput ) {\n\t\t\t\tthis.element.val( value );\n\t\t\t} else {\n\n\t\t\t\t// If there is an icon, append it, else nothing then append the value\n\t\t\t\t// this avoids removal of the icon when setting label text\n\t\t\t\tthis.element.html( value );\n\t\t\t\tif ( this.icon ) {\n\t\t\t\t\tthis._attachIcon( this.options.iconPosition );\n\t\t\t\t\tthis._attachIconSpace( this.options.iconPosition );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._toggleClass( null, \"ui-state-disabled\", value );\n\t\t\tthis.element[ 0 ].disabled = value;\n\t\t\tif ( value ) {\n\t\t\t\tthis.element.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\n\t\t// Make sure to only check disabled if its an element that supports this otherwise\n\t\t// check for the disabled class to determine state\n\t\tvar isDisabled = this.element.is( \"input, button\" ) ?\n\t\t\tthis.element[ 0 ].disabled : this.element.hasClass( \"ui-button-disabled\" );\n\n\t\tif ( isDisabled !== this.options.disabled ) {\n\t\t\tthis._setOptions( { disabled: isDisabled } );\n\t\t}\n\n\t\tthis._updateTooltip();\n\t}\n} );\n\n// DEPRECATED\nif ( $.uiBackCompat !== false ) {\n\n\t// Text and Icons options\n\t$.widget( \"ui.button\", $.ui.button, {\n\t\toptions: {\n\t\t\ttext: true,\n\t\t\ticons: {\n\t\t\t\tprimary: null,\n\t\t\t\tsecondary: null\n\t\t\t}\n\t\t},\n\n\t\t_create: function() {\n\t\t\tif ( this.options.showLabel && !this.options.text ) {\n\t\t\t\tthis.options.showLabel = this.options.text;\n\t\t\t}\n\t\t\tif ( !this.options.showLabel && this.options.text ) {\n\t\t\t\tthis.options.text = this.options.showLabel;\n\t\t\t}\n\t\t\tif ( !this.options.icon && ( this.options.icons.primary ||\n\t\t\t\t\tthis.options.icons.secondary ) ) {\n\t\t\t\tif ( this.options.icons.primary ) {\n\t\t\t\t\tthis.options.icon = this.options.icons.primary;\n\t\t\t\t} else {\n\t\t\t\t\tthis.options.icon = this.options.icons.secondary;\n\t\t\t\t\tthis.options.iconPosition = \"end\";\n\t\t\t\t}\n\t\t\t} else if ( this.options.icon ) {\n\t\t\t\tthis.options.icons.primary = this.options.icon;\n\t\t\t}\n\t\t\tthis._super();\n\t\t},\n\n\t\t_setOption: function( key, value ) {\n\t\t\tif ( key === \"text\" ) {\n\t\t\t\tthis._super( \"showLabel\", value );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( key === \"showLabel\" ) {\n\t\t\t\tthis.options.text = value;\n\t\t\t}\n\t\t\tif ( key === \"icon\" ) {\n\t\t\t\tthis.options.icons.primary = value;\n\t\t\t}\n\t\t\tif ( key === \"icons\" ) {\n\t\t\t\tif ( value.primary ) {\n\t\t\t\t\tthis._super( \"icon\", value.primary );\n\t\t\t\t\tthis._super( \"iconPosition\", \"beginning\" );\n\t\t\t\t} else if ( value.secondary ) {\n\t\t\t\t\tthis._super( \"icon\", value.secondary );\n\t\t\t\t\tthis._super( \"iconPosition\", \"end\" );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._superApply( arguments );\n\t\t}\n\t} );\n\n\t$.fn.button = ( function( orig ) {\n\t\treturn function() {\n\t\t\tif ( !this.length || ( this.length && this[ 0 ].tagName !== \"INPUT\" ) ||\n\t\t\t\t\t( this.length && this[ 0 ].tagName === \"INPUT\" && (\n\t\t\t\t\t\tthis.attr( \"type\" ) !== \"checkbox\" && this.attr( \"type\" ) !== \"radio\"\n\t\t\t\t\t) ) ) {\n\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t}\n\t\t\tif ( !$.ui.checkboxradio ) {\n\t\t\t\t$.error( \"Checkboxradio widget missing\" );\n\t\t\t}\n\t\t\tif ( arguments.length === 0 ) {\n\t\t\t\treturn this.checkboxradio( {\n\t\t\t\t\t\"icon\": false\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn this.checkboxradio.apply( this, arguments );\n\t\t};\n\t} )( $.fn.button );\n\n\t$.fn.buttonset = function() {\n\t\tif ( !$.ui.controlgroup ) {\n\t\t\t$.error( \"Controlgroup widget missing\" );\n\t\t}\n\t\tif ( arguments[ 0 ] === \"option\" && arguments[ 1 ] === \"items\" && arguments[ 2 ] ) {\n\t\t\treturn this.controlgroup.apply( this,\n\t\t\t\t[ arguments[ 0 ], \"items.button\", arguments[ 2 ] ] );\n\t\t}\n\t\tif ( arguments[ 0 ] === \"option\" && arguments[ 1 ] === \"items\" ) {\n\t\t\treturn this.controlgroup.apply( this, [ arguments[ 0 ], \"items.button\" ] );\n\t\t}\n\t\tif ( typeof arguments[ 0 ] === \"object\" && arguments[ 0 ].items ) {\n\t\t\targuments[ 0 ].items = {\n\t\t\t\tbutton: arguments[ 0 ].items\n\t\t\t};\n\t\t}\n\t\treturn this.controlgroup.apply( this, arguments );\n\t};\n}\n\nreturn $.ui.button;\n\n} ) );\n","/*!\n * jQuery UI Dialog 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Dialog\n//>>group: Widgets\n//>>description: Displays customizable dialog windows.\n//>>docs: http://api.jqueryui.com/dialog/\n//>>demos: http://jqueryui.com/dialog/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/dialog.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./button\",\n\t\t\t\"./draggable\",\n\t\t\t\"./mouse\",\n\t\t\t\"./resizable\",\n\t\t\t\"../focusable\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../tabbable\",\n\t\t\t\"../unique-id\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.dialog\", {\n\tversion: \"1.12.1\",\n\toptions: {\n\t\tappendTo: \"body\",\n\t\tautoOpen: true,\n\t\tbuttons: [],\n\t\tclasses: {\n\t\t\t\"ui-dialog\": \"ui-corner-all\",\n\t\t\t\"ui-dialog-titlebar\": \"ui-corner-all\"\n\t\t},\n\t\tcloseOnEscape: true,\n\t\tcloseText: \"Close\",\n\t\tdraggable: true,\n\t\thide: null,\n\t\theight: \"auto\",\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 150,\n\t\tminWidth: 150,\n\t\tmodal: false,\n\t\tposition: {\n\t\t\tmy: \"center\",\n\t\t\tat: \"center\",\n\t\t\tof: window,\n\t\t\tcollision: \"fit\",\n\n\t\t\t// Ensure the titlebar is always visible\n\t\t\tusing: function( pos ) {\n\t\t\t\tvar topOffset = $( this ).css( pos ).offset().top;\n\t\t\t\tif ( topOffset < 0 ) {\n\t\t\t\t\t$( this ).css( \"top\", pos.top - topOffset );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresizable: true,\n\t\tshow: null,\n\t\ttitle: null,\n\t\twidth: 300,\n\n\t\t// Callbacks\n\t\tbeforeClose: null,\n\t\tclose: null,\n\t\tdrag: null,\n\t\tdragStart: null,\n\t\tdragStop: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresize: null,\n\t\tresizeStart: null,\n\t\tresizeStop: null\n\t},\n\n\tsizeRelatedOptions: {\n\t\tbuttons: true,\n\t\theight: true,\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true,\n\t\twidth: true\n\t},\n\n\tresizableRelatedOptions: {\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true\n\t},\n\n\t_create: function() {\n\t\tthis.originalCss = {\n\t\t\tdisplay: this.element[ 0 ].style.display,\n\t\t\twidth: this.element[ 0 ].style.width,\n\t\t\tminHeight: this.element[ 0 ].style.minHeight,\n\t\t\tmaxHeight: this.element[ 0 ].style.maxHeight,\n\t\t\theight: this.element[ 0 ].style.height\n\t\t};\n\t\tthis.originalPosition = {\n\t\t\tparent: this.element.parent(),\n\t\t\tindex: this.element.parent().children().index( this.element )\n\t\t};\n\t\tthis.originalTitle = this.element.attr( \"title\" );\n\t\tif ( this.options.title == null && this.originalTitle != null ) {\n\t\t\tthis.options.title = this.originalTitle;\n\t\t}\n\n\t\t// Dialogs can't be disabled\n\t\tif ( this.options.disabled ) {\n\t\t\tthis.options.disabled = false;\n\t\t}\n\n\t\tthis._createWrapper();\n\n\t\tthis.element\n\t\t\t.show()\n\t\t\t.removeAttr( \"title\" )\n\t\t\t.appendTo( this.uiDialog );\n\n\t\tthis._addClass( \"ui-dialog-content\", \"ui-widget-content\" );\n\n\t\tthis._createTitlebar();\n\t\tthis._createButtonPane();\n\n\t\tif ( this.options.draggable && $.fn.draggable ) {\n\t\t\tthis._makeDraggable();\n\t\t}\n\t\tif ( this.options.resizable && $.fn.resizable ) {\n\t\t\tthis._makeResizable();\n\t\t}\n\n\t\tthis._isOpen = false;\n\n\t\tthis._trackFocus();\n\t},\n\n\t_init: function() {\n\t\tif ( this.options.autoOpen ) {\n\t\t\tthis.open();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\t\tif ( element && ( element.jquery || element.nodeType ) ) {\n\t\t\treturn $( element );\n\t\t}\n\t\treturn this.document.find( element || \"body\" ).eq( 0 );\n\t},\n\n\t_destroy: function() {\n\t\tvar next,\n\t\t\toriginalPosition = this.originalPosition;\n\n\t\tthis._untrackInstance();\n\t\tthis._destroyOverlay();\n\n\t\tthis.element\n\t\t\t.removeUniqueId()\n\t\t\t.css( this.originalCss )\n\n\t\t\t// Without detaching first, the following becomes really slow\n\t\t\t.detach();\n\n\t\tthis.uiDialog.remove();\n\n\t\tif ( this.originalTitle ) {\n\t\t\tthis.element.attr( \"title\", this.originalTitle );\n\t\t}\n\n\t\tnext = originalPosition.parent.children().eq( originalPosition.index );\n\n\t\t// Don't try to place the dialog next to itself (#8613)\n\t\tif ( next.length && next[ 0 ] !== this.element[ 0 ] ) {\n\t\t\tnext.before( this.element );\n\t\t} else {\n\t\t\toriginalPosition.parent.append( this.element );\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.uiDialog;\n\t},\n\n\tdisable: $.noop,\n\tenable: $.noop,\n\n\tclose: function( event ) {\n\t\tvar that = this;\n\n\t\tif ( !this._isOpen || this._trigger( \"beforeClose\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = false;\n\t\tthis._focusedElement = null;\n\t\tthis._destroyOverlay();\n\t\tthis._untrackInstance();\n\n\t\tif ( !this.opener.filter( \":focusable\" ).trigger( \"focus\" ).length ) {\n\n\t\t\t// Hiding a focused element doesn't trigger blur in WebKit\n\t\t\t// so in case we have nothing to focus on, explicitly blur the active element\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=47182\n\t\t\t$.ui.safeBlur( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\t\t}\n\n\t\tthis._hide( this.uiDialog, this.options.hide, function() {\n\t\t\tthat._trigger( \"close\", event );\n\t\t} );\n\t},\n\n\tisOpen: function() {\n\t\treturn this._isOpen;\n\t},\n\n\tmoveToTop: function() {\n\t\tthis._moveToTop();\n\t},\n\n\t_moveToTop: function( event, silent ) {\n\t\tvar moved = false,\n\t\t\tzIndices = this.uiDialog.siblings( \".ui-front:visible\" ).map( function() {\n\t\t\t\treturn +$( this ).css( \"z-index\" );\n\t\t\t} ).get(),\n\t\t\tzIndexMax = Math.max.apply( null, zIndices );\n\n\t\tif ( zIndexMax >= +this.uiDialog.css( \"z-index\" ) ) {\n\t\t\tthis.uiDialog.css( \"z-index\", zIndexMax + 1 );\n\t\t\tmoved = true;\n\t\t}\n\n\t\tif ( moved && !silent ) {\n\t\t\tthis._trigger( \"focus\", event );\n\t\t}\n\t\treturn moved;\n\t},\n\n\topen: function() {\n\t\tvar that = this;\n\t\tif ( this._isOpen ) {\n\t\t\tif ( this._moveToTop() ) {\n\t\t\t\tthis._focusTabbable();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = true;\n\t\tthis.opener = $( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\n\t\tthis._size();\n\t\tthis._position();\n\t\tthis._createOverlay();\n\t\tthis._moveToTop( null, true );\n\n\t\t// Ensure the overlay is moved to the top with the dialog, but only when\n\t\t// opening. The overlay shouldn't move after the dialog is open so that\n\t\t// modeless dialogs opened after the modal dialog stack properly.\n\t\tif ( this.overlay ) {\n\t\t\tthis.overlay.css( \"z-index\", this.uiDialog.css( \"z-index\" ) - 1 );\n\t\t}\n\n\t\tthis._show( this.uiDialog, this.options.show, function() {\n\t\t\tthat._focusTabbable();\n\t\t\tthat._trigger( \"focus\" );\n\t\t} );\n\n\t\t// Track the dialog immediately upon openening in case a focus event\n\t\t// somehow occurs outside of the dialog before an element inside the\n\t\t// dialog is focused (#10152)\n\t\tthis._makeFocusTarget();\n\n\t\tthis._trigger( \"open\" );\n\t},\n\n\t_focusTabbable: function() {\n\n\t\t// Set focus to the first match:\n\t\t// 1. An element that was focused previously\n\t\t// 2. First element inside the dialog matching [autofocus]\n\t\t// 3. Tabbable element inside the content element\n\t\t// 4. Tabbable element inside the buttonpane\n\t\t// 5. The close button\n\t\t// 6. The dialog itself\n\t\tvar hasFocus = this._focusedElement;\n\t\tif ( !hasFocus ) {\n\t\t\thasFocus = this.element.find( \"[autofocus]\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.element.find( \":tabbable\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogButtonPane.find( \":tabbable\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogTitlebarClose.filter( \":tabbable\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialog;\n\t\t}\n\t\thasFocus.eq( 0 ).trigger( \"focus\" );\n\t},\n\n\t_keepFocus: function( event ) {\n\t\tfunction checkFocus() {\n\t\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\t\tisActive = this.uiDialog[ 0 ] === activeElement ||\n\t\t\t\t\t$.contains( this.uiDialog[ 0 ], activeElement );\n\t\t\tif ( !isActive ) {\n\t\t\t\tthis._focusTabbable();\n\t\t\t}\n\t\t}\n\t\tevent.preventDefault();\n\t\tcheckFocus.call( this );\n\n\t\t// support: IE\n\t\t// IE <= 8 doesn't prevent moving focus even with event.preventDefault()\n\t\t// so we check again later\n\t\tthis._delay( checkFocus );\n\t},\n\n\t_createWrapper: function() {\n\t\tthis.uiDialog = $( \"<div>\" )\n\t\t\t.hide()\n\t\t\t.attr( {\n\n\t\t\t\t// Setting tabIndex makes the div focusable\n\t\t\t\ttabIndex: -1,\n\t\t\t\trole: \"dialog\"\n\t\t\t} )\n\t\t\t.appendTo( this._appendTo() );\n\n\t\tthis._addClass( this.uiDialog, \"ui-dialog\", \"ui-widget ui-widget-content ui-front\" );\n\t\tthis._on( this.uiDialog, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\tif ( this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&\n\t\t\t\t\t\tevent.keyCode === $.ui.keyCode.ESCAPE ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.close( event );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Prevent tabbing out of dialogs\n\t\t\t\tif ( event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tabbables = this.uiDialog.find( \":tabbable\" ),\n\t\t\t\t\tfirst = tabbables.filter( \":first\" ),\n\t\t\t\t\tlast = tabbables.filter( \":last\" );\n\n\t\t\t\tif ( ( event.target === last[ 0 ] || event.target === this.uiDialog[ 0 ] ) &&\n\t\t\t\t\t\t!event.shiftKey ) {\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tfirst.trigger( \"focus\" );\n\t\t\t\t\t} );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if ( ( event.target === first[ 0 ] ||\n\t\t\t\t\t\tevent.target === this.uiDialog[ 0 ] ) && event.shiftKey ) {\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tlast.trigger( \"focus\" );\n\t\t\t\t\t} );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\tmousedown: function( event ) {\n\t\t\t\tif ( this._moveToTop( event ) ) {\n\t\t\t\t\tthis._focusTabbable();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// We assume that any existing aria-describedby attribute means\n\t\t// that the dialog content is marked up properly\n\t\t// otherwise we brute force the content as the description\n\t\tif ( !this.element.find( \"[aria-describedby]\" ).length ) {\n\t\t\tthis.uiDialog.attr( {\n\t\t\t\t\"aria-describedby\": this.element.uniqueId().attr( \"id\" )\n\t\t\t} );\n\t\t}\n\t},\n\n\t_createTitlebar: function() {\n\t\tvar uiDialogTitle;\n\n\t\tthis.uiDialogTitlebar = $( \"<div>\" );\n\t\tthis._addClass( this.uiDialogTitlebar,\n\t\t\t\"ui-dialog-titlebar\", \"ui-widget-header ui-helper-clearfix\" );\n\t\tthis._on( this.uiDialogTitlebar, {\n\t\t\tmousedown: function( event ) {\n\n\t\t\t\t// Don't prevent click on close button (#8838)\n\t\t\t\t// Focusing a dialog that is partially scrolled out of view\n\t\t\t\t// causes the browser to scroll it into view, preventing the click event\n\t\t\t\tif ( !$( event.target ).closest( \".ui-dialog-titlebar-close\" ) ) {\n\n\t\t\t\t\t// Dialog isn't getting focus when dragging (#8063)\n\t\t\t\t\tthis.uiDialog.trigger( \"focus\" );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Support: IE\n\t\t// Use type=\"button\" to prevent enter keypresses in textboxes from closing the\n\t\t// dialog in IE (#9312)\n\t\tthis.uiDialogTitlebarClose = $( \"<button type='button'></button>\" )\n\t\t\t.button( {\n\t\t\t\tlabel: $( \"<a>\" ).text( this.options.closeText ).html(),\n\t\t\t\ticon: \"ui-icon-closethick\",\n\t\t\t\tshowLabel: false\n\t\t\t} )\n\t\t\t.appendTo( this.uiDialogTitlebar );\n\n\t\tthis._addClass( this.uiDialogTitlebarClose, \"ui-dialog-titlebar-close\" );\n\t\tthis._on( this.uiDialogTitlebarClose, {\n\t\t\tclick: function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.close( event );\n\t\t\t}\n\t\t} );\n\n\t\tuiDialogTitle = $( \"<span>\" ).uniqueId().prependTo( this.uiDialogTitlebar );\n\t\tthis._addClass( uiDialogTitle, \"ui-dialog-title\" );\n\t\tthis._title( uiDialogTitle );\n\n\t\tthis.uiDialogTitlebar.prependTo( this.uiDialog );\n\n\t\tthis.uiDialog.attr( {\n\t\t\t\"aria-labelledby\": uiDialogTitle.attr( \"id\" )\n\t\t} );\n\t},\n\n\t_title: function( title ) {\n\t\tif ( this.options.title ) {\n\t\t\ttitle.text( this.options.title );\n\t\t} else {\n\t\t\ttitle.html( \"&#160;\" );\n\t\t}\n\t},\n\n\t_createButtonPane: function() {\n\t\tthis.uiDialogButtonPane = $( \"<div>\" );\n\t\tthis._addClass( this.uiDialogButtonPane, \"ui-dialog-buttonpane\",\n\t\t\t\"ui-widget-content ui-helper-clearfix\" );\n\n\t\tthis.uiButtonSet = $( \"<div>\" )\n\t\t\t.appendTo( this.uiDialogButtonPane );\n\t\tthis._addClass( this.uiButtonSet, \"ui-dialog-buttonset\" );\n\n\t\tthis._createButtons();\n\t},\n\n\t_createButtons: function() {\n\t\tvar that = this,\n\t\t\tbuttons = this.options.buttons;\n\n\t\t// If we already have a button pane, remove it\n\t\tthis.uiDialogButtonPane.remove();\n\t\tthis.uiButtonSet.empty();\n\n\t\tif ( $.isEmptyObject( buttons ) || ( $.isArray( buttons ) && !buttons.length ) ) {\n\t\t\tthis._removeClass( this.uiDialog, \"ui-dialog-buttons\" );\n\t\t\treturn;\n\t\t}\n\n\t\t$.each( buttons, function( name, props ) {\n\t\t\tvar click, buttonOptions;\n\t\t\tprops = $.isFunction( props ) ?\n\t\t\t\t{ click: props, text: name } :\n\t\t\t\tprops;\n\n\t\t\t// Default to a non-submitting button\n\t\t\tprops = $.extend( { type: \"button\" }, props );\n\n\t\t\t// Change the context for the click callback to be the main element\n\t\t\tclick = props.click;\n\t\t\tbuttonOptions = {\n\t\t\t\ticon: props.icon,\n\t\t\t\ticonPosition: props.iconPosition,\n\t\t\t\tshowLabel: props.showLabel,\n\n\t\t\t\t// Deprecated options\n\t\t\t\ticons: props.icons,\n\t\t\t\ttext: props.text\n\t\t\t};\n\n\t\t\tdelete props.click;\n\t\t\tdelete props.icon;\n\t\t\tdelete props.iconPosition;\n\t\t\tdelete props.showLabel;\n\n\t\t\t// Deprecated options\n\t\t\tdelete props.icons;\n\t\t\tif ( typeof props.text === \"boolean\" ) {\n\t\t\t\tdelete props.text;\n\t\t\t}\n\n\t\t\t$( \"<button></button>\", props )\n\t\t\t\t.button( buttonOptions )\n\t\t\t\t.appendTo( that.uiButtonSet )\n\t\t\t\t.on( \"click\", function() {\n\t\t\t\t\tclick.apply( that.element[ 0 ], arguments );\n\t\t\t\t} );\n\t\t} );\n\t\tthis._addClass( this.uiDialog, \"ui-dialog-buttons\" );\n\t\tthis.uiDialogButtonPane.appendTo( this.uiDialog );\n\t},\n\n\t_makeDraggable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\tposition: ui.position,\n\t\t\t\toffset: ui.offset\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.draggable( {\n\t\t\tcancel: \".ui-dialog-content, .ui-dialog-titlebar-close\",\n\t\t\thandle: \".ui-dialog-titlebar\",\n\t\t\tcontainment: \"document\",\n\t\t\tstart: function( event, ui ) {\n\t\t\t\tthat._addClass( $( this ), \"ui-dialog-dragging\" );\n\t\t\t\tthat._blockFrames();\n\t\t\t\tthat._trigger( \"dragStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tdrag: function( event, ui ) {\n\t\t\t\tthat._trigger( \"drag\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\tvar left = ui.offset.left - that.document.scrollLeft(),\n\t\t\t\t\ttop = ui.offset.top - that.document.scrollTop();\n\n\t\t\t\toptions.position = {\n\t\t\t\t\tmy: \"left top\",\n\t\t\t\t\tat: \"left\" + ( left >= 0 ? \"+\" : \"\" ) + left + \" \" +\n\t\t\t\t\t\t\"top\" + ( top >= 0 ? \"+\" : \"\" ) + top,\n\t\t\t\t\tof: that.window\n\t\t\t\t};\n\t\t\t\tthat._removeClass( $( this ), \"ui-dialog-dragging\" );\n\t\t\t\tthat._unblockFrames();\n\t\t\t\tthat._trigger( \"dragStop\", event, filteredUi( ui ) );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_makeResizable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\thandles = options.resizable,\n\n\t\t\t// .ui-resizable has position: relative defined in the stylesheet\n\t\t\t// but dialogs have to use absolute or fixed positioning\n\t\t\tposition = this.uiDialog.css( \"position\" ),\n\t\t\tresizeHandles = typeof handles === \"string\" ?\n\t\t\t\thandles :\n\t\t\t\t\"n,e,s,w,se,sw,ne,nw\";\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\toriginalPosition: ui.originalPosition,\n\t\t\t\toriginalSize: ui.originalSize,\n\t\t\t\tposition: ui.position,\n\t\t\t\tsize: ui.size\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.resizable( {\n\t\t\tcancel: \".ui-dialog-content\",\n\t\t\tcontainment: \"document\",\n\t\t\talsoResize: this.element,\n\t\t\tmaxWidth: options.maxWidth,\n\t\t\tmaxHeight: options.maxHeight,\n\t\t\tminWidth: options.minWidth,\n\t\t\tminHeight: this._minHeight(),\n\t\t\thandles: resizeHandles,\n\t\t\tstart: function( event, ui ) {\n\t\t\t\tthat._addClass( $( this ), \"ui-dialog-resizing\" );\n\t\t\t\tthat._blockFrames();\n\t\t\t\tthat._trigger( \"resizeStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tresize: function( event, ui ) {\n\t\t\t\tthat._trigger( \"resize\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\tvar offset = that.uiDialog.offset(),\n\t\t\t\t\tleft = offset.left - that.document.scrollLeft(),\n\t\t\t\t\ttop = offset.top - that.document.scrollTop();\n\n\t\t\t\toptions.height = that.uiDialog.height();\n\t\t\t\toptions.width = that.uiDialog.width();\n\t\t\t\toptions.position = {\n\t\t\t\t\tmy: \"left top\",\n\t\t\t\t\tat: \"left\" + ( left >= 0 ? \"+\" : \"\" ) + left + \" \" +\n\t\t\t\t\t\t\"top\" + ( top >= 0 ? \"+\" : \"\" ) + top,\n\t\t\t\t\tof: that.window\n\t\t\t\t};\n\t\t\t\tthat._removeClass( $( this ), \"ui-dialog-resizing\" );\n\t\t\t\tthat._unblockFrames();\n\t\t\t\tthat._trigger( \"resizeStop\", event, filteredUi( ui ) );\n\t\t\t}\n\t\t} )\n\t\t\t.css( \"position\", position );\n\t},\n\n\t_trackFocus: function() {\n\t\tthis._on( this.widget(), {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._makeFocusTarget();\n\t\t\t\tthis._focusedElement = $( event.target );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_makeFocusTarget: function() {\n\t\tthis._untrackInstance();\n\t\tthis._trackingInstances().unshift( this );\n\t},\n\n\t_untrackInstance: function() {\n\t\tvar instances = this._trackingInstances(),\n\t\t\texists = $.inArray( this, instances );\n\t\tif ( exists !== -1 ) {\n\t\t\tinstances.splice( exists, 1 );\n\t\t}\n\t},\n\n\t_trackingInstances: function() {\n\t\tvar instances = this.document.data( \"ui-dialog-instances\" );\n\t\tif ( !instances ) {\n\t\t\tinstances = [];\n\t\t\tthis.document.data( \"ui-dialog-instances\", instances );\n\t\t}\n\t\treturn instances;\n\t},\n\n\t_minHeight: function() {\n\t\tvar options = this.options;\n\n\t\treturn options.height === \"auto\" ?\n\t\t\toptions.minHeight :\n\t\t\tMath.min( options.minHeight, options.height );\n\t},\n\n\t_position: function() {\n\n\t\t// Need to show the dialog to get the actual offset in the position plugin\n\t\tvar isVisible = this.uiDialog.is( \":visible\" );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.show();\n\t\t}\n\t\tthis.uiDialog.position( this.options.position );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.hide();\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar that = this,\n\t\t\tresize = false,\n\t\t\tresizableOptions = {};\n\n\t\t$.each( options, function( key, value ) {\n\t\t\tthat._setOption( key, value );\n\n\t\t\tif ( key in that.sizeRelatedOptions ) {\n\t\t\t\tresize = true;\n\t\t\t}\n\t\t\tif ( key in that.resizableRelatedOptions ) {\n\t\t\t\tresizableOptions[ key ] = value;\n\t\t\t}\n\t\t} );\n\n\t\tif ( resize ) {\n\t\t\tthis._size();\n\t\t\tthis._position();\n\t\t}\n\t\tif ( this.uiDialog.is( \":data(ui-resizable)\" ) ) {\n\t\t\tthis.uiDialog.resizable( \"option\", resizableOptions );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar isDraggable, isResizable,\n\t\t\tuiDialog = this.uiDialog;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.uiDialog.appendTo( this._appendTo() );\n\t\t}\n\n\t\tif ( key === \"buttons\" ) {\n\t\t\tthis._createButtons();\n\t\t}\n\n\t\tif ( key === \"closeText\" ) {\n\t\t\tthis.uiDialogTitlebarClose.button( {\n\n\t\t\t\t// Ensure that we always pass a string\n\t\t\t\tlabel: $( \"<a>\" ).text( \"\" + this.options.closeText ).html()\n\t\t\t} );\n\t\t}\n\n\t\tif ( key === \"draggable\" ) {\n\t\t\tisDraggable = uiDialog.is( \":data(ui-draggable)\" );\n\t\t\tif ( isDraggable && !value ) {\n\t\t\t\tuiDialog.draggable( \"destroy\" );\n\t\t\t}\n\n\t\t\tif ( !isDraggable && value ) {\n\t\t\t\tthis._makeDraggable();\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"position\" ) {\n\t\t\tthis._position();\n\t\t}\n\n\t\tif ( key === \"resizable\" ) {\n\n\t\t\t// currently resizable, becoming non-resizable\n\t\t\tisResizable = uiDialog.is( \":data(ui-resizable)\" );\n\t\t\tif ( isResizable && !value ) {\n\t\t\t\tuiDialog.resizable( \"destroy\" );\n\t\t\t}\n\n\t\t\t// Currently resizable, changing handles\n\t\t\tif ( isResizable && typeof value === \"string\" ) {\n\t\t\t\tuiDialog.resizable( \"option\", \"handles\", value );\n\t\t\t}\n\n\t\t\t// Currently non-resizable, becoming resizable\n\t\t\tif ( !isResizable && value !== false ) {\n\t\t\t\tthis._makeResizable();\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"title\" ) {\n\t\t\tthis._title( this.uiDialogTitlebar.find( \".ui-dialog-title\" ) );\n\t\t}\n\t},\n\n\t_size: function() {\n\n\t\t// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content\n\t\t// divs will both have width and height set, so we need to reset them\n\t\tvar nonContentHeight, minContentHeight, maxContentHeight,\n\t\t\toptions = this.options;\n\n\t\t// Reset content sizing\n\t\tthis.element.show().css( {\n\t\t\twidth: \"auto\",\n\t\t\tminHeight: 0,\n\t\t\tmaxHeight: \"none\",\n\t\t\theight: 0\n\t\t} );\n\n\t\tif ( options.minWidth > options.width ) {\n\t\t\toptions.width = options.minWidth;\n\t\t}\n\n\t\t// Reset wrapper sizing\n\t\t// determine the height of all the non-content elements\n\t\tnonContentHeight = this.uiDialog.css( {\n\t\t\theight: \"auto\",\n\t\t\twidth: options.width\n\t\t} )\n\t\t\t.outerHeight();\n\t\tminContentHeight = Math.max( 0, options.minHeight - nonContentHeight );\n\t\tmaxContentHeight = typeof options.maxHeight === \"number\" ?\n\t\t\tMath.max( 0, options.maxHeight - nonContentHeight ) :\n\t\t\t\"none\";\n\n\t\tif ( options.height === \"auto\" ) {\n\t\t\tthis.element.css( {\n\t\t\t\tminHeight: minContentHeight,\n\t\t\t\tmaxHeight: maxContentHeight,\n\t\t\t\theight: \"auto\"\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.element.height( Math.max( 0, options.height - nonContentHeight ) );\n\t\t}\n\n\t\tif ( this.uiDialog.is( \":data(ui-resizable)\" ) ) {\n\t\t\tthis.uiDialog.resizable( \"option\", \"minHeight\", this._minHeight() );\n\t\t}\n\t},\n\n\t_blockFrames: function() {\n\t\tthis.iframeBlocks = this.document.find( \"iframe\" ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( {\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\twidth: iframe.outerWidth(),\n\t\t\t\t\theight: iframe.outerHeight()\n\t\t\t\t} )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_allowInteraction: function( event ) {\n\t\tif ( $( event.target ).closest( \".ui-dialog\" ).length ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: Remove hack when datepicker implements\n\t\t// the .ui-front logic (#8989)\n\t\treturn !!$( event.target ).closest( \".ui-datepicker\" ).length;\n\t},\n\n\t_createOverlay: function() {\n\t\tif ( !this.options.modal ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We use a delay in case the overlay is created from an\n\t\t// event that we're going to be cancelling (#2804)\n\t\tvar isOpening = true;\n\t\tthis._delay( function() {\n\t\t\tisOpening = false;\n\t\t} );\n\n\t\tif ( !this.document.data( \"ui-dialog-overlays\" ) ) {\n\n\t\t\t// Prevent use of anchors and inputs\n\t\t\t// Using _on() for an event handler shared across many instances is\n\t\t\t// safe because the dialogs stack and must be closed in reverse order\n\t\t\tthis._on( this.document, {\n\t\t\t\tfocusin: function( event ) {\n\t\t\t\t\tif ( isOpening ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !this._allowInteraction( event ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis._trackingInstances()[ 0 ]._focusTabbable();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tthis.overlay = $( \"<div>\" )\n\t\t\t.appendTo( this._appendTo() );\n\n\t\tthis._addClass( this.overlay, null, \"ui-widget-overlay ui-front\" );\n\t\tthis._on( this.overlay, {\n\t\t\tmousedown: \"_keepFocus\"\n\t\t} );\n\t\tthis.document.data( \"ui-dialog-overlays\",\n\t\t\t( this.document.data( \"ui-dialog-overlays\" ) || 0 ) + 1 );\n\t},\n\n\t_destroyOverlay: function() {\n\t\tif ( !this.options.modal ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.overlay ) {\n\t\t\tvar overlays = this.document.data( \"ui-dialog-overlays\" ) - 1;\n\n\t\t\tif ( !overlays ) {\n\t\t\t\tthis._off( this.document, \"focusin\" );\n\t\t\t\tthis.document.removeData( \"ui-dialog-overlays\" );\n\t\t\t} else {\n\t\t\t\tthis.document.data( \"ui-dialog-overlays\", overlays );\n\t\t\t}\n\n\t\t\tthis.overlay.remove();\n\t\t\tthis.overlay = null;\n\t\t}\n\t}\n} );\n\n// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif ( $.uiBackCompat !== false ) {\n\n\t// Backcompat for dialogClass option\n\t$.widget( \"ui.dialog\", $.ui.dialog, {\n\t\toptions: {\n\t\t\tdialogClass: \"\"\n\t\t},\n\t\t_createWrapper: function() {\n\t\t\tthis._super();\n\t\t\tthis.uiDialog.addClass( this.options.dialogClass );\n\t\t},\n\t\t_setOption: function( key, value ) {\n\t\t\tif ( key === \"dialogClass\" ) {\n\t\t\t\tthis.uiDialog\n\t\t\t\t\t.removeClass( this.options.dialogClass )\n\t\t\t\t\t.addClass( value );\n\t\t\t}\n\t\t\tthis._superApply( arguments );\n\t\t}\n\t} );\n}\n\nreturn $.ui.dialog;\n\n} ) );\n","/*!\n * jQuery UI Draggable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../plugin\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// Callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif ( this.options.helper === \"original\" ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\t\tif ( this.options.addClasses ) {\n\t\t\tthis._addClass( \"ui-draggable\" );\n\t\t}\n\t\tthis._setHandleClassName();\n\n\t\tthis._mouseInit();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._removeHandleClassName();\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis.destroyOnClear = true;\n\t\t\treturn;\n\t\t}\n\t\tthis._removeHandleClassName();\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options;\n\n\t\t// Among others, prevent a drag on a resizable-handle\n\t\tif ( this.helper || o.disabled ||\n\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle( event );\n\t\tif ( !this.handle ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._blurActiveElement( event );\n\n\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\n\n\t\treturn true;\n\n\t},\n\n\t_blockFrames: function( selector ) {\n\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.outerWidth( iframe.outerWidth() )\n\t\t\t\t.outerHeight( iframe.outerHeight() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_blurActiveElement: function( event ) {\n\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\ttarget = $( event.target );\n\n\t\t// Don't blur if the event occurred on an element that is within\n\t\t// the currently focused element\n\t\t// See #10527, #12472\n\t\tif ( target.closest( activeElement ).length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Blur any element that currently has focus, see #4261\n\t\t$.ui.safeBlur( activeElement );\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent( true );\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\n\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\n\t\t\t} ).length > 0;\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.positionAbs = this.element.offset();\n\t\tthis._refreshOffsets( event );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif ( this._trigger( \"start\", event ) === false ) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\t// Execute the drag once - this causes the helper not to be visible before getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event, true );\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart( this, event );\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_refreshOffsets: function( event ) {\n\t\tthis.offset = {\n\t\t\ttop: this.positionAbs.top - this.margins.top,\n\t\t\tleft: this.positionAbs.left - this.margins.left,\n\t\t\tscroll: false,\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset()\n\t\t};\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - this.offset.left,\n\t\t\ttop: event.pageY - this.offset.top\n\t\t};\n\t},\n\n\t_mouseDrag: function( event, noPropagation ) {\n\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.hasFixedAncestor ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event, true );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif ( !noPropagation ) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\n\t\t\t\tthis._mouseUp( new $.Event( \"mouseup\", event ) );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\tdropped = $.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif ( this.dropped ) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\n\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\n\t\t\t\tthis.options.revert === true || ( $.isFunction( this.options.revert ) &&\n\t\t\t\tthis.options.revert.call( this.element, dropped ) )\n\t\t) {\n\t\t\t$( this.helper ).animate(\n\t\t\t\tthis.originalPosition,\n\t\t\t\tparseInt( this.options.revertDuration, 10 ),\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\n\t\t\t\t\t\tthat._clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis._unblockFrames();\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop( this, event );\n\t\t}\n\n\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\n\t\tif ( this.handleElement.is( event.target ) ) {\n\n\t\t\t// The interaction is over; whether or not the click resulted in a drag,\n\t\t\t// focus the element\n\t\t\tthis.element.trigger( \"focus\" );\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call( this, event );\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: this.element[ 0 ] } ) );\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function( event ) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_setHandleClassName: function() {\n\t\tthis.handleElement = this.options.handle ?\n\t\t\tthis.element.find( this.options.handle ) : this.element;\n\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_removeHandleClassName: function() {\n\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelperIsFunction = $.isFunction( o.helper ),\n\t\t\thelper = helperIsFunction ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ?\n\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\n\t\t\t\t\tthis.element );\n\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\n\t\t\t\tthis.element[ 0 ].parentNode :\n\t\t\t\to.appendTo ) );\n\t\t}\n\n\t\t// Http://bugs.jqueryui.com/ticket/9446\n\t\t// a helper function can return the original element\n\t\t// which wouldn't have been set to relative in _create\n\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\n\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\n\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\n\t\t\thelper.css( \"position\", \"absolute\" );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_setPositionRelative: function() {\n\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\n\t\t\tthis.element[ 0 ].style.position = \"relative\";\n\t\t}\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_isRootNode: function( element ) {\n\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset(),\n\t\t\tdocument = this.document[ 0 ];\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\t\tif ( this.cssPosition !== \"relative\" ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\tvar p = this.element.position(),\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\n\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\n\t\t};\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\n\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\n\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar isUserScrollable, c, ce,\n\t\t\to = this.options,\n\t\t\tdocument = this.document[ 0 ];\n\n\t\tthis.relativeContainer = null;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() +\n\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\n\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.width -\n\t\t\t\tthis.margins.left -\n\t\t\t\tthis.margins.right,\n\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.height -\n\t\t\t\tthis.margins.top -\n\t\t\t\tthis.margins.bottom\n\t\t];\n\t\tthis.relativeContainer = c;\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event, constrainPosition ) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t// Cache the scroll\n\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\ttop: this.scrollParent.scrollTop(),\n\t\t\t\tleft: this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( constrainPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relativeContainer ) {\n\t\t\t\t\tco = this.relativeContainer.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\n\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\n\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\n\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\n\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n\t\t\t\t// argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\n\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\n\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\n\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\n\t\t\t\t\t\ttop :\n\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\n\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\n\n\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\n\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\n\t\t\t\t\tthis.originalPageX;\n\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\n\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\n\t\t\t\t\t\tleft :\n\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\n\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"y\" ) {\n\t\t\t\tpageX = this.originalPageX;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"x\" ) {\n\t\t\t\tpageY = this.originalPageY;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\n\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t\tif ( this.destroyOnClear ) {\n\t\t\tthis.destroy();\n\t\t}\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function( type, event, ui ) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call( this, type, [ event, ui, this ], true );\n\n\t\t// Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\t\tif ( /^(drag|start|stop)/.test( type ) ) {\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\t\t\tui.offset = this.positionAbs;\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call( this, type, event, ui );\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n} );\n\n$.ui.plugin.add( \"draggable\", \"connectToSortable\", {\n\tstart: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.sortables = [];\n\t\t$( draggable.options.connectToSortable ).each( function() {\n\t\t\tvar sortable = $( this ).sortable( \"instance\" );\n\n\t\t\tif ( sortable && !sortable.options.disabled ) {\n\t\t\t\tdraggable.sortables.push( sortable );\n\n\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\n\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\n\t\t\t\t// with any changes that might have happened on the page since initialization.\n\t\t\t\tsortable.refreshPositions();\n\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tstop: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.cancelHelperRemoval = false;\n\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar sortable = this;\n\n\t\t\tif ( sortable.isOver ) {\n\t\t\t\tsortable.isOver = 0;\n\n\t\t\t\t// Allow this sortable to handle removing the helper\n\t\t\t\tdraggable.cancelHelperRemoval = true;\n\t\t\t\tsortable.cancelHelperRemoval = false;\n\n\t\t\t\t// Use _storedCSS To restore properties in the sortable,\n\t\t\t\t// as this also handles revert (#9675) since the draggable\n\t\t\t\t// may have modified them in unexpected ways (#8809)\n\t\t\t\tsortable._storedCSS = {\n\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\n\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\n\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\n\t\t\t\t};\n\n\t\t\t\tsortable._mouseStop( event );\n\n\t\t\t\t// Once drag has ended, the sortable should return to using\n\t\t\t\t// its original helper, not the shared helper from draggable\n\t\t\t\tsortable.options.helper = sortable.options._helper;\n\t\t\t} else {\n\n\t\t\t\t// Prevent this Sortable from removing the helper.\n\t\t\t\t// However, don't set the draggable to remove the helper\n\t\t\t\t// either as another connected Sortable may yet handle the removal.\n\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( event, ui, draggable ) {\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tsortable = this;\n\n\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\tsortable.positionAbs = draggable.positionAbs;\n\t\t\tsortable.helperProportions = draggable.helperProportions;\n\t\t\tsortable.offset.click = draggable.offset.click;\n\n\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\n\t\t\t\tinnermostIntersecting = true;\n\n\t\t\t\t$.each( draggable.sortables, function() {\n\n\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\n\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\n\t\t\t\t\tthis.offset.click = draggable.offset.click;\n\n\t\t\t\t\tif ( this !== sortable &&\n\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\n\t\t\t\t\t\t\t$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( innermostIntersecting ) {\n\n\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\n\t\t\t\t// so that the move-in stuff gets fired only once.\n\t\t\t\tif ( !sortable.isOver ) {\n\t\t\t\t\tsortable.isOver = 1;\n\n\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\n\t\t\t\t\tdraggable._parent = ui.helper.parent();\n\n\t\t\t\t\tsortable.currentItem = ui.helper\n\t\t\t\t\t\t.appendTo( sortable.element )\n\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\n\n\t\t\t\t\t// Store helper option to later restore it\n\t\t\t\t\tsortable.options._helper = sortable.options.helper;\n\n\t\t\t\t\tsortable.options.helper = function() {\n\t\t\t\t\t\treturn ui.helper[ 0 ];\n\t\t\t\t\t};\n\n\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\n\t\t\t\t\t// and our own helper (so it doesn't create a new one)\n\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\n\t\t\t\t\tsortable._mouseCapture( event, true );\n\t\t\t\t\tsortable._mouseStart( event, true, true );\n\n\t\t\t\t\t// Because the browser event is way off the new appended portlet,\n\t\t\t\t\t// modify necessary variables to reflect the changes\n\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\n\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\n\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\n\t\t\t\t\t\tsortable.offset.parent.left;\n\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\n\t\t\t\t\t\tsortable.offset.parent.top;\n\n\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\n\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\n\t\t\t\t\tdraggable.dropped = sortable.element;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\n\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\n\t\t\t\t\tdraggable.currentItem = draggable.element;\n\t\t\t\t\tsortable.fromOutside = draggable;\n\t\t\t\t}\n\n\t\t\t\tif ( sortable.currentItem ) {\n\t\t\t\t\tsortable._mouseDrag( event );\n\n\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\n\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\n\t\t\t\t\t// element has now become. (#8809)\n\t\t\t\t\tui.position = sortable.position;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\n\t\t\t\t// the helper by using cancelHelperRemoval.\n\t\t\t\tif ( sortable.isOver ) {\n\n\t\t\t\t\tsortable.isOver = 0;\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\n\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\n\t\t\t\t\tsortable.options._revert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\n\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\n\t\t\t\t\tsortable._mouseStop( event, true );\n\n\t\t\t\t\t// Restore sortable behaviors that were modfied\n\t\t\t\t\t// when the draggable entered the sortable area (#9481)\n\t\t\t\t\tsortable.options.revert = sortable.options._revert;\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\n\n\t\t\t\t\tif ( sortable.placeholder ) {\n\t\t\t\t\t\tsortable.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\n\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\n\t\t\t\t\tui.helper.appendTo( draggable._parent );\n\t\t\t\t\tdraggable._refreshOffsets( event );\n\t\t\t\t\tui.position = draggable._generatePosition( event, true );\n\n\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\n\t\t\t\t\tdraggable.dropped = false;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\n\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"cursor\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( \"body\" ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"cursor\" ) ) {\n\t\t\to._cursor = t.css( \"cursor\" );\n\t\t}\n\t\tt.css( \"cursor\", o.cursor );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._cursor ) {\n\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"opacity\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\t\tif ( t.css( \"opacity\" ) ) {\n\t\t\to._opacity = t.css( \"opacity\" );\n\t\t}\n\t\tt.css( \"opacity\", o.opacity );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._opacity ) {\n\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"scroll\", {\n\tstart: function( event, ui, i ) {\n\t\tif ( !i.scrollParentNotHidden ) {\n\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\n\t\t}\n\n\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\n\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\n\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\n\t\t}\n\t},\n\tdrag: function( event, ui, i  ) {\n\n\t\tvar o = i.options,\n\t\t\tscrolled = false,\n\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\n\t\t\tdocument = i.document[ 0 ];\n\n\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( i, event );\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"snap\", {\n\tstart: function( event, ui, i ) {\n\n\t\tvar o = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\n\t\t\t.each( function() {\n\t\t\t\tvar $t = $( this ),\n\t\t\t\t\t$o = $t.offset();\n\t\t\t\tif ( this !== i.element[ 0 ] ) {\n\t\t\t\t\ti.snapElements.push( {\n\t\t\t\t\t\titem: this,\n\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t},\n\tdrag: function( event, ui, inst ) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\n\n\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\n\t\t\tr = l + inst.snapElements[ i ].width;\n\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\n\t\t\tb = t + inst.snapElements[ i ].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\n\t\t\t\t\t!$.contains( inst.snapElements[ i ].item.ownerDocument,\n\t\t\t\t\tinst.snapElements[ i ].item ) ) {\n\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\n\t\t\t\t\t( inst.options.snap.release &&\n\t\t\t\t\t\tinst.options.snap.release.call(\n\t\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t$.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\n\t\t\t\t\t\t) );\n\t\t\t\t}\n\t\t\t\tinst.snapElements[ i ].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( o.snapMode !== \"inner\" ) {\n\t\t\t\tts = Math.abs( t - y2 ) <= d;\n\t\t\t\tbs = Math.abs( b - y1 ) <= d;\n\t\t\t\tls = Math.abs( l - x2 ) <= d;\n\t\t\t\trs = Math.abs( r - x1 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = ( ts || bs || ls || rs );\n\n\t\t\tif ( o.snapMode !== \"outer\" ) {\n\t\t\t\tts = Math.abs( t - y1 ) <= d;\n\t\t\t\tbs = Math.abs( b - y2 ) <= d;\n\t\t\t\tls = Math.abs( l - x1 ) <= d;\n\t\t\t\trs = Math.abs( r - x2 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\n\t\t\t\t( inst.options.snap.snap &&\n\t\t\t\t\tinst.options.snap.snap.call(\n\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\t$.extend( inst._uiHash(), {\n\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\n\t\t\t\t\t\t} ) ) );\n\t\t\t}\n\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\n\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"stack\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar min,\n\t\t\to = instance.options,\n\t\t\tgroup = $.makeArray( $( o.stack ) ).sort( function( a, b ) {\n\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\n\t\t\t} );\n\n\t\tif ( !group.length ) { return; }\n\n\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\n\t\t$( group ).each( function( i ) {\n\t\t\t$( this ).css( \"zIndex\", min + i );\n\t\t} );\n\t\tthis.css( \"zIndex\", ( min + group.length ) );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"zIndex\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"zIndex\" ) ) {\n\t\t\to._zIndex = t.css( \"zIndex\" );\n\t\t}\n\t\tt.css( \"zIndex\", o.zIndex );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\n\t\tif ( o._zIndex ) {\n\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\n\t\t}\n\t}\n} );\n\nreturn $.ui.draggable;\n\n} ) );\n","/*!\n * jQuery UI Menu 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Menu\n//>>group: Widgets\n//>>description: Creates nestable menus.\n//>>docs: http://api.jqueryui.com/menu/\n//>>demos: http://jqueryui.com/menu/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/menu.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../unique-id\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nreturn $.widget( \"ui.menu\", {\n\tversion: \"1.12.1\",\n\tdefaultElement: \"<ul>\",\n\tdelay: 300,\n\toptions: {\n\t\ticons: {\n\t\t\tsubmenu: \"ui-icon-caret-1-e\"\n\t\t},\n\t\titems: \"> *\",\n\t\tmenus: \"ul\",\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"right top\"\n\t\t},\n\t\trole: \"menu\",\n\n\t\t// Callbacks\n\t\tblur: null,\n\t\tfocus: null,\n\t\tselect: null\n\t},\n\n\t_create: function() {\n\t\tthis.activeMenu = this.element;\n\n\t\t// Flag used to prevent firing of the click handler\n\t\t// as the event bubbles up through nested menus\n\t\tthis.mouseHandled = false;\n\t\tthis.element\n\t\t\t.uniqueId()\n\t\t\t.attr( {\n\t\t\t\trole: this.options.role,\n\t\t\t\ttabIndex: 0\n\t\t\t} );\n\n\t\tthis._addClass( \"ui-menu\", \"ui-widget ui-widget-content\" );\n\t\tthis._on( {\n\n\t\t\t// Prevent focus from sticking to links inside menu after clicking\n\t\t\t// them (focus should always stay on UL during navigation).\n\t\t\t\"mousedown .ui-menu-item\": function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\t\t\"click .ui-menu-item\": function( event ) {\n\t\t\t\tvar target = $( event.target );\n\t\t\t\tvar active = $( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\t\t\t\tif ( !this.mouseHandled && target.not( \".ui-state-disabled\" ).length ) {\n\t\t\t\t\tthis.select( event );\n\n\t\t\t\t\t// Only set the mouseHandled flag if the event will bubble, see #9469.\n\t\t\t\t\tif ( !event.isPropagationStopped() ) {\n\t\t\t\t\t\tthis.mouseHandled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Open submenu on click\n\t\t\t\t\tif ( target.has( \".ui-menu\" ).length ) {\n\t\t\t\t\t\tthis.expand( event );\n\t\t\t\t\t} else if ( !this.element.is( \":focus\" ) &&\n\t\t\t\t\t\t\tactive.closest( \".ui-menu\" ).length ) {\n\n\t\t\t\t\t\t// Redirect focus to the menu\n\t\t\t\t\t\tthis.element.trigger( \"focus\", [ true ] );\n\n\t\t\t\t\t\t// If the active item is on the top level, let it stay active.\n\t\t\t\t\t\t// Otherwise, blur the active item since it is no longer visible.\n\t\t\t\t\t\tif ( this.active && this.active.parents( \".ui-menu\" ).length === 1 ) {\n\t\t\t\t\t\t\tclearTimeout( this.timer );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"mouseenter .ui-menu-item\": function( event ) {\n\n\t\t\t\t// Ignore mouse events while typeahead is active, see #10458.\n\t\t\t\t// Prevents focusing the wrong item when typeahead causes a scroll while the mouse\n\t\t\t\t// is over an item in the menu\n\t\t\t\tif ( this.previousFilter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar actualTarget = $( event.target ).closest( \".ui-menu-item\" ),\n\t\t\t\t\ttarget = $( event.currentTarget );\n\n\t\t\t\t// Ignore bubbled events on parent items, see #11641\n\t\t\t\tif ( actualTarget[ 0 ] !== target[ 0 ] ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Remove ui-state-active class from siblings of the newly focused menu item\n\t\t\t\t// to avoid a jump caused by adjacent elements both having a class with a border\n\t\t\t\tthis._removeClass( target.siblings().children( \".ui-state-active\" ),\n\t\t\t\t\tnull, \"ui-state-active\" );\n\t\t\t\tthis.focus( event, target );\n\t\t\t},\n\t\t\tmouseleave: \"collapseAll\",\n\t\t\t\"mouseleave .ui-menu\": \"collapseAll\",\n\t\t\tfocus: function( event, keepActiveItem ) {\n\n\t\t\t\t// If there's already an active item, keep it active\n\t\t\t\t// If not, activate the first item\n\t\t\t\tvar item = this.active || this.element.find( this.options.items ).eq( 0 );\n\n\t\t\t\tif ( !keepActiveItem ) {\n\t\t\t\t\tthis.focus( event, item );\n\t\t\t\t}\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tthis._delay( function() {\n\t\t\t\t\tvar notContained = !$.contains(\n\t\t\t\t\t\tthis.element[ 0 ],\n\t\t\t\t\t\t$.ui.safeActiveElement( this.document[ 0 ] )\n\t\t\t\t\t);\n\t\t\t\t\tif ( notContained ) {\n\t\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t\tkeydown: \"_keydown\"\n\t\t} );\n\n\t\tthis.refresh();\n\n\t\t// Clicks outside of a menu collapse any open menus\n\t\tthis._on( this.document, {\n\t\t\tclick: function( event ) {\n\t\t\t\tif ( this._closeOnDocumentClick( event ) ) {\n\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t}\n\n\t\t\t\t// Reset the mouseHandled flag\n\t\t\t\tthis.mouseHandled = false;\n\t\t\t}\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tvar items = this.element.find( \".ui-menu-item\" )\n\t\t\t\t.removeAttr( \"role aria-disabled\" ),\n\t\t\tsubmenus = items.children( \".ui-menu-item-wrapper\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.removeAttr( \"tabIndex role aria-haspopup\" );\n\n\t\t// Destroy (sub)menus\n\t\tthis.element\n\t\t\t.removeAttr( \"aria-activedescendant\" )\n\t\t\t.find( \".ui-menu\" ).addBack()\n\t\t\t\t.removeAttr( \"role aria-labelledby aria-expanded aria-hidden aria-disabled \" +\n\t\t\t\t\t\"tabIndex\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.show();\n\n\t\tsubmenus.children().each( function() {\n\t\t\tvar elem = $( this );\n\t\t\tif ( elem.data( \"ui-menu-submenu-caret\" ) ) {\n\t\t\t\telem.remove();\n\t\t\t}\n\t\t} );\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar match, prev, character, skip,\n\t\t\tpreventDefault = true;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\tthis.previousPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\tthis.nextPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.HOME:\n\t\t\tthis._move( \"first\", \"first\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.END:\n\t\t\tthis._move( \"last\", \"last\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.UP:\n\t\t\tthis.previous( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.DOWN:\n\t\t\tthis.next( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.LEFT:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\t\tthis.expand( event );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ENTER:\n\t\tcase $.ui.keyCode.SPACE:\n\t\t\tthis._activate( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ESCAPE:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tpreventDefault = false;\n\t\t\tprev = this.previousFilter || \"\";\n\t\t\tskip = false;\n\n\t\t\t// Support number pad values\n\t\t\tcharacter = event.keyCode >= 96 && event.keyCode <= 105 ?\n\t\t\t\t( event.keyCode - 96 ).toString() : String.fromCharCode( event.keyCode );\n\n\t\t\tclearTimeout( this.filterTimer );\n\n\t\t\tif ( character === prev ) {\n\t\t\t\tskip = true;\n\t\t\t} else {\n\t\t\t\tcharacter = prev + character;\n\t\t\t}\n\n\t\t\tmatch = this._filterMenuItems( character );\n\t\t\tmatch = skip && match.index( this.active.next() ) !== -1 ?\n\t\t\t\tthis.active.nextAll( \".ui-menu-item\" ) :\n\t\t\t\tmatch;\n\n\t\t\t// If no matches on the current filter, reset to the last character pressed\n\t\t\t// to move down the menu to the first item that starts with that character\n\t\t\tif ( !match.length ) {\n\t\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\t\tmatch = this._filterMenuItems( character );\n\t\t\t}\n\n\t\t\tif ( match.length ) {\n\t\t\t\tthis.focus( event, match );\n\t\t\t\tthis.previousFilter = character;\n\t\t\t\tthis.filterTimer = this._delay( function() {\n\t\t\t\t\tdelete this.previousFilter;\n\t\t\t\t}, 1000 );\n\t\t\t} else {\n\t\t\t\tdelete this.previousFilter;\n\t\t\t}\n\t\t}\n\n\t\tif ( preventDefault ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t_activate: function( event ) {\n\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\tif ( this.active.children( \"[aria-haspopup='true']\" ).length ) {\n\t\t\t\tthis.expand( event );\n\t\t\t} else {\n\t\t\t\tthis.select( event );\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tvar menus, items, newSubmenus, newItems, newWrappers,\n\t\t\tthat = this,\n\t\t\ticon = this.options.icons.submenu,\n\t\t\tsubmenus = this.element.find( this.options.menus );\n\n\t\tthis._toggleClass( \"ui-menu-icons\", null, !!this.element.find( \".ui-icon\" ).length );\n\n\t\t// Initialize nested menus\n\t\tnewSubmenus = submenus.filter( \":not(.ui-menu)\" )\n\t\t\t.hide()\n\t\t\t.attr( {\n\t\t\t\trole: this.options.role,\n\t\t\t\t\"aria-hidden\": \"true\",\n\t\t\t\t\"aria-expanded\": \"false\"\n\t\t\t} )\n\t\t\t.each( function() {\n\t\t\t\tvar menu = $( this ),\n\t\t\t\t\titem = menu.prev(),\n\t\t\t\t\tsubmenuCaret = $( \"<span>\" ).data( \"ui-menu-submenu-caret\", true );\n\n\t\t\t\tthat._addClass( submenuCaret, \"ui-menu-icon\", \"ui-icon \" + icon );\n\t\t\t\titem\n\t\t\t\t\t.attr( \"aria-haspopup\", \"true\" )\n\t\t\t\t\t.prepend( submenuCaret );\n\t\t\t\tmenu.attr( \"aria-labelledby\", item.attr( \"id\" ) );\n\t\t\t} );\n\n\t\tthis._addClass( newSubmenus, \"ui-menu\", \"ui-widget ui-widget-content ui-front\" );\n\n\t\tmenus = submenus.add( this.element );\n\t\titems = menus.find( this.options.items );\n\n\t\t// Initialize menu-items containing spaces and/or dashes only as dividers\n\t\titems.not( \".ui-menu-item\" ).each( function() {\n\t\t\tvar item = $( this );\n\t\t\tif ( that._isDivider( item ) ) {\n\t\t\t\tthat._addClass( item, \"ui-menu-divider\", \"ui-widget-content\" );\n\t\t\t}\n\t\t} );\n\n\t\t// Don't refresh list items that are already adapted\n\t\tnewItems = items.not( \".ui-menu-item, .ui-menu-divider\" );\n\t\tnewWrappers = newItems.children()\n\t\t\t.not( \".ui-menu\" )\n\t\t\t\t.uniqueId()\n\t\t\t\t.attr( {\n\t\t\t\t\ttabIndex: -1,\n\t\t\t\t\trole: this._itemRole()\n\t\t\t\t} );\n\t\tthis._addClass( newItems, \"ui-menu-item\" )\n\t\t\t._addClass( newWrappers, \"ui-menu-item-wrapper\" );\n\n\t\t// Add aria-disabled attribute to any disabled menu item\n\t\titems.filter( \".ui-state-disabled\" ).attr( \"aria-disabled\", \"true\" );\n\n\t\t// If the active item has been removed, blur the menu\n\t\tif ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\n\t\t\tthis.blur();\n\t\t}\n\t},\n\n\t_itemRole: function() {\n\t\treturn {\n\t\t\tmenu: \"menuitem\",\n\t\t\tlistbox: \"option\"\n\t\t}[ this.options.role ];\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icons\" ) {\n\t\t\tvar icons = this.element.find( \".ui-menu-icon\" );\n\t\t\tthis._removeClass( icons, null, this.options.icons.submenu )\n\t\t\t\t._addClass( icons, null, value.submenu );\n\t\t}\n\t\tthis._super( key, value );\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._super( value );\n\n\t\tthis.element.attr( \"aria-disabled\", String( value ) );\n\t\tthis._toggleClass( null, \"ui-state-disabled\", !!value );\n\t},\n\n\tfocus: function( event, item ) {\n\t\tvar nested, focused, activeParent;\n\t\tthis.blur( event, event && event.type === \"focus\" );\n\n\t\tthis._scrollIntoView( item );\n\n\t\tthis.active = item.first();\n\n\t\tfocused = this.active.children( \".ui-menu-item-wrapper\" );\n\t\tthis._addClass( focused, null, \"ui-state-active\" );\n\n\t\t// Only update aria-activedescendant if there's a role\n\t\t// otherwise we assume focus is managed elsewhere\n\t\tif ( this.options.role ) {\n\t\t\tthis.element.attr( \"aria-activedescendant\", focused.attr( \"id\" ) );\n\t\t}\n\n\t\t// Highlight active parent menu item, if any\n\t\tactiveParent = this.active\n\t\t\t.parent()\n\t\t\t\t.closest( \".ui-menu-item\" )\n\t\t\t\t\t.children( \".ui-menu-item-wrapper\" );\n\t\tthis._addClass( activeParent, null, \"ui-state-active\" );\n\n\t\tif ( event && event.type === \"keydown\" ) {\n\t\t\tthis._close();\n\t\t} else {\n\t\t\tthis.timer = this._delay( function() {\n\t\t\t\tthis._close();\n\t\t\t}, this.delay );\n\t\t}\n\n\t\tnested = item.children( \".ui-menu\" );\n\t\tif ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {\n\t\t\tthis._startOpening( nested );\n\t\t}\n\t\tthis.activeMenu = item.parent();\n\n\t\tthis._trigger( \"focus\", event, { item: item } );\n\t},\n\n\t_scrollIntoView: function( item ) {\n\t\tvar borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;\n\t\tif ( this._hasScroll() ) {\n\t\t\tborderTop = parseFloat( $.css( this.activeMenu[ 0 ], \"borderTopWidth\" ) ) || 0;\n\t\t\tpaddingTop = parseFloat( $.css( this.activeMenu[ 0 ], \"paddingTop\" ) ) || 0;\n\t\t\toffset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;\n\t\t\tscroll = this.activeMenu.scrollTop();\n\t\t\telementHeight = this.activeMenu.height();\n\t\t\titemHeight = item.outerHeight();\n\n\t\t\tif ( offset < 0 ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset );\n\t\t\t} else if ( offset + itemHeight > elementHeight ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );\n\t\t\t}\n\t\t}\n\t},\n\n\tblur: function( event, fromFocus ) {\n\t\tif ( !fromFocus ) {\n\t\t\tclearTimeout( this.timer );\n\t\t}\n\n\t\tif ( !this.active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._removeClass( this.active.children( \".ui-menu-item-wrapper\" ),\n\t\t\tnull, \"ui-state-active\" );\n\n\t\tthis._trigger( \"blur\", event, { item: this.active } );\n\t\tthis.active = null;\n\t},\n\n\t_startOpening: function( submenu ) {\n\t\tclearTimeout( this.timer );\n\n\t\t// Don't open if already open fixes a Firefox bug that caused a .5 pixel\n\t\t// shift in the submenu position when mousing over the caret icon\n\t\tif ( submenu.attr( \"aria-hidden\" ) !== \"true\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timer = this._delay( function() {\n\t\t\tthis._close();\n\t\t\tthis._open( submenu );\n\t\t}, this.delay );\n\t},\n\n\t_open: function( submenu ) {\n\t\tvar position = $.extend( {\n\t\t\tof: this.active\n\t\t}, this.options.position );\n\n\t\tclearTimeout( this.timer );\n\t\tthis.element.find( \".ui-menu\" ).not( submenu.parents( \".ui-menu\" ) )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" );\n\n\t\tsubmenu\n\t\t\t.show()\n\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t.attr( \"aria-expanded\", \"true\" )\n\t\t\t.position( position );\n\t},\n\n\tcollapseAll: function( event, all ) {\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay( function() {\n\n\t\t\t// If we were passed an event, look for the submenu that contains the event\n\t\t\tvar currentMenu = all ? this.element :\n\t\t\t\t$( event && event.target ).closest( this.element.find( \".ui-menu\" ) );\n\n\t\t\t// If we found no valid submenu ancestor, use the main menu to close all\n\t\t\t// sub menus anyway\n\t\t\tif ( !currentMenu.length ) {\n\t\t\t\tcurrentMenu = this.element;\n\t\t\t}\n\n\t\t\tthis._close( currentMenu );\n\n\t\t\tthis.blur( event );\n\n\t\t\t// Work around active item staying active after menu is blurred\n\t\t\tthis._removeClass( currentMenu.find( \".ui-state-active\" ), null, \"ui-state-active\" );\n\n\t\t\tthis.activeMenu = currentMenu;\n\t\t}, this.delay );\n\t},\n\n\t// With no arguments, closes the currently active menu - if nothing is active\n\t// it closes all menus.  If passed an argument, it will search for menus BELOW\n\t_close: function( startMenu ) {\n\t\tif ( !startMenu ) {\n\t\t\tstartMenu = this.active ? this.active.parent() : this.element;\n\t\t}\n\n\t\tstartMenu.find( \".ui-menu\" )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" )\n\t\t\t.attr( \"aria-expanded\", \"false\" );\n\t},\n\n\t_closeOnDocumentClick: function( event ) {\n\t\treturn !$( event.target ).closest( \".ui-menu\" ).length;\n\t},\n\n\t_isDivider: function( item ) {\n\n\t\t// Match hyphen, em dash, en dash\n\t\treturn !/[^\\-\\u2014\\u2013\\s]/.test( item.text() );\n\t},\n\n\tcollapse: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active.parent().closest( \".ui-menu-item\", this.element );\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._close();\n\t\t\tthis.focus( event, newItem );\n\t\t}\n\t},\n\n\texpand: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active\n\t\t\t\t.children( \".ui-menu \" )\n\t\t\t\t\t.find( this.options.items )\n\t\t\t\t\t\t.first();\n\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._open( newItem.parent() );\n\n\t\t\t// Delay so Firefox will not hide activedescendant change in expanding submenu from AT\n\t\t\tthis._delay( function() {\n\t\t\t\tthis.focus( event, newItem );\n\t\t\t} );\n\t\t}\n\t},\n\n\tnext: function( event ) {\n\t\tthis._move( \"next\", \"first\", event );\n\t},\n\n\tprevious: function( event ) {\n\t\tthis._move( \"prev\", \"last\", event );\n\t},\n\n\tisFirstItem: function() {\n\t\treturn this.active && !this.active.prevAll( \".ui-menu-item\" ).length;\n\t},\n\n\tisLastItem: function() {\n\t\treturn this.active && !this.active.nextAll( \".ui-menu-item\" ).length;\n\t},\n\n\t_move: function( direction, filter, event ) {\n\t\tvar next;\n\t\tif ( this.active ) {\n\t\t\tif ( direction === \"first\" || direction === \"last\" ) {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction === \"first\" ? \"prevAll\" : \"nextAll\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( -1 );\n\t\t\t} else {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction + \"All\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( 0 );\n\t\t\t}\n\t\t}\n\t\tif ( !next || !next.length || !this.active ) {\n\t\t\tnext = this.activeMenu.find( this.options.items )[ filter ]();\n\t\t}\n\n\t\tthis.focus( event, next );\n\t},\n\n\tnextPage: function( event ) {\n\t\tvar item, base, height;\n\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isLastItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.nextAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base - height < 0;\n\t\t\t} );\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items )\n\t\t\t\t[ !this.active ? \"first\" : \"last\" ]() );\n\t\t}\n\t},\n\n\tpreviousPage: function( event ) {\n\t\tvar item, base, height;\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isFirstItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.prevAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base + height > 0;\n\t\t\t} );\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items ).first() );\n\t\t}\n\t},\n\n\t_hasScroll: function() {\n\t\treturn this.element.outerHeight() < this.element.prop( \"scrollHeight\" );\n\t},\n\n\tselect: function( event ) {\n\n\t\t// TODO: It should never be possible to not have an active item at this\n\t\t// point, but the tests don't trigger mouseenter before click.\n\t\tthis.active = this.active || $( event.target ).closest( \".ui-menu-item\" );\n\t\tvar ui = { item: this.active };\n\t\tif ( !this.active.has( \".ui-menu\" ).length ) {\n\t\t\tthis.collapseAll( event, true );\n\t\t}\n\t\tthis._trigger( \"select\", event, ui );\n\t},\n\n\t_filterMenuItems: function( character ) {\n\t\tvar escapedCharacter = character.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" ),\n\t\t\tregex = new RegExp( \"^\" + escapedCharacter, \"i\" );\n\n\t\treturn this.activeMenu\n\t\t\t.find( this.options.items )\n\n\t\t\t\t// Only match on items, not dividers or other content (#10571)\n\t\t\t\t.filter( \".ui-menu-item\" )\n\t\t\t\t\t.filter( function() {\n\t\t\t\t\t\treturn regex.test(\n\t\t\t\t\t\t\t$.trim( $( this ).children( \".ui-menu-item-wrapper\" ).text() ) );\n\t\t\t\t\t} );\n\t}\n} );\n\n} ) );\n","/*!\n * jQuery UI Mouse 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Mouse\n//>>group: Widgets\n//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.\n//>>docs: http://api.jqueryui.com/mouse/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../ie\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar mouseHandled = false;\n$( document ).on( \"mouseup\", function() {\n\tmouseHandled = false;\n} );\n\nreturn $.widget( \"ui.mouse\", {\n\tversion: \"1.12.1\",\n\toptions: {\n\t\tcancel: \"input, textarea, button, select, option\",\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.on( \"mousedown.\" + this.widgetName, function( event ) {\n\t\t\t\treturn that._mouseDown( event );\n\t\t\t} )\n\t\t\t.on( \"click.\" + this.widgetName, function( event ) {\n\t\t\t\tif ( true === $.data( event.target, that.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t\t\t$.removeData( event.target, that.widgetName + \".preventClickEvent\" );\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.off( \".\" + this.widgetName );\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\tthis.document\n\t\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\t\t}\n\t},\n\n\t_mouseDown: function( event ) {\n\n\t\t// don't let more than one widget handle mouseStart\n\t\tif ( mouseHandled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._mouseMoved = false;\n\n\t\t// We may have missed mouseup (out of window)\n\t\t( this._mouseStarted && this._mouseUp( event ) );\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = ( event.which === 1 ),\n\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = ( typeof this.options.cancel === \"string\" && event.target.nodeName ?\n\t\t\t\t$( event.target ).closest( this.options.cancel ).length : false );\n\t\tif ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif ( !this.mouseDelayMet ) {\n\t\t\tthis._mouseDelayTimer = setTimeout( function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay );\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted = ( this._mouseStart( event ) !== false );\n\t\t\tif ( !this._mouseStarted ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif ( true === $.data( event.target, this.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t$.removeData( event.target, this.widgetName + \".preventClickEvent\" );\n\t\t}\n\n\t\t// These delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function( event ) {\n\t\t\treturn that._mouseMove( event );\n\t\t};\n\t\tthis._mouseUpDelegate = function( event ) {\n\t\t\treturn that._mouseUp( event );\n\t\t};\n\n\t\tthis.document\n\t\t\t.on( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.on( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tevent.preventDefault();\n\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function( event ) {\n\n\t\t// Only check for mouseups outside the document if you've moved inside the document\n\t\t// at least once. This prevents the firing of mouseup in the case of IE<9, which will\n\t\t// fire a mousemove event if content is placed under the cursor. See #7778\n\t\t// Support: IE <9\n\t\tif ( this._mouseMoved ) {\n\n\t\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\t\tif ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&\n\t\t\t\t\t!event.button ) {\n\t\t\t\treturn this._mouseUp( event );\n\n\t\t\t// Iframe mouseup check - mouseup occurred in another document\n\t\t\t} else if ( !event.which ) {\n\n\t\t\t\t// Support: Safari <=8 - 9\n\t\t\t\t// Safari sets which to 0 if you press any of the following keys\n\t\t\t\t// during a drag (#14461)\n\t\t\t\tif ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||\n\t\t\t\t\t\tevent.originalEvent.metaKey || event.originalEvent.shiftKey ) {\n\t\t\t\t\tthis.ignoreMissingWhich = true;\n\t\t\t\t} else if ( !this.ignoreMissingWhich ) {\n\t\t\t\t\treturn this._mouseUp( event );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( event.which || event.button ) {\n\t\t\tthis._mouseMoved = true;\n\t\t}\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseDrag( event );\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t( this._mouseStart( this._mouseDownEvent, event ) !== false );\n\t\t\t( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis.document\n\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif ( event.target === this._mouseDownEvent.target ) {\n\t\t\t\t$.data( event.target, this.widgetName + \".preventClickEvent\", true );\n\t\t\t}\n\n\t\t\tthis._mouseStop( event );\n\t\t}\n\n\t\tif ( this._mouseDelayTimer ) {\n\t\t\tclearTimeout( this._mouseDelayTimer );\n\t\t\tdelete this._mouseDelayTimer;\n\t\t}\n\n\t\tthis.ignoreMissingWhich = false;\n\t\tmouseHandled = false;\n\t\tevent.preventDefault();\n\t},\n\n\t_mouseDistanceMet: function( event ) {\n\t\treturn ( Math.max(\n\t\t\t\tMath.abs( this._mouseDownEvent.pageX - event.pageX ),\n\t\t\t\tMath.abs( this._mouseDownEvent.pageY - event.pageY )\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function( /* event */ ) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function( /* event */ ) {},\n\t_mouseDrag: function( /* event */ ) {},\n\t_mouseStop: function( /* event */ ) {},\n\t_mouseCapture: function( /* event */ ) { return true; }\n} );\n\n} ) );\n","/*!\n * jQuery UI Resizable 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Resizable\n//>>group: Interactions\n//>>description: Enables resize functionality for any element.\n//>>docs: http://api.jqueryui.com/resizable/\n//>>demos: http://jqueryui.com/resizable/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/resizable.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../disable-selection\",\n\t\t\t\"../plugin\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.resizable\", $.ui.mouse, {\n\tversion: \"1.12.1\",\n\twidgetEventPrefix: \"resize\",\n\toptions: {\n\t\talsoResize: false,\n\t\tanimate: false,\n\t\tanimateDuration: \"slow\",\n\t\tanimateEasing: \"swing\",\n\t\taspectRatio: false,\n\t\tautoHide: false,\n\t\tclasses: {\n\t\t\t\"ui-resizable-se\": \"ui-icon ui-icon-gripsmall-diagonal-se\"\n\t\t},\n\t\tcontainment: false,\n\t\tghost: false,\n\t\tgrid: false,\n\t\thandles: \"e,s,se\",\n\t\thelper: false,\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 10,\n\t\tminWidth: 10,\n\n\t\t// See #7960\n\t\tzIndex: 90,\n\n\t\t// Callbacks\n\t\tresize: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\n\t_num: function( value ) {\n\t\treturn parseFloat( value ) || 0;\n\t},\n\n\t_isNumber: function( value ) {\n\t\treturn !isNaN( parseFloat( value ) );\n\t},\n\n\t_hasScroll: function( el, a ) {\n\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: determine which cases actually cause this to happen\n\t\t// if the element doesn't have the scroll set, see if it's possible to\n\t\t// set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t},\n\n\t_create: function() {\n\n\t\tvar margins,\n\t\t\to = this.options,\n\t\t\tthat = this;\n\t\tthis._addClass( \"ui-resizable\" );\n\n\t\t$.extend( this, {\n\t\t\t_aspectRatio: !!( o.aspectRatio ),\n\t\t\taspectRatio: o.aspectRatio,\n\t\t\toriginalElement: this.element,\n\t\t\t_proportionallyResizeElements: [],\n\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || \"ui-resizable-helper\" : null\n\t\t} );\n\n\t\t// Wrap the element if it cannot hold child nodes\n\t\tif ( this.element[ 0 ].nodeName.match( /^(canvas|textarea|input|select|button|img)$/i ) ) {\n\n\t\t\tthis.element.wrap(\n\t\t\t\t$( \"<div class='ui-wrapper' style='overflow: hidden;'></div>\" ).css( {\n\t\t\t\t\tposition: this.element.css( \"position\" ),\n\t\t\t\t\twidth: this.element.outerWidth(),\n\t\t\t\t\theight: this.element.outerHeight(),\n\t\t\t\t\ttop: this.element.css( \"top\" ),\n\t\t\t\t\tleft: this.element.css( \"left\" )\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tthis.element = this.element.parent().data(\n\t\t\t\t\"ui-resizable\", this.element.resizable( \"instance\" )\n\t\t\t);\n\n\t\t\tthis.elementIsWrapper = true;\n\n\t\t\tmargins = {\n\t\t\t\tmarginTop: this.originalElement.css( \"marginTop\" ),\n\t\t\t\tmarginRight: this.originalElement.css( \"marginRight\" ),\n\t\t\t\tmarginBottom: this.originalElement.css( \"marginBottom\" ),\n\t\t\t\tmarginLeft: this.originalElement.css( \"marginLeft\" )\n\t\t\t};\n\n\t\t\tthis.element.css( margins );\n\t\t\tthis.originalElement.css( \"margin\", 0 );\n\n\t\t\t// support: Safari\n\t\t\t// Prevent Safari textarea resize\n\t\t\tthis.originalResizeStyle = this.originalElement.css( \"resize\" );\n\t\t\tthis.originalElement.css( \"resize\", \"none\" );\n\n\t\t\tthis._proportionallyResizeElements.push( this.originalElement.css( {\n\t\t\t\tposition: \"static\",\n\t\t\t\tzoom: 1,\n\t\t\t\tdisplay: \"block\"\n\t\t\t} ) );\n\n\t\t\t// Support: IE9\n\t\t\t// avoid IE jump (hard set the margin)\n\t\t\tthis.originalElement.css( margins );\n\n\t\t\tthis._proportionallyResize();\n\t\t}\n\n\t\tthis._setupHandles();\n\n\t\tif ( o.autoHide ) {\n\t\t\t$( this.element )\n\t\t\t\t.on( \"mouseenter\", function() {\n\t\t\t\t\tif ( o.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthat._removeClass( \"ui-resizable-autohide\" );\n\t\t\t\t\tthat._handles.show();\n\t\t\t\t} )\n\t\t\t\t.on( \"mouseleave\", function() {\n\t\t\t\t\tif ( o.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( !that.resizing ) {\n\t\t\t\t\t\tthat._addClass( \"ui-resizable-autohide\" );\n\t\t\t\t\t\tthat._handles.hide();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}\n\n\t\tthis._mouseInit();\n\t},\n\n\t_destroy: function() {\n\n\t\tthis._mouseDestroy();\n\n\t\tvar wrapper,\n\t\t\t_destroy = function( exp ) {\n\t\t\t\t$( exp )\n\t\t\t\t\t.removeData( \"resizable\" )\n\t\t\t\t\t.removeData( \"ui-resizable\" )\n\t\t\t\t\t.off( \".resizable\" )\n\t\t\t\t\t.find( \".ui-resizable-handle\" )\n\t\t\t\t\t\t.remove();\n\t\t\t};\n\n\t\t// TODO: Unwrap at same DOM position\n\t\tif ( this.elementIsWrapper ) {\n\t\t\t_destroy( this.element );\n\t\t\twrapper = this.element;\n\t\t\tthis.originalElement.css( {\n\t\t\t\tposition: wrapper.css( \"position\" ),\n\t\t\t\twidth: wrapper.outerWidth(),\n\t\t\t\theight: wrapper.outerHeight(),\n\t\t\t\ttop: wrapper.css( \"top\" ),\n\t\t\t\tleft: wrapper.css( \"left\" )\n\t\t\t} ).insertAfter( wrapper );\n\t\t\twrapper.remove();\n\t\t}\n\n\t\tthis.originalElement.css( \"resize\", this.originalResizeStyle );\n\t\t_destroy( this.originalElement );\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\n\t\tswitch ( key ) {\n\t\tcase \"handles\":\n\t\t\tthis._removeHandles();\n\t\t\tthis._setupHandles();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t_setupHandles: function() {\n\t\tvar o = this.options, handle, i, n, hname, axis, that = this;\n\t\tthis.handles = o.handles ||\n\t\t\t( !$( \".ui-resizable-handle\", this.element ).length ?\n\t\t\t\t\"e,s,se\" : {\n\t\t\t\t\tn: \".ui-resizable-n\",\n\t\t\t\t\te: \".ui-resizable-e\",\n\t\t\t\t\ts: \".ui-resizable-s\",\n\t\t\t\t\tw: \".ui-resizable-w\",\n\t\t\t\t\tse: \".ui-resizable-se\",\n\t\t\t\t\tsw: \".ui-resizable-sw\",\n\t\t\t\t\tne: \".ui-resizable-ne\",\n\t\t\t\t\tnw: \".ui-resizable-nw\"\n\t\t\t\t} );\n\n\t\tthis._handles = $();\n\t\tif ( this.handles.constructor === String ) {\n\n\t\t\tif ( this.handles === \"all\" ) {\n\t\t\t\tthis.handles = \"n,e,s,w,se,sw,ne,nw\";\n\t\t\t}\n\n\t\t\tn = this.handles.split( \",\" );\n\t\t\tthis.handles = {};\n\n\t\t\tfor ( i = 0; i < n.length; i++ ) {\n\n\t\t\t\thandle = $.trim( n[ i ] );\n\t\t\t\thname = \"ui-resizable-\" + handle;\n\t\t\t\taxis = $( \"<div>\" );\n\t\t\t\tthis._addClass( axis, \"ui-resizable-handle \" + hname );\n\n\t\t\t\taxis.css( { zIndex: o.zIndex } );\n\n\t\t\t\tthis.handles[ handle ] = \".ui-resizable-\" + handle;\n\t\t\t\tthis.element.append( axis );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._renderAxis = function( target ) {\n\n\t\t\tvar i, axis, padPos, padWrapper;\n\n\t\t\ttarget = target || this.element;\n\n\t\t\tfor ( i in this.handles ) {\n\n\t\t\t\tif ( this.handles[ i ].constructor === String ) {\n\t\t\t\t\tthis.handles[ i ] = this.element.children( this.handles[ i ] ).first().show();\n\t\t\t\t} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {\n\t\t\t\t\tthis.handles[ i ] = $( this.handles[ i ] );\n\t\t\t\t\tthis._on( this.handles[ i ], { \"mousedown\": that._mouseDown } );\n\t\t\t\t}\n\n\t\t\t\tif ( this.elementIsWrapper &&\n\t\t\t\t\t\tthis.originalElement[ 0 ]\n\t\t\t\t\t\t\t.nodeName\n\t\t\t\t\t\t\t.match( /^(textarea|input|select|button)$/i ) ) {\n\t\t\t\t\taxis = $( this.handles[ i ], this.element );\n\n\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test( i ) ?\n\t\t\t\t\t\taxis.outerHeight() :\n\t\t\t\t\t\taxis.outerWidth();\n\n\t\t\t\t\tpadPos = [ \"padding\",\n\t\t\t\t\t\t/ne|nw|n/.test( i ) ? \"Top\" :\n\t\t\t\t\t\t/se|sw|s/.test( i ) ? \"Bottom\" :\n\t\t\t\t\t\t/^e$/.test( i ) ? \"Right\" : \"Left\" ].join( \"\" );\n\n\t\t\t\t\ttarget.css( padPos, padWrapper );\n\n\t\t\t\t\tthis._proportionallyResize();\n\t\t\t\t}\n\n\t\t\t\tthis._handles = this._handles.add( this.handles[ i ] );\n\t\t\t}\n\t\t};\n\n\t\t// TODO: make renderAxis a prototype function\n\t\tthis._renderAxis( this.element );\n\n\t\tthis._handles = this._handles.add( this.element.find( \".ui-resizable-handle\" ) );\n\t\tthis._handles.disableSelection();\n\n\t\tthis._handles.on( \"mouseover\", function() {\n\t\t\tif ( !that.resizing ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\taxis = this.className.match( /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i );\n\t\t\t\t}\n\t\t\t\tthat.axis = axis && axis[ 1 ] ? axis[ 1 ] : \"se\";\n\t\t\t}\n\t\t} );\n\n\t\tif ( o.autoHide ) {\n\t\t\tthis._handles.hide();\n\t\t\tthis._addClass( \"ui-resizable-autohide\" );\n\t\t}\n\t},\n\n\t_removeHandles: function() {\n\t\tthis._handles.remove();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar i, handle,\n\t\t\tcapture = false;\n\n\t\tfor ( i in this.handles ) {\n\t\t\thandle = $( this.handles[ i ] )[ 0 ];\n\t\t\tif ( handle === event.target || $.contains( handle, event.target ) ) {\n\t\t\t\tcapture = true;\n\t\t\t}\n\t\t}\n\n\t\treturn !this.options.disabled && capture;\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar curleft, curtop, cursor,\n\t\t\to = this.options,\n\t\t\tel = this.element;\n\n\t\tthis.resizing = true;\n\n\t\tthis._renderProxy();\n\n\t\tcurleft = this._num( this.helper.css( \"left\" ) );\n\t\tcurtop = this._num( this.helper.css( \"top\" ) );\n\n\t\tif ( o.containment ) {\n\t\t\tcurleft += $( o.containment ).scrollLeft() || 0;\n\t\t\tcurtop += $( o.containment ).scrollTop() || 0;\n\t\t}\n\n\t\tthis.offset = this.helper.offset();\n\t\tthis.position = { left: curleft, top: curtop };\n\n\t\tthis.size = this._helper ? {\n\t\t\t\twidth: this.helper.width(),\n\t\t\t\theight: this.helper.height()\n\t\t\t} : {\n\t\t\t\twidth: el.width(),\n\t\t\t\theight: el.height()\n\t\t\t};\n\n\t\tthis.originalSize = this._helper ? {\n\t\t\t\twidth: el.outerWidth(),\n\t\t\t\theight: el.outerHeight()\n\t\t\t} : {\n\t\t\t\twidth: el.width(),\n\t\t\t\theight: el.height()\n\t\t\t};\n\n\t\tthis.sizeDiff = {\n\t\t\twidth: el.outerWidth() - el.width(),\n\t\t\theight: el.outerHeight() - el.height()\n\t\t};\n\n\t\tthis.originalPosition = { left: curleft, top: curtop };\n\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\n\n\t\tthis.aspectRatio = ( typeof o.aspectRatio === \"number\" ) ?\n\t\t\to.aspectRatio :\n\t\t\t( ( this.originalSize.width / this.originalSize.height ) || 1 );\n\n\t\tcursor = $( \".ui-resizable-\" + this.axis ).css( \"cursor\" );\n\t\t$( \"body\" ).css( \"cursor\", cursor === \"auto\" ? this.axis + \"-resize\" : cursor );\n\n\t\tthis._addClass( \"ui-resizable-resizing\" );\n\t\tthis._propagate( \"start\", event );\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function( event ) {\n\n\t\tvar data, props,\n\t\t\tsmp = this.originalMousePosition,\n\t\t\ta = this.axis,\n\t\t\tdx = ( event.pageX - smp.left ) || 0,\n\t\t\tdy = ( event.pageY - smp.top ) || 0,\n\t\t\ttrigger = this._change[ a ];\n\n\t\tthis._updatePrevProperties();\n\n\t\tif ( !trigger ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tdata = trigger.apply( this, [ event, dx, dy ] );\n\n\t\tthis._updateVirtualBoundaries( event.shiftKey );\n\t\tif ( this._aspectRatio || event.shiftKey ) {\n\t\t\tdata = this._updateRatio( data, event );\n\t\t}\n\n\t\tdata = this._respectSize( data, event );\n\n\t\tthis._updateCache( data );\n\n\t\tthis._propagate( \"resize\", event );\n\n\t\tprops = this._applyChanges();\n\n\t\tif ( !this._helper && this._proportionallyResizeElements.length ) {\n\t\t\tthis._proportionallyResize();\n\t\t}\n\n\t\tif ( !$.isEmptyObject( props ) ) {\n\t\t\tthis._updatePrevProperties();\n\t\t\tthis._trigger( \"resize\", event, this.ui() );\n\t\t\tthis._applyChanges();\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\tthis.resizing = false;\n\t\tvar pr, ista, soffseth, soffsetw, s, left, top,\n\t\t\to = this.options, that = this;\n\n\t\tif ( this._helper ) {\n\n\t\t\tpr = this._proportionallyResizeElements;\n\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName );\n\t\t\tsoffseth = ista && this._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height;\n\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\n\n\t\t\ts = {\n\t\t\t\twidth: ( that.helper.width()  - soffsetw ),\n\t\t\t\theight: ( that.helper.height() - soffseth )\n\t\t\t};\n\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\n\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null;\n\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\n\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\n\n\t\t\tif ( !o.animate ) {\n\t\t\t\tthis.element.css( $.extend( s, { top: top, left: left } ) );\n\t\t\t}\n\n\t\t\tthat.helper.height( that.size.height );\n\t\t\tthat.helper.width( that.size.width );\n\n\t\t\tif ( this._helper && !o.animate ) {\n\t\t\t\tthis._proportionallyResize();\n\t\t\t}\n\t\t}\n\n\t\t$( \"body\" ).css( \"cursor\", \"auto\" );\n\n\t\tthis._removeClass( \"ui-resizable-resizing\" );\n\n\t\tthis._propagate( \"stop\", event );\n\n\t\tif ( this._helper ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\t_updatePrevProperties: function() {\n\t\tthis.prevPosition = {\n\t\t\ttop: this.position.top,\n\t\t\tleft: this.position.left\n\t\t};\n\t\tthis.prevSize = {\n\t\t\twidth: this.size.width,\n\t\t\theight: this.size.height\n\t\t};\n\t},\n\n\t_applyChanges: function() {\n\t\tvar props = {};\n\n\t\tif ( this.position.top !== this.prevPosition.top ) {\n\t\t\tprops.top = this.position.top + \"px\";\n\t\t}\n\t\tif ( this.position.left !== this.prevPosition.left ) {\n\t\t\tprops.left = this.position.left + \"px\";\n\t\t}\n\t\tif ( this.size.width !== this.prevSize.width ) {\n\t\t\tprops.width = this.size.width + \"px\";\n\t\t}\n\t\tif ( this.size.height !== this.prevSize.height ) {\n\t\t\tprops.height = this.size.height + \"px\";\n\t\t}\n\n\t\tthis.helper.css( props );\n\n\t\treturn props;\n\t},\n\n\t_updateVirtualBoundaries: function( forceAspectRatio ) {\n\t\tvar pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,\n\t\t\to = this.options;\n\n\t\tb = {\n\t\t\tminWidth: this._isNumber( o.minWidth ) ? o.minWidth : 0,\n\t\t\tmaxWidth: this._isNumber( o.maxWidth ) ? o.maxWidth : Infinity,\n\t\t\tminHeight: this._isNumber( o.minHeight ) ? o.minHeight : 0,\n\t\t\tmaxHeight: this._isNumber( o.maxHeight ) ? o.maxHeight : Infinity\n\t\t};\n\n\t\tif ( this._aspectRatio || forceAspectRatio ) {\n\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\n\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\n\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\n\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\n\n\t\t\tif ( pMinWidth > b.minWidth ) {\n\t\t\t\tb.minWidth = pMinWidth;\n\t\t\t}\n\t\t\tif ( pMinHeight > b.minHeight ) {\n\t\t\t\tb.minHeight = pMinHeight;\n\t\t\t}\n\t\t\tif ( pMaxWidth < b.maxWidth ) {\n\t\t\t\tb.maxWidth = pMaxWidth;\n\t\t\t}\n\t\t\tif ( pMaxHeight < b.maxHeight ) {\n\t\t\t\tb.maxHeight = pMaxHeight;\n\t\t\t}\n\t\t}\n\t\tthis._vBoundaries = b;\n\t},\n\n\t_updateCache: function( data ) {\n\t\tthis.offset = this.helper.offset();\n\t\tif ( this._isNumber( data.left ) ) {\n\t\t\tthis.position.left = data.left;\n\t\t}\n\t\tif ( this._isNumber( data.top ) ) {\n\t\t\tthis.position.top = data.top;\n\t\t}\n\t\tif ( this._isNumber( data.height ) ) {\n\t\t\tthis.size.height = data.height;\n\t\t}\n\t\tif ( this._isNumber( data.width ) ) {\n\t\t\tthis.size.width = data.width;\n\t\t}\n\t},\n\n\t_updateRatio: function( data ) {\n\n\t\tvar cpos = this.position,\n\t\t\tcsize = this.size,\n\t\t\ta = this.axis;\n\n\t\tif ( this._isNumber( data.height ) ) {\n\t\t\tdata.width = ( data.height * this.aspectRatio );\n\t\t} else if ( this._isNumber( data.width ) ) {\n\t\t\tdata.height = ( data.width / this.aspectRatio );\n\t\t}\n\n\t\tif ( a === \"sw\" ) {\n\t\t\tdata.left = cpos.left + ( csize.width - data.width );\n\t\t\tdata.top = null;\n\t\t}\n\t\tif ( a === \"nw\" ) {\n\t\t\tdata.top = cpos.top + ( csize.height - data.height );\n\t\t\tdata.left = cpos.left + ( csize.width - data.width );\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_respectSize: function( data ) {\n\n\t\tvar o = this._vBoundaries,\n\t\t\ta = this.axis,\n\t\t\tismaxw = this._isNumber( data.width ) && o.maxWidth && ( o.maxWidth < data.width ),\n\t\t\tismaxh = this._isNumber( data.height ) && o.maxHeight && ( o.maxHeight < data.height ),\n\t\t\tisminw = this._isNumber( data.width ) && o.minWidth && ( o.minWidth > data.width ),\n\t\t\tisminh = this._isNumber( data.height ) && o.minHeight && ( o.minHeight > data.height ),\n\t\t\tdw = this.originalPosition.left + this.originalSize.width,\n\t\t\tdh = this.originalPosition.top + this.originalSize.height,\n\t\t\tcw = /sw|nw|w/.test( a ), ch = /nw|ne|n/.test( a );\n\t\tif ( isminw ) {\n\t\t\tdata.width = o.minWidth;\n\t\t}\n\t\tif ( isminh ) {\n\t\t\tdata.height = o.minHeight;\n\t\t}\n\t\tif ( ismaxw ) {\n\t\t\tdata.width = o.maxWidth;\n\t\t}\n\t\tif ( ismaxh ) {\n\t\t\tdata.height = o.maxHeight;\n\t\t}\n\n\t\tif ( isminw && cw ) {\n\t\t\tdata.left = dw - o.minWidth;\n\t\t}\n\t\tif ( ismaxw && cw ) {\n\t\t\tdata.left = dw - o.maxWidth;\n\t\t}\n\t\tif ( isminh && ch ) {\n\t\t\tdata.top = dh - o.minHeight;\n\t\t}\n\t\tif ( ismaxh && ch ) {\n\t\t\tdata.top = dh - o.maxHeight;\n\t\t}\n\n\t\t// Fixing jump error on top/left - bug #2330\n\t\tif ( !data.width && !data.height && !data.left && data.top ) {\n\t\t\tdata.top = null;\n\t\t} else if ( !data.width && !data.height && !data.top && data.left ) {\n\t\t\tdata.left = null;\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_getPaddingPlusBorderDimensions: function( element ) {\n\t\tvar i = 0,\n\t\t\twidths = [],\n\t\t\tborders = [\n\t\t\t\telement.css( \"borderTopWidth\" ),\n\t\t\t\telement.css( \"borderRightWidth\" ),\n\t\t\t\telement.css( \"borderBottomWidth\" ),\n\t\t\t\telement.css( \"borderLeftWidth\" )\n\t\t\t],\n\t\t\tpaddings = [\n\t\t\t\telement.css( \"paddingTop\" ),\n\t\t\t\telement.css( \"paddingRight\" ),\n\t\t\t\telement.css( \"paddingBottom\" ),\n\t\t\t\telement.css( \"paddingLeft\" )\n\t\t\t];\n\n\t\tfor ( ; i < 4; i++ ) {\n\t\t\twidths[ i ] = ( parseFloat( borders[ i ] ) || 0 );\n\t\t\twidths[ i ] += ( parseFloat( paddings[ i ] ) || 0 );\n\t\t}\n\n\t\treturn {\n\t\t\theight: widths[ 0 ] + widths[ 2 ],\n\t\t\twidth: widths[ 1 ] + widths[ 3 ]\n\t\t};\n\t},\n\n\t_proportionallyResize: function() {\n\n\t\tif ( !this._proportionallyResizeElements.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar prel,\n\t\t\ti = 0,\n\t\t\telement = this.helper || this.element;\n\n\t\tfor ( ; i < this._proportionallyResizeElements.length; i++ ) {\n\n\t\t\tprel = this._proportionallyResizeElements[ i ];\n\n\t\t\t// TODO: Seems like a bug to cache this.outerDimensions\n\t\t\t// considering that we are in a loop.\n\t\t\tif ( !this.outerDimensions ) {\n\t\t\t\tthis.outerDimensions = this._getPaddingPlusBorderDimensions( prel );\n\t\t\t}\n\n\t\t\tprel.css( {\n\t\t\t\theight: ( element.height() - this.outerDimensions.height ) || 0,\n\t\t\t\twidth: ( element.width() - this.outerDimensions.width ) || 0\n\t\t\t} );\n\n\t\t}\n\n\t},\n\n\t_renderProxy: function() {\n\n\t\tvar el = this.element, o = this.options;\n\t\tthis.elementOffset = el.offset();\n\n\t\tif ( this._helper ) {\n\n\t\t\tthis.helper = this.helper || $( \"<div style='overflow:hidden;'></div>\" );\n\n\t\t\tthis._addClass( this.helper, this._helper );\n\t\t\tthis.helper.css( {\n\t\t\t\twidth: this.element.outerWidth(),\n\t\t\t\theight: this.element.outerHeight(),\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tleft: this.elementOffset.left + \"px\",\n\t\t\t\ttop: this.elementOffset.top + \"px\",\n\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\n\t\t\t} );\n\n\t\t\tthis.helper\n\t\t\t\t.appendTo( \"body\" )\n\t\t\t\t.disableSelection();\n\n\t\t} else {\n\t\t\tthis.helper = this.element;\n\t\t}\n\n\t},\n\n\t_change: {\n\t\te: function( event, dx ) {\n\t\t\treturn { width: this.originalSize.width + dx };\n\t\t},\n\t\tw: function( event, dx ) {\n\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\n\t\t},\n\t\tn: function( event, dx, dy ) {\n\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\n\t\t},\n\t\ts: function( event, dx, dy ) {\n\t\t\treturn { height: this.originalSize.height + dy };\n\t\t},\n\t\tse: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.s.apply( this, arguments ),\n\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\n\t\t},\n\t\tsw: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.s.apply( this, arguments ),\n\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\n\t\t},\n\t\tne: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.n.apply( this, arguments ),\n\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\n\t\t},\n\t\tnw: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.n.apply( this, arguments ),\n\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\n\t\t}\n\t},\n\n\t_propagate: function( n, event ) {\n\t\t$.ui.plugin.call( this, n, [ event, this.ui() ] );\n\t\t( n !== \"resize\" && this._trigger( n, event, this.ui() ) );\n\t},\n\n\tplugins: {},\n\n\tui: function() {\n\t\treturn {\n\t\t\toriginalElement: this.originalElement,\n\t\t\telement: this.element,\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\tsize: this.size,\n\t\t\toriginalSize: this.originalSize,\n\t\t\toriginalPosition: this.originalPosition\n\t\t};\n\t}\n\n} );\n\n/*\n * Resizable Extensions\n */\n\n$.ui.plugin.add( \"resizable\", \"animate\", {\n\n\tstop: function( event ) {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tpr = that._proportionallyResizeElements,\n\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName ),\n\t\t\tsoffseth = ista && that._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height,\n\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width,\n\t\t\tstyle = {\n\t\t\t\twidth: ( that.size.width - soffsetw ),\n\t\t\t\theight: ( that.size.height - soffseth )\n\t\t\t},\n\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\n\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null,\n\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\n\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\n\n\t\tthat.element.animate(\n\t\t\t$.extend( style, top && left ? { top: top, left: left } : {} ), {\n\t\t\t\tduration: o.animateDuration,\n\t\t\t\teasing: o.animateEasing,\n\t\t\t\tstep: function() {\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\twidth: parseFloat( that.element.css( \"width\" ) ),\n\t\t\t\t\t\theight: parseFloat( that.element.css( \"height\" ) ),\n\t\t\t\t\t\ttop: parseFloat( that.element.css( \"top\" ) ),\n\t\t\t\t\t\tleft: parseFloat( that.element.css( \"left\" ) )\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( pr && pr.length ) {\n\t\t\t\t\t\t$( pr[ 0 ] ).css( { width: data.width, height: data.height } );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Propagating resize, and updating values for each animation step\n\t\t\t\t\tthat._updateCache( data );\n\t\t\t\t\tthat._propagate( \"resize\", event );\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n} );\n\n$.ui.plugin.add( \"resizable\", \"containment\", {\n\n\tstart: function() {\n\t\tvar element, p, co, ch, cw, width, height,\n\t\t\tthat = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tel = that.element,\n\t\t\toc = o.containment,\n\t\t\tce = ( oc instanceof $ ) ?\n\t\t\t\toc.get( 0 ) :\n\t\t\t\t( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthat.containerElement = $( ce );\n\n\t\tif ( /document/.test( oc ) || oc === document ) {\n\t\t\tthat.containerOffset = {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t};\n\t\t\tthat.containerPosition = {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t};\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: $( document ),\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: $( document ).width(),\n\t\t\t\theight: $( document ).height() || document.body.parentNode.scrollHeight\n\t\t\t};\n\t\t} else {\n\t\t\telement = $( ce );\n\t\t\tp = [];\n\t\t\t$( [ \"Top\", \"Right\", \"Left\", \"Bottom\" ] ).each( function( i, name ) {\n\t\t\t\tp[ i ] = that._num( element.css( \"padding\" + name ) );\n\t\t\t} );\n\n\t\t\tthat.containerOffset = element.offset();\n\t\t\tthat.containerPosition = element.position();\n\t\t\tthat.containerSize = {\n\t\t\t\theight: ( element.innerHeight() - p[ 3 ] ),\n\t\t\t\twidth: ( element.innerWidth() - p[ 1 ] )\n\t\t\t};\n\n\t\t\tco = that.containerOffset;\n\t\t\tch = that.containerSize.height;\n\t\t\tcw = that.containerSize.width;\n\t\t\twidth = ( that._hasScroll ( ce, \"left\" ) ? ce.scrollWidth : cw );\n\t\t\theight = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: ce,\n\t\t\t\tleft: co.left,\n\t\t\t\ttop: co.top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t}\n\t},\n\n\tresize: function( event ) {\n\t\tvar woset, hoset, isParent, isOffsetRelative,\n\t\t\tthat = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tco = that.containerOffset,\n\t\t\tcp = that.position,\n\t\t\tpRatio = that._aspectRatio || event.shiftKey,\n\t\t\tcop = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t},\n\t\t\tce = that.containerElement,\n\t\t\tcontinueResize = true;\n\n\t\tif ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( \"position\" ) ) ) {\n\t\t\tcop = co;\n\t\t}\n\n\t\tif ( cp.left < ( that._helper ? co.left : 0 ) ) {\n\t\t\tthat.size.width = that.size.width +\n\t\t\t\t( that._helper ?\n\t\t\t\t\t( that.position.left - co.left ) :\n\t\t\t\t\t( that.position.left - cop.left ) );\n\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t\tthat.position.left = o.helper ? co.left : 0;\n\t\t}\n\n\t\tif ( cp.top < ( that._helper ? co.top : 0 ) ) {\n\t\t\tthat.size.height = that.size.height +\n\t\t\t\t( that._helper ?\n\t\t\t\t\t( that.position.top - co.top ) :\n\t\t\t\t\tthat.position.top );\n\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t\tthat.position.top = that._helper ? co.top : 0;\n\t\t}\n\n\t\tisParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );\n\t\tisOffsetRelative = /relative|absolute/.test( that.containerElement.css( \"position\" ) );\n\n\t\tif ( isParent && isOffsetRelative ) {\n\t\t\tthat.offset.left = that.parentData.left + that.position.left;\n\t\t\tthat.offset.top = that.parentData.top + that.position.top;\n\t\t} else {\n\t\t\tthat.offset.left = that.element.offset().left;\n\t\t\tthat.offset.top = that.element.offset().top;\n\t\t}\n\n\t\twoset = Math.abs( that.sizeDiff.width +\n\t\t\t( that._helper ?\n\t\t\t\tthat.offset.left - cop.left :\n\t\t\t\t( that.offset.left - co.left ) ) );\n\n\t\thoset = Math.abs( that.sizeDiff.height +\n\t\t\t( that._helper ?\n\t\t\t\tthat.offset.top - cop.top :\n\t\t\t\t( that.offset.top - co.top ) ) );\n\n\t\tif ( woset + that.size.width >= that.parentData.width ) {\n\t\t\tthat.size.width = that.parentData.width - woset;\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( hoset + that.size.height >= that.parentData.height ) {\n\t\t\tthat.size.height = that.parentData.height - hoset;\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( !continueResize ) {\n\t\t\tthat.position.left = that.prevPosition.left;\n\t\t\tthat.position.top = that.prevPosition.top;\n\t\t\tthat.size.width = that.prevSize.width;\n\t\t\tthat.size.height = that.prevSize.height;\n\t\t}\n\t},\n\n\tstop: function() {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tco = that.containerOffset,\n\t\t\tcop = that.containerPosition,\n\t\t\tce = that.containerElement,\n\t\t\thelper = $( that.helper ),\n\t\t\tho = helper.offset(),\n\t\t\tw = helper.outerWidth() - that.sizeDiff.width,\n\t\t\th = helper.outerHeight() - that.sizeDiff.height;\n\n\t\tif ( that._helper && !o.animate && ( /relative/ ).test( ce.css( \"position\" ) ) ) {\n\t\t\t$( this ).css( {\n\t\t\t\tleft: ho.left - cop.left - co.left,\n\t\t\t\twidth: w,\n\t\t\t\theight: h\n\t\t\t} );\n\t\t}\n\n\t\tif ( that._helper && !o.animate && ( /static/ ).test( ce.css( \"position\" ) ) ) {\n\t\t\t$( this ).css( {\n\t\t\t\tleft: ho.left - cop.left - co.left,\n\t\t\t\twidth: w,\n\t\t\t\theight: h\n\t\t\t} );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"resizable\", \"alsoResize\", {\n\n\tstart: function() {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options;\n\n\t\t$( o.alsoResize ).each( function() {\n\t\t\tvar el = $( this );\n\t\t\tel.data( \"ui-resizable-alsoresize\", {\n\t\t\t\twidth: parseFloat( el.width() ), height: parseFloat( el.height() ),\n\t\t\t\tleft: parseFloat( el.css( \"left\" ) ), top: parseFloat( el.css( \"top\" ) )\n\t\t\t} );\n\t\t} );\n\t},\n\n\tresize: function( event, ui ) {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tos = that.originalSize,\n\t\t\top = that.originalPosition,\n\t\t\tdelta = {\n\t\t\t\theight: ( that.size.height - os.height ) || 0,\n\t\t\t\twidth: ( that.size.width - os.width ) || 0,\n\t\t\t\ttop: ( that.position.top - op.top ) || 0,\n\t\t\t\tleft: ( that.position.left - op.left ) || 0\n\t\t\t};\n\n\t\t\t$( o.alsoResize ).each( function() {\n\t\t\t\tvar el = $( this ), start = $( this ).data( \"ui-resizable-alsoresize\" ), style = {},\n\t\t\t\t\tcss = el.parents( ui.originalElement[ 0 ] ).length ?\n\t\t\t\t\t\t\t[ \"width\", \"height\" ] :\n\t\t\t\t\t\t\t[ \"width\", \"height\", \"top\", \"left\" ];\n\n\t\t\t\t$.each( css, function( i, prop ) {\n\t\t\t\t\tvar sum = ( start[ prop ] || 0 ) + ( delta[ prop ] || 0 );\n\t\t\t\t\tif ( sum && sum >= 0 ) {\n\t\t\t\t\t\tstyle[ prop ] = sum || null;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tel.css( style );\n\t\t\t} );\n\t},\n\n\tstop: function() {\n\t\t$( this ).removeData( \"ui-resizable-alsoresize\" );\n\t}\n} );\n\n$.ui.plugin.add( \"resizable\", \"ghost\", {\n\n\tstart: function() {\n\n\t\tvar that = $( this ).resizable( \"instance\" ), cs = that.size;\n\n\t\tthat.ghost = that.originalElement.clone();\n\t\tthat.ghost.css( {\n\t\t\topacity: 0.25,\n\t\t\tdisplay: \"block\",\n\t\t\tposition: \"relative\",\n\t\t\theight: cs.height,\n\t\t\twidth: cs.width,\n\t\t\tmargin: 0,\n\t\t\tleft: 0,\n\t\t\ttop: 0\n\t\t} );\n\n\t\tthat._addClass( that.ghost, \"ui-resizable-ghost\" );\n\n\t\t// DEPRECATED\n\t\t// TODO: remove after 1.12\n\t\tif ( $.uiBackCompat !== false && typeof that.options.ghost === \"string\" ) {\n\n\t\t\t// Ghost option\n\t\t\tthat.ghost.addClass( this.options.ghost );\n\t\t}\n\n\t\tthat.ghost.appendTo( that.helper );\n\n\t},\n\n\tresize: function() {\n\t\tvar that = $( this ).resizable( \"instance\" );\n\t\tif ( that.ghost ) {\n\t\t\tthat.ghost.css( {\n\t\t\t\tposition: \"relative\",\n\t\t\t\theight: that.size.height,\n\t\t\t\twidth: that.size.width\n\t\t\t} );\n\t\t}\n\t},\n\n\tstop: function() {\n\t\tvar that = $( this ).resizable( \"instance\" );\n\t\tif ( that.ghost && that.helper ) {\n\t\t\tthat.helper.get( 0 ).removeChild( that.ghost.get( 0 ) );\n\t\t}\n\t}\n\n} );\n\n$.ui.plugin.add( \"resizable\", \"grid\", {\n\n\tresize: function() {\n\t\tvar outerDimensions,\n\t\t\tthat = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tcs = that.size,\n\t\t\tos = that.originalSize,\n\t\t\top = that.originalPosition,\n\t\t\ta = that.axis,\n\t\t\tgrid = typeof o.grid === \"number\" ? [ o.grid, o.grid ] : o.grid,\n\t\t\tgridX = ( grid[ 0 ] || 1 ),\n\t\t\tgridY = ( grid[ 1 ] || 1 ),\n\t\t\tox = Math.round( ( cs.width - os.width ) / gridX ) * gridX,\n\t\t\toy = Math.round( ( cs.height - os.height ) / gridY ) * gridY,\n\t\t\tnewWidth = os.width + ox,\n\t\t\tnewHeight = os.height + oy,\n\t\t\tisMaxWidth = o.maxWidth && ( o.maxWidth < newWidth ),\n\t\t\tisMaxHeight = o.maxHeight && ( o.maxHeight < newHeight ),\n\t\t\tisMinWidth = o.minWidth && ( o.minWidth > newWidth ),\n\t\t\tisMinHeight = o.minHeight && ( o.minHeight > newHeight );\n\n\t\to.grid = grid;\n\n\t\tif ( isMinWidth ) {\n\t\t\tnewWidth += gridX;\n\t\t}\n\t\tif ( isMinHeight ) {\n\t\t\tnewHeight += gridY;\n\t\t}\n\t\tif ( isMaxWidth ) {\n\t\t\tnewWidth -= gridX;\n\t\t}\n\t\tif ( isMaxHeight ) {\n\t\t\tnewHeight -= gridY;\n\t\t}\n\n\t\tif ( /^(se|s|e)$/.test( a ) ) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t} else if ( /^(ne)$/.test( a ) ) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.top = op.top - oy;\n\t\t} else if ( /^(sw)$/.test( a ) ) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.left = op.left - ox;\n\t\t} else {\n\t\t\tif ( newHeight - gridY <= 0 || newWidth - gridX <= 0 ) {\n\t\t\t\touterDimensions = that._getPaddingPlusBorderDimensions( this );\n\t\t\t}\n\n\t\t\tif ( newHeight - gridY > 0 ) {\n\t\t\t\tthat.size.height = newHeight;\n\t\t\t\tthat.position.top = op.top - oy;\n\t\t\t} else {\n\t\t\t\tnewHeight = gridY - outerDimensions.height;\n\t\t\t\tthat.size.height = newHeight;\n\t\t\t\tthat.position.top = op.top + os.height - newHeight;\n\t\t\t}\n\t\t\tif ( newWidth - gridX > 0 ) {\n\t\t\t\tthat.size.width = newWidth;\n\t\t\t\tthat.position.left = op.left - ox;\n\t\t\t} else {\n\t\t\t\tnewWidth = gridX - outerDimensions.width;\n\t\t\t\tthat.size.width = newWidth;\n\t\t\t\tthat.position.left = op.left + os.width - newWidth;\n\t\t\t}\n\t\t}\n\t}\n\n} );\n\nreturn $.ui.resizable;\n\n} ) );\n","/*!\n * jQuery UI Spinner 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Spinner\n//>>group: Widgets\n//>>description: Displays buttons to easily input numbers via the keyboard or mouse.\n//>>docs: http://api.jqueryui.com/spinner/\n//>>demos: http://jqueryui.com/spinner/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/spinner.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./button\",\n\t\t\t\"../version\",\n\t\t\t\"../keycode\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nfunction spinnerModifer( fn ) {\n\treturn function() {\n\t\tvar previous = this.element.val();\n\t\tfn.apply( this, arguments );\n\t\tthis._refresh();\n\t\tif ( previous !== this.element.val() ) {\n\t\t\tthis._trigger( \"change\" );\n\t\t}\n\t};\n}\n\n$.widget( \"ui.spinner\", {\n\tversion: \"1.12.1\",\n\tdefaultElement: \"<input>\",\n\twidgetEventPrefix: \"spin\",\n\toptions: {\n\t\tclasses: {\n\t\t\t\"ui-spinner\": \"ui-corner-all\",\n\t\t\t\"ui-spinner-down\": \"ui-corner-br\",\n\t\t\t\"ui-spinner-up\": \"ui-corner-tr\"\n\t\t},\n\t\tculture: null,\n\t\ticons: {\n\t\t\tdown: \"ui-icon-triangle-1-s\",\n\t\t\tup: \"ui-icon-triangle-1-n\"\n\t\t},\n\t\tincremental: true,\n\t\tmax: null,\n\t\tmin: null,\n\t\tnumberFormat: null,\n\t\tpage: 10,\n\t\tstep: 1,\n\n\t\tchange: null,\n\t\tspin: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\n\t_create: function() {\n\n\t\t// handle string values that need to be parsed\n\t\tthis._setOption( \"max\", this.options.max );\n\t\tthis._setOption( \"min\", this.options.min );\n\t\tthis._setOption( \"step\", this.options.step );\n\n\t\t// Only format if there is a value, prevents the field from being marked\n\t\t// as invalid in Firefox, see #9573.\n\t\tif ( this.value() !== \"\" ) {\n\n\t\t\t// Format the value, but don't constrain.\n\t\t\tthis._value( this.element.val(), true );\n\t\t}\n\n\t\tthis._draw();\n\t\tthis._on( this._events );\n\t\tthis._refresh();\n\n\t\t// Turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_getCreateOptions: function() {\n\t\tvar options = this._super();\n\t\tvar element = this.element;\n\n\t\t$.each( [ \"min\", \"max\", \"step\" ], function( i, option ) {\n\t\t\tvar value = element.attr( option );\n\t\t\tif ( value != null && value.length ) {\n\t\t\t\toptions[ option ] = value;\n\t\t\t}\n\t\t} );\n\n\t\treturn options;\n\t},\n\n\t_events: {\n\t\tkeydown: function( event ) {\n\t\t\tif ( this._start( event ) && this._keydown( event ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\t\tkeyup: \"_stop\",\n\t\tfocus: function() {\n\t\t\tthis.previous = this.element.val();\n\t\t},\n\t\tblur: function( event ) {\n\t\t\tif ( this.cancelBlur ) {\n\t\t\t\tdelete this.cancelBlur;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._stop();\n\t\t\tthis._refresh();\n\t\t\tif ( this.previous !== this.element.val() ) {\n\t\t\t\tthis._trigger( \"change\", event );\n\t\t\t}\n\t\t},\n\t\tmousewheel: function( event, delta ) {\n\t\t\tif ( !delta ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !this.spinning && !this._start( event ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis._spin( ( delta > 0 ? 1 : -1 ) * this.options.step, event );\n\t\t\tclearTimeout( this.mousewheelTimer );\n\t\t\tthis.mousewheelTimer = this._delay( function() {\n\t\t\t\tif ( this.spinning ) {\n\t\t\t\t\tthis._stop( event );\n\t\t\t\t}\n\t\t\t}, 100 );\n\t\t\tevent.preventDefault();\n\t\t},\n\t\t\"mousedown .ui-spinner-button\": function( event ) {\n\t\t\tvar previous;\n\n\t\t\t// We never want the buttons to have focus; whenever the user is\n\t\t\t// interacting with the spinner, the focus should be on the input.\n\t\t\t// If the input is focused then this.previous is properly set from\n\t\t\t// when the input first received focus. If the input is not focused\n\t\t\t// then we need to set this.previous based on the value before spinning.\n\t\t\tprevious = this.element[ 0 ] === $.ui.safeActiveElement( this.document[ 0 ] ) ?\n\t\t\t\tthis.previous : this.element.val();\n\t\t\tfunction checkFocus() {\n\t\t\t\tvar isActive = this.element[ 0 ] === $.ui.safeActiveElement( this.document[ 0 ] );\n\t\t\t\tif ( !isActive ) {\n\t\t\t\t\tthis.element.trigger( \"focus\" );\n\t\t\t\t\tthis.previous = previous;\n\n\t\t\t\t\t// support: IE\n\t\t\t\t\t// IE sets focus asynchronously, so we need to check if focus\n\t\t\t\t\t// moved off of the input because the user clicked on the button.\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Ensure focus is on (or stays on) the text field\n\t\t\tevent.preventDefault();\n\t\t\tcheckFocus.call( this );\n\n\t\t\t// Support: IE\n\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t// and check (again) if focus moved off of the input.\n\t\t\tthis.cancelBlur = true;\n\t\t\tthis._delay( function() {\n\t\t\t\tdelete this.cancelBlur;\n\t\t\t\tcheckFocus.call( this );\n\t\t\t} );\n\n\t\t\tif ( this._start( event ) === false ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._repeat( null, $( event.currentTarget )\n\t\t\t\t.hasClass( \"ui-spinner-up\" ) ? 1 : -1, event );\n\t\t},\n\t\t\"mouseup .ui-spinner-button\": \"_stop\",\n\t\t\"mouseenter .ui-spinner-button\": function( event ) {\n\n\t\t\t// button will add ui-state-active if mouse was down while mouseleave and kept down\n\t\t\tif ( !$( event.currentTarget ).hasClass( \"ui-state-active\" ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this._start( event ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._repeat( null, $( event.currentTarget )\n\t\t\t\t.hasClass( \"ui-spinner-up\" ) ? 1 : -1, event );\n\t\t},\n\n\t\t// TODO: do we really want to consider this a stop?\n\t\t// shouldn't we just stop the repeater and wait until mouseup before\n\t\t// we trigger the stop event?\n\t\t\"mouseleave .ui-spinner-button\": \"_stop\"\n\t},\n\n\t// Support mobile enhanced option and make backcompat more sane\n\t_enhance: function() {\n\t\tthis.uiSpinner = this.element\n\t\t\t.attr( \"autocomplete\", \"off\" )\n\t\t\t.wrap( \"<span>\" )\n\t\t\t.parent()\n\n\t\t\t\t// Add buttons\n\t\t\t\t.append(\n\t\t\t\t\t\"<a></a><a></a>\"\n\t\t\t\t);\n\t},\n\n\t_draw: function() {\n\t\tthis._enhance();\n\n\t\tthis._addClass( this.uiSpinner, \"ui-spinner\", \"ui-widget ui-widget-content\" );\n\t\tthis._addClass( \"ui-spinner-input\" );\n\n\t\tthis.element.attr( \"role\", \"spinbutton\" );\n\n\t\t// Button bindings\n\t\tthis.buttons = this.uiSpinner.children( \"a\" )\n\t\t\t.attr( \"tabIndex\", -1 )\n\t\t\t.attr( \"aria-hidden\", true )\n\t\t\t.button( {\n\t\t\t\tclasses: {\n\t\t\t\t\t\"ui-button\": \"\"\n\t\t\t\t}\n\t\t\t} );\n\n\t\t// TODO: Right now button does not support classes this is already updated in button PR\n\t\tthis._removeClass( this.buttons, \"ui-corner-all\" );\n\n\t\tthis._addClass( this.buttons.first(), \"ui-spinner-button ui-spinner-up\" );\n\t\tthis._addClass( this.buttons.last(), \"ui-spinner-button ui-spinner-down\" );\n\t\tthis.buttons.first().button( {\n\t\t\t\"icon\": this.options.icons.up,\n\t\t\t\"showLabel\": false\n\t\t} );\n\t\tthis.buttons.last().button( {\n\t\t\t\"icon\": this.options.icons.down,\n\t\t\t\"showLabel\": false\n\t\t} );\n\n\t\t// IE 6 doesn't understand height: 50% for the buttons\n\t\t// unless the wrapper has an explicit height\n\t\tif ( this.buttons.height() > Math.ceil( this.uiSpinner.height() * 0.5 ) &&\n\t\t\t\tthis.uiSpinner.height() > 0 ) {\n\t\t\tthis.uiSpinner.height( this.uiSpinner.height() );\n\t\t}\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar options = this.options,\n\t\t\tkeyCode = $.ui.keyCode;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase keyCode.UP:\n\t\t\tthis._repeat( null, 1, event );\n\t\t\treturn true;\n\t\tcase keyCode.DOWN:\n\t\t\tthis._repeat( null, -1, event );\n\t\t\treturn true;\n\t\tcase keyCode.PAGE_UP:\n\t\t\tthis._repeat( null, options.page, event );\n\t\t\treturn true;\n\t\tcase keyCode.PAGE_DOWN:\n\t\t\tthis._repeat( null, -options.page, event );\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_start: function( event ) {\n\t\tif ( !this.spinning && this._trigger( \"start\", event ) === false ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !this.counter ) {\n\t\t\tthis.counter = 1;\n\t\t}\n\t\tthis.spinning = true;\n\t\treturn true;\n\t},\n\n\t_repeat: function( i, steps, event ) {\n\t\ti = i || 500;\n\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay( function() {\n\t\t\tthis._repeat( 40, steps, event );\n\t\t}, i );\n\n\t\tthis._spin( steps * this.options.step, event );\n\t},\n\n\t_spin: function( step, event ) {\n\t\tvar value = this.value() || 0;\n\n\t\tif ( !this.counter ) {\n\t\t\tthis.counter = 1;\n\t\t}\n\n\t\tvalue = this._adjustValue( value + step * this._increment( this.counter ) );\n\n\t\tif ( !this.spinning || this._trigger( \"spin\", event, { value: value } ) !== false ) {\n\t\t\tthis._value( value );\n\t\t\tthis.counter++;\n\t\t}\n\t},\n\n\t_increment: function( i ) {\n\t\tvar incremental = this.options.incremental;\n\n\t\tif ( incremental ) {\n\t\t\treturn $.isFunction( incremental ) ?\n\t\t\t\tincremental( i ) :\n\t\t\t\tMath.floor( i * i * i / 50000 - i * i / 500 + 17 * i / 200 + 1 );\n\t\t}\n\n\t\treturn 1;\n\t},\n\n\t_precision: function() {\n\t\tvar precision = this._precisionOf( this.options.step );\n\t\tif ( this.options.min !== null ) {\n\t\t\tprecision = Math.max( precision, this._precisionOf( this.options.min ) );\n\t\t}\n\t\treturn precision;\n\t},\n\n\t_precisionOf: function( num ) {\n\t\tvar str = num.toString(),\n\t\t\tdecimal = str.indexOf( \".\" );\n\t\treturn decimal === -1 ? 0 : str.length - decimal - 1;\n\t},\n\n\t_adjustValue: function( value ) {\n\t\tvar base, aboveMin,\n\t\t\toptions = this.options;\n\n\t\t// Make sure we're at a valid step\n\t\t// - find out where we are relative to the base (min or 0)\n\t\tbase = options.min !== null ? options.min : 0;\n\t\taboveMin = value - base;\n\n\t\t// - round to the nearest step\n\t\taboveMin = Math.round( aboveMin / options.step ) * options.step;\n\n\t\t// - rounding is based on 0, so adjust back to our base\n\t\tvalue = base + aboveMin;\n\n\t\t// Fix precision from bad JS floating point math\n\t\tvalue = parseFloat( value.toFixed( this._precision() ) );\n\n\t\t// Clamp the value\n\t\tif ( options.max !== null && value > options.max ) {\n\t\t\treturn options.max;\n\t\t}\n\t\tif ( options.min !== null && value < options.min ) {\n\t\t\treturn options.min;\n\t\t}\n\n\t\treturn value;\n\t},\n\n\t_stop: function( event ) {\n\t\tif ( !this.spinning ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout( this.timer );\n\t\tclearTimeout( this.mousewheelTimer );\n\t\tthis.counter = 0;\n\t\tthis.spinning = false;\n\t\tthis._trigger( \"stop\", event );\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar prevValue, first, last;\n\n\t\tif ( key === \"culture\" || key === \"numberFormat\" ) {\n\t\t\tprevValue = this._parse( this.element.val() );\n\t\t\tthis.options[ key ] = value;\n\t\t\tthis.element.val( this._format( prevValue ) );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === \"max\" || key === \"min\" || key === \"step\" ) {\n\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\tvalue = this._parse( value );\n\t\t\t}\n\t\t}\n\t\tif ( key === \"icons\" ) {\n\t\t\tfirst = this.buttons.first().find( \".ui-icon\" );\n\t\t\tthis._removeClass( first, null, this.options.icons.up );\n\t\t\tthis._addClass( first, null, value.up );\n\t\t\tlast = this.buttons.last().find( \".ui-icon\" );\n\t\t\tthis._removeClass( last, null, this.options.icons.down );\n\t\t\tthis._addClass( last, null, value.down );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._super( value );\n\n\t\tthis._toggleClass( this.uiSpinner, null, \"ui-state-disabled\", !!value );\n\t\tthis.element.prop( \"disabled\", !!value );\n\t\tthis.buttons.button( value ? \"disable\" : \"enable\" );\n\t},\n\n\t_setOptions: spinnerModifer( function( options ) {\n\t\tthis._super( options );\n\t} ),\n\n\t_parse: function( val ) {\n\t\tif ( typeof val === \"string\" && val !== \"\" ) {\n\t\t\tval = window.Globalize && this.options.numberFormat ?\n\t\t\t\tGlobalize.parseFloat( val, 10, this.options.culture ) : +val;\n\t\t}\n\t\treturn val === \"\" || isNaN( val ) ? null : val;\n\t},\n\n\t_format: function( value ) {\n\t\tif ( value === \"\" ) {\n\t\t\treturn \"\";\n\t\t}\n\t\treturn window.Globalize && this.options.numberFormat ?\n\t\t\tGlobalize.format( value, this.options.numberFormat, this.options.culture ) :\n\t\t\tvalue;\n\t},\n\n\t_refresh: function() {\n\t\tthis.element.attr( {\n\t\t\t\"aria-valuemin\": this.options.min,\n\t\t\t\"aria-valuemax\": this.options.max,\n\n\t\t\t// TODO: what should we do with values that can't be parsed?\n\t\t\t\"aria-valuenow\": this._parse( this.element.val() )\n\t\t} );\n\t},\n\n\tisValid: function() {\n\t\tvar value = this.value();\n\n\t\t// Null is invalid\n\t\tif ( value === null ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If value gets adjusted, it's invalid\n\t\treturn value === this._adjustValue( value );\n\t},\n\n\t// Update the value without triggering change\n\t_value: function( value, allowAny ) {\n\t\tvar parsed;\n\t\tif ( value !== \"\" ) {\n\t\t\tparsed = this._parse( value );\n\t\t\tif ( parsed !== null ) {\n\t\t\t\tif ( !allowAny ) {\n\t\t\t\t\tparsed = this._adjustValue( parsed );\n\t\t\t\t}\n\t\t\t\tvalue = this._format( parsed );\n\t\t\t}\n\t\t}\n\t\tthis.element.val( value );\n\t\tthis._refresh();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.prop( \"disabled\", false )\n\t\t\t.removeAttr( \"autocomplete role aria-valuemin aria-valuemax aria-valuenow\" );\n\n\t\tthis.uiSpinner.replaceWith( this.element );\n\t},\n\n\tstepUp: spinnerModifer( function( steps ) {\n\t\tthis._stepUp( steps );\n\t} ),\n\t_stepUp: function( steps ) {\n\t\tif ( this._start() ) {\n\t\t\tthis._spin( ( steps || 1 ) * this.options.step );\n\t\t\tthis._stop();\n\t\t}\n\t},\n\n\tstepDown: spinnerModifer( function( steps ) {\n\t\tthis._stepDown( steps );\n\t} ),\n\t_stepDown: function( steps ) {\n\t\tif ( this._start() ) {\n\t\t\tthis._spin( ( steps || 1 ) * -this.options.step );\n\t\t\tthis._stop();\n\t\t}\n\t},\n\n\tpageUp: spinnerModifer( function( pages ) {\n\t\tthis._stepUp( ( pages || 1 ) * this.options.page );\n\t} ),\n\n\tpageDown: spinnerModifer( function( pages ) {\n\t\tthis._stepDown( ( pages || 1 ) * this.options.page );\n\t} ),\n\n\tvalue: function( newVal ) {\n\t\tif ( !arguments.length ) {\n\t\t\treturn this._parse( this.element.val() );\n\t\t}\n\t\tspinnerModifer( this._value ).call( this, newVal );\n\t},\n\n\twidget: function() {\n\t\treturn this.uiSpinner;\n\t}\n} );\n\n// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif ( $.uiBackCompat !== false ) {\n\n\t// Backcompat for spinner html extension points\n\t$.widget( \"ui.spinner\", $.ui.spinner, {\n\t\t_enhance: function() {\n\t\t\tthis.uiSpinner = this.element\n\t\t\t\t.attr( \"autocomplete\", \"off\" )\n\t\t\t\t.wrap( this._uiSpinnerHtml() )\n\t\t\t\t.parent()\n\n\t\t\t\t\t// Add buttons\n\t\t\t\t\t.append( this._buttonHtml() );\n\t\t},\n\t\t_uiSpinnerHtml: function() {\n\t\t\treturn \"<span>\";\n\t\t},\n\n\t\t_buttonHtml: function() {\n\t\t\treturn \"<a></a><a></a>\";\n\t\t}\n\t} );\n}\n\nreturn $.ui.spinner;\n\n} ) );\n","!function(e,r){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=r();else if(\"function\"==typeof define&&define.amd)define([],r);else{var t=r();for(var n in t)(\"object\"==typeof exports?exports:e)[n]=t[n]}}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,r,t){e.exports=t(1)},function(e,r,t){\"use strict\";function n(){var e=\"undefined\"==typeof JSON?{}:JSON;o.setupJSON(e)}var o=t(2),i=t(3);n();var a=window._rollbarConfig,s=a&&a.globalAlias||\"Rollbar\",u=window[s]&&\"undefined\"!=typeof window[s].shimId;!u&&a?o.wrapper.init(a):(window.Rollbar=o.wrapper,window.RollbarNotifier=i.Notifier),e.exports=o.wrapper},function(e,r,t){\"use strict\";function n(e,r,t){!t[4]&&window._rollbarWrappedError&&(t[4]=window._rollbarWrappedError,window._rollbarWrappedError=null),e.uncaughtError.apply(e,t),r&&r.apply(window,t)}function o(e,r){if(r.hasOwnProperty&&r.hasOwnProperty(\"addEventListener\")){var t=r.addEventListener;r.addEventListener=function(r,n,o){t.call(this,r,e.wrap(n),o)};var n=r.removeEventListener;r.removeEventListener=function(e,r,t){n.call(this,e,r&&r._wrapped||r,t)}}}var i=t(3),a=t(8),s=i.Notifier;window._rollbarWrappedError=null;var u={};u.init=function(e,r){var t=new s(r);if(t.configure(e),e.captureUncaught){var i;r&&a.isType(r._rollbarOldOnError,\"function\")?i=r._rollbarOldOnError:window.onerror&&!window.onerror.belongsToShim&&(i=window.onerror),window.onerror=function(){var e=Array.prototype.slice.call(arguments,0);n(t,i,e)};var u,c,l=[\"EventTarget\",\"Window\",\"Node\",\"ApplicationCache\",\"AudioTrackList\",\"ChannelMergerNode\",\"CryptoOperation\",\"EventSource\",\"FileReader\",\"HTMLUnknownElement\",\"IDBDatabase\",\"IDBRequest\",\"IDBTransaction\",\"KeyOperation\",\"MediaController\",\"MessagePort\",\"ModalWindow\",\"Notification\",\"SVGElementInstance\",\"Screen\",\"TextTrack\",\"TextTrackCue\",\"TextTrackList\",\"WebSocket\",\"WebSocketWorker\",\"Worker\",\"XMLHttpRequest\",\"XMLHttpRequestEventTarget\",\"XMLHttpRequestUpload\"];for(u=0;u<l.length;++u)c=l[u],window[c]&&window[c].prototype&&o(t,window[c].prototype)}return e.captureUnhandledRejections&&(r&&a.isType(r._unhandledRejectionHandler,\"function\")&&window.removeEventListener(\"unhandledrejection\",r._unhandledRejectionHandler),t._unhandledRejectionHandler=function(e){var r=e.reason,n=e.promise,o=e.detail;!r&&o&&(r=o.reason,n=o.promise),t.unhandledRejection(r,n)},window.addEventListener(\"unhandledrejection\",t._unhandledRejectionHandler)),window.Rollbar=t,s.processPayloads(),t},e.exports={wrapper:u,setupJSON:i.setupJSON}},function(e,r,t){\"use strict\";function n(e){E=e,w.setupJSON(e)}function o(e,r){return function(){var t=r||this;try{return e.apply(t,arguments)}catch(n){console.error(\"[Rollbar]:\",n)}}}function i(){h||(h=setTimeout(f,1e3))}function a(){return _}function s(e){_=_||this;var r=\"https://\"+s.DEFAULT_ENDPOINT;this.options={enabled:!0,endpoint:r,environment:\"production\",scrubFields:g([],s.DEFAULT_SCRUB_FIELDS),checkIgnore:null,logLevel:s.DEFAULT_LOG_LEVEL,reportLevel:s.DEFAULT_REPORT_LEVEL,uncaughtErrorLevel:s.DEFAULT_UNCAUGHT_ERROR_LEVEL,payload:{}},this.lastError=null,this.plugins={},this.parentNotifier=e,e&&(e.hasOwnProperty(\"shimId\")?e.notifier=this:this.configure(e.options))}function u(e){window._rollbarPayloadQueue.push(e),i()}function c(e){return o(function(){var r=this._getLogArgs(arguments);return this._log(e||r.level||this.options.logLevel||s.DEFAULT_LOG_LEVEL,r.message,r.err,r.custom,r.callback)})}function l(e,r){e||(e=r?E.stringify(r):\"\");var t={body:e};return r&&(t.extra=g(!0,{},r)),{message:t}}function p(e,r,t){var n=m.guessErrorClass(r.message),o=r.name||n[0],i=n[1],a={exception:{\"class\":o,message:i}};if(e&&(a.exception.description=e||\"uncaught exception\"),r.stack){var s,u,c,p,f,d,h,w;for(a.frames=[],h=0;h<r.stack.length;++h)s=r.stack[h],u={filename:s.url?v.sanitizeUrl(s.url):\"(unknown)\",lineno:s.line||null,method:s.func&&\"?\"!==s.func?s.func:\"[anonymous]\",colno:s.column},c=p=f=null,d=s.context?s.context.length:0,d&&(w=Math.floor(d/2),p=s.context.slice(0,w),c=s.context[w],f=s.context.slice(w)),c&&(u.code=c),(p||f)&&(u.context={},p&&p.length&&(u.context.pre=p),f&&f.length&&(u.context.post=f)),s.args&&(u.args=s.args),a.frames.push(u);return a.frames.reverse(),t&&(a.extra=g(!0,{},t)),{trace:a}}return l(o+\": \"+i,t)}function f(){var e;try{for(;e=window._rollbarPayloadQueue.shift();)d(e)}finally{h=void 0}}function d(e){var r=e.endpointUrl,t=e.accessToken,n=e.payload,o=e.callback||function(){},i=(new Date).getTime();i-L>=6e4&&(L=i,R=0);var a=window._globalRollbarOptions.maxItems,c=window._globalRollbarOptions.itemsPerMinute,l=function(){return!n.ignoreRateLimit&&a>=1&&T>=a},p=function(){return!n.ignoreRateLimit&&c>=1&&R>=c};return l()?void o(new Error(a+\" max items reached\")):p()?void o(new Error(c+\" items per minute reached\")):(T++,R++,l()&&_._log(_.options.uncaughtErrorLevel,\"maxItems has been hit. Ignoring errors for the remainder of the current page load.\",null,{maxItems:a},null,!1,!0),n.ignoreRateLimit&&delete n.ignoreRateLimit,void y.post(r,t,n,function(r,t){return r?(r instanceof b&&(e.callback=function(){},setTimeout(function(){u(e)},s.RETRY_DELAY)),o(r)):o(null,t)}))}var h,g=t(4),m=t(5),v=t(8),w=t(10),y=w.XHR,b=w.ConnectionError,E=null;s.NOTIFIER_VERSION=\"1.9.2\",s.DEFAULT_ENDPOINT=\"api.rollbar.com/api/1/\",s.DEFAULT_SCRUB_FIELDS=[\"pw\",\"pass\",\"passwd\",\"password\",\"secret\",\"confirm_password\",\"confirmPassword\",\"password_confirmation\",\"passwordConfirmation\",\"access_token\",\"accessToken\",\"secret_key\",\"secretKey\",\"secretToken\"],s.DEFAULT_LOG_LEVEL=\"debug\",s.DEFAULT_REPORT_LEVEL=\"debug\",s.DEFAULT_UNCAUGHT_ERROR_LEVEL=\"error\",s.DEFAULT_ITEMS_PER_MIN=60,s.DEFAULT_MAX_ITEMS=0,s.LEVELS={debug:0,info:1,warning:2,error:3,critical:4},s.RETRY_DELAY=1e4,window._rollbarPayloadQueue=window._rollbarPayloadQueue||[],window._globalRollbarOptions={startTime:(new Date).getTime(),maxItems:s.DEFAULT_MAX_ITEMS,itemsPerMinute:s.DEFAULT_ITEMS_PER_MIN};var _,x=s.prototype;x._getLogArgs=function(e){for(var r,t,n,i,a,u,c=this.options.logLevel||s.DEFAULT_LOG_LEVEL,l=[],p=0;p<e.length;++p)u=e[p],a=v.typeName(u),\"string\"===a?r?l.push(u):r=u:\"function\"===a?i=o(u,this):\"date\"===a?l.push(u):\"error\"===a||u instanceof Error||\"undefined\"!=typeof DOMException&&u instanceof DOMException?t?l.push(u):t=u:\"object\"!==a&&\"array\"!==a||(n?l.push(u):n=u);return l.length&&(n=n||{},n.extraArgs=l),{level:c,message:r,err:t,custom:n,callback:i}},x._route=function(e){var r=this.options.endpoint,t=/\\/$/.test(r),n=/^\\//.test(e);return t&&n?e=e.substring(1):t||n||(e=\"/\"+e),r+e},x._processShimQueue=function(e){for(var r,t,n,o,i,a,u,c={};t=e.shift();)r=t.shim,n=t.method,o=t.args,i=r.parentShim,u=c[r.shimId],u||(i?(a=c[i.shimId],u=new s(a)):u=this,c[r.shimId]=u),u[n]&&v.isType(u[n],\"function\")&&u[n].apply(u,o)},x._buildPayload=function(e,r,t,n,o){var i=this.options.accessToken,a=this.options.environment,u=g(!0,{},this.options.payload),c=v.uuid4();if(void 0===s.LEVELS[r])throw new Error(\"Invalid level\");if(!t&&!n&&!o)throw new Error(\"No message, stack info or custom data\");var l={environment:a,endpoint:this.options.endpoint,uuid:c,level:r,platform:\"browser\",framework:\"browser-js\",language:\"javascript\",body:this._buildBody(t,n,o),request:{url:window.location.href,query_string:window.location.search,user_ip:\"$remote_ip\"},client:{runtime_ms:e.getTime()-window._globalRollbarOptions.startTime,timestamp:Math.round(e.getTime()/1e3),javascript:{browser:window.navigator.userAgent,language:window.navigator.language,cookie_enabled:window.navigator.cookieEnabled,screen:{width:window.screen.width,height:window.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:\"rollbar-browser-js\",version:s.NOTIFIER_VERSION}};u.body&&delete u.body;var p={access_token:i,data:g(!0,l,u)};return this._scrub(p.data),p},x._buildBody=function(e,r,t){var n;return n=r?p(e,r,t):l(e,t)},x._getBrowserPlugins=function(){if(!this._browserPlugins){var e,r,t=window.navigator.plugins||[],n=t.length,o=[];for(r=0;r<n;++r)e=t[r],o.push({name:e.name,description:e.description});this._browserPlugins=o}return this._browserPlugins},x._scrub=function(e){function r(e,r,t,n,o,i){return r+v.redact(i)}function t(e){var t;if(v.isType(e,\"string\"))for(t=0;t<s.length;++t)e=e.replace(s[t],r);return e}function n(e,r){var t;for(t=0;t<a.length;++t)if(a[t].test(e)){r=v.redact(r);break}return r}function o(e,r){var o=n(e,r);return o===r?t(o):o}var i=this.options.scrubFields,a=this._getScrubFieldRegexs(i),s=this._getScrubQueryParamRegexs(i);return v.traverse(e,o),e},x._getScrubFieldRegexs=function(e){for(var r,t=[],n=0;n<e.length;++n)r=\"\\\\[?(%5[bB])?\"+e[n]+\"\\\\[?(%5[bB])?\\\\]?(%5[dD])?\",t.push(new RegExp(r,\"i\"));return t},x._getScrubQueryParamRegexs=function(e){for(var r,t=[],n=0;n<e.length;++n)r=\"\\\\[?(%5[bB])?\"+e[n]+\"\\\\[?(%5[bB])?\\\\]?(%5[dD])?\",t.push(new RegExp(\"(\"+r+\"=)([^&\\\\n]+)\",\"igm\"));return t},x._urlIsWhitelisted=function(e){var r,t,n,o,i,a,s,u,c,l;try{if(r=this.options.hostWhiteList,t=e&&e.data&&e.data.body&&e.data.body.trace,!r||0===r.length)return!0;if(!t)return!0;for(s=r.length,i=t.frames.length,c=0;c<i;c++){if(n=t.frames[c],o=n.filename,!v.isType(o,\"string\"))return!0;for(l=0;l<s;l++)if(a=r[l],u=new RegExp(a),u.test(o))return!0}}catch(p){return this.configure({hostWhiteList:null}),console.error(\"[Rollbar]: Error while reading your configuration's hostWhiteList option. Removing custom hostWhiteList.\",p),!0}return!1},x._messageIsIgnored=function(e){var r,t,n,o,i,a,s,u,c;try{if(i=!1,n=this.options.ignoredMessages,!n||0===n.length)return!1;if(s=e&&e.data&&e.data.body,u=s&&s.trace&&s.trace.exception&&s.trace.exception.message,c=s&&s.message&&s.message.body,r=u||c,!r)return!1;for(o=n.length,t=0;t<o&&(a=new RegExp(n[t],\"gi\"),!(i=a.test(r)));t++);}catch(l){this.configure({ignoredMessages:null}),console.error(\"[Rollbar]: Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.\")}return i},x._enqueuePayload=function(e,r,t,n){var o={callback:n,accessToken:this.options.accessToken,endpointUrl:this._route(\"item/\"),payload:e},i=function(){if(n){var e=\"This item was not sent to Rollbar because it was ignored. This can happen if a custom checkIgnore() function was used or if the item's level was less than the notifier' reportLevel. See https://rollbar.com/docs/notifier/rollbar.js/configuration for more details.\";n(null,{err:0,result:{id:null,uuid:null,message:e}})}};if(this._internalCheckIgnore(r,t,e))return void i();try{if(v.isType(this.options.checkIgnore,\"function\")&&this.options.checkIgnore(r,t,e))return void i()}catch(a){this.configure({checkIgnore:null}),console.error(\"[Rollbar]: Error while calling custom checkIgnore() function. Removing custom checkIgnore().\",a)}if(this._urlIsWhitelisted(e)&&!this._messageIsIgnored(e)){if(this.options.verbose){if(e.data&&e.data.body&&e.data.body.trace){var s=e.data.body.trace,c=s.exception.message;console.error(\"[Rollbar]: \",c)}console.info(\"[Rollbar]: \",o)}v.isType(this.options.logFunction,\"function\")&&this.options.logFunction(o);try{v.isType(this.options.transform,\"function\")&&this.options.transform(e)}catch(a){this.configure({transform:null}),console.error(\"[Rollbar]: Error while calling custom transform() function. Removing custom transform().\",a)}this.options.enabled&&u(o)}},x._internalCheckIgnore=function(e,r,t){var n=r[0],o=s.LEVELS[n]||0,i=s.LEVELS[this.options.reportLevel]||0;if(o<i)return!0;var a=this.options?this.options.plugins:{};if(a&&a.jquery&&a.jquery.ignoreAjaxErrors)try{return!!t.data.body.message.extra.isAjax}catch(u){return!1}return!1},x._log=function(e,r,t,n,o,i,a){var s=null;if(t)try{if(s=t._savedStackTrace?t._savedStackTrace:m.parse(t),t===this.lastError)return;this.lastError=t}catch(u){console.error(\"[Rollbar]: Error while parsing the error object.\",u),r=t.message||t.description||r||String(t),t=null}var c=this._buildPayload(new Date,e,r,s,n);a&&(c.ignoreRateLimit=!0),this._enqueuePayload(c,!!i,[e,r,t,n],o)},x.log=c(),x.debug=c(\"debug\"),x.info=c(\"info\"),x.warn=c(\"warning\"),x.warning=c(\"warning\"),x.error=c(\"error\"),x.critical=c(\"critical\"),x.uncaughtError=o(function(e,r,t,n,o,i){if(i=i||null,o&&v.isType(o,\"error\"))return void this._log(this.options.uncaughtErrorLevel,e,o,i,null,!0);if(r&&v.isType(r,\"error\"))return void this._log(this.options.uncaughtErrorLevel,e,r,i,null,!0);var a={url:r||\"\",line:t};a.func=m.guessFunctionName(a.url,a.line),a.context=m.gatherContext(a.url,a.line);var s={mode:\"onerror\",message:o?String(o):e||\"uncaught exception\",url:document.location.href,stack:[a],useragent:navigator.userAgent},u=this._buildPayload(new Date,this.options.uncaughtErrorLevel,e,s,i);this._enqueuePayload(u,!0,[this.options.uncaughtErrorLevel,e,r,t,n,o])}),x.unhandledRejection=o(function(e,r){if(null==e)return void _._log(_.options.uncaughtErrorLevel,\"unhandled rejection was null or undefined!\",null,{},null,!1,!1);var t=e.message||(e?String(e):\"unhandled rejection\"),n=e._rollbarContext||r._rollbarContext||null;if(e&&v.isType(e,\"error\"))return void this._log(this.options.uncaughtErrorLevel,t,e,n,null,!0);var o={url:\"\",line:0};o.func=m.guessFunctionName(o.url,o.line),o.context=m.gatherContext(o.url,o.line);var i={mode:\"unhandledrejection\",message:t,url:document.location.href,stack:[o],useragent:navigator.userAgent},a=this._buildPayload(new Date,this.options.uncaughtErrorLevel,t,i,n);this._enqueuePayload(a,!0,[this.options.uncaughtErrorLevel,t,o.url,o.line,0,e,r])}),x.global=o(function(e){e=e||{};var r={startTime:e.startTime,maxItems:e.maxItems,itemsPerMinute:e.itemsPerMinute};g(!0,window._globalRollbarOptions,r),void 0!==e.maxItems&&(T=0),void 0!==e.itemsPerMinute&&(R=0)}),x.configure=o(function(e,r){var t=g(!0,{},e);g(!r,this.options,t),this.global(t)}),x.scope=o(function(e){var r=new s(this);return g(!0,r.options.payload,e),r}),x.wrap=function(e,r){try{var t;if(t=v.isType(r,\"function\")?r:function(){return r||{}},!v.isType(e,\"function\"))return e;if(e._isWrap)return e;if(!e._wrapped){e._wrapped=function(){try{return e.apply(this,arguments)}catch(r){throw\"string\"==typeof r&&(r=new String(r)),r.stack||(r._savedStackTrace=m.parse(r)),r._rollbarContext=t()||{},r._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=r,r}},e._wrapped._isWrap=!0;for(var n in e)e.hasOwnProperty(n)&&(e._wrapped[n]=e[n])}return e._wrapped}catch(o){return e}},x.loadFull=function(){console.error(\"[Rollbar]: Unexpected Rollbar.loadFull() called on a Notifier instance\")},s.processPayloads=function(e){return e?void f():void i()};var L=(new Date).getTime(),T=0,R=0;e.exports={Notifier:s,setupJSON:n,topLevelNotifier:a}},function(e,r){\"use strict\";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=function(e){return\"function\"==typeof Array.isArray?Array.isArray(e):\"[object Array]\"===n.call(e)},i=function(e){if(!e||\"[object Object]\"!==n.call(e))return!1;var r=t.call(e,\"constructor\"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,\"isPrototypeOf\");if(e.constructor&&!r&&!o)return!1;var i;for(i in e);return\"undefined\"==typeof i||t.call(e,i)};e.exports=function a(){var e,r,t,n,s,u,c=arguments[0],l=1,p=arguments.length,f=!1;for(\"boolean\"==typeof c?(f=c,c=arguments[1]||{},l=2):(\"object\"!=typeof c&&\"function\"!=typeof c||null==c)&&(c={});l<p;++l)if(e=arguments[l],null!=e)for(r in e)t=c[r],n=e[r],c!==n&&(f&&n&&(i(n)||(s=o(n)))?(s?(s=!1,u=t&&o(t)?t:[]):u=t&&i(t)?t:{},c[r]=a(f,u,n)):\"undefined\"!=typeof n&&(c[r]=n));return c}},function(e,r,t){\"use strict\";function n(){return l}function o(){return null}function i(e){var r={};return r._stackFrame=e,r.url=e.fileName,r.line=e.lineNumber,r.func=e.functionName,r.column=e.columnNumber,r.args=e.args,r.context=o(r.url,r.line),r}function a(e){function r(){var r=[];try{r=c.parse(e)}catch(t){r=[]}for(var n=[],o=0;o<r.length;o++)n.push(new i(r[o]));return n}return{stack:r(),message:e.message,name:e.name}}function s(e){return new a(e)}function u(e){if(!e)return[\"Unknown error. There was no error message to display.\",\"\"];var r=e.match(p),t=\"(unknown)\";return r&&(t=r[r.length-1],e=e.replace((r[r.length-2]||\"\")+t+\":\",\"\"),e=e.replace(/(^[\\s]+|[\\s]+$)/g,\"\")),[t,e]}var c=t(6),l=\"?\",p=new RegExp(\"^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): \");e.exports={guessFunctionName:n,guessErrorClass:u,gatherContext:o,parse:s,Stack:a,Frame:i}},function(e,r,t){var n,o,i;!function(a,s){\"use strict\";o=[t(7)],n=s,i=\"function\"==typeof n?n.apply(r,o):n,!(void 0!==i&&(e.exports=i))}(this,function(e){\"use strict\";function r(e,r,t){if(\"function\"==typeof Array.prototype.map)return e.map(r,t);for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=r.call(t,e[o]);return n}function t(e,r,t){if(\"function\"==typeof Array.prototype.filter)return e.filter(r,t);for(var n=[],o=0;o<e.length;o++)r.call(t,e[o])&&n.push(e[o]);return n}var n=/(^|@)\\S+\\:\\d+/,o=/^\\s*at .*(\\S+\\:\\d+|\\(native\\))/m,i=/^(eval@)?(\\[native code\\])?$/;return{parse:function(e){if(\"undefined\"!=typeof e.stacktrace||\"undefined\"!=typeof e[\"opera#sourceloc\"])return this.parseOpera(e);if(e.stack&&e.stack.match(o))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error(\"Cannot parse given Error object\")},extractLocation:function(e){if(e.indexOf(\":\")===-1)return[e];var r=e.replace(/[\\(\\)\\s]/g,\"\").split(\":\"),t=r.pop(),n=r[r.length-1];if(!isNaN(parseFloat(n))&&isFinite(n)){var o=r.pop();return[r.join(\":\"),o,t]}return[r.join(\":\"),t,void 0]},parseV8OrIE:function(n){var i=t(n.stack.split(\"\\n\"),function(e){return!!e.match(o)},this);return r(i,function(r){r.indexOf(\"(eval \")>-1&&(r=r.replace(/eval code/g,\"eval\").replace(/(\\(eval at [^\\()]*)|(\\)\\,.*$)/g,\"\"));var t=r.replace(/^\\s+/,\"\").replace(/\\(eval code/g,\"(\").split(/\\s+/).slice(1),n=this.extractLocation(t.pop()),o=t.join(\" \")||void 0,i=\"eval\"===n[0]?void 0:n[0];return new e(o,(void 0),i,n[1],n[2],r)},this)},parseFFOrSafari:function(n){var o=t(n.stack.split(\"\\n\"),function(e){return!e.match(i)},this);return r(o,function(r){if(r.indexOf(\" > eval\")>-1&&(r=r.replace(/ line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+/g,\":$1\")),r.indexOf(\"@\")===-1&&r.indexOf(\":\")===-1)return new e(r);var t=r.split(\"@\"),n=this.extractLocation(t.pop()),o=t.shift()||void 0;return new e(o,(void 0),n[0],n[1],n[2],r)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf(\"\\n\")>-1&&e.message.split(\"\\n\").length>e.stacktrace.split(\"\\n\").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(r){for(var t=/Line (\\d+).*script (?:in )?(\\S+)/i,n=r.message.split(\"\\n\"),o=[],i=2,a=n.length;i<a;i+=2){var s=t.exec(n[i]);s&&o.push(new e((void 0),(void 0),s[2],s[1],(void 0),n[i]))}return o},parseOpera10:function(r){for(var t=/Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i,n=r.stacktrace.split(\"\\n\"),o=[],i=0,a=n.length;i<a;i+=2){var s=t.exec(n[i]);s&&o.push(new e(s[3]||void 0,(void 0),s[2],s[1],(void 0),n[i]))}return o},parseOpera11:function(o){var i=t(o.stack.split(\"\\n\"),function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return r(i,function(r){var t,n=r.split(\"@\"),o=this.extractLocation(n.pop()),i=n.shift()||\"\",a=i.replace(/<anonymous function(: (\\w+))?>/,\"$2\").replace(/\\([^\\)]*\\)/g,\"\")||void 0;i.match(/\\(([^\\)]*)\\)/)&&(t=i.replace(/^[^\\(]+\\(([^\\)]*)\\)$/,\"$1\"));var s=void 0===t||\"[arguments not available]\"===t?void 0:t.split(\",\");return new e(a,s,o[0],o[1],o[2],r)},this)}}})},function(e,r,t){var n,o,i;!function(t,a){\"use strict\";o=[],n=a,i=\"function\"==typeof n?n.apply(r,o):n,!(void 0!==i&&(e.exports=i))}(this,function(){\"use strict\";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e,r,t,n,o,i){void 0!==e&&this.setFunctionName(e),void 0!==r&&this.setArgs(r),void 0!==t&&this.setFileName(t),void 0!==n&&this.setLineNumber(n),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return r.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if(\"[object Array]\"!==Object.prototype.toString.call(e))throw new TypeError(\"Args must be an Array\");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(r){if(!e(r))throw new TypeError(\"Line Number must be a Number\");this.lineNumber=Number(r)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(r){if(!e(r))throw new TypeError(\"Column Number must be a Number\");this.columnNumber=Number(r)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var r=this.getFunctionName()||\"{anonymous}\",t=\"(\"+(this.getArgs()||[]).join(\",\")+\")\",n=this.getFileName()?\"@\"+this.getFileName():\"\",o=e(this.getLineNumber())?\":\"+this.getLineNumber():\"\",i=e(this.getColumnNumber())?\":\"+this.getColumnNumber():\"\";return r+t+n+o+i}},r})},function(e,r,t){\"use strict\";function n(e){return{}.toString.call(e).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()}function o(e,r){return n(e)===r}function i(e){if(!o(e,\"string\"))throw new Error(\"received invalid input\");for(var r=l,t=r.parser[r.strictMode?\"strict\":\"loose\"].exec(e),n={},i=14;i--;)n[r.key[i]]=t[i]||\"\";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,o){t&&(n[r.q.name][t]=o)}),n}function a(e){var r=i(e);return\"\"===r.anchor&&(r.source=r.source.replace(\"#\",\"\")),e=r.source.replace(\"?\"+r.query,\"\")}function s(e,r){var t,n,i,a=o(e,\"object\"),u=o(e,\"array\"),c=[];if(a)for(t in e)e.hasOwnProperty(t)&&c.push(t);else if(u)for(i=0;i<e.length;++i)c.push(i);for(i=0;i<c.length;++i)t=c[i],n=e[t],a=o(n,\"object\"),u=o(n,\"array\"),a||u?e[t]=s(n,r):e[t]=r(t,n);return e}function u(e){return e=String(e),new Array(e.length+1).join(\"*\")}function c(){var e=(new Date).getTime(),r=\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(r){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),(\"x\"===r?t:7&t|8).toString(16)});return r}t(9);var l={strictMode:!1,key:[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],q:{name:\"queryKey\",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/}},p={isType:o,parseUri:i,parseUriOptions:l,redact:u,sanitizeUrl:a,traverse:s,typeName:n,uuid4:c};e.exports=p},function(e,r){!function(e){\"use strict\";e.console=e.console||{};for(var r,t,n=e.console,o={},i=function(){},a=\"memory\".split(\",\"),s=\"assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn\".split(\",\");r=a.pop();)n[r]||(n[r]=o);for(;t=s.pop();)n[t]||(n[t]=i)}(\"undefined\"==typeof window?this:window)},function(e,r,t){\"use strict\";function n(e){a=e}function o(e){this.name=\"Connection Error\",this.message=e,this.stack=(new Error).stack}var i=t(8),a=null;o.prototype=Object.create(Error.prototype),o.prototype.constructor=o;var s={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject(\"Msxml2.XMLHTTP\")},function(){return new ActiveXObject(\"Msxml3.XMLHTTP\")},function(){return new ActiveXObject(\"Microsoft.XMLHTTP\")}],createXMLHTTPObject:function(){var e,r=!1,t=s.XMLHttpFactories,n=t.length;for(e=0;e<n;e++)try{r=t[e]();break}catch(o){}return r},post:function(e,r,t,n){if(!i.isType(t,\"object\"))throw new Error(\"Expected an object to POST\");t=a.stringify(t),n=n||function(){};var u=s.createXMLHTTPObject();if(u)try{try{var c=function(){try{if(c&&4===u.readyState){c=void 0;var e=a.parse(u.responseText);200===u.status?n(null,e):i.isType(u.status,\"number\")&&u.status>=400&&u.status<600?(403==u.status&&console.error(\"[Rollbar]:\"+e.message),n(new Error(String(u.status)))):n(new o(\"XHR response had no status code (likely connection failure)\"))}}catch(r){var t;t=r&&r.stack?r:new Error(r),n(t)}};u.open(\"POST\",e,!0),u.setRequestHeader&&(u.setRequestHeader(\"Content-Type\",\"application/json\"),u.setRequestHeader(\"X-Rollbar-Access-Token\",r)),u.onreadystatechange=c,u.send(t)}catch(l){if(\"undefined\"!=typeof XDomainRequest){\"http:\"===window.location.href.substring(0,5)&&\"https\"===e.substring(0,5)&&(e=\"http\"+e.substring(5));var p=function(){n(new o(\"Request timed out\"))},f=function(){n(new Error(\"Error during request\"))},d=function(){n(null,a.parse(u.responseText))};u=new XDomainRequest,u.onprogress=function(){},u.ontimeout=p,u.onerror=f,u.onload=d,u.open(\"POST\",e,!0),u.send(t)}}}catch(h){n(h)}}};e.exports={XHR:s,setupJSON:n,ConnectionError:o}}])});","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"dota-hero-calculator-library\");\nvar AbilityModel = require(\"dota-hero-calculator-library/src/herocalc/AbilityModel\");\nvar BasicInventoryViewModel = require(\"dota-hero-calculator-library/src/herocalc/inventory/BasicInventoryViewModel\");\nvar union = require(\"dota-hero-calculator-library/src/herocalc/util/union\");\n\nvar inventoryClipBoard = {\n    items: [],\n    activeItems: []\n};\n\nvar GraphPropertyOption = function (id, label) {\n    this.id = id;\n    this.label = label;\n};\n\nAbilityModel.prototype.isQWER = function (ability) {\n    return (ability.displayname != 'Empty' &&  (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_HIDDEN') == -1 || ability.name.indexOf('invoker_') != -1) && ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1)\n}\n\nvar BuildExplorerViewModel = function (h) {\nvar self = this;\n    self.parent = h;\n\n    self.itemBuild = ko.observableArray([]);\n    self.skillBuild = ko.observableArray([]);\n    self.graphDataItemRows = [];\n    for (var i = 0; i < 25; i++) {\n        self.itemBuild.push(new BasicInventoryViewModel());\n        self.itemBuild()[i].carryOver = ko.observable(true);\n        self.skillBuild.push(ko.observable(-1));\n        self.graphDataItemRows.push(ko.observable(false));\n    }\n    self.toggleItemBuildCarryOver = function (index) {\n        self.itemBuild()[index].carryOver(!self.itemBuild()[index].carryOver());\n    }\n    \n    self.abilityMapData = [0,1,2,3,4];\n    self.abilityMapHero = self.parent.selectedHero().heroName;\n    self.abilityMap = ko.computed(function () {\n        if (self.abilityMapHero == self.parent.selectedHero().heroName) return;\n        self.abilityMapHero = self.parent.selectedHero().heroName;\n        var newMap = self.parent.ability().abilities().map(function(ability, index) {\n            if (self.parent.ability().isQWER(ability)) {\n                return index;\n            }\n            else {\n                return -1;\n            }\n        }).filter(function(element) { return element != -1; });\n        for (var i = 0; i < 25; i++) {\n            var abilityValue = self.skillBuild()[i]();\n            if (abilityValue == -1) continue;\n            \n            var abilityIndex = self.abilityMapData.indexOf(abilityValue);\n            var newValue = newMap[abilityIndex];\n            if (newValue != abilityValue) {\n                self.skillBuild()[i](newValue);\n            }\n        }\n        self.abilityMapData = newMap;\n    });\n    \n    self.availableSkillBuildPoints = ko.computed(function () {\n        return self.skillBuild().reduce(function(memo, num){ return memo + (num() == -1); }, 0);\n    });\n    self.getSkillBuildAbilityLevel = function (index) {\n        return self.skillBuild().reduce(function(memo, num){ return memo + (num() == index); }, 0);\n    };\n    self.toggleAbilitySkillBuild = function (index, abilityIndex, data, event) {\n        if (self.skillBuild()[index]() != abilityIndex) {\n            var ability = self.parent.ability().abilities()[abilityIndex],\n                abilityType = ability.abilitytype,\n                skillBuildSlice = self.skillBuild().slice(0, index),\n                currentAbilityLevel = self.skillBuild().reduce(function(memo, num){ return memo + (num() == abilityIndex); }, 0),\n                n = skillBuildSlice.reduce(function(memo, num){ return memo + (num() == abilityIndex); }, 0);\n            \n            if (self.IsValidAbilityLevel(ability, self.parent.selectedHero().heroName, index + 1, n)) {\n                self.skillBuild()[index](abilityIndex);\n                for (var i = index + 1; i < 25; i++) {\n                    if (self.skillBuild()[i]() == abilityIndex) {\n                        n++;\n                        if (!self.IsValidAbilityLevel(ability, self.parent.selectedHero().heroName, i + 1, n)) {\n                            self.skillBuild()[i](-1);\n                            n--;\n                        }\n                    }\n                }\n            }\n            else if (n > 0 && self.IsValidAbilityLevel(ability, self.parent.selectedHero().heroName, index + 1, n - 1)) {\n                for (var i = skillBuildSlice.length - 1; i >= 0; i--) {\n                    if (skillBuildSlice[i]() == abilityIndex) {\n                        self.skillBuild()[i](-1);\n                        self.skillBuild()[index](abilityIndex);\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n            self.skillBuild()[index](-1);\n        }\n    };\n    self.IsValidAbilityLevel = function (ability, heroName, heroLevel, abilityLevel) {\n        var a = 1, b = 2, m = 4;\n        if (ability.name == 'attribute_bonus') {\n            m = 10;\n        }\n        else {\n            if (ability.abilitytype == 'DOTA_ABILITY_TYPE_ULTIMATE') {\n                if (heroName == 'invoker') {\n                    a = 2;\n                    b = 5;\n                }\n                else if (heroName == 'meepo') {\n                    a = 3;\n                    b = 7;\n                    m = 3;\n                }\n                else {\n                    a = 6;\n                    b = 5;\n                    m = 3;\n                }\n            }\n            else {\n                if (heroName == 'invoker') {\n                    m = 7;\n                }\n            }                \n        }\n        \n        return heroLevel >= a + b * abilityLevel && abilityLevel < m;\n    }\n    \n    self.resetItemBuild = function (index) {\n        self.itemBuild()[index].removeAll();\n    };        \n    self.resetAllItemBuilds = function () {\n        for (var i = 0; i < 25; i++) {\n            self.itemBuild()[i].removeAll();\n            self.itemBuild()[i].carryOver(true);\n        }\n    };\n    self.resetSkillBuild = function () {\n        for (var i = 0; i < 25; i++) {\n            self.skillBuild()[i](-1);\n        }\n    };\n    self.graphData = ko.observableArray([]);\n    self.graphDataHeader = ko.observable(self.parent.selectedHero().heroDisplayName);\n    self.parent.selectedHero.subscribe(function (newValue) {\n        self.graphDataHeader(self.parent.selectedHero().heroDisplayName);\n    });\n    self.graphDataDescription = ko.observable('');\n    self.graphProperties = ko.observableArray([\n        new GraphPropertyOption('totalArmorPhysical', 'Armor'),\n        new GraphPropertyOption('totalArmorPhysicalReduction', 'Physical Damage Reduction'),\n        new GraphPropertyOption('totalMagicResistance', 'Magical Resistance'),\n        new GraphPropertyOption('health', 'Health'),\n        new GraphPropertyOption('healthregen', 'Health Regeneration'),\n        new GraphPropertyOption('mana', 'Mana'),\n        new GraphPropertyOption('manaregen', 'Mana Regeneration'),\n        new GraphPropertyOption('ehpPhysical', 'EHP Physical'),\n        new GraphPropertyOption('ehpMagical', 'EHP Magical'),\n        new GraphPropertyOption('damage', 'Damage per attack'),\n        new GraphPropertyOption('dps', 'Damage per second'),\n        new GraphPropertyOption('attacksPerSecond', 'Attacks per second'),\n        new GraphPropertyOption('attackTime', 'Time per attack')\n    ]);\n    self.graph = function() {\n        var savedAbilityLevels = [],\n            savedLevel = self.parent.selectedHeroLevel(),\n            savedItems = self.parent.inventory.items(),\n            savedActiveItems = self.parent.inventory.activeItems(),\n            s = ko.toJS(self.skillBuild),\n            carryOverItems = [],\n            carryOverActiveItems = [],\n            dataset = [];\n        for (var i = 0; i < self.parent.ability().abilities().length; i++) {\n            savedAbilityLevels.push(self.parent.ability().abilities()[i].level());\n        }\n        for (var i = 1; i < 26; i++) {\n            self.parent.selectedHeroLevel(i);\n            var skillBuildSubset = s.slice(0, i);\n            for (var j = 0; j < self.parent.ability().abilities().length; j++) {\n                var a = self.parent.ability().abilities()[j],\n                    count = skillBuildSubset.reduce(function(memo, num) {\n                        return memo + (num == j);\n                    }, 0);\n                a.level(count);\n            }\n\n            if (!self.itemBuild()[i - 1].carryOver()) {\n                carryOverItems = [];\n                carryOverActiveItems = [];\n            }\n            carryOverItems = carryOverItems.concat(self.itemBuild()[i - 1].items());\n            carryOverActiveItems = carryOverActiveItems.concat(self.itemBuild()[i - 1].activeItems());\n\n            self.parent.inventory.items(carryOverItems);\n            self.parent.inventory.activeItems(carryOverActiveItems);\n            var dataObj = {};\n            for (var j = 0; j < self.graphProperties().length; j++) {\n                var prop = self.graphProperties()[j];\n                switch (prop.id) {\n                    case 'dps':\n                        dataObj[prop.id] = self.parent['damageTotalInfo']().totalRow[2]().toFixed(2);\n                        break;\n                    case 'damage':\n                        dataObj[prop.id] = self.parent['damageTotalInfo']().totalRow[0]().toFixed(2);\n                        break;\n                    default:\n                        dataObj[prop.id] = self.parent[prop.id]();\n                        break;\n                }\n            }\n\n            dataObj.items = carryOverItems.map(function(item) {\n                return ko.toJS(item);\n            });\n            dataset.push(dataObj);\n            if (carryOverItems > 0) {\n                self.graphDataItemRows[i - 1](true);\n            }\n        }\n        var data = {\n            header: self.graphDataHeader(),\n            description: self.graphDataDescription(),\n            items: self.parent.inventory.items().map(function(item) {\n                return ko.toJS(item);\n            }),\n            skillBuild: ko.toJS(self.skillBuild),\n            data: dataset,\n            abilityMap: self.abilityMapData.slice(0),\n            cumulativeSkillBuild: [],\n            visible: ko.observable(true)\n        }\n        for (var i = 0; i < 25; i++) {\n            var skillBuildAtLevel = [],\n                skillBuildSlice = data.skillBuild.slice(0, i + 1);\n            for (var j = 0; j < data.abilityMap.length; j++) {\n                var abilityIndex = data.abilityMap[j];\n                skillBuildAtLevel.push(skillBuildSlice.reduce(function(memo, num) {\n                    return memo + (num == abilityIndex);\n                }, 0));\n            }\n            data.cumulativeSkillBuild.push(skillBuildAtLevel);\n        }\n\n        self.graphData.push(data);\n        self.parent.selectedHeroLevel(savedLevel);\n        for (var i = 0; i < self.parent.ability().abilities().length; i++) {\n            self.parent.ability().abilities()[i].level(savedAbilityLevels[i]);\n        }\n        self.parent.inventory.items(savedItems);\n        self.parent.inventory.activeItems(savedActiveItems);\n    };\n    self.removeGraphDataSet = function (data) {\n        self.graphData.remove(data);\n    }\n    self.selectedGraphProperty = ko.observable(self.graphProperties()[0].id);\n    \n    self.graphChartOptions = ko.computed(function () {\n        var color = 'rgb(151, 154, 162)';\n        return {\n            responsive: true,\n            datasetStroke: false,\n            datasetStrokeWidth: -1,\n            datasetFill: false,\n            pointHitDetectionRadius : 10,\n            scaleFontColor: color,\n            scaleLineColor: color.replace('rgb', 'rgba').replace(')', ', .1)'),\n            scaleGridLineColor: color.replace('rgb', 'rgba').replace(')', ', .1)')\n        }\n    });\n    self.graphChartData = ko.computed(function () {\n        var data = {\n            labels: [],\n            datasets: []\n        }\n        for (var i = 0; i < 25; i++) {\n            data.labels.push((i+1).toString());\n        }\n        for (var i = 0; i < self.graphData().length; i++) {\n            var dataObj = self.graphData()[i],\n                dataset = {\n                    label: dataObj.header,\n                    fillColor: self.graphDistinctColor(self.graphData().length, i, .1),\n                    strokeColor: self.graphDistinctColor(self.graphData().length, i, 1),\n                    pointColor: self.graphDistinctColor(self.graphData().length, i, 1),\n                    pointStrokeColor: self.graphDistinctColor(self.graphData().length, i, 1),\n                    pointHighlightFill: self.graphDistinctColor(self.graphData().length, i, .1),\n                    pointHighlightStroke: self.graphDistinctColor(self.graphData().length, i, .5),\n                    data: dataObj.data.map(function (o) {\n                        return o[self.selectedGraphProperty()]\n                    })\n                };\n            data.datasets.push(dataset);\n        }\n        return data;\n    });\n    self.graphDistinctColor = function (max, index, alpha) {\n        var alpha = alpha || 1,\n            rgba = self.hslToRgb((1 / max) * index % 1, 1, .5);\n        rgba.push(alpha);\n        return \"rgba(\" + rgba.join() + \")\";\n    }\n    self.getDistinctColor = function (max, index, alpha) {\n        var alpha = alpha || 1;\n        rgba = self.hslToRgb((1 / max) * index % 1, 1, .5);\n        rgba.push(alpha);\n        return rgba;\n    }\n    self.hslToRgb = function(h, s, l) {\n        var r, g, b;\n        if (s == 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var hue2rgb = function hue2rgb(p, q, t) {\n                if (t < 0) t += 1;\n                if (t > 1) t -= 1;\n                if (t < 1 / 6) return p + (q - p) * 6 * t;\n                if (t < 1 / 2) return q;\n                if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n                return p;\n            }\n\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n    }\n    \n    self.showGraphItemBuildRows = ko.observable(false);\n    self.showGraphSkillBuildColumns = ko.observable(false);\n    self.graphRowHasItems = function (index) {\n        return self.graphData().some(function (dataset) {\n            return dataset.visible() && dataset.data[index].items.length > 0;\n        });\n    }\n\n    self.selectInventory = function (index) {\n        self.parent.selectedInventory(self.parent.selectedInventory() == index ? -1 : index);\n    }\n    self.getSelectedInventory = ko.pureComputed(function () {\n        if (self.parent.selectedInventory() == -1) {\n            return self.parent.inventory;\n        }\n        else {\n            return self.itemBuild()[self.parent.selectedInventory()];\n        }\n    });\n    self.copyInventory = function (index) {\n        if (self.parent.selectedInventory() != -1 && self.parent.selectedInventory() != index) {\n            self.itemBuild()[self.parent.selectedInventory()].items(self.itemBuild()[self.parent.selectedInventory()].items().concat(self.itemBuild()[index].items()));\n            self.itemBuild()[self.parent.selectedInventory()].activeItems(union(self.itemBuild()[self.parent.selectedInventory()].activeItems(), self.itemBuild()[index].activeItems()));\n        }\n    }\n    self.copyInventoryToClipBoard = function (index) {\n        if (index == -1) {\n            inventoryClipBoard.items = self.parent.inventory.items.slice(0);\n            inventoryClipBoard.activeItems = self.parent.inventory.activeItems.slice(0);            \n        }\n        else {\n            inventoryClipBoard.items = self.itemBuild()[index].items.slice(0);\n            inventoryClipBoard.activeItems = self.itemBuild()[index].activeItems.slice(0);\n        }\n    }\n    self.pasteInventoryFromClipBoard = function (index) {\n        if (inventoryClipBoard.items.length > 0) {\n            if (index == -1) {\n                self.parent.inventory.items(self.parent.inventory.items().concat(inventoryClipBoard.items));\n                self.parent.inventory.activeItems(union(self.parent.inventory.activeItems(), inventoryClipBoard.activeItems));    \n            }\n            else {\n                self.itemBuild()[index].items(self.itemBuild()[index].items().concat(inventoryClipBoard.items));\n                self.itemBuild()[index].activeItems(union(self.itemBuild()[index].activeItems(), inventoryClipBoard.activeItems));\n            }\n        }\n    }\n    self.loadGraphData = function (data) {\n        self.parent.sectionDisplay()['skillbuild'](true);\n        for (var i = 0; i < data.length; i++) {\n            data[i].visible = ko.observable(data[i].visible);\n        }\n        self.graphData(data);\n    }\n    self.graphChartContext = ko.observable();\n    self.exportImage = function () {\n        var w = window.open();\n        w.document.write('<img src=\"'+ self.graphChartContext().canvas.toDataURL() +'\"/>');\n    }\n    return self;\n}\n\nmodule.exports = BuildExplorerViewModel;","\"use strict\";\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar HeroCalc = require(\"dota-hero-calculator-library\");\nvar DamageAmpViewModel = require(\"./DamageAmpViewModel\");\nvar HeroDamageAmpMixin = require(\"./HeroDamageAmpMixin\");\n\nvar CloneViewModel = function (heroData, itemData, unitData, h, p) {\n    var self = this;\n    HeroCalc.CloneModel.call(this, heroData, itemData, h, p);\n    self.bound = ko.observable(false);\n    \n    self.sectionDisplay = ko.observable({\n        'inventory': ko.observable(true),\n        'ability': ko.observable(true),\n        'buff': ko.observable(true),\n        'debuff': ko.observable(true),\n        'damageamp': ko.observable(false),\n        'illusion': ko.observable(false),\n        'skillbuild': ko.observable(false),\n        'skillbuild-skills': ko.observable(true),\n        'skillbuild-items': ko.observable(true)\n    });\n    self.sectionDisplayToggle = function (section) {\n        self.sectionDisplay()[section](!self.sectionDisplay()[section]());\n    }\n    self.showUnitTab = ko.observable(false);\n    self.showDiff = ko.observable(false);\n    self.showCriticalStrikeDetails = ko.observable(false);\n    self.showDamageDetails = ko.observable(false);\n    self.showStatDetails = ko.observable(false);\n    self.showDamageAmpCalcDetails = ko.observable(false);\n    \n    self.damageAmplification = new DamageAmpViewModel(heroData, itemData, unitData);\n    self.damageReduction = new DamageAmpViewModel(heroData, itemData, unitData);\n    HeroDamageAmpMixin(self);\n}\nCloneViewModel.prototype = Object.create(HeroCalc.CloneModel.prototype);\nCloneViewModel.prototype.constructor = CloneViewModel;\n\nmodule.exports = CloneViewModel;","'use strict';\nvar ko = require('./herocalc_knockout');\n\nvar BuffViewModel = require(\"dota-hero-calculator-library/src/herocalc/BuffViewModel\");\nvar BuffModel = require(\"dota-hero-calculator-library/src/herocalc/buffs/BuffModel\");\nvar findWhere = require(\"dota-hero-calculator-library/src/herocalc/util/findWhere\");\n\nvar DamageAmpViewModel = function (heroData, itemData, unitData, a) {\n    var self = this;\n    BuffViewModel.call(this, itemData, ko.observableArray([]));\n    self.availableBuffs = ko.observableArray([\n        new BuffModel(heroData, unitData, 'slardar', 'slardar_sprint'),\n        new BuffModel(heroData, unitData, 'undying', 'undying_flesh_golem'),\n        new BuffModel(heroData, unitData, 'chen', 'chen_penitence'),\n        new BuffModel(heroData, unitData, 'medusa', 'medusa_stone_gaze'),\n        new BuffModel(heroData, unitData, 'shadow_demon', 'shadow_demon_soul_catcher')\n    ]);\n    self.availableDebuffs = ko.observableArray([\n        new BuffModel(heroData, unitData, 'medusa', 'medusa_mana_shield'),\n        //new BuffModel(heroData, unitData, 'templar_assassin', 'templar_assassin_refraction'),\n        //new BuffModel(heroData, unitData, 'faceless_void', 'faceless_void_backtrack'),\n        //new BuffModel(heroData, unitData, 'nyx_assassin', 'nyx_assassin_spiked_carapace'),\n        new BuffModel(heroData, unitData, 'spectre', 'spectre_dispersion'),\n        new BuffModel(heroData, unitData, 'wisp', 'wisp_overcharge'),\n        new BuffModel(heroData, unitData, 'bristleback', 'bristleback_bristleback'),\n        //new BuffModel(heroData, unitData, 'abaddon', 'abaddon_borrowed_time'),\n        //new BuffModel(heroData, unitData, 'abaddon', 'abaddon_aphotic_shield'),\n        //new BuffModel(heroData, unitData, 'dazzle', 'dazzle_shallow_grave'),\n        //new BuffModel(heroData, unitData, 'treant', 'treant_living_armor'),\n        new BuffModel(heroData, unitData, 'kunkka', 'kunkka_ghostship')\n    ]);\n    self.selectedBuff = ko.observable(self.availableBuffs()[0]);\n    \n    self.buffs = ko.observableArray([]);\n\n    self.getAbilityDamageAmpValue = function (abilityName, attributeName) {\n        var a = findWhere(self.buffs(), {name: abilityName});\n        if (a == undefined) {\n            return 0;\n        }\n        else {\n            var ability = a.data;\n            return self.getAbilityAttributeValue(ability.attributes, attributeName, ability.level());\n        }\n    }\n    \n    self.getDamageMultiplierSources = ko.computed(function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    switch (ability.name) {\n                        case 'bristleback_bristleback':\n                            sources[ability.name] = {\n                                'multiplier': ability.damageReduction() / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname\n                            }\n                        break;\n                        case 'slardar_sprint':\n                            sources[ability.name] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes, 'bonus_damage', ability.level()) / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname\n                            }\n                        break;\n                        case 'undying_flesh_golem':\n                            sources[ability.name] = {\n                                'multiplier': ability.damageAmplification() / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname\n                            }\n                        break;\n                        case 'medusa_stone_gaze':\n                            sources[ability.name] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes, 'bonus_physical_damage', ability.level()) / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname\n                            }\n                        break;\n                        case 'chen_penitence':\n                            sources[ability.name] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes, 'bonus_damage_taken', ability.level()) / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname\n                            }\n                        break;\n                        case 'shadow_demon_soul_catcher':\n                            sources[ability.name] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes, 'bonus_damage_taken', ability.level()) / 100,\n                                'damageType': 'pure',\n                                'displayname': ability.displayname\n                            }\n                        break;\n                        case 'medusa_mana_shield':\n                            sources[ability.name] = {\n                                'multiplier': ability.damageReduction() / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname\n                            }                            \n                        break;\n                        case 'spectre_dispersion':\n                            sources[ability.name] = {\n                                'multiplier': -self.getAbilityAttributeValue(ability.attributes, 'damage_reflection_pct', ability.level()) / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname\n                            }                                \n                        break;\n                        case 'abaddon_aphotic_shield':\n                            sources[ability.name] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes, 'damage_absorb', ability.level()),\n                                'damageType': 'flatreduction',\n                                'displayname': ability.displayname\n                            }                                \n                        break;\n                        case 'kunkka_ghostship':\n                            sources[ability.name] = {\n                                'multiplier': -50 / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname\n                            }                                \n                        break;\n                        case 'wisp_overcharge':\n                            sources[ability.name] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes, 'bonus_damage_pct', ability.level()) / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname\n                            }                                \n                        break;\n                        /*case 'faceless_void_backtrack':\n                            sources[ability.name] = {\n                                'multiplier': -self.getAbilityAttributeValue(ability.attributes, 'dodge_chance_pct', ability.level()) / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname\n                            }                                \n                        break;*/\n                    }\n                }\n        }\n        return sources;\n    });\n    \n    return self;\n}\nDamageAmpViewModel.prototype = Object.create(BuffViewModel.prototype);\nDamageAmpViewModel.prototype.constructor = DamageAmpViewModel;\n\nmodule.exports = DamageAmpViewModel;","'use strict';\nvar ko = require('./herocalc_knockout');\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nrequire('./jquery-ui.custom');\n\nko.components.register('hero-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-3 col-sm-6\\\">\\n        <img class=\\\"img-rounded hero-image\\\" data-bind=\\\"attr:{src: '/media/images/heroes/' + selectedHero().heroName + '.png'}\\\"/>\\n    </div>\\n    <div class=\\\"col-md-9 col-sm-6\\\">\\n        <div class=\\\"row form-group\\\">\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"heroselect\\\">Hero</label>\\n                <select id=\\\"heroselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: availableHeroes , optionsText: 'heroDisplayName', value: selectedHero\\\"></select>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"herolevel\\\">Level</label>\\n                <input id=\\\"herolevel\\\" data-bind=\\\"spinner: selectedHeroLevel, spinnerOptions: { min: 1, max: 25 }\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"enemyselect\\\">Enemy</label>\\n                <select id=\\\"enemyselect\\\" class=\\\"form-control\\\" data-bind=\\\"css: enemy().playerColorCss, options: availableEnemies , optionsText: 'heroDisplayName', value: selectedEnemy, optionsAfterRender: setHeroOptionStyling\\\"></select>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"enemyselect\\\">Compare to</label>\\n                <select id=\\\"enemyselect\\\" class=\\\"form-control\\\" data-bind=\\\"css: heroCompare().playerColorCss, options: availableCompare , optionsText: 'heroDisplayName', value: selectedCompare, optionsAfterRender: setHeroOptionStyling\\\"></select>\\n            </div>\\n            <div class=\\\"col-md-12 checkbox\\\" style=\\\"margin-bottom:0px;padding-left:34px;\\\" data-bind=\\\"visible: $root.layout() == 0\\\">\\n                <label><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showDiff\\\"><span style=\\\"font-size:12px\\\">Show <abbr title=\\\"The difference between two adjacent hero tabs shown next to each stat.\\\">delta values</abbr>. <span data-bind=\\\"visible: showDiff\\\">Comparing level <span data-bind=\\\"text: selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroData().displayname, css: playerColorCss\\\"></span> to level <span data-bind=\\\"text: heroCompare().selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss\\\"></span>.</span></span></label>\\n                <label style=\\\"margin-left:25px;font-size:12px;\\\"><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showUnitTab\\\">Show unit tab</label>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a>\\n                <div style=\\\"margin-left:15px;display:inline;\\\" data-bind=\\\"style: {'display': $root.layout() == 1 ? 'inline' : 'none'}\\\">\\n                    <label><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showDiff\\\"><span style=\\\"font-size:12px\\\">Show <abbr title=\\\"The difference between two adjacent hero tabs shown next to each stat.\\\">delta values</abbr>. <span data-bind=\\\"visible: showDiff\\\">Comparing level <span data-bind=\\\"text: selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroData().displayname, css: playerColorCss\\\"></span> to level <span data-bind=\\\"text: heroCompare().selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss\\\"></span>.</span></span></label>\\n                    <label style=\\\"margin-left:25px;font-size:12px;\\\"><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showUnitTab\\\">Show unit tab</label>\\n                </div>\\n            </h3>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"visible: showStatDetails(), css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}, component: {name: 'stats-additional', params: $data}\\\"></div>\\n\\n            <div class=\\\"statscontainer\\\" data-bind=\\\"foreach: $root.allItems\\\">\\n                <div data-bind=\\\"component: { name: $data.value, params: $parentContext.$data}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-8': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div data-bind=\\\"component: { name: 'damage-details', params: $data}\\\"></div>\\n    \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"itemBuildTable: $data.buildExplorer\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, template: { name: 'item-template', foreach: inventory.items }, visible: sectionDisplay().inventory()\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }\\\">Abilities <small style=\\\"color:inherit\\\" data-bind=\\\"text: availableSkillPoints() ? (availableSkillPoints() == 1 ? '1 unspent skillpoint' : availableSkillPoints() + ' unspent skillpoints') : ''\\\"></small></h3>\\n                <div class=\\\"row\\\" data-bind=\\\"visible: sectionDisplay().ability(), foreach: ability().abilities()\\\">\\n                    <div data-bind=\\\"component: { name: 'ability', params: $data }\\\"></div>\\n                </div>\\n                <div class=\\\"form-horizontal\\\" data-bind=\\\"if: selectedHero().heroName == 'silencer', visible: sectionDisplay().ability()\\\">\\n                    <div class=\\\"form-group\\\">\\n                            <div class=\\\"col-md-2 control-label\\\">\\n                                <label for=\\\"intelligencestolen\\\">Intelligence Stolen</label>\\n                            </div>\\n                            <div class=\\\"col-md-2\\\">\\n                                <input class=\\\"form-control\\\" id=\\\"intelligencestolen\\\" data-bind=\\\"value: intStolen\\\" />\\n                            </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div data-bind=\\\"component: { name: 'talent-section', params: $data}\\\"></div>\\n        \\n        <div data-bind=\\\"component: { name: 'buff-section', params: $data}\\\"></div>\\n        \\n        <div class=\\\"row\\\" data-bind=\\\"component: { name: 'damage-amp', params: $data}\\\"></div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().illusion, css: { section_disabled: !sectionDisplay().illusion() }\\\">Illusions</h3>\\n                <div data-bind=\\\"visible: sectionDisplay().illusion(), lazyBinding: sectionDisplay().illusion\\\">\\n                    <h4 style=\\\"color:red\\\">Under Construction</h4>\\n                    <div class=\\\"form-horizontal\\\">\\n                        <div class=\\\"form-group\\\">\\n                                <div class=\\\"col-md-2 control-label\\\">\\n                                    <label for=\\\"illusionSelect\\\">Type</label>\\n                                </div>\\n                                <div class=\\\"col-md-10\\\">\\n                                    <select id=\\\"illusionSelect\\\" class=\\\"form-control\\\" data-bind=\\\"options: availableIllusions , optionsText: 'illusionDisplayName', value: selectedIllusion\\\"></select>\\n                                </div>\\n                        </div>\\n                        <div class=\\\"form-group\\\">\\n                                <div class=\\\"col-md-2 control-label\\\">\\n                                    <label for=\\\"illusionabilitylevel\\\">Ability Level</label>\\n                                </div>\\n                                <div class=\\\"col-md-10\\\">\\n                                    <select id=\\\"illusionabilitylevel\\\" class=\\\"form-control\\\" data-bind=\\\"value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())\\\">\\n                                        <option data-bind=\\\"text: $index()+1\\\"></option>\\n                                    </select>\\n                                </div>\\n                        </div>\\n                        <div class=\\\"form-group\\\">\\n                            <div class=\\\"col-md-offset-2 col-md-10\\\">\\n                                <button class=\\\"btn btn-default\\\" data-bind=\\\"click: addIllusion\\\">Add Illusion</button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    \\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().skillbuild, css: { section_disabled: !sectionDisplay().skillbuild() }\\\">Build Explorer</h3>\\n        <div data-bind=\\\"visible: sectionDisplay().skillbuild(), attr: {id: 'section-build-explorer-' + index() }, lazyBinding: sectionDisplay().skillbuild\\\">\\n            <div class=\\\"section-content\\\">    \\n                <div class=\\\"col-md-12\\\">\\n                    <h4 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay()['skillbuild-skills'], css: { section_disabled: !sectionDisplay()['skillbuild-skills']() }\\\">Skill Build <small style=\\\"color:inherit\\\" data-bind=\\\"text: buildExplorer.availableSkillBuildPoints() ? (buildExplorer.availableSkillBuildPoints() == 1 ? '1 unspent skillpoint' : buildExplorer.availableSkillBuildPoints() + ' unspent skillpoints') : ''\\\"></small></h4>\\n                        <div data-bind=\\\"visible: sectionDisplay()['skillbuild-skills']\\\">\\n                        <table>\\n                            <tbody data-bind=\\\"template: { name: 'ability-3-template', foreach: ability().abilities() }\\\"></tbody>\\n                        </table>\\n                        <div class=\\\"form-group\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.resetSkillBuild\\\">Clear</button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-12\\\">\\n                    <h4 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay()['skillbuild-items'], css: { section_disabled: !sectionDisplay()['skillbuild-items']() }\\\">Item Build</h4>\\n                    <div data-bind=\\\"visible: sectionDisplay()['skillbuild-items']\\\">\\n                        <table class=\\\"table\\\">\\n                            <thead>\\n                                <tr>\\n                                    <th>Level</th>\\n                                    <th class=\\\"text-center\\\">Inventory</th>\\n                                    <th></th>\\n                                    <th></th>\\n                                    <th></th>\\n                                </tr>\\n                            </thead>\\n                            <tbody data-bind=\\\"foreach: new Array(25), itemBuildTable: buildExplorer\\\">\\n                                <tr class=\\\"hover-cursor\\\" data-bind=\\\"css: {'row-highlight': $parent.selectedInventory() == $index()}\\\">\\n                                    <td class=\\\"carry-over\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }\\\">\\n                                        <strong data-bind=\\\"text: ($index() + 1)\\\"></strong>\\n                                        <a class=\\\"btn btn-default btn-xs glyphicon\\\" data-bind=\\\"visible: $index() > 0, toggle: $parent.buildExplorer.itemBuild()[$index()].carryOver, preventBubble: 'click', css: { 'glyphicon-arrow-down': $parent.buildExplorer.itemBuild()[$index()].carryOver(), 'glyphicon-stop': !$parent.buildExplorer.itemBuild()[$index()].carryOver() }\\\" title=\\\"Carry over items to next level's inventory\\\"></a>\\n                                    </td>\\n                                    <td class=\\\"col-md-10\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }\\\">\\n                                        <div class=\\\"itemBuild-inventory\\\" data-bind=\\\"template: { name: 'itemBuild-item-template', foreach: $parent.buildExplorer.itemBuild()[$index()].items }\\\"></div>\\n                                    </td>\\n                                    <td>\\n                                        <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.copyInventoryToClipBoard($index()); }\\\" title=\\\"Copy items\\\">Copy</a>\\n                                    </td>\\n                                    <td>\\n                                        <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.pasteInventoryFromClipBoard($index()); }\\\" title=\\\"Paste items\\\">Paste</a>\\n                                    </td>\\n                                    <td>\\n                                        <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.resetItemBuild($index()); }\\\" title=\\\"Clear inventory\\\">Clear</a>\\n                                    </td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                        <div class=\\\"form-group\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.resetAllItemBuilds\\\">Clear</button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label>Data set header label</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" data-bind=\\\"value: buildExplorer.graphDataHeader\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label>Data set description</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" data-bind=\\\"value: buildExplorer.graphDataDescription\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.graph\\\">Add data set</button>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label>Hero Property</label>\\n                    <select class=\\\"form-control\\\" data-bind=\\\"options: buildExplorer.graphProperties, optionsText: 'label', optionsValue: 'id', value: buildExplorer.selectedGraphProperty\\\"></select>\\n                </div>\\n                <!-- ko if: buildExplorer.graphData().length > 0 -->\\n                <div class=\\\"form-group\\\" data-bind=\\\"chart: buildExplorer.graphChartData, chartType: 'Scatter', chartOptions: buildExplorer.graphChartOptions(), chartContext: buildExplorer.graphChartContext\\\"></div>\\n                <div class=\\\"form-group\\\">\\n                  <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.exportImage\\\"><span class=\\\"glyphicon glyphicon-export\\\"></span> Export Image</button>\\n                </div>\\n                <button class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: buildExplorer.showGraphItemBuildRows, css: {'toggled': buildExplorer.showGraphItemBuildRows}\\\">Show item build rows</button>\\n                <button class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: buildExplorer.showGraphSkillBuildColumns, css: {'toggled': buildExplorer.showGraphSkillBuildColumns}\\\">Show skill build columns</button>\\n                <table class=\\\"table build-table\\\">\\n                    <thead>\\n                        <tr>\\n                            <th class=\\\"right-border\\\">Level</th>\\n                            <!-- ko foreach: buildExplorer.graphData -->\\n                            <th class=\\\"text-center\\\" data-bind=\\\"css: { 'right-border': !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible() }\\\">\\n                                <span data-bind=\\\"css: { 'tooltip-underline': $data.description }, tooltip: {title: $data.description, placement: 'bottom'}, visible: $data.visible(), text: $data.header, style: { color: $parent.buildExplorer.graphDistinctColor($parent.buildExplorer.graphData().length, $index(), 1) }\\\"></span>\\n                                <span class=\\\"btn btn-xs glyphicon glyphicon-info-sign\\\" data-bind=\\\"visible: $data.visible(), popover: {template: 'popover-graphData-template', data: $data, options: {} }\\\"></span>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right\\\" class=\\\"close\\\" data-bind=\\\"visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }\\\"></button>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon pull-right\\\" data-bind=\\\"visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), toggle: $data.visible, css: { 'glyphicon-minus': $data.visible(), 'glyphicon-plus': !$data.visible()}\\\"></button>\\n                            </th>\\n                            <th class=\\\"text-left right-border\\\" data-bind=\\\"visible: $data.visible() && $parent.buildExplorer.showGraphSkillBuildColumns()\\\"><abbr title=\\\"Q-W-E-R-Stats\\\">Skill Build</abbr>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right\\\" class=\\\"close\\\" data-bind=\\\"visible: $parent.buildExplorer.showGraphSkillBuildColumns(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }\\\"></button>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon pull-right\\\" data-bind=\\\"visible: $parent.buildExplorer.showGraphSkillBuildColumns(), toggle: $data.visible, css: { 'glyphicon-minus': $data.visible(), 'glyphicon-plus': !$data.visible()}\\\"></button>\\n                            </th>\\n                            <!-- /ko -->\\n                        </tr>\\n                    </thead>\\n                    <tbody data-bind=\\\"foreach: new Array(buildExplorer.graphData()[0].data.length)\\\">\\n                        <tr>\\n                            <td class=\\\"right-border\\\">\\n                                <strong data-bind=\\\"text: ($index() + 1)\\\"></strong>\\n                            </td>\\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\\n                            <td class=\\\"text-right\\\" data-bind=\\\"css: { 'right-border': !$parents[1].buildExplorer.showGraphSkillBuildColumns() || !$parents[1].buildExplorer.graphData()[$index()].visible() }\\\">\\n                                <span data-bind=\\\"visible: $parents[1].buildExplorer.graphData()[$index()].visible(), text: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()][$parents[1].buildExplorer.selectedGraphProperty()]\\\"></span>\\n                            </td>\\n                            <td class=\\\"text-left right-border\\\" data-bind=\\\"visible: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns(), text: $parents[1].buildExplorer.graphData()[$index()].cumulativeSkillBuild[$parentContext.$index()].join('-')\\\"></td>\\n                            <!-- /ko -->\\n                        </tr>\\n                        <tr class=\\\"itemBuild-inventory\\\" data-bind=\\\"visible: $parent.buildExplorer.showGraphItemBuildRows() && $parent.buildExplorer.graphRowHasItems($index())\\\">\\n                            <td class=\\\"right-border-itemrow no-top-border\\\"></td>\\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\\n                            <td class=\\\"right-border-itemrow no-top-border\\\" data-bind=\\\"attr: { colspan: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns() ? 2 : 1 }\\\">\\n                                <div data-bind=\\\"visible: $parents[1].buildExplorer.graphData()[$index()].visible(), foreach: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()].items\\\">\\n                                    <img class=\\\"itemBuild-img-sm img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled, item_active: $parents[2].inventory.getActiveBorder($data) == 1, item_inactive: $parents[2].inventory.getActiveBorder($data) == 0 }, attr:{ src: $parents[2].inventory.getItemImage($data) }\\\"/>\\n                                    <div style=\\\"float:left\\\" data-bind=\\\"visible: $parents[2].inventory.getItemSizeLabel($data) != ''\\\">\\n                                        <div data-bind=\\\"html: $parents[2].inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px\\\"></div>\\n                                        <div data-bind=\\\"html: $parents[2].inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;padding:0px 2px\\\"></div>\\n                                    </div>\\n                                </div>\\n                            </td>\\n                            <!-- /ko -->\\n                        </tr>\\n                    </tbody>\\n                </table>\\n                <!-- /ko -->\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\" });\nko.components.register('unit-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n        <img class=\\\"img-rounded\\\" data-bind=\\\"attr:{src: selectedUnit().image}\\\"/>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <label for=\\\"unitselect\\\">Unit</label>\\n        <select id=\\\"unitselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: availableUnits , optionsText: 'heroDisplayName', value: selectedUnit\\\"></select>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <label for=\\\"unitlevel\\\">Level</label>\\n        <p class=\\\"form-control-static\\\" data-bind=\\\"visible: selectedUnit().levels == 0, text: heroData().level\\\"></p>\\n        <select id=\\\"herolevel\\\" class=\\\"form-control\\\" data-bind=\\\"visible: selectedUnit().levels > 0, value: selectedUnitLevel, foreach: new Array(selectedUnit().levels)\\\">\\n            <option data-bind=\\\"text: $index()+1\\\"></option>\\n        </select>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a></h3>\\n\\n            <div class=\\\"col-md-3\\\" data-bind=\\\"visible: showStatDetails(), component: {name: 'stats-additional', params: $data}\\\"></div>\\n            \\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr><td>Gold:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().bountygoldmin == heroData().bountygoldmax ? heroData().bountygoldmax : heroData().bountygoldmin + '-' + heroData().bountygoldmax\\\"></span></td></tr>\\n                <tr><td>Experience:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().bountyxp\\\"></span></td></tr>\\n                <tr><td>Level:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().level\\\"></span></td></tr>\\n                <tr><td><abbr title=\\\"Movement Speed\\\">MS</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalMovementSpeed\\\"></span></td></tr>\\n                <tr><td>Turn Rate:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalTurnRate\\\"></span></td></tr>\\n                <tr><td>Sight Range:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: '<abbr title=\\\\'Day\\\\'>' + visionrangeday() + '</abbr>/<abbr title=\\\\'Night\\\\'>' + visionrangenight() + '</abbr>'\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr><td>Health:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: health\\\"></span></td></tr>\\n                <tr><td>Health Regen:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: healthregen\\\"></span></td></tr>\\n                <tr><td>Mana:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: mana\\\"></span></td></tr>\\n                <tr><td>Mana Regen:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: manaregen\\\"></span></td></tr>\\n                <tr><td>Physical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ehpPhysical\\\"></span></td></tr>\\n                <tr><td>Magical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ehpMagical\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr><td>Armor:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalArmorPhysical\\\"></span></td></tr>\\n                <tr><td>Magic Res:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: totalMagicResistance().toFixed(2) + '%'\\\"></span></td></tr>\\n                <tr><td>Lifesteal:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: lifesteal\\\"></span></td></tr>\\n                <tr><td>Evasion:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: evasion\\\"></span></td></tr>\\n                <tr><td>Bash:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: bash\\\"></span></td></tr>\\n                <tr><td>Miss Chance:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: missChance\\\"></span></td></tr>\\n                </tbody>\\n                <tbody class=\\\"tabledropdown\\\" style=\\\"border-top:0\\\" data-bind=\\\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\\\">\\n                <tr><td colspan=2><strong data-bind=\\\"text: $data.name\\\"></strong></td></tr>\\n                <tr><td>Crit Chance:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.totalchance * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n                <tr><td>Crit Multiplier:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.multiplier * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr>\\n                    <td>Damage:</td>\\n                    <td class=\\\"text-right\\\">\\n                        <span data-bind=\\\"html: baseDamage()[0] + '-' + baseDamage()[1]\\\"></span>\\n                        <span style=\\\"color:green\\\" data-bind=\\\"visible: bonusDamage() > 0, text: ' + ' + bonusDamage()\\\"></span>\\n                        <span style=\\\"color:red\\\" data-bind=\\\"visible: bonusDamageReduction() != 0, text: ' - ' + bonusDamageReduction()\\\"></span>\\n                    </td>\\n                </tr>\\n                <tr><td><abbr title=\\\"Increased Attack Speed\\\">IAS</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ias\\\"></span></td></tr>\\n                <tr><td><abbr title=\\\"Base Attack Time\\\">BAT</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: bat\\\"></span></td></tr>\\n                <tr><td>Attack Time:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: attackTime\\\"></span></td></tr>\\n                <tr><td>Attack / Sec:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: attacksPerSecond().toFixed(2)\\\"></span></td></tr>\\n                <tr><td>Attack Range:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalattackrange\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-8': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div data-bind=\\\"component: { name: 'damage-details', params: $data}\\\"></div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, template: { name: 'item-template', foreach: inventory.items }, visible: sectionDisplay().inventory()\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }\\\">Abilities</h3>\\n                <div class=\\\"row\\\" data-bind=\\\"visible: sectionDisplay().ability(), foreach: ability().abilities()\\\">\\n                    <div data-bind=\\\"component: { name: 'ability', params: $data }\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div data-bind=\\\"component: { name: 'buff-section', params: $data}\\\"></div>\\n    </div>\\n</div>\" });\nko.components.register('clone-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n        <img class=\\\"img-rounded\\\" data-bind=\\\"attr:{src: '/media/images/heroes/meepo.png'}\\\"/>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a></h3>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"visible: showStatDetails(), css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}, component: {name: 'stats-additional', params: $data}\\\"></div>\\n\\n            <div class=\\\"statscontainer\\\" data-bind=\\\"foreach: $root.allItems\\\">\\n                <div data-bind=\\\"component: { name: $data.value, params: $root.heroes[$parentContext.$index()].clone()}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-8': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div data-bind=\\\"component: { name: 'damage-details', params: $data}\\\"></div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, template: { name: 'item-template', foreach: inventory.items }, visible: sectionDisplay().inventory()\\\"></div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\" data-bind=\\\"component: { name: 'damage-amp', params: $data}\\\"></div>\\n    </div>\\n</div>\" });\nko.components.register('illusion-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n        <div class=\\\"img-rounded\\\" style=\\\"background-color:#428bca;display:inline-block\\\">\\n            <img class=\\\"img-rounded\\\" style=\\\"opacity:.5\\\" data-bind=\\\"attr:{src: '/media/images/heroes/' + selectedHero().heroName + '.png'}\\\"/>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <label for=\\\"illusionlevel\\\" data-bind=\\\"text: illusionDisplayName\\\"></label>\\n        <table class=\\\"table\\\">\\n            <tbody>\\n            <tr>\\n                <td>Damage Dealt</td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: (getOutgoingDamageMultiplier(illusionType(), false, heroData().attacktype)*100).toFixed(0)+'%'\\\"></td>\\n            </tr>\\n            <tr>\\n                <td>Damage Taken</td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: (getIncomingDamageMultiplier(illusionType(), false, heroData().attacktype)*100).toFixed(0)+'%'\\\"></td>\\n            </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <div data-bind=\\\"visible: illusionType() != 'item_manta'\\\">\\n            <label for=\\\"illusionlevel\\\">Ability Level</label>\\n            <select id=\\\"illusionlevel\\\" class=\\\"form-control\\\" data-bind=\\\"value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())\\\">\\n                <option data-bind=\\\"text: $index()+1\\\"></option>\\n            </select>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a></h3>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"visible: showStatDetails(), css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}, component: {name: 'stats-additional', params: $data}\\\">\\n            </div>\\n            <div class=\\\"statscontainer\\\" data-bind=\\\"foreach: $root.allItems\\\">\\n                <div data-bind=\\\"component: { name: $data.value, params: $parentContext.$data}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, foreach: inventory.items, visible: sectionDisplay().inventory()\\\">\\n                    <div class=\\\"btn-group\\\">\\n                        <img style=\\\"width:75px;\\\" class=\\\"img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled(), item_active: $parent.inventory.getActiveBorder($data) == 1, item_inactive: $parent.inventory.getActiveBorder($data) == 0 }, attr:{ src: $parent.inventory.getItemImage($data) }, click: function(data, event) { $parent.inventory.toggleItem($index, data, event); }, event: { dblclick: $parent.inventory.removeItem }\\\"/>\\n                        <div style=\\\"float:left\\\" data-bind=\\\"visible: $parent.inventory.getItemSizeLabel($data) != ''\\\">\\n                            <div data-bind=\\\"html: $parent.inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px\\\"></div>\\n                            <div data-bind=\\\"html: $parent.inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;padding:0px 2px\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('buff-settings', { template: \"<div class=\\\"form-horizontal\\\">\\n    <div data-bind=\\\"foreach: data\\\">\\n        <div class=\\\"form-group\\\" data-bind=\\\"visible: (display == undefined || display == 'buff')\\\">\\n            <label class=\\\"col-md-6 control-label\\\" data-bind=\\\"css: {'checkbox-label': controlType == 'checkbox'}, attr: {'for': labelName}, html: labelName\\\"></label>\\n            <div data-bind=\\\"if: controlType == 'input' && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\"><input class=\\\"form-control\\\" data-bind=\\\"attr: {'id': labelName}, value: controlVal\\\"></div>\\n            </div>\\n            <div data-bind=\\\"if: controlType == 'checkbox' && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <div class=\\\"checkbox\\\">\\n                        <input type=\\\"checkbox\\\" data-bind=\\\"attr: {'id': labelName}, checked: controlVal\\\">\\n                    </div>\\n                </div>\\n            </div>\\n            <div data-bind=\\\"if: (controlType == 'text' || controlType == 'method') && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\"><p class=\\\"form-control-static\\\" data-bind=\\\"html: controlVal\\\"></p></div>\\n            </div>\\n            <div data-bind=\\\"if: controlType == 'radio' && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <!-- ko foreach: controlOptions -->\\n                    <div class=\\\"radio\\\">\\n                        <label>\\n                            <input type=\\\"radio\\\" data-bind=\\\"attr: {'id': $parent.labelName + value, value: value}, checked: $parent.controlVal\\\">\\n                            <span data-bind=\\\"text: text\\\"></span>\\n                        </label>\\n                    </div>\\n                    <!-- /ko -->\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('talent-section', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().talent, css: { section_disabled: !sectionDisplay().talent() }\\\">Talents</h3>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: heroData().talents, visible: sectionDisplay().talent()\\\">\\n            <div class=\\\"talent col-xs-12\\\">\\n                <label class=\\\"talent-level col-sm-4 col-xs-12\\\" data-bind=\\\"text: 'Level ' + ($index() * 5 + 10) + ':'\\\"></label>\\n                <div class=\\\"talent-1 col-sm-4 col-xs-12 btn btn-default btn-sm\\\" data-bind=\\\"text: $data[0].displayname, click: function () { $parent.toggleTalent($index(), 0) }, css: {'toggled': $parent.talents[$index()]() == 0}\\\"></div>\\n                <div class=\\\"talent-2 col-sm-4 col-xs-12 btn btn-default btn-sm\\\" data-bind=\\\"text: $data[1].displayname, click: function () { $parent.toggleTalent($index(), 1) }, css: {'toggled': $parent.talents[$index()]() == 1}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('item-buff', { template: \"<div class=\\\"btn-group\\\">\\n    <img style=\\\"width:75px;\\\" class=\\\"img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled(), item_active: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].buffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].buffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].buffs.itemBuffs.removeItem }\\\"/>\\n    <div class=\\\"btn-group-vertical\\\">\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Remove Item\\\" data-bind=\\\"click: $parents[1].buffs.itemBuffs.removeItem\\\">&times;</button>\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Disable/Enable Item\\\" data-bind=\\\"click: $parents[1].buffs.itemBuffs.toggleMuteItem, html: enabled() ? 'o' : '-', attr: {title: enabled() ? 'Disable Item' : 'Enable Item'}\\\">o</button>\\n    </div>\\n</div>\" });\nko.components.register('item-debuff', { template: \"<div class=\\\"btn-group\\\">\\n    <img style=\\\"width:75px;\\\" class=\\\"img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled(), item_active: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].debuffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].debuffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].debuffs.itemBuffs.removeItem }\\\"/>\\n    <div class=\\\"btn-group-vertical\\\">\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Remove Item\\\" data-bind=\\\"click: $parents[1].debuffs.itemBuffs.removeItem\\\">&times;</button>\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Disable/Enable Item\\\" data-bind=\\\"click: $parents[1].debuffs.itemBuffs.toggleMuteItem, html: enabled() ? 'o' : '-', attr: {title: enabled() ? 'Disable Item' : 'Enable Item'}\\\">o</button>\\n    </div>\\n</div>\" });\nko.components.register('buff-section', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }\\\">Buffs</h3>\\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().buff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <select id=\\\"buffselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: buffs.availableBuffs , optionsText: 'buffDisplayName', value: buffs.selectedBuff\\\"></select>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buffs.addBuff\\\">Add</button>\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }\\\">Remove</button>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: buffs.buffs, visible: sectionDisplay().buff()\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name + '.png'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.buffs.abilitySettingsData($data.data.name, $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().buff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <div class=\\\"input-group\\\">\\n                        <input class=\\\"form-control\\\" id=\\\"auto2\\\" data-bind=\\\"attr: {id: id() + '-auto2' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: 'displayname', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'value'\\\" />\\n                        <span class=\\\"input-group-btn\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"jqAutoCombo: id() + '-auto2'\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button>\\n                        </span>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buffs.itemBuffs.addItemBuff\\\">Add</button>\\n                </div>\\n            </div>\\n        </div>\\n        <div data-bind=\\\"foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()\\\">\\n            <div class=\\\"pull-left\\\" style=\\\"margin-right:10px\\\" data-bind=\\\"component: { name: 'item-buff', params: $data}\\\"></div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }\\\">Debuffs</h3>\\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().debuff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <select id=\\\"buffselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: debuffs.availableDebuffs , optionsText: 'buffDisplayName', value: debuffs.selectedBuff\\\"></select>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: debuffs.addBuff\\\">Add</button>\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }\\\">Remove</button>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: debuffs.buffs, visible: sectionDisplay().debuff()\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name + '.png'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.debuffs.abilitySettingsData($data.data.name, $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().debuff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <div class=\\\"input-group\\\">\\n                        <input class=\\\"form-control\\\" id=\\\"auto3\\\" data-bind=\\\"attr: {id: id() + '-auto3' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: 'displayname', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'value'\\\" />\\n                        <span class=\\\"input-group-btn\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"jqAutoCombo: id() + '-auto3'\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button>\\n                        </span>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: debuffs.itemBuffs.addItemDebuff\\\">Add</button>\\n                </div>\\n            </div>\\n        </div>\\n        <div data-bind=\\\"foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()\\\">\\n            <div class=\\\"pull-left\\\" style=\\\"margin-right:10px\\\" data-bind=\\\"component: { name: 'item-debuff', params: $data}\\\"></div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('damage-details', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 style=\\\"display:block;\\\" class=\\\"section_header\\\" data-bind=\\\"toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }\\\">Damage Details\\n            <span class=\\\"pull-right\\\" data-bind=\\\"visible: showDamageDetails()\\\">\\n                <small style=\\\"text-align:center\\\" data-bind=\\\"style: {color: getDamageTypeColor('physical')}\\\">Physical</small>\\n                <small style=\\\"text-align:center\\\" data-bind=\\\"style: {color: getDamageTypeColor('magic')}\\\">Magical</small>\\n                <small style=\\\"text-align:center\\\" data-bind=\\\"style: {color: getDamageTypeColor('pure')}\\\">Pure</small>\\n            </span>\\n        </h3>\\n        <table class=\\\"table damage-details\\\" data-bind=\\\"visible: showDamageDetails()\\\">\\n            <thead>\\n                <tr class=\\\"damage-details-header-row\\\">\\n                    <td></td>\\n                    <td class=\\\"text-center\\\" colspan=\\\"2\\\"><strong>Attack Damage</strong><img src=\\\"img/reduc_icon.png\\\" class=\\\"pull-right\\\" data-bind=\\\"attr: {title: 'After reductions from ' + enemy().heroData().displayname}\\\"></td>\\n                    <td class=\\\"text-center\\\" colspan=\\\"2\\\"><strong>DPS</strong><img src=\\\"img/reduc_icon.png\\\" class=\\\"pull-right\\\" data-bind=\\\"attr: {title: 'After reductions from ' + enemy().heroData().displayname}\\\"></td>\\n                </tr>\\n                <tr class=\\\"damage-details-header-row-2 total-row\\\">\\n                    <td><strong>Total</strong></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[0]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[1]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[2]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[3]().toFixed(2)\\\"></td>\\n                </tr>\\n            </thead>\\n            <!-- ko foreach: damageTotalInfo().attacks -->\\n            <tbody>\\n                <tr class=\\\"indent subtotal-row\\\" data-bind=\\\"toggle: $data.enabled, css: { 'inactive': !$data.enabled() }\\\">\\n                    <td>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-left\\\" data-bind=\\\"toggle: $data.enabled, css: {'glyphicon-eye-open': $data.enabled(), 'glyphicon-eye-close': !$data.enabled()}, preventBubble: 'click'\\\"></button>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-right\\\" data-bind=\\\"toggle: $data.visible, css: {'glyphicon-minus': $data.visible(), 'glyphicon-plus': !$data.visible()}, preventBubble: 'click'\\\"></button>\\n                        <strong><span data-bind=\\\"text: $data.name\\\"></span></strong>\\n                    </td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[0]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[1]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[2]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[3]().toFixed(2)\\\"></td>\\n                </tr>\\n            </tbody>\\n            <tbody class=\\\"indent\\\" data-bind=\\\"foreach: $data.sources, visible: $data.visible\\\">\\n                <tr data-bind=\\\"toggle: $data.enabled, css: { 'inactive': !$data.enabled() }\\\">\\n                    <td class=\\\"indent\\\">\\n                        <span data-bind=\\\"text: $data.name\\\"></span>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-left\\\" data-bind=\\\"toggle: $data.enabled, css: {'glyphicon-eye-open': $data.enabled(), 'glyphicon-eye-close': !$data.enabled()}, preventBubble: 'click'\\\"></button>\\n                    </td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damage.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damageReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dps.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dpsReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                </tr>\\n            </tbody>\\n            <tr class=\\\"indent crit\\\" data-bind=\\\"visible: $data.visible() && $data.sourcesCrit.length > 0\\\">\\n                <td class=\\\"indent\\\">Critical Strike Proc, <span data-bind=\\\"text: ($data.totalCritChance * 100).toFixed(1) + '%'\\\"></span></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[0]().toFixed(2)\\\"></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[1]().toFixed(2)\\\"></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[2]().toFixed(2)\\\"></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[3]().toFixed(2)\\\"></td>\\n            </tr>\\n            <tbody class=\\\"indent\\\" data-bind=\\\"visible: $data.visible, foreach: $data.sourcesCrit\\\">\\n                <tr class=\\\"indent crit\\\" data-bind=\\\"toggle: $data.enabled, css: { 'inactive': !$data.enabled() }\\\">\\n                    <td class=\\\"indent\\\">\\n                        <span data-bind=\\\"text: $data.name\\\"></span>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-left\\\" data-bind=\\\"toggle: $data.enabled, css: {'glyphicon-eye-open': $data.enabled(), 'glyphicon-eye-close': !$data.enabled()}, preventBubble: 'click'\\\"></button>\\n                    </td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damage.toFixed(2)\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damageReduced.toFixed(2)\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dps.toFixed(2)\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dpsReduced.toFixed(2)\\\"></span></td>\\n                </tr>\\n            </tbody>\\n            <!-- /ko -->\\n            <tbody>\\n                <tr data-bind=\\\"visible: cleaveInfo().length > 0\\\">\\n                    <td colspan=3><strong>Cleave</strong></td>\\n                </tr>\\n            </tbody>    \\n            <tbody data-bind=\\\"foreach: cleaveInfo()\\\">\\n                <tr><td>Radius:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.radius\\\"></span></td></tr>\\n                <tr><td>Magnitude:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: ($data.magnitude * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n                <tr>\\n                    <td>Cleave Damage:</td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)\\\"></span></td>\\n                </tr>\\n            </tbody>\\n        \\n        </table>\\n    </div>\\n</div>\" });\nko.components.register('damage-amp', { template: \"<div class=\\\"col-md-12\\\">\\n    <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().damageamp, css: { section_disabled: !sectionDisplay().damageamp() }\\\">Damage Amplification & Reduction</h3>\\n    <div data-bind=\\\"visible: sectionDisplay().damageamp(), lazyBinding: sectionDisplay().damageamp\\\">\\n        <div class=\\\"form-horizontal\\\">\\n            <div class=\\\"form-group\\\">\\n                    <div class=\\\"col-md-3 control-label\\\">\\n                        <label for=\\\"damageinput\\\">Damage</label>\\n                    </div>\\n                    <div class=\\\"col-md-6\\\">\\n                        <input class=\\\"form-control\\\" id=\\\"damageinput\\\" data-bind=\\\"value: damageInputValue\\\" />\\n                    </div>\\n            </div>\\n        </div>\\n        <div class=\\\"form-horizontal\\\">\\n            <div class=\\\"form-group\\\">\\n                    <div class=\\\"col-md-3 control-label\\\">\\n                        <label for=\\\"buffampselect\\\">Amplification</label>\\n                    </div>\\n                    <div class=\\\"col-md-5\\\">\\n                        <select id=\\\"buffampselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: damageAmplification.availableBuffs , optionsText: 'buffDisplayName', value: damageAmplification.selectedBuff\\\"></select>\\n                    </div>\\n                    <div class=\\\"col-md-4\\\">\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: damageAmplification.addBuff\\\">Add</button>\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { damageAmplification.removeBuff(data, event, damageAmplification.selectedBuff().buffName) }\\\">Remove</button>\\n                    </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: damageAmplification.buffs\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer row2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name + '.png'}, click: function(data, event) { $parent.damageAmplification.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageAmplification.removeBuff(data, event, $data.data.name) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name in $parent.damageAmplification.abilityData && $parent.damageAmplification.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.damageAmplification.abilitySettingsData($data.data.name, $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"form-horizontal\\\">\\n            <div class=\\\"form-group\\\">\\n                    <div class=\\\"col-md-3 control-label\\\">\\n                        <label for=\\\"buffreductionselect\\\">Reduction</label>\\n                    </div>\\n                    <div class=\\\"col-md-5\\\">\\n                        <select id=\\\"buffreductionselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: damageReduction.availableDebuffs , optionsText: 'buffDisplayName', value: damageReduction.selectedBuff\\\"></select>\\n                    </div>\\n                    <div class=\\\"col-md-4\\\">\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: damageReduction.addBuff\\\">Add</button>\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { damageReduction.removeBuff(data, event, damageReduction.selectedBuff().buffName) }\\\">Remove</button>\\n                    </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: damageReduction.buffs\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer row2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name + '.png'}, click: function(data, event) { $parent.damageReduction.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageReduction.removeBuff(data, event, $data.data.name) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name in $parent.damageReduction.abilityData && $parent.damageReduction.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.damageReduction.abilitySettingsData($data.data.name, $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        \\n        <h4>Calculations <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showDamageAmpCalcDetails, text: !showDamageAmpCalcDetails() ? 'Show details' : 'Hide details'\\\"></a></h4>\\n        <table class=\\\"table\\\">\\n            <tbody>\\n                <!-- ko foreach: damageInputModified().data -->\\n                <tr data-bind=\\\"visible: $parent.showDamageAmpCalcDetails()\\\">\\n                    <td><span style=\\\"text-decoration: underline;\\\" data-bind=\\\"text: $data.label + ' damage'\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: Math.round($data.value * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                </tr>\\n                    <!-- ko foreach: $data.data -->\\n                    <tr data-bind=\\\"visible: $parents[1].showDamageAmpCalcDetails()\\\">\\n                        <td><span data-bind=\\\"text: $data.label\\\"></span></td>\\n                        <td class=\\\"text-right\\\"><span data-bind=\\\"html: Math.round($data.value * 100) / 100, diffStyle: $data.value\\\"></span></td>\\n                    </tr>\\n                    <!-- /ko -->\\n                <tr data-bind=\\\"css: {subtotal: $parent.showDamageAmpCalcDetails()}\\\">\\n                    <td data-bind=\\\"visible: $parent.showDamageAmpCalcDetails()\\\"><span data-bind=\\\"text: $data.label + ' damage subtotal'\\\"></span></td>\\n                    <td data-bind=\\\"visible: !$parent.showDamageAmpCalcDetails()\\\"><span data-bind=\\\"text: $data.label + ' damage'\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: Math.round($data.total * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                </tr>\\n                <!-- /ko -->\\n                <tr>\\n                    <td><strong data-bind=\\\"text: damageInputModified().label + ' damage'\\\"></strong></td>\\n                    <td class=\\\"text-right\\\"><strong data-bind=\\\"html: Math.round(damageInputModified().total * 100) / 100, style: {color: getDamageTypeColor(damageInputModified().damageType)}\\\"></strong></td>\\n                </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n</div>\" });\nko.components.register('ability', { template: \"<div data-bind=\\\"if: $data.displayname != 'Empty' &&  ($data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_HIDDEN') == -1 || $data.name.indexOf('invoker_') != -1),\\nstyle: {clear: $data.name == 'invoker_cold_snap' || $data.name == 'invoker_chaos_meteor' ? 'both' : ''},\\ncss: {row: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()), row3: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()) }\\\">\\n    <div class=\\\"col-md-3 text-center bottom-buffer row2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n        <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.isActive() || $data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.isActive() && $data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.name + '.png'}, click: function(data, event) { $parents[1].ability().toggleAbility($index, data, event); }\\\"/>\\n        <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n            <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parents[1].getAbilityLevelMax($data) > 0, text: $data.level() + '/' + $parents[1].getAbilityLevelMax($data)\\\"></div>\\n            <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) }, style: { width: ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) + '%' }\\\"></div>\\n        </div>\\n        <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n            <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().levelDownAbility($index, data, event, $parents[1]); }\\\">-</a>\\n            <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().levelUpAbility($index, data, event, $parents[1]); }\\\">+</a>\\n        </div>\\n        <div class=\\\"btn-group btn-group-justified\\\">\\n            <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }, css: {'toggled': $data.isDetail}\\\">Details</a>\\n        </div>\\n        <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.behavior.indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') != -1\\\">\\n            <a class=\\\"btn btn-default btn-sm btn-block\\\" style=\\\"visibility:hidden;\\\">&mdash;</a>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-9 bottom-buffer2\\\" data-bind=\\\"visible: $data.isDetail()\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }\\\">&times;</button>\\n        <div data-bind=\\\"html: $parents[1].ability().getAbilityTooltipData($parents[1].heroId(), $data.name)\\\"></div>\\n        <div data-bind=\\\"if: $data.name in $parents[1].ability().abilityData && $parents[1].ability().abilities()[$index()].level() > 0\\\">\\n            <div class=\\\"col-md-12\\\" style=\\\"margin-top: 10px\\\" >\\n                <div data-bind=\\\"template: { name: 'ability-settings-template', data: $parents[1].ability().abilitySettingsData($data.name, $parents[1], $index()) }\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('shop', require('../components/shop'));\nko.components.register('stat', { template: \"<span data-bind=\\\"text: parseFloat(hero[stat]()).toString()\\\"></span><span data-bind=\\\"html: $root.getDiffText(hero.diff[stat]()), diffCss: hero.diff[stat], diffCssStat: stat, visible: hero.showDiff\\\"></span>\" });\nko.components.register('stats0', { template: \"<div class=\\\"col-md-12 stats0\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr><td>Strength:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalStr' } }\\\"></td></tr>\\n    <tr><td>Agility:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalAgi' } }\\\"></td></tr>\\n    <tr><td>Intelligence:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalInt' } }\\\"></td></tr>\\n    <tr><td><abbr title=\\\"Movement Speed\\\">MS</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMovementSpeed' } }\\\"></td></tr>\\n    <tr><td>Turn Rate:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalTurnRate' } }\\\"></td></tr>\\n    <tr><td>Sight Range:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: '<abbr title=\\\\'Day\\\\'>' + visionrangeday() + '</abbr>/<abbr title=\\\\'Night\\\\'>' + visionrangenight() + '</abbr>'\\\"></span></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats1', { template: \"<div class=\\\"col-md-12 stats1\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr><td>Armor:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysical' } }\\\"></td></tr>\\n    <tr><td>Health:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'health' } }\\\"></td></tr>\\n    <tr><td>Health Regen:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'healthregen' } }\\\"></td></tr>\\n    <tr><td>Mana:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'mana' } }\\\"></td></tr>\\n    <tr><td>Mana Regen:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'manaregen' } }\\\"></td></tr>\\n    <tr><td>Physical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpPhysical' } }\\\"></td></tr>\\n    <tr><td>Magical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpMagical' } }\\\"></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats2', { template: \"<div class=\\\"col-md-12 stats2\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr><td>%Phys Res:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysicalReduction' } }\\\"></td></tr>\\n    <tr><td>%Magic Res:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMagicResistance' } }\\\"></td></tr>\\n    <tr><td>%Lifesteal:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'lifesteal' } }\\\"></td></tr>\\n    <tr><td>%Evasion:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'evasion' } }\\\"></td></tr>\\n    <tr><td>%Bash:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bash' } }\\\"></td></tr>\\n    <tr><td>%Miss Chance:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'missChance' } }\\\"></td></tr>\\n    <tr style=\\\"display: none\\\"><td colspan=2><a class=\\\"btn btn-default btn-block btn-xs\\\" data-bind=\\\"css: {disabled: critInfo().sources.length == 0 ? 'disabled' : '', 'toggled': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails\\\">Critical Strike Details</a></td></tr>\\n    </tbody>\\n    <tbody class=\\\"tabledropdown\\\" style=\\\"border-top:0\\\" data-bind=\\\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\\\">\\n    <tr><td colspan=2><strong data-bind=\\\"text: $data.name\\\"></strong></td></tr>\\n    <tr><td>Crit Chance:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.totalchance * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n    <tr><td>Crit Multiplier:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.multiplier * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats3', { template: \"<div class=\\\"col-md-12 stats3\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr>\\n        <td>Damage:</td>\\n        <td class=\\\"text-right\\\">\\n            <span data-bind=\\\"html: baseDamage()[0].toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['baseDamage']()[0]), css: {'diffPos': diff['baseDamage']()[0] > 0, 'diffNeg': diff['baseDamage']()[0] < 0}, visible: showDiff\\\"></span>\\n            <span>&ndash;</span>\\n            <span data-bind=\\\"html: baseDamage()[1].toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['baseDamage']()[1]), css: {'diffPos': diff['baseDamage']()[1] > 0, 'diffNeg': diff['baseDamage']()[1] < 0}, visible: showDiff\\\"></span>\\n            <span style=\\\"color:green\\\" data-bind=\\\"visible: bonusDamage() > 0, html: ' + ' + bonusDamage().toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['bonusDamage']()), css: {'diffPos': diff['bonusDamage']() > 0, 'diffNeg': diff['bonusDamage']() < 0}, visible: showDiff\\\"></span>\\n            <span style=\\\"color:red\\\" data-bind=\\\"visible: bonusDamageReduction() != 0, html: ' - ' + bonusDamageReduction().toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['bonusDamageReduction']()), css: {'diffPos': diff['bonusDamageReduction']() > 0, 'diffNeg': diff['bonusDamageReduction']() < 0}, visible: showDiff\\\"></span>\\n        </td>\\n    </tr>\\n    <tr><td><abbr title=\\\"Increased Attack Speed\\\">IAS</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ias' } }\\\"></td></tr>\\n    <tr><td><abbr title=\\\"Base Attack Time\\\">BAT</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bat' } }\\\"></td></tr>\\n    <tr><td>Attack Time:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attackTime' } }\\\"></td></tr>\\n    <tr><td>Attack &frasl; Sec:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attacksPerSecond' } }\\\"></td></tr>\\n    <tr><td>Attack Range:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalattackrange' } }\\\"></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats-additional', { template: \"<table class=\\\"table table-condensed\\\">\\n    <tbody>\\n        <tr><td>Base Strength:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributebasestrength\\\"></span></td></tr>\\n        <tr><td>Strength Gain:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributestrengthgain\\\"></span></td></tr>\\n        <tr><td>Base Agility:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributebaseagility\\\"></span></td></tr>\\n        <tr><td>Agility Gain:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributeagilitygain\\\"></span></td></tr>\\n        <tr><td>Base Intelligence:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributebaseintelligence\\\"></span></td></tr>\\n        <tr><td>Intelligence Gain:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributeintelligencegain\\\"></span></td></tr>\\n        <tr><td>Base Armor:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().armorphysical\\\"></span></td></tr>\\n        <tr><td><abbr title=\\\"Base Armor + armor from base agility\\\">Starting Armor:</abbr></td><td class=\\\"text-right\\\"><span data-bind=\\\"text: parseFloat($data.startingArmor()).toString()\\\"></span></td></tr>\\n        <tr><td>Base Magic Res:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().magicalresistance + '%'\\\"></span></td></tr>\\n        <tr><td>Base Attack Point:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attackpoint\\\"></span></td></tr>\\n        <tr><td><abbr data-bind=\\\"attr: { title: 'Total experience required to reach level ' + $data.selectedHeroLevel() }\\\">Total Exp:</abbr></td><td class=\\\"text-right\\\"><span data-bind=\\\"text: $data.totalExp()\\\"></span></span></td></tr>\\n        <tr><td><abbr title=\\\"Experience required for next level\\\">Next level exp:</abbr></td><td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.nextLevelExp()\\\"></span></span></td></tr>\\n        <tr><td>Respawn Time:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: $data.respawnTime()\\\"></span></td></tr>\\n    </tbody>\\n</table>\" });\n\n// The app extends the herocalc library, provides a frontend\nvar my = require(\"dota-hero-calculator-library\");\nvar findWhere = require(\"dota-hero-calculator-library/src/herocalc/util/findWhere\");\nvar uniqueId = require(\"dota-hero-calculator-library/src/herocalc/util/uniqueId\");\nvar itemData = require(\"dota-hero-calculator-library/src/herocalc/data/main\").itemData;\nvar unitData = require(\"dota-hero-calculator-library/src/herocalc/data/main\").unitData;\nvar heroData = require(\"dota-hero-calculator-library/src/herocalc/data/main\").heroData;\nvar stackableItems = require(\"dota-hero-calculator-library/src/herocalc/inventory/stackableItems\");\nvar levelItems = require(\"dota-hero-calculator-library/src/herocalc/inventory/levelItems\");\nvar getItemTooltipData = require(\"./herocalc_tooltips_item\");\nvar getAbilityTooltipData = require(\"./herocalc_tooltips_ability\");\nvar HeroViewModel = require(\"./HeroViewModel\");\nvar CloneViewModel = require(\"./CloneViewModel\");\nvar UnitViewModel = require(\"./UnitViewModel\");\nvar AbilityModel = require(\"dota-hero-calculator-library/src/herocalc/AbilityModel\");\nAbilityModel.prototype.getAbilityTooltipData = function (hero, el) {\n    return getAbilityTooltipData(heroData, unitData, hero, el);\n}\n\nvar PlayerColors = [\n    \"#2E6AE6\", //Blue\n    \"#5DE6AD\", //Teal\n    \"#AD00AD\", //Purple\n    \"#DCD90A\", //Yellow\n    \"#E66200\", //Orange\n    \"#E67AB0\", //Pink\n    \"#92A440\", //Pus Yellow\n    \"#5CC5E0\", //Light Blue\n    \"#00771F\", //Green\n    \"#956000\" //Brown\n];\n\nvar Tab = function (id, href, data, text, color, template) {\n    var self = this;\n    self.id = id;\n    self.href = href;\n    self.color = color;\n    self.data = data;\n    self.data.id = ko.observable(self.href);\n    self.text = text;\n    self.template = template;\n    return self;\n}\nTab.prototype.toJS = function () {\n    return {\n        id: this.id,\n        href: this.href,\n        color: this.color,\n        text: this.text,\n        template: this.template\n    }\n}\n\nvar TabGroup = function (hero, unit, clone) {\n    var self = this;\n    self.hero = hero;\n    self.unit = unit;\n    self.clone = clone;\n    self.illusions = ko.observableArray([]);\n    return self;\n}\nTabGroup.prototype.toJS = function () {\n    return {\n        hero: this.hero.toJS(),\n        unit: this.unit.toJS(),\n        clone: this.clone.toJS(),\n        illusions: this.illusions().map(function (illusion) { return illusion.toJS(); })\n    }\n}\n\nvar HeroCalculatorViewModel = function (tooltipURL) {\n    var self = this;\n    self.heroes = [];\n    \n    getAbilityTooltipData.init(tooltipURL);\n\n    for (var i = 0; i < 10; i++) {\n        self.heroes.push(new HeroViewModel(heroData, itemData, unitData, i));\n    }\n    \n    for (var i = 0; i < 5; i++) {\n        var arr = [];\n        for (var j = 5; j < 10; j++) {\n            arr.push(self.heroes[j]);\n        }\n        self.heroes[i].enemies.push.apply(self.heroes[i].enemies, arr);\n    }\n    for (var i = 5; i < 10; i++) {\n        var arr = [];\n        for (var j = 0; j < 5; j++) {\n            arr.push(self.heroes[j]);\n        }\n        self.heroes[i].enemies.push.apply(self.heroes[i].enemies, arr);\n    }\n    for (var i = 0; i < 10; i++) {\n        var arr = [];\n        for (var j = 0; j < 10; j++) {\n            if (i !== j) arr.push(self.heroes[j]);\n        }\n        self.heroes[i].otherHeroes.push.apply(self.heroes[i].otherHeroes, arr);\n    }\n    \n    for (var i = 0; i < 10; i++) {\n        self.heroes[i].clone = ko.observable(new CloneViewModel(heroData, itemData, unitData, 'meepo', self.heroes[i]));\n        self.heroes[i].unit = ko.observable(new UnitViewModel(heroData, itemData, unitData, 'abaddon', self.heroes[i]));\n        \n        self.heroes[i].selectedCompare(self.heroes[i].availableCompare()[i < 5 ? 4 + i : i - 5]);\n        self.heroes[i].selectedEnemy(self.heroes[i].availableEnemies()[i % 5]);\n        //self.heroes[i].enemy = ko.observable(self.heroes[i < 2 ? 2 : 0]);\n        self.heroes[i].unit().enemy(self.heroes[i].enemy());\n        //self.heroes[i].unit().enemy = ko.observable(self.heroes[i < 2 ? 2 : 0]);\n        //self.heroes[i].heroCompare = ko.observable(self.heroes[1 - (i % 2) + (i < 2 ? 0 : 2)]);\n        \n        self.heroes[i].unit().selectedUnit(self.heroes[i].unit().availableUnits()[0]);\n        //self.heroes[i].selectedHero(self.heroes[i].availableHeroes()[i < 2 ? 0 : 2]);\n        self.heroes[i].illusions.subscribe(function (changes) {\n            for (var i = 0; i < changes.length; i++) {\n                if (changes[i].status == 'added') {\n                    var color = this.index < 2 ? '#5cb85c' : '#d9534f',\n                        j = uniqueId();\n                    self.tabs()[this.index].illusions.push(\n                        new Tab(\n                            'illusionTab' + this.index + '-' + j,\n                            'illusionPane' + this.index + '-' + j,\n                            self.heroes[this.index].illusions()[self.tabs()[this.index].illusions().length](),\n                            'Illusion ' + j,\n                            color,\n                            'illusion-pane')\n                    );\n                }\n            }\n        }, {vm: this, index: i}, \"arrayChange\");\n    }\n    //self.heroes[0].showUnitTab(true);\n    self.heroes[0].bound(true);\n    self.tabs = ko.observableArray([]);\n    var tabsArr = [];\n    for (var i = 0; i < 10; i++) {\n        //var color = i < 5 ? '#5cb85c' : '#d9534f';\n        var color = PlayerColors[i];\n        var tabGroup = new TabGroup(\n            new Tab('heroTab' + i, 'heroPane' + i, self.heroes[i], 'Hero ' + i, color, 'hero-pane'),\n            new Tab('unitTab' + i, 'unitPane' + i, self.heroes[i].unit(), 'Unit ' + i, color, 'unit-pane'),\n            new Tab('cloneTab' + i, 'clonePane' + i, self.heroes[i].clone(), 'Meepo Clone ' + i, color, 'clone-pane')\n        );\n        //self.tabs.push(tabGroup);\n        tabsArr.push(tabGroup);\n    }\n    self.tabs.push.apply(self.tabs, tabsArr);//.slice(0, 1));\n\n    self.selectedItem = ko.observable();\n    self.layout = ko.observable(\"1\");\n    self.displayShop = ko.observable(true);\n    self.displayShopItemTooltip = ko.observable(true);\n    self.allItems = ko.observableArray([\n        {name: 'Str, Agi, Int, MS, Turn, Sight', value: 'stats0'},\n        {name: 'Armor, Health, Mana, Regen, EHP', value: 'stats1'},\n        {name: 'Phys Res, Magic Res, Lifesteal, Evasion, Bash, Miss', value: 'stats2'},\n        {name: 'Damage, IAS, BAT, Attack', value: 'stats3'}\n    ]); // Initial items\n    self.selectedItems = ko.observableArray([]); \n    self.moveUp = function () {\n        var start = self.allItems.indexOf(self.selectedItems()[0]),\n            end = self.allItems.indexOf(self.selectedItems()[self.selectedItems().length - 1]);\n        if (start > 0) {\n            var e = self.allItems.splice(start - 1, 1);\n            self.allItems.splice(end, 0, e[0]);            \n        }\n    };\n    self.moveDown = function () {\n        var start = self.allItems.indexOf(self.selectedItems()[0]),\n            end = self.allItems.indexOf(self.selectedItems()[self.selectedItems().length - 1]);        \n        if (end < self.allItems().length - 1) {\n            var e = self.allItems.splice(end + 1, 1);\n            self.allItems.splice(start, 0, e[0]);\n        }\n    };\n    self.selectedTabId = ko.observable('heroTab0');\n    self.getSelectedTab = function (tabId) {\n        var indices = tabId.replace('heroTab', '').replace('cloneTab', '').replace('unitTab', '').replace('illusionTab', '').split('-'),\n            index = indices[0],\n            tab = self.tabs()[index];\n        return tab;\n    }\n    self.selectedTab = ko.computed(function () {\n        /*var indices = self.selectedTabId().replace('heroTab', '').replace('cloneTab', '').replace('unitTab', '').replace('illusionTab', '').split('-'),\n            index = indices[0],\n            tab = self.tabs()[index];*/\n        var tab = self.getSelectedTab(self.selectedTabId());\n        if (self.selectedTabId().indexOf('hero') != -1) {\n            return tab.hero;\n        }\n        else if (self.selectedTabId().indexOf('unit') != -1) {\n            return tab.unit;\n        }\n        else if (self.selectedTabId().indexOf('clone') != -1) {\n            return tab.clone;\n        }\n        else if (self.selectedTabId().indexOf('illusion') != -1) {\n            return tab.illusions().find(function (tab) {\n                return tab.id == self.selectedTabId();\n            });\n        }\n        else {\n            return self.tabs()[0].hero;\n        }\n    });\n    self.selectedTabs = ko.observableArray(['heroTab0', 'heroTab1']);\n    //self.selectedTabs.push('heroTab0');\n    //self.selectedTabs.push('heroTab1');\n    self.boundSettings = ko.observable(false);\n    self.clickTab = function (data, event, index) {\n        /*if (event.target.id != 'settingsTab') {\n            self.selectedTabId(event.target.id);\n        }*/\n        self.selectedTabId(event.target.id);\n        if (self.selectedTabs()[1] != event.target.id) {\n            self.selectedTabs.shift();\n            self.selectedTabs.push(event.target.id);\n        }\n        if (self.selectedTab().data.hasOwnProperty('bound')) {\n            self.selectedTab().data.bound(true);\n\n            // make sure build explorer graph renders\n            if (self.selectedTab().data.hasOwnProperty('buildExplorer')) {\n                setTimeout(function () {\n                    self.selectedTab().data.buildExplorer.graphData.valueHasMutated();\n                }, 0);\n            }\n        }\n        if (event.target.id === 'settingsTab') self.boundSettings(true);\n    };\n    self.isSecondTab = function (id) {\n        return self.selectedTabs().indexOf(id) > -1 && self.selectedTabId() != id;\n    }\n    \n    self.showSideTabId = function (id) {\n        return self.selectedTabs().indexOf(id) > -1 && self.sideView();\n    };\n    \n    self.removeTab = function (index, data, event, tab) {\n        if (data.id == self.selectedTabId()) {\n            //self.selectedTabId('heroTab0');\n            self.clickTab(null, {target: {id: 'heroTab0'}});\n            $('#heroTab0').tab('show');\n        }\n        self.tabs()[tab].illusions.remove(function (illusion) {\n            return illusion == data;\n        });\n        self.heroes[tab].illusions.remove(function (illusion) {\n            return illusion() == data.data;\n        });\n    };\n    \n    self.sideView = ko.observable(false);\n    self.sideView.subscribe(function (newValue) {\n        if (newValue) {\n            if (!self.shopPopout()) {\n                self.displayShop(false);\n            }\n            for (var i = 0; i < self.selectedTabs().length; i++) {\n                var tab = self.getSelectedTab(self.selectedTabs()[i]);\n                if (tab && tab.hero.data.hasOwnProperty('bound')) {\n                    tab.hero.data.bound(true);\n                }\n            }\n            self.layout(\"0\");\n        }\n    });\n    var $window = $(window);\n    self.windowWidth = ko.observable($window.width());\n    self.windowHeight = ko.observable($window.height());\n    $window.resize(function () { \n        self.windowWidth($window.width());\n        self.windowHeight($window.height());\n    });\n    self.shopDock = ko.observable(false);\n    self.shopDock.subscribe(function (newValue) {\n        if (newValue) {\n            self.shopPopout(false);\n        }\n        else {\n        }\n    });\n\n    self.shopDockTrigger = ko.computed(function () {\n        self.windowWidth();\n        self.shopDock();\n    });\n    self.shopPopout = ko.observable(false);\n    self.shopPopout.subscribe(function (newValue) {\n        if (newValue) {\n            self.displayShop(true);\n            $( \"#shop-dialog\" ).dialog({\n                minWidth: 380,\n                minHeight: 0,\n                closeText: \"\",\n                open: function ( event, ui ) {\n                    $(event.target.offsetParent).find('.ui-dialog-titlebar').find('button')\n                        .addClass('close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right')\n                        .removeClass('ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close')\n                        .css('margin-right','0px')\n                        .parent()\n                            .append($('#shop-minimize'))\n                            .append($('#shop-maximize'));\n                    $(event.target.offsetParent).find('.ui-dialog-titlebar').dblclick(function () {\n                        self.displayShop(!self.displayShop());\n                    });\n                },\n                close: function ( event, ui ) {\n                    self.shopPopout(false);\n                }\n            });\n        }\n        else {\n            $('#shop-container').prepend($('#shop-minimize')).prepend($('#shop-maximize'));\n            $( \"#shop-dialog\" ).dialog(\"destroy\");\n        }\n    });\n\n    self.addItem = function (data, event) {\n        self.selectedTab().data.buildExplorer.getSelectedInventory().addItem(data, event);\n    }\n    self.itemOptions = ko.computed(function () {\n        return self.selectedTab().data.inventory.itemOptions();\n    });\n    \n    self.changeSelectedItem = function (data, event) {\n        self.itemInputValue(1);\n        self.selectedItem(event.target.id);\n    }\n    \n    self.getItemTooltipData = ko.computed(function () {\n        return getItemTooltipData(itemData, self.selectedItem());\n    }, this);\n    self.getItemInputLabel = ko.computed(function () {\n        if (stackableItems.indexOf(self.selectedItem()) != -1) {\n            return 'Stack Size'\n        }\n        else if (levelItems.indexOf(self.selectedItem()) != -1) {\n            return 'Upgrade Level'\n        }\n        else if (self.selectedItem() == 'bloodstone') {\n            return 'Charges'\n        }\n        else {\n            return ''\n        }\n    }, this);\n    self.itemInputValue = ko.observable(1);\n    self.saveLink = ko.observable();\n    self.getAppState = function () {\n        var data = {\n            selectedItem: self.selectedItem,\n            layout: self.layout,\n            displayShop: self.displayShop,\n            displayShopItemTooltip: self.displayShopItemTooltip,\n            allItems: self.allItems,\n            selectedItems: self.selectedItems,\n            selectedTabId: self.selectedTabId,\n            selectedTabs: self.selectedTabs,\n            boundSettings: self.boundSettings,\n            sideView: self.sideView,\n            windowWidth: self.windowWidth,\n            windowHeight: self.windowHeight,\n            shopDock: self.shopDock,\n            shopPopout: self.shopPopout,\n            itemInputValue: self.itemInputValue,\n            saveLink: self.saveLink\n        }\n        data.tabs = self.tabs().map(function (tab) { return tab.toJS() });\n        return ko.toJS(data);\n    }\n    self.getSaveData = function () {\n        var data = {\n            version: \"1.3.0\",\n            heroes: []\n        }\n        for (var i = 0; i < 10; i++) {\n            var hero = self.heroes[i];\n            var d = {\n                hero: hero.selectedHero().heroName,\n                level: hero.selectedHeroLevel(),\n                items: [],\n                abilities: [],\n                skillPointHistory: hero.skillPointHistory(),\n                buffs: [],\n                itemBuffs: [],\n                debuffs: [],\n                itemDebuffs: [],\n                graphData: [],\n                enemyIndex: hero.enemy().index(),\n                heroCompareIndex: hero.heroCompare().index()\n            }\n            // items\n            for (var j = 0; j < hero.inventory.items().length; j++) {\n                d.items.push(ko.toJS(hero.inventory.items()[j]));\n            }\n            // abilities\n            for (var j = 0; j < hero.ability().abilities().length; j++) {\n                d.abilities.push({\n                    level: hero.ability().abilities()[j].level(),\n                    isActive: hero.ability().abilities()[j].isActive()\n                });\n            }\n            // buffs\n            for (var j = 0; j < hero.buffs.buffs().length; j++) {\n                d.buffs.push({\n                    name: hero.buffs.buffs()[j].name,\n                    level: hero.buffs.buffs()[j].data.level(),\n                    isActive: hero.buffs.buffs()[j].data.isActive()\n                });\n            }\n            \n            // debuffs\n            for (var j = 0; j < hero.debuffs.buffs().length; j++) {\n                d.debuffs.push({\n                    name: hero.debuffs.buffs()[j].name,\n                    level: hero.debuffs.buffs()[j].data.level(),\n                    isActive: hero.debuffs.buffs()[j].data.isActive()\n                });\n            }\n\n            // item buffs\n            for (var j = 0; j < hero.buffs.itemBuffs.items().length; j++) {\n                d.itemBuffs.push(ko.toJS(hero.buffs.itemBuffs.items()[j]));\n            }\n            \n            // item debuffs\n            for (var j = 0; j < hero.debuffs.itemBuffs.items().length; j++) {\n                d.itemDebuffs.push(ko.toJS(hero.debuffs.itemBuffs.items()[j]));\n            }\n            \n            // graph data\n            d.graphData = ko.toJS(hero.buildExplorer.graphData);\n            \n            data.heroes.push(d);\n        }\n        return data;\n    }\n    self.save = function () {\n        var data = self.getSaveData();\n        var serialized = JSON.stringify(data);\n        $.ajax({\n            type: \"POST\",\n            url: \"save.php\",\n            data: {'data': serialized},\n            dataType: \"json\",\n            success: function (data){\n                self.saveLink([location.protocol, '//', location.host, location.pathname].join('') + '?id=' + data.file);\n            },\n            failure: function (errMsg) {\n                alert(\"Save request failed.\");\n            }\n        });\n    }\n    self.load = function (data) {\n        for (var i = 0; i < data.heroes.length; i++) {\n            var hero = self.heroes[i];\n            hero.selectedHero(findWhere(hero.availableHeroes(), {'heroName': data.heroes[i].hero}));\n            hero.selectedHeroLevel(data.heroes[i].level);\n            hero.inventory.items.removeAll();\n            hero.inventory.activeItems.removeAll();\n            \n            // load hero compare\n            if (data.heroes[i].hasOwnProperty('heroCompareIndex')) {\n                var o = hero.availableCompare().filter(function (option) {\n                    return option.hero.index() == data.heroes[i].heroCompareIndex;\n                });\n                if (o.length) {\n                    hero.selectedCompare(o[0]);\n                    hero.heroCompare(o[0].hero);\n                }\n            }\n            \n            // load enemy\n            if (data.heroes[i].hasOwnProperty('enemyIndex')) {\n                var o = hero.availableEnemies().filter(function (option) {\n                    return option.hero.index() == data.heroes[i].enemyIndex;\n                });\n                if (o.length) {\n                    hero.selectedEnemy(o[0]);\n                    hero.enemy(o[0].hero);\n                }\n            }\n            \n            // load items\n            for (var j = 0; j < data.heroes[i].items.length; j++) {\n                var item = data.heroes[i].items[j];\n                var new_item = {\n                    item: item.item,\n                    state: ko.observable(item.state),\n                    size: item.size,\n                    enabled: ko.observable(item.enabled)\n                }\n                hero.inventory.items.push(new_item);\n            }\n\n            // load abilities\n            for (var j = 0; j < data.heroes[i].abilities.length; j++) {\n                hero.ability().abilities()[j].level(data.heroes[i].abilities[j].level);\n                hero.ability().abilities()[j].isActive(data.heroes[i].abilities[j].isActive);\n            }\n            hero.skillPointHistory(data.heroes[i].skillPointHistory);\n\n            // load buffs\n            for (var j = 0; j < data.heroes[i].buffs.length; j++) {\n                hero.buffs.selectedBuff(findWhere(hero.buffs.availableBuffs(), {buffName: data.heroes[i].buffs[j].name}));\n                hero.buffs.addBuff(hero, {});\n                var b = findWhere(hero.buffs.buffs(), { name: data.heroes[i].buffs[j].name });\n                b.data.level(data.heroes[i].buffs[j].level);\n                b.data.isActive(data.heroes[i].buffs[j].isActive);\n            }\n\n            // load debuffs\n            for (var j = 0; j < data.heroes[i].debuffs.length; j++) {\n                hero.debuffs.selectedBuff(findWhere(hero.debuffs.availableDebuffs(), {buffName: data.heroes[i].debuffs[j].name}));\n                hero.debuffs.addBuff(hero, {});\n                var b = findWhere(hero.debuffs.buffs(), { name: data.heroes[i].debuffs[j].name });\n                b.data.level(data.heroes[i].debuffs[j].level);\n                b.data.isActive(data.heroes[i].debuffs[j].isActive);\n            }\n\n            // load item buffs\n            if (data.heroes[i].itemBuffs) {\n                for (var j = 0; j < data.heroes[i].itemBuffs.length; j++) {\n                    var item = data.heroes[i].itemBuffs[j];\n                    var new_item = {\n                        item: item.item,\n                        state: ko.observable(item.state),\n                        size: item.size,\n                        enabled: ko.observable(item.enabled)\n                    }\n                    hero.buffs.itemBuffs.items.push(new_item);\n                }\n            }\n\n            // load item debuffs\n            if (data.heroes[i].itemDebuffs) {\n                for (var j = 0; j < data.heroes[i].itemDebuffs.length; j++) {\n                    var item = data.heroes[i].itemDebuffs[j];\n                    var new_item = {\n                        item: item.item,\n                        state: ko.observable(item.state),\n                        size: item.size,\n                        enabled: ko.observable(item.enabled)\n                    }\n                    hero.debuffs.itemBuffs.items.push(new_item);\n                }\n            }\n            \n            // load graph data\n            if (data.heroes[i].graphData) {\n                hero.buildExplorer.loadGraphData(data.heroes[i].graphData);\n            }\n        }\n    }\n    \n    self.sendReport = function () {\n        if ($('#BugReportFormText').val()) {\n            $.post( \"report.php\", { name: $('#BugReportFormName').val(), email: $('#BugReportFormEmail').val(), body: $('#BugReportFormText').val() })\n            .done(function (data) {\n                if (data == 'Success') {\n                    alert('Report successfully sent. Thanks!');\n                    $('#BugReportFormText').val('');\n                }\n                else {\n                    alert('Failed to send report. Try again later or email admin@devilesk.com');\n                }\n            });\n            $('#myModal').modal('hide');\n        }\n        else {\n            alert('Message is required.');\n        }\n    }\n    \n    self.getProperty = function (obj, properties) {\n        var result = obj;\n        for (var i = 0; i < properties.length; i++) {\n            result = result[properties[i]];\n        }\n        return result;\n    };\n    \n    self.getDiffTextWrapper = function (hero, property) {\n        return self.getDiffText(self.getDiffMagnitude(hero, property));\n    }\n    \n    self.getDiffMagnitude = function (hero, property) {\n        var properties = property.split('.');\n        return self.getProperty(hero.damageTotalInfo(), properties).toFixed(2) - self.getProperty(hero.heroCompare().damageTotalInfo(), properties).toFixed(2);\n    }\n    \n    self.getDiffText = function (value) {\n        if (value > 0) {\n            return '+' + parseFloat(value.toFixed(2));\n        }\n        else if (value < 0) {\n            return '&minus;' + parseFloat(value.toFixed(2)*-1).toString();\n        }\n        else {\n            return '';\n        }\n    }\n    self.highlightedTabInternal = ko.observable('');\n    self.highlightedTab = ko.computed(function () {\n        return self.highlightedTabInternal();\n    }).extend({ throttle: 100 });\n    self.highlightTab = function (data) {\n        self.highlightedTabInternal(data);\n    }\n    self.unhighlightTab = function (data) {\n        self.highlightedTabInternal('');\n    }\n}\n\nmodule.exports = HeroCalculatorViewModel;","'use strict';\nvar ko = require('./herocalc_knockout');\nvar extend = require(\"dota-hero-calculator-library/src/herocalc/util/extend\");\nvar findWhere = require(\"dota-hero-calculator-library/src/herocalc/util/findWhere\");\n\nvar DamageInstance = function (label, damageType, value, data, total) {\n    this.label = label || '';\n    this.damageType = damageType || '';\n    this.value = parseFloat(value) || 0;\n    this.data = data || [];\n    this.total = parseFloat(total) || 0;\n}\n\nvar HeroDamageAmpMixin = function (self) {\n    self.damageBrackets = [\n        ['medusa_mana_shield', 'templar_assassin_refraction', 'faceless_void_backtrack', 'nyx_assassin_spiked_carapace'],\n        ['spectre_dispersion', 'wisp_overcharge', 'slardar_sprint','bristleback_bristleback', 'undying_flesh_golem'],\n        ['abaddon_borrowed_time', 'abaddon_aphotic_shield', 'kunkka_ghostship', 'treant_living_armor'],\n        ['chen_penitence', 'medusa_stone_gaze', 'shadow_demon_soul_catcher'],\n        ['dazzle_shallow_grave']\n    ];\n    \n    self.getDamageAfterBracket = function (initialDamage,index) {\n        var bracket = self.damageBrackets[index];\n        var multiplier = 1;\n        for (var i = 0; i < bracket.length; i++) {\n            if (findWhere(self.damageAmplification.buffs, {name: bracket[i].name}) != undefined || findWhere(self.damageReduction.buffs, {name: bracket[i].name}) != undefined) {\n                multiplier += bracket[i].value;\n            }\n        };\n        return initialDamage * multiplier;\n    };\n    \n    self.processDamageAmpReducBracket = function (index, sources, damage) {\n        var multiplier = 1,\n            data = [],\n            damage = parseFloat(damage),\n            total = parseFloat(damage);\n            \n        for (var i = 0; i < self.damageBrackets[index].length; i++) {\n            if (sources[self.damageBrackets[index][i]] != undefined) {\n                multiplier = 1 + parseFloat(sources[self.damageBrackets[index][i]].multiplier);\n                total += (damage * multiplier) - damage;\n                data.push(new DamageInstance(\n                    sources[self.damageBrackets[index][i]].displayname,\n                    sources[self.damageBrackets[index][i]].damageType,\n                    (damage * multiplier) - damage,\n                    [],\n                    total\n                ));\n            }\n        }\n        return data;\n    }\n    \n    self.getDamageAmpReducInstance = function(sources, initialDamage, ability, damageType) {\n        var data = [],\n            damage = parseFloat(initialDamage),\n            prevDamage = damage,\n            label = ability == 'initial' ? 'Initial' : sources[ability].displayname;\n\n        // Bracket 0\n        data = data.concat(self.processDamageAmpReducBracket(0, sources, damage));\n        damage = data[data.length - 1] ? data[data.length - 1].total : damage;\n\n        // Bracket 1\n        data = data.concat(self.processDamageAmpReducBracket(1, sources, damage));\n        damage = data[data.length - 1] ? data[data.length - 1].total : damage;\n        \n        // Bracket 2\n        data = data.concat(self.processDamageAmpReducBracket(2, sources, damage));\n        damage = data[data.length - 1] ? data[data.length - 1].total : damage;\n\n        return new DamageInstance(label, damageType, initialDamage, data, data[data.length - 1] ? data[data.length - 1].total : damage);\n    }\n    \n    self.getDamageAmpReduc = function (initialDamage) {\n        var instances = [],\n            sources = {},\n            sourcesAmp = self.damageReduction.getDamageMultiplierSources(),\n            sourcesReduc = self.damageAmplification.getDamageMultiplierSources();\n        extend(sources, sourcesAmp);\n        extend(sources, sourcesReduc);\n        // Initial damage instance\n        instances.push(self.getDamageAmpReducInstance(sources, initialDamage, 'initial', 'physical'));\n        \n        // Bracket 4 damage instances\n        var b4 = ['shadow_demon_soul_catcher', 'medusa_stone_gaze', 'chen_penitence'];\n        for (var i = 0; i < b4.length; i++) {\n            if (sources[b4[i]] != undefined) {\n                instances.push(self.getDamageAmpReducInstance(sources, initialDamage * sources[b4[i]].multiplier, b4[i], sources[b4[i]].damageType));\n            }\n        }\n    \n        return new DamageInstance('Total', 'physical', initialDamage, instances, instances.reduce(function(memo, i) {return parseFloat(memo) + parseFloat(i.total);}, 0));\n    };\n    \n    self.damageInputValue = ko.observable(0);\n    self.damageInputModified = ko.computed(function () {\n        return self.getDamageAmpReduc(self.damageInputValue());\n    });\n}\n\nmodule.exports = HeroDamageAmpMixin;","\"use strict\";\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar HeroCalc = require(\"dota-hero-calculator-library\");\nvar DamageAmpViewModel = require(\"./DamageAmpViewModel\");\nvar BuildExplorerViewModel = require(\"./BuildExplorerViewModel\");\nvar HeroDamageAmpMixin = require(\"./HeroDamageAmpMixin\");\nvar illusionOptionsArray = require(\"dota-hero-calculator-library/src/herocalc/illusion/illusionOptionsArray\");\nvar illusionData = require(\"dota-hero-calculator-library/src/herocalc/illusion/illusionData\");\nvar IllusionViewModel = require(\"./IllusionViewModel\");\n\nvar HeroOption2 = function (hero) {\n    this.heroName = ko.computed(function () {\n        return hero.selectedHero().heroName;\n    });\n    this.heroDisplayName = ko.computed(function () {\n        return hero.selectedHero().heroDisplayName;\n    });\n    this.hero = hero;\n};\n\nvar HeroViewModel = function (heroData, itemData, unitData, h) {\n    var self = this;\n    self.index = ko.observable(h);\n    self.availableHeroes = ko.observableArray(HeroCalc.HeroOptions);\n    self.availableHeroes.sort(function (left, right) {\n        return left.heroDisplayName == right.heroDisplayName ? 0 : (left.heroDisplayName < right.heroDisplayName ? -1 : 1);\n    });\n    self.selectedHero = ko.observable(self.availableHeroes()[h]);\n    \n    HeroCalc.HeroModel.call(this, heroData, itemData, self.selectedHero().heroName);\n    \n    self.selectedHero.subscribe(function (newValue) {\n        self.heroId(newValue.heroName);\n    });\n    \n    self.illusions = ko.observableArray([]);\n    self.availableIllusions = ko.observableArray(illusionOptionsArray);\n    self.selectedIllusion = ko.observable(self.availableIllusions()[0]);\n    self.illusionAbilityLevel = ko.observable(1);\n    self.illusionAbilityMaxLevel = ko.computed(function () {\n        return illusionData[self.selectedIllusion().illusionName].max_level;\n    });\n    self.addIllusion = function (data, event) {\n        self.illusions.push(ko.observable(new IllusionViewModel(heroData, itemData, 0, self, self.illusionAbilityLevel())));\n    };\n    \n    self.bound = ko.observable(false);\n    self.playerColorCss = ko.computed(function () {\n        return 'player-color-' + self.index();\n    });\n    self.heroOption = new HeroOption2(self);\n    self.otherHeroes = ko.observableArray([]);\n    self.availableCompare = ko.computed(function () {\n        return self.otherHeroes().map(function (o) {\n            return o.heroOption;\n        });\n    });\n    self.selectedCompare = ko.observable();\n    self.selectedCompare.subscribe(function (newValue) {\n        self.heroCompare(newValue.hero);\n    });\n    self.enemies = ko.observableArray([]);\n    self.availableEnemies = ko.computed(function () {\n        return self.enemies().map(function (o) {\n            return o.heroOption;\n        });\n    });\n    self.selectedEnemy = ko.observable();\n    self.selectedEnemy.subscribe(function (newValue) {\n        self.enemy(newValue.hero);\n    });\n    self.setHeroOptionStyling = function(option, item) {\n        ko.applyBindingsToNode(option, {css: item.hero.playerColorCss() }, item);\n    }\n    self.sectionDisplay = ko.observable({\n        'inventory': ko.observable(true),\n        'ability': ko.observable(true),\n        'talent': ko.observable(true),\n        'buff': ko.observable(true),\n        'debuff': ko.observable(true),\n        'damageamp': ko.observable(false),\n        'illusion': ko.observable(false),\n        'skillbuild': ko.observable(false),\n        'skillbuild-skills': ko.observable(true),\n        'skillbuild-items': ko.observable(true)\n    });\n    self.sectionDisplayToggle = function (section) {\n        self.sectionDisplay()[section](!self.sectionDisplay()[section]());\n    }\n    self.showUnitTab = ko.observable(false);\n    self.showDiff = ko.observable(false);\n    self.showCriticalStrikeDetails = ko.observable(false);\n    self.showDamageDetails = ko.observable(false);\n    self.showStatDetails = ko.observable(false);\n    self.showDamageAmpCalcDetails = ko.observable(false);\n    \n    self.damageAmplification = new DamageAmpViewModel(heroData, itemData, unitData);\n    self.damageReduction = new DamageAmpViewModel(heroData, itemData, unitData);\n    self.buildExplorer = new BuildExplorerViewModel(self);\n    HeroDamageAmpMixin(self);\n}\nHeroViewModel.prototype = Object.create(HeroCalc.HeroModel.prototype);\nHeroViewModel.prototype.constructor = HeroViewModel;\n\nmodule.exports = HeroViewModel;","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar HeroCalc = require(\"dota-hero-calculator-library\");\nvar illusionData = require(\"dota-hero-calculator-library/src/herocalc/illusion/illusionData\");\nvar heroData = require(\"dota-hero-calculator-library/src/herocalc/data/main\").heroData;\nvar itemData = require(\"dota-hero-calculator-library/src/herocalc/data/main\").itemData;\nvar findWhere = require(\"dota-hero-calculator-library/src/herocalc/util/findWhere\");\n\nvar IllusionViewModel = function (heroData, itemData, h, p, abilityLevel) {\n    var self = this;\n    self.parent = p;\n    self.illusionType = ko.observable(self.parent.selectedIllusion().illusionName);\n    if (!illusionData[self.illusionType()].use_selected_hero) {\n        HeroCalc.IllusionModel.call(this, heroData, itemData, self.parent.selectedIllusion().baseHero, p, abilityLevel);\n        self.selectedHero = ko.observable(findWhere(self.parent.availableHeroes(), {heroName: self.parent.selectedIllusion().baseHero}));\n    }\n    else {\n        HeroCalc.IllusionModel.call(this, heroData, itemData, self.parent.selectedHero().heroName, p, abilityLevel);\n        self.selectedHero = ko.observable(self.parent.selectedHero());\n    }\n    \n    self.inventory = self.parent.inventory;\n    self.illusionDisplayName = ko.observable(self.parent.selectedIllusion().illusionDisplayName);\n    self.illusionAbilityMaxLevel = ko.observable(illusionData[self.parent.selectedIllusion().illusionName].max_level);\n    /*if (!illusionData[self.illusionType()].use_selected_hero) {\n        self.selectedHero(findWhere(self.parent.availableHeroes(), {heroName: self.parent.selectedIllusion().baseHero}));\n    }\n    else {\n        self.selectedHero(self.parent.selectedHero());\n    }*/\n    self.selectedHeroLevel(self.parent.selectedHeroLevel());\n    /*self.hero = ko.computed(function() {\n        return ko.wrap.fromJS(heroData['npc_dota_hero_' + self.selectedHero().heroName]);\n    });*/\n    \n    self.ability().getAttributeBonusLevel = self.parent.ability().getAttributeBonusLevel;\n    \n    self.sectionDisplay = ko.observable({\n        'inventory': ko.observable(true),\n        'ability': ko.observable(true),\n        'buff': ko.observable(true),\n        'debuff': ko.observable(true),\n        'damageamp': ko.observable(false),\n        'illusion': ko.observable(false),\n        'skillbuild': ko.observable(false),\n        'skillbuild-skills': ko.observable(true),\n        'skillbuild-items': ko.observable(true)\n    });\n    self.sectionDisplayToggle = function (section) {\n        self.sectionDisplay()[section](!self.sectionDisplay()[section]());\n    }\n    self.showUnitTab = ko.observable(false);\n    self.showDiff = ko.observable(false);\n    self.showCriticalStrikeDetails = ko.observable(false);\n    self.showDamageDetails = ko.observable(false);\n    self.showStatDetails = ko.observable(false);\n    return self;\n}\nIllusionViewModel.prototype = Object.create(HeroCalc.IllusionModel.prototype);\nIllusionViewModel.prototype.constructor = IllusionViewModel;\n\nmodule.exports = IllusionViewModel;","\"use strict\";\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar HeroCalc = require(\"dota-hero-calculator-library\");\nvar UnitOption = require(\"dota-hero-calculator-library/src/herocalc/hero/UnitOption\");\n\nvar UnitViewModel = function (heroData, itemData, unitData, h, p) {\n    var self = this;\n    self.index = ko.observable(h);\n    self.selectedUnitLevel = ko.observable(1);\n    self.availableUnits = ko.observableArray([\n        new UnitOption('npc_dota_lone_druid_bear', 'Lone Druid Spirit Bear',4,'/media/images/units/spirit_bear.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_brewmaster_earth_','Brewmaster Earth Warrior',3,'/media/images/units/npc_dota_brewmaster_earth.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_brewmaster_fire_','Brewmaster Fire Warrior',3,'/media/images/units/npc_dota_brewmaster_fire.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_brewmaster_storm_','Brewmaster Storm Warrior',3,'/media/images/units/npc_dota_brewmaster_storm.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_necronomicon_archer_','Necronomicon Archer',3,'/media/images/units/npc_dota_necronomicon_archer.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_necronomicon_warrior_','Necronomicon Warrior',3,'/media/images/units/npc_dota_necronomicon_warrior.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_lycan_wolf','Lycan Wolf',4,'/media/images/units/npc_dota_lycan_wolf.png', self.selectedUnitLevel),\n        new UnitOption('npc_dota_visage_familiar','Visage Familiar',3,'/media/images/units/npc_dota_visage_familiar.png', self.selectedUnitLevel)\n    ]);\n    self.selectedUnit = ko.observable(self.availableUnits()[0]);\n    HeroCalc.UnitModel.call(this, heroData, itemData, unitData, self.selectedUnit().heroName());\n    \n    self.selectedUnitLevel.subscribe(function(newValue) {\n        self.unitLevel(newValue);\n        self.unitId(self.selectedUnit().heroName());\n    });\n    self.selectedUnit.subscribe(function(newValue) {\n        if (newValue.heroName().indexOf('npc_dota_lone_druid_bear') != -1) {\n            self.inventory.hasInventory(true);\n            self.inventory.items.removeAll();\n            self.inventory.activeItems.removeAll();\n        }\n        else {\n            self.inventory.hasInventory(false);\n            self.inventory.items.removeAll();\n            self.inventory.activeItems.removeAll();\n        }\n        self.unitId(newValue.heroName());\n    });\n    \n    \n    self.bound = ko.observable(false);\n    self.playerColorCss = ko.computed(function () {\n        return 'player-color-' + self.index();\n    });\n    self.setHeroOptionStyling = function(option, item) {\n        ko.applyBindingsToNode(option, {css: item.hero.playerColorCss() }, item);\n    }\n    self.sectionDisplay = ko.observable({\n        'inventory': ko.observable(true),\n        'ability': ko.observable(true),\n        'buff': ko.observable(true),\n        'debuff': ko.observable(true),\n        'damageamp': ko.observable(false),\n        'illusion': ko.observable(false),\n        'skillbuild': ko.observable(false),\n        'skillbuild-skills': ko.observable(true),\n        'skillbuild-items': ko.observable(true)\n    });\n    self.sectionDisplayToggle = function (section) {\n        self.sectionDisplay()[section](!self.sectionDisplay()[section]());\n    }\n    self.showUnitTab = ko.observable(false);\n    self.showDiff = ko.observable(false);\n    self.showCriticalStrikeDetails = ko.observable(false);\n    self.showDamageDetails = ko.observable(false);\n    self.showStatDetails = ko.observable(false);\n\n}\nUnitViewModel.prototype = Object.create(HeroCalc.UnitModel.prototype);\nUnitViewModel.prototype.constructor = UnitViewModel;\n\nmodule.exports = UnitViewModel;","\"use strict\";\n\nvar getParameterByName = function (name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n        results = regex.exec(location.search);\n    return results == null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nmodule.exports = getParameterByName;","'use strict';\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nvar Chart = require('chart.js');\nrequire('../lib/Chart.scatter');\n\nko.bindingHandlers.stopBinding = {\n    init: function() {\n        return { controlsDescendantBindings: true };\n    }\n};\n\nko.virtualElements.allowedBindings.stopBinding = true;\n\nko.bindingHandlers.lazyBinding = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        ko.utils.domData.set(element, 'isBound', false)\n        \n        // Also tell KO *not* to bind the descendants itself, otherwise they will be bound twice\n        return { controlsDescendantBindings: true };\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var val = ko.unwrap(valueAccessor()),\n            isBound = ko.utils.domData.get(element, 'isBound');\n        if (val && !isBound) {\n            ko.utils.domData.set(element, 'isBound', true);\n            ko.applyBindingsToDescendants(bindingContext, element);\n        }\n    }\n};\n\nko.virtualElements.allowedBindings.lazyBinding = true;\n\nko.bindingHandlers.itemBuildTable = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var buildExplorer = ko.unwrap(valueAccessor()),\n            $el = $(element);\n\n        var pressedKeys = {};\n        ko.utils.domData.set(element, 'pressedKeys', pressedKeys);\n        \n        var keyDownHandler = function(e) {\n            var pressedKeys = ko.utils.domData.get(element, 'pressedKeys');\n            pressedKeys[e.which] = true;\n            ko.utils.domData.set(element, 'pressedKeys', pressedKeys);\n        }\n        ko.utils.domData.set(element, 'keyDownHandler', keyDownHandler);\n        \n        var keyUpHandler = function(e) {\n            var pressedKeys = ko.utils.domData.get(element, 'pressedKeys');\n            if ((pressedKeys[17] && pressedKeys[67]) || (pressedKeys[17] && pressedKeys[86])) { // ctrl + c\n                var $hoveredRows = $(element).find('.hover-cursor:hover');\n                if ($hoveredRows.length == 1) {\n                    if (pressedKeys[67]) {\n                        buildExplorer.copyInventoryToClipBoard($(\"tr\", $(element)).index($hoveredRows[0]));\n                    }\n                    else {\n                        buildExplorer.pasteInventoryFromClipBoard($(\"tr\", $(element)).index($hoveredRows[0]));\n                    }\n                    $hoveredRows.fadeOut(50).fadeIn(50);\n                }\n            }\n            delete pressedKeys[e.which];\n            ko.utils.domData.set(element, 'pressedKeys', pressedKeys);\n        }\n        ko.utils.domData.set(element, 'keyUpHandler', keyUpHandler);\n        \n        $(document).bind( \"keydown\", keyDownHandler );\n        $(document).bind( \"keyup\", keyUpHandler );\n\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n            var keyDownHandler = ko.utils.domData.get(element, 'keyDownHandler');\n            var keyUpHandler = ko.utils.domData.get(element, 'keyUpHandler');\n            $(document).unbind( \"keydown\", keyDownHandler );\n            $(document).unbind( \"keyup\", keyUpHandler );\n        });\n    }\n};\n\nko.bindingHandlers.preventBubble = {\n    init: function(element, valueAccessor) {\n        var eventName = ko.utils.unwrapObservable(valueAccessor());\n        ko.utils.registerEventHandler(element, eventName, function(event) {\n           event.cancelBubble = true;\n           if (event.stopPropagation) {\n                event.stopPropagation();\n           }                \n        });\n    }        \n};\n\nko.bindingHandlers.toggle = {\n    init: function (element, valueAccessor) {\n        var value = valueAccessor();\n        ko.applyBindingsToNode(element, {\n            click: function () {\n                value(!value());\n            }\n        });\n    }\n};\n\nko.bindingHandlers.shopDockStyle = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (bindingContext.$data.shopDock() && !bindingContext.$data.shopPopout()) {\n            ko.applyBindingsToNode(element, { style: { height: (bindingContext.$data.windowHeight() - 52) + 'px', position: 'fixed', right: 0, top: '52px', 'overflow-y': 'auto' } });\n        }\n        else {\n            ko.applyBindingsToNode(element, { style: { height: 'auto', position: 'relative', right: 'initial', top: 'initial', 'overflow-y': 'initial' } });\n        }\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (bindingContext.$data.shopDock() && !bindingContext.$data.shopPopout()) {\n            ko.applyBindingsToNode(element, { style: { height: (bindingContext.$data.windowHeight() - 52) + 'px', position: 'fixed', right: 0, top: '52px', 'overflow-y': 'auto' } });\n        }\n        else {\n            ko.applyBindingsToNode(element, { style: { height: 'auto', position: 'relative', right: 'initial', top: 'initial', 'overflow-y': 'initial' } });\n        }\n    }\n};\n\nko.bindingHandlers.logger = {\n    update: function(element, valueAccessor, allBindings) {\n        //store a counter with this element\n        var count = ko.utils.domData.get(element, \"_ko_logger\") || 0,\n            data = ko.toJS(valueAccessor() || allBindings());\n\n        ko.utils.domData.set(element, \"_ko_logger\", ++count);\n\n        if (window.console && console.log) {\n            console.log(count, element, data);\n        }\n    }\n};\n\nko.bindingHandlers.tooltip = {\n    update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $element, options, tooltip;\n        options = ko.utils.unwrapObservable(valueAccessor());\n        $element = $(element);\n\n        // If the title is an observable, make it auto-updating.\n        if (ko.isObservable(options.title)) {\n            var isToolTipVisible = false;\n\n            $element.on('show.bs.tooltip', function () {\n                isToolTipVisible = true;\n            });\n            $element.on('hide.bs.tooltip', function () {\n                isToolTipVisible = false;\n            });\n\n            // \"true\" is the bootstrap default.\n            var origAnimation = options.animation || true;\n            options.title.subscribe(function () {\n                if (isToolTipVisible) {\n                    $element.data('bs.tooltip').options.animation = false; // temporarily disable animation to avoid flickering of the tooltip\n                    $element.tooltip('fixTitle') // call this method to update the title\n                        .tooltip('show');\n                    $element.data('bs.tooltip').options.animation = origAnimation;\n                }\n            });\n        }\n\n        tooltip = $element.data('bs.tooltip');\n        if (tooltip) {\n            $.extend(tooltip.options, options);\n        } else {\n            $element.tooltip(options);\n        }\n    }\n};\n\nko.bindingHandlers.popover = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $element = $(element);\n        var popoverBindingValues = ko.utils.unwrapObservable(valueAccessor());\n        var template = popoverBindingValues.template || false;\n        var options = popoverBindingValues.options || {title: 'popover'};\n        var data = popoverBindingValues.data || false;\n        if (template !== false) {\n            if (data) {\n                options.content = \"<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->\";\n            }\n            else {\n                options.content = $('#' + template).html();\n            }\n            options.html = true;\n        }\n        $element.on('shown.bs.popover', function(event) {\n\n            var popoverData = $(event.target).data();\n            var popoverEl = popoverData['bs.popover'].$tip;\n            var options = popoverData['bs.popover'].options || {};\n            var button = $(event.target);\n            var buttonPosition = button.position();\n            var buttonDimensions = {\n                x: button.outerWidth(),\n                y: button.outerHeight()\n            };\n\n            if (data) {\n                ko.applyBindingsToNode(popoverEl[0], { template: { name: template, data: data } }, bindingContext);\n                //ko.applyBindings({template: template, data: data}, popoverEl[0]);\n                //ko.renderTemplate(template, data, {}, popoverEl[0], 'replaceChildren');\n            }\n            else {\n                //ko.renderTemplate(template, data, {}, popoverEl[0], 'replaceChildren');\n                //ko.applyBindings(viewModel, popoverEl[0]);\n            }\n\n            var popoverDimensions = {\n                x: popoverEl.outerWidth(),\n                y: popoverEl.outerHeight()\n            };\n\n            popoverEl.find('button[data-dismiss=\"popover\"]').click(function() {\n                button.popover('hide');\n            });\n\n            switch (options.placement) {\n                case 'right':\n                    popoverEl.css({\n                        left: buttonDimensions.x + buttonPosition.left,\n                        top: (buttonDimensions.y / 2 + buttonPosition.top) - popoverDimensions.y / 2\n                    });\n                    break;\n                case 'left':\n                    popoverEl.css({\n                        left: buttonPosition.left - popoverDimensions.x,\n                        top: (buttonDimensions.y / 2 + buttonPosition.top) - popoverDimensions.y / 2\n                    });\n                    break;\n                case 'top':\n                    popoverEl.css({\n                        left: buttonPosition.left + (buttonDimensions.x / 2 - popoverDimensions.x / 2),\n                        top: buttonPosition.top - popoverDimensions.y\n                    });\n                    break;\n                case 'bottom':\n                    popoverEl.css({\n                        left: buttonPosition.left + (buttonDimensions.x / 2 - popoverDimensions.x / 2),\n                        top: buttonPosition.top + buttonDimensions.y\n                    });\n                    break;\n            }\n        });\n\n        $element.popover(options);\n\n        return { controlsDescendantBindings: true };\n\n    }\n};\n\nko.bindingHandlers.chart = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var newCanvas = $('<canvas/>'),\n      data = ko.utils.unwrapObservable(valueAccessor()),\n      ctx = newCanvas[0].getContext(\"2d\"),\n      chartType = allBindingsAccessor().chartType,\n      options = allBindingsAccessor().chartOptions || {},\n      chartContext = allBindingsAccessor().chartContext;\n            \n        $(element).append(newCanvas);\n        var myChart = new Chart(ctx)[chartType](data, options);\n        ko.utils.domData.set(element, 'myChart', myChart);\n        \n  //handle disposal (if KO removes by the template binding)\n  ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n    var myChart = ko.utils.domData.get(element, 'myChart');\n    myChart.clear();\n    myChart.destroy();\n  });\n        \n  if (chartContext) {\n    chartContext(ctx);\n  }\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var newCanvas = $('<canvas/>').width(730).height(365),\n      data = ko.utils.unwrapObservable(valueAccessor()),\n      ctx = newCanvas[0].getContext(\"2d\"),\n      chartType = allBindingsAccessor().chartType,\n      options = allBindingsAccessor().chartOptions || {},\n      chartContext = allBindingsAccessor().chartContext,\n      myChart = ko.utils.domData.get(element, 'myChart');\n        \n  if (myChart) {\n    myChart.clear();\n    myChart.destroy();\n  }\n        bindingContext.$root.displayShop();\n        bindingContext.$root.sideView();\n        bindingContext.$root.shopDock();\n        $(element).empty();\n        $(element).append(newCanvas);\n  if (data.datasets.length > 0) {\n            myChart = new Chart(ctx)[chartType](data, options);\n            ko.utils.domData.set(element, 'myChart', myChart);\n  }\n  \n  if (chartContext) {\n    chartContext(ctx);\n  }\n    }\n};\n\nko.bindingHandlers.spinner = {\n    init: function(element, valueAccessor, allBindingsAccessor) {\n        //initialize datepicker with some optional options\n        var options = allBindingsAccessor().spinnerOptions || {};\n        options.icons = options.icons || { down: \"glyphicon glyphicon-triangle-bottom\", up: \"glyphicon glyphicon-triangle-top\" };\n        $(element).spinner(options);\n\n        //handle the field changing\n        ko.utils.registerEventHandler(element, \"spinchange\", function () {\n            var observable = valueAccessor();\n            observable($(element).spinner(\"value\"));\n        });\n\n        //handle disposal (if KO removes by the template binding)\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n            $(element).spinner(\"destroy\");\n        });\n\n    },\n    update: function(element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor()),\n            current = $(element).spinner(\"value\");\n\n        if (value !== current) {\n            $(element).spinner(\"value\", value);\n        }\n    }\n};\n\nko.bindingHandlers.secondTab = {\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { css: {'second-tab': $root.isSecondTab(value) && $root.sideView()} });\n    }\n};\n\nko.bindingHandlers.hoverTab = {\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n            \n        ko.utils.registerEventHandler(element, \"mouseover\", function() {\n            $root.highlightTab(value);\n        });  \n\n        ko.utils.registerEventHandler(element, \"mouseout\", function() {\n            $root.unhighlightTab(value);\n        });      \n    }\n};\n\nko.bindingHandlers.hoverPaneStyle = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { style: { opacity: !($root.sideView()) || $root.highlightedTab() == value || $root.highlightedTab() == '' ? 1 : .5 } });\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { style: { opacity: !($root.sideView()) || $root.highlightedTab() == value || $root.highlightedTab() == '' ? 1 : .5 } });\n    }\n};\n\nko.bindingHandlers.diffStyle = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    }\n};\n\nko.bindingHandlers.diffCss = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor()),\n            stat = allBindingsAccessor().diffCssStat;\n        if (stat == 'attackTime' || stat == 'bat') {\n            value = -value;\n        }\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor()),\n            stat = allBindingsAccessor().diffCssStat;\n        if (stat == 'attackTime' || stat == 'bat') {\n            value = -value;\n        }\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    }\n};\n\nko.bindingHandlers.jqAuto = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var options = valueAccessor() || {},\n            allBindings = allBindingsAccessor(),\n            unwrap = ko.utils.unwrapObservable,\n            modelValue = allBindings.jqAutoValue,\n            source = allBindings.jqAutoSource,\n            valueProp = allBindings.jqAutoSourceValue,\n            inputValueProp = allBindings.jqAutoSourceInputValue || valueProp,\n            labelProp = allBindings.jqAutoSourceLabel || valueProp;\n\n        //function that is shared by both select and change event handlers\n        function writeValueToModel(valueToWrite) {\n            if (ko.isWriteableObservable(modelValue)) {\n               modelValue(valueToWrite );  \n            } else {  //write to non-observable\n               if (allBindings['_ko_property_writers'] && allBindings['_ko_property_writers']['jqAutoValue'])\n                        allBindings['_ko_property_writers']['jqAutoValue'](valueToWrite );    \n            }\n        }\n        \n        //on a selection write the proper value to the model\n        options.select = function(event, ui) {\n            writeValueToModel(ui.item ? ui.item.actualValue : null);\n        };\n            \n        //on a change, make sure that it is a valid value or clear out the model value\n        options.change = function(event, ui) {\n            var currentValue = $(element).val();\n            var matchingItem =  ko.utils.arrayFirst(unwrap(source), function(item) {\n               return unwrap(item[inputValueProp]) === currentValue;  \n            });\n            \n            if (!matchingItem) {\n               writeValueToModel(null);\n            }    \n        }\n        \n        \n        //handle the choices being updated in a DO, to decouple value updates from source (options) updates\n        var mappedSource = ko.dependentObservable(function() {\n            var mapped = ko.utils.arrayMap(unwrap(source), function(item) {\n                var result = {};\n                result.label = labelProp ? unwrap(item[labelProp]) : unwrap(item).toString();  //show in pop-up choices\n                result.value = inputValueProp ? unwrap(item[inputValueProp]) : unwrap(item).toString();  //show in input box\n                result.actualValue = valueProp ? unwrap(item[valueProp]) : item;  //store in model\n                return result;\n            });\n            return mapped;                \n        });\n        \n        //whenever the items that make up the source are updated, make sure that autocomplete knows it\n        mappedSource.subscribe(function(newValue) {\n           $(element).autocomplete(\"option\", \"source\", newValue); \n        });\n        \n        options.source = mappedSource();\n        \n        options.minLength = 1;\n        //initialize autocomplete\n        $(element).autocomplete(options);\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n       //update value based on a model change\n       var allBindings = allBindingsAccessor(),\n           unwrap = ko.utils.unwrapObservable,\n           modelValue = unwrap(allBindings.jqAutoValue) || '', \n           valueProp = allBindings.jqAutoSourceValue,\n           inputValueProp = allBindings.jqAutoSourceInputValue || valueProp;\n        \n       //if we are writing a different property to the input than we are writing to the model, then locate the object\n       if (valueProp && inputValueProp !== valueProp) {\n           var source = unwrap(allBindings.jqAutoSource) || [];\n           var modelValue = ko.utils.arrayFirst(source, function(item) {\n                 return unwrap(item[valueProp]) === modelValue;\n           }) || {};  //probably don't need the || {}, but just protect against a bad value          \n       } \n\n       //update the element with the value that should be shown in the input\n       $(element).val(modelValue && inputValueProp !== valueProp ? unwrap(modelValue[inputValueProp]) : modelValue.toString());    \n    }\n};\n\nko.bindingHandlers.jqAutoCombo = {\n    init: function(element, valueAccessor) {\n       var autoEl = $(\"#\" + valueAccessor());\n       \n        $(element).click(function() {\n           // close if already visible\n            if (autoEl.autocomplete(\"widget\").is(\":visible\")) {\n                autoEl.autocomplete( \"close\" );\n                return;\n            }\n\n           //autoEl.blur();\n            autoEl.autocomplete(\"search\", \" \");\n            autoEl.focus(); \n            \n        });\n        \n    }  \n}\n\nmodule.exports = ko;","'use strict';\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nrequire('./ko.extenders.async');\n\nvar ability_vars = {\n    '$health': 'Health',\n    '$mana': 'Mana',\n    '$armor': 'Armor',\n    '$damage': 'Damage',\n    '$str': 'Strength',\n    '$int': 'Intelligence',\n    '$agi': 'Agility',\n    '$all': 'All Attributes',\n    '$attack': 'Attack Speed',\n    '$hp_regen': 'HP Regeneration',\n    '$mana_regen': 'Mana Regeneration',\n    '$move_speed': 'Movement Speed',\n    '$evasion': 'Evasion',\n    '$spell_resist': 'Spell Resistance',\n    '$selected_attribute': 'Selected Attribute',\n    '$selected_attrib': 'Selected Attribute',\n    '$cast_range': 'Cast Range',\n    '$attack_range': 'Attack Range'\n}\nvar abilityTooltipData = {};\nvar abilityDamageTypes = {\n    'DAMAGE_TYPE_MAGICAL': 'Magical',\n    'DAMAGE_TYPE_PURE': 'Pure',\n    'DAMAGE_TYPE_PHYSICAL': 'Physical',\n    'DAMAGE_TYPE_COMPOSITE': 'Composite',\n    'DAMAGE_TYPE_HP_REMOVAL': 'HP Removal'\n}\nvar tooltipJSON = ko.observable();\n\nvar getTooltipAbilityDescription = function (item) {\n    var d = tooltipJSON() ? tooltipJSON()[item.name].description : '';\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].name != null) {\n            var attributeName = item.attributes[i].name;\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            regexp = new RegExp('%' + attributeName + '%', 'gi');\n            d = d.replace(regexp, attributeValue);\n        }\n    }\n    var regexp = new RegExp('%%', 'gi');\n    d = d.replace(regexp, '%');\n    regexp = new RegExp('\\n', 'gi');\n    d = d.replace(/\\\\n/g, '<br>');\n    return d;\n}\n\nvar getTooltipAbilityAttributes = function (item) {\n    var a = '';\n    if (item.damage.length > 0 && item.damage.reduce(function(memo, num){ return memo + num; }, 0) > 0) {\n        var attributeTooltip = 'DAMAGE: ';\n        var attributeValue = item.damage[0];\n        for (var j = 1; j < item.damage.length; j++) {\n            attributeValue += ' / ' + item.damage[j];\n        }\n        a = a + attributeTooltip + ' ' + attributeValue + '<br>';\n    }\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].tooltip != null) {\n            var attributeTooltip = item.attributes[i].tooltip;\n            attributeTooltip = attributeTooltip.replace(/\\\\n/g, '');\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            var p = attributeTooltip.indexOf('%');\n            if (p == 0) {\n                if (attributeValue.toString().indexOf('/') == -1) {\n                    attributeValue = attributeValue.toString().trim() + '%';\n                } else {\n                    //var regexp2 = new RegExp('/', 'gi');\n                    //attributeValue = attributeValue.replace(regexp2, '%/') + '%';\n                    var attributeValues = attributeValue.split('/');\n                    var trimmedAttributeValues = attributeValues.map(function(v) {\n                        return v.trim();\n                    });\n                    attributeValue = trimmedAttributeValues.join('% / ') + '%';\n                }\n                attributeTooltip = attributeTooltip.slice(1);\n            }\n            var d = attributeTooltip.indexOf('$');\n            a = a + attributeTooltip + ' ' + attributeValue + '<br>';\n        }\n    }\n    return a.trim('<br>');\n}\n\nvar getTooltipAbilityManaCost = function (item) {\n    var c = '';\n    if (item.manacost.reduce(function(memo, num){ return memo + num; }, 0) == 0) {\n        return c;\n    }\n    if (item.manacost.every(function(num) { return num == item.manacost[0]; })) {\n        return item.manacost[0].toString();\n    }\n    for (var i = 0; i < 4; i++) {\n        if (item.manacost[i] != null) {\n            c = c + ' ' + item.manacost[i];\n        }\n    }\n    return c;\n}\n\nvar getTooltipAbilityCooldown = function (item) {\n    var c = '';\n    if (item.cooldown.reduce(function(memo, num){ return memo + num; }, 0) == 0) {\n        return c;\n    }\n    if (item.cooldown.every(function(num) { return num == item.cooldown[0]; })) {\n        return item.cooldown[0].toString();\n    }\n    for (var i = 0; i < 4; i++) {\n        if (item.cooldown[i] != null) {\n            c = c + ' ' + item.cooldown[i];\n        }\n    }\n    return c;\n}\n    \nvar getAbilityTooltipData = function(heroData, unitData, hero, el) {\n    if (abilityTooltipData[el] == undefined) {\n        var abilityName = el\n        var ability = {};\n        if (heroData['npc_dota_hero_' + hero] == undefined && heroData[hero] == undefined) {\n            for (var i = 0; i < unitData[hero].abilities.length; i++) {\n                if (unitData[hero].abilities[i].name == el) {\n                    ability = unitData[hero].abilities[i];\n                }\n            }            \n        }\n        else {\n            if (hero.indexOf('npc_dota_hero_') == -1) hero = 'npc_dota_hero_' + hero;\n            for (var i = 0; i < heroData[hero].abilities.length; i++) {\n                if (heroData[hero].abilities[i].name == el) {\n                    ability = heroData[hero].abilities[i];\n                }\n            }\n        }\n        var data = $('<div>')\n        data.append($('<span>').html(ability.displayname).addClass('item_field pull-left item_name'));\n        if (ability.abilityunitdamagetype) {\n            data.append($('<span>').html(abilityDamageTypes[ability.abilityunitdamagetype]).addClass('item_field pull-right item_ability_damage_type').css('margin-right','10px'));\n        }\n        data.append($('<hr>').css('clear', 'both'));\n        if (tooltipJSON() && tooltipJSON()[ability.name] && tooltipJSON()[ability.name].description) {\n            data.append($('<div>').html(getTooltipAbilityDescription(ability)).addClass('item_field item_description'));\n        }\n        var attributedata = getTooltipAbilityAttributes(ability);\n        if (attributedata != '') {\n            data.append($('<div>').html(attributedata).addClass('item_field item_attributes'));\n        }\n        var cd = getTooltipAbilityCooldown(ability);\n        var mana = getTooltipAbilityManaCost(ability);\n        if (cd != '' || mana != '') {\n            var cdmanacost = $('<div>').addClass('item_cdmana');\n            if (mana != '') {\n                cdmanacost.append($('<span>').html(mana.trim()).addClass('item_field item_manacost'));\n            }\n            if (cd != '') {\n                cdmanacost.append($('<span>').html(cd.trim()).addClass('item_field item_cooldown'));\n            }\n            data.append(cdmanacost);\n        }\n        if (tooltipJSON() && tooltipJSON()[ability.name] && tooltipJSON()[ability.name].description) {\n            data.append($('<div>').html(tooltipJSON()[ability.name].lore).addClass('item_field item_lore'));\n        }\n        if (!tooltipJSON()) {\n            return ko.computed(function () {\n                if (!tooltipJSON()) {\n                    return data.html();\n                }\n                else {\n                    return getAbilityTooltipData(heroData, unitData, hero, el);\n                }\n            });\n        }\n        else {\n            abilityTooltipData[el] = data.html();\n            return data.html();\n        }\n    }\n    else {\n        return abilityTooltipData[el];\n    }\n}\n\ngetAbilityTooltipData.tooltipJSON = tooltipJSON;\n\nvar init = function (url) {\n    $.getJSON(url, function (data) {\n        tooltipJSON(data);\n    });\n}\ngetAbilityTooltipData.init = init;\n\nmodule.exports = getAbilityTooltipData;","'use strict';\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nvar itemtooltipdata = {};\nvar ability_vars = {\n    '$health': 'Health',\n    '$mana': 'Mana',\n    '$armor': 'Armor',\n    '$damage': 'Damage',\n    '$str': 'Strength',\n    '$int': 'Intelligence',\n    '$agi': 'Agility',\n    '$all': 'All Attributes',\n    '$attack': 'Attack Speed',\n    '$hp_regen': 'HP Regeneration',\n    '$mana_regen': 'Mana Regeneration',\n    '$move_speed': 'Movement Speed',\n    '$evasion': 'Evasion',\n    '$spell_resist': 'Spell Resistance',\n    '$selected_attribute': 'Selected Attribute',\n    '$selected_attrib': 'Selected Attribute',\n    '$cast_range': 'Cast Range',\n    '$attack_range': 'Attack Range'\n}\n\nvar getTooltipItemDescription = function (item) {\n    var d = item.description;\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].name != null) {\n            var attributeName = item.attributes[i].name;\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            var regexp = new RegExp('%' + attributeName + '%', 'gi');\n            d = d.replace(regexp, attributeValue );\n        }\n    }\n    var regexp = new RegExp('%%', 'gi');\n    d = d.replace(regexp,'%');\n    regexp = new RegExp('\\n', 'gi');\n    d = d.replace(/\\\\n/g, '<br>');\n    return d;\n}\n\nvar getTooltipItemAttributes = function (item) {\n    var a = '';\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].tooltip != null) {\n            var attributeTooltip = item.attributes[i].tooltip;\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            var p = attributeTooltip.indexOf('%');\n            if (p == 0) {\n                attributeValue = attributeValue + '%';\n                attributeTooltip = attributeTooltip.slice(1);\n            }\n            var d = attributeTooltip.indexOf('$');\n            if (d != -1) {\n                a = a + attributeTooltip.slice(0, d) + ' ' + attributeValue + ' ' + ability_vars[attributeTooltip.slice(d)] + '<br>';\n            }\n            else {\n                a = a + attributeTooltip + ' ' + attributeValue + '<br>';\n            }\n        }\n    }\n    return a.trim('<br>');\n}\n\nvar getTooltipItemCooldown = function (item) {\n    var c = '';\n    for (var i = 0; i < item.cooldown.length; i++) {\n        c = c + ' ' + item.cooldown[i];\n    }\n    return c;\n}\n\nvar getTooltipItemManaCost = function (item) {\n    var c = '';\n    for (var i = 0; i < item.manacost.length; i++) {\n        if (item.manacost[i] > 0) {\n            c = c + ' ' + item.manacost[i];\n        }\n    }\n    return c;\n}\n\nvar getItemTooltipData = function(itemData, el) {\n    if (itemData['item_' + el] == undefined) {\n        return undefined;\n    }\n    if (itemtooltipdata[el] == undefined) {\n        var item = itemData['item_' + el];\n        var data = $('<div>');\n        data.append($('<span>').html(item.displayname).addClass('item_field item_name'));\n        data.append($('<span>').html(item.itemcost).addClass('item_field item_cost'));\n        data.append($('<hr>'));\n        if (item.description != null) {\n            data.append($('<div>').html(getTooltipItemDescription(item)).addClass('item_field item_description'));\n        }\n        var attributedata = getTooltipItemAttributes(item);\n        if (attributedata != '') {\n            data.append($('<div>').html(attributedata).addClass('item_field item_attributes'));\n        }\n        var cd = getTooltipItemCooldown(item);\n        var mana = getTooltipItemManaCost(item);\n        if (cd != '' || mana != '') {\n            var cdmanacost = $('<div>').addClass('item_cdmana');\n            if (cd != '') {\n                cdmanacost.append($('<span>').html(cd).addClass('item_field item_cooldown'));\n            }\n            if (mana != '') {\n                cdmanacost.append($('<span>').html(mana).addClass('item_field item_manacost'));\n            }\n            data.append(cdmanacost);\n        }\n        if (item.lore != null) {\n            data.append($('<div>').html(item.lore).addClass('item_field item_lore'));\n        }\n        itemtooltipdata[el] = data.html();\n        return data.html();\n    }\n    else {\n        return itemtooltipdata[el];\n    }\n}\n\nmodule.exports = getItemTooltipData;","'use strict';\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n//require('jquery-ui');\nrequire('jquery-ui/ui/version');\nrequire('jquery-ui/ui/widget');\nrequire('jquery-ui/ui/unique-id');\nrequire('jquery-ui/ui/safe-active-element');\nrequire('jquery-ui/ui/keycode');\nrequire('jquery-ui/ui/position');\nrequire('jquery-ui/ui/focusable');\nrequire('jquery-ui/ui/tabbable');\nrequire('jquery-ui/ui/plugin');\nrequire('jquery-ui/ui/ie');\nrequire('jquery-ui/ui/data');\nrequire('jquery-ui/ui/scroll-parent');\nrequire('jquery-ui/ui/disable-selection');\nrequire('jquery-ui/ui/safe-blur');\nrequire('jquery-ui/ui/widgets/button');\nrequire('jquery-ui/ui/widgets/spinner');\nrequire('jquery-ui/ui/widgets/menu');\nrequire('jquery-ui/ui/widgets/autocomplete');\nrequire('jquery-ui/ui/widgets/mouse');\nrequire('jquery-ui/ui/widgets/draggable');\nrequire('jquery-ui/ui/widgets/resizable');\nrequire('jquery-ui/ui/widgets/dialog');\n\nvar proto = $.ui.autocomplete.prototype,\n    initSource = proto._initSource;\n\nfunction filter( array, term ) {\n    var matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), \"i\" );\n    return $.grep( array, function(value) {\n        return matcher.test( $( \"<div>\" ).html( value.label || value.value || value ).text() );\n    });\n}\n\n$.extend( proto, {\n    _initSource: function() {\n        if ( this.options.html && $.isArray(this.options.source) ) {\n            this.source = function( request, response ) {\n                response( filter( this.options.source, request.term ) );\n            };\n        } else {\n            initSource.call( this );\n        }\n    },\n\n    _renderItem: function( ul, item) {\n        return $( \"<li></li>\" )\n            .data( \"item.autocomplete\", item )\n            .append( $( \"<a></a>\" )[ this.options.html ? \"html\" : \"text\" ]( item.label ) )\n            .appendTo( ul );\n    }\n});","ko.extenders.async = function(computedDeferred, initialValue) {\n \n    var plainObservable = ko.observable(initialValue), currentDeferred;\n    plainObservable.inProgress = ko.observable(false);\n \n    ko.computed(function() {\n        if (currentDeferred) {\n            currentDeferred.reject();\n            currentDeferred = null;\n        }\n \n        var newDeferred = computedDeferred();\n        if (newDeferred &&\n            (typeof newDeferred.done == \"function\")) {\n \n            // It's a deferred\n            plainObservable.inProgress(true);\n \n            // Create our own wrapper so we can reject\n            currentDeferred = $.Deferred().done(function(data) {\n                plainObservable.inProgress(false);\n                plainObservable(data);\n            });\n            newDeferred.done(currentDeferred.resolve);\n        } else {\n            // A real value, so just publish it immediately\n            plainObservable(newDeferred);\n        }\n    });\n \n    return plainObservable;\n};","if (!Array.prototype.find) {\n  Array.prototype.find = function(predicate) {\n    'use strict';\n    if (this == null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n    return undefined;\n  };\n}","function ViewModel(params) {\n    var self = this;\n    self.windowWidth = params.windowWidth;\n    self.windowHeight = params.windowHeight;\n    self.displayShop = params.displayShop;\n    self.displayShopItemTooltip = params.displayShopItemTooltip;\n    self.shopDock = params.shopDock;\n    self.shopDockTrigger = params.shopDockTrigger;\n    self.shopPopout = params.shopPopout;\n    self.selectedItem = params.selectedItem;\n    self.addItem = params.addItem;\n    self.changeSelectedItem = params.changeSelectedItem;\n    self.getItemTooltipData = params.getItemTooltipData;\n    self.getItemInputLabel = params.getItemInputLabel;\n    self.itemInputValue = params.itemInputValue;\n    self.itemOptions = params.itemOptions;\n}\n\nmodule.exports = {\n    viewModel: ViewModel,\n    template: \"        <div id=\\\"shop-container\\\" class=\\\"col-md-12 col-lg-4\\\" data-bind=\\\"shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {'col-lg-4': !shopPopout()}, style: { 'padding-top': shopPopout() ? '5px' : '0px'}\\\">\\n              <button id=\\\"shop-minimize\\\" class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right\\\" data-bind=\\\"toggle: displayShop, visible: displayShop()\\\" title=\\\"Minimize shop\\\"></button>\\n              <button id=\\\"shop-maximize\\\" class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right\\\" data-bind=\\\"toggle: displayShop, visible: !displayShop()\\\" title=\\\"Maximize shop\\\"></button>\\n              <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs\\\" data-bind=\\\"click: shopPopout, visible: !shopPopout()\\\" title=\\\"Popout shop\\\"></button>\\n              <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs\\\" data-bind=\\\"toggle: shopDock, attr: { title: shopDock() ? 'Undock shop to right side of screen' : 'Dock shop to right side of screen' }\\\" ></button>\\n            <ul id=\\\"shoptabs\\\" class=\\\"nav nav-tabs\\\" data-bind=\\\"visible: displayShop()\\\">\\n              <li><a href=\\\"#shop_basic\\\" data-toggle=\\\"tab\\\">Basic</a></li>\\n              <li><a href=\\\"#shop_upgrade\\\" data-toggle=\\\"tab\\\">Upgrade</a></li>\\n              <li><a href=\\\"#shop_secret\\\" data-toggle=\\\"tab\\\">Secret</a></li>\\n            </ul>\\n            <div class=\\\"tab-content text-center bottom-buffer2\\\" data-bind=\\\"visible: displayShop()\\\">\\n                <div class=\\\"tab-pane active\\\" id=\\\"shop_basic\\\">\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-consumables\\\" id=\\\"consumables\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-clarity\\\" id=\\\"clarity\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-faerie_fire\\\" id=\\\"faerie_fire\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-enchanted_mango\\\" id=\\\"enchanted_mango\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-tango\\\" id=\\\"tango\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-flask\\\" id=\\\"flask\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-smoke_of_deceit\\\" id=\\\"smoke_of_deceit\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-tpscroll\\\" id=\\\"tpscroll\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-dust\\\" id=\\\"dust\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-courier\\\" id=\\\"courier\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-flying_courier\\\" id=\\\"flying_courier\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ward_observer\\\" id=\\\"ward_observer\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ward_sentry\\\" id=\\\"ward_sentry\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-tome_of_knowledge\\\" id=\\\"tome_of_knowledge\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-bottle\\\" id=\\\"bottle\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-attributes\\\" id=\\\"attributes\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-branches\\\" id=\\\"branches\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-gauntlets\\\" id=\\\"gauntlets\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-slippers\\\" id=\\\"slippers\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-mantle\\\" id=\\\"mantle\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-circlet\\\" id=\\\"circlet\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-belt_of_strength\\\" id=\\\"belt_of_strength\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-boots_of_elves\\\" id=\\\"boots_of_elves\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-robe\\\" id=\\\"robe\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ogre_axe\\\" id=\\\"ogre_axe\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-blade_of_alacrity\\\" id=\\\"blade_of_alacrity\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-staff_of_wizardry\\\" id=\\\"staff_of_wizardry\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-armaments\\\" id=\\\"armaments\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ring_of_protection\\\" id=\\\"ring_of_protection\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-stout_shield\\\" id=\\\"stout_shield\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-quelling_blade\\\" id=\\\"quelling_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-infused_raindrop\\\" id=\\\"infused_raindrop\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-blight_stone\\\" id=\\\"blight_stone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-orb_of_venom\\\" id=\\\"orb_of_venom\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-blades_of_attack\\\" id=\\\"blades_of_attack\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-chainmail\\\" id=\\\"chainmail\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-quarterstaff\\\" id=\\\"quarterstaff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-helm_of_iron_will\\\" id=\\\"helm_of_iron_will\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-broadsword\\\" id=\\\"broadsword\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-claymore\\\" id=\\\"claymore\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-javelin\\\" id=\\\"javelin\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-mithril_hammer\\\" id=\\\"mithril_hammer\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-arcane\\\" id=\\\"arcane\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-wind_lace\\\" id=\\\"wind_lace\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-magic_stick\\\" id=\\\"magic_stick\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-sobi_mask\\\" id=\\\"sobi_mask\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ring_of_regen\\\" id=\\\"ring_of_regen\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-boots\\\" id=\\\"boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-gloves\\\" id=\\\"gloves\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-cloak\\\" id=\\\"cloak\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ring_of_health\\\" id=\\\"ring_of_health\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-void_stone\\\" id=\\\"void_stone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-gem\\\" id=\\\"gem\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-lifesteal\\\" id=\\\"lifesteal\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-shadow_amulet\\\" id=\\\"shadow_amulet\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ghost\\\" id=\\\"ghost\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-blink\\\" id=\\\"blink\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n\\n\\n                </div>\\n                <div class=\\\"tab-pane\\\" id=\\\"shop_upgrade\\\">\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-common\\\" id=\\\"common\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-magic_wand\\\" id=\\\"magic_wand\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-null_talisman\\\" id=\\\"null_talisman\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-wraith_band\\\" id=\\\"wraith_band\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-poor_mans_shield\\\" id=\\\"poor_mans_shield\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-bracer\\\" id=\\\"bracer\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-soul_ring\\\" id=\\\"soul_ring\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-phase_boots\\\" id=\\\"phase_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-power_treads\\\" id=\\\"power_treads\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-oblivion_staff\\\" id=\\\"oblivion_staff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-pers\\\" id=\\\"pers\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-hand_of_midas\\\" id=\\\"hand_of_midas\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-travel_boots\\\" id=\\\"travel_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-moon_shard\\\" id=\\\"moon_shard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-support\\\" id=\\\"support\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ring_of_basilius\\\" id=\\\"ring_of_basilius\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-iron_talon\\\" id=\\\"iron_talon\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-headdress\\\" id=\\\"headdress\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-buckler\\\" id=\\\"buckler\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-urn_of_shadows\\\" id=\\\"urn_of_shadows\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-tranquil_boots\\\" id=\\\"tranquil_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ring_of_aquila\\\" id=\\\"ring_of_aquila\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-medallion_of_courage\\\" id=\\\"medallion_of_courage\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-arcane_boots\\\" id=\\\"arcane_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ancient_janggo\\\" id=\\\"ancient_janggo\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-mekansm\\\" id=\\\"mekansm\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-vladmir\\\" id=\\\"vladmir\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-pipe\\\" id=\\\"pipe\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-guardian_greaves\\\" id=\\\"guardian_greaves\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-caster\\\" id=\\\"caster\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-glimmer_cape\\\" id=\\\"glimmer_cape\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-force_staff\\\" id=\\\"force_staff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-veil_of_discord\\\" id=\\\"veil_of_discord\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-aether_lens\\\" id=\\\"aether_lens\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-necronomicon\\\" id=\\\"necronomicon\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-dagon\\\" id=\\\"dagon\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-cyclone\\\" id=\\\"cyclone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-solar_crest\\\" id=\\\"solar_crest\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-rod_of_atos\\\" id=\\\"rod_of_atos\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-orchid\\\" id=\\\"orchid\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ultimate_scepter\\\" id=\\\"ultimate_scepter\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-refresher\\\" id=\\\"refresher\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-sheepstick\\\" id=\\\"sheepstick\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-octarine_core\\\" id=\\\"octarine_core\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-weapons\\\" id=\\\"weapons\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-lesser_crit\\\" id=\\\"lesser_crit\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-armlet\\\" id=\\\"armlet\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-invis_sword\\\" id=\\\"invis_sword\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-basher\\\" id=\\\"basher\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-bfury\\\" id=\\\"bfury\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ethereal_blade\\\" id=\\\"ethereal_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-silver_edge\\\" id=\\\"silver_edge\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-radiance\\\" id=\\\"radiance\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-monkey_king_bar\\\" id=\\\"monkey_king_bar\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-greater_crit\\\" id=\\\"greater_crit\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-butterfly\\\" id=\\\"butterfly\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-rapier\\\" id=\\\"rapier\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-abyssal_blade\\\" id=\\\"abyssal_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-bloodthorn\\\" id=\\\"bloodthorn\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-armor\\\" id=\\\"armor\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-hood_of_defiance\\\" id=\\\"hood_of_defiance\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-vanguard\\\" id=\\\"vanguard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-blade_mail\\\" id=\\\"blade_mail\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-soul_booster\\\" id=\\\"soul_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-crimson_guard\\\" id=\\\"crimson_guard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-black_king_bar\\\" id=\\\"black_king_bar\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-lotus_orb\\\" id=\\\"lotus_orb\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-shivas_guard\\\" id=\\\"shivas_guard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-bloodstone\\\" id=\\\"bloodstone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-manta\\\" id=\\\"manta\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-sphere\\\" id=\\\"sphere\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-hurricane_pike\\\" id=\\\"hurricane_pike\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-assault\\\" id=\\\"assault\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-heart\\\" id=\\\"heart\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-artifacts\\\" id=\\\"artifacts\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-mask_of_madness\\\" id=\\\"mask_of_madness\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-helm_of_the_dominator\\\" id=\\\"helm_of_the_dominator\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-dragon_lance\\\" id=\\\"dragon_lance\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-sange\\\" id=\\\"sange\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-yasha\\\" id=\\\"yasha\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-echo_sabre\\\" id=\\\"echo_sabre\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-maelstrom\\\" id=\\\"maelstrom\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-diffusal_blade\\\" id=\\\"diffusal_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-desolator\\\" id=\\\"desolator\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-heavens_halberd\\\" id=\\\"heavens_halberd\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-sange_and_yasha\\\" id=\\\"sange_and_yasha\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-skadi\\\" id=\\\"skadi\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-mjollnir\\\" id=\\\"mjollnir\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-satanic\\\" id=\\\"satanic\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n                </div>\\n                <div class=\\\"tab-pane\\\" id=\\\"shop_secret\\\">\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-secret\\\" id=\\\"secret\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-energy_booster\\\" id=\\\"energy_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-vitality_booster\\\" id=\\\"vitality_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-point_booster\\\" id=\\\"point_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-platemail\\\" id=\\\"platemail\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-talisman_of_evasion\\\" id=\\\"talisman_of_evasion\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-hyperstone\\\" id=\\\"hyperstone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-ultimate_orb\\\" id=\\\"ultimate_orb\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-demon_edge\\\" id=\\\"demon_edge\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-mystic_staff\\\" id=\\\"mystic_staff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-eagle\\\" id=\\\"eagle\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-reaver\\\" id=\\\"reaver\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n  <div class=\\\"img-rounded items-sprite-50x36 items-sprite-relic\\\" id=\\\"relic\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: addItem }\\\"></div>\\n</div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" data-bind=\\\"visible: displayShop()\\\">\\n                <div class=\\\"input-group\\\">\\n                    <input class=\\\"form-control\\\" id=\\\"auto\\\" data-bind=\\\"jqAuto: { autoFocus: true, html: true }, jqAutoSource: itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: 'displayname', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'value'\\\" />\\n                    <span class=\\\"input-group-btn\\\">\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"jqAutoCombo: 'auto'\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button>\\n                    </span>\\n                </div>\\n            </div>\\n\\n            <div data-bind=\\\"visible: selectedItem() && displayShop()\\\">\\n                <button class=\\\"btn btn-default btn-xs glyphicon glyphicon-minus pull-right\\\" data-bind=\\\"toggle: displayShopItemTooltip, visible: displayShopItemTooltip()\\\" title=\\\"Hide item description\\\"></button>\\n                <button class=\\\"btn btn-default btn-xs glyphicon glyphicon-plus pull-right\\\" data-bind=\\\"toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()\\\" title=\\\"Show item description\\\"></button>\\n                <div data-bind=\\\"html: getItemTooltipData, css: { 'hide-shop-item-details': !displayShopItemTooltip() }\\\"></div>\\n                <div style=\\\"margin-top:10px;margin-bottom:10px;\\\" class=\\\"form-inline\\\" data-bind=\\\"visible: getItemInputLabel() != ''\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"iteminput\\\" data-bind=\\\"text: getItemInputLabel\\\"></label>\\n                        <input class=\\\"form-control\\\" id=\\\"iteminput\\\" data-bind=\\\"value: itemInputValue\\\" />\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group text-right\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: addItem\\\">Add Item</button>\\n                </div>\\n            </div>\\n        </div>\"\n};","var Chart = require('chart.js');\nChart.types.Line.extend({\n    // Passing in a name registers this chart in the Chart namespace in the same way\n    name: \"Scatter\",\n    draw : function(ease){\n            var easingDecimal = ease || 1;\n            this.clear();\n\n            var ctx = this.chart.ctx;\n\n            // Some helper methods for getting the next/prev points\n            var hasValue = function(item){\n                return item.value !== null;\n            },\n            nextPoint = function(point, collection, index){\n                return Chart.helpers.findNextWhere(collection, hasValue, index) || point;\n            },\n            previousPoint = function(point, collection, index){\n                return Chart.helpers.findPreviousWhere(collection, hasValue, index) || point;\n            };\n\n            this.scale.draw(easingDecimal);\n\n\n            Chart.helpers.each(this.datasets,function(dataset){\n                var pointsWithValues = Chart.helpers.where(dataset.points, hasValue);\n\n                //Transition each point first so that the line and point drawing isn't out of sync\n                //We can use this extra loop to calculate the control points of this dataset also in this loop\n\n                Chart.helpers.each(dataset.points, function(point, index){\n                    if (point.hasValue()){\n                        point.transition({\n                            y : this.scale.calculateY(point.value),\n                            x : this.scale.calculateX(index)\n                        }, easingDecimal);\n                    }\n                },this);\n\n\n                // Control points need to be calculated in a seperate loop, because we need to know the current x/y of the point\n                // This would cause issues when there is no animation, because the y of the next point would be 0, so beziers would be skewed\n                if (this.options.bezierCurve){\n                    Chart.helpers.each(pointsWithValues, function(point, index){\n                        var tension = (index > 0 && index < pointsWithValues.length - 1) ? this.options.bezierCurveTension : 0;\n                        point.controlPoints = Chart.helpers.splineCurve(\n                            previousPoint(point, pointsWithValues, index),\n                            point,\n                            nextPoint(point, pointsWithValues, index),\n                            tension\n                        );\n\n                        // Prevent the bezier going outside of the bounds of the graph\n\n                        // Cap puter bezier handles to the upper/lower scale bounds\n                        if (point.controlPoints.outer.y > this.scale.endPoint){\n                            point.controlPoints.outer.y = this.scale.endPoint;\n                        }\n                        else if (point.controlPoints.outer.y < this.scale.startPoint){\n                            point.controlPoints.outer.y = this.scale.startPoint;\n                        }\n\n                        // Cap inner bezier handles to the upper/lower scale bounds\n                        if (point.controlPoints.inner.y > this.scale.endPoint){\n                            point.controlPoints.inner.y = this.scale.endPoint;\n                        }\n                        else if (point.controlPoints.inner.y < this.scale.startPoint){\n                            point.controlPoints.inner.y = this.scale.startPoint;\n                        }\n                    },this);\n                }\n\n                if (this.options.datasetFill && pointsWithValues.length > 0){\n                    //Round off the line by going to the base of the chart, back to the start, then fill.\n                    ctx.lineTo(pointsWithValues[pointsWithValues.length - 1].x, this.scale.endPoint);\n                    ctx.lineTo(pointsWithValues[0].x, this.scale.endPoint);\n                    ctx.fillStyle = dataset.fillColor;\n                    ctx.closePath();\n                    ctx.fill();\n                }\n\n                //Now draw the points over the line\n                //A little inefficient double looping, but better than the line\n                //lagging behind the point positions\n                Chart.helpers.each(pointsWithValues,function(point){\n                    point.draw();\n                });\n            },this);\n        }\n});","require(\"./app/polyfill\");\nvar Rollbar = require(\"rollbar-browser\");\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nvar getParameterByName = require(\"./app/getParameterByName\");\nvar HeroCalc = require(\"dota-hero-calculator-library\");\nvar HeroCalculatorViewModel;\nvar viewModel;\n\nvar App = function (appConfig) {\n    \n    HeroCalc.init(HeroCalcData.heroData, HeroCalcData.itemData, HeroCalcData.unitData, function () {\n        HeroCalculatorViewModel = require('./app/HeroCalculatorViewModel');\n        viewModel = new HeroCalculatorViewModel(appConfig.abilityTooltipPath);\n        ko.options.deferUpdates = true;\n        ko.applyBindings(viewModel);\n        $('#spinner').hide();\n        $('.initial-hidden').css('display', 'inline-block');\n        $('#popHero0').addClass('active');\n        $('#heroPane0').addClass('active');\n        $('[data-toggle=\"tooltip\"]').tooltip();\n        var saveId = getParameterByName('id');\n        if (saveId) {\n            $.get('save/' + saveId + '.json', function (data) {\n                viewModel.load(data);\n            });\n        }\n    });\n\n    var lastUpdate = \"Mon Dec 12 2016 14:16:20 GMT-0500 (EST)\";\n    $('#last-update').text(lastUpdate);\n\n    var rollbarConfig = {\n        accessToken: 'de1980fcab4849d6a7a066cf098a6521',\n        captureUncaught: true,\n        payload: {\n            environment: 'production',\n            client: {\n                javascript: {\n                    source_map_enabled: true,\n                    code_version: \"59171ac880c425497bf54301ee29afe801167bc0\",\n                    // Optionally have Rollbar guess which frames the error was thrown from\n                    // when the browser does not provide line and column numbers.\n                    guess_uncaught_frames: true\n                }\n            }\n        }\n    };\n\n    var rollbar = Rollbar.init(rollbarConfig);\n\n    $('.error-warning-view, .error-warning-close').click(function () {\n        $('.error-warning').fadeOut(200);\n    });\n\n    var userActions = [];\n    function addUserAction(o) {\n        if (userActions.length > 10) {\n            userActions.shift();\n        }\n        userActions.push(o);\n    }\n\n    function actionTrackWrapper(func, eventName) {\n        return function() {\n            var el = this;\n            var data = {\n                eventName: eventName\n            };\n            if (el.id) data.id = el.id;\n            if (el.src) data.src = el.src;\n            if (el.className) data.className = el.className;\n            if (el.textContent) data.textContent = el.textContent;\n            if (el.nodeName) data.nodeName = el.nodeName;\n            if (el.getAttribute('data-bind')) data['data-bind'] = el.getAttribute('data-bind');\n            \n            for (var property in data) {\n                if (data.hasOwnProperty(property)) {\n                    data[property] = data[property].substring(0, Math.min(200, data[property].length));\n                }\n            }\n            addUserAction(data);\n            return func.apply(this, arguments);\n        }\n    }\n\n    function callbackWrap(object, property, argumentIndex, wrapperFactory, eventFilter) {\n        var original = object[property];\n        object[property] = function() {\n            if (eventFilter.indexOf(arguments[0]) != -1) {\n                arguments[argumentIndex] = wrapperFactory(arguments[argumentIndex], arguments[0]);\n            }\n            return original.apply(this, arguments);\n        }\n        return original;\n    }\n\n    callbackWrap(Element.prototype, \"addEventListener\", 1, actionTrackWrapper, ['click', 'focus', 'blur', 'change', 'dblclick'])\n\n    window.onerror = (function (old) {\n        return function () {\n            var payload = {};\n            var logEl = document.querySelector('#log');\n\n            if (logEl) {\n                try {\n                    var msg = arguments[0];\n                    var el = document.createElement('div');\n                    el.classList.add('alert');\n                    el.classList.add('alert-danger');\n                    el.classList.add('error-log');\n                    el.classList.add('col-md-12');\n                    el.textContent = 'error: ' + msg;\n                    \n                    var closeBtn = document.createElement('div');\n                    closeBtn.classList.add('error-log-close');\n                    closeBtn.innerHTML = \"&times;\";\n                    closeBtn.onclick = function () {\n                        logEl.removeChild(el);\n                    }\n                    el.appendChild(closeBtn);\n                    \n                    var reportEl = document.createElement('a');\n                    reportEl.classList.add('error-log-link');\n                    reportEl.innerHTML = \"Send error report\";\n                    reportEl.href = \"#\"\n                    reportEl.onclick = function () {\n                        $('#myModal').modal('show');\n                        $('#BugReportFormText').text('error: ' + msg + '\\n\\nDescribe what you were doing. Try to be as detailed as possible.');\n                    }\n                    el.appendChild(reportEl);\n                    \n                    logEl.appendChild(el);\n                    \n                    $('.error-warning').fadeOut(200).fadeIn(100);\n                }\n                catch (e) {\n                    rollbar.error(\"window.onerror create error log failed.\", e);\n                }\n            }\n            else {\n                payload.clientLogCreated = false;\n            }\n\n            if (HeroCalculatorViewModel && viewModel) {\n                try {\n                    payload.heroCalcState = viewModel.getSaveData();\n                }\n                catch (e) {\n                    rollbar.error(\"window.onerror getSaveData failed.\", e);\n                }\n                try {\n                    payload.appState = viewModel.getAppState();\n                }\n                catch (e) {\n                    rollbar.error(\"window.onerror getAppState failed.\", e);\n                }\n            }\n            else {\n                payload.appState = \"load failed\"\n            }\n            payload.userActions = userActions;\n            rollbar.configure({\n              payload: {custom: payload}\n            });\n            \n            return old.apply(this, arguments);\n        }\n    })(window.onerror);\n    \n};\n\nmodule.exports = App;"]}