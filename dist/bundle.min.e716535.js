(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.DotaHeroCalculator = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(){"use strict";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;var i=function(t,i){return t["offset"+i]?t["offset"+i]:document.defaultView.getComputedStyle(t).getPropertyValue(i)};this.width=i(t.canvas,"Width")||t.canvas.width,this.height=i(t.canvas,"Height")||t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= datasetLabel %>: <%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(t,i){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),a.apply(null,e)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return"chart-"+t++}}(),d=s.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},p=s.amd="function"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&t<e)return e;return t},s.getDecimalPlaces=function(t){if(t%1!==0&&f(t)){var i=t.toString();if(i.indexOf("e-")<0)return i.split(".")[1].length;if(i.indexOf(".")<0)return parseInt(i.split("e-")[1]);var e=i.split(".")[1].split("e-");return e[0].length+parseInt(e[1])}return 0}),S=s.radians=function(t){return t*(Math.PI/180)},C=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return e<0&&s<0&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),x=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),y=(s.calculateScaleRange=function(t,i,e,s,o){var a=2,h=Math.floor(i/(1.5*e)),l=a>=h,r=[];n(t,function(t){null==t||r.push(t)});var c=m(r),u=g(r);u===c&&(u+=.5,c>=.5&&!s?c-=.5:u+=.5);for(var d=Math.abs(u-c),p=x(d),f=Math.ceil(u/(1*Math.pow(10,p)))*Math.pow(10,p),v=s?0:Math.floor(c/(1*Math.pow(10,p)))*Math.pow(10,p),S=f-v,C=Math.pow(10,p),y=Math.round(S/C);(y>h||2*y<h)&&!l;)if(y>h)C*=2,y=Math.round(S/C),y%1!==0&&(l=!0);else if(o&&p>=0){if(C/2%1!==0)break;C/=2,y=Math.round(S/C)}else C/=2,y=Math.round(S/C);return l&&(y=a,C=S/y),{steps:y,stepValue:C,min:v,max:v+y*C}},s.template=function(t,i){function e(t,i){var e=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),b=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return t&&n(o,function(i,n){o[n]=y(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin((1*t-i)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=1*(.3*1.5)),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),t<1?-.5*(s*Math.pow(2,10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)):s*Math.pow(2,-10*(t-=1))*Math.sin((1*t-i)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*(t*t*(((i*=1.525)+1)*t-i)):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-b.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*b.easeInBounce(2*t):.5*b.easeOutBounce(2*t-1)+.5}}),w=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s.animationLoop=function(t,i,e,s,n,o){var a=0,h=b[e]||b.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),a<i?o.animationFrame=w(l):n.apply(o)};w(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e}),L=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent("on"+i,e):t["on"+i]=c},k=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},P(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){L(t.chart.canvas,e,i)})}),F=s.getMaximumWidth=function(t){var i=t.parentNode,e=parseInt(R(i,"padding-left"))+parseInt(R(i,"padding-right"));return i?i.clientWidth-e:0},A=s.getMaximumHeight=function(t){var i=t.parentNode,e=parseInt(R(i,"padding-bottom"))+parseInt(R(i,"padding-top"));return i?i.clientHeight-e:0},R=s.getStyle=function(t,i){return t.currentStyle?t.currentStyle[i]:document.defaultView.getComputedStyle(t,null).getPropertyValue(i)},T=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+"px",i.canvas.style.height=s+"px",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},W=s.fontString=function(t,i,e){return i+" "+t+"px "+e},z=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},B=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(t){this.stop();var i=this.chart.canvas,e=F(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:A(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,T(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){if(t&&this.reflow(),this.options.animation&&!t){var i=new e.Animation;i.numSteps=this.options.animationSteps,i.easing=this.options.animationEasing,i.render=function(t,i){var e=s.easingEffects[i.easing],n=i.currentStep/i.numSteps,o=e(n);t.draw(o,n,i.currentStep)},i.onAnimationProgress=this.options.onAnimationProgress,i.onAnimationComplete=this.options.onAnimationComplete,e.animationService.addAnimation(this,i)}else this.draw(),this.options.onAnimationComplete.call(this);return this},generateLegend:function(){return s.template(this.options.legendTemplate,this)},destroy:function(){this.stop(),this.clear(),k(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty("width"),t.style.removeProperty("height")):(t.style.removeAttribute("width"),t.style.removeAttribute("height")),delete e.instances[this.id]},showTooltip:function(t,i){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),h===-1);r--);var c=[],u=[],d=function(t){var i,e,n,o,a,l=[],r=[],d=[];return s.each(this.datasets,function(t){i=t.points||t.bars||t.segments,i[h]&&i[h].hasValue()&&l.push(i[h])}),s.each(l,function(t){r.push(t.x),d.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),a=m(d),n=g(d),o=m(r),e=g(r),{x:o>this.chart.width/2?o:e,y:(a+n)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:y(this.options.tooltipTitleTemplate,t[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:y(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle%(2*Math.PI),o=(2*Math.PI+this.startAngle)%(2*Math.PI),a=(2*Math.PI+this.endAngle)%(2*Math.PI)||360,h=a<o?n<=a||n>=o:n>=o&&n<=a,l=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return h&&l},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin="bevel",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign="left":this.x-e/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-e/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case"below":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}B(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+e/2,a+s/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=W(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?1.5*this.titleFontSize:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+this.titleHeight,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=z(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleHeight/3:i+(1.5*this.fontSize*e+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(y(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?z(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&(this.endPoint=i,this.calculateXLabelRotation())},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth?e/2:this.yLabelWidth,this.xLabelRotation=0,this.display){var n,o=z(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+C(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+C(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(S(this.xLabelRotation)*-1),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(y(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(y(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=W(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){var e=null,s=null;if(this.angleLineWidth>0&&i%this.angleLineInterval===0&&(e=this.calculateCenterOffset(this.max),s=this.getPointPosition(i,e),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(s.x,s.y),t.stroke(),t.closePath()),this.backgroundColors&&this.backgroundColors.length==this.valuesCount){null==e&&(e=this.calculateCenterOffset(this.max)),null==s&&(s=this.getPointPosition(i,e));var o=this.getPointPosition(0===i?this.valuesCount-1:i-1,e),a=this.getPointPosition(i===this.valuesCount-1?0:i+1,e),h={x:(o.x+s.x)/2,y:(o.y+s.y)/2},l={x:(s.x+a.x)/2,y:(s.y+a.y)/2};t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(h.x,h.y),t.lineTo(s.x,s.y),t.lineTo(l.x,l.y),t.fillStyle=this.backgroundColors[i],t.fill(),t.closePath()}var r=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=W(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var c=this.labels.length,u=this.labels.length/2,d=u/2,p=i<d||i>c-d,f=i===d||i===c-d;0===i?t.textAlign="center":i===u?t.textAlign="center":i<u?t.textAlign="left":t.textAlign="right",f?t.textBaseline="middle":p?t.textBaseline="bottom":t.textBaseline="top",t.fillText(this.labels[i],r.x,r.y)}}}}}),e.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(t,i){for(var e=0;e<this.animations.length;++e)if(this.animations[e].chartInstance===t)return void(this.animations[e].animationObject=i);this.animations.push({chartInstance:t,animationObject:i}),1==this.animations.length&&s.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(t){var i=s.findNextWhere(this.animations,function(i){return i.chartInstance===t});i&&this.animations.splice(i,1)},digestWrapper:function(){e.animationService.startDigest.call(e.animationService)},startDigest:function(){var t=Date.now(),i=0;this.dropFrames>1&&(i=Math.floor(this.dropFrames),this.dropFrames-=i);for(var e=0;e<this.animations.length;e++)null===this.animations[e].animationObject.currentStep&&(this.animations[e].animationObject.currentStep=0),this.animations[e].animationObject.currentStep+=1+i,this.animations[e].animationObject.currentStep>this.animations[e].animationObject.numSteps&&(this.animations[e].animationObject.currentStep=this.animations[e].animationObject.numSteps),this.animations[e].animationObject.render(this.animations[e].chartInstance,this.animations[e].animationObject),this.animations[e].animationObject.currentStep==this.animations[e].animationObject.numSteps&&(this.animations[e].animationObject.onAnimationComplete.call(this.animations[e].chartInstance),this.animations.splice(e,1),e--);var n=Date.now(),o=n-t-this.frameDuration,a=o/this.frameDuration;a>1&&(this.dropFrames+=a),this.animations.length>0&&s.requestAnimFrame.call(window,this.digestWrapper)}},s.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define("Chart",[],function(){return e}):"object"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'};i.Type.extend({name:"Bar",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing;
},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t&&(t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke)}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i,s){var n={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(n),e.each(i.data,function(e,s){n.bars.push(new this.BarClass({value:e,label:t.labels[s],datasetLabel:i.label,strokeColor:"object"==typeof i.strokeColor?i.strokeColor[s]:i.strokeColor,fillColor:"object"==typeof i.fillColor?i.fillColor[s]:i.fillColor,highlightFill:i.highlightFill?"object"==typeof i.highlightFill?i.highlightFill[s]:i.highlightFill:"object"==typeof i.fillColor?i.fillColor[s]:i.fillColor,highlightStroke:i.highlightStroke?"object"==typeof i.highlightStroke?i.highlightStroke[s]:i.highlightStroke:"object"==typeof i.strokeColor?i.strokeColor[s]:i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,datasetLabel:this.datasets[e].label,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};i.Type.extend({name:"Doughnut",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(i,e){i.color||(i.color="hsl("+360*e/t.length+", 100%, 50%)"),this.addData(i,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,e,s){var n=void 0!==e?e:this.segments.length;"undefined"==typeof t.color&&(t.color=i.defaults.global.segmentColorDefault[n%i.defaults.global.segmentColorDefault.length],t.highlight=i.defaults.global.segmentHighlightColorDefaults[n%i.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(n,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),s||(this.reflow(),this.update())},calculateCircumference:function(t){return this.total>0?2*Math.PI*(t/this.total):0},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=Math.abs(t.value)},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore(["fillColor"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:"Pie",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1};i.Type.extend({name:"Line",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,datasetLabel:this.datasets[e].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale&&(this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),this.options.datasetStroke&&s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this))}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};i.Type.extend({name:"PolarArea",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore(["fillColor"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,angleLineInterval:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||o<0)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,angleLineInterval:this.options.angleLineInterval?this.options.angleLineInterval:1,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,datasetLabel:this.datasets[e].label,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,this.options.datasetFill&&s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);
},{}],2:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),abilityData=require("./herocalc_abilitydata"),AbilityModel=function(e,i){var t=this;t.hero=i,t.abilityData=abilityData,t.hasScepter=ko.observable(!1),t.isShapeShiftActive=ko.observable(!1),t.abilities=e,t._abilities=t.abilities();for(var a=0;a<t.abilities().length;a++)t._abilities[a].level=ko.observable(0),t._abilities[a].isActive=ko.observable(!1),t._abilities[a].isDetail=ko.observable(!1),t._abilities[a].baseDamage=ko.observable(0),t._abilities[a].baseDamageReductionPct=ko.observable(0),t._abilities[a].baseDamageMultiplier=ko.observable(0),t._abilities[a].bash=ko.observable(0),t._abilities[a].bashBonusDamage=ko.observable(0),t._abilities[a].bonusDamage=ko.observable(0),t._abilities[a].bonusDamageOrb=ko.observable(0),t._abilities[a].bonusDamagePct=ko.observable(0),t._abilities[a].bonusDamagePrecisionAura=ko.observable(0),t._abilities[a].bonusDamageReduction=ko.observable(0),t._abilities[a].bonusHealth=ko.observable(0),t._abilities[a].bonusStrength=ko.observable(0),t._abilities[a].bonusStrength2=ko.observable(0),t._abilities[a].bonusAgility=ko.observable(0),t._abilities[a].bonusAgility2=ko.observable(0),t._abilities[a].bonusInt=ko.observable(0),t._abilities[a].bonusAllStatsReduction=ko.observable(0),t._abilities[a].damageAmplification=ko.observable(0),t._abilities[a].damageReduction=ko.observable(0),t._abilities[a].evasion=ko.observable(0),t._abilities[a].magicResist=ko.observable(0),t._abilities[a].manaregen=ko.observable(0),t._abilities[a].manaregenreduction=ko.observable(0),t._abilities[a].missChance=ko.observable(0),t._abilities[a].movementSpeedFlat=ko.observable(0),t._abilities[a].movementSpeedPct=ko.observable(0),t._abilities[a].movementSpeedPctReduction=ko.observable(0),t._abilities[a].turnRateReduction=ko.observable(0),t._abilities[a].attackrange=ko.observable(0),t._abilities[a].attackspeed=ko.observable(0),t._abilities[a].attackspeedreduction=ko.observable(0),t._abilities[a].armor=ko.observable(0),t._abilities[a].armorReduction=ko.observable(0),t._abilities[a].healthregen=ko.observable(0),t._abilities[a].lifesteal=ko.observable(0),t._abilities[a].visionnight=ko.observable(0),t._abilities[a].visionday=ko.observable(0);t.abilityControlData={},t.abilitySettingsData=function(e,i,a){return void 0==t.abilityControlData[e]?t.processAbility(e,i,a,t.abilityData[e]):t.abilityControlData[e]},t.processAbility=function(e,i,a,l){var s={};s.data=[];for(var r,n=[],b=0;b<l.length;b++)switch(l[b].controlType){case"input":r=ko.observable(0).extend({numeric:2}),r.controlValueType=l[b].controlValueType,n.push(r),s.data.push({labelName:l[b].label.toUpperCase()+":",controlVal:r,controlType:l[b].controlType,display:l[b].display});break;case"checkbox":r=ko.observable(!1),r.controlValueType=l[b].controlValueType,n.push(r),s.data.push({labelName:l[b].label.toUpperCase()+"?",controlVal:r,controlType:l[b].controlType,display:l[b].display});break;case"radio":r=ko.observable(l[b].controlOptions[0].value),r.controlValueType=l[b].controlValueType,n.push(r),s.data.push({labelName:l[b].label.toUpperCase()+"?",controlVal:r,controlType:l[b].controlType,display:l[b].display,controlOptions:l[b].controlOptions});break;case"method":case"text":if(void 0==l[b].controls){if(l[b].noLevel)var o=function(i){return{fn:ko.computed(function(){var a=t.abilities().find(function(i){return i.name==e});return t.getAbilityAttributeValue(a.attributes,i,0)})}};else var o=function(i){return{fn:ko.computed(function(){var a=t.abilities().find(function(i){return i.name==e});return t.getAbilityAttributeValue(a.attributes,i,a.level())})}};var u=o(l[b].attributeName),_=t.getComputedFunction(r,u.fn,l[b].fn,i,a,t,l[b].returnProperty,void 0,e);if(l[b].ignoreTooltip)var m=l[b].label||l[b].attributeName;else var m=t.getAbilityAttributeTooltip(t.abilities()[a].attributes,l[b].attributeName)||l[b].label||l[b].attributeName;s.data.push({labelName:m.toUpperCase(),controlVal:_,controlType:l[b].controlType,display:l[b].display,clean:u.fn})}else{if(l[b].noLevel)var o=function(e){return{fn:ko.computed(function(){return t.getAbilityAttributeValue(t.abilities()[a].attributes,e,0)})}};else var o=function(e){return{fn:ko.computed(function(){return t.getAbilityAttributeValue(t.abilities()[a].attributes,e,t.abilities()[a].level())})}};var u=o(l[b].attributeName),_=t.getComputedFunction(n,u.fn,l[b].fn,i,a,t,l[b].returnProperty,l[b].controls,e);if(l[b].ignoreTooltip)var m=l[b].label||l[b].attributeName;else var m=t.getAbilityAttributeTooltip(t.abilities()[a].attributes,l[b].attributeName)||l[b].label||l[b].attributeName;s.data.push({labelName:m.toUpperCase(),controlVal:_,controlType:l[b].controlType,display:l[b].display,clean:u.fn})}"method"==l[b].controlType&&n.push(_)}return t.abilityControlData[e]=s,s},t.getComputedFunction=function(e,i,t,a,l,s,r,n,b){var o=s.abilities().find(function(e){return e.name==b});return ko.pureComputed(function(){var b;if(void 0==n)b=void 0==e?e:"boolean"==typeof e()?e():void 0==e.controlValueType?parseFloat(e()):"string"==e.controlValueType?e():parseFloat(e());else{for(var u=[],_=0;_<n.length;_++)switch(typeof e[n[_]]()){case"boolean":case"object":u.push(e[n[_]]());break;default:u.push(parseFloat(e[n[_]]()))}b=u}var m=t.call(this,b,i(),a,l,s,o);return void 0!=r&&o[r](m),m},this)},t.getAbilityLevelByAbilityName=function(e){for(var i=0;i<t.abilities().length;i++)if(t._abilities[i].name==e)return t._abilities[i].level();return-1},t.getAbilityByName=function(e){for(var i=0;i<t.abilities().length;i++)if(t._abilities[i].name==e)return t._abilities[i]},t.getAbilityPropertyValue=function(e,i){return parseFloat(e[i]()[e.level()-1])},t.getAttributeBonusLevel=function(){for(var e=0;e<t.abilities().length;e++)if("attribute_bonus"==t._abilities[e].name)return t._abilities[e].level();return 0},t.getAllStatsReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusAllStatsReduction&&(e+=a.bonusAllStatsReduction());else for(var l=0;l<t._abilities[i].attributes.length;l++){t._abilities[i].attributes[l]}}return e}),t.getStrengthReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusStrength&&"undying_decay"==a.name&&(e-=a.bonusStrength());else for(var l=0;l<t._abilities[i].attributes.length;l++){t._abilities[i].attributes[l]}}return e}),t.getStrength=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.bonusStrength&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusStrength()),void 0!=a.bonusStrength2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusStrength2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var l=0;l<t._abilities[i].attributes.length;l++){t._abilities[i].attributes[l]}}return e}),t.getAgility=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.bonusAgility&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusAgility()),void 0!=a.bonusAgility2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusAgility2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"marksmanship_agility_bonus":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getIntelligence=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&!(a.name in t.abilityData)&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];s.name}}return e}),t.getArmor=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.armor&&(e+=a.armor());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_armor":"templar_assassin_meld"!=a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"warcry_armor":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"armor_bonus":"lich_frost_armor"!=a.name&&"ogre_magi_frost_armor"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.getArmorBaseReduction=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(a.name){case"elder_titan_natural_order":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,"armor_reduction_pct",a.level())/100}}return e}),t.getArmorReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.armorReduction&&(e+=a.armorReduction());else switch(a.name){case"templar_assassin_meld":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"bonus_armor",a.level());break;case"tidehunter_gush":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"armor_bonus",a.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"armor_reduction",a.level());break;case"nevermore_dark_lord":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"presence_armor_reduction",a.level())}}return e}),t.getHealth=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusHealth&&(e+=a.bonusHealth());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_hp":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"true_form_hp_bonus":t.isTrueFormActive()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.isTrueFormActive=function(){for(var e=0;e<t.abilities().length;e++){var i=t._abilities[e];if(i.isActive()&&"lone_druid_true_form"==i.name)return!0}return!1},t.getHealthRegen=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.healthregen&&(e+=a.healthregen());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"hp_regen":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getMana=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_mana":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getManaRegen=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.manaregen&&(e+=a.manaregen());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_mana_regen":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getManaRegenArcaneAura=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"mana_regen":"crystal_maiden_brilliance_aura"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.getManaRegenReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.manaregenreduction&&(e+=a.manaregenreduction())}return e}),t.getAttackRange=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.attackrange&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.attackrange());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1){for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"attack_range_bonus":case"bonus_attack_range":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"bonus_range":"terrorblade_metamorphosis"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())),"troll_warlord_berserkers_rage"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_range_scepter":"tiny_grow"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}"lone_druid_true_form"==a.name&&(e-=422)}else if("enchantress_impetus"==a.name&&t.hasScepter())for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_attack_range_scepter":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getAttackSpeed=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.attackspeed&&(e+=a.attackspeed());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"attack_speed_bonus_pct":"clinkz_strafe"!=a.name&&"ursa_overpower"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_attack_speed":"beastmaster_inner_beast"!=a.name&&"lycan_feral_impulse"!=a.name&&"lone_druid_rabid"!=a.name&&"tiny_grow"!=a.name&&"phantom_assassin_phantom_strike"!=a.name&&"windrunner_focusfire"!=a.name&&"ogre_magi_bloodlust"!=a.name&&"centaur_khan_endurance_aura"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.getAttackSpeedReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.attackspeedreduction&&(e+=a.attackspeedreduction());else{for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=a.name||t.hasScepter()?"tusk_frozen_sigil"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())):e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"slow":"medusa_stone_gaze"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attackspeed_bonus":e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}"enraged_wildkin_tornado"==a.name&&(e-=15)}}return e}),t.getBash=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bash&&(e*=1-a.bash()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"chance":case"proc_chance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getBaseDamage=ko.computed(function(){for(var e=0,i=1,a={},l=0;l<t.abilities().length;l++){var s=t._abilities[l];if(s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(s.name in t.abilityData)void 0!=s.baseDamageMultiplier&&(i+=s.baseDamageMultiplier()/100),void 0!=s.baseDamage&&(e+=s.baseDamage(),a[s.name]={damage:s.baseDamage(),damageType:"physical",displayname:s.displayname});else for(var r=0;r<t._abilities[l].attributes.length;r++){var n=t._abilities[l].attributes[r];switch(n.name){case"bonus_damage":"tiny_grow"!=s.name&&"terrorblade_metamorphosis"!=s.name||(e+=t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),a[s.name]={damage:t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),damageType:"physical",displayname:s.displayname})}}}return{sources:a,total:e,multiplier:i}}),t.getSelfBaseDamageReductionPct=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"damage_modifier":e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"focusfire_damage_reduction":t.hasScepter()||(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":t.hasScepter()&&(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getBaseDamageReductionPct=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.baseDamageReductionPct&&(e*=1+a.baseDamageReductionPct()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_damage_pct":"vengefulspirit_command_aura"==a.name&&(e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getBAT=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"base_attack_time":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getBonusDamage=ko.computed(function(){for(var e=0,i={},a=0;a<t.abilities().length;a++){var l=t._abilities[a];if(l.level()>0&&(l.isActive()||l.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(l.name in t.abilityData)void 0!=l.bonusDamage&&0!=l.bonusDamage()&&(e+=l.bonusDamage(),i[l.name]={damage:l.bonusDamage(),damageType:"spectre_desolate"==l.name?"pure":"physical",displayname:l.displayname});else{for(var s=0;s<t._abilities[a].attributes.length;s++){var r=t._abilities[a].attributes[s];switch(r.name){case"bonus_damage":"broodmother_insatiable_hunger"!=l.name&&"luna_lunar_blessing"!=l.name&&"templar_assassin_refraction"!=l.name&&"templar_assassin_meld"!=l.name&&"troll_warlord_berserkers_rage"!=l.name&&"lone_druid_true_form_battle_cry"!=l.name||(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),damageType:"physical",displayname:l.displayname});break;case"hero_bonus_damage":e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),damageType:"physical",displayname:l.displayname}}}"storm_spirit_overload"==l.name&&(e+=t.getAbilityPropertyValue(l,"damage"),i[l.name]={damage:t.getAbilityPropertyValue(l,"damage"),damageType:"magic",displayname:l.displayname})}}return{sources:i,total:e}}),t.getBonusDamagePercent=ko.computed(function(){for(var e=0,i={},a=0;a<t.abilities().length;a++){var l=t._abilities[a];if(l.level()>0&&(l.isActive()||l.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(l.name in t.abilityData))for(var s=0;s<t._abilities[a].attributes.length;s++){var r=t._abilities[a].attributes[s];switch(r.name){case"damage_increase_pct":"bloodseeker_bloodrage"==l.name&&(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname});break;case"bonus_damage_pct":"magnataur_empower"!=l.name&&"vengefulspirit_command_aura"!=l.name&&"alpha_wolf_command_aura"!=l.name||(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname});break;case"gods_strength_damage":"sven_gods_strength"==l.name&&void 0!=t.hero&&"sven"==t.hero.heroId()&&(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname});break;case"gods_strength_damage_scepter":"sven_gods_strength"==l.name&&void 0==t.hero&&(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname})}}}return{sources:i,total:e}}),t.getBonusDamageBackstab=ko.computed(function(){for(var e=0,i=0,a=[],l=0;l<t.abilities().length;l++){var s=t._abilities[l];if("riki_backstab"==s.name&&s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var r=0;r<t._abilities[l].attributes.length;r++){var n=t._abilities[l].attributes[r];switch(n.name){case"damage_multiplier":e+=t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),a.push({damage:t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),damageType:"physical",displayname:s.displayname})}}}return{sources:a,total:[e,i]}}),t.getBonusDamagePrecisionAura=ko.computed(function(){for(var e=0,i=0,a=[],l=0;l<t.abilities().length;l++){var s=t._abilities[l];if("drow_ranger_trueshot"==s.name&&s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){for(var r=0;r<t._abilities[l].attributes.length;r++){var n=t._abilities[l].attributes[r];switch(n.name){case"trueshot_ranged_damage":e+=t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level())/100,a.push({damage:t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level())/100,damageType:"physical",displayname:s.displayname})}}void 0!=s.bonusDamagePrecisionAura&&(i+=s.bonusDamagePrecisionAura(),a.push({damage:s.bonusDamagePrecisionAura(),damageType:"physical",displayname:s.displayname}))}}return{sources:a,total:[e,i]}}),t.getBonusDamageReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusDamageReduction&&(e+=a.bonusDamageReduction());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"enfeeble_attack_reduction":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getBonusDamageReductionPct=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"damage_modifier":e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"focusfire_damage_reduction":t.hasScepter()||(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":t.hasScepter()&&(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getDamageAmplification=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.damageAmplification&&(e*=1+a.damageAmplification()/100)}return e}),t.getDamageReduction=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.damageReduction&&(e*=1+a.damageReduction()/100);else{for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"damage_increase_pct":"bloodseeker_bloodrage"==a.name&&(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}"kunkka_ghostship"==a.name&&(e*=.5)}}return e}),t.getCritSource=ko.computed(function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))switch(a.name){case"phantom_assassin_coup_de_grace":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_bonus",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"juggernaut_blade_dance":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"blade_dance_crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"blade_dance_crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1}}return e}),t.getCleaveSource=ko.computed(function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))switch(a.name){case"magnataur_empower":void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"cleave_radius",a.level()),magnitude:t.getAbilityAttributeValue(t._abilities[i].attributes,"cleave_damage_pct",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"sven_great_cleave":void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"great_cleave_radius",a.level()),magnitude:t.getAbilityAttributeValue(t._abilities[i].attributes,"great_cleave_damage",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"kunkka_tidebringer":void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"radius",a.level()),magnitude:1,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"tiny_grow":t.hasScepter()&&(void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"bonus_cleave_radius_scepter",a.level()),magnitude:t.getAbilityAttributeValue(t._abilities[i].attributes,"bonus_cleave_damage_scepter",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1)}}return e}),t.getCritChance=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"crit_chance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getEvasion=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_evasion":case"dodge_chance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;
}}}return e}),t.getEvasionBacktrack=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"dodge_chance_pct":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getMissChance=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.missChance&&(e*=1-a.missChance()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"miss_chance":case"miss_rate":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getLifesteal=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.lifesteal&&(e+=a.lifesteal());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"vampiric_aura":case"lifesteal_pct":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getMagicResist=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.magicResist&&(e*=1-a.magicResist()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"spell_shield_resistance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==a.name&&(e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==a.name&&(e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getMagicResistReduction=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"magic_resistance_pct":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getMovementSpeedFlat=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.movementSpeedFlat&&(e+=a.movementSpeedFlat());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_movespeed":"alchemist_chemical_rage"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_movement_speed":"tiny_grow"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"speed_loss":e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getMovementSpeedPercent=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.movementSpeedPct&&(e+=a.movementSpeedPct()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"bonus_movespeed":"broodmother_spin_web"!=a.name&&"spectre_spectral_dagger"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_movement_speed":"ogre_magi_bloodlust"!=a.name&&"death_prophet_witchcraft"!=a.name&&"kobold_taskmaster_speed_aura"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed_pct":"razor_unstable_current"!=a.name&&"phantom_lancer_doppelwalk"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_move_speed":"treant_natures_guise"!=a.name&&"lone_druid_rabid"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed":"wisp_tether"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed_bonus":"kunkka_ghostship"!=a.name&&"visage_grave_chill"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getMovementSpeedPercentReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.movementSpeedPctReduction&&(e+=a.movementSpeedPctReduction()/100);else{for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name||t.hasScepter()||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow_pct":e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"tusk_frozen_sigil"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow":"medusa_stone_gaze"==a.name?e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==a.name||"bounty_hunter_jinada"==a.name||"winter_wyvern_arctic_burn"==a.name||"winter_wyvern_splinter_blast"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"spectre_spectral_dagger"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed":"tidehunter_gush"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_movement_speed":"pugna_decrepify"!=a.name&&"chen_penitence"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==a.name||"phantom_lancer_spirit_lance"==a.name||"faceless_void_time_walk"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"skywrath_mage_concussive_shot"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow_amount":"razor_unstable_current"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==a.name||"brewmaster_thunder_clap"==a.name?e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"ursa_earthshock"!=a.name&&"treant_leech_seed"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"visage_grave_chill"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}"satyr_trickster_purge"==a.name?e-=.8:"enraged_wildkin_tornado"==a.name&&(e-=.15)}}return e}),t.getTurnRateReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.turnRateReduction&&(e+=a.turnRateReduction()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"slow":"medusa_stone_gaze"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getVisionRangeNight=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.visionnight&&(e+=a.visionnight());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"night_vision_bonus":case"bonus_night_vision":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getVisionRangePctReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"blind_percentage":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.setEvasion=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&"windrunner_windrun"==a.name)return 1}return e}),t.setMovementSpeed=ko.computed(function(){for(var e=522,i=100,a=0,l=0;l<t.abilities().length;l++){var s=t._abilities[l];if(s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){if("spirit_breaker_charge_of_darkness"==s.name)return t.getAbilityAttributeValue(s.attributes,"movement_speed",s.level());if("dark_seer_surge"==s.name)return e;if("centaur_stampede"==s.name)return e;if("lycan_shapeshift"==s.name)return e;if("lion_voodoo"==s.name||"shadow_shaman_voodoo"==s.name)return i}}return a}),t.getBashSource=function(e){for(var i={},a=0;a<t.abilities().length;a++){var l=t._abilities[a];if(l.level()>0&&(l.isActive()||l.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(l.name in t.abilityData)void 0!=l.bashBonusDamage&&(void 0==i[l.name]&&"faceless_void_time_lock"==l.name&&(i[l.name]={chance:l.bash()/100,damage:l.bashBonusDamage(),count:1,damageType:"magic",displayname:l.displayname}),void 0==i[l.name]&&"spirit_breaker_greater_bash"==l.name&&(i[l.name]={chance:l.bash()/100,damage:l.bashBonusDamage()/100,count:1,damageType:"magic",displayname:l.displayname}));else for(var s=0;s<t._abilities[a].attributes.length;s++){var r=t._abilities[a].attributes[s];switch(r.name){case"proc_chance":void 0==i[l.name]&&"sniper_headshot"==l.name&&(i[l.name]={chance:t.getAbilityAttributeValue(l.attributes,r.name,l.level())/100,damage:t.getAbilityPropertyValue(l,"damage"),count:1,damageType:"physical",displayname:l.displayname});break;case"chance":void 0==i[l.name]&&"slardar_bash"==l.name&&(i[l.name]={chance:t.getAbilityAttributeValue(l.attributes,r.name,l.level())/100,damage:t.getAbilityAttributeValue(l.attributes,"bonus_damage",l.level()),count:1,damageType:"physical",displayname:l.displayname})}}}return i},t.getOrbSource=function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusDamageOrb&&void 0==e[a.name]&&"obsidian_destroyer_arcane_orb"==a.name&&(e[a.name]={damage:a.bonusDamageOrb(),damageType:"pure",displayname:a.displayname});else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"mana_per_hit":void 0==e[a.name]&&"antimage_mana_break"==a.name&&(e[a.name]={damage:t.getAbilityAttributeValue(a.attributes,s.name,a.level())*t.getAbilityAttributeValue(a.attributes,"damage_per_burn",a.level()),damageType:"physical",displayname:a.displayname});break;case"damage_bonus":void 0==e[a.name]&&"clinkz_searing_arrows"==a.name&&(e[a.name]={damage:t.getAbilityAttributeValue(a.attributes,s.name,a.level()),damageType:"physical",displayname:a.displayname});case"intellect_damage_pct":void 0==e[a.name]&&"silencer_glaives_of_wisdom"==a.name&&(e[a.name]={damage:t.getAbilityAttributeValue(a.attributes,s.name,a.level())/100*t.hero.totalInt(),damageType:"pure",displayname:a.displayname})}}}return e},t.toggleAbility=function(e,i,a){t.abilities()[e()].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(t.abilities()[e()].isActive()?t.abilities()[e()].isActive(!1):t.abilities()[e()].isActive(!0),"lycan_shapeshift"==t.abilities()[e()].name&&t.isShapeShiftActive(t.abilities()[e()].isActive()))}.bind(this),t.toggleAbilityDetail=function(e,i,a){t.abilities()[e()].isDetail()?t.abilities()[e()].isDetail(!1):t.abilities()[e()].isDetail(!0)}.bind(this),t.getAbility=function(e){return t.abilities().find(function(i){return i.name==e})}};AbilityModel.prototype.levelUpAbility=function(e,i,t,a){var l=this;if(l.abilities()[e()].level()<a.getAbilityLevelMax(i)&&a.availableSkillPoints()>0){switch(l.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==a.heroId()?(0==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=2||1==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=7||2==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=11||3==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=17)&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e())):"meepo"==a.heroId()?7*l.abilities()[e()].level()+3<=parseInt(a.selectedHeroLevel())&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e())):5*(l.abilities()[e()].level()+1)+1<=parseInt(a.selectedHeroLevel())&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e()));break;default:2*l.abilities()[e()].level()+1<=parseInt(a.selectedHeroLevel())&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e()))}switch(l.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":l.abilities()[e()+1].level(l.abilities()[e()].level());break;case"morphling_morph_str":l.abilities()[e()-1].level(l.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":l.abilities()[e()-1].level(l.abilities()[e()].level()),l.abilities()[e()-2].level(l.abilities()[e()].level());break;case"nevermore_shadowraze1":l.abilities()[e()+1].level(l.abilities()[e()].level()),l.abilities()[e()+2].level(l.abilities()[e()].level());break;case"nevermore_shadowraze2":l.abilities()[e()-1].level(l.abilities()[e()].level()),l.abilities()[e()+1].level(l.abilities()[e()].level());break;case"nevermore_shadowraze3":l.abilities()[e()-1].level(l.abilities()[e()].level()),l.abilities()[e()-2].level(l.abilities()[e()].level());break;case"ember_spirit_fire_remnant":l.abilities()[e()-1].level(l.abilities()[e()].level());break;case"lone_druid_true_form":l.abilities()[e()-1].level(l.abilities()[e()].level())}}},AbilityModel.prototype.levelDownAbility=function(e,i,t,a){var l=ko.utils.unwrapObservable(e),s=this;if(s.abilities()[l].level()>0)switch(s.abilities()[l].level(s.abilities()[l].level()-1),a.skillPointHistory.splice(a.skillPointHistory().lastIndexOf(l),1),s.abilities()[l].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":s.abilities()[l+1].level(s.abilities()[l].level());break;case"morphling_morph_str":s.abilities()[l-1].level(s.abilities()[l].level());break;case"keeper_of_the_light_spirit_form":s.abilities()[l-1].level(s.abilities()[l].level()),s.abilities()[l-2].level(s.abilities()[l].level());break;case"nevermore_shadowraze1":s.abilities()[l+1].level(s.abilities()[l].level()),s.abilities()[l+2].level(s.abilities()[l].level());break;case"nevermore_shadowraze2":s.abilities()[l-1].level(s.abilities()[l].level()),s.abilities()[l+1].level(s.abilities()[l].level());break;case"nevermore_shadowraze3":s.abilities()[l-1].level(s.abilities()[l].level()),s.abilities()[l-2].level(s.abilities()[l].level());break;case"ember_spirit_fire_remnant":s.abilities()[l-1].level(s.abilities()[l].level());break;case"lone_druid_true_form":s.abilities()[l-1].level(s.abilities()[l].level())}},AbilityModel.prototype.getAbilityAttributeValue=function(e,i,t){for(var a=0;a<e.length;a++)if(e[a].name==i)return 0==t?parseFloat(e[a].value[0]):t>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[t-1])},AbilityModel.prototype.getAbilityAttributeTooltip=function(e,i){for(var t=0;t<e.length;t++)if(e[t].name==i){if(e[t].hasOwnProperty("tooltip")){var a=e[t].tooltip.replace(/\\n/g,"");return a}return""}return""},module.exports=AbilityModel;
},{"./herocalc_abilitydata":21,"./herocalc_knockout":22}],3:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),AbilityModel=require("./AbilityModel"),InventoryViewModel=require("./inventory/InventoryViewModel"),findWhere=require("./util/findWhere"),buffOptionsArray=require("./buffs/buffOptionsArray"),debuffOptionsArray=require("./buffs/debuffOptionsArray"),BuffViewModel=function(e,i){var a=this;return AbilityModel.call(this,ko.observableArray([])),a.availableBuffs=ko.observableArray(buffOptionsArray.items),a.availableDebuffs=ko.observableArray(debuffOptionsArray.items),a.selectedBuff=ko.observable(a.availableBuffs()[0]),a.buffs=ko.observableArray([]),a.itemBuffs=new InventoryViewModel(e),a.addBuff=function(e,i){if(void 0==findWhere(a.buffs(),{name:a.selectedBuff().buffName})){var l=JSON.parse(JSON.stringify(a.selectedBuff().abilityData));switch(l.level=ko.observable(0),l.isActive=ko.observable(!1),l.isDetail=ko.observable(!1),l.baseDamage=ko.observable(0),l.bash=ko.observable(0),l.bashBonusDamage=ko.observable(0),l.bonusDamage=ko.observable(0),l.bonusDamageOrb=ko.observable(0),l.bonusDamagePct=ko.observable(0),l.bonusDamagePrecisionAura=ko.observable(0),l.bonusDamageReduction=ko.observable(0),l.bonusHealth=ko.observable(0),l.bonusStrength=ko.observable(0),l.bonusStrength2=ko.observable(0),l.bonusAgility=ko.observable(0),l.bonusAgility2=ko.observable(0),l.bonusInt=ko.observable(0),l.bonusAllStatsReduction=ko.observable(0),l.damageAmplification=ko.observable(0),l.damageReduction=ko.observable(0),l.evasion=ko.observable(0),l.magicResist=ko.observable(0),l.manaregen=ko.observable(0),l.manaregenreduction=ko.observable(0),l.missChance=ko.observable(0),l.movementSpeedFlat=ko.observable(0),l.movementSpeedPct=ko.observable(0),l.movementSpeedPctReduction=ko.observable(0),l.turnRateReduction=ko.observable(0),l.attackrange=ko.observable(0),l.attackspeed=ko.observable(0),l.attackspeedreduction=ko.observable(0),l.armor=ko.observable(0),l.armorReduction=ko.observable(0),l.healthregen=ko.observable(0),l.lifesteal=ko.observable(0),l.visionnight=ko.observable(0),l.visionday=ko.observable(0),l.name){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":l.level(1)}a.abilities.push(l),a.buffs.push({name:a.selectedBuff().buffName,hero:a.selectedBuff().hero,data:l})}},a.removeBuff=function(e,i,l){if(void 0!=findWhere(a.buffs(),{name:l})){if(a.buffs.remove(findWhere(a.buffs(),{name:l})),void 0!=a.abilityControlData[l]){for(var s=0;s<a.abilityControlData[l].data.length;s++)void 0!=a.abilityControlData[l].data[s].controlVal.dispose&&a.abilityControlData[l].data[s].controlVal.dispose(),void 0!=a.abilityControlData[l].data[s].clean&&a.abilityControlData[l].data[s].clean.dispose();a.abilityControlData[l]=void 0}for(var s=0;s<a.abilities().length;s++)if(a.abilities()[s].name==l){a.abilities()[s].level(0),a.abilities.remove(a.abilities()[s]);break}}},a.toggleBuff=function(e,i,l){a.buffs()[e()].data.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(a.buffs()[e()].data.isActive()?(a.buffs()[e()].data.isActive(!1),a.abilities()[e()].isActive(!1)):(a.buffs()[e()].data.isActive(!0),a.abilities()[e()].isActive(!0)))}.bind(this),a.toggleBuffDetail=function(e,i,l){a.buffs()[e()].data.isDetail()?a.buffs()[e()].data.isDetail(!1):a.buffs()[e()].data.isDetail(!0)}.bind(this),a.levelUpAbility=function(e,i,l,s){if(a.abilities()[e()].level()<s.getAbilityLevelMax(i)){switch(a.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":a.abilities()[e()].level(a.abilities()[e()].level()+1);break;default:a.abilities()[e()].level(a.abilities()[e()].level()+1)}switch(a.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level())}}},a.levelDownAbility=function(e,i,l,s){if(a.abilities()[e()].level()>0)switch(a.abilities()[e()].level(a.abilities()[e()].level()-1),a.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());break;case"ember_spirit_fire_remnant":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"lone_druid_true_form":a.abilities()[e()-1].level(a.abilities()[e()].level())}},a};BuffViewModel.prototype=Object.create(AbilityModel.prototype),BuffViewModel.prototype.constructor=BuffViewModel,module.exports=BuffViewModel;
},{"./AbilityModel":2,"./buffs/buffOptionsArray":5,"./buffs/debuffOptionsArray":6,"./herocalc_knockout":22,"./inventory/InventoryViewModel":27,"./util/findWhere":38}],4:[function(require,module,exports){
var findWhere=require("../util/findWhere"),BuffModel=function(i,a,e,t){this.buffName=t,void 0==i["npc_dota_hero_"+e]?(this.hero=e,this.abilityData=findWhere(a[e].abilities,{name:t}),this.buffDisplayName=a[e].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+e,this.abilityData=findWhere(i["npc_dota_hero_"+e].abilities,{name:t}),this.buffDisplayName=i["npc_dota_hero_"+e].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==t&&(this.buffDisplayName+=" (Aura for allies)"))};module.exports=BuffModel;
},{"../util/findWhere":38}],5:[function(require,module,exports){
var BuffModel=require("./BuffModel"),buffOptionsArray={},init=function(e,a){return buffOptionsArray.items=[new BuffModel(e,a,"abaddon","abaddon_frostmourne"),new BuffModel(e,a,"axe","axe_culling_blade"),new BuffModel(e,a,"beastmaster","beastmaster_inner_beast"),new BuffModel(e,a,"bloodseeker","bloodseeker_bloodrage"),new BuffModel(e,a,"bounty_hunter","bounty_hunter_track"),new BuffModel(e,a,"centaur","centaur_stampede"),new BuffModel(e,a,"crystal_maiden","crystal_maiden_brilliance_aura"),new BuffModel(e,a,"dark_seer","dark_seer_surge"),new BuffModel(e,a,"dazzle","dazzle_weave"),new BuffModel(e,a,"drow_ranger","drow_ranger_trueshot"),new BuffModel(e,a,"invoker","invoker_alacrity"),new BuffModel(e,a,"wisp","wisp_tether"),new BuffModel(e,a,"wisp","wisp_overcharge"),new BuffModel(e,a,"kunkka","kunkka_ghostship"),new BuffModel(e,a,"lich","lich_frost_armor"),new BuffModel(e,a,"life_stealer","life_stealer_open_wounds"),new BuffModel(e,a,"luna","luna_lunar_blessing"),new BuffModel(e,a,"lycan","lycan_howl"),new BuffModel(e,a,"magnataur","magnataur_empower"),new BuffModel(e,a,"mirana","mirana_leap"),new BuffModel(e,a,"ogre_magi","ogre_magi_bloodlust"),new BuffModel(e,a,"omniknight","omniknight_guardian_angel"),new BuffModel(e,a,"rubick","rubick_null_field"),new BuffModel(e,a,"skeleton_king","skeleton_king_vampiric_aura"),new BuffModel(e,a,"spirit_breaker","spirit_breaker_empowering_haste"),new BuffModel(e,a,"sven","sven_warcry"),new BuffModel(e,a,"sven","sven_gods_strength"),new BuffModel(e,a,"treant","treant_living_armor"),new BuffModel(e,a,"troll_warlord","troll_warlord_battle_trance"),new BuffModel(e,a,"vengefulspirit","vengefulspirit_command_aura"),new BuffModel(e,a,"npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new BuffModel(e,a,"npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new BuffModel(e,a,"npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new BuffModel(e,a,"npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new BuffModel(e,a,"npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new BuffModel(e,a,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new BuffModel(e,a,"npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new BuffModel(e,a,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new BuffModel(e,a,"npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")],buffOptionsArray.items};buffOptionsArray.init=init,module.exports=buffOptionsArray;
},{"./BuffModel":4}],6:[function(require,module,exports){
var BuffModel=require("./BuffModel"),debuffOptionsArray={},init=function(e,n){return debuffOptionsArray.items=[new BuffModel(e,n,"abaddon","abaddon_frostmourne"),new BuffModel(e,n,"alchemist","alchemist_acid_spray"),new BuffModel(e,n,"ancient_apparition","ancient_apparition_ice_vortex"),new BuffModel(e,n,"axe","axe_battle_hunger"),new BuffModel(e,n,"bane","bane_enfeeble"),new BuffModel(e,n,"batrider","batrider_sticky_napalm"),new BuffModel(e,n,"beastmaster","beastmaster_primal_roar"),new BuffModel(e,n,"bounty_hunter","bounty_hunter_jinada"),new BuffModel(e,n,"brewmaster","brewmaster_thunder_clap"),new BuffModel(e,n,"brewmaster","brewmaster_drunken_haze"),new BuffModel(e,n,"bristleback","bristleback_viscous_nasal_goo"),new BuffModel(e,n,"broodmother","broodmother_incapacitating_bite"),new BuffModel(e,n,"centaur","centaur_stampede"),new BuffModel(e,n,"chen","chen_penitence"),new BuffModel(e,n,"crystal_maiden","crystal_maiden_crystal_nova"),new BuffModel(e,n,"crystal_maiden","crystal_maiden_freezing_field"),new BuffModel(e,n,"dazzle","dazzle_weave"),new BuffModel(e,n,"drow_ranger","drow_ranger_frost_arrows"),new BuffModel(e,n,"earth_spirit","earth_spirit_rolling_boulder"),new BuffModel(e,n,"elder_titan","elder_titan_natural_order"),new BuffModel(e,n,"elder_titan","elder_titan_earth_splitter"),new BuffModel(e,n,"enchantress","enchantress_untouchable"),new BuffModel(e,n,"enchantress","enchantress_enchant"),new BuffModel(e,n,"faceless_void","faceless_void_time_walk"),new BuffModel(e,n,"huskar","huskar_life_break"),new BuffModel(e,n,"invoker","invoker_ghost_walk"),new BuffModel(e,n,"invoker","invoker_ice_wall"),new BuffModel(e,n,"wisp","wisp_tether"),new BuffModel(e,n,"jakiro","jakiro_dual_breath"),new BuffModel(e,n,"jakiro","jakiro_liquid_fire"),new BuffModel(e,n,"keeper_of_the_light","keeper_of_the_light_blinding_light"),new BuffModel(e,n,"kunkka","kunkka_torrent"),new BuffModel(e,n,"lich","lich_frost_nova"),new BuffModel(e,n,"lich","lich_frost_armor"),new BuffModel(e,n,"lich","lich_chain_frost"),new BuffModel(e,n,"life_stealer","life_stealer_open_wounds"),new BuffModel(e,n,"lion","lion_voodoo"),new BuffModel(e,n,"magnataur","magnataur_skewer"),new BuffModel(e,n,"medusa","medusa_stone_gaze"),new BuffModel(e,n,"meepo","meepo_geostrike"),new BuffModel(e,n,"naga_siren","naga_siren_rip_tide"),new BuffModel(e,n,"night_stalker","night_stalker_void"),new BuffModel(e,n,"night_stalker","night_stalker_crippling_fear"),new BuffModel(e,n,"night_stalker","night_stalker_darkness"),new BuffModel(e,n,"ogre_magi","ogre_magi_ignite"),new BuffModel(e,n,"omniknight","omniknight_degen_aura"),new BuffModel(e,n,"phantom_assassin","phantom_assassin_stifling_dagger"),new BuffModel(e,n,"phantom_lancer","phantom_lancer_spirit_lance"),new BuffModel(e,n,"pudge","pudge_rot"),new BuffModel(e,n,"pugna","pugna_decrepify"),new BuffModel(e,n,"queenofpain","queenofpain_shadow_strike"),new BuffModel(e,n,"riki","riki_smoke_screen"),new BuffModel(e,n,"rubick","rubick_fade_bolt"),new BuffModel(e,n,"sand_king","sandking_epicenter"),new BuffModel(e,n,"nevermore","nevermore_dark_lord"),new BuffModel(e,n,"shadow_shaman","shadow_shaman_voodoo"),new BuffModel(e,n,"skeleton_king","skeleton_king_hellfire_blast"),new BuffModel(e,n,"skeleton_king","skeleton_king_reincarnation"),new BuffModel(e,n,"skywrath_mage","skywrath_mage_concussive_shot"),new BuffModel(e,n,"skywrath_mage","skywrath_mage_ancient_seal"),new BuffModel(e,n,"slardar","slardar_slithereen_crush"),new BuffModel(e,n,"slardar","slardar_amplify_damage"),new BuffModel(e,n,"slark","slark_essence_shift"),new BuffModel(e,n,"sniper","sniper_shrapnel"),new BuffModel(e,n,"spectre","spectre_spectral_dagger"),new BuffModel(e,n,"storm_spirit","storm_spirit_overload"),new BuffModel(e,n,"templar_assassin","templar_assassin_meld"),new BuffModel(e,n,"tidehunter","tidehunter_gush"),new BuffModel(e,n,"tinker","tinker_laser"),new BuffModel(e,n,"treant","treant_leech_seed"),new BuffModel(e,n,"tusk","tusk_frozen_sigil"),new BuffModel(e,n,"undying","undying_flesh_golem"),new BuffModel(e,n,"ursa","ursa_earthshock"),new BuffModel(e,n,"vengefulspirit","vengefulspirit_wave_of_terror"),new BuffModel(e,n,"vengefulspirit","vengefulspirit_command_aura"),new BuffModel(e,n,"venomancer","venomancer_venomous_gale"),new BuffModel(e,n,"venomancer","venomancer_poison_sting"),new BuffModel(e,n,"viper","viper_poison_attack"),new BuffModel(e,n,"viper","viper_corrosive_skin"),new BuffModel(e,n,"viper","viper_viper_strike"),new BuffModel(e,n,"visage","visage_grave_chill"),new BuffModel(e,n,"warlock","warlock_upheaval"),new BuffModel(e,n,"weaver","weaver_the_swarm"),new BuffModel(e,n,"windrunner","windrunner_windrun"),new BuffModel(e,n,"winter_wyvern","winter_wyvern_arctic_burn"),new BuffModel(e,n,"winter_wyvern","winter_wyvern_splinter_blast"),new BuffModel(e,n,"npc_dota_neutral_ghost","ghost_frost_attack"),new BuffModel(e,n,"npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new BuffModel(e,n,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new BuffModel(e,n,"npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new BuffModel(e,n,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")],debuffOptionsArray.items};debuffOptionsArray.init=init,module.exports=debuffOptionsArray;
},{"./BuffModel":4}],7:[function(require,module,exports){
(function (global){
var HeroCalcData=("undefined"!=typeof window?window.HeroCalcData:"undefined"!=typeof global?global.HeroCalcData:null)||{},getJSON=require("../util/getJSON"),isEmpty=require("../util/isEmpty"),isString=require("../util/isString"),extend=function(e){e=e||{};for(var a=1;a<arguments.length;a++)if(arguments[a])for(var o in arguments[a])arguments[a].hasOwnProperty(o)&&(e[o]=arguments[a][o]);return e},resourceCounter=0,onResourceLoaded=function(e){resourceCounter--,0===resourceCounter&&(fixHeroData(HeroCalcData.heroData),e&&e())},fixHeroData=function(e){e.npc_dota_hero_invoker.abilities[5].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var a=e.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");e.npc_dota_hero_lone_druid.abilities[3].behavior.splice(a,1),a=e.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_abaddon.abilities[2].behavior.splice(a,1),a=e.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_riki.abilities[2].behavior.splice(a,1)},init=function(e,a,o,i){resourceCounter=3,!HeroCalcData.heroData||isEmpty(HeroCalcData.heroData)?isString(e)?getJSON(e,function(e){HeroCalcData.heroData=e,onResourceLoaded(i)}):isEmpty(e)||(HeroCalcData.heroData=e,onResourceLoaded(i)):onResourceLoaded(i),!HeroCalcData.itemData||isEmpty(HeroCalcData.itemData)?isString(a)?getJSON(a,function(e){HeroCalcData.itemData=e,onResourceLoaded(i)}):isEmpty(a)||(HeroCalcData.itemData=a,onResourceLoaded(i)):onResourceLoaded(i),!HeroCalcData.unitData||isEmpty(HeroCalcData.unitData)?isString(o)?getJSON(o,function(e){HeroCalcData.unitData=e,onResourceLoaded(i)}):isEmpty(o)||(HeroCalcData.unitData=o,onResourceLoaded(i)):onResourceLoaded(i)};HeroCalcData.init=init,module.exports=HeroCalcData;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util/getJSON":39,"../util/isEmpty":40,"../util/isString":41}],8:[function(require,module,exports){
"use strict";var HeroModel=require("./HeroModel"),CloneModel=function(e,o,r,t){var l=this;return HeroModel.call(this,e,o,r),l.parent=t,l};CloneModel.prototype=Object.create(HeroModel.prototype),CloneModel.prototype.constructor=CloneModel,module.exports=CloneModel;
},{"./HeroModel":11}],9:[function(require,module,exports){
var DamageTypeColor={physical:"#979aa2",pure:"goldenrod",magic:"#428bca",default:"#979aa2"};module.exports=DamageTypeColor;
},{}],10:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),DamageTypeColor=require("./DamageTypeColor"),extend=require("../util/extend"),HeroDamageMixin=function(e,a){e.critInfo=ko.pureComputed(function(){function a(e,a){return e.multiplier<a.multiplier?1:e.multiplier>a.multiplier?-1:0}var t=e.inventory.getCritSource();extend(t,e.ability().getCritSource()),extend(t,e.buffs.getCritSource());var r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}r.sort(a);for(var c=[],d=0,u=0;u<r.length;u++){for(var i=1,m=0;m<u;m++)for(var s=0;s<r[m].count;s++)i*=1-r[m].chance;for(var g=1,s=0;s<r[u].count;s++)g*=1-r[u].chance;i*=1-g,d+=i,r[u].count>1?c.push({name:r[u].displayname+" x"+r[u].count,chance:r[u].chance,multiplier:r[u].multiplier,count:r[u].count,totalChance:i}):c.push({name:r[u].displayname,chance:r[u].chance,multiplier:r[u].multiplier,count:r[u].count,totalChance:i})}return{sources:c,total:d}}),e.cleaveInfo=ko.pureComputed(function(){function a(e,a){return e.radius<a.radius?1:e.radius>a.radius?-1:0}var t=e.inventory.getCleaveSource();extend(t,e.ability().getCleaveSource()),extend(t,e.buffs.getCleaveSource());var r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}r.sort(a);for(var c={},d=0;d<r.length;d++){for(var u=0,i=0;i<r.length;i++)r[i].radius>=r[d].radius&&(u+=r[i].magnitude*r[i].count);c[r[d].radius]=u}var m=[];for(var o in c)m.push({radius:o,magnitude:c[o]});return m}),e.bashInfo=ko.pureComputed(function(){var a=e.heroData().attacktype,t=e.inventory.getBashSource(a);extend(t,e.ability().getBashSource());var r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}for(var c=[],d=0,u=0;u<r.length;u++){for(var i=1,m=0;m<u;m++)for(var s=0;s<r[m].count;s++)i*=1-r[m].chance;for(var g=1,s=0;s<r[u].count;s++)g*=1-r[u].chance;if(i*=1-g,d+=i,"spirit_breaker_greater_bash"===r[u].name)var l=r[u].damage*e.totalMovementSpeed();else var l=r[u].damage;r[u].count>1?c.push({name:r[u].displayname,chance:r[u].chance,damage:l,count:r[u].count,damageType:r[u].damageType,totalChance:i}):c.push({name:r[u].displayname,chance:r[u].chance,damage:l,count:r[u].count,damageType:r[u].damageType,totalChance:i})}return{sources:c,total:d}}),e.orbProcInfo=ko.pureComputed(function(){function a(e,a){return e.priority>a.priority?1:e.priority<a.priority?-1:e.damage<a.damage?1:e.damage>a.damage?-1:0}var t=(e.heroData().attacktype,e.inventory.getOrbProcSource()),r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}r.sort(a);for(var c=[],d=0,u=0;u<r.length;u++){for(var i=1,m=0;m<u;m++)for(var s=0;s<r[m].count;s++)i*=1-r[m].chance;for(var g=1,s=0;s<r[u].count;s++)g*=1-r[u].chance;i*=1-g,d+=i,r[u].count>1?c.push({name:r[u].displayname+" x"+r[u].count,chance:r[u].chance,damage:r[u].damage,count:r[u].count,damageType:r[u].damageType,totalChance:i}):c.push({name:r[u].displayname,chance:r[u].chance,damage:r[u].damage,count:r[u].count,damageType:r[u].damageType,totalChance:i})}return{sources:c,total:d}}),e.getReducedDamage=function(a,t){var r=a;switch(t){case"physical":r=a*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":r=a*(1-e.enemy().totalMagicResistance()/100);break;case"pure":r=a;break;case"composite":r=a*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),r*=1-e.enemy().totalMagicResistance()/100}return r*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),r*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=ko.pureComputed(function(){var t=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],r=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],o=e.inventory.getBonusDamage().sources,n=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,c=e.critInfo(),d=e.ability().getOrbSource(),u=e.inventory.getOrbSource(),i=e.orbProcInfo(),m=e.bashInfo(),s=[];if(s.push({name:"Base Attack",cooldown:1}),"weaver"===e.heroId()){var g=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name});if(g&&g.level()>0){var l=g.cooldown[g.level()-1];s.push({name:g.displayname,cooldown:1/l})}}var p=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(p&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.heroData().attacktype){var f=a.item_echo_sabre;s.push({name:f.displayname,cooldown:1/f.cooldown})}var y=s.map(function(s){var g=(e.baseDamage()[0]+e.baseDamage()[1])/2,l=0,p=0,f=0,y={damage:0,damageReduced:0,cooldown:6,active:!1},h=({damage:0,damageReduced:0,cooldown:a.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),b=[],v=[];b.push({name:"Base Damage",damage:g,damageType:"physical",damageReduced:e.getReducedDamage(g,"physical"),enabled:ko.observable(!0)}),l+=g,p+=g,h.physical+=g;for(R in o){var k=o[R].damage*o[R].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();b.push({name:o[R].displayname+(o[R].count>1?" x"+o[R].count:""),damage:k,damageType:o[R].damageType,damageReduced:e.getReducedDamage(k,o[R].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[o[R].damageType]+=k}for(R in n){var k=g*n[R].damage;b.push({name:n[R].displayname,damage:k,damageType:n[R].damageType,damageReduced:e.getReducedDamage(k,n[R].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[n[R].damageType]+=k}for(var R=0;R<t.length;R++)for(A in t[R]){var k=t[R][A].damage;b.push({name:t[R][A].displayname,damage:k,damageType:t[R][A].damageType,damageReduced:e.getReducedDamage(k,t[R][A].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[t[R][A].damageType]+=k}for(var R=0;R<r.length;R++)for(A in r[R]){var k=g*r[R][A].damage;b.push({name:r[R][A].displayname,damage:k,damageType:r[R][A].damageType,damageReduced:e.getReducedDamage(k,r[R][A].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[r[R][A].damageType]+=k}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.heroData().attacktype){if("drow_ranger"===e.heroId())var T=e.ability().getBonusDamagePrecisionAura().sources,D=0;else var T=e.buffs.getBonusDamagePrecisionAura().sources,D=1;if(void 0!=T[D]){if("drow_ranger"===e.heroId())var k=T[D].damage*e.totalAgi();else var k=T[D].damage;b.push({name:T[D].displayname,damage:k,damageType:"physical",damageReduced:e.getReducedDamage(k,"physical"),enabled:ko.observable(!0)}),l+=k,p+=k,h.physical+=k}}if("riki"===e.heroId())var T=e.ability().getBonusDamageBackstab().sources,D=0;else var T=e.buffs.getBonusDamageBackstab().sources,D=1;if(void 0!=T[D]){if("riki"===e.heroId())var k=T[D].damage*e.totalAgi();else var k=T[D].damage;b.push({name:T[D].displayname,damage:k,damageType:"physical",damageReduced:e.getReducedDamage(k,"physical"),enabled:ko.observable(!0)}),l+=k,h.physical+=k}for(var R=0;R<m.sources.length;R++){var C=m.sources[R],k=m.sources[R].damage,w=e.attacksPerSecond();C.cooldown&&(w=Math.max(1/C.cooldown,w));for(var A=0;A<m.sources[R].count;A++)b.push({name:m.sources[R].name,damage:k,damageType:m.sources[R].damageType,damageReduced:e.getReducedDamage(k,m.sources[R].damageType),dps:k*w*m.sources[R].chance,dpsReduced:e.getReducedDamage(k,m.sources[R].damageType)*w*m.sources[R].chance,enabled:ko.observable(!0)}),l+=k,h[m.sources[R].damageType]+=k}for(var R=0;R<i.sources.length;R++){var k=i.sources[R].damage*(1-Math.pow(1-i.sources[R].chance,i.sources[R].count));b.push({name:i.sources[R].name,damage:k,damageType:i.sources[R].damageType,damageReduced:e.getReducedDamage(k,i.sources[R].damageType),enabled:ko.observable(!0)}),l+=k,h[i.sources[R].damageType]+=k}for(var P in d){var k=d[P].damage*(1-i.total);b.push({name:d[P].displayname,damage:k,damageType:d[P].damageType,damageReduced:e.getReducedDamage(k,d[P].damageType),enabled:ko.observable(!0)}),l+=k,h[d[P].damageType]+=k}if(0===Object.keys(d).length)for(var P in u){var k=u[P].damage*(1-i.total);b.push({name:u[P].displayname,damage:k,damageType:u[P].damageType,damageReduced:e.getReducedDamage(k,u[P].damageType),enabled:ko.observable(!0)}),l+=k,h[u[P].damageType]+=k}for(var R=0;R<c.sources.length;R++){var k=p*(c.sources[R].multiplier-1);v.push({name:c.sources[R].name+", "+c.sources[R].multiplier+"x, "+(100*c.sources[R].totalChance).toFixed(1)+"%",damage:k,damageType:"physical",damageReduced:e.getReducedDamage(k,"physical"),enabled:ko.observable(!0),chance:c.sources[R].totalChance}),f+=k}var S=e.getReducedDamage(h.pure,"pure")+e.getReducedDamage(h.physical,"physical")+e.getReducedDamage(h.magic,"magic"),B=e.getReducedDamage(f,"physical"),_={base:l*e.attacksPerSecond(),crit:f*e.attacksPerSecond(),geminateAttack:y.active?y.damage/y.cooldown:0,reduced:{base:S*e.attacksPerSecond(),crit:B*e.attacksPerSecond(),geminateAttack:y.active?e.getReducedDamage(y.damage,"physical")/y.cooldown:0}};v.forEach(function(a){a.dps||(a.dps=a.damage*(a.cooldown||e.attacksPerSecond())*a.chance),a.dpsReduced||(a.dpsReduced=a.damageReduced*(a.cooldown||e.attacksPerSecond())*a.chance)}),b.forEach(function(a){a.dps||(a.dps=a.damage*(a.cooldown||e.attacksPerSecond())),a.dpsReduced||(a.dpsReduced=a.damageReduced*(a.cooldown||e.attacksPerSecond()))});var x=v.reduce(function(e,a){return e+a.chance},0),I=ko.computed(function(){var e=v.find(function(e){return e.enabled()});return e?e.damage:0}),M=ko.computed(function(){var e=v.find(function(e){return e.enabled()});return e?e.damageReduced:0}),E=ko.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dps},0)}),O=ko.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dpsReduced},0)}),q=ko.computed(function(){return b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.damage},0)+I()}),G=ko.computed(function(){return b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.damageReduced},0)+M()}),N=ko.computed(function(){return(b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dps},0)+E())*s.cooldown}),H=ko.computed(function(){return(b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dpsReduced},0)+O())*s.cooldown}),K=[I,M,E,O],U=[q,G,N,H];return{name:s.name+" Subtotal",cooldown:s.cooldown,enabled:ko.observable(!0),visible:ko.observable(!0),totalCritChance:x,totalCritRow:K,totalRow:U,sources:b,sourcesCrit:v,total:l,totalCrit:f,totalGeminateAttack:l+y.damage,totalGeminateAttackReduced:S+y.damageReduced,geminateAttack:y,totalCritReduced:B,totalReduced:S,sumTotal:l+f,sumTotalReduced:S+B,dps:{base:_.base,crit:_.base+_.crit,geminateAttack:_.base+_.geminateAttack,total:_.base+_.crit+_.geminateAttack,reduced:{base:_.reduced.base,crit:_.reduced.base+_.reduced.crit,geminateAttack:_.reduced.base+_.reduced.geminateAttack,total:_.reduced.base+_.reduced.crit+_.reduced.geminateAttack}}}}),h=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[0]()},0)}),b=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[1]()},0)}),v=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[2]()},0)}),k=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[3]()},0)});return{attacks:y,totalRow:[h,b,v,k]}}),e.getDamageTypeColor=function(e){return DamageTypeColor[e]||DamageTypeColor.default}};module.exports=HeroDamageMixin;
},{"../herocalc_knockout":22,"../util/extend":37,"./DamageTypeColor":9}],11:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),AbilityModel=require("../AbilityModel"),BuffViewModel=require("../BuffViewModel"),InventoryViewModel=require("../inventory/InventoryViewModel"),diffProperties=require("./diffProperties"),HeroDamageMixin=require("./HeroDamageMixin"),TalentController=require("./TalentController"),totalExp=require("./totalExp"),nextLevelExp=require("./nextLevelExp"),HeroModel=function(e,t,a){var i=this;i.heroId=ko.observable(a),i.selectedHeroLevel=ko.observable(1),i.inventory=new InventoryViewModel(t,i),i.selectedInventory=ko.observable(-1),i.buffs=new BuffViewModel(t),i.buffs.hasScepter=i.inventory.hasScepter,i.debuffs=new BuffViewModel(t),i.heroData=ko.computed(function(){return e["npc_dota_hero_"+i.heroId()]}),i.heroCompare=ko.observable(i),i.enemy=ko.observable(i),i.unit=ko.observable(i),i.clone=ko.observable(i),i.talents=[ko.observable(-1),ko.observable(-1),ko.observable(-1),ko.observable(-1)],i.selectedTalents=ko.computed(function(){for(var e=[],t=0;t<4;t++)i.talents[t]()!==-1&&e.push(i.heroData().talents[t][i.talents[t]()]);return e}),i.skillPointHistory=ko.observableArray(),i.ability=ko.computed(function(){var e=new AbilityModel(ko.observableArray(JSON.parse(JSON.stringify(i.heroData().abilities))),i);switch(i.heroId()){case"earth_spirit":case"ogre_magi":e._abilities[3].level(1);break;case"invoker":for(var t=5;t<16;t++)console.log(e._abilities[t]),e._abilities[t].level(1)}return i.skillPointHistory.removeAll(),e.hasScepter=i.inventory.hasScepter,e}),i.availableSkillPoints=ko.computed(function(){for(var e=i.selectedHeroLevel(),t=0;t<4;t++)i.selectedHeroLevel()<5*t+10&&i.talents[t](-1);e-=i.talents.filter(function(e){return e()!==-1}).length;for(var t=0;t<i.ability().abilities().length;t++)switch(i.ability().abilities()[t].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===i.heroId());else if("meepo"===i.heroId())for(;7*(i.ability().abilities()[t].level()-1)+3>parseInt(i.selectedHeroLevel());)i.ability().levelDownAbility(t,null,null,i);else for(;5*i.ability().abilities()[t].level()+1>parseInt(i.selectedHeroLevel());)i.ability().levelDownAbility(t,null,null,i);break;default:for(;2*i.ability().abilities()[t].level()-1>parseInt(i.selectedHeroLevel());)i.ability().levelDownAbility(t,null,null,i)}for(;i.skillPointHistory().length>e;)i.ability().levelDownAbility(i.skillPointHistory()[i.skillPointHistory().length-1],null,null,i);return e-i.skillPointHistory().length},this),i.primaryAttribute=ko.pureComputed(function(){var e=i.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),i.totalExp=ko.pureComputed(function(){return totalExp[i.selectedHeroLevel()-1]}),i.nextLevelExp=ko.pureComputed(function(){return nextLevelExp[i.selectedHeroLevel()-1]}),i.startingArmor=ko.pureComputed(function(){return(.14*i.heroData().attributebaseagility+i.heroData().armorphysical).toFixed(2)}),i.respawnTime=ko.pureComputed(function(){var e=i.selectedHeroLevel(),t=TalentController.getRespawnReduction(i.selectedTalents());return e>=1&&e<=5?2*(e-1)+8-t:e>=6&&e<=11?2*(e-6)+26-t:e>=12&&e<=17?2*(e-12)+46-t:e>=18&&e<=24?4*(e-18)+66-t:25==e?100-t:void 0}),i.totalAttribute=function(e){return"agi"===e?parseFloat(i.totalAgi()):"int"===e?parseFloat(i.totalInt()):"str"===e?parseFloat(i.totalStr()):0},i.totalAgi=ko.pureComputed(function(){return(i.heroData().attributebaseagility+i.heroData().attributeagilitygain*(i.selectedHeroLevel()-1)+i.inventory.getAttributes("agi")+2*i.ability().getAttributeBonusLevel()+i.ability().getAgility()+TalentController.getAgility(i.selectedTalents())+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.intStolen=ko.observable(0).extend({numeric:0}),i.totalInt=ko.pureComputed(function(){return(i.heroData().attributebaseintelligence+i.heroData().attributeintelligencegain*(i.selectedHeroLevel()-1)+i.inventory.getAttributes("int")+2*i.ability().getAttributeBonusLevel()+i.ability().getIntelligence()+TalentController.getIntelligence(i.selectedTalents())+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()+i.intStolen()).toFixed(2)}),i.totalStr=ko.pureComputed(function(){return(i.heroData().attributebasestrength+i.heroData().attributestrengthgain*(i.selectedHeroLevel()-1)+i.inventory.getAttributes("str")+2*i.ability().getAttributeBonusLevel()+i.ability().getStrength()+TalentController.getStrength(i.selectedTalents())+i.enemy().ability().getStrengthReduction()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.health=ko.pureComputed(function(){return(i.heroData().statushealth+20*Math.floor(i.totalStr())+i.inventory.getHealth()+i.ability().getHealth()+TalentController.getHealth(i.selectedTalents())).toFixed(2)}),i.healthregen=ko.pureComputed(function(){var e=[i.inventory.getHealthRegenAura,i.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(i.heroData().statushealthregen+.03*i.totalStr()+i.inventory.getHealthRegen()+i.ability().getHealthRegen()+TalentController.getHealthRegen(i.selectedTalents())+i.buffs.getHealthRegen()+e.value).toFixed(2)}),i.mana=ko.pureComputed(function(){return(i.heroData().statusmana+12*i.totalInt()+i.inventory.getMana()+TalentController.getMana(i.selectedTalents())+i.ability().getMana()).toFixed(2)}),i.manaregen=ko.pureComputed(function(){return((i.heroData().statusmanaregen+.04*i.totalInt()+i.ability().getManaRegen()+TalentController.getManaRegen(i.selectedTalents()))*(1+i.inventory.getManaRegenPercent())+("crystal_maiden"===i.heroId()?2*i.ability().getManaRegenArcaneAura():i.buffs.getManaRegenArcaneAura())+i.inventory.getManaRegenBloodstone()+i.inventory.getManaRegen()-i.enemy().ability().getManaRegenReduction()).toFixed(2)}),i.totalArmorPhysical=ko.pureComputed(function(){var e=[i.inventory.getArmorAura,i.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var a=t(e.attributes);return a},{value:0,attributes:[]}),t=[i.enemy().inventory.getArmorReduction,i.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(i.enemy().ability().getArmorBaseReduction()*i.debuffs.getArmorBaseReduction()*(i.heroData().armorphysical+.14*i.totalAgi())+i.inventory.getArmor()+i.ability().getArmor()+TalentController.getArmor(i.selectedTalents())+i.enemy().ability().getArmorReduction()+i.buffs.getArmor()+i.buffs.itemBuffs.getArmor()+i.debuffs.getArmorReduction()+e.value+t.value).toFixed(2)}),i.totalArmorPhysicalReduction=ko.pureComputed(function(){var e=i.totalArmorPhysical();return e>=0?(.06*i.totalArmorPhysical()/(1+.06*i.totalArmorPhysical())*100).toFixed(2):-(.06*-i.totalArmorPhysical()/(1+.06*-i.totalArmorPhysical())*100).toFixed(2)}),i.totalMovementSpeed=ko.pureComputed(function(){var e=100,t=i.ability().setMovementSpeed()>0?i.ability().setMovementSpeed():i.buffs.setMovementSpeed();if(t>0)return t;var a=[i.inventory.getMovementSpeedPercent,i.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),n=[i.enemy().inventory.getMovementSpeedPercentReduction,i.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return Math.max(i.enemy().inventory.isSheeped()||i.debuffs.itemBuffs.isSheeped()?140:(i.heroData().movementspeed+i.inventory.getMovementSpeedFlat()+i.ability().getMovementSpeedFlat()+TalentController.getMovementSpeedFlat(i.selectedTalents()))*(1+a.value+n.value+i.ability().getMovementSpeedPercent()+i.enemy().ability().getMovementSpeedPercentReduction()+i.buffs.getMovementSpeedPercent()+i.debuffs.getMovementSpeedPercentReduction()+i.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),i.totalTurnRate=ko.pureComputed(function(){return(i.heroData().movementturnrate*(1+i.enemy().ability().getTurnRateReduction()+i.debuffs.getTurnRateReduction())).toFixed(2)}),i.baseDamage=ko.pureComputed(function(){var e=i.totalAttribute(i.primaryAttribute()),t=i.ability().getBaseDamage(),a=i.heroData().attackdamagemin,n=i.heroData().attackdamagemax;return[Math.floor((a+e+t.total)*i.ability().getSelfBaseDamageReductionPct()*i.enemy().ability().getBaseDamageReductionPct()*i.debuffs.getBaseDamageReductionPct()*i.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier),Math.floor((n+e+t.total)*i.ability().getSelfBaseDamageReductionPct()*i.enemy().ability().getBaseDamageReductionPct()*i.debuffs.getBaseDamageReductionPct()*i.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier)]}),i.baseDamageAvg=ko.pureComputed(function(){return(i.baseDamage()[0]+i.baseDamage()[1])/2}),i.baseDamageMin=ko.pureComputed(function(){return i.baseDamage()[0]}),i.baseDamageMax=ko.pureComputed(function(){return i.baseDamage()[1]}),i.bonusDamage=ko.pureComputed(function(){return(i.inventory.getBonusDamage().total+i.ability().getBonusDamage().total+TalentController.getBonusDamage(i.selectedTalents()).total+i.buffs.getBonusDamage().total+Math.floor((i.baseDamage()[0]+i.baseDamage()[1])/2*(i.buffs.itemBuffs.getBonusDamagePercent(i.inventory.getBonusDamagePercent()).total+i.ability().getBonusDamagePercent().total+i.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==i.heroData().attacktype?"drow_ranger"==i.heroId()?i.ability().getBonusDamagePrecisionAura().total[0]*i.totalAgi():i.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==i.heroId()?i.ability().getBonusDamageBackstab().total[0]*i.totalAgi():0))*i.ability().getSelfBaseDamageReductionPct()*i.enemy().ability().getBaseDamageReductionPct()*i.debuffs.itemBuffs.getBaseDamageReductionPct()}),i.bonusDamageReduction=ko.pureComputed(function(){return Math.abs(i.enemy().ability().getBonusDamageReduction()+i.debuffs.getBonusDamageReduction())}),i.damageAvg=ko.pureComputed(function(){return(i.baseDamage()[0]+i.baseDamage()[1])/2+i.bonusDamage()}),i.damageMin=ko.pureComputed(function(){return i.baseDamage()[0]+i.bonusDamage()}),i.damageMax=ko.pureComputed(function(){return i.baseDamage()[1]+i.bonusDamage()}),i.damage=ko.pureComputed(function(){return[i.baseDamage()[0]+i.bonusDamage(),i.baseDamage()[1]+i.bonusDamage()]}),i.totalMagicResistanceProduct=ko.pureComputed(function(){return(1-i.heroData().magicalresistance/100)*i.inventory.getMagicResist()*i.ability().getMagicResist()*TalentController.getMagicResist(i.selectedTalents())*i.buffs.getMagicResist()*i.inventory.getMagicResistReductionSelf()*i.enemy().inventory.getMagicResistReduction()*i.enemy().ability().getMagicResistReduction()*i.debuffs.getMagicResistReduction()*i.debuffs.itemBuffs.getMagicResistReduction()}),i.totalMagicResistance=ko.pureComputed(function(){return(100*(1-i.totalMagicResistanceProduct())).toFixed(2)}),i.bat=ko.pureComputed(function(){var e=i.ability().getBAT();return e>0?e:i.heroData().attackrate}),i.ias=ko.pureComputed(function(){var e=[i.inventory.getAttackSpeed,i.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),t=[i.enemy().inventory.getAttackSpeedReduction,i.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),a=parseFloat(i.totalAgi())+e.value+t.value+i.ability().getAttackSpeed()+TalentController.getAttackSpeed(i.selectedTalents())+i.enemy().ability().getAttackSpeedReduction()+i.buffs.getAttackSpeed()+i.debuffs.getAttackSpeedReduction()+i.unit().ability().getAttackSpeed();return a<-80?-80:a>500?500:a.toFixed(2)}),i.attackTime=ko.pureComputed(function(){return(i.bat()/(1+i.ias()/100)).toFixed(2)}),i.attacksPerSecond=ko.pureComputed(function(){return((1+i.ias()/100)/i.bat()).toFixed(2)}),i.evasion=ko.pureComputed(function(){if(i.enemy().inventory.isSheeped()||i.debuffs.itemBuffs.isSheeped())return 0;var e=i.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-i.inventory.getEvasion()*i.ability().getEvasion()*i.ability().getEvasionBacktrack()*TalentController.getEvasion(i.selectedTalents())*i.buffs.itemBuffs.getEvasion())).toFixed(2)}),i.ehpPhysical=ko.pureComputed(function(){var e=i.enemy().inventory.isSheeped()||i.debuffs.itemBuffs.isSheeped()?1:i.inventory.getEvasion()*i.ability().getEvasion()*i.buffs.itemBuffs.getEvasion();if(i.totalArmorPhysical()>=0)var t=i.health()*(1+.06*i.totalArmorPhysical());else var t=i.health()*(1-.06*i.totalArmorPhysical())/(1-.12*i.totalArmorPhysical());return t/=1-(1-e*i.ability().getEvasionBacktrack()),t/=1-parseFloat(i.enemy().missChance())/100,t*=i.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,t*=1/i.ability().getDamageReduction(),t*=1/i.buffs.getDamageReduction(),t*=1/i.enemy().ability().getDamageAmplification(),t*=1/i.debuffs.getDamageAmplification(),t.toFixed(2)}),i.ehpMagical=ko.pureComputed(function(){var e=i.health()/i.totalMagicResistanceProduct();return e*=i.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/i.ability().getDamageReduction(),e*=1/i.buffs.getDamageReduction(),e*=1/i.ability().getEvasionBacktrack(),e*=1/i.enemy().ability().getDamageAmplification(),e*=1/i.debuffs.getDamageAmplification(),e.toFixed(2)}),i.bash=ko.pureComputed(function(){var e=i.heroData().attacktype;return(100*(1-i.inventory.getBash(e)*i.ability().getBash())).toFixed(2)}),i.critChance=ko.pureComputed(function(){return(100*(1-i.inventory.getCritChance()*i.ability().getCritChance())).toFixed(2)}),HeroDamageMixin(i,t),i.missChance=ko.pureComputed(function(){var e=[i.enemy().inventory.getMissChance,i.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var a=t(e.excludeList);return a.value*=e.value,a},{value:1,excludeList:[]});return(100*(1-i.enemy().ability().getMissChance()*i.debuffs.getMissChance()*e.value)).toFixed(2)}),i.totalattackrange=ko.pureComputed(function(){var e=i.heroData().attacktype;return i.heroData().attackrange+i.ability().getAttackRange()+TalentController.getAttackRange(i.selectedTalents())+i.inventory.getAttackRange(e).value}),i.visionrangeday=ko.pureComputed(function(){return i.heroData().visiondaytimerange*(1+i.enemy().ability().getVisionRangePctReduction()+i.debuffs.getVisionRangePctReduction())}),i.visionrangenight=ko.pureComputed(function(){return(i.heroData().visionnighttimerange+i.inventory.getVisionRangeNight()+i.ability().getVisionRangeNight())*(1+i.enemy().ability().getVisionRangePctReduction()+i.debuffs.getVisionRangePctReduction())}),i.lifesteal=ko.pureComputed(function(){var e=i.inventory.getLifesteal()+i.ability().getLifesteal()+TalentController.getLifesteal(i.selectedTalents())+i.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==i.heroData().attacktype){var t=[i.inventory.getLifestealAura,i.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});e+=t.value}return e.toFixed(2)}),i.diffProperties=diffProperties,i.diff={};for(var n=0;n<i.diffProperties.length;n++){var o=n;i.diff[i.diffProperties[o]]=i.getDiffFunction(i.diffProperties[o])}};HeroModel.prototype.getDiffFunction=function(e){var t=this;return ko.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})},HeroModel.prototype.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype?1:"invoker_quas"===e.name||"invoker_wex"===e.name||"invoker_exort"===e.name?7:"invoker_invoke"===e.name?1:"earth_spirit_stone_caller"===e.name||"ogre_magi_unrefined_fireblast"===e.name?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype||"keeper_of_the_light_recall"===e.name||"keeper_of_the_light_blinding_light"===e.name||"ember_spirit_activate_fire_remnant"===e.name||"lone_druid_true_form_battle_cry"===e.name?3:"puck_ethereal_jaunt"===e.name||"shadow_demon_shadow_poison_release"===e.name||"templar_assassin_trap"===e.name||"spectre_reality"===e.name?0:"invoker_cold_snap"===e.name||"invoker_ghost_walk"===e.name||"invoker_tornado"===e.name||"invoker_emp"===e.name||"invoker_alacrity"===e.name||"invoker_chaos_meteor"===e.name||"invoker_sun_strike"===e.name||"invoker_forge_spirit"===e.name||"invoker_ice_wall"===e.name||"invoker_deafening_blast"===e.name?0:"techies_minefield_sign"===e.name||"techies_focused_detonate"===e.name?0:4},HeroModel.prototype.toggleTalent=function(e,t){this.talents[e]()===t?this.talents[e](-1):(this.availableSkillPoints()>0||this.talents[e]()==1-t)&&parseInt(this.selectedHeroLevel())>=5*e+10&&this.talents[e](t)},module.exports=HeroModel;
},{"../AbilityModel":2,"../BuffViewModel":3,"../herocalc_knockout":22,"../inventory/InventoryViewModel":27,"./HeroDamageMixin":10,"./TalentController":14,"./diffProperties":17,"./nextLevelExp":19,"./totalExp":20}],12:[function(require,module,exports){
var HeroOption=function(o,e,i){this.heroName=o,this.heroDisplayName=e,this.hero=i};module.exports=HeroOption;
},{}],13:[function(require,module,exports){
"use strict";var HeroModel=require("./HeroModel"),illusionData=require("../illusion/illusionData"),findWhere=require("../util/findWhere"),IllusionModel=function(t,e,i,a,l){var o=this;return HeroModel.call(this,t,e,i),o.illusionAbilityLevel=ko.observable(l),o.parent=a,o.totalAgi=ko.computed(function(){return(o.heroData().attributebaseagility+o.heroData().attributeagilitygain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("agi")+2*o.ability().getAttributeBonusLevel()+o.ability().getAgility()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.intStolen=ko.observable(0).extend({numeric:0}),o.totalInt=ko.computed(function(){return(o.heroData().attributebaseintelligence+o.heroData().attributeintelligencegain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("int")+2*o.ability().getAttributeBonusLevel()+o.ability().getIntelligence()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()+o.intStolen()).toFixed(2)}),o.totalStr=ko.computed(function(){return(o.heroData().attributebasestrength+o.heroData().attributestrengthgain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("str")+2*o.ability().getAttributeBonusLevel()+o.ability().getStrength()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.getAbilityAttributeValue=function(i,a,l,o){if("item_manta"==a)var n=e[a];else var n=findWhere(t["npc_dota_hero_"+i].abilities,{name:a});var r=findWhere(n.attributes,{name:l});return 0==o?parseFloat(r.value[0]):o>r.length?parseFloat(r.value[0]):parseFloat(r.value[o-1])},o.getIncomingDamageMultiplier=function(t,e,i){return"item_manta"==t?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].incoming_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].incoming_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].incoming_damage,o.illusionAbilityLevel())/100},o.getOutgoingDamageMultiplier=function(t,e,i){return"item_manta"==t?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].outgoing_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].outgoing_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].outgoing_damage,o.illusionAbilityLevel())/100},o.baseDamage=ko.computed(function(){return[Math.floor(t["npc_dota_hero_"+o.heroId()].attackdamagemin+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype),Math.floor(t["npc_dota_hero_"+o.heroId()].attackdamagemax+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype)]}),o.damage=ko.computed(function(){return[o.baseDamage()[0],o.baseDamage()[1]]}),o.ehpPhysical=ko.computed(function(){var t=o.health()*(1+.06*o.totalArmorPhysical())/(1-(1-o.inventory.getEvasion()*o.ability().getEvasion()));return t*=o.inventory.activeItems().some(function(t){return"mask_of_madness"==t.item})?1/1.3:1,t*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype),t.toFixed(2)}),o.ehpMagical=ko.computed(function(){var t=o.health()/o.totalMagicResistanceProduct();return t*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype),t.toFixed(2)}),o.totalArmorPhysical=ko.computed(function(){return(o.enemy().ability().getArmorBaseReduction()*o.debuffs.getArmorBaseReduction()*(t["npc_dota_hero_"+o.heroId()].armorphysical+.14*o.totalAgi())+o.ability().getArmor()+o.enemy().ability().getArmorReduction()+o.buffs.getArmor()+o.debuffs.getArmorReduction()).toFixed(2)}),o.ias=ko.computed(function(){var t=parseFloat(o.totalAgi())+o.ability().getAttackSpeed()+o.enemy().ability().getAttackSpeedReduction()+o.buffs.getAttackSpeed()+o.debuffs.getAttackSpeedReduction()+o.unit().ability().getAttackSpeed();return t<-80?-80:t>400?400:t.toFixed(2)}),o};IllusionModel.prototype=Object.create(HeroModel.prototype),IllusionModel.prototype.constructor=IllusionModel,module.exports=IllusionModel;
},{"../illusion/illusionData":24,"../util/findWhere":38,"./HeroModel":11}],14:[function(require,module,exports){
module.exports={getBonusDamage:function(t){for(var e=0,a={},r=0;r<t.length;r++){var n=t[r];n.name.startsWith("special_bonus_attack_damage_")&&(e+=n.attributes[0].value[0],a[n.name]={damage:n.attributes[0].value[0],damageType:"physical",displayname:n.displayname})}return{sources:a,total:e}},getHealth:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_hp_")&&!r.name.startsWith("special_bonus_hp_regen_")&&(e+=r.attributes[0].value[0])}return e},getHealthRegen:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_hp_regen_")&&(e+=r.attributes[0].value[0])}return e},getMana:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_mp_")&&!r.name.startsWith("special_bonus_mp_regen_")&&(e+=r.attributes[0].value[0])}return e},getManaRegen:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_mp_regen_")&&(e+=r.attributes[0].value[0])}return e},getArmor:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_armor_")&&(e+=r.attributes[0].value[0])}return e},getMovementSpeedFlat:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_movement_speed_")&&(e+=r.attributes[0].value[0])}return e},getAttackRange:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_attack_range_")&&(e+=r.attributes[0].value[0])}return e},getAttackSpeed:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_attack_speed_")&&(e+=r.attributes[0].value[0])}return e},getLifesteal:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_lifesteal_")&&(e+=r.attributes[0].value[0])}return e},getEvasion:function(t){for(var e=1,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_evasion_")&&(e*=1-r.attributes[0].value[0]/100)}return e},getMagicResist:function(t){for(var e=1,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_magic_resistance_")&&(e*=1-r.attributes[0].value[0]/100)}return e},getRespawnReduction:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_respawn_reduction_")&&(e+=r.attributes[0].value[0])}return e},getStrength:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_strength_")?e+=r.attributes[0].value[0]:r.name.startsWith("special_bonus_all_stats_")&&(e+=r.attributes[0].value[0])}return e},getAgility:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_agility_")?e+=r.attributes[0].value[0]:r.name.startsWith("special_bonus_all_stats_")&&(e+=r.attributes[0].value[0])}return e},getIntelligence:function(t){for(var e=0,a=0;a<t.length;a++){var r=t[a];r.name.startsWith("special_bonus_intelligence_")?e+=r.attributes[0].value[0]:r.name.startsWith("special_bonus_all_stats_")&&(e+=r.attributes[0].value[0])}return e}};
},{}],15:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),AbilityModel=require("../AbilityModel"),HeroModel=require("./HeroModel"),UnitModel=function(e,t,i,a,o){var n=this;return HeroModel.call(this,e,t,"abaddon"),n.parent=o,n.unitId=ko.observable(a),n.unitLevel=ko.observable(1),n.heroData=ko.computed(function(){return i[n.unitId()]}),n.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==e.abilitytype?10:"necronomicon_archer_mana_burn"==e.name||"necronomicon_archer_aoe"==e.name||"necronomicon_warrior_mana_burn"==e.name||"necronomicon_warrior_last_will"==e.name?3:"necronomicon_warrior_sight"==e.name?1:4},n.availableSkillPoints.dispose(),n.ability=ko.computed(function(){var e=new AbilityModel(ko.observableArray(JSON.parse(JSON.stringify(n.heroData().abilities))),n);switch(e.hasScepter=n.inventory.hasScepter,n.unitId()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":e.abilities()[0].level(1),e.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":e.abilities()[0].level(2),e.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":e.abilities()[0].level(3),e.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":e.abilities()[0].level(3),e.abilities()[1].level(3),e.abilities()[2].level(1)}return e.levelUpAbility=function(t,i,a,o){var n=ko.utils.unwrapObservable(t);switch(e.abilities()[n].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[n].level()<o.getAbilityLevelMax(i)&&e.abilities()[n].level(e.abilities()[n].level()+1)}},e.levelDownAbility=function(t,i,a,o){var n=ko.utils.unwrapObservable(t);switch(e.abilities()[n].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[n].level()>0&&e.abilities()[n].level(e.abilities()[n].level()-1)}},e}),n.primaryAttribute=ko.computed(function(){var e=0;return"DOTA_ATTRIBUTE_AGILITY"==e?"agi":"DOTA_ATTRIBUTE_INTELLECT"==e?"int":"DOTA_ATTRIBUTE_STRENGTH"==e?"str":""}),n.totalAttribute=function(e){return"agi"==e?parseFloat(n.totalAgi()):"int"==e?parseFloat(n.totalInt()):"str"==e?parseFloat(n.totalStr()):0},n.totalAgi=ko.computed(function(){return(i[n.unitId()].attributebaseagility+i[n.unitId()].attributeagilitygain*(n.selectedHeroLevel()-1)+2*n.ability().getAttributeBonusLevel()+n.ability().getAgility()+n.enemy().ability().getAllStatsReduction()+n.debuffs.getAllStatsReduction()).toFixed(2)}),n.totalInt=ko.computed(function(){return(i[n.unitId()].attributebaseintelligence+i[n.unitId()].attributeintelligencegain*(n.selectedHeroLevel()-1)+2*n.ability().getAttributeBonusLevel()+n.ability().getIntelligence()+n.enemy().ability().getAllStatsReduction()+n.debuffs.getAllStatsReduction()).toFixed(2)}),n.totalStr=ko.computed(function(){return(i[n.unitId()].attributebasestrength+i[n.unitId()].attributestrengthgain*(n.selectedHeroLevel()-1)+2*n.ability().getAttributeBonusLevel()+n.ability().getStrength()+n.enemy().ability().getAllStatsReduction()+n.debuffs.getAllStatsReduction()).toFixed(2)}),n.baseDamage=ko.computed(function(){return[Math.floor(i[n.unitId()].attackdamagemin+n.totalAttribute(n.primaryAttribute())+n.ability().getBaseDamage().total),Math.floor(i[n.unitId()].attackdamagemax+n.totalAttribute(n.primaryAttribute())+n.ability().getBaseDamage().total)]}),n.totalMagicResistanceProduct=ko.computed(function(){return(1-i[n.unitId()].magicalresistance/100)*(1-n.inventory.getMagicResist()/100)*(1-n.ability().getMagicResist()/100)*(1-n.buffs.getMagicResist()/100)*n.enemy().inventory.getMagicResistReduction()*n.enemy().ability().getMagicResistReduction()*n.debuffs.getMagicResistReduction()}),n.totalMagicResistance=ko.computed(function(){return 1-n.totalMagicResistanceProduct()}),n.bat=ko.computed(function(){var e=n.ability().getBAT();return e>0?e:i[n.unitId()].attackrate}),n.attackTime=ko.computed(function(){return(n.bat()/(1+n.ias()/100)).toFixed(2)}),n.attacksPerSecond=ko.computed(function(){return(1+n.ias()/100)/n.bat()}),n.evasion=ko.computed(function(){var e=n.ability().setEvasion();return e?(100*e).toFixed(2)+"%":(100*(1-n.inventory.getEvasion()*n.ability().getEvasion())).toFixed(2)+"%"}),n.ehpPhysical=ko.computed(function(){return(n.health()*(1+.06*n.totalArmorPhysical())/(1-(1-n.inventory.getEvasion()*n.ability().getEvasion()))).toFixed(2)}),n.ehpMagical=ko.computed(function(){return(n.health()/n.totalMagicResistanceProduct()).toFixed(2)}),n.heroId(a),n.unitId.subscribe(function(e){n.heroId(e)}),n};UnitModel.prototype=Object.create(HeroModel.prototype),UnitModel.prototype.constructor=UnitModel,module.exports=UnitModel;
},{"../AbilityModel":2,"../herocalc_knockout":22,"./HeroModel":11}],16:[function(require,module,exports){
var UnitOption=function(t,i,e,o,n){this.heroName=ko.computed(function(){return e>0?t+(n()<=e?n():1):t}),this.heroDisplayName=i,this.image=o,this.levels=e};module.exports=UnitOption;
},{}],17:[function(require,module,exports){
var diffProperties=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"];module.exports=diffProperties;
},{}],18:[function(require,module,exports){
var HeroOption=require("./HeroOption"),heroOptionsArray={},init=function(r){heroOptionsArray.items=[];for(var o in r)heroOptionsArray.items.push(new HeroOption(o.replace("npc_dota_hero_",""),r[o].displayname));return heroOptionsArray.items};heroOptionsArray.init=init,module.exports=heroOptionsArray;
},{"./HeroOption":12}],19:[function(require,module,exports){
var nextLevelExp=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"];module.exports=nextLevelExp;
},{}],20:[function(require,module,exports){
var totalExp=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400];module.exports=totalExp;
},{}],21:[function(require,module,exports){
var abilityData={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(t,e,r,a,n,o){return e}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")+t*e}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return r.inventory.hasScepter()?t[0]*n.getAbilityAttributeValue(o.attributes,"fiend_grip_damage_scepter",o.level()):t[0]*e}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(t,e,r,a,n,o){return r.inventory.hasScepter()?t[0]*t[1]*n.getAbilityAttributeValue(o.attributes,"fiend_grip_mana_drain_scepter",o.level())/100:t[0]*t[1]*e/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")+t*e/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-(n.getAbilityAttributeValue(o.attributes,"base_move_slow",0)+t*e)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"quill_base_damage",o.level())+t*e,i=n.getAbilityAttributeValue(o.attributes,"max_damage",0);return l>i&&(l=i),l}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var o=n.abilities().find(function(t){return"bristleback_bristleback"==t.name});if("back"==t)var l=n.getAbilityAttributeValue(o.attributes,"back_damage_reduction",o.level());else var l=n.getAbilityAttributeValue(o.attributes,"side_damage_reduction",o.level());return-l},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t<1?0:n.getAbilityAttributeValue(o.attributes,"base_damage",o.level())+(t-1)*e}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t<1?0:n.getAbilityAttributeValue(o.attributes,"base_move_speed",o.level())+(t-1)*e},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"return_damage",o.level())+t*e/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){var l=.25*(130+40*o.level())*.05,i=4*t*(4*t+1)/2;return l*i}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return r.inventory.hasScepter()?t*n.getAbilityAttributeValue(o.attributes,"damage_scepter",o.level()):t*e}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?-e:0},returnProperty:"movementSpeedPctReduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*n.getAbilityAttributeValue(o.attributes,"damage_heroes",o.level())+t[1]*e},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*n.getAbilityAttributeValue(o.attributes,"move_pct_heroes",o.level())+t[1]*e},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"wisp_count",o.level())*t*e}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){return t?2*e:e},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e}},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],huskar_berserkers_blood:[{label:"%HP",controlType:"input"},{attributeName:"hp_threshold_max",label:"Health at given %HP:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return r.health()*t/100}},{attributeName:"hp_threshold_max",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e}},{attributeName:"maximum_resistance",label:"MAGIC RESISTANCE BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var t=Math.min(t,100);t=Math.max(t,10);var l=n.getAbilityAttributeValue(o.attributes,"hp_threshold_max",0),i=100-l,u=(t-l)/i;return u=1-u,u*e},returnProperty:"magicResist"},{attributeName:"maximum_attack_speed",label:"ATTACK SPEED BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var t=Math.min(t,100);t=Math.max(t,10);var l=n.getAbilityAttributeValue(o.attributes,"hp_threshold_max",0),i=100-l,u=(t-l)/i;return u=1-u,u*e},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"enemy_slow",t)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"self_slow",t)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"bonus_attack_speed",t)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"bonus_damage",t)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"slow",t)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(t,e,r,a,n,o){return 0==t[0]?0:n.getAbilityAttributeValue(o.attributes,"damage_per_second",t[0])*t[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return 2*n.getAbilityPropertyValue(o,"damage")+n.getAbilityAttributeValue(o.attributes,"burn_damage",o.level())*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"omni_slash_damage",1)*t}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"omni_slash_damage",2)*t}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]/100*t[1]*e/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"slow_steps",t+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){for(var l=[],i=1;i<6;i++)l.push((t*Math.pow(e/100,i)).toFixed(2));return l.join("<br>")}}],luna_eclipse:[{label:"Beam Count",controlType:"input"},{attributeName:"beams",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.abilities().find(function(t){return"luna_lucent_beam"==t.name});if(0==l.level())return 0;var i=n.getAbilityPropertyValue(l,"damage");return t*i}}],medusa_mystic_snake:[{label:"Jump Count",controlType:"input"},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"method",display:"none",fn:function(t,e,r,a,n,o){for(var l=n.getAbilityAttributeValue(o.attributes,"snake_jumps",o.level()),i=n.getAbilityAttributeValue(o.attributes,"snake_scale",0),u=[],p=0;p<l;p++)u.push(e+e*p*i/100);return u}},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[1].join(" / ")}},{attributeName:"snake_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[1].slice(0,t[0]).reduce(function(t,e){return t+e},0)}},{attributeName:"snake_damage",label:"Max Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[1].reduce(function(t,e){return t+e},0)}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return(t/e).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"slow",o.level())*t},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Arrow Travel Distance",controlType:"input"},{attributeName:"arrow_max_stun",label:"STUN DURATION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"arrow_min_stun",0),i=n.getAbilityAttributeValue(o.attributes,"arrow_max_stunrange",0),u=Math.min(t,i)/i;return Math.max(l,.1*Math.floor(e*u/.1))}},{attributeName:"arrow_bonus_damage",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var o=o,l=o.damage()[o.level()-1],i=n.getAbilityAttributeValue(o.attributes,"arrow_max_stunrange",0),u=Math.min(t,i)/i,p=2.8*Math.floor(e*u/2.8);return l+" + "+p+" = "+(l+p)}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e*n.getAbilityAttributeValue(o.attributes,"morph_cooldown",o.level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e*n.getAbilityAttributeValue(o.attributes,"morph_cooldown",o.level())}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"aura_damage",label:"HEALTH LOST:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}}],necrolyte_sadist:[{label:"Unit Kills",controlType:"input"},{label:"Hero Kills",controlType:"input"},{attributeName:"health_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"hero_multiplier",0);return(t[0]+t[1]*l)*e},returnProperty:"healthregen"},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"hero_multiplier",0);return(t[0]+t[1]*l)*e},returnProperty:"manaregen"}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"miss_rate_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t?n.getAbilityAttributeValue(o.attributes,"miss_rate_night",o.level()):n.getAbilityAttributeValue(o.attributes,"miss_rate_day",o.level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"strike_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"duration_damage",o.level()),i=Math.floor(t/3);return e+l*i}}],razor_plasma_field:[{label:"Distance",controlType:"input"},{attributeName:"radius",label:"MIN DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return 200}},{attributeName:"radius",label:"MAX DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return 200+e}},{attributeName:"radius",label:"Instance Damage",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=e+200,i=(Math.min(Math.max(t,200),l)-200)/(l-200),u=n.getAbilityAttributeValue(o.attributes,"damage_min",o.level()),p=n.getAbilityAttributeValue(o.attributes,"damage_max",o.level());return u+(p-u)*i}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"drain_length",label:"Damage Drained:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=Math.floor(4*t)+1,i=Math.min(4*e+1,l),u=n.getAbilityAttributeValue(o.attributes,"drain_rate",o.level());return i*u/4},returnProperty:"bonusDamage"},{attributeName:"drain_length",label:"Enemy Damage Lost:",ignoreTooltip:!0,controlType:"text",display:"hidden",fn:function(t,e,r,a,n,o){var l=Math.floor(4*t)+1,i=Math.min(4*e+1,l),u=n.getAbilityAttributeValue(o.attributes,"drain_rate",o.level());return i*u/4},returnProperty:"bonusDamageReduction"}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e*(1-t*n.getAbilityAttributeValue(o.attributes,"jump_damage_reduction_pct",o.level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",
fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=[1,2,4,8];return t>4?e*l[3]+50*(t-4):t<=0?0:e*l[t-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Line Hit Count",controlType:"input"},{attributeName:"requiem_reduction_damage",label:"Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{label:"Return Line Hit Count (Scepter)",controlType:"input"},{attributeName:"requiem_damage_pct_scepter",label:"Damage/Heal:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t*e/100}},{attributeName:"requiem_damage_pct_scepter",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return l*t[0]+l*t[1]*e/100}},{attributeName:"requiem_reduction_damage",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"baseDamageReductionPct"},{attributeName:"requiem_reduction_ms",label:"%DAMAGE REDUCTION:",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return Math.floor(t)*e}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*r.health()*e/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return r.health()*e/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}}],storm_spirit_ball_lightning:[{label:"MAX MANA",controlType:"input"},{label:"Distance",controlType:"input"},{attributeName:"ball_lightning_initial_mana_base",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")/100*t[1]}},{attributeName:"ball_lightning_initial_mana_base",label:"FLAT MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(t,e,r,a,n,o){var l=Math.floor(t[1]/100),i=n.getAbilityAttributeValue(o.attributes,"ball_lightning_travel_cost_base",0);return e+l*i}},{attributeName:"ball_lightning_initial_mana_percentage",label:"%MAX MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(t,e,r,a,n,o){var l=Math.floor(t[1]/100),i=n.getAbilityAttributeValue(o.attributes,"ball_lightning_travel_cost_percent",0);return e+l*i}},{attributeName:"ball_lightning_initial_mana_base",label:"TOTAL MANA COST:",ignoreTooltip:!0,controlType:"text",controls:[0,1,2,3],fn:function(t,e,r,a,n,o){return t[2]+" + "+t[3]/100*t[0]+" ("+t[3]+"% of max) = "+(t[2]+t[3]/100*t[0])}}],templar_assassin_psionic_trap:[{label:"Charge Time",controlType:"input"},{attributeName:"movement_speed_min_tooltip",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"movement_speed_max_tooltip",0),i=(l-e)/40;return-(e+i*Math.min(Math.max(0,t),4)*10)},returnProperty:"movementSpeedPctReduction"}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"damage_interval",0),i=Math.floor(t/l);return e*l*i}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"damage_interval",0),i=Math.floor(t/l);return e*l*i}},{label:"ENEMY %HP",controlType:"input"},{attributeName:"slow",label:"MANA COST:",controlType:"text",fn:function(t,e,r,a,n,o){var l=20-Math.floor(Math.min(Math.max(t-1,0),99)/5);return-e*l},returnProperty:"movementSpeedPctReduction"}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalArmorPhysicalReduction(),i=r.enemy().totalMagicResistance();return(t*e*(1-l/100)*(1-i/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalArmorPhysicalReduction(),i=r.enemy().totalMagicResistance();return(e*(1-l/100)*(1-i/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalArmorPhysicalReduction(),i=r.enemy().totalMagicResistance();return(e*(1-l/100)*(1-i/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return(r.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalMagicResistance();return(t*e*(1-l/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Robot Explosions",controlType:"input"},{attributeName:"machines_per_sec",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){if(r.inventory.hasScepter()){var l=n.getAbilityAttributeValue(o.attributes,"str_steal_scepter",0);return t*l}return t*e},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"max_speed_slow",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"min_speed_slow",0),i=n.getAbilityAttributeValue(o.attributes,"radius",0),u=n.getAbilityAttributeValue(o.attributes,"full_power_radius",0),p=Math.min(Math.max(t,u),i),c=1-(p-u)/(i-u);return-Math.max(c*e,l)},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"min_damage_amp",0),i=n.getAbilityAttributeValue(o.attributes,"radius",0),u=n.getAbilityAttributeValue(o.attributes,"full_power_radius",0),p=Math.min(Math.max(t,u),i),c=1-(p-u)/(i-u);return Math.max(c*e,l)},returnProperty:"damageAmplification"},{label:"MAX HP",controlType:"input"},{label:"Hero Death Count",controlType:"input"},{label:"Creep Death Count",controlType:"input"},{attributeName:"death_heal",label:"DEATH HEAL (HEROES):",ignoreTooltip:!0,controlType:"method",controls:[1,2],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}},{attributeName:"death_heal_creep",label:"DEATH HEAL (CREEPS):",ignoreTooltip:!0,controlType:"method",controls:[1,3],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}},{attributeName:"death_heal_creep",label:"TOTAL DEATH HEAL:",ignoreTooltip:!0,controlType:"text",controls:[4,5],fn:function(t,e,r,a,n,o){return t[0]+t[1]}}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.abilities().find(function(t){return"ursa_enrage"==t.name});if(l.isActive()&&l.level()>0){var i=n.getAbilityAttributeValue(l.attributes,"enrage_multiplier",l.level());return t*e*i}return t*e},returnProperty:"bonusDamage"}],ursa_enrage:[{attributeName:"damage_reduction",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"damageReduction"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"strike_damage",o.level())+Math.floor(t/3)*e}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Charges",controlType:"input"},{attributeName:"soul_charge_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"soul_base_damage",0),i=n.getAbilityAttributeValue(o.attributes,"stack_limit",o.level());return i=Math.max(Math.min(t,i),0),l+i*e}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],warlock_upheaval:[{label:"Channel Duration",controlType:"input"},{attributeName:"slow_rate_duration",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"max_slow",0),i=l/(e-.5)/2,u=Math.max(Math.floor(2*t)-1,0);return-Math.min(u*i,l)},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"heal_additive",o.level());return(l+t[1]*e/100)*t[0]}}],wisp_spirits:[{label:"Collision Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"creep_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Hero Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"bounces",o.level());return Math.min(Math.max(t,0),l)*e}},{label:"Creep Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"CREEP DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"bounces",o.level()),i=n.getAbilityPropertyValue(o,"damage");return Math.min(Math.max(t,0),l)*i}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"heal_interval",o.level()),i=e*l,u=Math.max(Math.floor(t/l)-1,0);return i*u}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"heal_interval",o.level()),i=e*l,u=Math.max(Math.floor(t/l)-1,0);return i*u}}],witch_doctor_maledict:[{label:"damage 0-4s",controlType:"input"},{label:"damage 4-8s",controlType:"input"},{label:"damage 8-12s",controlType:"input"},{attributeName:"bonus_damage",label:"Dot Damage after 3s:",ignoreTooltip:!0,controlType:"method",fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return 3*l}},{attributeName:"bonus_damage",label:"Burst Damage at 4s:",ignoreTooltip:!0,controlType:"method",controls:[0,3],fn:function(t,e,r,a,n,o){var l=(n.getAbilityPropertyValue(o,"damage"),t.reduce(function(t,e){return t+e},0));return Math.max(l,0)*e/100}},{attributeName:"bonus_damage",label:"Dot Damage after 7s:",ignoreTooltip:!0,controlType:"method",fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return 7*l}},{attributeName:"bonus_damage",label:"Burst Damage at 8s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,4,5],fn:function(t,e,r,a,n,o){var l=(n.getAbilityPropertyValue(o,"damage"),t.reduce(function(t,e){return t+e},0));return Math.max(l,0)*e/100}},{attributeName:"bonus_damage",label:"Dot Damage after 11s:",ignoreTooltip:!0,controlType:"method",fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return 11*l}},{attributeName:"bonus_damage",label:"Burst Damage at 12s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,2,4,6,7],fn:function(t,e,r,a,n,o){var l=(n.getAbilityPropertyValue(o,"damage"),t.reduce(function(t,e){return t+e},0));return Math.max(l,0)*e/100}},{attributeName:"bonus_damage",label:"Total Burst Damage:",ignoreTooltip:!0,controlType:"method",controls:[4,6,8],fn:function(t,e,r,a,n,o){return t.reduce(function(t,e){return t+e},0)}},{attributeName:"bonus_damage",label:"Total Maledict Damage:",ignoreTooltip:!0,controlType:"method",controls:[9],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"duration_tooltip",0),i=n.getAbilityPropertyValue(o,"damage");return i*l+t[0]}},{label:"Duration",controlType:"input"},{attributeName:"bonus_damage",label:"DOT Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"duration_tooltip",0);return n.getAbilityPropertyValue(o,"damage")*Math.min(Math.max(t,0),l)}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}}]};module.exports=abilityData;
},{}],22:[function(require,module,exports){
(function (global){
"use strict";var ko="undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null;ko.mapping=require("../lib/knockout.mapping"),ko.wrap=require("../lib/knockout.wrap"),ko.extenders.numeric=function(e,o){var n=ko.pureComputed({read:e,write:function(n){var r=e(),i=Math.pow(10,(o===Object(o)?o.precision:o)||0),t=isNaN(n)?o.defaultValue||0:+n,u=Math.round(t*i)/i;u!==r?e(u):n!==r&&e.notifySubscribers(u)}}).extend({notify:"always"});return n(e()),n},module.exports=ko;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../lib/knockout.mapping":46,"../lib/knockout.wrap":47}],23:[function(require,module,exports){
var IllusionOption=function(i,l,o){this.illusionName=i,this.illusionDisplayName=l,this.baseHero=o};module.exports=IllusionOption;
},{}],24:[function(require,module,exports){
var illusionData={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}};module.exports=illusionData;
},{}],25:[function(require,module,exports){
var IllusionOption=require("./IllusionOption"),illusionData=require("./illusionData"),illusionOptionsArray=[];for(var h in illusionData)illusionOptionsArray.push(new IllusionOption(h,illusionData[h].displayName,illusionData[h].hero));module.exports=illusionOptionsArray;
},{"./IllusionOption":23,"./illusionData":24}],26:[function(require,module,exports){
var stackableItems=require("./stackableItems"),levelItems=require("./levelItems"),itemsWithActive=require("./itemsWithActive"),BasicInventoryViewModel=function(e){var t=this;t.items=ko.observableArray([]),t.activeItems=ko.observableArray([]),t.addItem=function(e,t){if(void 0!=e.selectedItem()){var i={item:e.selectedItem().split("|")[0],state:ko.observable(0),size:e.itemInputValue(),enabled:ko.observable(!0)};switch(i.item){case"dagon":i.size=Math.min(i.size,5);break;case"travel_boots":case"diffusal_blade":i.size=Math.min(i.size,2);break;case"necronomicon":i.size=Math.min(i.size,3)}this.items.push(i),"ring_of_aquila"!==e.selectedItem()&&"ring_of_basilius"!==e.selectedItem()&&"heart"!==e.selectedItem()||this.toggleItem(void 0,i,void 0)}}.bind(this),t.toggleItem=function(e,t,i){if(itemsWithActive.indexOf(t.item)>=0)switch(this.activeItems.indexOf(t)<0?this.activeItems.push(t):this.activeItems.remove(t),t.item){case"power_treads":t.state()<2?t.state(t.state()+1):t.state(0);break;default:0==t.state()?t.state(1):t.state(0)}}.bind(this),t.removeItem=function(e){this.activeItems.remove(e),this.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.removeAll=function(){this.activeItems.removeAll(),this.items.removeAll()}.bind(this)};BasicInventoryViewModel.prototype.getItemImage=function(e){var t=ko.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},BasicInventoryViewModel.prototype.getItemSizeLabel=function(e){return stackableItems.indexOf(e.item)!=-1?'<span style="font-size:10px">Qty: </span>'+e.size:levelItems.indexOf(e.item)!=-1?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},BasicInventoryViewModel.prototype.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return ko.utils.unwrapObservable(e.state)}},BasicInventoryViewModel.prototype.getItemAttributeValue=function(e,t,i){for(var s=0;s<e.length;s++)if(e[s].name==t)return 0==i?parseFloat(e[s].value[0]):i>e[s].value.length?parseFloat(e[s].value[0]):parseFloat(e[s].value[i-1])},module.exports=BasicInventoryViewModel;
},{"./itemsWithActive":32,"./levelItems":33,"./stackableItems":34}],27:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),stackableItems=require("./stackableItems"),levelItems=require("./levelItems"),BasicInventoryViewModel=require("./BasicInventoryViewModel"),itemOptionsArray=require("./itemOptionsArray"),itemBuffOptions=require("./itemBuffOptions"),itemDebuffOptions=require("./itemDebuffOptions"),InventoryViewModel=function(e,t){var a=this;return BasicInventoryViewModel.call(this,t),a.hero=t,a.hasInventory=ko.observable(!0),a.items=ko.observableArray([]),a.activeItems=ko.observableArray([]),a.hasScepter=ko.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item;if("ultimate_scepter"===t&&a.items()[e].enabled())return!0}return!1},this),a.isEthereal=ko.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item,s=a.activeItems.indexOf(a.items()[e])>=0;if(("ghost"===t||"ethereal_blade"===t)&&a.items()[e].enabled()&&s)return!0}return!1},this),a.isSheeped=ko.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item,s=a.activeItems.indexOf(a.items()[e])>=0;if("sheepstick"===t&&a.items()[e].enabled()&&s)return!0}return!1},this),a.totalCost=ko.computed(function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())if(stackableItems.indexOf(i)!=-1)t+=e["item_"+i].itemcost*a.items()[s].size;else if(levelItems.indexOf(i)!=-1)switch(i){case"diffusal_blade":t+=e["item_"+i].itemcost+700*(a.items()[s].size-1);break;case"necronomicon":case"dagon":t+=e["item_"+i].itemcost+1250*(a.items()[s].size-1);break;default:t+=e["item_"+i].itemcost}else t+=e["item_"+i].itemcost}return t},this),a.addItemBuff=function(e,t){if(a.hasInventory()&&void 0!=a.selectedItemBuff()){var s={item:a.selectedItemBuff(),state:ko.observable(0),size:1,enabled:ko.observable(!0)};a.items.push(s),"ring_of_aquila"!==a.selectedItemBuff()&&"ring_of_basilius"!==a.selectedItemBuff()||a.toggleItem(void 0,s,void 0)}},a.addItemDebuff=function(e,t){if(a.hasInventory()&&void 0!=a.selectedItemDebuff()){var s={item:a.selectedItemDebuff().split("|")[0],state:ko.observable(0),size:1,enabled:ko.observable(!0)};2==a.selectedItemDebuff().split("|").length&&(s.debuff=a.selectedItemDebuff().split("|")[1]),a.items.push(s),"ring_of_aquila"!==a.selectedItemDebuff()&&"ring_of_basilius"!==a.selectedItemDebuff()||a.toggleItem(void 0,s,void 0)}},a.getAttributes=function(t){for(var s=0,i=0;i<a.items().length;i++){var r=a.items()[i].item,n=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var m=a.items()[i].size,u=0;u<e["item_"+r].attributes.length;u++){var o=e["item_"+r].attributes[u];switch(o.name){case"bonus_all_stats":s+=parseInt(o.value[0]);break;case"bonus_stats":s+=parseInt(o.value[0])}switch(t){case"agi":"bonus_agility"==o.name&&(s+="diffusal_blade"==r?parseInt(o.value[m-1]):parseInt(o.value[0])),"bonus_stat"==o.name&&2==a.items()[i].state()&&(s+=parseInt(o.value[0])),"bonus_agi"==o.name&&(s+=parseInt(o.value[0]));break;case"int":"bonus_intellect"==o.name&&(s+="necronomicon"==r?parseInt(o.value[m-1]):"diffusal_blade"==r?parseInt(o.value[m-1]):"dagon"==r?parseInt(o.value[m-1]):parseInt(o.value[0])),"bonus_intelligence"==o.name&&(s+=parseInt(o.value[0])),"bonus_int"==o.name&&(s+=parseInt(o.value[0])),"bonus_stat"==o.name&&1==a.items()[i].state()&&(s+=parseInt(o.value[0]));break;case"str":"bonus_strength"==o.name&&(s+="necronomicon"==r?parseInt(o.value[m-1]):parseInt(o.value[0])),"bonus_stat"==o.name&&0==a.items()[i].state()&&(s+=parseInt(o.value[0])),"bonus_str"==o.name&&(s+=parseInt(o.value[0])),"unholy_bonus_strength"==o.name&&n&&(s+=parseInt(o.value[0]))}}}return s},a.getBash=function(t){for(var s=1,i=0;i<a.items().length;i++){var r=a.items()[i].item;if(a.items()[i].enabled())for(var n=0;n<e["item_"+r].attributes.length;n++){var m=e["item_"+r].attributes[n];switch(m.name){case"bash_chance":s*=1-parseInt(m.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==t&&(s*=1-parseInt(m.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&(s*=1-parseInt(m.value[0])/100)}}}return s},a.getCritChance=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"crit_chance":t*=1-parseInt(n.value[0])/100}}}return t},a.getCritSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled()){switch(i){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==t[i]?t[i]={chance:a.getItemAttributeValue(e["item_"+i].attributes,"crit_chance",0)/100,multiplier:a.getItemAttributeValue(e["item_"+i].attributes,"crit_multiplier",0)/100,count:1,displayname:e["item_"+i].displayname}:t[i].count+=1}"bloodthorn"===i&&r&&(void 0==t.soul_rend?t.soul_rend={chance:1,multiplier:a.getItemAttributeValue(e["item_"+i].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:t.soul_rend.count+=1)}}return t},a.getCleaveSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())switch(i){case"bfury":void 0==t[i]?t[i]={radius:a.getItemAttributeValue(e["item_"+i].attributes,"cleave_radius",0),magnitude:a.getItemAttributeValue(e["item_"+i].attributes,"cleave_damage_percent",0)/100,count:1,displayname:e["item_"+i].displayname}:t[i].count+=1}}return t},a.getBashSource=function(t){for(var s={},i=0;i<a.items().length;i++){var r=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())switch(r){case"javelin":void 0==s[r]?s[r]={damage:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance",1)/100,displayname:e["item_"+r].displayname+" Pierce"}:s[r].count+=1;break;case"monkey_king_bar":void 0==s[r]?s[r]={item:r,chance:a.getItemAttributeValue(e["item_"+r].attributes,"bash_chance",0)/100,damage:a.getItemAttributeValue(e["item_"+r].attributes,"bash_damage",0),duration:a.getItemAttributeValue(e["item_"+r].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:s[r].count+=1;break;case"abyssal_blade":case"basher":s.hasOwnProperty("bash")||(s.bash={item:r,chance:a.getItemAttributeValue(e["item_"+r].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==t?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance_damage",0),duration:a.getItemAttributeValue(e["item_"+r].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return s},a.getOrbProcSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())switch(i){case"maelstrom":case"mjollnir":void 0==t[i]?t[i]={chance:a.getItemAttributeValue(e["item_"+i].attributes,"chain_chance",0)/100,damage:a.getItemAttributeValue(e["item_"+i].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:e["item_"+i].displayname}:t[i].count+=1}}return t},a.getOrbSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())switch(i){case"diffusal_blade":void 0==t[i]?t[i]={chance:1,damage:a.getItemAttributeValue(e["item_"+i].attributes,"feedback_mana_burn",a.items()[s].size),count:1,damageType:"physical",displayname:e["item_"+i].displayname}:t[i].count+=1}}return t},a.getHealth=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_health":t+=parseInt(n.value[0])}}}return t},a.getHealthRegen=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"health_regen":case"bonus_regen":t+=parseInt(m.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=i||r?"tranquil_boots"!=i&&(t+=parseInt(m.value[0])):t+=parseInt(m.value[0]);break;case"hp_regen":t+=parseInt(m.value[0]);break;case"health_regen_rate":"heart"==i&&r&&(t+=parseInt(m.value[0])/100*a.hero.health())}}}return t},a.getHealthRegenAura=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];if(!(i.indexOf(n+u.name)>-1))switch(u.name){case"aura_health_regen":s+=parseInt(u.value[0]),i.push(n+u.name)}}}return{value:s,excludeList:i}},a.getMana=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_mana":t+=parseInt(n.value[0])}}}return t},a.getManaRegen=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"aura_mana_regen":case"mana_regen_aura":t+=parseFloat(n.value[0]);break;case"mana_regen":"infused_raindrop"==i&&(t+=parseFloat(n.value[0]))}}}return t},a.getManaRegenPercent=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=i&&(t+=parseFloat(n.value[0]))}}}return t/100},a.getManaRegenBloodstone=function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item;if(a.items()[e].enabled()&&t.indexOf("bloodstone")!=-1)return parseInt(a.items()[e].size)}return 0},a.getArmor=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"bonus_armor":(!r||"medallion_of_courage"!=i&&"solar_crest"!=i)&&(t+=parseInt(m.value[0]));break;case"unholy_bonus_armor":r&&"armlet"==i&&(t+=parseInt(m.value[0]))}}}return t},a.getArmorAura=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!i.find(function(e){return o.name==e.name}))switch(o.name){case"bonus_aoe_armor":m&&i.push({name:o.name,value:parseInt(o.value[0])});break;case"aura_positive_armor":i.push({name:o.name,value:parseInt(o.value[0])});break;case"aura_bonus_armor":m&&i.push({name:o.name,value:parseInt(o.value[0])});break;case"armor_aura":i.push({name:o.name,value:parseInt(o.value[0])});break;case"heal_bonus_armor":m&&i.push({name:o.name,value:parseInt(o.value[0])})}}}return i.find(function(e){return"heal_bonus_armor"==e.name})&&(i=i.filter(function(e){return"bonus_aoe_armor"!==e.name})),i.find(function(e){return"armor_aura"==e.name})&&(i=i.filter(function(e){return"aura_bonus_armor"!==e.name})),s=i.reduce(function(e,t){return e+=t.value},0),{value:s,attributes:i}},a.getArmorReduction=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!(i.indexOf(o.name)>-1||i.indexOf(n+"_"+o.name)>-1))switch(o.name){case"armor_reduction":(m||"medallion_of_courage"!=n&&"solar_crest"!=n)&&(s+=parseInt(o.value[0]),i.push(n+"_"+o.name));break;case"aura_negative_armor":s+=parseInt(o.value[0]),i.push(o.name);break;case"corruption_armor":s+=parseInt(o.value[0]),i.push(o.name)}}}return{value:s,excludeList:i}},a.getEvasion=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"bonus_evasion":(!r||"butterfly"!=i&&"solar_crest"!=i)&&(t*=1-parseInt(m.value[0])/100)}}}return t},a.getMovementSpeedFlat=function(){for(var t=0,s=!1,i=!1,r=!1,n=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],m=0;m<a.items().length;m++){var u=a.items()[m].item,o=a.activeItems.indexOf(a.items()[m])>=0;if(a.items()[m].enabled())for(var l=0;l<e["item_"+u].attributes.length;l++){var c=e["item_"+u].attributes[l];switch(c.name){case"bonus_movement_speed":!s&&n.indexOf(u)>=0?("tranquil_boots"!=u||"tranquil_boots"==u&&!o)&&(t+=parseInt(c.value[0]),s=!0):"cyclone"==u&&(t+=parseInt(c.value[0]),i=!0);break;case"broken_movement_speed":!s&&n.indexOf(u)>=0&&"tranquil_boots"==u&&o&&(t+=parseInt(c.value[0]),s=!0);break;case"bonus_movement":!s&&n.indexOf(u)>=0&&(t+=parseInt(c.value[0]),s=!0);break;case"movement_speed":r||"wind_lace"!=u||(t+=parseInt(c.value[0]),r=!0)}}}return t},a.getMovementSpeedPercent=function(t){for(var s=0,i=t||[],r=!1,n=!1,m=!1,u=!1,o=!1,l=!1,c=!1,v=["manta","yasha","sange_and_yasha"],_=0;_<a.items().length;_++){var b=a.items()[_].item,f=a.activeItems.indexOf(a.items()[_])>=0;if(a.items()[_].enabled())for(var d=0;d<e["item_"+b].attributes.length;d++){var p=e["item_"+b].attributes[d];if(!(i.indexOf(p.name)>-1))switch(p.name){case"movement_speed_percent_bonus":!r&&v.indexOf(b)>=0&&(s+=parseInt(p.value[0]),r=!0);break;case"bonus_aura_movement_speed_pct":n||"ancient_janggo"!=b||(s+=parseInt(p.value[0]),n=!0,i.push(p.name));break;case"phase_movement_speed":f&&!u&&(s+=parseInt(p.value[0]),u=!0);break;case"bonus_movement_speed_pct":f&&!m&&"ancient_janggo"==b&&(s+=parseInt(p.value[0]),m=!0,i.push(p.name));break;case"windwalk_movement_speed":!f||o||"invis_sword"!=b&&"silver_edge"!=b||(s+=parseInt(p.value[0]),o=!0);break;case"berserk_bonus_movement_speed":f&&!c&&"mask_of_madness"==b&&(s+=parseInt(p.value[0]),c=!0);break;case"bonus_movement_speed":r||"manta"!=b?"smoke_of_deceit"==b&&f&&(s+=parseInt(p.value[0])):(s+=parseInt(p.value[0]),r=!0);break;case"bonus_move_speed":f&&!l&&"butterfly"==b&&(s+=parseInt(p.value[0]),l=!0)}}}return{value:s/100,excludeList:i}},a.getMovementSpeedPercentReduction=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!(i.indexOf(o.name)>-1))switch(o.name){case"movespeed":"dust"==n&&m&&(s+=parseInt(o.value[0]));case"blast_movement_speed":"shivas_guard"==n&&m&&(s+=parseInt(o.value[0]),i.push(o.name));case"cold_movement_speed":"skadi"==n&&(s+=parseInt(o.value[0]));break;case"maim_movement_speed":a.items()[r].debuff&&"maim"==a.items()[r].debuff&&(s+=parseInt(o.value[0]),i.push(o.name))}}}return{value:s/100,excludeList:i}},a.getBonusDamage=function(){for(var t=0,s={},i=0;i<a.items().length;i++){var r=a.items()[i].item,n=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var m=0;m<e["item_"+r].attributes.length;m++){var u=e["item_"+r].attributes[m];switch(u.name){case"bonus_damage":t+=parseInt(u.value[0]),void 0==s[r]?s[r]={damage:parseInt(u.value[0]),damageType:"physical",count:1,displayname:e["item_"+r].displayname}:s[r].count+=1;break;case"unholy_bonus_damage":n&&(t+=parseInt(u.value[0]),void 0==s[r+"_active"]?s[r+"_active"]={damage:parseInt(u.value[0]),damageType:"physical",count:1,displayname:e["item_"+r].displayname+" Unholy Strength"}:s[r].count+=1)}}}return{sources:s,total:t}},a.getBonusDamagePercent=function(t){t=t||{sources:{},total:0};for(var s=t.total||0,i=t.sources||{},r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];switch(u.name){case"damage_aura":void 0==i[n]&&(s+=parseInt(u.value[0])/100,i[n]={damage:parseInt(u.value[0])/100,damageType:"physical",count:1,displayname:e["item_"+n].displayname})}}}return{sources:i,total:s}},a.getAttackSpeed=function(t){for(var s=0,i=!1,r=t||[],n=0;n<a.items().length;n++){var m=a.items()[n].item,u=a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())for(var o=0;o<e["item_"+m].attributes.length;o++){var l=e["item_"+m].attributes[o];if(!(r.indexOf(l.name)>-1))switch(l.name){case"bonus_attack_speed":"power_treads"==m?i||(s+=parseInt(l.value[0]),i=!0):"moon_shard"==m?u||(s+=parseInt(l.value[0])):"hurricane_pike"==m?u&&(s+=parseInt(l.value[0])):s+=parseInt(l.value[0]);break;case"consumed_bonus":"moon_shard"==m&&u&&(s+=parseInt(l.value[0]));break;case"bonus_speed":s+=parseInt(l.value[0]);break;case"aura_attack_speed":"shivas_guard"!=m&&(s+=parseInt(l.value[0]));break;case"bonus_aura_attack_speed_pct":s+=parseInt(l.value[0]),r.push(l.name);break;case"bonus_attack_speed_pct":u&&(s+=parseInt(l.value[0]),r.push(l.name));break;case"unholy_bonus_attack_speed":u&&(s+=parseInt(l.value[0]));break;case"berserk_bonus_attack_speed":u&&(s+=parseInt(l.value[0]))}}}return{value:s,excludeList:r}},a.getAttackSpeedReduction=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];if(!(i.indexOf(u.name)>-1))switch(u.name){case"aura_attack_speed":"shivas_guard"==n&&(s+=parseInt(u.value[0]),i.push(u.name));break;case"cold_attack_speed":"skadi"==n&&(s+=parseInt(u.value[0]),i.push(u.name));break;case"maim_attack_speed":a.items()[r].debuff&&"maim"==a.items()[r].debuff&&(s+=parseInt(u.value[0]),i.push(u.name))}}}return{value:s,excludeList:i}},a.getLifesteal=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"lifesteal_percent":if("satanic"!=i)return parseInt(m.value[0]);if(!r)return parseInt(m.value[0]);break;case"unholy_lifesteal_percent":if(r)return parseInt(m.value[0])}}}return t},a.getLifestealAura=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];if(!(i.indexOf(u.name)>-1))switch(u.name){case"vampiric_aura":s+=parseInt(u.value[0]),i.push(u.name)}}}return{value:s,excludeList:i}},a.getMagicResist=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_magical_armor":t*=1-parseInt(n.value[0])/100;break;case"bonus_spell_resist":t*=1-parseInt(n.value[0])/100;break;case"magic_resistance":t*=1-parseInt(n.value[0])/100}}}return t},a.getMagicResistReductionSelf=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled()&&r)for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(m.value[0])/100}}}return t},a.getMagicResistReduction=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled()&&r)for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"ethereal_damage_bonus":a.isEthereal()||(t*=1-parseInt(m.value[0])/100);case"resist_debuff":t*=1-parseInt(m.value[0])/100}}}return t},a.getVisionRangeNight=ko.computed(function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"bonus_night_vision":"moon_shard"==i&&r||(t+=parseInt(m.value[0]))}}}return t}),a.getAttackRange=function(t,s){for(var i=0,r=s||[],n=0;n<a.items().length;n++){var m=a.items()[n].item;a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())for(var u=0;u<e["item_"+m].attributes.length;u++){var o=e["item_"+m].attributes[u];if(!r.find(function(e){return o.name==e.name}))switch(o.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&r.push({name:o.name,value:parseInt(o.value[0])})}}}return i=r.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:r}},a.getMissChance=function(t){for(var s=1,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!(i.indexOf(o.name)>-1))switch(o.name){case"miss_chance":"solar_crest"===n&&m&&(s*=1-parseInt(o.value[0])/100,i.push(o.name));break;case"blind_pct":s*=1-parseInt(o.value[0])/100,i.push(o.name)}}}return{value:s,excludeList:i}},a.getBaseDamageReductionPct=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"backstab_reduction":a.items()[s].debuff&&"shadow_walk"==a.items()[s].debuff&&(t*=1+parseInt(n.value[0])/100)}}}return t},a.getBonusDamageReductionPct=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"backstab_reduction":a.items()[s].debuff&&"shadow_walk"==a.items()[s].debuff&&(t*=1+parseInt(n.value[0])/100)}}}return t},a.itemOptions=ko.observableArray(itemOptionsArray.items),a.itemBuffOptions=ko.observableArray(itemBuffOptions.items),a.selectedItemBuff=ko.observable("assault"),a.itemDebuffOptions=ko.observableArray(itemDebuffOptions.items),a.selectedItemDebuff=ko.observable("assault"),a};InventoryViewModel.prototype=Object.create(BasicInventoryViewModel.prototype),InventoryViewModel.prototype.constructor=InventoryViewModel,module.exports=InventoryViewModel;
},{"../herocalc_knockout":22,"./BasicInventoryViewModel":26,"./itemBuffOptions":29,"./itemDebuffOptions":30,"./itemOptionsArray":31,"./levelItems":33,"./stackableItems":34}],28:[function(require,module,exports){
var ItemInput=function(e,s,a,i){if(e["item_"+s].ItemAliases instanceof Array)var t=e["item_"+s].ItemAliases.join(" ");else var t=e["item_"+s].ItemAliases;this.value=ko.observable(s),this.debuff=ko.observable(i),this.debuff()?(this.value=ko.observable(s+"|"+i.id),this.name=ko.observable(a+" ("+i.name+")"),this.displayname=ko.observable(a+" ("+i.name+') <span style="display:none">;'+t+"</span>")):(this.value=ko.observable(s),this.name=ko.observable(a),this.displayname=ko.observable(a+' <span style="display:none">;'+t+"</span>"))};module.exports=ItemInput;
},{}],29:[function(require,module,exports){
var ItemInput=require("./ItemInput"),itemBuffs=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"],itemBuffOptions={},init=function(i){return itemBuffOptions.items=itemBuffs.map(function(t){return new ItemInput(i,t,i["item_"+t].displayname)}),itemBuffOptions.items};itemBuffOptions.init=init,module.exports=itemBuffOptions;
},{"./ItemInput":28}],30:[function(require,module,exports){
var ItemInput=require("./ItemInput"),itemDebuffs=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}],itemDebuffOptions={},init=function(e){return itemDebuffOptions.items=itemDebuffs.map(function(i){return new ItemInput(e,i.item,e["item_"+i.item].displayname,i.debuff)}),itemDebuffOptions.items};itemDebuffOptions.init=init,module.exports=itemDebuffOptions;
},{"./ItemInput":28}],31:[function(require,module,exports){
var validItems=require("./validItems"),ItemInput=require("./ItemInput"),itemOptionsArray={},init=function(t){itemOptionsArray.items=[];for(var i=0;i<validItems.length;i++)itemOptionsArray.items.push(new ItemInput(t,validItems[i],t["item_"+validItems[i]].displayname));return itemOptionsArray.items};itemOptionsArray.init=init,module.exports=itemOptionsArray;
},{"./ItemInput":28,"./validItems":35}],32:[function(require,module,exports){
module.exports=["solar_crest","heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn","hurricane_pike"];
},{}],33:[function(require,module,exports){
module.exports=["necronomicon","dagon","diffusal_blade","travel_boots"];
},{}],34:[function(require,module,exports){
module.exports=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"];
},{}],35:[function(require,module,exports){
module.exports=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"];
},{}],36:[function(require,module,exports){
"use strict";var core={};core.InventoryViewModel=require("./inventory/InventoryViewModel"),core.AbilityModel=require("./AbilityModel"),core.BuffViewModel=require("./BuffViewModel"),core.HeroModel=require("./hero/HeroModel"),core.CloneModel=require("./hero/CloneModel"),core.UnitModel=require("./hero/UnitModel"),core.IllusionModel=require("./hero/IllusionModel"),core.Data=require("./data/main"),core.Util=require("./util/main"),core.init=function(e,r,o,i){core.Data.init(e,r,o,function(){core.HeroOptions=require("./hero/heroOptionsArray").init(core.Data.heroData),core.BuffOptions=require("./buffs/buffOptionsArray").init(core.Data.heroData,core.Data.unitData),core.DebuffOptions=require("./buffs/debuffOptionsArray").init(core.Data.heroData,core.Data.unitData),core.ItemOptions=require("./inventory/itemOptionsArray").init(core.Data.itemData),core.ItemBuffOptions=require("./inventory/itemBuffOptions").init(core.Data.itemData),core.ItemDebuffOptions=require("./inventory/itemDebuffOptions").init(core.Data.itemData),i()})},module.exports=core;
},{"./AbilityModel":2,"./BuffViewModel":3,"./buffs/buffOptionsArray":5,"./buffs/debuffOptionsArray":6,"./data/main":7,"./hero/CloneModel":8,"./hero/HeroModel":11,"./hero/IllusionModel":13,"./hero/UnitModel":15,"./hero/heroOptionsArray":18,"./inventory/InventoryViewModel":27,"./inventory/itemBuffOptions":29,"./inventory/itemDebuffOptions":30,"./inventory/itemOptionsArray":31,"./util/main":42}],37:[function(require,module,exports){
var extend=function(e){e=e||{};for(var r=1;r<arguments.length;r++){var t=arguments[r];if(t)for(var n in t)t.hasOwnProperty(n)&&("object"==typeof t[n]?e[n]=extend(e[n],t[n]):e[n]=t[n])}return e};module.exports=extend;
},{}],38:[function(require,module,exports){
var findWhere=function(r,e){r:for(var n=0;n<r.length;n++){for(var f in e)if(r[n][f]!=e[f])continue r;return r[n]}};module.exports=findWhere;
},{}],39:[function(require,module,exports){
"use strict";var getJSON=function(e,t,s){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){if(n.status>=200&&n.status<400){var e=JSON.parse(n.responseText);t(e)}else s()},n.onerror=function(){s()},n.send()};module.exports=getJSON;
},{}],40:[function(require,module,exports){
var isEmpty=function(t){return 0===Object.keys(t).length&&t.constructor===Object};module.exports=isEmpty;
},{}],41:[function(require,module,exports){
var isString=function(n){return"string"==typeof n||n instanceof String};module.exports=isString;
},{}],42:[function(require,module,exports){
"use strict";var util={};util.extend=require("./extend"),util.findWhere=require("./findWhere"),util.getJSON=require("./getJSON"),util.union=require("./union"),util.uniqueId=require("./uniqueId"),util.uniques=require("./uniques"),module.exports=util;
},{"./extend":37,"./findWhere":38,"./getJSON":39,"./union":43,"./uniqueId":44,"./uniques":45}],43:[function(require,module,exports){
"use strict";var uniques=require("./uniques"),union=function(u,n){var e=u.concat(n);return uniques(e)};module.exports=union;
},{"./uniques":45}],44:[function(require,module,exports){
"use strict";var idCounter=0,uniqueId=function(u){var e=++idCounter+"";return u?u+e:e};module.exports=uniqueId;
},{}],45:[function(require,module,exports){
"use strict";var uniques=function(u){for(var e=[],n=0,r=u.length;n<r;n++)e.indexOf(u[n])===-1&&""!==u[n]&&e.push(u[n]);return e};module.exports=uniques;
},{}],46:[function(require,module,exports){
(function (global){
!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e("undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,exports):"function"==typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,r){function t(e,r){for(var t={},n=e.length-1;n>=0;--n)t[e[n]]=e[n];for(var n=r.length-1;n>=0;--n)t[r[n]]=r[n];var a=[];for(var i in t)a.push(t[i]);return a}function n(e,a){var i;for(var o in a)if(a.hasOwnProperty(o)&&a[o])if(i=r.getType(e[o]),o&&e[o]&&"array"!==i&&"string"!==i)n(e[o],a[o]);else{var u="array"===r.getType(e[o])&&"array"===r.getType(a[o]);u?e[o]=t(e[o],a[o]):e[o]=a[o]}}function a(e,r){var t={};return n(t,e),n(t,r),t}function i(e,r){for(var t=a({},e),n=x.length-1;n>=0;n--){var i=x[n];t[i]&&(t[""]instanceof Object||(t[""]={}),t[""][i]=t[i],delete t[i])}return r&&(t.ignore=o(r.ignore,t.ignore),t.include=o(r.include,t.include),t.copy=o(r.copy,t.copy),t.observe=o(r.observe,t.observe)),t.ignore=o(t.ignore,J.ignore),t.include=o(t.include,J.include),t.copy=o(t.copy,J.copy),t.observe=o(t.observe,J.observe),t.mappedProperties=t.mappedProperties||{},t.copiedProperties=t.copiedProperties||{},t}function o(t,n){return"array"!==r.getType(t)&&(t="undefined"===r.getType(t)?[]:[t]),"array"!==r.getType(n)&&(n="undefined"===r.getType(n)?[]:[n]),e.utils.arrayGetDistinctValues(t.concat(n))}function u(r,t){var n=e.dependentObservable;e.dependentObservable=function(t,n,a){a=a||{},t&&"object"==typeof t&&(a=t);var i=a.deferEvaluation,o=!1,u=function(t){var n=e.dependentObservable;e.dependentObservable=k;var a=e.isWriteableObservable(t);e.dependentObservable=n;var i=k({read:function(){return o||(e.utils.arrayRemoveItem(r,t),o=!0),t.apply(t,arguments)},write:a&&function(e){return t(e)},deferEvaluation:!0});return w&&(i._wrapper=!0),i.__DO=t,i};a.deferEvaluation=!0;var s=new k(t,n,a);return i||(s=u(s),r.push(s)),s},e.dependentObservable.fn=k.fn,e.computed=e.dependentObservable;var a=t();return e.dependentObservable=n,e.computed=e.dependentObservable,a}function s(t,n,i,o,f,b,y){var g="array"===r.getType(e.utils.unwrapObservable(n));if(b=b||"",r.isMapped(t)){var w=e.utils.unwrapObservable(t)[m];i=a(w,i)}var k={data:n,parent:y||f},T=function(){return i[o]&&i[o].create instanceof Function},x=function(r){return u(O,function(){return e.utils.unwrapObservable(f)instanceof Array?i[o].create({data:r||k.data,parent:k.parent,skip:j}):i[o].create({data:r||k.data,parent:k.parent})})},I=function(){return i[o]&&i[o].update instanceof Function},J=function(r,t){var n={data:t||k.data,parent:k.parent,target:e.utils.unwrapObservable(r)};return e.isWriteableObservable(r)&&(n.observable=r),i[o].update(n)},E=h.get(n);if(E)return E;if(o=o||"",g){var P=[],S=!1,_=function(e){return e};i[o]&&i[o].key&&(_=i[o].key,S=!0),e.isObservable(t)||(t=e.observableArray([]),t.mappedRemove=function(e){var r="function"==typeof e?e:function(r){return r===_(e)};return t.remove(function(e){return r(_(e))})},t.mappedRemoveAll=function(r){var n=v(r,_);return t.remove(function(r){return e.utils.arrayIndexOf(n,_(r))!=-1})},t.mappedDestroy=function(e){var r="function"==typeof e?e:function(r){return r===_(e)};return t.destroy(function(e){return r(_(e))})},t.mappedDestroyAll=function(r){var n=v(r,_);return t.destroy(function(r){return e.utils.arrayIndexOf(n,_(r))!=-1})},t.mappedIndexOf=function(r){var n=v(t(),_),a=_(r);return e.utils.arrayIndexOf(n,a)},t.mappedGet=function(e){return t()[t.mappedIndexOf(e)]},t.mappedCreate=function(r){if(t.mappedIndexOf(r)!==-1)throw new Error("There already is an object with the key that you specified.");var n=T()?x(r):r;if(I()){var a=J(n,r);e.isWriteableObservable(n)?n(a):n=a}return t.push(n),n});var N=v(e.utils.unwrapObservable(t),_).sort(),W=v(n,_);S&&W.sort();var D,F,A=e.utils.compareArrays(N,W),M={},C=e.utils.unwrapObservable(n),R={},$=!0;for(D=0,F=C.length;D<F;D++){var G=_(C[D]);if(void 0===G||G instanceof Object){$=!1;break}R[G]=C[D]}var q=[],V=0;for(D=0,F=A.length;D<F;D++){var z,G=A[D],B=b+"["+D+"]";switch(G.status){case"added":var H=$?R[G.value]:l(e.utils.unwrapObservable(n),G.value,_);z=s(void 0,H,i,o,t,B,f),T()||(z=e.utils.unwrapObservable(z));var K=p(e.utils.unwrapObservable(n),H,M);z===j?V++:q[K-V]=z,M[K]=!0;break;case"retained":var H=$?R[G.value]:l(e.utils.unwrapObservable(n),G.value,_);z=l(t,G.value,_),s(z,H,i,o,t,B,f);var K=p(e.utils.unwrapObservable(n),H,M);q[K]=z,M[K]=!0;break;case"deleted":z=l(t,G.value,_)}P.push({event:G.status,item:z})}t(q),i[o]&&i[o].arrayChanged&&e.utils.arrayForEach(P,function(e){i[o].arrayChanged(e.event,e.item)})}else if(d(n)){if(t=e.utils.unwrapObservable(t),!t){if(T()){var L=x();return I()&&(L=J(L)),L}if(I())return J(L);t={}}if(I()&&(t=J(t)),h.save(n,t),I())return t;c(n,function(r){var a=b.length?b+"."+r:r;if(e.utils.arrayIndexOf(i.ignore,a)==-1){if(e.utils.arrayIndexOf(i.copy,a)!=-1)return void(t[r]=n[r]);if("object"!=typeof n[r]&&"array"!=typeof n[r]&&i.observe.length>0&&e.utils.arrayIndexOf(i.observe,a)==-1)return t[r]=n[r],void(i.copiedProperties[a]=!0);var o=h.get(n[r]),u=s(t[r],n[r],i,r,t,a,t),p=o||u;if(i.observe.length>0&&e.utils.arrayIndexOf(i.observe,a)==-1)return t[r]=p(),void(i.copiedProperties[a]=!0);e.isWriteableObservable(t[r])?(p=e.utils.unwrapObservable(p),t[r]()!==p&&t[r](p)):(p=void 0===t[r]?p:e.utils.unwrapObservable(p),t[r]=p),i.mappedProperties[a]=!0}})}else switch(r.getType(n)){case"function":I()?e.isWriteableObservable(n)?(n(J(n)),t=n):t=J(n):t=n;break;default:if(e.isWriteableObservable(t)){if(I()){var Q=J(t);return t(Q),Q}var Q=e.utils.unwrapObservable(n);return t(Q),Q}var U=T()||I();if(t=T()?x():e.observable(e.utils.unwrapObservable(n)),I()&&t(J(t)),U)return t}return t}function p(e,r,t){for(var n=0,a=e.length;n<a;n++)if(t[n]!==!0&&e[n]===r)return n;return null}function f(t,n){var a;return n&&(a=n(t)),"undefined"===r.getType(a)&&(a=t),e.utils.unwrapObservable(a)}function l(r,t,n){r=e.utils.unwrapObservable(r);for(var a=0,i=r.length;a<i;a++){var o=r[a];if(f(o,n)===t)return o}throw new Error("When calling ko.update*, the key '"+t+"' was not found!")}function v(r,t){return e.utils.arrayMap(e.utils.unwrapObservable(r),function(e){return t?f(e,t):e})}function c(e,t){if("array"===r.getType(e))for(var n=0;n<e.length;n++)t(n);else for(var a in e)t(a)}function d(e){var t=r.getType(e);return("object"===t||"array"===t)&&null!==e}function b(e,t,n){var a=e||"";return"array"===r.getType(t)?e&&(a+="["+n+"]"):(e&&(a+="."),a+=n),a}function y(){var r=[],t=[];this.save=function(n,a){var i=e.utils.arrayIndexOf(r,n);i>=0?t[i]=a:(r.push(n),t.push(a))},this.get=function(n){var a=e.utils.arrayIndexOf(r,n),i=a>=0?t[a]:void 0;return i}}function g(){var e={},r=function(r){var t;try{t=r}catch(e){t="$$$"}var n=e[t];return void 0===n&&(n=new y,e[t]=n),n};this.save=function(e,t){r(e).save(e,t)},this.get=function(e){return r(e).get(e)}}var O,h,w=!0,m="__ko_mapping__",k=e.dependentObservable,T=0,x=["create","update","key","arrayChanged"],j={},I={include:["_destroy"],ignore:[],copy:[],observe:[]},J=I;r.isMapped=function(r){var t=e.utils.unwrapObservable(r);return t&&t[m]},r.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{T++||(O=[],h=new g);var r,t;2==arguments.length&&(arguments[1][m]?t=arguments[1]:r=arguments[1]),3==arguments.length&&(r=arguments[1],t=arguments[2]),t&&(r=a(r,t[m])),r=i(r);var n=s(t,e,r);if(t&&(n=t),!--T)for(;O.length;){var o=O.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return n[m]=a(n[m],r),n}catch(e){throw T=0,e}},r.fromJSON=function(t){var n=e.utils.parseJson(t);return arguments[0]=n,r.fromJS.apply(this,arguments)},r.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},r.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},r.toJS=function(t,n){if(J||r.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==r.getType(J.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==r.getType(J.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==r.getType(J.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return n=i(n,t[m]),r.visitModel(t,function(r){return e.utils.unwrapObservable(r)},n)},r.toJSON=function(t,n){var a=r.toJS(t,n);return e.utils.stringifyJson(a)},r.defaultOptions=function(){return arguments.length>0?void(J=arguments[0]):J},r.resetDefaultOptions=function(){J={include:I.include.slice(0),ignore:I.ignore.slice(0),copy:I.copy.slice(0)}},r.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},r.visitModel=function(t,n,a){a=a||{},a.visitedObjects=a.visitedObjects||new g;var o,u=e.utils.unwrapObservable(t);if(!d(u))return n(t,a.parentName);a=i(a,u[m]),n(t,a.parentName),o="array"===r.getType(u)?[]:{},a.visitedObjects.save(t,o);var s=a.parentName;return c(u,function(t){if(!a.ignore||e.utils.arrayIndexOf(a.ignore,t)==-1){var i=u[t];if(a.parentName=b(s,u,t),e.utils.arrayIndexOf(a.copy,t)!==-1||e.utils.arrayIndexOf(a.include,t)!==-1||!u[m]||!u[m].mappedProperties||u[m].mappedProperties[t]||!u[m].copiedProperties||u[m].copiedProperties[t]||"array"===r.getType(u)){switch(r.getType(e.utils.unwrapObservable(i))){case"object":case"array":case"undefined":var p=a.visitedObjects.get(i);o[t]="undefined"!==r.getType(p)?p:r.visitModel(i,n,a);break;default:o[t]=n(i,a.parentName)}}}}),o}});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],47:[function(require,module,exports){
(function (global){
!function(r){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?r("undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,exports):"function"==typeof define&&define.amd?define(["knockout","exports"],r):r(ko,ko.wrap={})}(function(r,n){function t(r){var n=typeof r;return"object"===n&&(r?r.constructor==Date?n="date":"[object Array]"==Object.prototype.toString.call(r)&&(n="array"):n="null"),n}function e(n){var t={};for(var e in n){var o=n[e];r.isComputed(o)||(t[e]=u(o))}return t}function o(r){var n=[];if(!r||0==r.length)return n;for(var t=0,e=r.length;t<e;++t)n.push(u(r[t]));return n}function u(n){var f=r.isObservable(n);if(f){var a=n();return u(a)}return"array"==t(n)?o(n):"object"==t(n)?e(n):n}function f(){v=[{obj:null,wrapped:null,lvl:""}]}function a(n,t){for(var e=0;e<v.length;++e)if(v[e].obj===n)return v[e].wrapped;var o={};for(var u in n){var f=n[u];v.push({obj:n,wrapped:o,lvl:l()+"/"+u}),o[u]=c(f,t),v.pop()}return t&&t[l()]&&(o=t[l()](o)),p()&&r.track(o),o}function i(n,t){var e=r.observableArray();if(!n||0==n.length)return e;for(var o=0,u=n.length;o<u;++o)e.push(c(n[o],t));return e}function l(){return v[v.length-1].lvl}function c(n,e){if("array"==t(n))return i(n,e);if("object"==t(n))return a(n,e);if(p()||"function"==typeof n)return n;var o=r.observable();return o(n),o}function p(){return null!=r.track}n.fromJS=function(r,n){return f(),c(r,n)},n.updateFromJS=function(n,t,e){return f(),n(r.utils.unwrapObservable(c(t,e)))},n.fromJSON=function(t,e){var o=r.utils.parseJson(t);return arguments[0]=o,n.fromJS.apply(this,e)},n.toJS=function(r){return u(r)},n.toJSON=function(t){var e=n.toJS(t);return r.utils.stringifyJson(e)};var v});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],48:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,r){return!!e.data(n,r[3])}})});
},{}],49:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})});
},{}],50:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){function i(e){for(var i=e.css("visibility");"inherit"===i;)e=e.parent(),i=e.css("visibility");return"hidden"!==i}return e.ui.focusable=function(t,n){var a,r,s,o,u,f=t.nodeName.toLowerCase();return"area"===f?(a=t.parentNode,r=a.name,!(!t.href||!r||"map"!==a.nodeName.toLowerCase())&&(s=e("img[usemap='#"+r+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(f)?(o=!t.disabled,o&&(u=e(t).closest("fieldset")[0],u&&(o=!u.disabled))):o="a"===f?t.href||n:n,o&&e(t).is(":visible")&&i(e(t)))},e.extend(e.expr[":"],{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable});
},{}],51:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())});
},{}],52:[function(require,module,exports){
!function(E){"function"==typeof define&&define.amd?define(["jquery","./version"],E):E(jQuery)}(function(E){return E.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});
},{}],53:[function(require,module,exports){
!function(n){"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)}(function(n){return n.ui.plugin={add:function(e,i,o){var t,u=n.ui[e].prototype;for(t in o)u.plugins[t]=u.plugins[t]||[],u.plugins[t].push([i,o[t]])},call:function(n,e,i,o){var t,u=n.plugins[e];if(u&&(o||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(t=0;t<u.length;t++)n.options[u[t][0]]&&u[t][1].apply(n.element,i)}}});
},{}],54:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){return function(){function i(t,i,o){return[parseFloat(t[0])*(c.test(t[0])?i/100:1),parseFloat(t[1])*(c.test(t[1])?o/100:1)]}function o(i,o){return parseInt(t.css(i,o),10)||0}function e(i){var o=i[0];return 9===o.nodeType?{width:i.width(),height:i.height(),offset:{top:0,left:0}}:t.isWindow(o)?{width:i.width(),height:i.height(),offset:{top:i.scrollTop(),left:i.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:i.outerWidth(),height:i.outerHeight(),offset:i.offset()}}var l,n=Math.max,f=Math.abs,s=/left|center|right/,h=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,c=/%$/,a=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==l)return l;var i,o,e=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=e.children()[0];return t("body").append(e),i=n.offsetWidth,e.css("overflow","scroll"),o=n.offsetWidth,i===o&&(o=e[0].clientWidth),e.remove(),l=i-o},getScrollInfo:function(i){var o=i.isWindow||i.isDocument?"":i.element.css("overflow-x"),e=i.isWindow||i.isDocument?"":i.element.css("overflow-y"),l="scroll"===o||"auto"===o&&i.width<i.element[0].scrollWidth,n="scroll"===e||"auto"===e&&i.height<i.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:l?t.position.scrollbarWidth():0}},getWithinInfo:function(i){var o=t(i||window),e=t.isWindow(o[0]),l=!!o[0]&&9===o[0].nodeType,n=!e&&!l;return{element:o,isWindow:e,isDocument:l,offset:n?t(i).offset():{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},t.fn.position=function(l){if(!l||!l.of)return a.apply(this,arguments);l=t.extend({},l);var c,d,g,u,m,w,W=t(l.of),v=t.position.getWithinInfo(l.within),y=t.position.getScrollInfo(v),H=(l.collision||"flip").split(" "),b={};return w=e(W),W[0].preventDefault&&(l.at="left top"),d=w.width,g=w.height,u=w.offset,m=t.extend({},u),t.each(["my","at"],function(){var t,i,o=(l[this]||"").split(" ");1===o.length&&(o=s.test(o[0])?o.concat(["center"]):h.test(o[0])?["center"].concat(o):["center","center"]),o[0]=s.test(o[0])?o[0]:"center",o[1]=h.test(o[1])?o[1]:"center",t=r.exec(o[0]),i=r.exec(o[1]),b[this]=[t?t[0]:0,i?i[0]:0],l[this]=[p.exec(o[0])[0],p.exec(o[1])[0]]}),1===H.length&&(H[1]=H[0]),"right"===l.at[0]?m.left+=d:"center"===l.at[0]&&(m.left+=d/2),"bottom"===l.at[1]?m.top+=g:"center"===l.at[1]&&(m.top+=g/2),c=i(b.at,d,g),m.left+=c[0],m.top+=c[1],this.each(function(){var e,s,h=t(this),r=h.outerWidth(),p=h.outerHeight(),a=o(this,"marginLeft"),w=o(this,"marginTop"),x=r+a+o(this,"marginRight")+y.width,T=p+w+o(this,"marginBottom")+y.height,L=t.extend({},m),P=i(b.my,h.outerWidth(),h.outerHeight());"right"===l.my[0]?L.left-=r:"center"===l.my[0]&&(L.left-=r/2),"bottom"===l.my[1]?L.top-=p:"center"===l.my[1]&&(L.top-=p/2),L.left+=P[0],L.top+=P[1],e={marginLeft:a,marginTop:w},t.each(["left","top"],function(i,o){t.ui.position[H[i]]&&t.ui.position[H[i]][o](L,{targetWidth:d,targetHeight:g,elemWidth:r,elemHeight:p,collisionPosition:e,collisionWidth:x,collisionHeight:T,offset:[c[0]+P[0],c[1]+P[1]],my:l.my,at:l.at,within:v,elem:h})}),l.using&&(s=function(t){var i=u.left-L.left,o=i+d-r,e=u.top-L.top,s=e+g-p,c={target:{element:W,left:u.left,top:u.top,width:d,height:g},element:{element:h,left:L.left,top:L.top,width:r,height:p},horizontal:o<0?"left":i>0?"right":"center",vertical:s<0?"top":e>0?"bottom":"middle"};d<r&&f(i+o)<d&&(c.horizontal="center"),g<p&&f(e+s)<g&&(c.vertical="middle"),n(f(i),f(o))>n(f(e),f(s))?c.important="horizontal":c.important="vertical",l.using.call(this,t,c)}),h.offset(t.extend(L,{using:s}))})},t.ui.position={fit:{left:function(t,i){var o,e=i.within,l=e.isWindow?e.scrollLeft:e.offset.left,f=e.width,s=t.left-i.collisionPosition.marginLeft,h=l-s,r=s+i.collisionWidth-f-l;i.collisionWidth>f?h>0&&r<=0?(o=t.left+h+i.collisionWidth-f-l,t.left+=h-o):r>0&&h<=0?t.left=l:h>r?t.left=l+f-i.collisionWidth:t.left=l:h>0?t.left+=h:r>0?t.left-=r:t.left=n(t.left-s,t.left)},top:function(t,i){var o,e=i.within,l=e.isWindow?e.scrollTop:e.offset.top,f=i.within.height,s=t.top-i.collisionPosition.marginTop,h=l-s,r=s+i.collisionHeight-f-l;i.collisionHeight>f?h>0&&r<=0?(o=t.top+h+i.collisionHeight-f-l,t.top+=h-o):r>0&&h<=0?t.top=l:h>r?t.top=l+f-i.collisionHeight:t.top=l:h>0?t.top+=h:r>0?t.top-=r:t.top=n(t.top-s,t.top)}},flip:{left:function(t,i){var o,e,l=i.within,n=l.offset.left+l.scrollLeft,s=l.width,h=l.isWindow?l.scrollLeft:l.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-s-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?(o=t.left+a+d+g+i.collisionWidth-s-n,(o<0||o<f(p))&&(t.left+=a+d+g)):c>0&&(e=t.left-i.collisionPosition.marginLeft+a+d+g-h,(e>0||f(e)<c)&&(t.left+=a+d+g))},top:function(t,i){var o,e,l=i.within,n=l.offset.top+l.scrollTop,s=l.height,h=l.isWindow?l.scrollTop:l.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-s-h,a="top"===i.my[1],d=a?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,g="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,u=-2*i.offset[1];p<0?(e=t.top+d+g+u+i.collisionHeight-s-n,(e<0||e<f(p))&&(t.top+=d+g+u)):c>0&&(o=t.top-i.collisionPosition.marginTop+d+g+u-h,(o>0||f(o)<c)&&(t.top+=d+g+u))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position});
},{}],55:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}});
},{}],56:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}});
},{}],57:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),o="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)}});
},{}],58:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(n){var t=e.attr(n,"tabindex"),u=null!=t;return(!u||t>=0)&&e.ui.focusable(n,u)}})});
},{}],59:[function(require,module,exports){
!function(i){"function"==typeof define&&define.amd?define(["jquery","./version"],i):i(jQuery)}(function(i){return i.fn.extend({uniqueId:function(){var i=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&i(this).removeAttr("id")})}})});
},{}],60:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"});
},{}],61:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(r[e]=s)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;a<r;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(t.isPlainObject(n)?e[s]=t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):e[s]=n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;r<i.length;r++)a=n.classesElementLookup[i[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){t.inArray(e.target,n)!==-1&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget});
},{}],62:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,u="input"===n;this.isMultiLine=o||!u&&this._isContentEditable(this.element),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var s,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),s=i.item.attr("aria-label")||n.value,void(s&&e.trim(s).length&&(this.liveRegion.children().hide(),e("<div>").text(s).appendTo(this.liveRegion))))},menuselect:function(t,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",t,{item:s})&&this._value(s.value),this.term=this._value(),this.close(t),this.selectedItem=s}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||s)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete});
},{}],63:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,i=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(i.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(i){i.keyCode===t.ui.keyCode.SPACE&&(i.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(i,o){var s="iconPosition"!==i,n=s?this.options.iconPosition:o,e="top"===n||"bottom"===n;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,o),this._attachIcon(n),e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var i=void 0===t.showLabel?this.options.showLabel:t.showLabel,o=void 0===t.icon?this.options.icon:t.icon;i||o||(t.showLabel=!0),this._super(t)},_setOption:function(t,i){"icon"===t&&(i?this._updateIcon(t,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,i),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,i),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,i){return"text"===t?void this._super("showLabel",i):("showLabel"===t&&(this.options.text=i),"icon"===t&&(this.options.icons.primary=i),"icons"===t&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(i){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?i.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button});
},{}],64:[function(require,module,exports){
!function(i){"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],i):i(jQuery)}(function(i){return i.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=i(this).css(t).offset().top;e<0&&i(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&i.fn.draggable&&this._makeDraggable(),this.options.resizable&&i.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?i(t):this.document.find(t||"body").eq(0)},_destroy:function(){var i,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),i=t.parent.children().eq(t.index),i.length&&i[0]!==this.element[0]?i.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:i.noop,enable:i.noop,close:function(t){var e=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||i.ui.safeBlur(i.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var o=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+i(this).css("z-index")}).get(),n=Math.max.apply(null,s);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),o=!0),o&&!e&&this._trigger("focus",t),o},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=i(i.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var i=this._focusedElement;i||(i=this.element.find("[autofocus]")),i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=i.ui.safeActiveElement(this.document[0]),e=this.uiDialog[0]===t||i.contains(this.uiDialog[0],t);e||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=i("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===i.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===i.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),o=e.filter(":first"),s=e.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==o[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){o.trigger("focus")}),t.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=i("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){i(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=i("<button type='button'></button>").button({label:i("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),t=i("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(i){this.options.title?i.text(this.options.title):i.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=i("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=i("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,e=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),i.isEmptyObject(e)||i.isArray(e)&&!e.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(i.each(e,function(e,o){var s,n;o=i.isFunction(o)?{click:o,text:e}:o,o=i.extend({type:"button"},o),s=o.click,n={icon:o.icon,iconPosition:o.iconPosition,showLabel:o.showLabel,icons:o.icons,text:o.text},delete o.click,delete o.icon,delete o.iconPosition,delete o.showLabel,delete o.icons,"boolean"==typeof o.text&&delete o.text,i("<button></button>",o).button(n).appendTo(t.uiButtonSet).on("click",function(){s.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(i){return{position:i.position,offset:i.offset}}var e=this,o=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(o,s){e._addClass(i(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",o,t(s))},drag:function(i,o){e._trigger("drag",i,t(o))},stop:function(s,n){var a=n.offset.left-e.document.scrollLeft(),l=n.offset.top-e.document.scrollTop();o.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(i(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",s,t(n))}})},_makeResizable:function(){function t(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}var e=this,o=this.options,s=o.resizable,n=this.uiDialog.css("position"),a="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:a,start:function(o,s){e._addClass(i(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",o,t(s))},resize:function(i,o){e._trigger("resize",i,t(o))},stop:function(s,n){var a=e.uiDialog.offset(),l=a.left-e.document.scrollLeft(),h=a.top-e.document.scrollTop();o.height=e.uiDialog.height(),o.width=e.uiDialog.width(),o.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(h>=0?"+":"")+h,of:e.window},e._removeClass(i(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",s,t(n))}}).css("position",n)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=i(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=i.inArray(this,t);e!==-1&&t.splice(e,1)},_trackingInstances:function(){var i=this.document.data("ui-dialog-instances");return i||(i=[],this.document.data("ui-dialog-instances",i)),i},_minHeight:function(){var i=this.options;return"auto"===i.height?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(t){var e=this,o=!1,s={};i.each(t,function(i,t){e._setOption(i,t),i in e.sizeRelatedOptions&&(o=!0),i in e.resizableRelatedOptions&&(s[i]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var o,s,n=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:i("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(o=n.is(":data(ui-draggable)"),o&&!e&&n.draggable("destroy"),!o&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var i,t,e,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),i=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-i),e="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-i):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,o.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=i(this);return i("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!i(t.target).closest(".ui-dialog").length||!!i(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(i){t||this._allowInteraction(i)||(i.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=i("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var i=this.document.data("ui-dialog-overlays")-1;i?this.document.data("ui-dialog-overlays",i):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),i.uiBackCompat!==!1&&i.widget("ui.dialog",i.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(i,t){"dialogClass"===i&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),i.ui.dialog});
},{}],65:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(s.iframeFix===!0?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",e)!==!1&&s._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper),o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),s=t(o.containment),i=s[0],void(i&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)a=i.snapElements[f].left-i.margins.left,h=a+i.snapElements[f].width,p=i.snapElements[f].top-i.margins.top,c=p+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});
},{}],66:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],e):e(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),s=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),s=e(t.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){var i=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,s,n,a,u=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:u=!1,s=this.previousFilter||"",a=!1,n=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),i=a&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}u&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,s,n,a,u=this,o=this.options.icons.submenu,r=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=r.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),s=e("<span>").data("ui-menu-submenu-caret",!0);u._addClass(s,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(s),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),t=r.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);u._isDivider(t)&&u._addClass(t,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),a=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(a,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,s,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,s,n,a,u,o;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),u=this.activeMenu.height(),o=t.outerHeight(),n<0?this.activeMenu.scrollTop(a+n):n+o>u&&this.activeMenu.scrollTop(a+n-u+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(t),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(t){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s-n<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-s+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}})});
},{}],67:[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
},{}],68:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(i,e){if("hidden"===t(i).css("overflow"))return!1;var s=e&&"left"===e?"scrollLeft":"scrollTop",h=!1;return i[s]>0||(i[s]=1,h=i[s]>0,i[s]=0,h)},_create:function(){var i,e=this.options,s=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,i={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(i),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(i),this._proportionallyResize()),this._setupHandles(),e.autoHide&&t(this.element).on("mouseenter",function(){e.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){e.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var i,e=function(i){t(i).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),i=this.element,this.originalElement.css({position:i.css("position"),width:i.outerWidth(),height:i.outerHeight(),top:i.css("top"),left:i.css("left")}).insertAfter(i),i.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,i){switch(this._super(t,i),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var i,e,s,h,n,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},e=0;e<s.length;e++)i=t.trim(s[e]),h="ui-resizable-"+i,n=t("<div>"),this._addClass(n,"ui-resizable-handle "+h),n.css({zIndex:o.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(i){var e,s,h,n;i=i||this.element;for(e in this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=t(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=t(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth(),h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),i.css(h,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(i){var e,s,h=!1;for(e in this.handles)s=t(this.handles[e])[0],(s===i.target||t.contains(s,i.target))&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(i){var e,s,h,n=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(e+=t(n.containment).scrollLeft()||0,s+=t(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:s},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===h?this.axis+"-resize":h),this._addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(i){var e,s,h=this.originalMousePosition,n=this.axis,o=i.pageX-h.left||0,a=i.pageY-h.top||0,l=this._change[n];return this._updatePrevProperties(),!!l&&(e=l.apply(this,[i,o,a]),this._updateVirtualBoundaries(i.shiftKey),(this._aspectRatio||i.shiftKey)&&(e=this._updateRatio(e,i)),e=this._respectSize(e,i),this._updateCache(e),this._propagate("resize",i),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",i,this.ui()),this._applyChanges()),!1)},_mouseStop:function(i){this.resizing=!1;var e,s,h,n,o,a,l,r=this.options,p=this;return this._helper&&(e=this._proportionallyResizeElements,s=e.length&&/textarea/i.test(e[0].nodeName),h=s&&this._hasScroll(e[0],"left")?0:p.sizeDiff.height,n=s?0:p.sizeDiff.width,o={width:p.helper.width()-n,height:p.helper.height()-h},a=parseFloat(p.element.css("left"))+(p.position.left-p.originalPosition.left)||null,l=parseFloat(p.element.css("top"))+(p.position.top-p.originalPosition.top)||null,r.animate||this.element.css(t.extend(o,{top:l,left:a})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!r.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",i),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var i,e,s,h,n,o=this.options;n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(i=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,e=n.maxHeight*this.aspectRatio,h=n.maxWidth/this.aspectRatio,i>n.minWidth&&(n.minWidth=i),s>n.minHeight&&(n.minHeight=s),e<n.maxWidth&&(n.maxWidth=e),h<n.maxHeight&&(n.maxHeight=h)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var i=this.position,e=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(e.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(e.height-t.height),t.left=i.left+(e.width-t.width)),t},_respectSize:function(t){var i=this._vBoundaries,e=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,h=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,o=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,r=/sw|nw|w/.test(e),p=/nw|ne|n/.test(e);return n&&(t.width=i.minWidth),o&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),h&&(t.height=i.maxHeight),n&&r&&(t.left=a-i.minWidth),s&&r&&(t.left=a-i.maxWidth),o&&p&&(t.top=l-i.minHeight),h&&p&&(t.top=l-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var i=0,e=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],h=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];i<4;i++)e[i]=parseFloat(s[i])||0,e[i]+=parseFloat(h[i])||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,i=0,e=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var i=this.element,e=this.options;this.elementOffset=i.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,i){return{width:this.originalSize.width+i}},w:function(t,i){var e=this.originalSize,s=this.originalPosition;return{left:s.left+i,width:e.width-i}},n:function(t,i,e){var s=this.originalSize,h=this.originalPosition;return{top:h.top+e,height:s.height-e}},s:function(t,i,e){return{height:this.originalSize.height+e}},se:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},sw:function(i,e,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[i,e,s]))},ne:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[i,e,s]))},nw:function(i,e,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[i,e,s]))}},_propagate:function(i,e){t.ui.plugin.call(this,i,[e,this.ui()]),"resize"!==i&&this._trigger(i,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(i){var e=t(this).resizable("instance"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&e._hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseFloat(e.element.css("left"))+(e.position.left-e.originalPosition.left)||null,p=parseFloat(e.element.css("top"))+(e.position.top-e.originalPosition.top)||null;e.element.animate(t.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(e.element.css("width")),height:parseFloat(e.element.css("height")),top:parseFloat(e.element.css("top")),left:parseFloat(e.element.css("left"))};h&&h.length&&t(h[0]).css({width:s.width,height:s.height}),e._updateCache(s),e._propagate("resize",i)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,e,s,h,n,o,a,l=t(this).resizable("instance"),r=l.options,p=l.element,d=r.containment,g=d instanceof t?d.get(0):/parent/.test(d)?p.parent().get(0):d;g&&(l.containerElement=t(g),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(g),e=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){e[t]=l._num(i.css("padding"+s))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-e[3],width:i.innerWidth()-e[1]},s=l.containerOffset,h=l.containerSize.height,n=l.containerSize.width,o=l._hasScroll(g,"left")?g.scrollWidth:n,a=l._hasScroll(g)?g.scrollHeight:h,l.parentData={element:g,left:s.left,top:s.top,width:o,height:a}))},resize:function(i){var e,s,h,n,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||i.shiftKey,d={top:0,left:0},g=o.containerElement,u=!0;g[0]!==document&&/static/.test(g.css("position"))&&(d=l),r.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),p&&(o.size.height=o.size.width/o.aspectRatio,u=!1),o.position.left=a.helper?l.left:0),r.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),p&&(o.size.width=o.size.height*o.aspectRatio,u=!1),o.position.top=o._helper?l.top:0),h=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),h&&n?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,p&&(o.size.height=o.size.width/o.aspectRatio,u=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,p&&(o.size.width=o.size.height*o.aspectRatio,u=!1)),u||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var i=t(this).resizable("instance"),e=i.options,s=i.containerOffset,h=i.containerPosition,n=i.containerElement,o=t(i.helper),a=o.offset(),l=o.outerWidth()-i.sizeDiff.width,r=o.outerHeight()-i.sizeDiff.height;i._helper&&!e.animate&&/relative/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r}),i._helper&&!e.animate&&/static/.test(n.css("position"))&&t(this).css({left:a.left-h.left-s.left,width:l,height:r})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var i=t(this).resizable("instance"),e=i.options;t(e.alsoResize).each(function(){var i=t(this);i.data("ui-resizable-alsoresize",{width:parseFloat(i.width()),height:parseFloat(i.height()),left:parseFloat(i.css("left")),top:parseFloat(i.css("top"))})})},resize:function(i,e){var s=t(this).resizable("instance"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};t(h.alsoResize).each(function(){var i=t(this),s=t(this).data("ui-resizable-alsoresize"),h={},n=i.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(n,function(t,i){var e=(s[i]||0)+(a[i]||0);e&&e>=0&&(h[i]=e||null)}),i.css(h)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var i=t(this).resizable("instance"),e=i.size;i.ghost=i.originalElement.clone(),i.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),i._addClass(i.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof i.options.ghost&&i.ghost.addClass(this.options.ghost),i.ghost.appendTo(i.helper)},resize:function(){var i=t(this).resizable("instance");i.ghost&&i.ghost.css({position:"relative",height:i.size.height,width:i.size.width})},stop:function(){var i=t(this).resizable("instance");i.ghost&&i.helper&&i.helper.get(0).removeChild(i.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var i,e=t(this).resizable("instance"),s=e.options,h=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,r=l[0]||1,p=l[1]||1,d=Math.round((h.width-n.width)/r)*r,g=Math.round((h.height-n.height)/p)*p,u=n.width+d,f=n.height+g,c=s.maxWidth&&s.maxWidth<u,m=s.maxHeight&&s.maxHeight<f,z=s.minWidth&&s.minWidth>u,w=s.minHeight&&s.minHeight>f;s.grid=l,z&&(u+=r),w&&(f+=p),c&&(u-=r),m&&(f-=p),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=f):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.top=o.top-g):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.left=o.left-d):((f-p<=0||u-r<=0)&&(i=e._getPaddingPlusBorderDimensions(this)),f-p>0?(e.size.height=f,e.position.top=o.top-g):(f=p-i.height,e.size.height=f,e.position.top=o.top+n.height-f),u-r>0?(e.size.width=u,e.position.left=o.left-d):(u=r-i.width,e.size.width=u,e.position.left=o.left+n.width-u))}}),t.ui.resizable});
},{}],69:[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],t):t(jQuery)}(function(t){function i(t){return function(){var i=this.element.val();t.apply(this,arguments),this._refresh(),i!==this.element.val()&&this._trigger("change")}}return t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),n=this.element;return t.each(["min","max","step"],function(t,e){var s=n.attr(e);null!=s&&s.length&&(i[e]=s)}),i},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,i){if(i){if(!this.spinning&&!this._start(t))return!1;this._spin((i>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(i){function n(){var i=this.element[0]===t.ui.safeActiveElement(this.document[0]);i||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}var e;e=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),i.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(i)!==!1&&this._repeat(null,t(i.currentTarget).hasClass("ui-spinner-up")?1:-1,i)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(i){if(t(i.currentTarget).hasClass("ui-state-active"))return this._start(i)!==!1&&void this._repeat(null,t(i.currentTarget).hasClass("ui-spinner-up")?1:-1,i)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(i){var n=this.options,e=t.ui.keyCode;switch(i.keyCode){case e.UP:return this._repeat(null,1,i),!0;case e.DOWN:return this._repeat(null,-1,i),!0;case e.PAGE_UP:return this._repeat(null,n.page,i),!0;case e.PAGE_DOWN:return this._repeat(null,-n.page,i),!0}return!1},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,i,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,i,n)},t),this._spin(i*this.options.step,n)},_spin:function(t,i){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",i,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(i){var n=this.options.incremental;return n?t.isFunction(n)?n(i):Math.floor(i*i*i/5e4-i*i/500+17*i/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var i=t.toString(),n=i.indexOf(".");return n===-1?0:i.length-n-1},_adjustValue:function(t){var i,n,e=this.options;return i=null!==e.min?e.min:0,n=t-i,n=Math.round(n/e.step)*e.step,t=i+n,t=parseFloat(t.toFixed(this._precision())),null!==e.max&&t>e.max?e.max:null!==e.min&&t<e.min?e.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,i){var n,e,s;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=i,void this.element.val(this._format(n))):("max"!==t&&"min"!==t&&"step"!==t||"string"==typeof i&&(i=this._parse(i)),"icons"===t&&(e=this.buttons.first().find(".ui-icon"),this._removeClass(e,null,this.options.icons.up),this._addClass(e,null,i.up),s=this.buttons.last().find(".ui-icon"),this._removeClass(s,null,this.options.icons.down),this._addClass(s,null,i.down)),void this._super(t,i))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:i(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,i){var n;""!==t&&(n=this._parse(t),null!==n&&(i||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:i(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:i(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:i(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:i(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void i(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner});
},{}],70:[function(require,module,exports){
!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t=r();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p="",r(0)}([function(e,r,t){e.exports=t(1)},function(e,r,t){"use strict";function n(){var e="undefined"==typeof JSON?{}:JSON;o.setupJSON(e)}var o=t(2),i=t(3);n();var a=window._rollbarConfig,s=a&&a.globalAlias||"Rollbar",u=window[s]&&"undefined"!=typeof window[s].shimId;!u&&a?o.wrapper.init(a):(window.Rollbar=o.wrapper,window.RollbarNotifier=i.Notifier),e.exports=o.wrapper},function(e,r,t){"use strict";function n(e,r,t){!t[4]&&window._rollbarWrappedError&&(t[4]=window._rollbarWrappedError,window._rollbarWrappedError=null),e.uncaughtError.apply(e,t),r&&r.apply(window,t)}function o(e,r){if(r.hasOwnProperty&&r.hasOwnProperty("addEventListener")){var t=r.addEventListener;r.addEventListener=function(r,n,o){t.call(this,r,e.wrap(n),o)};var n=r.removeEventListener;r.removeEventListener=function(e,r,t){n.call(this,e,r&&r._wrapped||r,t)}}}var i=t(3),a=t(8),s=i.Notifier;window._rollbarWrappedError=null;var u={};u.init=function(e,r){var t=new s(r);if(t.configure(e),e.captureUncaught){var i;r&&a.isType(r._rollbarOldOnError,"function")?i=r._rollbarOldOnError:window.onerror&&!window.onerror.belongsToShim&&(i=window.onerror),window.onerror=function(){var e=Array.prototype.slice.call(arguments,0);n(t,i,e)};var u,c,l=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(u=0;u<l.length;++u)c=l[u],window[c]&&window[c].prototype&&o(t,window[c].prototype)}return e.captureUnhandledRejections&&(r&&a.isType(r._unhandledRejectionHandler,"function")&&window.removeEventListener("unhandledrejection",r._unhandledRejectionHandler),t._unhandledRejectionHandler=function(e){var r=e.reason,n=e.promise,o=e.detail;!r&&o&&(r=o.reason,n=o.promise),t.unhandledRejection(r,n)},window.addEventListener("unhandledrejection",t._unhandledRejectionHandler)),window.Rollbar=t,s.processPayloads(),t},e.exports={wrapper:u,setupJSON:i.setupJSON}},function(e,r,t){"use strict";function n(e){E=e,w.setupJSON(e)}function o(e,r){return function(){var t=r||this;try{return e.apply(t,arguments)}catch(e){console.error("[Rollbar]:",e)}}}function i(){h||(h=setTimeout(f,1e3))}function a(){return _}function s(e){_=_||this;var r="https://"+s.DEFAULT_ENDPOINT;this.options={enabled:!0,endpoint:r,environment:"production",scrubFields:g([],s.DEFAULT_SCRUB_FIELDS),checkIgnore:null,logLevel:s.DEFAULT_LOG_LEVEL,reportLevel:s.DEFAULT_REPORT_LEVEL,uncaughtErrorLevel:s.DEFAULT_UNCAUGHT_ERROR_LEVEL,payload:{}},this.lastError=null,this.plugins={},this.parentNotifier=e,e&&(e.hasOwnProperty("shimId")?e.notifier=this:this.configure(e.options))}function u(e){window._rollbarPayloadQueue.push(e),i()}function c(e){return o(function(){var r=this._getLogArgs(arguments);return this._log(e||r.level||this.options.logLevel||s.DEFAULT_LOG_LEVEL,r.message,r.err,r.custom,r.callback)})}function l(e,r){e||(e=r?E.stringify(r):"");var t={body:e};return r&&(t.extra=g(!0,{},r)),{message:t}}function p(e,r,t){var n=m.guessErrorClass(r.message),o=r.name||n[0],i=n[1],a={exception:{class:o,message:i}};if(e&&(a.exception.description=e||"uncaught exception"),r.stack){var s,u,c,p,f,d,h,w;for(a.frames=[],h=0;h<r.stack.length;++h)s=r.stack[h],u={filename:s.url?v.sanitizeUrl(s.url):"(unknown)",lineno:s.line||null,method:s.func&&"?"!==s.func?s.func:"[anonymous]",colno:s.column},c=p=f=null,d=s.context?s.context.length:0,d&&(w=Math.floor(d/2),p=s.context.slice(0,w),c=s.context[w],f=s.context.slice(w)),c&&(u.code=c),(p||f)&&(u.context={},p&&p.length&&(u.context.pre=p),f&&f.length&&(u.context.post=f)),s.args&&(u.args=s.args),a.frames.push(u);return a.frames.reverse(),t&&(a.extra=g(!0,{},t)),{trace:a}}return l(o+": "+i,t)}function f(){var e;try{for(;e=window._rollbarPayloadQueue.shift();)d(e)}finally{h=void 0}}function d(e){var r=e.endpointUrl,t=e.accessToken,n=e.payload,o=e.callback||function(){},i=(new Date).getTime();i-L>=6e4&&(L=i,R=0);var a=window._globalRollbarOptions.maxItems,c=window._globalRollbarOptions.itemsPerMinute,l=function(){return!n.ignoreRateLimit&&a>=1&&T>=a},p=function(){return!n.ignoreRateLimit&&c>=1&&R>=c};return l()?void o(new Error(a+" max items reached")):p()?void o(new Error(c+" items per minute reached")):(T++,R++,l()&&_._log(_.options.uncaughtErrorLevel,"maxItems has been hit. Ignoring errors for the remainder of the current page load.",null,{maxItems:a},null,!1,!0),n.ignoreRateLimit&&delete n.ignoreRateLimit,void y.post(r,t,n,function(r,t){return r?(r instanceof b&&(e.callback=function(){},setTimeout(function(){u(e)},s.RETRY_DELAY)),o(r)):o(null,t)}))}var h,g=t(4),m=t(5),v=t(8),w=t(10),y=w.XHR,b=w.ConnectionError,E=null;s.NOTIFIER_VERSION="1.9.2",s.DEFAULT_ENDPOINT="api.rollbar.com/api/1/",s.DEFAULT_SCRUB_FIELDS=["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],s.DEFAULT_LOG_LEVEL="debug",s.DEFAULT_REPORT_LEVEL="debug",s.DEFAULT_UNCAUGHT_ERROR_LEVEL="error",s.DEFAULT_ITEMS_PER_MIN=60,s.DEFAULT_MAX_ITEMS=0,s.LEVELS={debug:0,info:1,warning:2,error:3,critical:4},s.RETRY_DELAY=1e4,window._rollbarPayloadQueue=window._rollbarPayloadQueue||[],window._globalRollbarOptions={startTime:(new Date).getTime(),maxItems:s.DEFAULT_MAX_ITEMS,itemsPerMinute:s.DEFAULT_ITEMS_PER_MIN};var _,x=s.prototype;x._getLogArgs=function(e){for(var r,t,n,i,a,u,c=this.options.logLevel||s.DEFAULT_LOG_LEVEL,l=[],p=0;p<e.length;++p)u=e[p],a=v.typeName(u),"string"===a?r?l.push(u):r=u:"function"===a?i=o(u,this):"date"===a?l.push(u):"error"===a||u instanceof Error||"undefined"!=typeof DOMException&&u instanceof DOMException?t?l.push(u):t=u:"object"!==a&&"array"!==a||(n?l.push(u):n=u);return l.length&&(n=n||{},n.extraArgs=l),{level:c,message:r,err:t,custom:n,callback:i}},x._route=function(e){var r=this.options.endpoint,t=/\/$/.test(r),n=/^\//.test(e);return t&&n?e=e.substring(1):t||n||(e="/"+e),r+e},x._processShimQueue=function(e){for(var r,t,n,o,i,a,u,c={};t=e.shift();)r=t.shim,n=t.method,o=t.args,i=r.parentShim,u=c[r.shimId],u||(i?(a=c[i.shimId],u=new s(a)):u=this,c[r.shimId]=u),u[n]&&v.isType(u[n],"function")&&u[n].apply(u,o)},x._buildPayload=function(e,r,t,n,o){var i=this.options.accessToken,a=this.options.environment,u=g(!0,{},this.options.payload),c=v.uuid4();if(void 0===s.LEVELS[r])throw new Error("Invalid level");if(!t&&!n&&!o)throw new Error("No message, stack info or custom data");var l={environment:a,endpoint:this.options.endpoint,uuid:c,level:r,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(t,n,o),request:{url:window.location.href,query_string:window.location.search,user_ip:"$remote_ip"},client:{runtime_ms:e.getTime()-window._globalRollbarOptions.startTime,timestamp:Math.round(e.getTime()/1e3),javascript:{browser:window.navigator.userAgent,language:window.navigator.language,cookie_enabled:window.navigator.cookieEnabled,screen:{width:window.screen.width,height:window.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:s.NOTIFIER_VERSION}};u.body&&delete u.body;var p={access_token:i,data:g(!0,l,u)};return this._scrub(p.data),p},x._buildBody=function(e,r,t){var n;return n=r?p(e,r,t):l(e,t)},x._getBrowserPlugins=function(){if(!this._browserPlugins){var e,r,t=window.navigator.plugins||[],n=t.length,o=[];for(r=0;r<n;++r)e=t[r],o.push({name:e.name,description:e.description});this._browserPlugins=o}return this._browserPlugins},x._scrub=function(e){function r(e,r,t,n,o,i){return r+v.redact(i)}function t(e){var t;if(v.isType(e,"string"))for(t=0;t<s.length;++t)e=e.replace(s[t],r);return e}function n(e,r){var t;for(t=0;t<a.length;++t)if(a[t].test(e)){r=v.redact(r);break}return r}function o(e,r){var o=n(e,r);return o===r?t(o):o}var i=this.options.scrubFields,a=this._getScrubFieldRegexs(i),s=this._getScrubQueryParamRegexs(i);return v.traverse(e,o),e},x._getScrubFieldRegexs=function(e){for(var r,t=[],n=0;n<e.length;++n)r="\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",t.push(new RegExp(r,"i"));return t},x._getScrubQueryParamRegexs=function(e){for(var r,t=[],n=0;n<e.length;++n)r="\\[?(%5[bB])?"+e[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",t.push(new RegExp("("+r+"=)([^&\\n]+)","igm"));return t},x._urlIsWhitelisted=function(e){var r,t,n,o,i,a,s,u,c,l;try{if(r=this.options.hostWhiteList,t=e&&e.data&&e.data.body&&e.data.body.trace,!r||0===r.length)return!0;if(!t)return!0;for(s=r.length,i=t.frames.length,c=0;c<i;c++){if(n=t.frames[c],o=n.filename,!v.isType(o,"string"))return!0;for(l=0;l<s;l++)if(a=r[l],u=new RegExp(a),u.test(o))return!0}}catch(e){return this.configure({hostWhiteList:null}),console.error("[Rollbar]: Error while reading your configuration's hostWhiteList option. Removing custom hostWhiteList.",e),!0}return!1},x._messageIsIgnored=function(e){var r,t,n,o,i,a,s,u,c;try{if(i=!1,n=this.options.ignoredMessages,!n||0===n.length)return!1;if(s=e&&e.data&&e.data.body,u=s&&s.trace&&s.trace.exception&&s.trace.exception.message,c=s&&s.message&&s.message.body,r=u||c,!r)return!1;for(o=n.length,t=0;t<o&&(a=new RegExp(n[t],"gi"),!(i=a.test(r)));t++);}catch(e){this.configure({ignoredMessages:null}),console.error("[Rollbar]: Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return i},x._enqueuePayload=function(e,r,t,n){var o={callback:n,accessToken:this.options.accessToken,endpointUrl:this._route("item/"),payload:e},i=function(){if(n){var e="This item was not sent to Rollbar because it was ignored. This can happen if a custom checkIgnore() function was used or if the item's level was less than the notifier' reportLevel. See https://rollbar.com/docs/notifier/rollbar.js/configuration for more details.";n(null,{err:0,result:{id:null,uuid:null,message:e}})}};if(this._internalCheckIgnore(r,t,e))return void i();try{if(v.isType(this.options.checkIgnore,"function")&&this.options.checkIgnore(r,t,e))return void i()}catch(e){this.configure({checkIgnore:null}),console.error("[Rollbar]: Error while calling custom checkIgnore() function. Removing custom checkIgnore().",e)}if(this._urlIsWhitelisted(e)&&!this._messageIsIgnored(e)){if(this.options.verbose){if(e.data&&e.data.body&&e.data.body.trace){var a=e.data.body.trace,s=a.exception.message;console.error("[Rollbar]: ",s)}console.info("[Rollbar]: ",o)}v.isType(this.options.logFunction,"function")&&this.options.logFunction(o);try{v.isType(this.options.transform,"function")&&this.options.transform(e)}catch(e){this.configure({transform:null}),console.error("[Rollbar]: Error while calling custom transform() function. Removing custom transform().",e)}this.options.enabled&&u(o)}},x._internalCheckIgnore=function(e,r,t){var n=r[0],o=s.LEVELS[n]||0,i=s.LEVELS[this.options.reportLevel]||0;if(o<i)return!0;var a=this.options?this.options.plugins:{};if(a&&a.jquery&&a.jquery.ignoreAjaxErrors)try{return!!t.data.body.message.extra.isAjax}catch(e){return!1}return!1},x._log=function(e,r,t,n,o,i,a){var s=null;if(t)try{if(s=t._savedStackTrace?t._savedStackTrace:m.parse(t),t===this.lastError)return;this.lastError=t}catch(e){console.error("[Rollbar]: Error while parsing the error object.",e),r=t.message||t.description||r||String(t),t=null}var u=this._buildPayload(new Date,e,r,s,n);a&&(u.ignoreRateLimit=!0),this._enqueuePayload(u,!!i,[e,r,t,n],o)},x.log=c(),x.debug=c("debug"),x.info=c("info"),x.warn=c("warning"),x.warning=c("warning"),x.error=c("error"),x.critical=c("critical"),x.uncaughtError=o(function(e,r,t,n,o,i){if(i=i||null,o&&v.isType(o,"error"))return void this._log(this.options.uncaughtErrorLevel,e,o,i,null,!0);if(r&&v.isType(r,"error"))return void this._log(this.options.uncaughtErrorLevel,e,r,i,null,!0);var a={url:r||"",line:t};a.func=m.guessFunctionName(a.url,a.line),a.context=m.gatherContext(a.url,a.line);var s={mode:"onerror",message:o?String(o):e||"uncaught exception",url:document.location.href,stack:[a],useragent:navigator.userAgent},u=this._buildPayload(new Date,this.options.uncaughtErrorLevel,e,s,i);this._enqueuePayload(u,!0,[this.options.uncaughtErrorLevel,e,r,t,n,o])}),x.unhandledRejection=o(function(e,r){if(null==e)return void _._log(_.options.uncaughtErrorLevel,"unhandled rejection was null or undefined!",null,{},null,!1,!1);var t=e.message||(e?String(e):"unhandled rejection"),n=e._rollbarContext||r._rollbarContext||null;if(e&&v.isType(e,"error"))return void this._log(this.options.uncaughtErrorLevel,t,e,n,null,!0);var o={url:"",line:0};o.func=m.guessFunctionName(o.url,o.line),o.context=m.gatherContext(o.url,o.line);var i={mode:"unhandledrejection",message:t,url:document.location.href,stack:[o],useragent:navigator.userAgent},a=this._buildPayload(new Date,this.options.uncaughtErrorLevel,t,i,n);this._enqueuePayload(a,!0,[this.options.uncaughtErrorLevel,t,o.url,o.line,0,e,r])}),x.global=o(function(e){e=e||{};var r={startTime:e.startTime,maxItems:e.maxItems,itemsPerMinute:e.itemsPerMinute};g(!0,window._globalRollbarOptions,r),void 0!==e.maxItems&&(T=0),void 0!==e.itemsPerMinute&&(R=0)}),x.configure=o(function(e,r){var t=g(!0,{},e);g(!r,this.options,t),this.global(t)}),x.scope=o(function(e){var r=new s(this);return g(!0,r.options.payload,e),r}),x.wrap=function(e,r){try{var t;if(t=v.isType(r,"function")?r:function(){return r||{}},!v.isType(e,"function"))return e;if(e._isWrap)return e;if(!e._wrapped){e._wrapped=function(){try{return e.apply(this,arguments)}catch(r){throw"string"==typeof r&&(r=new String(r)),r.stack||(r._savedStackTrace=m.parse(r)),r._rollbarContext=t()||{},r._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=r,r}},e._wrapped._isWrap=!0;for(var n in e)e.hasOwnProperty(n)&&(e._wrapped[n]=e[n])}return e._wrapped}catch(r){return e}},x.loadFull=function(){console.error("[Rollbar]: Unexpected Rollbar.loadFull() called on a Notifier instance")},s.processPayloads=function(e){return e?void f():void i()};var L=(new Date).getTime(),T=0,R=0;e.exports={Notifier:s,setupJSON:n,topLevelNotifier:a}},function(e,r){"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},i=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r=t.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;var i;for(i in e);return"undefined"==typeof i||t.call(e,i)};e.exports=function e(){var r,t,n,a,s,u,c=arguments[0],l=1,p=arguments.length,f=!1;for("boolean"==typeof c?(f=c,c=arguments[1]||{},l=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});l<p;++l)if(r=arguments[l],null!=r)for(t in r)n=c[t],a=r[t],c!==a&&(f&&a&&(i(a)||(s=o(a)))?(s?(s=!1,u=n&&o(n)?n:[]):u=n&&i(n)?n:{},c[t]=e(f,u,a)):"undefined"!=typeof a&&(c[t]=a));return c}},function(e,r,t){"use strict";function n(){return l}function o(){return null}function i(e){var r={};return r._stackFrame=e,r.url=e.fileName,r.line=e.lineNumber,r.func=e.functionName,r.column=e.columnNumber,r.args=e.args,r.context=o(r.url,r.line),r}function a(e){function r(){var r=[];try{r=c.parse(e)}catch(e){r=[]}for(var t=[],n=0;n<r.length;n++)t.push(new i(r[n]));return t}return{stack:r(),message:e.message,name:e.name}}function s(e){return new a(e)}function u(e){if(!e)return["Unknown error. There was no error message to display.",""];var r=e.match(p),t="(unknown)";return r&&(t=r[r.length-1],e=e.replace((r[r.length-2]||"")+t+":",""),e=e.replace(/(^[\s]+|[\s]+$)/g,"")),[t,e]}var c=t(6),l="?",p=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");e.exports={guessFunctionName:n,guessErrorClass:u,gatherContext:o,parse:s,Stack:a,Frame:i}},function(e,r,t){var n,o,i;!function(a,s){"use strict";o=[t(7)],n=s,i="function"==typeof n?n.apply(r,o):n,!(void 0!==i&&(e.exports=i))}(this,function(e){"use strict";function r(e,r,t){if("function"==typeof Array.prototype.map)return e.map(r,t);for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=r.call(t,e[o]);return n}function t(e,r,t){if("function"==typeof Array.prototype.filter)return e.filter(r,t);for(var n=[],o=0;o<e.length;o++)r.call(t,e[o])&&n.push(e[o]);return n}var n=/(^|@)\S+\:\d+/,o=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(o))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(e.indexOf(":")===-1)return[e];var r=e.replace(/[\(\)\s]/g,"").split(":"),t=r.pop(),n=r[r.length-1];if(!isNaN(parseFloat(n))&&isFinite(n)){var o=r.pop();return[r.join(":"),o,t]}return[r.join(":"),t,void 0]},parseV8OrIE:function(n){var i=t(n.stack.split("\n"),function(e){return!!e.match(o)},this);return r(i,function(r){r.indexOf("(eval ")>-1&&(r=r.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=r.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop()),o=t.join(" ")||void 0,i="eval"===n[0]?void 0:n[0];return new e(o,void 0,i,n[1],n[2],r)},this)},parseFFOrSafari:function(n){var o=t(n.stack.split("\n"),function(e){return!e.match(i)},this);return r(o,function(r){if(r.indexOf(" > eval")>-1&&(r=r.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),r.indexOf("@")===-1&&r.indexOf(":")===-1)return new e(r);var t=r.split("@"),n=this.extractLocation(t.pop()),o=t.shift()||void 0;return new e(o,void 0,n[0],n[1],n[2],r)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(r){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=r.message.split("\n"),o=[],i=2,a=n.length;i<a;i+=2){var s=t.exec(n[i]);s&&o.push(new e(void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera10:function(r){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=r.stacktrace.split("\n"),o=[],i=0,a=n.length;i<a;i+=2){var s=t.exec(n[i]);s&&o.push(new e(s[3]||void 0,void 0,s[2],s[1],void 0,n[i]))}return o},parseOpera11:function(o){var i=t(o.stack.split("\n"),function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return r(i,function(r){var t,n=r.split("@"),o=this.extractLocation(n.pop()),i=n.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(t=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new e(a,s,o[0],o[1],o[2],r)},this)}}})},function(e,r,t){var n,o,i;!function(t,a){"use strict";o=[],n=a,i="function"==typeof n?n.apply(r,o):n,!(void 0!==i&&(e.exports=i))}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e,r,t,n,o,i){void 0!==e&&this.setFunctionName(e),void 0!==r&&this.setArgs(r),void 0!==t&&this.setFileName(t),void 0!==n&&this.setLineNumber(n),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}return r.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(r){if(!e(r))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(r)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(r){if(!e(r))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(r)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var r=this.getFunctionName()||"{anonymous}",t="("+(this.getArgs()||[]).join(",")+")",n=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return r+t+n+o+i}},r})},function(e,r,t){"use strict";function n(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function o(e,r){return n(e)===r}function i(e){if(!o(e,"string"))throw new Error("received invalid input");for(var r=l,t=r.parser[r.strictMode?"strict":"loose"].exec(e),n={},i=14;i--;)n[r.key[i]]=t[i]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(e,t,o){t&&(n[r.q.name][t]=o)}),n}function a(e){var r=i(e);return""===r.anchor&&(r.source=r.source.replace("#","")),e=r.source.replace("?"+r.query,"")}function s(e,r){var t,n,i,a=o(e,"object"),u=o(e,"array"),c=[];if(a)for(t in e)e.hasOwnProperty(t)&&c.push(t);else if(u)for(i=0;i<e.length;++i)c.push(i);for(i=0;i<c.length;++i)t=c[i],n=e[t],a=o(n,"object"),u=o(n,"array"),a||u?e[t]=s(n,r):e[t]=r(t,n);return e}function u(e){return e=String(e),new Array(e.length+1).join("*")}function c(){var e=(new Date).getTime(),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===r?t:7&t|8).toString(16)});return r}t(9);var l={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},p={isType:o,parseUri:i,parseUriOptions:l,redact:u,sanitizeUrl:a,traverse:s,typeName:n,uuid4:c};e.exports=p},function(e,r){!function(e){"use strict";e.console=e.console||{};for(var r,t,n=e.console,o={},i=function(){},a="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");r=a.pop();)n[r]||(n[r]=o);for(;t=s.pop();)n[t]||(n[t]=i)}("undefined"==typeof window?this:window)},function(e,r,t){"use strict";function n(e){a=e}function o(e){this.name="Connection Error",this.message=e,this.stack=(new Error).stack}var i=t(8),a=null;o.prototype=Object.create(Error.prototype),o.prototype.constructor=o;var s={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],createXMLHTTPObject:function(){var e,r=!1,t=s.XMLHttpFactories,n=t.length;for(e=0;e<n;e++)try{r=t[e]();break}catch(e){}return r},post:function(e,r,t,n){if(!i.isType(t,"object"))throw new Error("Expected an object to POST");t=a.stringify(t),n=n||function(){};var u=s.createXMLHTTPObject();if(u)try{try{var c=function(){try{if(c&&4===u.readyState){c=void 0;var e=a.parse(u.responseText);200===u.status?n(null,e):i.isType(u.status,"number")&&u.status>=400&&u.status<600?(403==u.status&&console.error("[Rollbar]:"+e.message),n(new Error(String(u.status)))):n(new o("XHR response had no status code (likely connection failure)"))}}catch(e){var r;r=e&&e.stack?e:new Error(e),n(r)}};u.open("POST",e,!0),u.setRequestHeader&&(u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("X-Rollbar-Access-Token",r)),u.onreadystatechange=c,u.send(t)}catch(r){if("undefined"!=typeof XDomainRequest){"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var l=function(){n(new o("Request timed out"))},p=function(){n(new Error("Error during request"))},f=function(){n(null,a.parse(u.responseText))};u=new XDomainRequest,u.onprogress=function(){},u.ontimeout=l,u.onerror=p,u.onload=f,u.open("POST",e,!0),u.send(t)}}}catch(e){n(e)}}};e.exports={XHR:s,setupJSON:n,ConnectionError:o}}])});
},{}],71:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),my=require("dota-hero-calculator-library"),AbilityModel=require("dota-hero-calculator-library/src/herocalc/AbilityModel"),BasicInventoryViewModel=require("dota-hero-calculator-library/src/herocalc/inventory/BasicInventoryViewModel"),union=require("dota-hero-calculator-library/src/herocalc/util/union"),inventoryClipBoard={items:[],activeItems:[]},GraphPropertyOption=function(e,t){this.id=e,this.label=t};AbilityModel.prototype.isQWER=function(e){return"Empty"!=e.displayname&&(e.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN")==-1||e.name.indexOf("invoker_")!=-1)&&e.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE")==-1};var BuildExplorerViewModel=function(e){var t=this;t.parent=e,t.itemBuild=ko.observableArray([]),t.skillBuild=ko.observableArray([]),t.graphDataItemRows=[];for(var r=0;r<25;r++)t.itemBuild.push(new BasicInventoryViewModel),t.itemBuild()[r].carryOver=ko.observable(!0),t.skillBuild.push(ko.observable(-1)),t.graphDataItemRows.push(ko.observable(!1));return t.toggleItemBuildCarryOver=function(e){t.itemBuild()[e].carryOver(!t.itemBuild()[e].carryOver())},t.abilityMapData=[0,1,2,3,4],t.abilityMapHero=t.parent.selectedHero().heroName,t.abilityMap=ko.computed(function(){if(t.abilityMapHero!=t.parent.selectedHero().heroName){t.abilityMapHero=t.parent.selectedHero().heroName;for(var e=t.parent.ability().abilities().map(function(e,r){return t.parent.ability().isQWER(e)?r:-1}).filter(function(e){return e!=-1}),r=0;r<25;r++){var i=t.skillBuild()[r]();if(i!=-1){var a=t.abilityMapData.indexOf(i),o=e[a];o!=i&&t.skillBuild()[r](o)}}t.abilityMapData=e}}),t.availableSkillBuildPoints=ko.computed(function(){return t.skillBuild().reduce(function(e,t){return e+(t()==-1)},0)}),t.getSkillBuildAbilityLevel=function(e){return t.skillBuild().reduce(function(t,r){return t+(r()==e)},0)},t.toggleAbilitySkillBuild=function(e,r,i,a){if(t.skillBuild()[e]()!=r){var o=t.parent.ability().abilities()[r],n=(o.abilitytype,t.skillBuild().slice(0,e)),l=(t.skillBuild().reduce(function(e,t){return e+(t()==r)},0),n.reduce(function(e,t){return e+(t()==r)},0));if(t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,e+1,l)){t.skillBuild()[e](r);for(var s=e+1;s<25;s++)t.skillBuild()[s]()==r&&(l++,t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,s+1,l)||(t.skillBuild()[s](-1),l--))}else if(l>0&&t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,e+1,l-1))for(var s=n.length-1;s>=0;s--)if(n[s]()==r){t.skillBuild()[s](-1),t.skillBuild()[e](r);break}}else t.skillBuild()[e](-1)},t.IsValidAbilityLevel=function(e,t,r,i){var a=1,o=2,n=4;return"attribute_bonus"==e.name?n=10:"DOTA_ABILITY_TYPE_ULTIMATE"==e.abilitytype?"invoker"==t?(a=2,o=5):"meepo"==t?(a=3,o=7,n=3):(a=6,o=5,n=3):"invoker"==t&&(n=7),r>=a+o*i&&i<n},t.resetItemBuild=function(e){t.itemBuild()[e].removeAll()},t.resetAllItemBuilds=function(){for(var e=0;e<25;e++)t.itemBuild()[e].removeAll(),t.itemBuild()[e].carryOver(!0)},t.resetSkillBuild=function(){for(var e=0;e<25;e++)t.skillBuild()[e](-1)},t.graphData=ko.observableArray([]),t.graphDataHeader=ko.observable(t.parent.selectedHero().heroDisplayName),t.parent.selectedHero.subscribe(function(e){t.graphDataHeader(t.parent.selectedHero().heroDisplayName)}),t.graphDataDescription=ko.observable(""),t.graphProperties=ko.observableArray([new GraphPropertyOption("totalArmorPhysical","Armor"),new GraphPropertyOption("totalArmorPhysicalReduction","Physical Damage Reduction"),new GraphPropertyOption("totalMagicResistance","Magical Resistance"),new GraphPropertyOption("health","Health"),new GraphPropertyOption("healthregen","Health Regeneration"),new GraphPropertyOption("mana","Mana"),new GraphPropertyOption("manaregen","Mana Regeneration"),new GraphPropertyOption("ehpPhysical","EHP Physical"),new GraphPropertyOption("ehpMagical","EHP Magical"),new GraphPropertyOption("damage","Damage per attack"),new GraphPropertyOption("dps","Damage per second"),new GraphPropertyOption("attacksPerSecond","Attacks per second"),new GraphPropertyOption("attackTime","Time per attack")]),t.graph=function(){for(var e=[],r=t.parent.selectedHeroLevel(),i=t.parent.inventory.items(),a=t.parent.inventory.activeItems(),o=ko.toJS(t.skillBuild),n=[],l=[],s=[],p=0;p<t.parent.ability().abilities().length;p++)e.push(t.parent.ability().abilities()[p].level());for(var p=1;p<26;p++){t.parent.selectedHeroLevel(p);for(var c=o.slice(0,p),u=0;u<t.parent.ability().abilities().length;u++){var d=t.parent.ability().abilities()[u],v=c.reduce(function(e,t){return e+(t==u)},0);d.level(v)}t.itemBuild()[p-1].carryOver()||(n=[],l=[]),n=n.concat(t.itemBuild()[p-1].items()),l=l.concat(t.itemBuild()[p-1].activeItems()),t.parent.inventory.items(n),t.parent.inventory.activeItems(l);for(var h={},u=0;u<t.graphProperties().length;u++){var m=t.graphProperties()[u];switch(m.id){case"dps":h[m.id]=t.parent.damageTotalInfo().totalRow[2]().toFixed(2);break;case"damage":h[m.id]=t.parent.damageTotalInfo().totalRow[0]().toFixed(2);break;default:h[m.id]=t.parent[m.id]()}}h.items=n.map(function(e){return ko.toJS(e)}),s.push(h),n>0&&t.graphDataItemRows[p-1](!0)}for(var y={header:t.graphDataHeader(),description:t.graphDataDescription(),items:t.parent.inventory.items().map(function(e){return ko.toJS(e)}),skillBuild:ko.toJS(t.skillBuild),data:s,abilityMap:t.abilityMapData.slice(0),cumulativeSkillBuild:[],visible:ko.observable(!0)},p=0;p<25;p++){for(var b=[],g=y.skillBuild.slice(0,p+1),u=0;u<y.abilityMap.length;u++){var B=y.abilityMap[u];b.push(g.reduce(function(e,t){return e+(t==B)},0))}y.cumulativeSkillBuild.push(b)}t.graphData.push(y),t.parent.selectedHeroLevel(r);for(var p=0;p<t.parent.ability().abilities().length;p++)t.parent.ability().abilities()[p].level(e[p]);t.parent.inventory.items(i),t.parent.inventory.activeItems(a)},t.removeGraphDataSet=function(e){t.graphData.remove(e)},t.selectedGraphProperty=ko.observable(t.graphProperties()[0].id),t.graphChartOptions=ko.computed(function(){var e="rgb(151, 154, 162)";return{responsive:!0,datasetStroke:!1,datasetStrokeWidth:-1,datasetFill:!1,pointHitDetectionRadius:10,scaleFontColor:e,scaleLineColor:e.replace("rgb","rgba").replace(")",", .1)"),scaleGridLineColor:e.replace("rgb","rgba").replace(")",", .1)")}}),t.graphChartData=ko.computed(function(){for(var e={labels:[],datasets:[]},r=0;r<25;r++)e.labels.push((r+1).toString());for(var r=0;r<t.graphData().length;r++){var i=t.graphData()[r],a={label:i.header,fillColor:t.graphDistinctColor(t.graphData().length,r,.1),strokeColor:t.graphDistinctColor(t.graphData().length,r,1),pointColor:t.graphDistinctColor(t.graphData().length,r,1),pointStrokeColor:t.graphDistinctColor(t.graphData().length,r,1),pointHighlightFill:t.graphDistinctColor(t.graphData().length,r,.1),pointHighlightStroke:t.graphDistinctColor(t.graphData().length,r,.5),data:i.data.map(function(e){return e[t.selectedGraphProperty()]})};e.datasets.push(a)}return e}),t.graphDistinctColor=function(e,r,i){var i=i||1,a=t.hslToRgb(1/e*r%1,1,.5);return a.push(i),"rgba("+a.join()+")"},t.getDistinctColor=function(e,r,i){var i=i||1;return rgba=t.hslToRgb(1/e*r%1,1,.5),rgba.push(i),rgba},t.hslToRgb=function(e,t,r){var i,a,o;if(0==t)i=a=o=r;else{var n=function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e},l=r<.5?r*(1+t):r+t-r*t,s=2*r-l;i=n(s,l,e+1/3),a=n(s,l,e),o=n(s,l,e-1/3)}return[Math.round(255*i),Math.round(255*a),Math.round(255*o)]},t.showGraphItemBuildRows=ko.observable(!1),t.showGraphSkillBuildColumns=ko.observable(!1),t.graphRowHasItems=function(e){return t.graphData().some(function(t){return t.visible()&&t.data[e].items.length>0})},t.selectInventory=function(e){t.parent.selectedInventory(t.parent.selectedInventory()==e?-1:e)},t.getSelectedInventory=ko.pureComputed(function(){return t.parent.selectedInventory()==-1?t.parent.inventory:t.itemBuild()[t.parent.selectedInventory()]}),t.copyInventory=function(e){t.parent.selectedInventory()!=-1&&t.parent.selectedInventory()!=e&&(t.itemBuild()[t.parent.selectedInventory()].items(t.itemBuild()[t.parent.selectedInventory()].items().concat(t.itemBuild()[e].items())),t.itemBuild()[t.parent.selectedInventory()].activeItems(union(t.itemBuild()[t.parent.selectedInventory()].activeItems(),t.itemBuild()[e].activeItems())))},t.copyInventoryToClipBoard=function(e){e==-1?(inventoryClipBoard.items=t.parent.inventory.items.slice(0),inventoryClipBoard.activeItems=t.parent.inventory.activeItems.slice(0)):(inventoryClipBoard.items=t.itemBuild()[e].items.slice(0),inventoryClipBoard.activeItems=t.itemBuild()[e].activeItems.slice(0))},t.pasteInventoryFromClipBoard=function(e){inventoryClipBoard.items.length>0&&(e==-1?(t.parent.inventory.items(t.parent.inventory.items().concat(inventoryClipBoard.items)),t.parent.inventory.activeItems(union(t.parent.inventory.activeItems(),inventoryClipBoard.activeItems))):(t.itemBuild()[e].items(t.itemBuild()[e].items().concat(inventoryClipBoard.items)),t.itemBuild()[e].activeItems(union(t.itemBuild()[e].activeItems(),inventoryClipBoard.activeItems))))},t.loadGraphData=function(e){t.parent.sectionDisplay().skillbuild(!0);for(var r=0;r<e.length;r++)e[r].visible=ko.observable(e[r].visible);t.graphData(e)},t.graphChartContext=ko.observable(),t.exportImage=function(){var e=window.open();e.document.write('<img src="'+t.graphChartContext().canvas.toDataURL()+'"/>')},t};module.exports=BuildExplorerViewModel;
},{"./herocalc_knockout":80,"dota-hero-calculator-library":36,"dota-hero-calculator-library/src/herocalc/AbilityModel":2,"dota-hero-calculator-library/src/herocalc/inventory/BasicInventoryViewModel":26,"dota-hero-calculator-library/src/herocalc/util/union":43}],72:[function(require,module,exports){
(function (global){
"use strict";var ko="undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,HeroCalc=require("dota-hero-calculator-library"),DamageAmpViewModel=require("./DamageAmpViewModel"),HeroDamageAmpMixin=require("./HeroDamageAmpMixin"),CloneViewModel=function(e,o,l,a,i){var s=this;HeroCalc.CloneModel.call(this,e,o,a,i),s.bound=ko.observable(!1),s.sectionDisplay=ko.observable({inventory:ko.observable(!0),ability:ko.observable(!0),buff:ko.observable(!0),debuff:ko.observable(!0),damageamp:ko.observable(!1),illusion:ko.observable(!1),skillbuild:ko.observable(!1),"skillbuild-skills":ko.observable(!0),"skillbuild-items":ko.observable(!0)}),s.sectionDisplayToggle=function(e){s.sectionDisplay()[e](!s.sectionDisplay()[e]())},s.showUnitTab=ko.observable(!1),s.showDiff=ko.observable(!1),s.showCriticalStrikeDetails=ko.observable(!1),s.showDamageDetails=ko.observable(!1),s.showStatDetails=ko.observable(!1),s.showDamageAmpCalcDetails=ko.observable(!1),s.damageAmplification=new DamageAmpViewModel(e,o,l),s.damageReduction=new DamageAmpViewModel(e,o,l),HeroDamageAmpMixin(s)};CloneViewModel.prototype=Object.create(HeroCalc.CloneModel.prototype),CloneViewModel.prototype.constructor=CloneViewModel,module.exports=CloneViewModel;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./DamageAmpViewModel":73,"./HeroDamageAmpMixin":75,"dota-hero-calculator-library":36}],73:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),BuffViewModel=require("dota-hero-calculator-library/src/herocalc/BuffViewModel"),BuffModel=require("dota-hero-calculator-library/src/herocalc/buffs/BuffModel"),findWhere=require("dota-hero-calculator-library/src/herocalc/util/findWhere"),DamageAmpViewModel=function(e,a,i,l){var t=this;return BuffViewModel.call(this,a,ko.observableArray([])),t.availableBuffs=ko.observableArray([new BuffModel(e,i,"slardar","slardar_sprint"),new BuffModel(e,i,"undying","undying_flesh_golem"),new BuffModel(e,i,"chen","chen_penitence"),new BuffModel(e,i,"medusa","medusa_stone_gaze"),new BuffModel(e,i,"shadow_demon","shadow_demon_soul_catcher")]),t.availableDebuffs=ko.observableArray([new BuffModel(e,i,"medusa","medusa_mana_shield"),new BuffModel(e,i,"spectre","spectre_dispersion"),new BuffModel(e,i,"wisp","wisp_overcharge"),new BuffModel(e,i,"bristleback","bristleback_bristleback"),new BuffModel(e,i,"kunkka","kunkka_ghostship")]),t.selectedBuff=ko.observable(t.availableBuffs()[0]),t.buffs=ko.observableArray([]),t.getAbilityDamageAmpValue=function(e,a){var i=findWhere(t.buffs(),{name:e});if(void 0==i)return 0;var l=i.data;return t.getAbilityAttributeValue(l.attributes,a,l.level())},t.getDamageMultiplierSources=ko.computed(function(){for(var e={},a=0;a<t.abilities().length;a++){var i=t.abilities()[a];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(i.name){case"bristleback_bristleback":e[i.name]={multiplier:i.damageReduction()/100,damageType:"physical",displayname:i.displayname};break;case"slardar_sprint":e[i.name]={multiplier:t.getAbilityAttributeValue(i.attributes,"bonus_damage",i.level())/100,damageType:"physical",displayname:i.displayname};break;case"undying_flesh_golem":e[i.name]={multiplier:i.damageAmplification()/100,damageType:"physical",displayname:i.displayname};break;case"medusa_stone_gaze":e[i.name]={multiplier:t.getAbilityAttributeValue(i.attributes,"bonus_physical_damage",i.level())/100,damageType:"physical",displayname:i.displayname};break;case"chen_penitence":e[i.name]={multiplier:t.getAbilityAttributeValue(i.attributes,"bonus_damage_taken",i.level())/100,damageType:"physical",displayname:i.displayname};break;case"shadow_demon_soul_catcher":e[i.name]={multiplier:t.getAbilityAttributeValue(i.attributes,"bonus_damage_taken",i.level())/100,damageType:"pure",displayname:i.displayname};break;case"medusa_mana_shield":e[i.name]={multiplier:i.damageReduction()/100,damageType:"physical",displayname:i.displayname};break;case"spectre_dispersion":e[i.name]={multiplier:-t.getAbilityAttributeValue(i.attributes,"damage_reflection_pct",i.level())/100,damageType:"percentreduction",displayname:i.displayname};break;case"abaddon_aphotic_shield":e[i.name]={multiplier:t.getAbilityAttributeValue(i.attributes,"damage_absorb",i.level()),damageType:"flatreduction",displayname:i.displayname};break;case"kunkka_ghostship":e[i.name]={multiplier:-.5,damageType:"percentreduction",displayname:i.displayname};break;case"wisp_overcharge":e[i.name]={multiplier:t.getAbilityAttributeValue(i.attributes,"bonus_damage_pct",i.level())/100,damageType:"percentreduction",displayname:i.displayname}}}return e}),t};DamageAmpViewModel.prototype=Object.create(BuffViewModel.prototype),DamageAmpViewModel.prototype.constructor=DamageAmpViewModel,module.exports=DamageAmpViewModel;
},{"./herocalc_knockout":80,"dota-hero-calculator-library/src/herocalc/BuffViewModel":3,"dota-hero-calculator-library/src/herocalc/buffs/BuffModel":4,"dota-hero-calculator-library/src/herocalc/util/findWhere":38}],74:[function(require,module,exports){
(function (global){
"use strict";var ko=require("./herocalc_knockout"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null;require("./jquery-ui.custom"),ko.components.register("hero-pane",{template:'<div class="row">\n    <div class="col-md-3 col-sm-6">\n        <img class="img-rounded hero-image" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n    </div>\n    <div class="col-md-9 col-sm-6">\n        <div class="row form-group">\n            <div class="col-md-6">\n                <label for="heroselect">Hero</label>\n                <select id="heroselect" class="form-control" data-bind="options: availableHeroes , optionsText: \'heroDisplayName\', value: selectedHero"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="herolevel">Level</label>\n                <input id="herolevel" data-bind="spinner: selectedHeroLevel, spinnerOptions: { min: 1, max: 25 }">\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-6">\n                <label for="enemyselect">Enemy</label>\n                <select id="enemyselect" class="form-control" data-bind="css: enemy().playerColorCss, options: availableEnemies , optionsText: \'heroDisplayName\', value: selectedEnemy, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="enemyselect">Compare to</label>\n                <select id="enemyselect" class="form-control" data-bind="css: heroCompare().playerColorCss, options: availableCompare , optionsText: \'heroDisplayName\', value: selectedCompare, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-12 checkbox" style="margin-bottom:0px;padding-left:34px;" data-bind="visible: $root.layout() == 0">\n                <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: heroData().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a>\n                <div style="margin-left:15px;display:inline;" data-bind="style: {\'display\': $root.layout() == 1 ? \'inline\' : \'none\'}">\n                    <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: heroData().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                    <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n                </div>\n            </h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n    \n        <div class="row">\n            <div class="col-md-12" data-bind="itemBuildTable: $data.buildExplorer">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities <small style="color:inherit" data-bind="text: availableSkillPoints() ? (availableSkillPoints() == 1 ? \'1 unspent skillpoint\' : availableSkillPoints() + \' unspent skillpoints\') : \'\'"></small></h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities()">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n                <div class="form-horizontal" data-bind="if: selectedHero().heroName == \'silencer\', visible: sectionDisplay().ability()">\n                    <div class="form-group">\n                            <div class="col-md-2 control-label">\n                                <label for="intelligencestolen">Intelligence Stolen</label>\n                            </div>\n                            <div class="col-md-2">\n                                <input class="form-control" id="intelligencestolen" data-bind="value: intStolen" />\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div data-bind="component: { name: \'talent-section\', params: $data}"></div>\n        \n        <div data-bind="component: { name: \'buff-section\', params: $data}"></div>\n        \n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().illusion, css: { section_disabled: !sectionDisplay().illusion() }">Illusions</h3>\n                <div data-bind="visible: sectionDisplay().illusion(), lazyBinding: sectionDisplay().illusion">\n                    <h4 style="color:red">Under Construction</h4>\n                    <div class="form-horizontal">\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionSelect">Type</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionSelect" class="form-control" data-bind="options: availableIllusions , optionsText: \'illusionDisplayName\', value: selectedIllusion"></select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionabilitylevel">Ability Level</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionabilitylevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                                        <option data-bind="text: $index()+1"></option>\n                                    </select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                            <div class="col-md-offset-2 col-md-10">\n                                <button class="btn btn-default" data-bind="click: addIllusion">Add Illusion</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().skillbuild, css: { section_disabled: !sectionDisplay().skillbuild() }">Build Explorer</h3>\n        <div data-bind="visible: sectionDisplay().skillbuild(), attr: {id: \'section-build-explorer-\' + index() }, lazyBinding: sectionDisplay().skillbuild">\n            <div class="section-content">    \n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-skills\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-skills\']() }">Skill Build <small style="color:inherit" data-bind="text: buildExplorer.availableSkillBuildPoints() ? (buildExplorer.availableSkillBuildPoints() == 1 ? \'1 unspent skillpoint\' : buildExplorer.availableSkillBuildPoints() + \' unspent skillpoints\') : \'\'"></small></h4>\n                        <div data-bind="visible: sectionDisplay()[\'skillbuild-skills\']">\n                        <table>\n                            <tbody data-bind="template: { name: \'ability-3-template\', foreach: ability().abilities() }"></tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetSkillBuild">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-items\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-items\']() }">Item Build</h4>\n                    <div data-bind="visible: sectionDisplay()[\'skillbuild-items\']">\n                        <table class="table">\n                            <thead>\n                                <tr>\n                                    <th>Level</th>\n                                    <th class="text-center">Inventory</th>\n                                    <th></th>\n                                    <th></th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody data-bind="foreach: new Array(25), itemBuildTable: buildExplorer">\n                                <tr class="hover-cursor" data-bind="css: {\'row-highlight\': $parent.selectedInventory() == $index()}">\n                                    <td class="carry-over" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <strong data-bind="text: ($index() + 1)"></strong>\n                                        <a class="btn btn-default btn-xs glyphicon" data-bind="visible: $index() > 0, toggle: $parent.buildExplorer.itemBuild()[$index()].carryOver, preventBubble: \'click\', css: { \'glyphicon-arrow-down\': $parent.buildExplorer.itemBuild()[$index()].carryOver(), \'glyphicon-stop\': !$parent.buildExplorer.itemBuild()[$index()].carryOver() }" title="Carry over items to next level\'s inventory"></a>\n                                    </td>\n                                    <td class="col-md-10" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <div class="itemBuild-inventory" data-bind="template: { name: \'itemBuild-item-template\', foreach: $parent.buildExplorer.itemBuild()[$index()].items }"></div>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.copyInventoryToClipBoard($index()); }" title="Copy items">Copy</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.pasteInventoryFromClipBoard($index()); }" title="Paste items">Paste</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.resetItemBuild($index()); }" title="Clear inventory">Clear</a>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetAllItemBuilds">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label>Data set header label</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataHeader">\n                </div>\n                <div class="form-group">\n                    <label>Data set description</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataDescription">\n                </div>\n                <div class="form-group">\n                    <button class="btn btn-default" data-bind="click: buildExplorer.graph">Add data set</button>\n                </div>\n                <div class="form-group">\n                    <label>Hero Property</label>\n                    <select class="form-control" data-bind="options: buildExplorer.graphProperties, optionsText: \'label\', optionsValue: \'id\', value: buildExplorer.selectedGraphProperty"></select>\n                </div>\n                <!-- ko if: buildExplorer.graphData().length > 0 -->\n                <div class="form-group" data-bind="chart: buildExplorer.graphChartData, chartType: \'Scatter\', chartOptions: buildExplorer.graphChartOptions(), chartContext: buildExplorer.graphChartContext"></div>\n                <div class="form-group">\n                  <button class="btn btn-default" data-bind="click: buildExplorer.exportImage"><span class="glyphicon glyphicon-export"></span> Export Image</button>\n                </div>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphItemBuildRows, css: {\'toggled\': buildExplorer.showGraphItemBuildRows}">Show item build rows</button>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphSkillBuildColumns, css: {\'toggled\': buildExplorer.showGraphSkillBuildColumns}">Show skill build columns</button>\n                <table class="table build-table">\n                    <thead>\n                        <tr>\n                            <th class="right-border">Level</th>\n                            <!-- ko foreach: buildExplorer.graphData -->\n                            <th class="text-center" data-bind="css: { \'right-border\': !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible() }">\n                                <span data-bind="css: { \'tooltip-underline\': $data.description }, tooltip: {title: $data.description, placement: \'bottom\'}, visible: $data.visible(), text: $data.header, style: { color: $parent.buildExplorer.graphDistinctColor($parent.buildExplorer.graphData().length, $index(), 1) }"></span>\n                                <span class="btn btn-xs glyphicon glyphicon-info-sign" data-bind="visible: $data.visible(), popover: {template: \'popover-graphData-template\', data: $data, options: {} }"></span>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <th class="text-left right-border" data-bind="visible: $data.visible() && $parent.buildExplorer.showGraphSkillBuildColumns()"><abbr title="Q-W-E-R-Stats">Skill Build</abbr>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <!-- /ko -->\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: new Array(buildExplorer.graphData()[0].data.length)">\n                        <tr>\n                            <td class="right-border">\n                                <strong data-bind="text: ($index() + 1)"></strong>\n                            </td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="text-right" data-bind="css: { \'right-border\': !$parents[1].buildExplorer.showGraphSkillBuildColumns() || !$parents[1].buildExplorer.graphData()[$index()].visible() }">\n                                <span data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), text: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()][$parents[1].buildExplorer.selectedGraphProperty()]"></span>\n                            </td>\n                            <td class="text-left right-border" data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns(), text: $parents[1].buildExplorer.graphData()[$index()].cumulativeSkillBuild[$parentContext.$index()].join(\'-\')"></td>\n                            <!-- /ko -->\n                        </tr>\n                        <tr class="itemBuild-inventory" data-bind="visible: $parent.buildExplorer.showGraphItemBuildRows() && $parent.buildExplorer.graphRowHasItems($index())">\n                            <td class="right-border-itemrow no-top-border"></td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="right-border-itemrow no-top-border" data-bind="attr: { colspan: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns() ? 2 : 1 }">\n                                <div data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), foreach: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()].items">\n                                    <img class="itemBuild-img-sm img-rounded" data-bind="css: { item_disabled: !enabled, item_active: $parents[2].inventory.getActiveBorder($data) == 1, item_inactive: $parents[2].inventory.getActiveBorder($data) == 0 }, attr:{ src: $parents[2].inventory.getItemImage($data) }"/>\n                                    <div style="float:left" data-bind="visible: $parents[2].inventory.getItemSizeLabel($data) != \'\'">\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                                    </div>\n                                </div>\n                            </td>\n                            <!-- /ko -->\n                        </tr>\n                    </tbody>\n                </table>\n                <!-- /ko -->\n            </div>\n        </div>\n    </div>\n\n</div>'}),ko.components.register("unit-pane",{template:'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: selectedUnit().image}"/>\n    </div>\n    <div class="col-md-4">\n        <label for="unitselect">Unit</label>\n        <select id="unitselect" class="form-control" data-bind="options: availableUnits , optionsText: \'heroDisplayName\', value: selectedUnit"></select>\n    </div>\n    <div class="col-md-4">\n        <label for="unitlevel">Level</label>\n        <p class="form-control-static" data-bind="visible: selectedUnit().levels == 0, text: heroData().level"></p>\n        <select id="herolevel" class="form-control" data-bind="visible: selectedUnit().levels > 0, value: selectedUnitLevel, foreach: new Array(selectedUnit().levels)">\n            <option data-bind="text: $index()+1"></option>\n        </select>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-3" data-bind="visible: showStatDetails(), component: {name: \'stats-additional\', params: $data}"></div>\n            \n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Gold:</td><td class="text-right"><span data-bind="text: heroData().bountygoldmin == heroData().bountygoldmax ? heroData().bountygoldmax : heroData().bountygoldmin + \'-\' + heroData().bountygoldmax"></span></td></tr>\n                <tr><td>Experience:</td><td class="text-right"><span data-bind="text: heroData().bountyxp"></span></td></tr>\n                <tr><td>Level:</td><td class="text-right"><span data-bind="text: heroData().level"></span></td></tr>\n                <tr><td><abbr title="Movement Speed">MS</abbr>:</td><td class="text-right"><span data-bind="text: totalMovementSpeed"></span></td></tr>\n                <tr><td>Turn Rate:</td><td class="text-right"><span data-bind="text: totalTurnRate"></span></td></tr>\n                <tr><td>Sight Range:</td><td class="text-right"><span data-bind="html: \'<abbr title=\\\'Day\\\'>\' + visionrangeday() + \'</abbr>/<abbr title=\\\'Night\\\'>\' + visionrangenight() + \'</abbr>\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Health:</td><td class="text-right"><span data-bind="text: health"></span></td></tr>\n                <tr><td>Health Regen:</td><td class="text-right"><span data-bind="text: healthregen"></span></td></tr>\n                <tr><td>Mana:</td><td class="text-right"><span data-bind="text: mana"></span></td></tr>\n                <tr><td>Mana Regen:</td><td class="text-right"><span data-bind="text: manaregen"></span></td></tr>\n                <tr><td>Physical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpPhysical"></span></td></tr>\n                <tr><td>Magical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpMagical"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Armor:</td><td class="text-right"><span data-bind="text: totalArmorPhysical"></span></td></tr>\n                <tr><td>Magic Res:</td><td class="text-right"><span data-bind="html: totalMagicResistance().toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Lifesteal:</td><td class="text-right"><span data-bind="text: lifesteal"></span></td></tr>\n                <tr><td>Evasion:</td><td class="text-right"><span data-bind="text: evasion"></span></td></tr>\n                <tr><td>Bash:</td><td class="text-right"><span data-bind="text: bash"></span></td></tr>\n                <tr><td>Miss Chance:</td><td class="text-right"><span data-bind="text: missChance"></span></td></tr>\n                </tbody>\n                <tbody class="tabledropdown" style="border-top:0" data-bind="visible: showCriticalStrikeDetails(),foreach: critInfo().sources">\n                <tr><td colspan=2><strong data-bind="text: $data.name"></strong></td></tr>\n                <tr><td>Crit Chance:</td><td class="text-right"><span data-bind="text: ($data.totalchance * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Crit Multiplier:</td><td class="text-right"><span data-bind="text: ($data.multiplier * 100).toFixed(2) + \'%\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr>\n                    <td>Damage:</td>\n                    <td class="text-right">\n                        <span data-bind="html: baseDamage()[0] + \'-\' + baseDamage()[1]"></span>\n                        <span style="color:green" data-bind="visible: bonusDamage() > 0, text: \' + \' + bonusDamage()"></span>\n                        <span style="color:red" data-bind="visible: bonusDamageReduction() != 0, text: \' - \' + bonusDamageReduction()"></span>\n                    </td>\n                </tr>\n                <tr><td><abbr title="Increased Attack Speed">IAS</abbr>:</td><td class="text-right"><span data-bind="text: ias"></span></td></tr>\n                <tr><td><abbr title="Base Attack Time">BAT</abbr>:</td><td class="text-right"><span data-bind="text: bat"></span></td></tr>\n                <tr><td>Attack Time:</td><td class="text-right"><span data-bind="text: attackTime"></span></td></tr>\n                <tr><td>Attack / Sec:</td><td class="text-right"><span data-bind="text: attacksPerSecond().toFixed(2)"></span></td></tr>\n                <tr><td>Attack Range:</td><td class="text-right"><span data-bind="text: totalattackrange"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities</h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities()">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n            </div>\n        </div>\n\n        <div data-bind="component: { name: \'buff-section\', params: $data}"></div>\n    </div>\n</div>'}),ko.components.register("clone-pane",{template:'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: \'/media/images/heroes/meepo.png\'}"/>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $root.heroes[$parentContext.$index()].clone()}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n    </div>\n</div>'
}),ko.components.register("illusion-pane",{template:'<div class="row">\n    <div class="col-md-4">\n        <div class="img-rounded" style="background-color:#428bca;display:inline-block">\n            <img class="img-rounded" style="opacity:.5" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n        </div>\n    </div>\n    <div class="col-md-4">\n        <label for="illusionlevel" data-bind="text: illusionDisplayName"></label>\n        <table class="table">\n            <tbody>\n            <tr>\n                <td>Damage Dealt</td>\n                <td class="text-right" data-bind="text: (getOutgoingDamageMultiplier(illusionType(), false, heroData().attacktype)*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            <tr>\n                <td>Damage Taken</td>\n                <td class="text-right" data-bind="text: (getIncomingDamageMultiplier(illusionType(), false, heroData().attacktype)*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="col-md-4">\n        <div data-bind="visible: illusionType() != \'item_manta\'">\n            <label for="illusionlevel">Ability Level</label>\n            <select id="illusionlevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                <option data-bind="text: $index()+1"></option>\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}">\n            </div>\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, foreach: inventory.items, visible: sectionDisplay().inventory()">\n                    <div class="btn-group">\n                        <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parent.inventory.getActiveBorder($data) == 1, item_inactive: $parent.inventory.getActiveBorder($data) == 0 }, attr:{ src: $parent.inventory.getItemImage($data) }, click: function(data, event) { $parent.inventory.toggleItem($index, data, event); }, event: { dblclick: $parent.inventory.removeItem }"/>\n                        <div style="float:left" data-bind="visible: $parent.inventory.getItemSizeLabel($data) != \'\'">\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),ko.components.register("buff-settings",{template:'<div class="form-horizontal">\n    <div data-bind="foreach: data">\n        <div class="form-group" data-bind="visible: (display == undefined || display == \'buff\')">\n            <label class="col-md-6 control-label" data-bind="css: {\'checkbox-label\': controlType == \'checkbox\'}, attr: {\'for\': labelName}, html: labelName"></label>\n            <div data-bind="if: controlType == \'input\' && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6"><input class="form-control" data-bind="attr: {\'id\': labelName}, value: controlVal"></div>\n            </div>\n            <div data-bind="if: controlType == \'checkbox\' && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6">\n                    <div class="checkbox">\n                        <input type="checkbox" data-bind="attr: {\'id\': labelName}, checked: controlVal">\n                    </div>\n                </div>\n            </div>\n            <div data-bind="if: (controlType == \'text\' || controlType == \'method\') && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6"><p class="form-control-static" data-bind="html: controlVal"></p></div>\n            </div>\n            <div data-bind="if: controlType == \'radio\' && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6">\n                    <!-- ko foreach: controlOptions -->\n                    <div class="radio">\n                        <label>\n                            <input type="radio" data-bind="attr: {\'id\': $parent.labelName + value, value: value}, checked: $parent.controlVal">\n                            <span data-bind="text: text"></span>\n                        </label>\n                    </div>\n                    <!-- /ko -->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),ko.components.register("talent-section",{template:'<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().talent, css: { section_disabled: !sectionDisplay().talent() }">Talents</h3>\n        <div class="row" data-bind="foreach: heroData().talents, visible: sectionDisplay().talent()">\n            <div class="talent col-xs-12">\n                <label class="talent-level col-sm-4 col-xs-12" data-bind="text: \'Level \' + ($index() * 5 + 10) + \':\'"></label>\n                <div class="talent-1 col-sm-4 col-xs-12 btn btn-default btn-sm" data-bind="text: $data[0].displayname, click: function () { $parent.toggleTalent($index(), 0) }, css: {\'toggled\': $parent.talents[$index()]() == 0}"></div>\n                <div class="talent-2 col-sm-4 col-xs-12 btn btn-default btn-sm" data-bind="text: $data[1].displayname, click: function () { $parent.toggleTalent($index(), 1) }, css: {\'toggled\': $parent.talents[$index()]() == 1}"></div>\n            </div>\n        </div>\n    </div>\n</div>'}),ko.components.register("item-buff",{template:'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].buffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].buffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].buffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].buffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].buffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),ko.components.register("item-debuff",{template:'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].debuffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].debuffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].debuffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].debuffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].debuffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),ko.components.register("buff-section",{template:'<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }">Buffs</h3>\n        <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <select id="buffselect" class="form-control" data-bind="options: buffs.availableBuffs , optionsText: \'buffDisplayName\', value: buffs.selectedBuff"></select>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: buffs.addBuff">Add</button>\n                    <button class="btn btn-default" data-bind="click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }">Remove</button>\n                </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: buffs.buffs, visible: sectionDisplay().buff()">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)"></div>\n                    <div data-bind="if: $data.data.name in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.buffs.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <div class="input-group">\n                        <input class="form-control" id="auto2" data-bind="attr: {id: id() + \'-auto2\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                        <span class="input-group-btn">\n                            <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto2\'"><span class="glyphicon glyphicon-search"></span></button>\n                        </span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: buffs.itemBuffs.addItemBuff">Add</button>\n                </div>\n            </div>\n        </div>\n        <div data-bind="foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()">\n            <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-buff\', params: $data}"></div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }">Debuffs</h3>\n        <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <select id="buffselect" class="form-control" data-bind="options: debuffs.availableDebuffs , optionsText: \'buffDisplayName\', value: debuffs.selectedBuff"></select>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: debuffs.addBuff">Add</button>\n                    <button class="btn btn-default" data-bind="click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }">Remove</button>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="foreach: debuffs.buffs, visible: sectionDisplay().debuff()">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)"></div>\n                    <div data-bind="if: $data.data.name in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.debuffs.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <div class="input-group">\n                        <input class="form-control" id="auto3" data-bind="attr: {id: id() + \'-auto3\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                        <span class="input-group-btn">\n                            <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto3\'"><span class="glyphicon glyphicon-search"></span></button>\n                        </span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: debuffs.itemBuffs.addItemDebuff">Add</button>\n                </div>\n            </div>\n        </div>\n        <div data-bind="foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()">\n            <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-debuff\', params: $data}"></div>\n        </div>\n    </div>\n</div>'}),ko.components.register("damage-details",{template:'<div class="row">\n    <div class="col-md-12">\n        <h3 style="display:block;" class="section_header" data-bind="toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }">Damage Details\n            <span class="pull-right" data-bind="visible: showDamageDetails()">\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'physical\')}">Physical</small>\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'magic\')}">Magical</small>\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'pure\')}">Pure</small>\n            </span>\n        </h3>\n        <table class="table damage-details" data-bind="visible: showDamageDetails()">\n            <thead>\n                <tr class="damage-details-header-row">\n                    <td></td>\n                    <td class="text-center" colspan="2"><strong>Attack Damage</strong><img src="img/reduc_icon.png" class="pull-right" data-bind="attr: {title: \'After reductions from \' + enemy().heroData().displayname}"></td>\n                    <td class="text-center" colspan="2"><strong>DPS</strong><img src="img/reduc_icon.png" class="pull-right" data-bind="attr: {title: \'After reductions from \' + enemy().heroData().displayname}"></td>\n                </tr>\n                <tr class="damage-details-header-row-2 total-row">\n                    <td><strong>Total</strong></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[0]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[1]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[2]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[3]().toFixed(2)"></td>\n                </tr>\n            </thead>\n            <!-- ko foreach: damageTotalInfo().attacks -->\n            <tbody>\n                <tr class="indent subtotal-row" data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                        <button class="btn btn-default btn-xs glyphicon pull-right" data-bind="toggle: $data.visible, css: {\'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}, preventBubble: \'click\'"></button>\n                        <strong><span data-bind="text: $data.name"></span></strong>\n                    </td>\n                    <td class="text-right" data-bind="text: $data.totalRow[0]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[1]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[2]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[3]().toFixed(2)"></td>\n                </tr>\n            </tbody>\n            <tbody class="indent" data-bind="foreach: $data.sources, visible: $data.visible">\n                <tr data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td class="indent">\n                        <span data-bind="text: $data.name"></span>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                    </td>\n                    <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dps.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dpsReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n            </tbody>\n            <tr class="indent crit" data-bind="visible: $data.visible() && $data.sourcesCrit.length > 0">\n                <td class="indent">Critical Strike Proc, <span data-bind="text: ($data.totalCritChance * 100).toFixed(1) + \'%\'"></span></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[0]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[1]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[2]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[3]().toFixed(2)"></td>\n            </tr>\n            <tbody class="indent" data-bind="visible: $data.visible, foreach: $data.sourcesCrit">\n                <tr class="indent crit" data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td class="indent">\n                        <span data-bind="text: $data.name"></span>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                    </td>\n                    <td class="text-right"><span data-bind="html: $data.damage.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dps.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dpsReduced.toFixed(2)"></span></td>\n                </tr>\n            </tbody>\n            <!-- /ko -->\n            <tbody>\n                <tr data-bind="visible: cleaveInfo().length > 0">\n                    <td colspan=3><strong>Cleave</strong></td>\n                </tr>\n            </tbody>    \n            <tbody data-bind="foreach: cleaveInfo()">\n                <tr><td>Radius:</td><td class="text-right"><span data-bind="html: $data.radius"></span></td></tr>\n                <tr><td>Magnitude:</td><td class="text-right"><span data-bind="html: ($data.magnitude * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr>\n                    <td>Cleave Damage:</td>\n                    <td class="text-right"><span data-bind="html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)"></span></td>\n                </tr>\n            </tbody>\n        \n        </table>\n    </div>\n</div>'}),ko.components.register("damage-amp",{template:'<div class="col-md-12">\n    <h3 class="section_header" data-bind="toggle: sectionDisplay().damageamp, css: { section_disabled: !sectionDisplay().damageamp() }">Damage Amplification & Reduction</h3>\n    <div data-bind="visible: sectionDisplay().damageamp(), lazyBinding: sectionDisplay().damageamp">\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="damageinput">Damage</label>\n                    </div>\n                    <div class="col-md-6">\n                        <input class="form-control" id="damageinput" data-bind="value: damageInputValue" />\n                    </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffampselect">Amplification</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffampselect" class="form-control" data-bind="options: damageAmplification.availableBuffs , optionsText: \'buffDisplayName\', value: damageAmplification.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageAmplification.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageAmplification.removeBuff(data, event, damageAmplification.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageAmplification.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.damageAmplification.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageAmplification.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)"></div>\n                    <div data-bind="if: $data.data.name in $parent.damageAmplification.abilityData && $parent.damageAmplification.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageAmplification.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffreductionselect">Reduction</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffreductionselect" class="form-control" data-bind="options: damageReduction.availableDebuffs , optionsText: \'buffDisplayName\', value: damageReduction.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageReduction.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageReduction.removeBuff(data, event, damageReduction.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageReduction.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.damageReduction.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageReduction.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name)"></div>\n                    <div data-bind="if: $data.data.name in $parent.damageReduction.abilityData && $parent.damageReduction.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageReduction.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <h4>Calculations <a class="btn btn-default btn-xs" data-bind="toggle: showDamageAmpCalcDetails, text: !showDamageAmpCalcDetails() ? \'Show details\' : \'Hide details\'"></a></h4>\n        <table class="table">\n            <tbody>\n                <!-- ko foreach: damageInputModified().data -->\n                <tr data-bind="visible: $parent.showDamageAmpCalcDetails()">\n                    <td><span style="text-decoration: underline;" data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                    <!-- ko foreach: $data.data -->\n                    <tr data-bind="visible: $parents[1].showDamageAmpCalcDetails()">\n                        <td><span data-bind="text: $data.label"></span></td>\n                        <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, diffStyle: $data.value"></span></td>\n                    </tr>\n                    <!-- /ko -->\n                <tr data-bind="css: {subtotal: $parent.showDamageAmpCalcDetails()}">\n                    <td data-bind="visible: $parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage subtotal\'"></span></td>\n                    <td data-bind="visible: !$parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.total * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                <!-- /ko -->\n                <tr>\n                    <td><strong data-bind="text: damageInputModified().label + \' damage\'"></strong></td>\n                    <td class="text-right"><strong data-bind="html: Math.round(damageInputModified().total * 100) / 100, style: {color: getDamageTypeColor(damageInputModified().damageType)}"></strong></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>'
}),ko.components.register("ability",{template:'<div data-bind="if: $data.displayname != \'Empty\' &&  ($data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_HIDDEN\') == -1 || $data.name.indexOf(\'invoker_\') != -1),\nstyle: {clear: $data.name == \'invoker_cold_snap\' || $data.name == \'invoker_chaos_meteor\' ? \'both\' : \'\'},\ncss: {row: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()), row3: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()) }">\n    <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n        <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.isActive() || $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.isActive() && $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.name + \'.png\'}, click: function(data, event) { $parents[1].ability().toggleAbility($index, data, event); }"/>\n        <div class="progress" style="position:relative">\n            <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parents[1].getAbilityLevelMax($data) > 0, text: $data.level() + \'/\' + $parents[1].getAbilityLevelMax($data)"></div>\n            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) }, style: { width: ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) + \'%\' }"></div>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelDownAbility($index, data, event, $parents[1]); }">-</a>\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelUpAbility($index, data, event, $parents[1]); }">+</a>\n        </div>\n        <div class="btn-group btn-group-justified">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }, css: {\'toggled\': $data.isDetail}">Details</a>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') != -1">\n            <a class="btn btn-default btn-sm btn-block" style="visibility:hidden;">&mdash;</a>\n        </div>\n    </div>\n    <div class="col-md-9 bottom-buffer2" data-bind="visible: $data.isDetail()">\n        <button type="button" class="close" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }">&times;</button>\n        <div data-bind="html: $parents[1].ability().getAbilityTooltipData($parents[1].heroId(), $data.name)"></div>\n        <div data-bind="if: $data.name in $parents[1].ability().abilityData && $parents[1].ability().abilities()[$index()].level() > 0">\n            <div class="col-md-12" style="margin-top: 10px" >\n                <div data-bind="template: { name: \'ability-settings-template\', data: $parents[1].ability().abilitySettingsData($data.name, $parents[1], $index()) }"></div>\n            </div>\n        </div>\n    </div>\n</div>'}),ko.components.register("shop",require("../components/shop")),ko.components.register("stat",{template:'<span data-bind="text: parseFloat(hero[stat]()).toString()"></span><span data-bind="html: $root.getDiffText(hero.diff[stat]()), diffCss: hero.diff[stat], diffCssStat: stat, visible: hero.showDiff"></span>'}),ko.components.register("stats0",{template:"<div class=\"col-md-12 stats0\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Strength:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalStr' } }\"></td></tr>\n    <tr><td>Agility:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalAgi' } }\"></td></tr>\n    <tr><td>Intelligence:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalInt' } }\"></td></tr>\n    <tr><td><abbr title=\"Movement Speed\">MS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMovementSpeed' } }\"></td></tr>\n    <tr><td>Turn Rate:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalTurnRate' } }\"></td></tr>\n    <tr><td>Sight Range:</td><td class=\"text-right\"><span data-bind=\"html: '<abbr title=\\'Day\\'>' + visionrangeday() + '</abbr>/<abbr title=\\'Night\\'>' + visionrangenight() + '</abbr>'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),ko.components.register("stats1",{template:"<div class=\"col-md-12 stats1\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Armor:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysical' } }\"></td></tr>\n    <tr><td>Health:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'health' } }\"></td></tr>\n    <tr><td>Health Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'healthregen' } }\"></td></tr>\n    <tr><td>Mana:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'mana' } }\"></td></tr>\n    <tr><td>Mana Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'manaregen' } }\"></td></tr>\n    <tr><td>Physical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpPhysical' } }\"></td></tr>\n    <tr><td>Magical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpMagical' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),ko.components.register("stats2",{template:"<div class=\"col-md-12 stats2\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>%Phys Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysicalReduction' } }\"></td></tr>\n    <tr><td>%Magic Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMagicResistance' } }\"></td></tr>\n    <tr><td>%Lifesteal:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'lifesteal' } }\"></td></tr>\n    <tr><td>%Evasion:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'evasion' } }\"></td></tr>\n    <tr><td>%Bash:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bash' } }\"></td></tr>\n    <tr><td>%Miss Chance:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'missChance' } }\"></td></tr>\n    <tr style=\"display: none\"><td colspan=2><a class=\"btn btn-default btn-block btn-xs\" data-bind=\"css: {disabled: critInfo().sources.length == 0 ? 'disabled' : '', 'toggled': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails\">Critical Strike Details</a></td></tr>\n    </tbody>\n    <tbody class=\"tabledropdown\" style=\"border-top:0\" data-bind=\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\">\n    <tr><td colspan=2><strong data-bind=\"text: $data.name\"></strong></td></tr>\n    <tr><td>Crit Chance:</td><td class=\"text-right\"><span data-bind=\"text: ($data.totalchance * 100).toFixed(2) + '%'\"></span></td></tr>\n    <tr><td>Crit Multiplier:</td><td class=\"text-right\"><span data-bind=\"text: ($data.multiplier * 100).toFixed(2) + '%'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),ko.components.register("stats3",{template:"<div class=\"col-md-12 stats3\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr>\n        <td>Damage:</td>\n        <td class=\"text-right\">\n            <span data-bind=\"html: baseDamage()[0].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[0]), css: {'diffPos': diff['baseDamage']()[0] > 0, 'diffNeg': diff['baseDamage']()[0] < 0}, visible: showDiff\"></span>\n            <span>&ndash;</span>\n            <span data-bind=\"html: baseDamage()[1].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[1]), css: {'diffPos': diff['baseDamage']()[1] > 0, 'diffNeg': diff['baseDamage']()[1] < 0}, visible: showDiff\"></span>\n            <span style=\"color:green\" data-bind=\"visible: bonusDamage() > 0, html: ' + ' + bonusDamage().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamage']()), css: {'diffPos': diff['bonusDamage']() > 0, 'diffNeg': diff['bonusDamage']() < 0}, visible: showDiff\"></span>\n            <span style=\"color:red\" data-bind=\"visible: bonusDamageReduction() != 0, html: ' - ' + bonusDamageReduction().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamageReduction']()), css: {'diffPos': diff['bonusDamageReduction']() > 0, 'diffNeg': diff['bonusDamageReduction']() < 0}, visible: showDiff\"></span>\n        </td>\n    </tr>\n    <tr><td><abbr title=\"Increased Attack Speed\">IAS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ias' } }\"></td></tr>\n    <tr><td><abbr title=\"Base Attack Time\">BAT</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bat' } }\"></td></tr>\n    <tr><td>Attack Time:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attackTime' } }\"></td></tr>\n    <tr><td>Attack &frasl; Sec:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attacksPerSecond' } }\"></td></tr>\n    <tr><td>Attack Range:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalattackrange' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),ko.components.register("stats-additional",{template:'<table class="table table-condensed">\n    <tbody>\n        <tr><td>Base Strength:</td><td class="text-right"><span data-bind="text: heroData().attributebasestrength"></span></td></tr>\n        <tr><td>Strength Gain:</td><td class="text-right"><span data-bind="text: heroData().attributestrengthgain"></span></td></tr>\n        <tr><td>Base Agility:</td><td class="text-right"><span data-bind="text: heroData().attributebaseagility"></span></td></tr>\n        <tr><td>Agility Gain:</td><td class="text-right"><span data-bind="text: heroData().attributeagilitygain"></span></td></tr>\n        <tr><td>Base Intelligence:</td><td class="text-right"><span data-bind="text: heroData().attributebaseintelligence"></span></td></tr>\n        <tr><td>Intelligence Gain:</td><td class="text-right"><span data-bind="text: heroData().attributeintelligencegain"></span></td></tr>\n        <tr><td>Base Armor:</td><td class="text-right"><span data-bind="text: heroData().armorphysical"></span></td></tr>\n        <tr><td><abbr title="Base Armor + armor from base agility">Starting Armor:</abbr></td><td class="text-right"><span data-bind="text: parseFloat($data.startingArmor()).toString()"></span></td></tr>\n        <tr><td>Base Magic Res:</td><td class="text-right"><span data-bind="text: heroData().magicalresistance + \'%\'"></span></td></tr>\n        <tr><td>Base Attack Point:</td><td class="text-right"><span data-bind="text: heroData().attackpoint"></span></td></tr>\n        <tr><td><abbr data-bind="attr: { title: \'Total experience required to reach level \' + $data.selectedHeroLevel() }">Total Exp:</abbr></td><td class="text-right"><span data-bind="text: $data.totalExp()"></span></span></td></tr>\n        <tr><td><abbr title="Experience required for next level">Next level exp:</abbr></td><td class="text-right"><span data-bind="html: $data.nextLevelExp()"></span></span></td></tr>\n        <tr><td>Respawn Time:</td><td class="text-right"><span data-bind="text: $data.respawnTime()"></span></td></tr>\n    </tbody>\n</table>'});var my=require("dota-hero-calculator-library"),findWhere=require("dota-hero-calculator-library/src/herocalc/util/findWhere"),uniqueId=require("dota-hero-calculator-library/src/herocalc/util/uniqueId"),itemData=require("dota-hero-calculator-library/src/herocalc/data/main").itemData,unitData=require("dota-hero-calculator-library/src/herocalc/data/main").unitData,heroData=require("dota-hero-calculator-library/src/herocalc/data/main").heroData,stackableItems=require("dota-hero-calculator-library/src/herocalc/inventory/stackableItems"),levelItems=require("dota-hero-calculator-library/src/herocalc/inventory/levelItems"),getItemTooltipData=require("./herocalc_tooltips_item"),getAbilityTooltipData=require("./herocalc_tooltips_ability"),HeroViewModel=require("./HeroViewModel"),CloneViewModel=require("./CloneViewModel"),UnitViewModel=require("./UnitViewModel"),AbilityModel=require("dota-hero-calculator-library/src/herocalc/AbilityModel");AbilityModel.prototype.getAbilityTooltipData=function(t,a){return getAbilityTooltipData(heroData,unitData,t,a)};var PlayerColors=["#2E6AE6","#5DE6AD","#AD00AD","#DCD90A","#E66200","#E67AB0","#92A440","#5CC5E0","#00771F","#956000"],Tab=function(t,a,e,n,i,d){var s=this;return s.id=t,s.href=a,s.color=i,s.data=e,s.data.id=ko.observable(s.href),s.text=n,s.template=d,s};Tab.prototype.toJS=function(){return{id:this.id,href:this.href,color:this.color,text:this.text,template:this.template}};var TabGroup=function(t,a,e){var n=this;return n.hero=t,n.unit=a,n.clone=e,n.illusions=ko.observableArray([]),n};TabGroup.prototype.toJS=function(){return{hero:this.hero.toJS(),unit:this.unit.toJS(),clone:this.clone.toJS(),illusions:this.illusions().map(function(t){return t.toJS()})}};var HeroCalculatorViewModel=function(t){var a=this;a.heroes=[],getAbilityTooltipData.init(t);for(var e=0;e<10;e++)a.heroes.push(new HeroViewModel(heroData,itemData,unitData,e));for(var e=0;e<5;e++){for(var n=[],i=5;i<10;i++)n.push(a.heroes[i]);a.heroes[e].enemies.push.apply(a.heroes[e].enemies,n)}for(var e=5;e<10;e++){for(var n=[],i=0;i<5;i++)n.push(a.heroes[i]);a.heroes[e].enemies.push.apply(a.heroes[e].enemies,n)}for(var e=0;e<10;e++){for(var n=[],i=0;i<10;i++)e!==i&&n.push(a.heroes[i]);a.heroes[e].otherHeroes.push.apply(a.heroes[e].otherHeroes,n)}for(var e=0;e<10;e++)a.heroes[e].clone=ko.observable(new CloneViewModel(heroData,itemData,unitData,"meepo",a.heroes[e])),a.heroes[e].unit=ko.observable(new UnitViewModel(heroData,itemData,unitData,"abaddon",a.heroes[e])),a.heroes[e].selectedCompare(a.heroes[e].availableCompare()[e<5?4+e:e-5]),a.heroes[e].selectedEnemy(a.heroes[e].availableEnemies()[e%5]),a.heroes[e].unit().enemy(a.heroes[e].enemy()),a.heroes[e].unit().selectedUnit(a.heroes[e].unit().availableUnits()[0]),a.heroes[e].illusions.subscribe(function(t){for(var e=0;e<t.length;e++)if("added"==t[e].status){var n=this.index<2?"#5cb85c":"#d9534f",i=uniqueId();a.tabs()[this.index].illusions.push(new Tab("illusionTab"+this.index+"-"+i,"illusionPane"+this.index+"-"+i,a.heroes[this.index].illusions()[a.tabs()[this.index].illusions().length](),"Illusion "+i,n,"illusion-pane"))}},{vm:this,index:e},"arrayChange");a.heroes[0].bound(!0),a.tabs=ko.observableArray([]);for(var d=[],e=0;e<10;e++){var s=PlayerColors[e],l=new TabGroup(new Tab("heroTab"+e,"heroPane"+e,a.heroes[e],"Hero "+e,s,"hero-pane"),new Tab("unitTab"+e,"unitPane"+e,a.heroes[e].unit(),"Unit "+e,s,"unit-pane"),new Tab("cloneTab"+e,"clonePane"+e,a.heroes[e].clone(),"Meepo Clone "+e,s,"clone-pane"));d.push(l)}a.tabs.push.apply(a.tabs,d),a.selectedItem=ko.observable(),a.layout=ko.observable("1"),a.displayShop=ko.observable(!0),a.displayShopItemTooltip=ko.observable(!0),a.allItems=ko.observableArray([{name:"Str, Agi, Int, MS, Turn, Sight",value:"stats0"},{name:"Armor, Health, Mana, Regen, EHP",value:"stats1"},{name:"Phys Res, Magic Res, Lifesteal, Evasion, Bash, Miss",value:"stats2"},{name:"Damage, IAS, BAT, Attack",value:"stats3"}]),a.selectedItems=ko.observableArray([]),a.moveUp=function(){var t=a.allItems.indexOf(a.selectedItems()[0]),e=a.allItems.indexOf(a.selectedItems()[a.selectedItems().length-1]);if(t>0){var n=a.allItems.splice(t-1,1);a.allItems.splice(e,0,n[0])}},a.moveDown=function(){var t=a.allItems.indexOf(a.selectedItems()[0]),e=a.allItems.indexOf(a.selectedItems()[a.selectedItems().length-1]);if(e<a.allItems().length-1){var n=a.allItems.splice(e+1,1);a.allItems.splice(t,0,n[0])}},a.selectedTabId=ko.observable("heroTab0"),a.getSelectedTab=function(t){var e=t.replace("heroTab","").replace("cloneTab","").replace("unitTab","").replace("illusionTab","").split("-"),n=e[0],i=a.tabs()[n];return i},a.selectedTab=ko.computed(function(){var t=a.getSelectedTab(a.selectedTabId());return a.selectedTabId().indexOf("hero")!=-1?t.hero:a.selectedTabId().indexOf("unit")!=-1?t.unit:a.selectedTabId().indexOf("clone")!=-1?t.clone:a.selectedTabId().indexOf("illusion")!=-1?t.illusions().find(function(t){return t.id==a.selectedTabId()}):a.tabs()[0].hero}),a.selectedTabs=ko.observableArray(["heroTab0","heroTab1"]),a.boundSettings=ko.observable(!1),a.clickTab=function(t,e,n){a.selectedTabId(e.target.id),a.selectedTabs()[1]!=e.target.id&&(a.selectedTabs.shift(),a.selectedTabs.push(e.target.id)),a.selectedTab().data.hasOwnProperty("bound")&&(a.selectedTab().data.bound(!0),a.selectedTab().data.hasOwnProperty("buildExplorer")&&setTimeout(function(){a.selectedTab().data.buildExplorer.graphData.valueHasMutated()},0)),"settingsTab"===e.target.id&&a.boundSettings(!0)},a.isSecondTab=function(t){return a.selectedTabs().indexOf(t)>-1&&a.selectedTabId()!=t},a.showSideTabId=function(t){return a.selectedTabs().indexOf(t)>-1&&a.sideView()},a.removeTab=function(t,e,n,i){e.id==a.selectedTabId()&&(a.clickTab(null,{target:{id:"heroTab0"}}),$("#heroTab0").tab("show")),a.tabs()[i].illusions.remove(function(t){return t==e}),a.heroes[i].illusions.remove(function(t){return t()==e.data})},a.sideView=ko.observable(!1),a.sideView.subscribe(function(t){if(t){a.shopPopout()||a.displayShop(!1);for(var e=0;e<a.selectedTabs().length;e++){var n=a.getSelectedTab(a.selectedTabs()[e]);n&&n.hero.data.hasOwnProperty("bound")&&n.hero.data.bound(!0)}a.layout("0")}});var o=$(window);a.windowWidth=ko.observable(o.width()),a.windowHeight=ko.observable(o.height()),o.resize(function(){a.windowWidth(o.width()),a.windowHeight(o.height())}),a.shopDock=ko.observable(!1),a.shopDock.subscribe(function(t){t&&a.shopPopout(!1)}),a.shopDockTrigger=ko.computed(function(){a.windowWidth(),a.shopDock()}),a.shopPopout=ko.observable(!1),a.shopPopout.subscribe(function(t){t?(a.displayShop(!0),$("#shop-dialog").dialog({minWidth:380,minHeight:0,closeText:"",open:function(t,e){$(t.target.offsetParent).find(".ui-dialog-titlebar").find("button").addClass("close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right").removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close").css("margin-right","0px").parent().append($("#shop-minimize")).append($("#shop-maximize")),$(t.target.offsetParent).find(".ui-dialog-titlebar").dblclick(function(){a.displayShop(!a.displayShop())})},close:function(t,e){a.shopPopout(!1)}})):($("#shop-container").prepend($("#shop-minimize")).prepend($("#shop-maximize")),$("#shop-dialog").dialog("destroy"))}),a.addItem=function(t,e){a.selectedTab().data.buildExplorer.getSelectedInventory().addItem(t,e)},a.itemOptions=ko.computed(function(){return a.selectedTab().data.inventory.itemOptions()}),a.changeSelectedItem=function(t,e){a.itemInputValue(1),a.selectedItem(e.target.id)},a.getItemTooltipData=ko.computed(function(){return getItemTooltipData(itemData,a.selectedItem())},this),a.getItemInputLabel=ko.computed(function(){return stackableItems.indexOf(a.selectedItem())!=-1?"Stack Size":levelItems.indexOf(a.selectedItem())!=-1?"Upgrade Level":"bloodstone"==a.selectedItem()?"Charges":""},this),a.itemInputValue=ko.observable(1),a.saveLink=ko.observable(),a.getAppState=function(){var t={selectedItem:a.selectedItem,layout:a.layout,displayShop:a.displayShop,displayShopItemTooltip:a.displayShopItemTooltip,allItems:a.allItems,selectedItems:a.selectedItems,selectedTabId:a.selectedTabId,selectedTabs:a.selectedTabs,boundSettings:a.boundSettings,sideView:a.sideView,windowWidth:a.windowWidth,windowHeight:a.windowHeight,shopDock:a.shopDock,shopPopout:a.shopPopout,itemInputValue:a.itemInputValue,saveLink:a.saveLink};return t.tabs=a.tabs().map(function(t){return t.toJS()}),ko.toJS(t)},a.getSaveData=function(){for(var t={version:"1.3.0",heroes:[]},e=0;e<10;e++){for(var n=a.heroes[e],i={hero:n.selectedHero().heroName,level:n.selectedHeroLevel(),items:[],abilities:[],skillPointHistory:n.skillPointHistory(),buffs:[],itemBuffs:[],debuffs:[],itemDebuffs:[],graphData:[],enemyIndex:n.enemy().index(),heroCompareIndex:n.heroCompare().index()},d=0;d<n.inventory.items().length;d++)i.items.push(ko.toJS(n.inventory.items()[d]));for(var d=0;d<n.ability().abilities().length;d++)i.abilities.push({level:n.ability().abilities()[d].level(),isActive:n.ability().abilities()[d].isActive()});for(var d=0;d<n.buffs.buffs().length;d++)i.buffs.push({name:n.buffs.buffs()[d].name,level:n.buffs.buffs()[d].data.level(),isActive:n.buffs.buffs()[d].data.isActive()});for(var d=0;d<n.debuffs.buffs().length;d++)i.debuffs.push({name:n.debuffs.buffs()[d].name,level:n.debuffs.buffs()[d].data.level(),isActive:n.debuffs.buffs()[d].data.isActive()});for(var d=0;d<n.buffs.itemBuffs.items().length;d++)i.itemBuffs.push(ko.toJS(n.buffs.itemBuffs.items()[d]));for(var d=0;d<n.debuffs.itemBuffs.items().length;d++)i.itemDebuffs.push(ko.toJS(n.debuffs.itemBuffs.items()[d]));i.graphData=ko.toJS(n.buildExplorer.graphData),t.heroes.push(i)}return t},a.save=function(){var t=a.getSaveData(),e=JSON.stringify(t);$.ajax({type:"POST",url:"save.php",data:{data:e},dataType:"json",success:function(t){a.saveLink([location.protocol,"//",location.host,location.pathname].join("")+"?id="+t.file)},failure:function(t){alert("Save request failed.")}})},a.load=function(t){for(var e=0;e<t.heroes.length;e++){var n=a.heroes[e];if(n.selectedHero(findWhere(n.availableHeroes(),{heroName:t.heroes[e].hero})),n.selectedHeroLevel(t.heroes[e].level),n.inventory.items.removeAll(),n.inventory.activeItems.removeAll(),t.heroes[e].hasOwnProperty("heroCompareIndex")){var i=n.availableCompare().filter(function(a){return a.hero.index()==t.heroes[e].heroCompareIndex});i.length&&(n.selectedCompare(i[0]),n.heroCompare(i[0].hero))}if(t.heroes[e].hasOwnProperty("enemyIndex")){var i=n.availableEnemies().filter(function(a){return a.hero.index()==t.heroes[e].enemyIndex});i.length&&(n.selectedEnemy(i[0]),n.enemy(i[0].hero))}for(var d=0;d<t.heroes[e].items.length;d++){var s=t.heroes[e].items[d],l={item:s.item,state:ko.observable(s.state),size:s.size,enabled:ko.observable(s.enabled)};n.inventory.items.push(l)}for(var d=0;d<t.heroes[e].abilities.length;d++)n.ability().abilities()[d].level(t.heroes[e].abilities[d].level),n.ability().abilities()[d].isActive(t.heroes[e].abilities[d].isActive);n.skillPointHistory(t.heroes[e].skillPointHistory);for(var d=0;d<t.heroes[e].buffs.length;d++){n.buffs.selectedBuff(findWhere(n.buffs.availableBuffs(),{buffName:t.heroes[e].buffs[d].name})),n.buffs.addBuff(n,{});var o=findWhere(n.buffs.buffs(),{name:t.heroes[e].buffs[d].name});o.data.level(t.heroes[e].buffs[d].level),o.data.isActive(t.heroes[e].buffs[d].isActive)}for(var d=0;d<t.heroes[e].debuffs.length;d++){n.debuffs.selectedBuff(findWhere(n.debuffs.availableDebuffs(),{buffName:t.heroes[e].debuffs[d].name})),n.debuffs.addBuff(n,{});var o=findWhere(n.debuffs.buffs(),{name:t.heroes[e].debuffs[d].name});o.data.level(t.heroes[e].debuffs[d].level),o.data.isActive(t.heroes[e].debuffs[d].isActive)}if(t.heroes[e].itemBuffs)for(var d=0;d<t.heroes[e].itemBuffs.length;d++){var s=t.heroes[e].itemBuffs[d],l={item:s.item,state:ko.observable(s.state),size:s.size,enabled:ko.observable(s.enabled)};n.buffs.itemBuffs.items.push(l)}if(t.heroes[e].itemDebuffs)for(var d=0;d<t.heroes[e].itemDebuffs.length;d++){var s=t.heroes[e].itemDebuffs[d],l={item:s.item,state:ko.observable(s.state),size:s.size,enabled:ko.observable(s.enabled)};n.debuffs.itemBuffs.items.push(l)}t.heroes[e].graphData&&n.buildExplorer.loadGraphData(t.heroes[e].graphData)}},a.sendReport=function(){$("#BugReportFormText").val()?($.post("report.php",{name:$("#BugReportFormName").val(),email:$("#BugReportFormEmail").val(),body:$("#BugReportFormText").val()}).done(function(t){"Success"==t?(alert("Report successfully sent. Thanks!"),$("#BugReportFormText").val("")):alert("Failed to send report. Try again later or email admin@devilesk.com")}),$("#myModal").modal("hide")):alert("Message is required.")},a.getProperty=function(t,a){for(var e=t,n=0;n<a.length;n++)e=e[a[n]];return e},a.getDiffTextWrapper=function(t,e){return a.getDiffText(a.getDiffMagnitude(t,e))},a.getDiffMagnitude=function(t,e){var n=e.split(".");return a.getProperty(t.damageTotalInfo(),n).toFixed(2)-a.getProperty(t.heroCompare().damageTotalInfo(),n).toFixed(2)},a.getDiffText=function(t){return t>0?"+"+parseFloat(t.toFixed(2)):t<0?"&minus;"+parseFloat(t.toFixed(2)*-1).toString():""},a.highlightedTabInternal=ko.observable(""),a.highlightedTab=ko.computed(function(){return a.highlightedTabInternal()}).extend({throttle:100}),a.highlightTab=function(t){a.highlightedTabInternal(t)},a.unhighlightTab=function(t){a.highlightedTabInternal("")}};module.exports=HeroCalculatorViewModel;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../components/shop":86,"./CloneViewModel":72,"./HeroViewModel":76,"./UnitViewModel":78,"./herocalc_knockout":80,"./herocalc_tooltips_ability":81,"./herocalc_tooltips_item":82,"./jquery-ui.custom":83,"dota-hero-calculator-library":36,"dota-hero-calculator-library/src/herocalc/AbilityModel":2,"dota-hero-calculator-library/src/herocalc/data/main":7,"dota-hero-calculator-library/src/herocalc/inventory/levelItems":33,"dota-hero-calculator-library/src/herocalc/inventory/stackableItems":34,"dota-hero-calculator-library/src/herocalc/util/findWhere":38,"dota-hero-calculator-library/src/herocalc/util/uniqueId":44}],75:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),extend=require("dota-hero-calculator-library/src/herocalc/util/extend"),findWhere=require("dota-hero-calculator-library/src/herocalc/util/findWhere"),DamageInstance=function(e,a,t,n,r){this.label=e||"",this.damageType=a||"",this.value=parseFloat(t)||0,this.data=n||[],this.total=parseFloat(r)||0},HeroDamageAmpMixin=function(e){e.damageBrackets=[["medusa_mana_shield","templar_assassin_refraction","faceless_void_backtrack","nyx_assassin_spiked_carapace"],["spectre_dispersion","wisp_overcharge","slardar_sprint","bristleback_bristleback","undying_flesh_golem"],["abaddon_borrowed_time","abaddon_aphotic_shield","kunkka_ghostship","treant_living_armor"],["chen_penitence","medusa_stone_gaze","shadow_demon_soul_catcher"],["dazzle_shallow_grave"]],e.getDamageAfterBracket=function(a,t){for(var n=e.damageBrackets[t],r=1,c=0;c<n.length;c++)void 0==findWhere(e.damageAmplification.buffs,{name:n[c].name})&&void 0==findWhere(e.damageReduction.buffs,{name:n[c].name})||(r+=n[c].value);return a*r},e.processDamageAmpReducBracket=function(a,t,n){for(var r=1,c=[],n=parseFloat(n),s=parseFloat(n),o=0;o<e.damageBrackets[a].length;o++)void 0!=t[e.damageBrackets[a][o]]&&(r=1+parseFloat(t[e.damageBrackets[a][o]].multiplier),s+=n*r-n,c.push(new DamageInstance(t[e.damageBrackets[a][o]].displayname,t[e.damageBrackets[a][o]].damageType,n*r-n,[],s)));return c},e.getDamageAmpReducInstance=function(a,t,n,r){var c=[],s=parseFloat(t),o="initial"==n?"Initial":a[n].displayname;return c=c.concat(e.processDamageAmpReducBracket(0,a,s)),s=c[c.length-1]?c[c.length-1].total:s,c=c.concat(e.processDamageAmpReducBracket(1,a,s)),s=c[c.length-1]?c[c.length-1].total:s,c=c.concat(e.processDamageAmpReducBracket(2,a,s)),s=c[c.length-1]?c[c.length-1].total:s,new DamageInstance(o,r,t,c,c[c.length-1]?c[c.length-1].total:s)},e.getDamageAmpReduc=function(a){var t=[],n={},r=e.damageReduction.getDamageMultiplierSources(),c=e.damageAmplification.getDamageMultiplierSources();extend(n,r),extend(n,c),t.push(e.getDamageAmpReducInstance(n,a,"initial","physical"));for(var s=["shadow_demon_soul_catcher","medusa_stone_gaze","chen_penitence"],o=0;o<s.length;o++)void 0!=n[s[o]]&&t.push(e.getDamageAmpReducInstance(n,a*n[s[o]].multiplier,s[o],n[s[o]].damageType));return new DamageInstance("Total","physical",a,t,t.reduce(function(e,a){return parseFloat(e)+parseFloat(a.total)},0))},e.damageInputValue=ko.observable(0),e.damageInputModified=ko.computed(function(){return e.getDamageAmpReduc(e.damageInputValue())})};module.exports=HeroDamageAmpMixin;
},{"./herocalc_knockout":80,"dota-hero-calculator-library/src/herocalc/util/extend":37,"dota-hero-calculator-library/src/herocalc/util/findWhere":38}],76:[function(require,module,exports){
(function (global){
"use strict";var ko="undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,HeroCalc=require("dota-hero-calculator-library"),DamageAmpViewModel=require("./DamageAmpViewModel"),BuildExplorerViewModel=require("./BuildExplorerViewModel"),HeroDamageAmpMixin=require("./HeroDamageAmpMixin"),illusionOptionsArray=require("dota-hero-calculator-library/src/herocalc/illusion/illusionOptionsArray"),illusionData=require("dota-hero-calculator-library/src/herocalc/illusion/illusionData"),IllusionViewModel=require("./IllusionViewModel"),HeroOption2=function(e){this.heroName=ko.computed(function(){return e.selectedHero().heroName}),this.heroDisplayName=ko.computed(function(){return e.selectedHero().heroDisplayName}),this.hero=e},HeroViewModel=function(e,o,l,r){var i=this;i.index=ko.observable(r),i.availableHeroes=ko.observableArray(HeroCalc.HeroOptions),i.availableHeroes.sort(function(e,o){return e.heroDisplayName==o.heroDisplayName?0:e.heroDisplayName<o.heroDisplayName?-1:1}),i.selectedHero=ko.observable(i.availableHeroes()[r]),HeroCalc.HeroModel.call(this,e,o,i.selectedHero().heroName),i.selectedHero.subscribe(function(e){i.heroId(e.heroName)}),i.illusions=ko.observableArray([]),i.availableIllusions=ko.observableArray(illusionOptionsArray),i.selectedIllusion=ko.observable(i.availableIllusions()[0]),i.illusionAbilityLevel=ko.observable(1),i.illusionAbilityMaxLevel=ko.computed(function(){return illusionData[i.selectedIllusion().illusionName].max_level}),i.addIllusion=function(l,r){i.illusions.push(ko.observable(new IllusionViewModel(e,o,0,i,i.illusionAbilityLevel())))},i.bound=ko.observable(!1),i.playerColorCss=ko.computed(function(){return"player-color-"+i.index()}),i.heroOption=new HeroOption2(i),i.otherHeroes=ko.observableArray([]),i.availableCompare=ko.computed(function(){return i.otherHeroes().map(function(e){return e.heroOption})}),i.selectedCompare=ko.observable(),i.selectedCompare.subscribe(function(e){i.heroCompare(e.hero)}),i.enemies=ko.observableArray([]),i.availableEnemies=ko.computed(function(){return i.enemies().map(function(e){return e.heroOption})}),i.selectedEnemy=ko.observable(),i.selectedEnemy.subscribe(function(e){i.enemy(e.hero)}),i.setHeroOptionStyling=function(e,o){ko.applyBindingsToNode(e,{css:o.hero.playerColorCss()},o)},i.sectionDisplay=ko.observable({inventory:ko.observable(!0),ability:ko.observable(!0),talent:ko.observable(!0),buff:ko.observable(!0),debuff:ko.observable(!0),damageamp:ko.observable(!1),illusion:ko.observable(!1),skillbuild:ko.observable(!1),"skillbuild-skills":ko.observable(!0),"skillbuild-items":ko.observable(!0)}),i.sectionDisplayToggle=function(e){i.sectionDisplay()[e](!i.sectionDisplay()[e]())},i.showUnitTab=ko.observable(!1),i.showDiff=ko.observable(!1),i.showCriticalStrikeDetails=ko.observable(!1),i.showDamageDetails=ko.observable(!1),i.showStatDetails=ko.observable(!1),i.showDamageAmpCalcDetails=ko.observable(!1),i.damageAmplification=new DamageAmpViewModel(e,o,l),i.damageReduction=new DamageAmpViewModel(e,o,l),i.buildExplorer=new BuildExplorerViewModel(i),HeroDamageAmpMixin(i)};HeroViewModel.prototype=Object.create(HeroCalc.HeroModel.prototype),HeroViewModel.prototype.constructor=HeroViewModel,module.exports=HeroViewModel;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./BuildExplorerViewModel":71,"./DamageAmpViewModel":73,"./HeroDamageAmpMixin":75,"./IllusionViewModel":77,"dota-hero-calculator-library":36,"dota-hero-calculator-library/src/herocalc/illusion/illusionData":24,"dota-hero-calculator-library/src/herocalc/illusion/illusionOptionsArray":25}],77:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),HeroCalc=require("dota-hero-calculator-library"),illusionData=require("dota-hero-calculator-library/src/herocalc/illusion/illusionData"),heroData=require("dota-hero-calculator-library/src/herocalc/data/main").heroData,itemData=require("dota-hero-calculator-library/src/herocalc/data/main").itemData,findWhere=require("dota-hero-calculator-library/src/herocalc/util/findWhere"),IllusionViewModel=function(e,l,o,a,r){var i=this;return i.parent=a,i.illusionType=ko.observable(i.parent.selectedIllusion().illusionName),illusionData[i.illusionType()].use_selected_hero?(HeroCalc.IllusionModel.call(this,e,l,i.parent.selectedHero().heroName,a,r),i.selectedHero=ko.observable(i.parent.selectedHero())):(HeroCalc.IllusionModel.call(this,e,l,i.parent.selectedIllusion().baseHero,a,r),i.selectedHero=ko.observable(findWhere(i.parent.availableHeroes(),{heroName:i.parent.selectedIllusion().baseHero}))),i.inventory=i.parent.inventory,i.illusionDisplayName=ko.observable(i.parent.selectedIllusion().illusionDisplayName),i.illusionAbilityMaxLevel=ko.observable(illusionData[i.parent.selectedIllusion().illusionName].max_level),i.selectedHeroLevel(i.parent.selectedHeroLevel()),i.ability().getAttributeBonusLevel=i.parent.ability().getAttributeBonusLevel,i.sectionDisplay=ko.observable({inventory:ko.observable(!0),ability:ko.observable(!0),buff:ko.observable(!0),debuff:ko.observable(!0),damageamp:ko.observable(!1),illusion:ko.observable(!1),skillbuild:ko.observable(!1),"skillbuild-skills":ko.observable(!0),"skillbuild-items":ko.observable(!0)}),i.sectionDisplayToggle=function(e){i.sectionDisplay()[e](!i.sectionDisplay()[e]())},i.showUnitTab=ko.observable(!1),i.showDiff=ko.observable(!1),i.showCriticalStrikeDetails=ko.observable(!1),i.showDamageDetails=ko.observable(!1),i.showStatDetails=ko.observable(!1),i};IllusionViewModel.prototype=Object.create(HeroCalc.IllusionModel.prototype),IllusionViewModel.prototype.constructor=IllusionViewModel,module.exports=IllusionViewModel;
},{"./herocalc_knockout":80,"dota-hero-calculator-library":36,"dota-hero-calculator-library/src/herocalc/data/main":7,"dota-hero-calculator-library/src/herocalc/illusion/illusionData":24,"dota-hero-calculator-library/src/herocalc/util/findWhere":38}],78:[function(require,module,exports){
(function (global){
"use strict";var ko="undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,HeroCalc=require("dota-hero-calculator-library"),UnitOption=require("dota-hero-calculator-library/src/herocalc/hero/UnitOption"),UnitViewModel=function(e,o,i,t,n){var r=this;r.index=ko.observable(t),r.selectedUnitLevel=ko.observable(1),r.availableUnits=ko.observableArray([new UnitOption("npc_dota_lone_druid_bear","Lone Druid Spirit Bear",4,"/media/images/units/spirit_bear.png",r.selectedUnitLevel),new UnitOption("npc_dota_brewmaster_earth_","Brewmaster Earth Warrior",3,"/media/images/units/npc_dota_brewmaster_earth.png",r.selectedUnitLevel),new UnitOption("npc_dota_brewmaster_fire_","Brewmaster Fire Warrior",3,"/media/images/units/npc_dota_brewmaster_fire.png",r.selectedUnitLevel),new UnitOption("npc_dota_brewmaster_storm_","Brewmaster Storm Warrior",3,"/media/images/units/npc_dota_brewmaster_storm.png",r.selectedUnitLevel),new UnitOption("npc_dota_necronomicon_archer_","Necronomicon Archer",3,"/media/images/units/npc_dota_necronomicon_archer.png",r.selectedUnitLevel),new UnitOption("npc_dota_necronomicon_warrior_","Necronomicon Warrior",3,"/media/images/units/npc_dota_necronomicon_warrior.png",r.selectedUnitLevel),new UnitOption("npc_dota_lycan_wolf","Lycan Wolf",4,"/media/images/units/npc_dota_lycan_wolf.png",r.selectedUnitLevel),new UnitOption("npc_dota_visage_familiar","Visage Familiar",3,"/media/images/units/npc_dota_visage_familiar.png",r.selectedUnitLevel)]),r.selectedUnit=ko.observable(r.availableUnits()[0]),HeroCalc.UnitModel.call(this,e,o,i,r.selectedUnit().heroName()),r.selectedUnitLevel.subscribe(function(e){r.unitLevel(e),r.unitId(r.selectedUnit().heroName())}),r.selectedUnit.subscribe(function(e){e.heroName().indexOf("npc_dota_lone_druid_bear")!=-1?(r.inventory.hasInventory(!0),r.inventory.items.removeAll(),r.inventory.activeItems.removeAll()):(r.inventory.hasInventory(!1),r.inventory.items.removeAll(),r.inventory.activeItems.removeAll()),r.unitId(e.heroName())}),r.bound=ko.observable(!1),r.playerColorCss=ko.computed(function(){return"player-color-"+r.index()}),r.setHeroOptionStyling=function(e,o){ko.applyBindingsToNode(e,{css:o.hero.playerColorCss()},o)},r.sectionDisplay=ko.observable({inventory:ko.observable(!0),ability:ko.observable(!0),buff:ko.observable(!0),debuff:ko.observable(!0),damageamp:ko.observable(!1),illusion:ko.observable(!1),skillbuild:ko.observable(!1),"skillbuild-skills":ko.observable(!0),"skillbuild-items":ko.observable(!0)}),r.sectionDisplayToggle=function(e){r.sectionDisplay()[e](!r.sectionDisplay()[e]())},r.showUnitTab=ko.observable(!1),r.showDiff=ko.observable(!1),r.showCriticalStrikeDetails=ko.observable(!1),r.showDamageDetails=ko.observable(!1),r.showStatDetails=ko.observable(!1)};UnitViewModel.prototype=Object.create(HeroCalc.UnitModel.prototype),UnitViewModel.prototype.constructor=UnitViewModel,module.exports=UnitViewModel;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"dota-hero-calculator-library":36,"dota-hero-calculator-library/src/herocalc/hero/UnitOption":16}],79:[function(require,module,exports){
"use strict";var getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=r.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))};module.exports=getParameterByName;
},{}],80:[function(require,module,exports){
(function (global){
"use strict";var ko="undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,Chart=require("chart.js");require("../lib/Chart.scatter"),ko.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},ko.virtualElements.allowedBindings.stopBinding=!0,ko.bindingHandlers.lazyBinding={init:function(t,o,e,i,n){return ko.utils.domData.set(t,"isBound",!1),{controlsDescendantBindings:!0}},update:function(t,o,e,i,n){var a=ko.unwrap(o()),s=ko.utils.domData.get(t,"isBound");a&&!s&&(ko.utils.domData.set(t,"isBound",!0),ko.applyBindingsToDescendants(n,t))}},ko.virtualElements.allowedBindings.lazyBinding=!0,ko.bindingHandlers.itemBuildTable={init:function(t,o,e,i,n){var a=ko.unwrap(o()),s=($(t),{});ko.utils.domData.set(t,"pressedKeys",s);var r=function(o){var e=ko.utils.domData.get(t,"pressedKeys");e[o.which]=!0,ko.utils.domData.set(t,"pressedKeys",e)};ko.utils.domData.set(t,"keyDownHandler",r);var l=function(o){var e=ko.utils.domData.get(t,"pressedKeys");if(e[17]&&e[67]||e[17]&&e[86]){var i=$(t).find(".hover-cursor:hover");1==i.length&&(e[67]?a.copyInventoryToClipBoard($("tr",$(t)).index(i[0])):a.pasteInventoryFromClipBoard($("tr",$(t)).index(i[0])),i.fadeOut(50).fadeIn(50))}delete e[o.which],ko.utils.domData.set(t,"pressedKeys",e)};ko.utils.domData.set(t,"keyUpHandler",l),$(document).bind("keydown",r),$(document).bind("keyup",l),ko.utils.domNodeDisposal.addDisposeCallback(t,function(){var o=ko.utils.domData.get(t,"keyDownHandler"),e=ko.utils.domData.get(t,"keyUpHandler");$(document).unbind("keydown",o),$(document).unbind("keyup",e)})}},ko.bindingHandlers.preventBubble={init:function(t,o){var e=ko.utils.unwrapObservable(o());ko.utils.registerEventHandler(t,e,function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()})}},ko.bindingHandlers.toggle={init:function(t,o){var e=o();ko.applyBindingsToNode(t,{click:function(){e(!e())}})}},ko.bindingHandlers.shopDockStyle={init:function(t,o,e,i,n){ko.utils.unwrapObservable(o());n.$data.shopDock()&&!n.$data.shopPopout()?ko.applyBindingsToNode(t,{style:{height:n.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):ko.applyBindingsToNode(t,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})},update:function(t,o,e,i,n){ko.utils.unwrapObservable(o());n.$data.shopDock()&&!n.$data.shopPopout()?ko.applyBindingsToNode(t,{style:{height:n.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):ko.applyBindingsToNode(t,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})}},ko.bindingHandlers.logger={update:function(t,o,e){var i=ko.utils.domData.get(t,"_ko_logger")||0,n=ko.toJS(o()||e());ko.utils.domData.set(t,"_ko_logger",++i),window.console&&console.log&&console.log(i,t,n)}},ko.bindingHandlers.tooltip={update:function(t,o,e,i,n){var a,s,r;if(s=ko.utils.unwrapObservable(o()),a=$(t),ko.isObservable(s.title)){var l=!1;a.on("show.bs.tooltip",function(){l=!0}),a.on("hide.bs.tooltip",function(){l=!1});var d=s.animation||!0;s.title.subscribe(function(){l&&(a.data("bs.tooltip").options.animation=!1,a.tooltip("fixTitle").tooltip("show"),a.data("bs.tooltip").options.animation=d)})}r=a.data("bs.tooltip"),r?$.extend(r.options,s):a.tooltip(s)}},ko.bindingHandlers.popover={init:function(t,o,e,i,n){var a=$(t),s=ko.utils.unwrapObservable(o()),r=s.template||!1,l=s.options||{title:"popover"},d=s.data||!1;return r!==!1&&(d?l.content="<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->":l.content=$("#"+r).html(),l.html=!0),a.on("shown.bs.popover",function(t){var o=$(t.target).data(),e=o["bs.popover"].$tip,i=o["bs.popover"].options||{},a=$(t.target),s=a.position(),l={x:a.outerWidth(),y:a.outerHeight()};d&&ko.applyBindingsToNode(e[0],{template:{name:r,data:d}},n);var u={x:e.outerWidth(),y:e.outerHeight()};switch(e.find('button[data-dismiss="popover"]').click(function(){a.popover("hide")}),i.placement){case"right":e.css({left:l.x+s.left,top:l.y/2+s.top-u.y/2});break;case"left":e.css({left:s.left-u.x,top:l.y/2+s.top-u.y/2});break;case"top":e.css({left:s.left+(l.x/2-u.x/2),top:s.top-u.y});break;case"bottom":e.css({left:s.left+(l.x/2-u.x/2),top:s.top+l.y})}}),a.popover(l),{controlsDescendantBindings:!0}}},ko.bindingHandlers.chart={init:function(t,o,e,i,n){var a=$("<canvas/>"),s=ko.utils.unwrapObservable(o()),r=a[0].getContext("2d"),l=e().chartType,d=e().chartOptions||{},u=e().chartContext;$(t).append(a);var p=new Chart(r)[l](s,d);ko.utils.domData.set(t,"myChart",p),ko.utils.domNodeDisposal.addDisposeCallback(t,function(){var o=ko.utils.domData.get(t,"myChart");o.clear(),o.destroy()}),u&&u(r)},update:function(t,o,e,i,n){var a=$("<canvas/>").width(730).height(365),s=ko.utils.unwrapObservable(o()),r=a[0].getContext("2d"),l=e().chartType,d=e().chartOptions||{},u=e().chartContext,p=ko.utils.domData.get(t,"myChart");p&&(p.clear(),p.destroy()),n.$root.displayShop(),n.$root.sideView(),n.$root.shopDock(),$(t).empty(),$(t).append(a),s.datasets.length>0&&(p=new Chart(r)[l](s,d),ko.utils.domData.set(t,"myChart",p)),u&&u(r)}},ko.bindingHandlers.spinner={init:function(t,o,e){var i=e().spinnerOptions||{};i.icons=i.icons||{down:"glyphicon glyphicon-triangle-bottom",up:"glyphicon glyphicon-triangle-top"},$(t).spinner(i),ko.utils.registerEventHandler(t,"spinchange",function(){var e=o();e($(t).spinner("value"))}),ko.utils.domNodeDisposal.addDisposeCallback(t,function(){$(t).spinner("destroy")})},update:function(t,o){var e=ko.utils.unwrapObservable(o()),i=$(t).spinner("value");e!==i&&$(t).spinner("value",e)}},ko.bindingHandlers.secondTab={update:function(t,o,e,i,n){var a=n.$root,s=ko.utils.unwrapObservable(o());ko.applyBindingsToNode(t,{css:{"second-tab":a.isSecondTab(s)&&a.sideView()}})}},ko.bindingHandlers.hoverTab={update:function(t,o,e,i,n){var a=n.$root,s=ko.utils.unwrapObservable(o());ko.utils.registerEventHandler(t,"mouseover",function(){a.highlightTab(s)}),ko.utils.registerEventHandler(t,"mouseout",function(){a.unhighlightTab(s)})}},ko.bindingHandlers.hoverPaneStyle={init:function(t,o,e,i,n){var a=n.$root,s=ko.utils.unwrapObservable(o());ko.applyBindingsToNode(t,{style:{opacity:a.sideView()&&a.highlightedTab()!=s&&""!=a.highlightedTab()?.5:1}})},update:function(t,o,e,i,n){var a=n.$root,s=ko.utils.unwrapObservable(o());ko.applyBindingsToNode(t,{style:{opacity:a.sideView()&&a.highlightedTab()!=s&&""!=a.highlightedTab()?.5:1}})}},ko.bindingHandlers.diffStyle={init:function(t,o,e,i){var n=ko.utils.unwrapObservable(o());ko.applyBindingsToNode(t,{css:{diffPos:n>0,diffNeg:n<0}})},update:function(t,o,e,i){var n=ko.utils.unwrapObservable(o());ko.applyBindingsToNode(t,{css:{diffPos:n>0,diffNeg:n<0}})}},ko.bindingHandlers.diffCss={init:function(t,o,e,i){var n=ko.utils.unwrapObservable(o()),a=e().diffCssStat;"attackTime"!=a&&"bat"!=a||(n=-n),ko.applyBindingsToNode(t,{css:{diffPos:n>0,diffNeg:n<0}})},update:function(t,o,e,i){var n=ko.utils.unwrapObservable(o()),a=e().diffCssStat;"attackTime"!=a&&"bat"!=a||(n=-n),ko.applyBindingsToNode(t,{css:{diffPos:n>0,diffNeg:n<0}})}},ko.bindingHandlers.jqAuto={init:function(t,o,e,i){function n(t){ko.isWriteableObservable(l)?l(t):s._ko_property_writers&&s._ko_property_writers.jqAutoValue&&s._ko_property_writers.jqAutoValue(t)}var a=o()||{},s=e(),r=ko.utils.unwrapObservable,l=s.jqAutoValue,d=s.jqAutoSource,u=s.jqAutoSourceValue,p=s.jqAutoSourceInputValue||u,c=s.jqAutoSourceLabel||u;a.select=function(t,o){n(o.item?o.item.actualValue:null)},a.change=function(o,e){var i=$(t).val(),a=ko.utils.arrayFirst(r(d),function(t){return r(t[p])===i});a||n(null)};var k=ko.dependentObservable(function(){var t=ko.utils.arrayMap(r(d),function(t){var o={};return o.label=c?r(t[c]):r(t).toString(),o.value=p?r(t[p]):r(t).toString(),o.actualValue=u?r(t[u]):t,o});return t});k.subscribe(function(o){$(t).autocomplete("option","source",o)}),a.source=k(),a.minLength=1,$(t).autocomplete(a)},update:function(t,o,e,i){var n=e(),a=ko.utils.unwrapObservable,s=a(n.jqAutoValue)||"",r=n.jqAutoSourceValue,l=n.jqAutoSourceInputValue||r;if(r&&l!==r)var d=a(n.jqAutoSource)||[],s=ko.utils.arrayFirst(d,function(t){return a(t[r])===s})||{};$(t).val(s&&l!==r?a(s[l]):s.toString())}},ko.bindingHandlers.jqAutoCombo={init:function(t,o){var e=$("#"+o());$(t).click(function(){return e.autocomplete("widget").is(":visible")?void e.autocomplete("close"):(e.autocomplete("search"," "),void e.focus())})}},module.exports=ko;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../lib/Chart.scatter":87,"chart.js":1}],81:[function(require,module,exports){
(function (global){
"use strict";var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null;require("./ko.extenders.async");var ability_vars={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},abilityTooltipData={},abilityDamageTypes={DAMAGE_TYPE_MAGICAL:"Magical",DAMAGE_TYPE_PURE:"Pure",DAMAGE_TYPE_PHYSICAL:"Physical",DAMAGE_TYPE_COMPOSITE:"Composite",DAMAGE_TYPE_HP_REMOVAL:"HP Removal"},tooltipJSON=ko.observable(),getTooltipAbilityDescription=function(t){for(var e=tooltipJSON()?tooltipJSON()[t.name].description:"",i=0;i<t.attributes.length;i++)if(null!=t.attributes[i].name){for(var a=t.attributes[i].name,o=t.attributes[i].value[0],l=1;l<t.attributes[i].value.length;l++)o+=" / "+t.attributes[i].value[l];n=new RegExp("%"+a+"%","gi"),e=e.replace(n,o)}var n=new RegExp("%%","gi");return e=e.replace(n,"%"),n=new RegExp("\n","gi"),e=e.replace(/\\n/g,"<br>")},getTooltipAbilityAttributes=function(t){var e="";if(t.damage.length>0&&t.damage.reduce(function(t,e){return t+e},0)>0){for(var i="DAMAGE: ",a=t.damage[0],o=1;o<t.damage.length;o++)a+=" / "+t.damage[o];e=e+i+" "+a+"<br>"}for(var l=0;l<t.attributes.length;l++)if(null!=t.attributes[l].tooltip){var i=t.attributes[l].tooltip;i=i.replace(/\\n/g,"");for(var a=t.attributes[l].value[0],o=1;o<t.attributes[l].value.length;o++)a+=" / "+t.attributes[l].value[o];var n=i.indexOf("%");if(0==n){if(a.toString().indexOf("/")==-1)a=a.toString().trim()+"%";else{var r=a.split("/"),p=r.map(function(t){return t.trim()});a=p.join("% / ")+"%"}i=i.slice(1)}i.indexOf("$");e=e+i+" "+a+"<br>"}return e.trim("<br>")},getTooltipAbilityManaCost=function(t){var e="";if(0==t.manacost.reduce(function(t,e){return t+e},0))return e;if(t.manacost.every(function(e){return e==t.manacost[0]}))return t.manacost[0].toString();for(var i=0;i<4;i++)null!=t.manacost[i]&&(e=e+" "+t.manacost[i]);return e},getTooltipAbilityCooldown=function(t){var e="";if(0==t.cooldown.reduce(function(t,e){return t+e},0))return e;if(t.cooldown.every(function(e){return e==t.cooldown[0]}))return t.cooldown[0].toString();for(var i=0;i<4;i++)null!=t.cooldown[i]&&(e=e+" "+t.cooldown[i]);return e},getAbilityTooltipData=function(t,e,i,a){if(void 0==abilityTooltipData[a]){var o={};if(void 0==t["npc_dota_hero_"+i]&&void 0==t[i])for(var l=0;l<e[i].abilities.length;l++)e[i].abilities[l].name==a&&(o=e[i].abilities[l]);else{i.indexOf("npc_dota_hero_")==-1&&(i="npc_dota_hero_"+i);for(var l=0;l<t[i].abilities.length;l++)t[i].abilities[l].name==a&&(o=t[i].abilities[l])}var n=$("<div>");n.append($("<span>").html(o.displayname).addClass("item_field pull-left item_name")),o.abilityunitdamagetype&&n.append($("<span>").html(abilityDamageTypes[o.abilityunitdamagetype]).addClass("item_field pull-right item_ability_damage_type").css("margin-right","10px")),n.append($("<hr>").css("clear","both")),tooltipJSON()&&tooltipJSON()[o.name]&&tooltipJSON()[o.name].description&&n.append($("<div>").html(getTooltipAbilityDescription(o)).addClass("item_field item_description"));var r=getTooltipAbilityAttributes(o);""!=r&&n.append($("<div>").html(r).addClass("item_field item_attributes"));var p=getTooltipAbilityCooldown(o),d=getTooltipAbilityManaCost(o);if(""!=p||""!=d){var s=$("<div>").addClass("item_cdmana");""!=d&&s.append($("<span>").html(d.trim()).addClass("item_field item_manacost")),""!=p&&s.append($("<span>").html(p.trim()).addClass("item_field item_cooldown")),n.append(s)}return tooltipJSON()&&tooltipJSON()[o.name]&&tooltipJSON()[o.name].description&&n.append($("<div>").html(tooltipJSON()[o.name].lore).addClass("item_field item_lore")),tooltipJSON()?(abilityTooltipData[a]=n.html(),n.html()):ko.computed(function(){return tooltipJSON()?getAbilityTooltipData(t,e,i,a):n.html()})}return abilityTooltipData[a]};getAbilityTooltipData.tooltipJSON=tooltipJSON;var init=function(t){$.getJSON(t,function(t){tooltipJSON(t)})};getAbilityTooltipData.init=init,module.exports=getAbilityTooltipData;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./ko.extenders.async":84}],82:[function(require,module,exports){
(function (global){
"use strict";var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,itemtooltipdata={},ability_vars={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},getTooltipItemDescription=function(t){for(var e=t.description,a=0;a<t.attributes.length;a++)if(null!=t.attributes[a].name){for(var i=t.attributes[a].name,l=t.attributes[a].value[0],n=1;n<t.attributes[a].value.length;n++)l+=" / "+t.attributes[a].value[n];var o=new RegExp("%"+i+"%","gi");e=e.replace(o,l)}var o=new RegExp("%%","gi");return e=e.replace(o,"%"),o=new RegExp("\n","gi"),e=e.replace(/\\n/g,"<br>")},getTooltipItemAttributes=function(t){for(var e="",a=0;a<t.attributes.length;a++)if(null!=t.attributes[a].tooltip){for(var i=t.attributes[a].tooltip,l=t.attributes[a].value[0],n=1;n<t.attributes[a].value.length;n++)l+=" / "+t.attributes[a].value[n];var o=i.indexOf("%");0==o&&(l+="%",i=i.slice(1));var r=i.indexOf("$");e=r!=-1?e+i.slice(0,r)+" "+l+" "+ability_vars[i.slice(r)]+"<br>":e+i+" "+l+"<br>"}return e.trim("<br>")},getTooltipItemCooldown=function(t){for(var e="",a=0;a<t.cooldown.length;a++)e=e+" "+t.cooldown[a];return e},getTooltipItemManaCost=function(t){for(var e="",a=0;a<t.manacost.length;a++)t.manacost[a]>0&&(e=e+" "+t.manacost[a]);return e},getItemTooltipData=function(t,e){if(void 0!=t["item_"+e]){if(void 0==itemtooltipdata[e]){var a=t["item_"+e],i=$("<div>");i.append($("<span>").html(a.displayname).addClass("item_field item_name")),i.append($("<span>").html(a.itemcost).addClass("item_field item_cost")),i.append($("<hr>")),null!=a.description&&i.append($("<div>").html(getTooltipItemDescription(a)).addClass("item_field item_description"));var l=getTooltipItemAttributes(a);""!=l&&i.append($("<div>").html(l).addClass("item_field item_attributes"));var n=getTooltipItemCooldown(a),o=getTooltipItemManaCost(a);if(""!=n||""!=o){var r=$("<div>").addClass("item_cdmana");""!=n&&r.append($("<span>").html(n).addClass("item_field item_cooldown")),""!=o&&r.append($("<span>").html(o).addClass("item_field item_manacost")),i.append(r)}return null!=a.lore&&i.append($("<div>").html(a.lore).addClass("item_field item_lore")),itemtooltipdata[e]=i.html(),i.html()}return itemtooltipdata[e]}};module.exports=getItemTooltipData;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],83:[function(require,module,exports){
(function (global){
"use strict";function filter(e,i){var u=new RegExp($.ui.autocomplete.escapeRegex(i),"i");return $.grep(e,function(e){return u.test($("<div>").html(e.label||e.value||e).text())})}var $="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null;require("jquery-ui/ui/version"),require("jquery-ui/ui/widget"),require("jquery-ui/ui/unique-id"),require("jquery-ui/ui/safe-active-element"),require("jquery-ui/ui/keycode"),require("jquery-ui/ui/position"),require("jquery-ui/ui/focusable"),require("jquery-ui/ui/tabbable"),require("jquery-ui/ui/plugin"),require("jquery-ui/ui/ie"),require("jquery-ui/ui/data"),require("jquery-ui/ui/scroll-parent"),require("jquery-ui/ui/disable-selection"),require("jquery-ui/ui/safe-blur"),require("jquery-ui/ui/widgets/button"),require("jquery-ui/ui/widgets/spinner"),require("jquery-ui/ui/widgets/menu"),require("jquery-ui/ui/widgets/autocomplete"),require("jquery-ui/ui/widgets/mouse"),require("jquery-ui/ui/widgets/draggable"),require("jquery-ui/ui/widgets/resizable"),require("jquery-ui/ui/widgets/dialog");var proto=$.ui.autocomplete.prototype,initSource=proto._initSource;$.extend(proto,{_initSource:function(){this.options.html&&$.isArray(this.options.source)?this.source=function(e,i){i(filter(this.options.source,e.term))}:initSource.call(this)},_renderItem:function(e,i){return $("<li></li>").data("item.autocomplete",i).append($("<a></a>")[this.options.html?"html":"text"](i.label)).appendTo(e)}});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery-ui/ui/data":48,"jquery-ui/ui/disable-selection":49,"jquery-ui/ui/focusable":50,"jquery-ui/ui/ie":51,"jquery-ui/ui/keycode":52,"jquery-ui/ui/plugin":53,"jquery-ui/ui/position":54,"jquery-ui/ui/safe-active-element":55,"jquery-ui/ui/safe-blur":56,"jquery-ui/ui/scroll-parent":57,"jquery-ui/ui/tabbable":58,"jquery-ui/ui/unique-id":59,"jquery-ui/ui/version":60,"jquery-ui/ui/widget":61,"jquery-ui/ui/widgets/autocomplete":62,"jquery-ui/ui/widgets/button":63,"jquery-ui/ui/widgets/dialog":64,"jquery-ui/ui/widgets/draggable":65,"jquery-ui/ui/widgets/menu":66,"jquery-ui/ui/widgets/mouse":67,"jquery-ui/ui/widgets/resizable":68,"jquery-ui/ui/widgets/spinner":69}],84:[function(require,module,exports){
ko.extenders.async=function(e,o){var n,r=ko.observable(o);return r.inProgress=ko.observable(!1),ko.computed(function(){n&&(n.reject(),n=null);var o=e();o&&"function"==typeof o.done?(r.inProgress(!0),n=$.Deferred().done(function(e){r.inProgress(!1),r(e)}),o.done(n.resolve)):r(o)}),r};
},{}],85:[function(require,module,exports){
Array.prototype.find||(Array.prototype.find=function(r){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var t,e=Object(this),n=e.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=e[i],r.call(o,t,i,e))return t});
},{}],86:[function(require,module,exports){
function ViewModel(e){var i=this;i.windowWidth=e.windowWidth,i.windowHeight=e.windowHeight,i.displayShop=e.displayShop,i.displayShopItemTooltip=e.displayShopItemTooltip,i.shopDock=e.shopDock,i.shopDockTrigger=e.shopDockTrigger,i.shopPopout=e.shopPopout,i.selectedItem=e.selectedItem,i.addItem=e.addItem,i.changeSelectedItem=e.changeSelectedItem,i.getItemTooltipData=e.getItemTooltipData,i.getItemInputLabel=e.getItemInputLabel,i.itemInputValue=e.itemInputValue,i.itemOptions=e.itemOptions}module.exports={viewModel:ViewModel,template:'        <div id="shop-container" class="col-md-12 col-lg-4" data-bind="shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {\'col-lg-4\': !shopPopout()}, style: { \'padding-top\': shopPopout() ? \'5px\' : \'0px\'}">\n              <button id="shop-minimize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShop, visible: displayShop()" title="Minimize shop"></button>\n              <button id="shop-maximize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShop, visible: !displayShop()" title="Maximize shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs" data-bind="click: shopPopout, visible: !shopPopout()" title="Popout shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs" data-bind="toggle: shopDock, attr: { title: shopDock() ? \'Undock shop to right side of screen\' : \'Dock shop to right side of screen\' }" ></button>\n            <ul id="shoptabs" class="nav nav-tabs" data-bind="visible: displayShop()">\n              <li><a href="#shop_basic" data-toggle="tab">Basic</a></li>\n              <li><a href="#shop_upgrade" data-toggle="tab">Upgrade</a></li>\n              <li><a href="#shop_secret" data-toggle="tab">Secret</a></li>\n            </ul>\n            <div class="tab-content text-center bottom-buffer2" data-bind="visible: displayShop()">\n                <div class="tab-pane active" id="shop_basic">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-consumables" id="consumables"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-clarity" id="clarity" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-faerie_fire" id="faerie_fire" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-enchanted_mango" id="enchanted_mango" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tango" id="tango" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-flask" id="flask" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-smoke_of_deceit" id="smoke_of_deceit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tpscroll" id="tpscroll" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-dust" id="dust" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-courier" id="courier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-flying_courier" id="flying_courier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ward_observer" id="ward_observer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ward_sentry" id="ward_sentry" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tome_of_knowledge" id="tome_of_knowledge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bottle" id="bottle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-attributes" id="attributes"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-branches" id="branches" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-gauntlets" id="gauntlets" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-slippers" id="slippers" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mantle" id="mantle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-circlet" id="circlet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-belt_of_strength" id="belt_of_strength" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-boots_of_elves" id="boots_of_elves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-robe" id="robe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ogre_axe" id="ogre_axe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blade_of_alacrity" id="blade_of_alacrity" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-staff_of_wizardry" id="staff_of_wizardry" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armaments" id="armaments"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_protection" id="ring_of_protection" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-stout_shield" id="stout_shield" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-quelling_blade" id="quelling_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-infused_raindrop" id="infused_raindrop" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blight_stone" id="blight_stone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-orb_of_venom" id="orb_of_venom" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blades_of_attack" id="blades_of_attack" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-chainmail" id="chainmail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-quarterstaff" id="quarterstaff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-helm_of_iron_will" id="helm_of_iron_will" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-broadsword" id="broadsword" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-claymore" id="claymore" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-javelin" id="javelin" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mithril_hammer" id="mithril_hammer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-arcane" id="arcane"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-wind_lace" id="wind_lace" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-magic_stick" id="magic_stick" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sobi_mask" id="sobi_mask" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_regen" id="ring_of_regen" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-boots" id="boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-gloves" id="gloves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-cloak" id="cloak" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_health" id="ring_of_health" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-void_stone" id="void_stone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-gem" id="gem" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-lifesteal" id="lifesteal" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-shadow_amulet" id="shadow_amulet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ghost" id="ghost" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blink" id="blink" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n\n\n                </div>\n                <div class="tab-pane" id="shop_upgrade">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-common" id="common"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-magic_wand" id="magic_wand" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-null_talisman" id="null_talisman" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-wraith_band" id="wraith_band" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-poor_mans_shield" id="poor_mans_shield" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bracer" id="bracer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-soul_ring" id="soul_ring" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-phase_boots" id="phase_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-power_treads" id="power_treads" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-oblivion_staff" id="oblivion_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-pers" id="pers" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hand_of_midas" id="hand_of_midas" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-travel_boots" id="travel_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-moon_shard" id="moon_shard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-support" id="support"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_basilius" id="ring_of_basilius" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-iron_talon" id="iron_talon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-headdress" id="headdress" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-buckler" id="buckler" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-urn_of_shadows" id="urn_of_shadows" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tranquil_boots" id="tranquil_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_aquila" id="ring_of_aquila" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-medallion_of_courage" id="medallion_of_courage" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-arcane_boots" id="arcane_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ancient_janggo" id="ancient_janggo" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mekansm" id="mekansm" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-vladmir" id="vladmir" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-pipe" id="pipe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-guardian_greaves" id="guardian_greaves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-caster" id="caster"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-glimmer_cape" id="glimmer_cape" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-force_staff" id="force_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-veil_of_discord" id="veil_of_discord" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-aether_lens" id="aether_lens" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-necronomicon" id="necronomicon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-dagon" id="dagon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-cyclone" id="cyclone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-solar_crest" id="solar_crest" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-rod_of_atos" id="rod_of_atos" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-orchid" id="orchid" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ultimate_scepter" id="ultimate_scepter" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-refresher" id="refresher" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sheepstick" id="sheepstick" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-octarine_core" id="octarine_core" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-weapons" id="weapons"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-lesser_crit" id="lesser_crit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-armlet" id="armlet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-invis_sword" id="invis_sword" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-basher" id="basher" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bfury" id="bfury" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ethereal_blade" id="ethereal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-silver_edge" id="silver_edge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-radiance" id="radiance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-monkey_king_bar" id="monkey_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-greater_crit" id="greater_crit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-butterfly" id="butterfly" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-rapier" id="rapier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-abyssal_blade" id="abyssal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bloodthorn" id="bloodthorn" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armor" id="armor"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hood_of_defiance" id="hood_of_defiance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-vanguard" id="vanguard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blade_mail" id="blade_mail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-soul_booster" id="soul_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-crimson_guard" id="crimson_guard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-black_king_bar" id="black_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-lotus_orb" id="lotus_orb" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-shivas_guard" id="shivas_guard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bloodstone" id="bloodstone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-manta" id="manta" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sphere" id="sphere" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hurricane_pike" id="hurricane_pike" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-assault" id="assault" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-heart" id="heart" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-artifacts" id="artifacts"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mask_of_madness" id="mask_of_madness" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-helm_of_the_dominator" id="helm_of_the_dominator" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-dragon_lance" id="dragon_lance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sange" id="sange" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-yasha" id="yasha" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-echo_sabre" id="echo_sabre" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-maelstrom" id="maelstrom" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-diffusal_blade" id="diffusal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-desolator" id="desolator" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-heavens_halberd" id="heavens_halberd" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sange_and_yasha" id="sange_and_yasha" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-skadi" id="skadi" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mjollnir" id="mjollnir" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-satanic" id="satanic" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n                </div>\n                <div class="tab-pane" id="shop_secret">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-secret" id="secret"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-energy_booster" id="energy_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-vitality_booster" id="vitality_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-point_booster" id="point_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-platemail" id="platemail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-talisman_of_evasion" id="talisman_of_evasion" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hyperstone" id="hyperstone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ultimate_orb" id="ultimate_orb" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-demon_edge" id="demon_edge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mystic_staff" id="mystic_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-eagle" id="eagle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-reaver" id="reaver" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-relic" id="relic" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n                </div>\n            </div>\n\n            <div class="form-group" data-bind="visible: displayShop()">\n                <div class="input-group">\n                    <input class="form-control" id="auto" data-bind="jqAuto: { autoFocus: true, html: true }, jqAutoSource: itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-default" data-bind="jqAutoCombo: \'auto\'"><span class="glyphicon glyphicon-search"></span></button>\n                    </span>\n                </div>\n            </div>\n\n            <div data-bind="visible: selectedItem() && displayShop()">\n                <button class="btn btn-default btn-xs glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShopItemTooltip, visible: displayShopItemTooltip()" title="Hide item description"></button>\n                <button class="btn btn-default btn-xs glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()" title="Show item description"></button>\n                <div data-bind="html: getItemTooltipData, css: { \'hide-shop-item-details\': !displayShopItemTooltip() }"></div>\n                <div style="margin-top:10px;margin-bottom:10px;" class="form-inline" data-bind="visible: getItemInputLabel() != \'\'">\n                    <div class="form-group">\n                        <label for="iteminput" data-bind="text: getItemInputLabel"></label>\n                        <input class="form-control" id="iteminput" data-bind="value: itemInputValue" />\n                    </div>\n                </div>\n                <div class="form-group text-right">\n                    <button class="btn btn-default" data-bind="click: addItem">Add Item</button>\n                </div>\n            </div>\n        </div>'};
},{}],87:[function(require,module,exports){
var Chart=require("chart.js");Chart.types.Line.extend({name:"Scatter",draw:function(t){var e=t||1;this.clear();var n=this.chart.ctx,i=function(t){return null!==t.value},s=function(t,e,n){return Chart.helpers.findNextWhere(e,i,n)||t},r=function(t,e,n){return Chart.helpers.findPreviousWhere(e,i,n)||t};this.scale.draw(e),Chart.helpers.each(this.datasets,function(t){var o=Chart.helpers.where(t.points,i);Chart.helpers.each(t.points,function(t,n){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(n)},e)},this),this.options.bezierCurve&&Chart.helpers.each(o,function(t,e){var n=e>0&&e<o.length-1?this.options.bezierCurveTension:0;t.controlPoints=Chart.helpers.splineCurve(r(t,o,e),t,s(t,o,e),n),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),this.options.datasetFill&&o.length>0&&(n.lineTo(o[o.length-1].x,this.scale.endPoint),n.lineTo(o[0].x,this.scale.endPoint),n.fillStyle=t.fillColor,n.closePath(),n.fill()),Chart.helpers.each(o,function(t){t.draw()})},this)}});
},{"chart.js":1}],88:[function(require,module,exports){
(function (global){
require("./app/polyfill");var Rollbar=require("rollbar-browser"),$="undefined"!=typeof window?window.$:"undefined"!=typeof global?global.$:null,getParameterByName=require("./app/getParameterByName"),HeroCalc=require("dota-hero-calculator-library"),HeroCalculatorViewModel,viewModel,App=function(e){function a(e){l.length>10&&l.shift(),l.push(e)}function r(e,r){return function(){var t=this,o={eventName:r};t.id&&(o.id=t.id),t.src&&(o.src=t.src),t.className&&(o.className=t.className),t.textContent&&(o.textContent=t.textContent),t.nodeName&&(o.nodeName=t.nodeName),t.getAttribute("data-bind")&&(o["data-bind"]=t.getAttribute("data-bind"));for(var n in o)o.hasOwnProperty(n)&&(o[n]=o[n].substring(0,Math.min(200,o[n].length)));return a(o),e.apply(this,arguments)}}function t(e,a,r,t,o){var n=e[a];return e[a]=function(){return o.indexOf(arguments[0])!=-1&&(arguments[r]=t(arguments[r],arguments[0])),n.apply(this,arguments)},n}HeroCalc.init(HeroCalcData.heroData,HeroCalcData.itemData,HeroCalcData.unitData,function(){HeroCalculatorViewModel=require("./app/HeroCalculatorViewModel"),viewModel=new HeroCalculatorViewModel(e.abilityTooltipPath),ko.options.deferUpdates=!0,ko.applyBindings(viewModel),$("#spinner").hide(),$(".initial-hidden").css("display","inline-block"),$("#popHero0").addClass("active"),$("#heroPane0").addClass("active"),$('[data-toggle="tooltip"]').tooltip();var a=getParameterByName("id");a&&$.get("save/"+a+".json",function(e){viewModel.load(e)})});var o="Mon Dec 12 2016 16:58:10 GMT-0500 (EST)";$("#last-update").text(o);var n={accessToken:"de1980fcab4849d6a7a066cf098a6521",captureUncaught:!0,payload:{environment:"production",client:{javascript:{source_map_enabled:!0,code_version:"e716535d2e3d51bb3355f1005e60317746e6c7de",guess_uncaught_frames:!0}}}},i=Rollbar.init(n);$(".error-warning-view, .error-warning-close").click(function(){$(".error-warning").fadeOut(200)});var l=[];t(Element.prototype,"addEventListener",1,r,["click","focus","blur","change","dblclick"]),window.onerror=function(e){return function(){var a={},r=document.querySelector("#log");if(r)try{var t=arguments[0],o=document.createElement("div");o.classList.add("alert"),o.classList.add("alert-danger"),o.classList.add("error-log"),o.classList.add("col-md-12"),o.textContent="error: "+t;var n=document.createElement("div");n.classList.add("error-log-close"),n.innerHTML="&times;",n.onclick=function(){r.removeChild(o)},o.appendChild(n);var d=document.createElement("a");d.classList.add("error-log-link"),d.innerHTML="Send error report",d.href="#",d.onclick=function(){$("#myModal").modal("show"),$("#BugReportFormText").text("error: "+t+"\n\nDescribe what you were doing. Try to be as detailed as possible.")},o.appendChild(d),r.appendChild(o),$(".error-warning").fadeOut(200).fadeIn(100)}catch(e){i.error("window.onerror create error log failed.",e)}else a.clientLogCreated=!1;if(HeroCalculatorViewModel&&viewModel){try{a.heroCalcState=viewModel.getSaveData()}catch(e){i.error("window.onerror getSaveData failed.",e)}try{a.appState=viewModel.getAppState()}catch(e){i.error("window.onerror getAppState failed.",e)}}else a.appState="load failed";return a.userActions=l,i.configure({payload:{custom:a}}),e.apply(this,arguments)}}(window.onerror)};module.exports=App;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./app/HeroCalculatorViewModel":74,"./app/getParameterByName":79,"./app/polyfill":85,"dota-hero-calculator-library":36,"rollbar-browser":70}]},{},[88])(88)
});


//# sourceMappingURL=bundle.min.js.e716535.map