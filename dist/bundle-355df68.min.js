!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.DotaHeroCalculator=e()}}(function(){var e;return function e(t,i,a){function n(o,r){if(!i[o]){if(!t[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){var i=t[o][1][e];return n(i?i:e)},c,c.exports,e,t,i,a)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<a.length;o++)n(a[o]);return n}({1:[function(t,i,a){(function(){"use strict";var t=this,a=t.Chart,n=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)};this.width=t(e.canvas,"Width")||e.canvas.width,this.height=t(e.canvas,"Height")||e.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipTitleTemplate:"<%= label%>",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= datasetLabel %>: <%= value %>",multiTooltipKeyBackground:"#fff",segmentColorDefault:["#A6CEE3","#1F78B4","#B2DF8A","#33A02C","#FB9A99","#E31A1C","#FDBF6F","#FF7F00","#CAB2D6","#6A3D9A","#B4B482","#B15928"],segmentHighlightColorDefaults:["#CEF6FF","#47A0DC","#DAFFB2","#5BC854","#FFC2C1","#FF4244","#FFE797","#FFA728","#F2DAFE","#9265C2","#DCDCAA","#D98150"],onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var s=n.helpers={},o=s.each=function(e,t,i){var a=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var n;for(n=0;n<e.length;n++)t.apply(i,[e[n],n].concat(a))}else for(var s in e)t.apply(i,[e[s],s].concat(a))},r=s.clone=function(e){var t={};return o(e,function(i,a){e.hasOwnProperty(a)&&(t[a]=i)}),t},l=s.extend=function(e){return o(Array.prototype.slice.call(arguments,1),function(t){o(t,function(i,a){t.hasOwnProperty(a)&&(e[a]=i)})}),e},d=s.merge=function(e,t){var i=Array.prototype.slice.call(arguments,0);return i.unshift({}),l.apply(null,i)},c=s.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},u=(s.where=function(e,t){var i=[];return s.each(e,function(e){t(e)&&i.push(e)}),i},s.findNextWhere=function(e,t,i){i||(i=-1);for(var a=i+1;a<e.length;a++){var n=e[a];if(t(n))return n}},s.findPreviousWhere=function(e,t,i){i||(i=e.length);for(var a=i-1;a>=0;a--){var n=e[a];if(t(n))return n}},s.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=t.prototype,i.prototype=new a,i.extend=u,e&&l(i.prototype,e),i.__super__=t.prototype,i}),h=s.noop=function(){},p=s.uid=function(){var e=0;return function(){return"chart-"+e++}}(),m=s.warn=function(e){window.console&&"function"==typeof window.console.warn},b=s.amd="function"==typeof e&&e.amd,f=s.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g=s.max=function(e){return Math.max.apply(Math,e)},v=s.min=function(e){return Math.min.apply(Math,e)},_=(s.cap=function(e,t,i){if(f(t)){if(e>t)return t}else if(f(i)&&e<i)return i;return e},s.getDecimalPlaces=function(e){if(e%1!==0&&f(e)){var t=e.toString();if(t.indexOf("e-")<0)return t.split(".")[1].length;if(t.indexOf(".")<0)return parseInt(t.split("e-")[1]);var i=t.split(".")[1].split("e-");return i[0].length+parseInt(i[1])}return 0}),y=s.radians=function(e){return e*(Math.PI/180)},w=(s.getAngleFromPoint=function(e,t){var i=t.x-e.x,a=t.y-e.y,n=Math.sqrt(i*i+a*a),s=2*Math.PI+Math.atan2(a,i);return i<0&&a<0&&(s+=2*Math.PI),{angle:s,distance:n}},s.aliasPixel=function(e){return e%2===0?0:.5}),x=(s.splineCurve=function(e,t,i,a){var n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),s=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=a*n/(n+s),r=a*s/(n+s);return{inner:{x:t.x-o*(i.x-e.x),y:t.y-o*(i.y-e.y)},outer:{x:t.x+r*(i.x-e.x),y:t.y+r*(i.y-e.y)}}},s.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),A=(s.calculateScaleRange=function(e,t,i,a,n){var s=2,r=Math.floor(t/(1.5*i)),l=s>=r,d=[];o(e,function(e){null==e||d.push(e)});var c=v(d),u=g(d);u===c&&(u+=.5,c>=.5&&!a?c-=.5:u+=.5);for(var h=Math.abs(u-c),p=x(h),m=Math.ceil(u/(1*Math.pow(10,p)))*Math.pow(10,p),b=a?0:Math.floor(c/(1*Math.pow(10,p)))*Math.pow(10,p),f=m-b,_=Math.pow(10,p),y=Math.round(f/_);(y>r||2*y<r)&&!l;)if(y>r)_*=2,y=Math.round(f/_),y%1!==0&&(l=!0);else if(n&&p>=0){if(_/2%1!==0)break;_/=2,y=Math.round(f/_)}else _/=2,y=Math.round(f/_);return l&&(y=s,_=f/y),{steps:y,stepValue:_,min:b,max:b+y*_}},s.template=function(e,t){function i(e,t){var i=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[e]=a[e];return t?i(t):i}if(e instanceof Function)return e(t);var a={};return i(e,t)}),k=(s.generateLabels=function(e,t,i,a){var n=new Array(t);return e&&o(n,function(t,s){n[s]=A(e,{value:i+a*(s+1)})}),n},s.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)))},easeOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:2==(e/=.5)?1:(i||(i=1*(.3*1.5)),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)):a*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/i)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-k.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*k.easeInBounce(2*e):.5*k.easeOutBounce(2*e-1)+.5}}),T=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),I=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),s.animationLoop=function(e,t,i,a,n,s){var o=0,r=k[i]||k.linear,l=function(){o++;var i=o/t,d=r(i);e.call(s,d,i,o),a.call(s,d,i),o<t?s.animationFrame=T(l):n.apply(s)};T(l)},s.getRelativePosition=function(e){var t,i,a=e.originalEvent||e,n=e.currentTarget||e.srcElement,s=n.getBoundingClientRect();return a.touches?(t=a.touches[0].clientX-s.left,i=a.touches[0].clientY-s.top):(t=a.clientX-s.left,i=a.clientY-s.top),{x:t,y:i}},s.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}),D=s.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=h},S=(s.bindEvents=function(e,t,i){e.events||(e.events={}),o(t,function(t){e.events[t]=function(){i.apply(e,arguments)},I(e.chart.canvas,t,e.events[t])})},s.unbindEvents=function(e,t){o(t,function(t,i){D(e.chart.canvas,i,t)})}),P=s.getMaximumWidth=function(e){var t=e.parentNode,i=parseInt(E(t,"padding-left"))+parseInt(E(t,"padding-right"));return t?t.clientWidth-i:0},C=s.getMaximumHeight=function(e){var t=e.parentNode,i=parseInt(E(t,"padding-bottom"))+parseInt(E(t,"padding-top"));return t?t.clientHeight-i:0},E=s.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},O=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(e){var t=e.ctx,i=e.canvas.width,a=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=i+"px",t.canvas.style.height=a+"px",t.canvas.height=a*window.devicePixelRatio,t.canvas.width=i*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),R=s.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},B=s.fontString=function(e,t,i){return t+" "+e+"px "+i},L=s.longestText=function(e,t,i){e.font=t;var a=0;return o(i,function(t){var i=e.measureText(t).width;a=i>a?i:a}),a},M=s.drawRoundedRectangle=function(e,t,i,a,n,s){e.beginPath(),e.moveTo(t+s,i),e.lineTo(t+a-s,i),e.quadraticCurveTo(t+a,i,t+a,i+s),e.lineTo(t+a,i+n-s),e.quadraticCurveTo(t+a,i+n,t+a-s,i+n),e.lineTo(t+s,i+n),e.quadraticCurveTo(t,i+n,t,i+n-s),e.lineTo(t,i+s),e.quadraticCurveTo(t,i,t+s,i),e.closePath()};n.instances={},n.Type=function(e,t,i){this.options=t,this.chart=i,this.id=p(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},l(n.Type.prototype,{initialize:function(){return this},clear:function(){return R(this.chart),this},stop:function(){return n.animationService.cancelAnimation(this),this},resize:function(e){this.stop();var t=this.chart.canvas,i=P(this.chart.canvas),a=this.options.maintainAspectRatio?i/this.chart.aspectRatio:C(this.chart.canvas);return t.width=this.chart.width=i,t.height=this.chart.height=a,O(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:h,render:function(e){if(e&&this.reflow(),this.options.animation&&!e){var t=new n.Animation;t.numSteps=this.options.animationSteps,t.easing=this.options.animationEasing,t.render=function(e,t){var i=s.easingEffects[t.easing],a=t.currentStep/t.numSteps,n=i(a);e.draw(n,a,t.currentStep)},t.onAnimationProgress=this.options.onAnimationProgress,t.onAnimationComplete=this.options.onAnimationComplete,n.animationService.addAnimation(this,t)}else this.draw(),this.options.onAnimationComplete.call(this);return this},generateLegend:function(){return s.template(this.options.legendTemplate,this)},destroy:function(){this.stop(),this.clear(),S(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var i=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(o(e,function(e,i){e!==this.activeElements[i]&&(t=!0)},this),t)}.call(this,e);if(i||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var a,r,l=this.datasets.length-1;l>=0&&(a=this.datasets[l].points||this.datasets[l].bars||this.datasets[l].segments,r=c(a,e[0]),r===-1);l--);var d=[],u=[],h=function(e){var t,i,a,n,o,l=[],c=[],h=[];return s.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[r]&&t[r].hasValue()&&l.push(t[r])}),s.each(l,function(e){c.push(e.x),h.push(e.y),d.push(s.template(this.options.multiTooltipTemplate,e)),u.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),o=v(h),a=g(h),n=v(c),i=g(c),{x:n>this.chart.width/2?n:i,y:(o+a)/2}}.call(this,r);new n.MultiTooltip({x:h.x,y:h.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:d,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:A(this.options.tooltipTitleTemplate,e[0]),chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else o(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:A(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,i=function(){return t.apply(this,arguments)};if(i.prototype=r(t.prototype),l(i.prototype,e),i.extend=n.Type.extend,e.name||t.prototype.name){var a=e.name||t.prototype.name,s=n.defaults[t.prototype.name]?r(n.defaults[t.prototype.name]):{};n.defaults[a]=l(s,e.defaults),n.types[a]=i,n.prototype[a]=function(e,t){var s=d(n.defaults.global,n.defaults[a],t||{});return new i(e,s,this)}}else m("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){l(this,e),this.initialize.apply(this,arguments),this.save()},l(n.Element.prototype,{initialize:function(){},restore:function(e){return e?o(e,function(e){this[e]=this._saved[e]},this):l(this,this._saved),this},save:function(){return this._saved=r(this),delete this._saved._saved,this},update:function(e){return o(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return o(e,function(e,i){this[i]=(e-this._saved[i])*t+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),n.Element.extend=u,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var i=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var i=s.getAngleFromPoint(this,{x:e,y:t}),a=i.angle%(2*Math.PI),n=(2*Math.PI+this.startAngle)%(2*Math.PI),o=(2*Math.PI+this.endAngle)%(2*Math.PI)||360,r=o<n?a<=o||a>=n:a>=n&&a<=o,l=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return r&&l},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius<0?0:this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius<0?0:this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,i=this.x-t,a=this.x+t,n=this.base-(this.base-this.y),s=this.strokeWidth/2;this.showStroke&&(i+=s,a-=s,n+=s),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(i,this.base),e.lineTo(i,n),e.lineTo(a,n),e.lineTo(a,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Animation=n.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=B(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,i=e.measureText(this.text).width+2*this.xPadding,a=this.fontSize+2*this.yPadding,n=a+this.caretHeight+t;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var s=this.x-i/2,o=this.y-n;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":s=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":s=this.x-(this.cornerRadius+this.caretHeight)}M(e,s,o,i,a,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,s+i/2,o+a/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=B(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=B(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.titleHeight=this.title?1.5*this.titleFontSize:0,this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+this.titleHeight,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=L(this.ctx,this.font,this.labels)+this.fontSize+3,i=g([t,e]);this.width=i+2*this.xPadding;var a=this.height/2;this.y-a<0?this.y=a:this.y+a>this.chart.height&&(this.y=this.chart.height-a),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,i=e-1;return 0===e?t+this.titleHeight/3:t+(1.5*this.fontSize*i+this.fontSize/2)+this.titleHeight},draw:function(){if(this.custom)this.custom(this);else{M(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,s.each(this.labels,function(t,i){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[i].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=_(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(A(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?L(this.ctx,this.font,this.yLabels)+10:0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),e<this.yLabelWidth&&(this.endPoint=t,this.calculateXLabelRotation())},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,i=this.ctx.measureText(this.xLabels[0]).width,a=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=a/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth?i/2:this.yLabelWidth,this.xLabelRotation=0,this.display){var n,s=L(this.ctx,this.font,this.xLabels);this.xLabelWidth=s;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(y(this.xLabelRotation)),e=n*i,t=n*a,e+this.fontSize/2>this.yLabelWidth&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*s;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*s+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:h,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),a=i*e+this.xScalePaddingLeft;return this.offsetGridLines&&(a+=i/2),Math.round(a)},update:function(e){s.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,o(this.yLabels,function(a,n){var o=this.endPoint-t*n,r=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(a,i-10,o),0!==n||l||(l=!0),l&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),r+=s.aliasPixel(e.lineWidth),l&&(e.moveTo(i,r),e.lineTo(this.width,r),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i-5,r),e.lineTo(i,r),e.stroke(),e.closePath()},this),o(this.xLabels,function(t,i){var a=this.calculateX(i)+w(this.lineWidth),n=this.calculateX(i-(this.offsetGridLines?.5:0))+w(this.lineWidth),s=this.xLabelRotation>0,o=this.showVerticalLines;0!==i||o||(o=!0),o&&e.beginPath(),i>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(n,this.endPoint),e.lineTo(n,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n,this.endPoint),e.lineTo(n,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(a,s?this.endPoint+12:this.endPoint+8),e.rotate(y(this.xLabelRotation)*-1),e.font=this.font,e.textAlign=s?"right":"center",e.textBaseline=s?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=v([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=_(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(A(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,i,a,n,s,o,r,l,d,c,u,h=v([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,m=0;for(this.ctx.font=B(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,h),i=this.ctx.measureText(A(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(a=i/2,e.x+a>p&&(p=e.x+a,n=t),e.x-a<m&&(m=e.x-a,o=t)):t<this.valuesCount/2?e.x+i>p&&(p=e.x+i,n=t):t>this.valuesCount/2&&e.x-i<m&&(m=e.x-i,o=t);l=m,d=Math.ceil(p-this.width),s=this.getIndexAngle(n),r=this.getIndexAngle(o),c=d/Math.sin(s+Math.PI/2),u=l/Math.sin(r+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=h-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(e,t){var i=this.width-t-this.drawingArea,a=e+this.drawingArea;this.xCenter=(a+i)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var i=this.getIndexAngle(e);return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(o(this.yLabels,function(t,i){if(i>0){var a,n=i*(this.drawingArea/this.steps),s=this.yCenter-n;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)a=this.getPointPosition(o,this.calculateCenterOffset(this.min+i*this.stepValue)),0===o?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=B(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var r=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-r/2-this.backdropPaddingX,s-this.fontSize/2-this.backdropPaddingY,r+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,s)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){var i=null,a=null;if(this.angleLineWidth>0&&t%this.angleLineInterval===0&&(i=this.calculateCenterOffset(this.max),a=this.getPointPosition(t,i),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke(),e.closePath()),this.backgroundColors&&this.backgroundColors.length==this.valuesCount){null==i&&(i=this.calculateCenterOffset(this.max)),null==a&&(a=this.getPointPosition(t,i));var n=this.getPointPosition(0===t?this.valuesCount-1:t-1,i),s=this.getPointPosition(t===this.valuesCount-1?0:t+1,i),r={x:(n.x+a.x)/2,y:(n.y+a.y)/2},l={x:(a.x+s.x)/2,y:(a.y+s.y)/2};e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(r.x,r.y),e.lineTo(a.x,a.y),e.lineTo(l.x,l.y),e.fillStyle=this.backgroundColors[t],e.fill(),e.closePath()}var d=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=B(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var c=this.labels.length,u=this.labels.length/2,h=u/2,p=t<h||t>c-h,m=t===h||t===c-h;0===t?e.textAlign="center":t===u?e.textAlign="center":t<u?e.textAlign="left":e.textAlign="right",m?e.textBaseline="middle":p?e.textBaseline="bottom":e.textBaseline="top",e.fillText(this.labels[t],d.x,d.y)}}}}}),n.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(e,t){for(var i=0;i<this.animations.length;++i)if(this.animations[i].chartInstance===e)return void(this.animations[i].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1==this.animations.length&&s.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(e){var t=s.findNextWhere(this.animations,function(t){return t.chartInstance===e});t&&this.animations.splice(t,1)},digestWrapper:function(){n.animationService.startDigest.call(n.animationService)},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames-=t);for(var i=0;i<this.animations.length;i++)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+t,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.currentStep==this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance),this.animations.splice(i,1),i--);var a=Date.now(),n=a-e-this.frameDuration,o=n/this.frameDuration;o>1&&(this.dropFrames+=o),this.animations.length>0&&s.requestAnimFrame.call(window,this.digestWrapper)}},s.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){o(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),b?e("Chart",[],function(){return n}):"object"==typeof i&&i.exports&&(i.exports=n),t.Chart=n,n.noConflict=function(){return t.Chart=a,n}}).call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,
barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:a,initialize:function(e){var a=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,i){var n=this.calculateBaseWidth(),s=this.calculateX(i)-n/2,o=this.calculateBarWidth(e);return s+o*t+t*a.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*a.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*a.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e&&(e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke)}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(e.datasets,function(t,a){var n={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(n),i.each(t.data,function(i,a){n.bars.push(new this.BarClass({value:i,label:e.labels[a],datasetLabel:t.label,strokeColor:"object"==typeof t.strokeColor?t.strokeColor[a]:t.strokeColor,fillColor:"object"==typeof t.fillColor?t.fillColor[a]:t.fillColor,highlightFill:t.highlightFill?"object"==typeof t.highlightFill?t.highlightFill[a]:t.highlightFill:"object"==typeof t.fillColor?t.fillColor[a]:t.fillColor,highlightStroke:t.highlightStroke?"object"==typeof t.highlightStroke?t.highlightStroke[a]:t.highlightStroke:"object"==typeof t.strokeColor?t.strokeColor[a]:t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,a){i.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,a,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){i.each(this.datasets,function(t,a){i.each(t.bars,e,this,a)},this)},getBarsAtEvent:function(e){for(var t,a=[],n=i.getRelativePosition(e),s=function(e){a.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(n.x,n.y))return i.each(this.datasets,s),a;return a},buildScale:function(e){var t=this,a=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=i.calculateScaleRange(a(),e,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,t)},xLabels:e,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(n,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(e,t){i.each(e,function(e,i){this.datasets[i].bars.push(new this.BarClass({value:e,label:t,datasetLabel:this.datasets[i].label,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();this.chart.ctx;this.scale.draw(t),i.each(this.datasets,function(e,a){i.each(e.bars,function(e,i){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,a,i),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:a,initialize:function(e){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];i.each(this.segments,function(e){e.restore(["fillColor"])}),i.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),i.each(e,function(t,i){t.color||(t.color="hsl("+360*i/e.length+", 100%, 50%)"),this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],a=i.getRelativePosition(e);return i.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,i,a){var n=void 0!==i?i:this.segments.length;"undefined"==typeof e.color&&(e.color=t.defaults.global.segmentColorDefault[n%t.defaults.global.segmentColorDefault.length],e.highlight=t.defaults.global.segmentHighlightColorDefaults[n%t.defaults.global.segmentHighlightColorDefaults.length]),this.segments.splice(n,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),a||(this.reflow(),this.update())},calculateCircumference:function(e){return this.total>0?2*Math.PI*(e/this.total):0},calculateTotal:function(e){this.total=0,i.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(e){e.restore(["fillColor"])}),i.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=i.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),i.each(this.segments,function(e,i){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===i&&(e.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:i.merge(a,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>',offsetGridLines:!1};t.Type.extend({name:"Line",defaults:a,initialize:function(e){this.PointClass=t.Point.extend({offsetGridLines:this.options.offsetGridLines,strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),i.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(a),i.each(t.data,function(i,n){a.points.push(new this.PointClass({value:i,label:e.labels[n],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){i.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){i.each(this.datasets,function(t){i.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],a=i.getRelativePosition(e);return i.each(this.datasets,function(e){i.each(e.points,function(e){e.inRange(a.x,a.y)&&t.push(e)})},this),t},buildScale:function(e){var a=this,n=function(){var e=[];return a.eachPoints(function(t){e.push(t.value)}),e},s={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,offsetGridLines:this.options.offsetGridLines,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=i.calculateScaleRange(n(),e,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,t)},xLabels:e,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(s,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(s)},addData:function(e,t){i.each(e,function(e,i){this.datasets[i].points.push(new this.PointClass({value:e,label:t,datasetLabel:this.datasets[i].label,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var a=this.chart.ctx,n=function(e){return null!==e.value},s=function(e,t,a){return i.findNextWhere(t,n,a)||e},o=function(e,t,a){return i.findPreviousWhere(t,n,a)||e};this.scale&&(this.scale.draw(t),i.each(this.datasets,function(e){var r=i.where(e.points,n);i.each(e.points,function(e,i){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(i)},t)},this),this.options.bezierCurve&&i.each(r,function(e,t){var a=t>0&&t<r.length-1?this.options.bezierCurveTension:0;e.controlPoints=i.splineCurve(o(e,r,t),e,s(e,r,t),a),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=e.strokeColor,a.beginPath(),i.each(r,function(e,t){if(0===t)a.moveTo(e.x,e.y);else if(this.options.bezierCurve){var i=o(e,r,t);a.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else a.lineTo(e.x,e.y)},this),this.options.datasetStroke&&a.stroke(),this.options.datasetFill&&r.length>0&&(a.lineTo(r[r.length-1].x,this.scale.endPoint),a.lineTo(r[0].x,this.scale.endPoint),a.fillStyle=e.fillColor,a.closePath(),a.fill()),i.each(r,function(e){e.draw()})},this))}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=segments[i].fillColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(segments[i].label){%><%=segments[i].label%><%}%></span></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:a,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),i.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];i.each(this.segments,function(e){e.restore(["fillColor"])}),i.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],a=i.getRelativePosition(e);return i.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,i){var a=t||this.segments.length;this.segments.splice(a,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(e){var t=i.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,i.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];i.each(e,function(e){t.push(e.value)});var a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(t,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,a,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),i.each(this.segments,function(e,i){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===i&&(e.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,angleLineInterval:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span class="<%=name.toLowerCase()%>-legend-icon" style="background-color:<%=datasets[i].strokeColor%>"></span><span class="<%=name.toLowerCase()%>-legend-text"><%if(datasets[i].label){%><%=datasets[i].label%><%}%></span></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),i.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(a),i.each(t.data,function(i,n){var s;this.scale.animation||(s=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(i))),a.points.push(new this.PointClass({value:i,label:e.labels[n],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){i.each(this.datasets,function(t){i.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=i.getRelativePosition(e),a=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),n=2*Math.PI/this.scale.valuesCount,s=Math.round((a.angle-1.5*Math.PI)/n),o=[];return(s>=this.scale.valuesCount||s<0)&&(s=0),a.distance<=this.scale.drawingArea&&i.each(this.datasets,function(e){o.push(e.points[s])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backgroundColors:this.options.scaleBackgroundColors,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,angleLineInterval:this.options.angleLineInterval?this.options.angleLineInterval:1,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return i.each(e,function(e){e.data?t=t.concat(e.data):i.each(e.points,function(e){t.push(e.value)})}),t}(),a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(t,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,a)},addData:function(e,t){this.scale.valuesCount++,i.each(e,function(e,i){var a=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[i].points.push(new this.PointClass({value:e,label:t,datasetLabel:this.datasets[i].label,x:a.x,y:a.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,a=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(e){i.each(e.points,function(e,i){e.hasValue()&&e.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(e.value)),t)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=e.strokeColor,a.beginPath(),i.each(e.points,function(e,t){0===t?a.moveTo(e.x,e.y):a.lineTo(e.x,e.y)},this),a.closePath(),a.stroke(),a.fillStyle=e.fillColor,this.options.datasetFill&&a.fill(),i.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this)},{}],2:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./herocalc_abilitydata"),s=function(e,t){var i=this;i.hero=t,i.abilityData=n,i.hasScepter=a.observable(!1),i.isShapeShiftActive=a.observable(!1),i.abilities=e,i._abilities=i.abilities();for(var s=0;s<i.abilities().length;s++)i._abilities[s].level=a.observable(0),i._abilities[s].isActive=a.observable(!1),i._abilities[s].isDetail=a.observable(!1),i._abilities[s].baseDamage=a.observable(0),i._abilities[s].baseDamageReductionPct=a.observable(0),i._abilities[s].baseDamageMultiplier=a.observable(0),i._abilities[s].bash=a.observable(0),i._abilities[s].bashBonusDamage=a.observable(0),i._abilities[s].bonusDamage=a.observable(0),i._abilities[s].bonusDamageOrb=a.observable(0),i._abilities[s].bonusDamagePct=a.observable(0),i._abilities[s].bonusDamagePrecisionAura=a.observable(0),i._abilities[s].bonusDamageReduction=a.observable(0),i._abilities[s].bonusHealth=a.observable(0),i._abilities[s].bonusStrength=a.observable(0),i._abilities[s].bonusStrength2=a.observable(0),i._abilities[s].bonusAgility=a.observable(0),i._abilities[s].bonusAgility2=a.observable(0),i._abilities[s].bonusInt=a.observable(0),i._abilities[s].bonusAllStatsReduction=a.observable(0),i._abilities[s].damageAmplification=a.observable(0),i._abilities[s].damageReduction=a.observable(0),i._abilities[s].evasion=a.observable(0),i._abilities[s].magicResist=a.observable(0),i._abilities[s].manaregen=a.observable(0),i._abilities[s].manaregenreduction=a.observable(0),i._abilities[s].missChance=a.observable(0),i._abilities[s].movementSpeedFlat=a.observable(0),i._abilities[s].movementSpeedPct=a.observable(0),i._abilities[s].movementSpeedPctReduction=a.observable(0),i._abilities[s].turnRateReduction=a.observable(0),i._abilities[s].attackrange=a.observable(0),i._abilities[s].attackspeed=a.observable(0),i._abilities[s].attackspeedreduction=a.observable(0),i._abilities[s].armor=a.observable(0),i._abilities[s].armorReduction=a.observable(0),i._abilities[s].healthregen=a.observable(0),i._abilities[s].lifesteal=a.observable(0),i._abilities[s].visionnight=a.observable(0),i._abilities[s].visionday=a.observable(0);i.abilityControlData={},i.abilitySettingsData=function(e,t,a){return void 0==i.abilityControlData[e]?i.processAbility(e,t,a,i.abilityData[e]):i.abilityControlData[e]},i.processAbility=function(e,t,n,s){var o={};o.data=[];for(var r,l=[],d=0;d<s.length;d++)switch(s[d].controlType){case"input":r=a.observable(0).extend({numeric:2}),r.controlValueType=s[d].controlValueType,l.push(r),o.data.push({labelName:s[d].label.toUpperCase()+":",controlVal:r,controlType:s[d].controlType,display:s[d].display});break;case"checkbox":r=a.observable(!1),r.controlValueType=s[d].controlValueType,l.push(r),o.data.push({labelName:s[d].label.toUpperCase()+"?",controlVal:r,controlType:s[d].controlType,display:s[d].display});break;case"radio":r=a.observable(s[d].controlOptions[0].value),r.controlValueType=s[d].controlValueType,l.push(r),o.data.push({labelName:s[d].label.toUpperCase()+"?",controlVal:r,controlType:s[d].controlType,display:s[d].display,controlOptions:s[d].controlOptions});break;case"method":case"text":if(void 0==s[d].controls){if(s[d].noLevel)var c=function(t){return{fn:a.computed(function(){var a=i.abilities().find(function(t){return t.name==e});return i.getAbilityAttributeValue(a.attributes,t,0)})}};else var c=function(t){return{fn:a.computed(function(){var a=i.abilities().find(function(t){return t.name==e});return i.getAbilityAttributeValue(a.attributes,t,a.level())})}};var u=c(s[d].attributeName),h=i.getComputedFunction(r,u.fn,s[d].fn,t,n,i,s[d].returnProperty,void 0,e);if(s[d].ignoreTooltip)var p=s[d].label||s[d].attributeName;else var p=i.getAbilityAttributeTooltip(i.abilities()[n].attributes,s[d].attributeName)||s[d].label||s[d].attributeName;o.data.push({labelName:p.toUpperCase(),controlVal:h,controlType:s[d].controlType,display:s[d].display,clean:u.fn})}else{if(s[d].noLevel)var c=function(e){return{fn:a.computed(function(){return i.getAbilityAttributeValue(i.abilities()[n].attributes,e,0)})}};else var c=function(e){return{fn:a.computed(function(){return i.getAbilityAttributeValue(i.abilities()[n].attributes,e,i.abilities()[n].level())})}};var u=c(s[d].attributeName),h=i.getComputedFunction(l,u.fn,s[d].fn,t,n,i,s[d].returnProperty,s[d].controls,e);if(s[d].ignoreTooltip)var p=s[d].label||s[d].attributeName;else var p=i.getAbilityAttributeTooltip(i.abilities()[n].attributes,s[d].attributeName)||s[d].label||s[d].attributeName;o.data.push({labelName:p.toUpperCase(),controlVal:h,controlType:s[d].controlType,display:s[d].display,clean:u.fn})}"method"==s[d].controlType&&l.push(h)}return i.abilityControlData[e]=o,o},i.getComputedFunction=function(e,t,i,n,s,o,r,l,d){var c=o.abilities().find(function(e){return e.name==d});return a.pureComputed(function(){var a;if(void 0==l)a=void 0==e?e:"boolean"==typeof e()?e():void 0==e.controlValueType?parseFloat(e()):"string"==e.controlValueType?e():parseFloat(e());else{for(var d=[],u=0;u<l.length;u++)switch(typeof e[l[u]]()){case"boolean":case"object":d.push(e[l[u]]());break;default:d.push(parseFloat(e[l[u]]()))}a=d}var h=i.call(this,a,t(),n,s,o,c);return void 0!=r&&c[r](h),h},this)},i.getAbilityLevelByAbilityName=function(e){for(var t=0;t<i.abilities().length;t++)if(i._abilities[t].name==e)return i._abilities[t].level();return-1},i.getAbilityByName=function(e){for(var t=0;t<i.abilities().length;t++)if(i._abilities[t].name==e)return i._abilities[t]},i.getAbilityPropertyValue=function(e,t){return parseFloat(a.utils.unwrapObservable(e[t])[e.level()-1])},i.getAttributeBonusLevel=function(){for(var e=0;e<i.abilities().length;e++)if("attribute_bonus"==i._abilities[e].name)return i._abilities[e].level();return 0},i.getAllStatsReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusAllStatsReduction&&(e+=a.bonusAllStatsReduction());else for(var n=0;n<i._abilities[t].attributes.length;n++){i._abilities[t].attributes[n]}}return e}),i.getStrengthReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){
var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusStrength&&"undying_decay"==a.name&&(e-=a.bonusStrength());else for(var n=0;n<i._abilities[t].attributes.length;n++){i._abilities[t].attributes[n]}}return e}),i.getStrength=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.bonusStrength&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusStrength()),void 0!=a.bonusStrength2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusStrength2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<i._abilities[t].attributes.length;n++){i._abilities[t].attributes[n]}}return e}),i.getAgility=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.bonusAgility&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusAgility()),void 0!=a.bonusAgility2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusAgility2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"marksmanship_agility_bonus":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getIntelligence=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&!(a.name in i.abilityData)&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];s.name}}return e}),i.getArmor=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.armor&&(e+=a.armor());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_armor":"templar_assassin_meld"!=a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"warcry_armor":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"armor_bonus":"lich_frost_armor"!=a.name&&"ogre_magi_frost_armor"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}}return e}),i.getArmorBaseReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(a.name){case"elder_titan_natural_order":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,"armor_reduction_pct",a.level())/100}}return e}),i.getArmorReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.armorReduction&&(e+=a.armorReduction());else switch(a.name){case"templar_assassin_meld":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"bonus_armor",a.level());break;case"tidehunter_gush":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"armor_bonus",a.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"armor_reduction",a.level());break;case"nevermore_dark_lord":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,"presence_armor_reduction",a.level())}}return e}),i.getHealth=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusHealth&&(e+=a.bonusHealth());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_hp":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"true_form_hp_bonus":i.isTrueFormActive()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}}return e}),i.isTrueFormActive=function(){for(var e=0;e<i.abilities().length;e++){var t=i._abilities[e];if(t.isActive()&&"lone_druid_true_form"==t.name)return!0}return!1},i.getHealthRegen=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.healthregen&&(e+=a.healthregen());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"hp_regen":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getMana=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_mana":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getManaRegen=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.manaregen&&(e+=a.manaregen());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_mana_regen":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getManaRegenArcaneAura=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"mana_regen":"crystal_maiden_brilliance_aura"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}}return e}),i.getManaRegenReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.manaregenreduction&&(e+=a.manaregenreduction())}return e}),i.getAttackRange=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0)if(a.name in i.abilityData)void 0!=a.attackrange&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.attackrange());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1){for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"attack_range_bonus":case"bonus_attack_range":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"bonus_range":"terrorblade_metamorphosis"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())),"troll_warlord_berserkers_rage"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"bonus_range_scepter":"tiny_grow"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}"lone_druid_true_form"==a.name&&(e-=422)}else if("enchantress_impetus"==a.name&&i.hasScepter())for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_attack_range_scepter":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getAttackSpeed=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.attackspeed&&(e+=a.attackspeed());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"attack_speed_bonus_pct":"clinkz_strafe"!=a.name&&"ursa_overpower"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"bonus_attack_speed":"beastmaster_inner_beast"!=a.name&&"lycan_feral_impulse"!=a.name&&"lone_druid_rabid"!=a.name&&"tiny_grow"!=a.name&&"phantom_assassin_phantom_strike"!=a.name&&"windrunner_focusfire"!=a.name&&"ogre_magi_bloodlust"!=a.name&&"centaur_khan_endurance_aura"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}}return e}),i.getAttackSpeedReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.attackspeedreduction&&(e+=a.attackspeedreduction());else{for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=a.name||i.hasScepter()?"tusk_frozen_sigil"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())):e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"slow":"medusa_stone_gaze"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"attackspeed_bonus":e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}"enraged_wildkin_tornado"==a.name&&(e-=15)}}return e}),i.getBash=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bash&&(e*=1-a.bash()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"chance":case"proc_chance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.getBaseDamage=a.computed(function(){for(var e=0,t=1,a={},n=0;n<i.abilities().length;n++){var s=i._abilities[n];if(s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(s.name in i.abilityData)void 0!=s.baseDamageMultiplier&&(t+=s.baseDamageMultiplier()/100),void 0!=s.baseDamage&&(e+=s.baseDamage(),a[s.name]={damage:s.baseDamage(),damageType:"physical",displayname:s.displayname});else for(var o=0;o<i._abilities[n].attributes.length;o++){var r=i._abilities[n].attributes[o];switch(r.name){case"bonus_damage":"tiny_grow"!=s.name&&"terrorblade_metamorphosis"!=s.name||(e+=i.getAbilityAttributeValue(i._abilities[n].attributes,r.name,s.level()),a[s.name]={damage:i.getAbilityAttributeValue(i._abilities[n].attributes,r.name,s.level()),damageType:"physical",displayname:s.displayname})}}}return{sources:a,total:e,multiplier:t}}),i.getSelfBaseDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"damage_modifier":e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"focusfire_damage_reduction":i.hasScepter()||(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":i.hasScepter()&&(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}}return e}),i.getBaseDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.baseDamageReductionPct&&(e*=1+a.baseDamageReductionPct()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_damage_pct":"vengefulspirit_command_aura"==a.name&&(e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}}return e}),i.getBAT=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"base_attack_time":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getBonusDamage=a.computed(function(){for(var e=0,t={},a=0;a<i.abilities().length;a++){var n=i._abilities[a];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in i.abilityData)void 0!=n.bonusDamage&&0!=n.bonusDamage()&&(e+=n.bonusDamage(),t[n.name]={damage:n.bonusDamage(),damageType:"spectre_desolate"==n.name?"pure":"physical",displayname:n.displayname});else{for(var s=0;s<i._abilities[a].attributes.length;s++){var o=i._abilities[a].attributes[s];switch(o.name){case"bonus_damage":"broodmother_insatiable_hunger"!=n.name&&"luna_lunar_blessing"!=n.name&&"templar_assassin_refraction"!=n.name&&"templar_assassin_meld"!=n.name&&"troll_warlord_berserkers_rage"!=n.name&&"lone_druid_true_form_battle_cry"!=n.name||(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level()),t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level()),damageType:"physical",displayname:n.displayname});break;case"hero_bonus_damage":e+=i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level()),t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level()),damageType:"physical",displayname:n.displayname}}}"storm_spirit_overload"==n.name&&(e+=i.getAbilityPropertyValue(n,"damage"),t[n.name]={damage:i.getAbilityPropertyValue(n,"damage"),damageType:"magic",displayname:n.displayname})}}return{sources:t,total:e}}),i.getBonusDamagePercent=a.computed(function(){for(var e=0,t={},a=0;a<i.abilities().length;a++){var n=i._abilities[a];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(n.name in i.abilityData))for(var s=0;s<i._abilities[a].attributes.length;s++){var o=i._abilities[a].attributes[s];switch(o.name){case"damage_increase_pct":"bloodseeker_bloodrage"==n.name&&(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"bonus_damage_pct":"magnataur_empower"!=n.name&&"vengefulspirit_command_aura"!=n.name&&"alpha_wolf_command_aura"!=n.name||(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"gods_strength_damage":"sven_gods_strength"==n.name&&void 0!=i.hero&&"sven"==i.hero.heroId()&&(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname});break;case"gods_strength_damage_scepter":"sven_gods_strength"==n.name&&void 0==i.hero&&(e+=i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,t[n.name]={damage:i.getAbilityAttributeValue(i._abilities[a].attributes,o.name,n.level())/100,damageType:"physical",displayname:n.displayname})}}}return{sources:t,total:e}}),i.getBonusDamageBackstab=a.computed(function(){for(var e=0,t=0,a=[],n=0;n<i.abilities().length;n++){var s=i._abilities[n];if("riki_backstab"==s.name&&s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var o=0;o<i._abilities[n].attributes.length;o++){var r=i._abilities[n].attributes[o];switch(r.name){case"damage_multiplier":e+=i.getAbilityAttributeValue(i._abilities[n].attributes,r.name,s.level()),a.push({damage:i.getAbilityAttributeValue(i._abilities[n].attributes,r.name,s.level()),damageType:"physical",displayname:s.displayname})}}}return{sources:a,total:[e,t]}}),i.getBonusDamagePrecisionAura=a.computed(function(){for(var e=0,t=0,a=[],n=0;n<i.abilities().length;n++){var s=i._abilities[n];if("drow_ranger_trueshot"==s.name&&s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){for(var o=0;o<i._abilities[n].attributes.length;o++){var r=i._abilities[n].attributes[o];switch(r.name){case"trueshot_ranged_damage":e+=i.getAbilityAttributeValue(i._abilities[n].attributes,r.name,s.level())/100,a.push({damage:i.getAbilityAttributeValue(i._abilities[n].attributes,r.name,s.level())/100,damageType:"physical",displayname:s.displayname})}}void 0!=s.bonusDamagePrecisionAura&&(t+=s.bonusDamagePrecisionAura(),a.push({damage:s.bonusDamagePrecisionAura(),damageType:"physical",displayname:s.displayname}))}}return{sources:a,total:[e,t]}}),i.getBonusDamageReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusDamageReduction&&(e+=a.bonusDamageReduction());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"enfeeble_attack_reduction":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getBonusDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"damage_modifier":e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"focusfire_damage_reduction":i.hasScepter()||(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":i.hasScepter()&&(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}}return e}),i.getDamageAmplification=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.damageAmplification&&(e*=1+a.damageAmplification()/100)}return e}),i.getDamageReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.damageReduction&&(e*=1+a.damageReduction()/100);else{for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"damage_increase_pct":"bloodseeker_bloodrage"==a.name&&(e*=1+i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}"kunkka_ghostship"==a.name&&(e*=.5)}}return e}),i.getCritSource=a.computed(function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))switch(a.name){case"phantom_assassin_coup_de_grace":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_bonus",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"juggernaut_blade_dance":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"blade_dance_crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"blade_dance_crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[a.name]?e[a.name]={chance:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i._abilities[t].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1}}return e}),i.getCleaveSource=a.computed(function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))switch(a.name){case"magnataur_empower":void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"cleave_radius",a.level()),magnitude:i.getAbilityAttributeValue(i._abilities[t].attributes,"cleave_damage_pct",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"sven_great_cleave":void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"great_cleave_radius",a.level()),magnitude:i.getAbilityAttributeValue(i._abilities[t].attributes,"great_cleave_damage",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"kunkka_tidebringer":void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"radius",a.level()),magnitude:1,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"tiny_grow":i.hasScepter()&&(void 0==e[a.name]?e[a.name]={radius:i.getAbilityAttributeValue(i._abilities[t].attributes,"bonus_cleave_radius_scepter",a.level()),magnitude:i.getAbilityAttributeValue(i._abilities[t].attributes,"bonus_cleave_damage_scepter",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1)}}return e}),i.getCritChance=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"crit_chance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.getEvasion=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_evasion":case"dodge_chance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.getEvasionBacktrack=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"dodge_chance_pct":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.getMissChance=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.missChance&&(e*=1-a.missChance()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"miss_chance":case"miss_rate":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.getLifesteal=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.lifesteal&&(e+=a.lifesteal());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"vampiric_aura":case"lifesteal_pct":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getSpellAmp=a.computed(function(){var e=0;return e}),i.getCooldownReductionFlat=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"cooldown_reduction":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getCooldownReductionPercent=a.computed(function(){var e=1;return e}),i.getCooldownIncreaseFlat=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"duration":"faceless_void_time_dilation"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()))}}}return e}),i.getCooldownIncreasePercent=a.computed(function(){var e=1;return e}),i.getMagicResist=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.magicResist&&(e*=1-a.magicResist()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"spell_shield_resistance":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==a.name&&(e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==a.name&&(e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}}return e}),i.getMagicResistReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"magic_resistance_pct":e*=1-i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.getMovementSpeedFlat=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.movementSpeedFlat&&(e+=a.movementSpeedFlat());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"bonus_movespeed":"alchemist_chemical_rage"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"bonus_movement_speed":"tiny_grow"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level()));break;case"speed_loss":e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getMovementSpeedPercent=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.movementSpeedPct&&(e+=a.movementSpeedPct()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"bonus_movespeed":"broodmother_spin_web"!=a.name&&"spectre_spectral_dagger"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"bonus_movement_speed":"ogre_magi_bloodlust"!=a.name&&"death_prophet_witchcraft"!=a.name&&"kobold_taskmaster_speed_aura"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);
break;case"movement_speed_pct":"razor_unstable_current"!=a.name&&"phantom_lancer_doppelwalk"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"bonus_move_speed":"treant_natures_guise"!=a.name&&"lone_druid_rabid"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movespeed":"wisp_tether"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movespeed_bonus":"kunkka_ghostship"!=a.name&&"visage_grave_chill"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}}return e}),i.getMovementSpeedPercentReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.movementSpeedPctReduction&&(e+=a.movementSpeedPctReduction()/100);else{for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name||i.hasScepter()||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==a.name&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"slow_pct":e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100:"tusk_frozen_sigil"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"slow":"medusa_stone_gaze"==a.name?e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100:e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==a.name||"bounty_hunter_jinada"==a.name||"winter_wyvern_arctic_burn"==a.name||"winter_wyvern_splinter_blast"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100:"spectre_spectral_dagger"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movement_speed":"tidehunter_gush"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"bonus_movement_speed":"pugna_decrepify"!=a.name&&"chen_penitence"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==a.name||"phantom_lancer_spirit_lance"==a.name||"faceless_void_time_walk"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100:"skywrath_mage_concussive_shot"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"slow_amount":"razor_unstable_current"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==a.name||"brewmaster_thunder_clap"==a.name?e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100:"ursa_earthshock"!=a.name&&"treant_leech_seed"!=a.name||(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==a.name&&(e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==a.name?e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100:"visage_grave_chill"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}"satyr_trickster_purge"==a.name?e-=.8:"enraged_wildkin_tornado"==a.name&&(e-=.15)}}return e}),i.getTurnRateReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.turnRateReduction&&(e+=a.turnRateReduction()/100);else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"slow":"medusa_stone_gaze"==a.name&&(e-=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100)}}}return e}),i.getVisionRangeNight=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.visionnight&&(e+=a.visionnight());else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"night_vision_bonus":case"bonus_night_vision":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())}}}return e}),i.getVisionRangePctReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in i.abilityData))for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"blind_percentage":e+=i.getAbilityAttributeValue(i._abilities[t].attributes,s.name,a.level())/100}}}return e}),i.setEvasion=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&"windrunner_windrun"==a.name)return 1}return e}),i.setMovementSpeed=a.computed(function(){for(var e=522,t=100,a=0,n=0;n<i.abilities().length;n++){var s=i._abilities[n];if(s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){if("spirit_breaker_charge_of_darkness"==s.name)return i.getAbilityAttributeValue(s.attributes,"movement_speed",s.level());if("dark_seer_surge"==s.name)return e;if("centaur_stampede"==s.name)return e;if("lycan_shapeshift"==s.name)return e;if("lion_voodoo"==s.name||"shadow_shaman_voodoo"==s.name)return t}}return a}),i.getBashSource=function(e){for(var t={},a=0;a<i.abilities().length;a++){var n=i._abilities[a];if(n.level()>0&&(n.isActive()||n.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(n.name in i.abilityData)void 0!=n.bashBonusDamage&&(void 0==t[n.name]&&"faceless_void_time_lock"==n.name&&(t[n.name]={chance:n.bash()/100,damage:n.bashBonusDamage(),count:1,damageType:"magic",displayname:n.displayname}),void 0==t[n.name]&&"spirit_breaker_greater_bash"==n.name&&(t[n.name]={chance:n.bash()/100,damage:n.bashBonusDamage()/100,count:1,damageType:"magic",displayname:n.displayname}));else for(var s=0;s<i._abilities[a].attributes.length;s++){var o=i._abilities[a].attributes[s];switch(o.name){case"proc_chance":void 0==t[n.name]&&"sniper_headshot"==n.name&&(t[n.name]={chance:i.getAbilityAttributeValue(n.attributes,o.name,n.level())/100,damage:i.getAbilityPropertyValue(n,"damage"),count:1,damageType:"physical",displayname:n.displayname});break;case"chance":void 0==t[n.name]&&"slardar_bash"==n.name&&(t[n.name]={chance:i.getAbilityAttributeValue(n.attributes,o.name,n.level())/100,damage:i.getAbilityAttributeValue(n.attributes,"bonus_damage",n.level()),count:1,damageType:"physical",displayname:n.displayname})}}}return t},i.getOrbSource=function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i._abilities[t];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in i.abilityData)void 0!=a.bonusDamageOrb&&void 0==e[a.name]&&"obsidian_destroyer_arcane_orb"==a.name&&(e[a.name]={damage:a.bonusDamageOrb(),damageType:"pure",displayname:a.displayname});else for(var n=0;n<i._abilities[t].attributes.length;n++){var s=i._abilities[t].attributes[n];switch(s.name){case"mana_per_hit":void 0==e[a.name]&&"antimage_mana_break"==a.name&&(e[a.name]={damage:i.getAbilityAttributeValue(a.attributes,s.name,a.level())*i.getAbilityAttributeValue(a.attributes,"damage_per_burn",a.level()),damageType:"physical",displayname:a.displayname});break;case"damage_bonus":void 0==e[a.name]&&"clinkz_searing_arrows"==a.name&&(e[a.name]={damage:i.getAbilityAttributeValue(a.attributes,s.name,a.level()),damageType:"physical",displayname:a.displayname});case"intellect_damage_pct":void 0==e[a.name]&&"silencer_glaives_of_wisdom"==a.name&&(e[a.name]={damage:i.getAbilityAttributeValue(a.attributes,s.name,a.level())/100*i.hero.totalInt(),damageType:"pure",displayname:a.displayname})}}}return e},i.toggleAbility=function(e,t,a){i.abilities()[e()].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(i.abilities()[e()].isActive()?i.abilities()[e()].isActive(!1):i.abilities()[e()].isActive(!0),"lycan_shapeshift"==i.abilities()[e()].name&&i.isShapeShiftActive(i.abilities()[e()].isActive()))}.bind(this),i.toggleAbilityDetail=function(e,t,a){i.abilities()[e()].isDetail()?i.abilities()[e()].isDetail(!1):i.abilities()[e()].isDetail(!0)}.bind(this),i.getAbility=function(e){return i.abilities().find(function(t){return t.name==e})}};s.prototype.levelUpAbility=function(e,t,i,a){var n=this;if(n.abilities()[e()].level()<a.getAbilityLevelMax(t)&&a.availableSkillPoints()>0){switch(n.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==a.heroId()?(0==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=2||1==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=7||2==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=11||3==n.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=17)&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e())):"meepo"==a.heroId()?7*n.abilities()[e()].level()+3<=parseInt(a.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e())):5*(n.abilities()[e()].level()+1)+1<=parseInt(a.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e()));break;default:2*n.abilities()[e()].level()+1<=parseInt(a.selectedHeroLevel())&&(n.abilities()[e()].level(n.abilities()[e()].level()+1),a.skillPointHistory.push(e()))}switch(n.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":n.abilities()[e()+1].level(n.abilities()[e()].level());break;case"morphling_morph_str":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()-2].level(n.abilities()[e()].level());break;case"nevermore_shadowraze1":n.abilities()[e()+1].level(n.abilities()[e()].level()),n.abilities()[e()+2].level(n.abilities()[e()].level());break;case"nevermore_shadowraze2":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()+1].level(n.abilities()[e()].level());break;case"nevermore_shadowraze3":n.abilities()[e()-1].level(n.abilities()[e()].level()),n.abilities()[e()-2].level(n.abilities()[e()].level());break;case"ember_spirit_fire_remnant":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"lone_druid_true_form":n.abilities()[e()-1].level(n.abilities()[e()].level());break;case"monkey_king_tree_dance":n.abilities()[e()+1].level(n.abilities()[e()].level())}}},s.prototype.levelDownAbility=function(e,t,i,n){var s=a.utils.unwrapObservable(e),o=this;if(o.abilities()[s].level()>0)switch(o.abilities()[s].level(o.abilities()[s].level()-1),n.skillPointHistory.splice(n.skillPointHistory().lastIndexOf(s),1),o.abilities()[s].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":o.abilities()[s+1].level(o.abilities()[s].level());break;case"morphling_morph_str":o.abilities()[s-1].level(o.abilities()[s].level());break;case"keeper_of_the_light_spirit_form":o.abilities()[s-1].level(o.abilities()[s].level()),o.abilities()[s-2].level(o.abilities()[s].level());break;case"nevermore_shadowraze1":o.abilities()[s+1].level(o.abilities()[s].level()),o.abilities()[s+2].level(o.abilities()[s].level());break;case"nevermore_shadowraze2":o.abilities()[s-1].level(o.abilities()[s].level()),o.abilities()[s+1].level(o.abilities()[s].level());break;case"nevermore_shadowraze3":o.abilities()[s-1].level(o.abilities()[s].level()),o.abilities()[s-2].level(o.abilities()[s].level());break;case"ember_spirit_fire_remnant":o.abilities()[s-1].level(o.abilities()[s].level());break;case"lone_druid_true_form":o.abilities()[s-1].level(o.abilities()[s].level());break;case"monkey_king_tree_dance":o.abilities()[s+1].level(o.abilities()[s].level())}},s.prototype.getAbilityAttributeValue=function(e,t,i){for(var a=0;a<e.length;a++)if(e[a].name==t)return 0==i?parseFloat(e[a].value[0]):i>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[i-1])},s.prototype.getAbilityAttributeTooltip=function(e,t){for(var i=0;i<e.length;i++)if(e[i].name==t){if(e[i].hasOwnProperty("tooltip")){var a=e[i].tooltip.replace(/\\n/g,"");return a}return""}return""},t.exports=s},{"./herocalc_abilitydata":22,"./herocalc_knockout":23}],3:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("./AbilityModel"),s=e("./inventory/InventoryViewModel"),o=e("./util/findWhere"),r=e("./buffs/buffOptionsArray"),l=e("./buffs/debuffOptionsArray"),d=function(e,t){var i=this;return n.call(this,a.observableArray([])),i.availableBuffs=a.observableArray(r.items),i.availableDebuffs=a.observableArray(l.items),i.selectedBuff=a.observable(i.availableBuffs()[0]),i.buffs=a.observableArray([]),i.itemBuffs=new s(e),i.addBuff=function(e,t){if(void 0==o(i.buffs(),{name:i.selectedBuff().buffName})){var n=JSON.parse(JSON.stringify(i.selectedBuff().abilityData));switch(n.level=a.observable(0),n.isActive=a.observable(!1),n.isDetail=a.observable(!1),n.baseDamage=a.observable(0),n.bash=a.observable(0),n.bashBonusDamage=a.observable(0),n.bonusDamage=a.observable(0),n.bonusDamageOrb=a.observable(0),n.bonusDamagePct=a.observable(0),n.bonusDamagePrecisionAura=a.observable(0),n.bonusDamageReduction=a.observable(0),n.bonusHealth=a.observable(0),n.bonusStrength=a.observable(0),n.bonusStrength2=a.observable(0),n.bonusAgility=a.observable(0),n.bonusAgility2=a.observable(0),n.bonusInt=a.observable(0),n.bonusAllStatsReduction=a.observable(0),n.damageAmplification=a.observable(0),n.damageReduction=a.observable(0),n.evasion=a.observable(0),n.magicResist=a.observable(0),n.manaregen=a.observable(0),n.manaregenreduction=a.observable(0),n.missChance=a.observable(0),n.movementSpeedFlat=a.observable(0),n.movementSpeedPct=a.observable(0),n.movementSpeedPctReduction=a.observable(0),n.turnRateReduction=a.observable(0),n.attackrange=a.observable(0),n.attackspeed=a.observable(0),n.attackspeedreduction=a.observable(0),n.armor=a.observable(0),n.armorReduction=a.observable(0),n.healthregen=a.observable(0),n.lifesteal=a.observable(0),n.visionnight=a.observable(0),n.visionday=a.observable(0),n.name){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":n.level(1)}i.abilities.push(n),i.buffs.push({name:i.selectedBuff().buffName,hero:i.selectedBuff().hero,data:n})}},i.removeBuff=function(e,t,a){if(void 0!=o(i.buffs(),{name:a})){if(i.buffs.remove(o(i.buffs(),{name:a})),void 0!=i.abilityControlData[a]){for(var n=0;n<i.abilityControlData[a].data.length;n++)void 0!=i.abilityControlData[a].data[n].controlVal.dispose&&i.abilityControlData[a].data[n].controlVal.dispose(),void 0!=i.abilityControlData[a].data[n].clean&&i.abilityControlData[a].data[n].clean.dispose();i.abilityControlData[a]=void 0}for(var n=0;n<i.abilities().length;n++)if(i.abilities()[n].name==a){i.abilities()[n].level(0),i.abilities.remove(i.abilities()[n]);break}}},i.toggleBuff=function(e,t,a){i.buffs()[e()].data.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(i.buffs()[e()].data.isActive()?(i.buffs()[e()].data.isActive(!1),i.abilities()[e()].isActive(!1)):(i.buffs()[e()].data.isActive(!0),i.abilities()[e()].isActive(!0)))}.bind(this),i.toggleBuffDetail=function(e,t,a){i.buffs()[e()].data.isDetail()?i.buffs()[e()].data.isDetail(!1):i.buffs()[e()].data.isDetail(!0)}.bind(this),i.levelUpAbility=function(e,t,a,n){if(i.abilities()[e()].level()<n.getAbilityLevelMax(t)){switch(i.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":i.abilities()[e()].level(i.abilities()[e()].level()+1);break;default:i.abilities()[e()].level(i.abilities()[e()].level()+1)}switch(i.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"morphling_morph_str":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());case"nevermore_shadowraze1":i.abilities()[e()+1].level(i.abilities()[e()].level()),i.abilities()[e()+2].level(i.abilities()[e()].level());break;case"nevermore_shadowraze2":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"nevermore_shadowraze3":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level())}}},i.levelDownAbility=function(e,t,a,n){if(i.abilities()[e()].level()>0)switch(i.abilities()[e()].level(i.abilities()[e()].level()-1),i.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"morphling_morph_str":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());case"nevermore_shadowraze1":i.abilities()[e()+1].level(i.abilities()[e()].level()),i.abilities()[e()+2].level(i.abilities()[e()].level());break;case"nevermore_shadowraze2":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"nevermore_shadowraze3":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());break;case"ember_spirit_fire_remnant":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"lone_druid_true_form":i.abilities()[e()-1].level(i.abilities()[e()].level())}},i};d.prototype=Object.create(n.prototype),d.prototype.constructor=d,t.exports=d},{"./AbilityModel":2,"./buffs/buffOptionsArray":5,"./buffs/debuffOptionsArray":6,"./herocalc_knockout":23,"./inventory/InventoryViewModel":28,"./util/findWhere":39}],4:[function(e,t,i){var a=e("../util/findWhere"),n=function(e,t,i,n){this.buffName=n,void 0==e["npc_dota_hero_"+i]?(this.hero=i,this.abilityData=a(t[i].abilities,{name:n}),this.buffDisplayName=t[i].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+i,this.abilityData=a(e["npc_dota_hero_"+i].abilities,{name:n}),this.buffDisplayName=e["npc_dota_hero_"+i].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==n&&(this.buffDisplayName+=" (Aura for allies)"))};t.exports=n},{"../util/findWhere":39}],5:[function(e,t,i){var a=e("./BuffModel"),n={},s=function(e,t){return n.items=[new a(e,t,"abaddon","abaddon_frostmourne"),new a(e,t,"axe","axe_culling_blade"),new a(e,t,"beastmaster","beastmaster_inner_beast"),new a(e,t,"bloodseeker","bloodseeker_bloodrage"),new a(e,t,"bounty_hunter","bounty_hunter_track"),new a(e,t,"centaur","centaur_stampede"),new a(e,t,"crystal_maiden","crystal_maiden_brilliance_aura"),new a(e,t,"dark_seer","dark_seer_surge"),new a(e,t,"dazzle","dazzle_weave"),new a(e,t,"drow_ranger","drow_ranger_trueshot"),new a(e,t,"invoker","invoker_alacrity"),new a(e,t,"wisp","wisp_tether"),new a(e,t,"wisp","wisp_overcharge"),new a(e,t,"kunkka","kunkka_ghostship"),new a(e,t,"lich","lich_frost_armor"),new a(e,t,"life_stealer","life_stealer_open_wounds"),new a(e,t,"luna","luna_lunar_blessing"),new a(e,t,"lycan","lycan_howl"),new a(e,t,"magnataur","magnataur_empower"),new a(e,t,"mirana","mirana_leap"),new a(e,t,"ogre_magi","ogre_magi_bloodlust"),new a(e,t,"omniknight","omniknight_guardian_angel"),new a(e,t,"rubick","rubick_null_field"),new a(e,t,"skeleton_king","skeleton_king_vampiric_aura"),new a(e,t,"spirit_breaker","spirit_breaker_empowering_haste"),new a(e,t,"sven","sven_warcry"),new a(e,t,"sven","sven_gods_strength"),new a(e,t,"treant","treant_living_armor"),new a(e,t,"troll_warlord","troll_warlord_battle_trance"),new a(e,t,"vengefulspirit","vengefulspirit_command_aura"),new a(e,t,"npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new a(e,t,"npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new a(e,t,"npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new a(e,t,"npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new a(e,t,"npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new a(e,t,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new a(e,t,"npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new a(e,t,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new a(e,t,"npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")],n.items};n.init=s,t.exports=n},{"./BuffModel":4}],6:[function(e,t,i){var a=e("./BuffModel"),n={},s=function(e,t){return n.items=[new a(e,t,"abaddon","abaddon_frostmourne"),new a(e,t,"alchemist","alchemist_acid_spray"),new a(e,t,"ancient_apparition","ancient_apparition_ice_vortex"),new a(e,t,"axe","axe_battle_hunger"),new a(e,t,"bane","bane_enfeeble"),new a(e,t,"batrider","batrider_sticky_napalm"),new a(e,t,"beastmaster","beastmaster_primal_roar"),new a(e,t,"bounty_hunter","bounty_hunter_jinada"),new a(e,t,"brewmaster","brewmaster_thunder_clap"),new a(e,t,"brewmaster","brewmaster_drunken_haze"),new a(e,t,"bristleback","bristleback_viscous_nasal_goo"),new a(e,t,"broodmother","broodmother_incapacitating_bite"),new a(e,t,"centaur","centaur_stampede"),new a(e,t,"chen","chen_penitence"),new a(e,t,"crystal_maiden","crystal_maiden_crystal_nova"),new a(e,t,"crystal_maiden","crystal_maiden_freezing_field"),new a(e,t,"dazzle","dazzle_weave"),new a(e,t,"drow_ranger","drow_ranger_frost_arrows"),new a(e,t,"earth_spirit","earth_spirit_rolling_boulder"),new a(e,t,"elder_titan","elder_titan_natural_order"),new a(e,t,"elder_titan","elder_titan_earth_splitter"),new a(e,t,"enchantress","enchantress_untouchable"),new a(e,t,"enchantress","enchantress_enchant"),new a(e,t,"faceless_void","faceless_void_time_walk"),new a(e,t,"huskar","huskar_life_break"),new a(e,t,"invoker","invoker_ghost_walk"),new a(e,t,"invoker","invoker_ice_wall"),new a(e,t,"wisp","wisp_tether"),new a(e,t,"jakiro","jakiro_dual_breath"),new a(e,t,"jakiro","jakiro_liquid_fire"),new a(e,t,"keeper_of_the_light","keeper_of_the_light_blinding_light"),new a(e,t,"kunkka","kunkka_torrent"),new a(e,t,"lich","lich_frost_nova"),new a(e,t,"lich","lich_frost_armor"),new a(e,t,"lich","lich_chain_frost"),new a(e,t,"life_stealer","life_stealer_open_wounds"),new a(e,t,"lion","lion_voodoo"),new a(e,t,"magnataur","magnataur_skewer"),new a(e,t,"medusa","medusa_stone_gaze"),new a(e,t,"meepo","meepo_geostrike"),new a(e,t,"naga_siren","naga_siren_rip_tide"),new a(e,t,"night_stalker","night_stalker_void"),new a(e,t,"night_stalker","night_stalker_crippling_fear"),new a(e,t,"night_stalker","night_stalker_darkness"),new a(e,t,"ogre_magi","ogre_magi_ignite"),new a(e,t,"omniknight","omniknight_degen_aura"),new a(e,t,"phantom_assassin","phantom_assassin_stifling_dagger"),new a(e,t,"phantom_lancer","phantom_lancer_spirit_lance"),new a(e,t,"pudge","pudge_rot"),new a(e,t,"pugna","pugna_decrepify"),new a(e,t,"queenofpain","queenofpain_shadow_strike"),new a(e,t,"riki","riki_smoke_screen"),new a(e,t,"rubick","rubick_fade_bolt"),new a(e,t,"sand_king","sandking_epicenter"),new a(e,t,"nevermore","nevermore_dark_lord"),new a(e,t,"shadow_shaman","shadow_shaman_voodoo"),new a(e,t,"skeleton_king","skeleton_king_hellfire_blast"),new a(e,t,"skeleton_king","skeleton_king_reincarnation"),new a(e,t,"skywrath_mage","skywrath_mage_concussive_shot"),new a(e,t,"skywrath_mage","skywrath_mage_ancient_seal"),new a(e,t,"slardar","slardar_slithereen_crush"),new a(e,t,"slardar","slardar_amplify_damage"),new a(e,t,"slark","slark_essence_shift"),new a(e,t,"sniper","sniper_shrapnel"),new a(e,t,"spectre","spectre_spectral_dagger"),new a(e,t,"storm_spirit","storm_spirit_overload"),new a(e,t,"templar_assassin","templar_assassin_meld"),new a(e,t,"tidehunter","tidehunter_gush"),new a(e,t,"tinker","tinker_laser"),new a(e,t,"treant","treant_leech_seed"),new a(e,t,"tusk","tusk_frozen_sigil"),new a(e,t,"undying","undying_flesh_golem"),new a(e,t,"ursa","ursa_earthshock"),new a(e,t,"vengefulspirit","vengefulspirit_wave_of_terror"),new a(e,t,"vengefulspirit","vengefulspirit_command_aura"),new a(e,t,"venomancer","venomancer_venomous_gale"),new a(e,t,"venomancer","venomancer_poison_sting"),new a(e,t,"viper","viper_poison_attack"),new a(e,t,"viper","viper_corrosive_skin"),new a(e,t,"viper","viper_viper_strike"),new a(e,t,"visage","visage_grave_chill"),new a(e,t,"warlock","warlock_upheaval"),new a(e,t,"weaver","weaver_the_swarm"),new a(e,t,"windrunner","windrunner_windrun"),new a(e,t,"winter_wyvern","winter_wyvern_arctic_burn"),new a(e,t,"winter_wyvern","winter_wyvern_splinter_blast"),new a(e,t,"npc_dota_neutral_ghost","ghost_frost_attack"),new a(e,t,"npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new a(e,t,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new a(e,t,"npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new a(e,t,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")],n.items};n.init=s,t.exports=n},{"./BuffModel":4}],7:[function(e,t,i){var a={heroData:{},itemData:{},unitData:{}};t.exports=a},{}],8:[function(e,t,i){var a=e("./HeroCalcData")||{},n=e("../util/getJSON"),s=e("../util/isEmpty"),o=e("../util/isString"),r=0,l=function(e){r--,0===r&&(c(a.heroData),d(a.itemData),e&&e())},d=function(e){e.item_bottle_doubledamage={displayname:"Double Damage",name:"item_bottle_doubledamage",attributes:[{name:"bottle_doubledamage",tooltip:"%BONUS ATTACK DAMAGE:",value:[100]}]}},c=function(e){e.npc_dota_hero_invoker.abilities[5].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var t=e.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");e.npc_dota_hero_lone_druid.abilities[3].behavior.splice(t,1),t=e.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_abaddon.abilities[2].behavior.splice(t,1),t=e.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_riki.abilities[2].behavior.splice(t,1)},u=function(e,t,i,d){r=3,!a.heroData||s(a.heroData)?o(e)?n(e,function(e){a.heroData=e,l(d)}):s(e)||(a.heroData=e,l(d)):l(d),!a.itemData||s(a.itemData)?o(t)?n(t,function(e){a.itemData=e,l(d)}):s(t)||(a.itemData=t,l(d)):l(d),!a.unitData||s(a.unitData)?o(i)?n(i,function(e){a.unitData=e,l(d)}):s(i)||(a.unitData=i,l(d)):l(d)};a.init=u,t.exports=a},{"../util/getJSON":40,"../util/isEmpty":41,"../util/isString":42,"./HeroCalcData":7}],9:[function(e,t,i){"use strict";var a=e("./HeroModel"),n=function(e,t,i,n){var s=this;return a.call(this,e,t,i),s.parent=n,s};n.prototype=Object.create(a.prototype),n.prototype.constructor=n,t.exports=n},{"./HeroModel":12}],10:[function(e,t,i){var a={physical:"#979aa2",pure:"goldenrod",magic:"#428bca",default:"#979aa2"};t.exports=a},{}],11:[function(e,t,i){"use strict";var a=e("../herocalc_knockout"),n=e("./DamageTypeColor"),s=e("../util/extend"),o=function(e,t){e.critInfo=a.pureComputed(function(){function t(e,t){return e.multiplier<t.multiplier?1:e.multiplier>t.multiplier?-1:0}var i=e.inventory.getCritSource();s(i,e.ability().getCritSource()),s(i,e.buffs.getCritSource());var a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}a.sort(t);for(var r=[],l=0,d=0;d<a.length;d++){for(var c=1,u=0;u<d;u++)for(var h=0;h<a[u].count;h++)c*=1-a[u].chance;for(var p=1,h=0;h<a[d].count;h++)p*=1-a[d].chance;c*=1-p,l+=c,a[d].count>1?r.push({name:a[d].displayname+" x"+a[d].count,chance:a[d].chance,multiplier:a[d].multiplier,count:a[d].count,totalChance:c}):r.push({name:a[d].displayname,chance:a[d].chance,multiplier:a[d].multiplier,count:a[d].count,totalChance:c})}return{sources:r,total:l}}),e.cleaveInfo=a.pureComputed(function(){function t(e,t){return e.radius<t.radius?1:e.radius>t.radius?-1:0}var i=e.inventory.getCleaveSource();s(i,e.ability().getCleaveSource()),s(i,e.buffs.getCleaveSource());var a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}a.sort(t);for(var r={},l=0;l<a.length;l++){for(var d=0,c=0;c<a.length;c++)a[c].radius>=a[l].radius&&(d+=a[c].magnitude*a[c].count);r[a[l].radius]=d}var u=[];for(var n in r)u.push({radius:n,magnitude:r[n]});return u}),e.bashInfo=a.pureComputed(function(){var t=e.heroData().attacktype,i=e.inventory.getBashSource(t);s(i,e.ability().getBashSource());var a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}for(var r=[],l=0,d=0;d<a.length;d++){for(var c=1,u=0;u<d;u++)for(var h=0;h<a[u].count;h++)c*=1-a[u].chance;for(var p=1,h=0;h<a[d].count;h++)p*=1-a[d].chance;if(c*=1-p,l+=c,"spirit_breaker_greater_bash"===a[d].name)var m=a[d].damage*e.totalMovementSpeed();else var m=a[d].damage;a[d].count>1?r.push({name:a[d].displayname,chance:a[d].chance,damage:m,count:a[d].count,damageType:a[d].damageType,totalChance:c}):r.push({name:a[d].displayname,chance:a[d].chance,damage:m,count:a[d].count,damageType:a[d].damageType,totalChance:c})}return{sources:r,total:l}}),e.orbProcInfo=a.pureComputed(function(){function t(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:e.damage<t.damage?1:e.damage>t.damage?-1:0}var i=(e.heroData().attacktype,e.inventory.getOrbProcSource()),a=[];for(var n in i){var s=i[n];s.name=n,a.push(s)}a.sort(t);for(var o=[],r=0,l=0;l<a.length;l++){for(var d=1,c=0;c<l;c++)for(var u=0;u<a[c].count;u++)d*=1-a[c].chance;for(var h=1,u=0;u<a[l].count;u++)h*=1-a[l].chance;d*=1-h,r+=d,a[l].count>1?o.push({name:a[l].displayname+" x"+a[l].count,chance:a[l].chance,damage:a[l].damage,count:a[l].count,damageType:a[l].damageType,totalChance:d}):o.push({name:a[l].displayname,chance:a[l].chance,damage:a[l].damage,count:a[l].count,damageType:a[l].damageType,totalChance:d})}return{sources:o,total:r}}),e.getReducedDamage=function(t,i){var a=t;switch(i){case"physical":
a=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":a=t*(1-e.enemy().totalMagicResistance()/100);break;case"pure":a=t;break;case"composite":a=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),a*=1-e.enemy().totalMagicResistance()/100}return a*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),a*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=a.pureComputed(function(){var i=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],n=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],s=e.inventory.getBonusDamage().sources,o=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,r=e.critInfo(),l=e.ability().getOrbSource(),d=e.inventory.getOrbSource(),c=e.orbProcInfo(),u=e.bashInfo(),h=[];if(h.push({name:"Base Attack",cooldown:1}),"weaver"===e.heroId()){var p=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name});if(p&&p.level()>0){var m=p.cooldown[p.level()-1];h.push({name:p.displayname,cooldown:1/m})}}var b=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(b&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.heroData().attacktype){var f=t.item_echo_sabre;h.push({name:f.displayname,cooldown:1/f.cooldown})}var g=h.map(function(h){var p=(e.baseDamage()[0]+e.baseDamage()[1])/2,m=0,b=0,f=0,g={damage:0,damageReduced:0,cooldown:6,active:!1},v=({damage:0,damageReduced:0,cooldown:t.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),_=[],y=[];_.push({name:"Base Damage",damage:p,damageType:"physical",damageReduced:e.getReducedDamage(p,"physical"),enabled:a.observable(!0)}),m+=p,b+=p,v.physical+=p;for(x in s){var w=s[x].damage*s[x].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();_.push({name:s[x].displayname+(s[x].count>1?" x"+s[x].count:""),damage:w,damageType:s[x].damageType,damageReduced:e.getReducedDamage(w,s[x].damageType),enabled:a.observable(!0)}),m+=w,b+=w,v[s[x].damageType]+=w}for(x in o){var w=p*o[x].damage;_.push({name:o[x].displayname,damage:w,damageType:o[x].damageType,damageReduced:e.getReducedDamage(w,o[x].damageType),enabled:a.observable(!0)}),m+=w,b+=w,v[o[x].damageType]+=w}for(var x=0;x<i.length;x++)for(D in i[x]){var w=i[x][D].damage;_.push({name:i[x][D].displayname,damage:w,damageType:i[x][D].damageType,damageReduced:e.getReducedDamage(w,i[x][D].damageType),enabled:a.observable(!0)}),m+=w,b+=w,v[i[x][D].damageType]+=w}for(var x=0;x<n.length;x++)for(D in n[x]){var w=p*n[x][D].damage;_.push({name:n[x][D].displayname,damage:w,damageType:n[x][D].damageType,damageReduced:e.getReducedDamage(w,n[x][D].damageType),enabled:a.observable(!0)}),m+=w,b+=w,v[n[x][D].damageType]+=w}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.heroData().attacktype){if("drow_ranger"===e.heroId())var A=e.ability().getBonusDamagePrecisionAura().sources,k=0;else var A=e.buffs.getBonusDamagePrecisionAura().sources,k=1;if(void 0!=A[k]){if("drow_ranger"===e.heroId())var w=A[k].damage*e.totalAgi();else var w=A[k].damage;_.push({name:A[k].displayname,damage:w,damageType:"physical",damageReduced:e.getReducedDamage(w,"physical"),enabled:a.observable(!0)}),m+=w,b+=w,v.physical+=w}}if("riki"===e.heroId())var A=e.ability().getBonusDamageBackstab().sources,k=0;else var A=e.buffs.getBonusDamageBackstab().sources,k=1;if(void 0!=A[k]){if("riki"===e.heroId())var w=A[k].damage*e.totalAgi();else var w=A[k].damage;_.push({name:A[k].displayname,damage:w,damageType:"physical",damageReduced:e.getReducedDamage(w,"physical"),enabled:a.observable(!0)}),m+=w,v.physical+=w}for(var x=0;x<u.sources.length;x++){var T=u.sources[x],w=u.sources[x].damage,I=e.attacksPerSecond();T.cooldown&&(I=Math.max(1/T.cooldown,I));for(var D=0;D<u.sources[x].count;D++)_.push({name:u.sources[x].name,damage:w,damageType:u.sources[x].damageType,damageReduced:e.getReducedDamage(w,u.sources[x].damageType),dps:w*I*u.sources[x].chance,dpsReduced:e.getReducedDamage(w,u.sources[x].damageType)*I*u.sources[x].chance,enabled:a.observable(!0)}),m+=w,v[u.sources[x].damageType]+=w}for(var x=0;x<c.sources.length;x++){var w=c.sources[x].damage*(1-Math.pow(1-c.sources[x].chance,c.sources[x].count));_.push({name:c.sources[x].name,damage:w,damageType:c.sources[x].damageType,damageReduced:e.getReducedDamage(w,c.sources[x].damageType),enabled:a.observable(!0)}),m+=w,v[c.sources[x].damageType]+=w}for(var S in l){var w=l[S].damage*(1-c.total);_.push({name:l[S].displayname,damage:w,damageType:l[S].damageType,damageReduced:e.getReducedDamage(w,l[S].damageType),enabled:a.observable(!0)}),m+=w,v[l[S].damageType]+=w}if(0===Object.keys(l).length)for(var S in d){var w=d[S].damage*(1-c.total);_.push({name:d[S].displayname,damage:w,damageType:d[S].damageType,damageReduced:e.getReducedDamage(w,d[S].damageType),enabled:a.observable(!0)}),m+=w,v[d[S].damageType]+=w}for(var x=0;x<r.sources.length;x++){var w=b*(r.sources[x].multiplier-1);y.push({name:r.sources[x].name+", "+r.sources[x].multiplier+"x, "+(100*r.sources[x].totalChance).toFixed(1)+"%",damage:w,damageType:"physical",damageReduced:e.getReducedDamage(w,"physical"),enabled:a.observable(!0),chance:r.sources[x].totalChance}),f+=w}var P=e.getReducedDamage(v.pure,"pure")+e.getReducedDamage(v.physical,"physical")+e.getReducedDamage(v.magic,"magic"),C=e.getReducedDamage(f,"physical"),E={base:m*e.attacksPerSecond(),crit:f*e.attacksPerSecond(),geminateAttack:g.active?g.damage/g.cooldown:0,reduced:{base:P*e.attacksPerSecond(),crit:C*e.attacksPerSecond(),geminateAttack:g.active?e.getReducedDamage(g.damage,"physical")/g.cooldown:0}};y.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())*t.chance),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond())*t.chance)}),_.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond()))});var O=y.reduce(function(e,t){return e+t.chance},0),R=a.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damage:0}),B=a.computed(function(){var e=y.find(function(e){return e.enabled()});return e?e.damageReduced:0}),L=a.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)}),M=a.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)}),N=a.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damage},0)+R()}),$=a.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damageReduced},0)+B()}),V=a.computed(function(){return(_.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)+L())*h.cooldown}),H=a.computed(function(){return(_.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)+M())*h.cooldown}),F=[R,B,L,M],z=[N,$,V,H];return{name:h.name+" Subtotal",cooldown:h.cooldown,enabled:a.observable(!0),visible:a.observable(!0),totalCritChance:O,totalCritRow:F,totalRow:z,sources:_,sourcesCrit:y,total:m,totalCrit:f,totalGeminateAttack:m+g.damage,totalGeminateAttackReduced:P+g.damageReduced,geminateAttack:g,totalCritReduced:C,totalReduced:P,sumTotal:m+f,sumTotalReduced:P+C,dps:{base:E.base,crit:E.base+E.crit,geminateAttack:E.base+E.geminateAttack,total:E.base+E.crit+E.geminateAttack,reduced:{base:E.reduced.base,crit:E.reduced.base+E.reduced.crit,geminateAttack:E.reduced.base+E.reduced.geminateAttack,total:E.reduced.base+E.reduced.crit+E.reduced.geminateAttack}}}}),v=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[0]()},0)}),_=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[1]()},0)}),y=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[2]()},0)}),w=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[3]()},0)});return{attacks:g,totalRow:[v,_,y,w]}}),e.getDamageTypeColor=function(e){return n[e]||n.default}};t.exports=o},{"../herocalc_knockout":23,"../util/extend":38,"./DamageTypeColor":10}],12:[function(e,t,i){"use strict";var a=e("../herocalc_knockout"),n=e("../AbilityModel"),s=e("../BuffViewModel"),o=e("../inventory/InventoryViewModel"),r=e("./diffProperties"),l=e("./HeroDamageMixin"),d=e("./TalentController"),c=e("./totalExp"),u=e("./nextLevelExp"),h=function(e,t,i){var h=this;h.heroId=a.observable(i),h.selectedHeroLevel=a.observable(1),h.inventory=new o(t,h),h.selectedInventory=a.observable(-1),h.buffs=new s(t),h.buffs.hasScepter=h.inventory.hasScepter,h.debuffs=new s(t),h.heroData=a.computed(function(){return e["npc_dota_hero_"+h.heroId()]}),h.heroCompare=a.observable(h),h.enemy=a.observable(h),h.unit=a.observable(h),h.clone=a.observable(h),h.talents=[a.observable(-1),a.observable(-1),a.observable(-1),a.observable(-1)],h.selectedTalents=a.computed(function(){for(var e=[],t=0;t<4;t++)h.talents[t]()!==-1&&e.push(h.heroData().talents[t][h.talents[t]()]);return e}),h.skillPointHistory=a.observableArray(),h.ability=a.computed(function(){var e=new n(a.observableArray(JSON.parse(JSON.stringify(h.heroData().abilities))),h);switch(h.heroId()){case"earth_spirit":case"ogre_magi":e._abilities[3].level(1);break;case"monkey_king":e._abilities[5].level(1);break;case"invoker":for(var t=5;t<16;t++)e._abilities[t].level(1)}return h.skillPointHistory.removeAll(),e.hasScepter=h.inventory.hasScepter,e}),h.availableSkillPoints=a.computed(function(){for(var e=h.selectedHeroLevel(),t=0;t<4;t++)h.selectedHeroLevel()<5*t+10&&h.talents[t](-1);e-=h.talents.filter(function(e){return e()!==-1}).length;for(var t=0;t<h.ability().abilities().length;t++)switch(h.ability().abilities()[t].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===h.heroId());else if("meepo"===h.heroId())for(;7*(h.ability().abilities()[t].level()-1)+3>parseInt(h.selectedHeroLevel());)h.ability().levelDownAbility(t,null,null,h);else for(;5*h.ability().abilities()[t].level()+1>parseInt(h.selectedHeroLevel());)h.ability().levelDownAbility(t,null,null,h);break;default:for(;2*h.ability().abilities()[t].level()-1>parseInt(h.selectedHeroLevel());)h.ability().levelDownAbility(t,null,null,h)}for(;h.skillPointHistory().length>e;)h.ability().levelDownAbility(h.skillPointHistory()[h.skillPointHistory().length-1],null,null,h);return e-h.skillPointHistory().length},this),h.primaryAttribute=a.pureComputed(function(){var e=h.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),h.totalExp=a.pureComputed(function(){return c[h.selectedHeroLevel()-1]}),h.nextLevelExp=a.pureComputed(function(){return u[h.selectedHeroLevel()-1]}),h.startingArmor=a.pureComputed(function(){return(.14*h.heroData().attributebaseagility+h.heroData().armorphysical).toFixed(2)}),h.respawnTime=a.pureComputed(function(){var e=h.selectedHeroLevel(),t=d.getRespawnReduction(h.selectedTalents());return e>=1&&e<=5?2*(e-1)+8-t:e>=6&&e<=11?2*(e-6)+26-t:e>=12&&e<=17?2*(e-12)+46-t:e>=18&&e<=24?4*(e-18)+66-t:25==e?100-t:void 0}),h.totalAttribute=function(e){return"agi"===e?parseFloat(h.totalAgi()):"int"===e?parseFloat(h.totalInt()):"str"===e?parseFloat(h.totalStr()):0},h.totalAgi=a.pureComputed(function(){return(h.heroData().attributebaseagility+h.heroData().attributeagilitygain*(h.selectedHeroLevel()-1)+h.inventory.getAttributes("agi")+2*h.ability().getAttributeBonusLevel()+h.ability().getAgility()+d.getAgility(h.selectedTalents())+h.enemy().ability().getAllStatsReduction()+h.debuffs.getAllStatsReduction()).toFixed(2)}),h.intStolen=a.observable(0).extend({numeric:0}),h.totalInt=a.pureComputed(function(){return(h.heroData().attributebaseintelligence+h.heroData().attributeintelligencegain*(h.selectedHeroLevel()-1)+h.inventory.getAttributes("int")+2*h.ability().getAttributeBonusLevel()+h.ability().getIntelligence()+d.getIntelligence(h.selectedTalents())+h.enemy().ability().getAllStatsReduction()+h.debuffs.getAllStatsReduction()+h.intStolen()).toFixed(2)}),h.totalStr=a.pureComputed(function(){return(h.heroData().attributebasestrength+h.heroData().attributestrengthgain*(h.selectedHeroLevel()-1)+h.inventory.getAttributes("str")+2*h.ability().getAttributeBonusLevel()+h.ability().getStrength()+d.getStrength(h.selectedTalents())+h.enemy().ability().getStrengthReduction()+h.enemy().ability().getAllStatsReduction()+h.debuffs.getAllStatsReduction()).toFixed(2)}),h.health=a.pureComputed(function(){return(h.heroData().statushealth+20*Math.floor(h.totalStr())+h.inventory.getHealth()+h.ability().getHealth()+d.getHealth(h.selectedTalents())).toFixed(2)}),h.healthregen=a.pureComputed(function(){var e=[h.inventory.getHealthRegenAura,h.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return(h.heroData().statushealthregen+.03*h.totalStr()+h.inventory.getHealthRegen()+h.ability().getHealthRegen()+d.getHealthRegen(h.selectedTalents())+h.buffs.getHealthRegen()+e.value).toFixed(2)}),h.mana=a.pureComputed(function(){return(h.heroData().statusmana+12*h.totalInt()+h.inventory.getMana()+d.getMana(h.selectedTalents())+h.ability().getMana()).toFixed(2)}),h.manaregen=a.pureComputed(function(){return((h.heroData().statusmanaregen+.04*h.totalInt()+h.ability().getManaRegen()+d.getManaRegen(h.selectedTalents()))*(1+h.inventory.getManaRegenPercent())+("crystal_maiden"===h.heroId()?2*h.ability().getManaRegenArcaneAura():h.buffs.getManaRegenArcaneAura())+h.inventory.getManaRegenBloodstone()+h.inventory.getManaRegen()-h.enemy().ability().getManaRegenReduction()).toFixed(2)}),h.totalArmorPhysical=a.pureComputed(function(){var e=[h.inventory.getArmorAura,h.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var i=t(e.attributes);return i},{value:0,attributes:[]}),t=[h.enemy().inventory.getArmorReduction,h.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return(h.enemy().ability().getArmorBaseReduction()*h.debuffs.getArmorBaseReduction()*(h.heroData().armorphysical+.14*h.totalAgi())+h.inventory.getArmor()+h.ability().getArmor()+d.getArmor(h.selectedTalents())+h.enemy().ability().getArmorReduction()+h.buffs.getArmor()+h.buffs.itemBuffs.getArmor()+h.debuffs.getArmorReduction()+e.value+t.value).toFixed(2)}),h.totalArmorPhysicalReduction=a.pureComputed(function(){var e=h.totalArmorPhysical();return e>=0?(.06*h.totalArmorPhysical()/(1+.06*h.totalArmorPhysical())*100).toFixed(2):-(.06*-h.totalArmorPhysical()/(1+.06*-h.totalArmorPhysical())*100).toFixed(2)}),h.spellAmp=a.pureComputed(function(){return(h.totalInt()/16+h.inventory.getSpellAmp()+h.ability().getSpellAmp()+d.getSpellAmp(h.selectedTalents())+h.buffs.getSpellAmp()).toFixed(2)}),h.cooldownReductionFlat=a.pureComputed(function(){return h.inventory.getCooldownReductionFlat()+h.ability().getCooldownReductionFlat()+d.getCooldownReductionFlat(h.selectedTalents())+h.buffs.getCooldownReductionFlat()-h.enemy().inventory.getCooldownIncreaseFlat()-h.enemy().ability().getCooldownIncreaseFlat()-h.debuffs.getCooldownIncreaseFlat()-h.debuffs.itemBuffs.getCooldownIncreaseFlat()}),h.cooldownReductionProduct=a.pureComputed(function(){return h.inventory.getCooldownReductionPercent().value*h.ability().getCooldownReductionPercent()*d.getCooldownReductionPercent(h.selectedTalents())*h.buffs.getCooldownReductionPercent()*h.enemy().inventory.getCooldownIncreasePercent()*h.enemy().ability().getCooldownIncreasePercent()*h.debuffs.getCooldownIncreasePercent()*h.debuffs.itemBuffs.getCooldownIncreasePercent()}),h.cooldownReductionPercent=a.pureComputed(function(){return(100*(1-h.cooldownReductionProduct())).toFixed(2)}),h.totalMovementSpeed=a.pureComputed(function(){var e=100,t=h.ability().setMovementSpeed()>0?h.ability().setMovementSpeed():h.buffs.setMovementSpeed();if(t>0)return t;var i=[h.inventory.getMovementSpeedPercent,h.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),a=[h.enemy().inventory.getMovementSpeedPercentReduction,h.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return Math.max(h.enemy().inventory.isSheeped()||h.debuffs.itemBuffs.isSheeped()?140:(h.heroData().movementspeed+h.inventory.getMovementSpeedFlat()+h.ability().getMovementSpeedFlat()+d.getMovementSpeedFlat(h.selectedTalents()))*(1+i.value+a.value+h.ability().getMovementSpeedPercent()+h.enemy().ability().getMovementSpeedPercentReduction()+h.buffs.getMovementSpeedPercent()+h.debuffs.getMovementSpeedPercentReduction()+h.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),h.totalTurnRate=a.pureComputed(function(){return(h.heroData().movementturnrate*(1+h.enemy().ability().getTurnRateReduction()+h.debuffs.getTurnRateReduction())).toFixed(2)}),h.baseDamage=a.pureComputed(function(){var e=h.totalAttribute(h.primaryAttribute()),t=h.ability().getBaseDamage(),i=h.heroData().attackdamagemin,a=h.heroData().attackdamagemax;return[Math.floor((i+e+t.total)*h.ability().getSelfBaseDamageReductionPct()*h.enemy().ability().getBaseDamageReductionPct()*h.debuffs.getBaseDamageReductionPct()*h.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier),Math.floor((a+e+t.total)*h.ability().getSelfBaseDamageReductionPct()*h.enemy().ability().getBaseDamageReductionPct()*h.debuffs.getBaseDamageReductionPct()*h.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier)]}),h.baseDamageAvg=a.pureComputed(function(){return(h.baseDamage()[0]+h.baseDamage()[1])/2}),h.baseDamageMin=a.pureComputed(function(){return h.baseDamage()[0]}),h.baseDamageMax=a.pureComputed(function(){return h.baseDamage()[1]}),h.bonusDamage=a.pureComputed(function(){return(h.inventory.getBonusDamage().total+h.ability().getBonusDamage().total+d.getBonusDamage(h.selectedTalents()).total+h.buffs.getBonusDamage().total+Math.floor((h.baseDamage()[0]+h.baseDamage()[1])/2*(h.buffs.itemBuffs.getBonusDamagePercent(h.inventory.getBonusDamagePercent()).total+h.ability().getBonusDamagePercent().total+h.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==h.heroData().attacktype?"drow_ranger"==h.heroId()?h.ability().getBonusDamagePrecisionAura().total[0]*h.totalAgi():h.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==h.heroId()?h.ability().getBonusDamageBackstab().total[0]*h.totalAgi():0))*h.ability().getSelfBaseDamageReductionPct()*h.enemy().ability().getBaseDamageReductionPct()*h.debuffs.itemBuffs.getBaseDamageReductionPct()}),h.bonusDamageReduction=a.pureComputed(function(){return Math.abs(h.enemy().ability().getBonusDamageReduction()+h.debuffs.getBonusDamageReduction())}),h.damageAvg=a.pureComputed(function(){return(h.baseDamage()[0]+h.baseDamage()[1])/2+h.bonusDamage()}),h.damageMin=a.pureComputed(function(){return h.baseDamage()[0]+h.bonusDamage()}),h.damageMax=a.pureComputed(function(){return h.baseDamage()[1]+h.bonusDamage()}),h.damage=a.pureComputed(function(){return[h.baseDamage()[0]+h.bonusDamage(),h.baseDamage()[1]+h.bonusDamage()]}),h.totalMagicResistanceProduct=a.pureComputed(function(){return(1-h.heroData().magicalresistance/100)*h.inventory.getMagicResist()*h.ability().getMagicResist()*d.getMagicResist(h.selectedTalents())*h.buffs.getMagicResist()*h.inventory.getMagicResistReductionSelf()*h.enemy().inventory.getMagicResistReduction()*h.enemy().ability().getMagicResistReduction()*h.debuffs.getMagicResistReduction()*h.debuffs.itemBuffs.getMagicResistReduction()}),h.totalMagicResistance=a.pureComputed(function(){return(100*(1-h.totalMagicResistanceProduct())).toFixed(2)}),h.bat=a.pureComputed(function(){var e=h.ability().getBAT();return e>0?e:h.heroData().attackrate}),h.ias=a.pureComputed(function(){var e=[h.inventory.getAttackSpeed,h.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),t=[h.enemy().inventory.getAttackSpeedReduction,h.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),i=parseFloat(h.totalAgi())+e.value+t.value+h.ability().getAttackSpeed()+d.getAttackSpeed(h.selectedTalents())+h.enemy().ability().getAttackSpeedReduction()+h.buffs.getAttackSpeed()+h.debuffs.getAttackSpeedReduction()+h.unit().ability().getAttackSpeed();return i<-80?-80:i>500?500:i.toFixed(2)}),h.attackTime=a.pureComputed(function(){return(h.bat()/(1+h.ias()/100)).toFixed(2)}),h.attacksPerSecond=a.pureComputed(function(){return((1+h.ias()/100)/h.bat()).toFixed(2)}),h.evasion=a.pureComputed(function(){if(h.enemy().inventory.isSheeped()||h.debuffs.itemBuffs.isSheeped())return 0;var e=h.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-h.inventory.getEvasion()*h.ability().getEvasion()*h.ability().getEvasionBacktrack()*d.getEvasion(h.selectedTalents())*h.buffs.itemBuffs.getEvasion())).toFixed(2)}),h.ehpPhysical=a.pureComputed(function(){var e=h.enemy().inventory.isSheeped()||h.debuffs.itemBuffs.isSheeped()?1:h.inventory.getEvasion()*h.ability().getEvasion()*h.buffs.itemBuffs.getEvasion();if(h.totalArmorPhysical()>=0)var t=h.health()*(1+.06*h.totalArmorPhysical());else var t=h.health()*(1-.06*h.totalArmorPhysical())/(1-.12*h.totalArmorPhysical());return t/=1-(1-e*h.ability().getEvasionBacktrack()),t/=1-parseFloat(h.enemy().missChance())/100,t*=h.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,t*=1/h.ability().getDamageReduction(),t*=1/h.buffs.getDamageReduction(),t*=1/h.enemy().ability().getDamageAmplification(),t*=1/h.debuffs.getDamageAmplification(),t.toFixed(2)}),h.ehpMagical=a.pureComputed(function(){var e=h.health()/h.totalMagicResistanceProduct();return e*=h.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/h.ability().getDamageReduction(),e*=1/h.buffs.getDamageReduction(),e*=1/h.ability().getEvasionBacktrack(),e*=1/h.enemy().ability().getDamageAmplification(),e*=1/h.debuffs.getDamageAmplification(),e.toFixed(2)}),h.bash=a.pureComputed(function(){var e=h.heroData().attacktype;return(100*(1-h.inventory.getBash(e)*h.ability().getBash())).toFixed(2)}),h.critChance=a.pureComputed(function(){return(100*(1-h.inventory.getCritChance()*h.ability().getCritChance())).toFixed(2)}),l(h,t),h.missChance=a.pureComputed(function(){var e=[h.enemy().inventory.getMissChance,h.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var i=t(e.excludeList);return i.value*=e.value,i},{value:1,excludeList:[]});return(100*(1-h.enemy().ability().getMissChance()*h.debuffs.getMissChance()*e.value)).toFixed(2)}),h.totalattackrange=a.pureComputed(function(){var e=h.heroData().attacktype;return h.heroData().attackrange+h.ability().getAttackRange()+d.getAttackRange(h.selectedTalents())+h.inventory.getAttackRange(e).value}),h.visionrangeday=a.pureComputed(function(){return h.heroData().visiondaytimerange*(1+h.enemy().ability().getVisionRangePctReduction()+h.debuffs.getVisionRangePctReduction())}),h.visionrangenight=a.pureComputed(function(){return(h.heroData().visionnighttimerange+h.inventory.getVisionRangeNight()+h.ability().getVisionRangeNight())*(1+h.enemy().ability().getVisionRangePctReduction()+h.debuffs.getVisionRangePctReduction())}),h.lifesteal=a.pureComputed(function(){var e=h.inventory.getLifesteal()+h.ability().getLifesteal()+d.getLifesteal(h.selectedTalents())+h.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==h.heroData().attacktype){var t=[h.inventory.getLifestealAura,h.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});e+=t.value}return e.toFixed(2)}),h.diffProperties=r,h.diff={};for(var p=0;p<h.diffProperties.length;p++){var m=p;h.diff[h.diffProperties[m]]=h.getDiffFunction(h.diffProperties[m])}};h.prototype.getDiffFunction=function(e){var t=this;return a.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})},h.prototype.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype?1:"invoker_quas"===e.name||"invoker_wex"===e.name||"invoker_exort"===e.name?7:"invoker_invoke"===e.name?1:"earth_spirit_stone_caller"===e.name||"ogre_magi_unrefined_fireblast"===e.name||"monkey_king_mischief"===e.name?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype||"keeper_of_the_light_recall"===e.name||"keeper_of_the_light_blinding_light"===e.name||"ember_spirit_activate_fire_remnant"===e.name||"lone_druid_true_form_battle_cry"===e.name?3:"puck_ethereal_jaunt"===e.name||"shadow_demon_shadow_poison_release"===e.name||"templar_assassin_trap"===e.name||"spectre_reality"===e.name?0:"invoker_cold_snap"===e.name||"invoker_ghost_walk"===e.name||"invoker_tornado"===e.name||"invoker_emp"===e.name||"invoker_alacrity"===e.name||"invoker_chaos_meteor"===e.name||"invoker_sun_strike"===e.name||"invoker_forge_spirit"===e.name||"invoker_ice_wall"===e.name||"invoker_deafening_blast"===e.name?0:"techies_minefield_sign"===e.name||"techies_focused_detonate"===e.name?0:4},h.prototype.toggleTalent=function(e,t){this.talents[e]()===t?this.talents[e](-1):(this.availableSkillPoints()>0||this.talents[e]()==1-t)&&parseInt(this.selectedHeroLevel())>=5*e+10&&this.talents[e](t)},t.exports=h},{"../AbilityModel":2,"../BuffViewModel":3,"../herocalc_knockout":23,"../inventory/InventoryViewModel":28,"./HeroDamageMixin":11,"./TalentController":15,"./diffProperties":18,"./nextLevelExp":20,"./totalExp":21}],13:[function(e,t,i){var a=function(e,t,i){this.heroName=e,this.heroDisplayName=t,this.hero=i};t.exports=a},{}],14:[function(e,t,i){"use strict";var a=e("./HeroModel"),n=e("../illusion/illusionData"),s=e("../util/findWhere"),o=function(e,t,i,o,r){var l=this;return a.call(this,e,t,i),l.illusionAbilityLevel=ko.observable(r),l.parent=o,l.totalAgi=ko.computed(function(){return(l.heroData().attributebaseagility+l.heroData().attributeagilitygain*(l.selectedHeroLevel()-1)+l.inventory.getAttributes("agi")+2*l.ability().getAttributeBonusLevel()+l.ability().getAgility()+l.enemy().ability().getAllStatsReduction()+l.debuffs.getAllStatsReduction()).toFixed(2)}),l.intStolen=ko.observable(0).extend({numeric:0}),l.totalInt=ko.computed(function(){return(l.heroData().attributebaseintelligence+l.heroData().attributeintelligencegain*(l.selectedHeroLevel()-1)+l.inventory.getAttributes("int")+2*l.ability().getAttributeBonusLevel()+l.ability().getIntelligence()+l.enemy().ability().getAllStatsReduction()+l.debuffs.getAllStatsReduction()+l.intStolen()).toFixed(2)}),l.totalStr=ko.computed(function(){return(l.heroData().attributebasestrength+l.heroData().attributestrengthgain*(l.selectedHeroLevel()-1)+l.inventory.getAttributes("str")+2*l.ability().getAttributeBonusLevel()+l.ability().getStrength()+l.enemy().ability().getAllStatsReduction()+l.debuffs.getAllStatsReduction()).toFixed(2)}),l.getAbilityAttributeValue=function(i,a,n,o){if("item_manta"==a)var r=t[a];else var r=s(e["npc_dota_hero_"+i].abilities,{name:a});var l=s(r.attributes,{name:n});return 0==o?parseFloat(l.value[0]):o>l.length?parseFloat(l.value[0]):parseFloat(l.value[o-1])},l.getIncomingDamageMultiplier=function(e,t,i){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+l.getAbilityAttributeValue(n[l.illusionType()].hero,l.illusionType(),n[e].incoming_damage_melee,l.illusionAbilityLevel())/100:1+l.getAbilityAttributeValue(n[l.illusionType()].hero,l.illusionType(),n[e].incoming_damage_ranged,l.illusionAbilityLevel())/100:1+l.getAbilityAttributeValue(n[l.illusionType()].hero,l.illusionType(),n[e].incoming_damage,l.illusionAbilityLevel())/100},l.getOutgoingDamageMultiplier=function(e,t,i){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+l.getAbilityAttributeValue(n[l.illusionType()].hero,l.illusionType(),n[e].outgoing_damage_melee,l.illusionAbilityLevel())/100:1+l.getAbilityAttributeValue(n[l.illusionType()].hero,l.illusionType(),n[e].outgoing_damage_ranged,l.illusionAbilityLevel())/100:1+l.getAbilityAttributeValue(n[l.illusionType()].hero,l.illusionType(),n[e].outgoing_damage,l.illusionAbilityLevel())/100},l.baseDamage=ko.computed(function(){return[Math.floor(e["npc_dota_hero_"+l.heroId()].attackdamagemin+l.totalAttribute(l.primaryAttribute())+l.ability().getBaseDamage().total)*l.getOutgoingDamageMultiplier(l.illusionType(),!1,l.heroData().attacktype),Math.floor(e["npc_dota_hero_"+l.heroId()].attackdamagemax+l.totalAttribute(l.primaryAttribute())+l.ability().getBaseDamage().total)*l.getOutgoingDamageMultiplier(l.illusionType(),!1,l.heroData().attacktype)]}),l.damage=ko.computed(function(){return[l.baseDamage()[0],l.baseDamage()[1]]}),l.ehpPhysical=ko.computed(function(){var e=l.health()*(1+.06*l.totalArmorPhysical())/(1-(1-l.inventory.getEvasion()*l.ability().getEvasion()));return e*=l.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/l.getIncomingDamageMultiplier(l.illusionType(),!1,l.heroData().attacktype),e.toFixed(2)}),l.ehpMagical=ko.computed(function(){var e=l.health()/l.totalMagicResistanceProduct();return e*=1/l.getIncomingDamageMultiplier(l.illusionType(),!1,l.heroData().attacktype),e.toFixed(2)}),l.totalArmorPhysical=ko.computed(function(){return(l.enemy().ability().getArmorBaseReduction()*l.debuffs.getArmorBaseReduction()*(e["npc_dota_hero_"+l.heroId()].armorphysical+.14*l.totalAgi())+l.ability().getArmor()+l.enemy().ability().getArmorReduction()+l.buffs.getArmor()+l.debuffs.getArmorReduction()).toFixed(2)}),l.ias=ko.computed(function(){var e=parseFloat(l.totalAgi())+l.ability().getAttackSpeed()+l.enemy().ability().getAttackSpeedReduction()+l.buffs.getAttackSpeed()+l.debuffs.getAttackSpeedReduction()+l.unit().ability().getAttackSpeed();return e<-80?-80:e>400?400:e.toFixed(2)}),l};o.prototype=Object.create(a.prototype),o.prototype.constructor=o,t.exports=o},{"../illusion/illusionData":25,"../util/findWhere":39,"./HeroModel":12}],15:[function(e,t,i){t.exports={getBonusDamage:function(e){for(var t=0,i={},a=0;a<e.length;a++){var n=e[a];n.name.startsWith("special_bonus_attack_damage_")&&(t+=n.attributes[0].value[0],i[n.name]={damage:n.attributes[0].value[0],damageType:"physical",displayname:n.displayname})}return{sources:i,total:t}},getHealth:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_hp_")&&!a.name.startsWith("special_bonus_hp_regen_")&&(t+=a.attributes[0].value[0])}return t},getHealthRegen:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_hp_regen_")&&(t+=a.attributes[0].value[0])}return t},getMana:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_mp_")&&!a.name.startsWith("special_bonus_mp_regen_")&&(t+=a.attributes[0].value[0])}return t},getManaRegen:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_mp_regen_")&&(t+=a.attributes[0].value[0])}return t},getArmor:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_armor_")&&(t+=a.attributes[0].value[0])}return t},getSpellAmp:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_spell_amplify_")&&(t+=a.attributes[0].value[0])}return t},getCooldownReductionFlat:function(e){var t=0;return t},getCooldownReductionPercent:function(e){for(var t=1,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_cooldown_reduction_")&&(t*=1-a.attributes[0].value[0]/100)}return t},getCooldownIncreaseFlat:function(e){var t=0;return t},getCooldownIncreasePercent:function(e){
var t=1;return t},getMovementSpeedFlat:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_movement_speed_")&&(t+=a.attributes[0].value[0])}return t},getAttackRange:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_attack_range_")&&(t+=a.attributes[0].value[0])}return t},getAttackSpeed:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_attack_speed_")&&(t+=a.attributes[0].value[0])}return t},getLifesteal:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_lifesteal_")&&(t+=a.attributes[0].value[0])}return t},getEvasion:function(e){for(var t=1,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_evasion_")&&(t*=1-a.attributes[0].value[0]/100)}return t},getMagicResist:function(e){for(var t=1,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_magic_resistance_")&&(t*=1-a.attributes[0].value[0]/100)}return t},getRespawnReduction:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_respawn_reduction_")&&(t+=a.attributes[0].value[0])}return t},getStrength:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_strength_")?t+=a.attributes[0].value[0]:a.name.startsWith("special_bonus_all_stats_")&&(t+=a.attributes[0].value[0])}return t},getAgility:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_agility_")?t+=a.attributes[0].value[0]:a.name.startsWith("special_bonus_all_stats_")&&(t+=a.attributes[0].value[0])}return t},getIntelligence:function(e){for(var t=0,i=0;i<e.length;i++){var a=e[i];a.name.startsWith("special_bonus_intelligence_")?t+=a.attributes[0].value[0]:a.name.startsWith("special_bonus_all_stats_")&&(t+=a.attributes[0].value[0])}return t}}},{}],16:[function(e,t,i){"use strict";var a=e("../herocalc_knockout"),n=e("../AbilityModel"),s=e("./HeroModel"),o=function(e,t,i,o,r){var l=this;return s.call(this,e,t,"abaddon"),l.parent=r,l.unitId=a.observable(o),l.unitLevel=a.observable(1),l.heroData=a.computed(function(){return i[l.unitId()]}),l.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==e.abilitytype?10:"necronomicon_archer_mana_burn"==e.name||"necronomicon_archer_aoe"==e.name||"necronomicon_warrior_mana_burn"==e.name||"necronomicon_warrior_last_will"==e.name?3:"necronomicon_warrior_sight"==e.name?1:4},l.availableSkillPoints.dispose(),l.ability=a.computed(function(){var e=new n(a.observableArray(JSON.parse(JSON.stringify(l.heroData().abilities))),l);switch(e.hasScepter=l.inventory.hasScepter,l.unitId()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":e.abilities()[0].level(1),e.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":e.abilities()[0].level(2),e.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":e.abilities()[0].level(3),e.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":e.abilities()[0].level(3),e.abilities()[1].level(3),e.abilities()[2].level(1)}return e.levelUpAbility=function(t,i,n,s){var o=a.utils.unwrapObservable(t);switch(e.abilities()[o].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[o].level()<s.getAbilityLevelMax(i)&&e.abilities()[o].level(e.abilities()[o].level()+1)}},e.levelDownAbility=function(t,i,n,s){var o=a.utils.unwrapObservable(t);switch(e.abilities()[o].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[o].level()>0&&e.abilities()[o].level(e.abilities()[o].level()-1)}},e}),l.primaryAttribute=a.computed(function(){var e=0;return"DOTA_ATTRIBUTE_AGILITY"==e?"agi":"DOTA_ATTRIBUTE_INTELLECT"==e?"int":"DOTA_ATTRIBUTE_STRENGTH"==e?"str":""}),l.totalAttribute=function(e){return"agi"==e?parseFloat(l.totalAgi()):"int"==e?parseFloat(l.totalInt()):"str"==e?parseFloat(l.totalStr()):0},l.totalAgi=a.computed(function(){return(i[l.unitId()].attributebaseagility+i[l.unitId()].attributeagilitygain*(l.selectedHeroLevel()-1)+2*l.ability().getAttributeBonusLevel()+l.ability().getAgility()+l.enemy().ability().getAllStatsReduction()+l.debuffs.getAllStatsReduction()).toFixed(2)}),l.totalInt=a.computed(function(){return(i[l.unitId()].attributebaseintelligence+i[l.unitId()].attributeintelligencegain*(l.selectedHeroLevel()-1)+2*l.ability().getAttributeBonusLevel()+l.ability().getIntelligence()+l.enemy().ability().getAllStatsReduction()+l.debuffs.getAllStatsReduction()).toFixed(2)}),l.totalStr=a.computed(function(){return(i[l.unitId()].attributebasestrength+i[l.unitId()].attributestrengthgain*(l.selectedHeroLevel()-1)+2*l.ability().getAttributeBonusLevel()+l.ability().getStrength()+l.enemy().ability().getAllStatsReduction()+l.debuffs.getAllStatsReduction()).toFixed(2)}),l.baseDamage=a.computed(function(){return[Math.floor(i[l.unitId()].attackdamagemin+l.totalAttribute(l.primaryAttribute())+l.ability().getBaseDamage().total),Math.floor(i[l.unitId()].attackdamagemax+l.totalAttribute(l.primaryAttribute())+l.ability().getBaseDamage().total)]}),l.totalMagicResistanceProduct=a.computed(function(){return(1-i[l.unitId()].magicalresistance/100)*(1-l.inventory.getMagicResist()/100)*(1-l.ability().getMagicResist()/100)*(1-l.buffs.getMagicResist()/100)*l.enemy().inventory.getMagicResistReduction()*l.enemy().ability().getMagicResistReduction()*l.debuffs.getMagicResistReduction()}),l.totalMagicResistance=a.computed(function(){return 1-l.totalMagicResistanceProduct()}),l.bat=a.computed(function(){var e=l.ability().getBAT();return e>0?e:i[l.unitId()].attackrate}),l.attackTime=a.computed(function(){return(l.bat()/(1+l.ias()/100)).toFixed(2)}),l.attacksPerSecond=a.computed(function(){return(1+l.ias()/100)/l.bat()}),l.evasion=a.computed(function(){var e=l.ability().setEvasion();return e?(100*e).toFixed(2)+"%":(100*(1-l.inventory.getEvasion()*l.ability().getEvasion())).toFixed(2)+"%"}),l.ehpPhysical=a.computed(function(){return(l.health()*(1+.06*l.totalArmorPhysical())/(1-(1-l.inventory.getEvasion()*l.ability().getEvasion()))).toFixed(2)}),l.ehpMagical=a.computed(function(){return(l.health()/l.totalMagicResistanceProduct()).toFixed(2)}),l.heroId(o),l.unitId.subscribe(function(e){l.heroId(e)}),l};o.prototype=Object.create(s.prototype),o.prototype.constructor=o,t.exports=o},{"../AbilityModel":2,"../herocalc_knockout":23,"./HeroModel":12}],17:[function(e,t,i){var a=function(e,t,i,a,n){this.heroName=ko.computed(function(){return i>0?e+(n()<=i?n():1):e}),this.heroDisplayName=t,this.image=a,this.levels=i};t.exports=a},{}],18:[function(e,t,i){var a=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","spellAmp","cooldownReductionPercent","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"];t.exports=a},{}],19:[function(e,t,i){var a=e("./HeroOption"),n={},s=function(e){n.items=[];for(var t in e)n.items.push(new a(t.replace("npc_dota_hero_",""),e[t].displayname));return n.items};n.init=s,t.exports=n},{"./HeroOption":13}],20:[function(e,t,i){var a=[200,300,400,500,600,615,630,645,660,675,775,1175,1200,1225,1250,1275,1375,1400,1425,1600,1900,2200,2500,2975,"&mdash;"];t.exports=a},{}],21:[function(e,t,i){var a=[0,200,500,900,1400,2e3,2615,3425,3890,4550,5225,6e3,7175,8375,9600,10850,12125,13500,14900,16325,17925,19825,22025,24525,27500];t.exports=a},{}],22:[function(e,t,i){var a={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return-t},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(e,t,i,a,n,s){return e*t/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(e,t,i,a,n,s){return t}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")+e*t}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,s){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return i.inventory.hasScepter()?e[0]*n.getAbilityAttributeValue(s.attributes,"fiend_grip_damage_scepter",s.level()):e[0]*t}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(e,t,i,a,n,s){return i.inventory.hasScepter()?e[0]*e[1]*n.getAbilityAttributeValue(s.attributes,"fiend_grip_mana_drain_scepter",s.level())/100:e[0]*e[1]*t/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")+e*t/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(e,t,i,a,n,s){return-e*t},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return-(n.getAbilityAttributeValue(s.attributes,"base_move_slow",0)+e*t)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"quill_base_damage",s.level())+e*t,r=n.getAbilityAttributeValue(s.attributes,"max_damage",0);return o>r&&(o=r),o}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var s=n.abilities().find(function(e){return"bristleback_bristleback"==e.name});if("back"==e)var o=n.getAbilityAttributeValue(s.attributes,"back_damage_reduction",s.level());else var o=n.getAbilityAttributeValue(s.attributes,"side_damage_reduction",s.level());return-o},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e<1?0:n.getAbilityAttributeValue(s.attributes,"base_damage",s.level())+(e-1)*t}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e<1?0:n.getAbilityAttributeValue(s.attributes,"base_move_speed",s.level())+(e-1)*t},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"return_damage",s.level())+e*t/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,s){return-t},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return-e*t},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){var o=.25*(130+40*s.level())*.05,r=4*e*(4*e+1)/2;return o*r}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return i.inventory.hasScepter()?e*n.getAbilityAttributeValue(s.attributes,"damage_scepter",s.level()):e*t}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(e,t,i,a,n,s){return e*t/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e?-t:0},returnProperty:"movementSpeedPctReduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(e,t,i,a,n,s){return e?t:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[0]*n.getAbilityAttributeValue(s.attributes,"damage_heroes",s.level())+e[1]*t},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[0]*n.getAbilityAttributeValue(s.attributes,"move_pct_heroes",s.level())+e[1]*t},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return-t},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"wisp_count",s.level())*e*t}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[0]*e[1]*t/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,i,a,n,s){return e?2*t:t},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],huskar_berserkers_blood:[{label:"%HP",controlType:"input"},{attributeName:"hp_threshold_max",label:"Health at given %HP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return i.health()*e/100}},{attributeName:"hp_threshold_max",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t}},{attributeName:"maximum_resistance",label:"MAGIC RESISTANCE BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var e=Math.min(e,100);e=Math.max(e,10);var o=n.getAbilityAttributeValue(s.attributes,"hp_threshold_max",0),r=100-o,l=(e-o)/r;return l=1-l,l*t},returnProperty:"magicResist"},{attributeName:"maximum_attack_speed",label:"ATTACK SPEED BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var e=Math.min(e,100);e=Math.max(e,10);var o=n.getAbilityAttributeValue(s.attributes,"hp_threshold_max",0),r=100-o,l=(e-o)/r;return l=1-l,l*t},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return 0==e?0:n.getAbilityAttributeValue(s.attributes,"enemy_slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,i,a,n,s){return 0==e?0:n.getAbilityAttributeValue(s.attributes,"self_slow",e)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return 0==e?0:n.getAbilityAttributeValue(s.attributes,"bonus_attack_speed",e)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return 0==e?0:n.getAbilityAttributeValue(s.attributes,"bonus_damage",e)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return 0==e?0:n.getAbilityAttributeValue(s.attributes,"slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(e,t,i,a,n,s){return 0==e[0]?0:n.getAbilityAttributeValue(s.attributes,"damage_per_second",e[0])*e[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return 2*n.getAbilityPropertyValue(s,"damage")+n.getAbilityAttributeValue(s.attributes,"burn_damage",s.level())*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[0]*e[1]*t/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"omni_slash_damage",1)*e}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"omni_slash_damage",2)*e}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[0]/100*e[1]*t/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"slow_steps",e+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){for(var o=[],r=1;r<6;r++)o.push((e*Math.pow(t/100,r)).toFixed(2));return o.join("<br>")}}],luna_eclipse:[{label:"Beam Count",controlType:"input"},{attributeName:"beams",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){var o=n.abilities().find(function(e){return"luna_lucent_beam"==e.name});if(0==o.level())return 0;var r=n.getAbilityPropertyValue(o,"damage");return e*r}}],medusa_mystic_snake:[{label:"Jump Count",controlType:"input"},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"method",display:"none",fn:function(e,t,i,a,n,s){for(var o=n.getAbilityAttributeValue(s.attributes,"snake_jumps",s.level()),r=n.getAbilityAttributeValue(s.attributes,"snake_scale",0),l=[],d=0;d<o;d++)l.push(t+t*d*r/100);return l}},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[1].join(" / ")}},{attributeName:"snake_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[1].slice(0,e[0]).reduce(function(e,t){return e+t},0)}},{attributeName:"snake_damage",label:"Max Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[1].reduce(function(e,t){return e+t},0)}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return(e/t).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return-t},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"slow",s.level())*e},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Arrow Travel Distance",controlType:"input"},{attributeName:"arrow_max_stun",label:"STUN DURATION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"arrow_min_stun",0),r=n.getAbilityAttributeValue(s.attributes,"arrow_max_stunrange",0),l=Math.min(e,r)/r;return Math.max(o,.1*Math.floor(t*l/.1))}},{attributeName:"arrow_bonus_damage",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var s=s,o=ko.utils.unwrapObservable(s.damage)[s.level()-1],r=n.getAbilityAttributeValue(s.attributes,"arrow_max_stunrange",0),l=Math.min(e,r)/r,d=2.8*Math.floor(t*l/2.8);
return o+" + "+d+" = "+(o+d)}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return-e*t},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t*n.getAbilityAttributeValue(s.attributes,"morph_cooldown",s.level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return-e*t},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t*n.getAbilityAttributeValue(s.attributes,"morph_cooldown",s.level())}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"aura_damage",label:"HEALTH LOST:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return e[0]*e[1]*t/100}}],necrolyte_sadist:[{label:"Unit Kills",controlType:"input"},{label:"Hero Kills",controlType:"input"},{attributeName:"health_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"hero_multiplier",0);return(e[0]+e[1]*o)*t},returnProperty:"healthregen"},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"hero_multiplier",0);return(e[0]+e[1]*o)*t},returnProperty:"manaregen"}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"miss_rate_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e?n.getAbilityAttributeValue(s.attributes,"miss_rate_night",s.level()):n.getAbilityAttributeValue(s.attributes,"miss_rate_day",s.level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e?t:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e?t:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"strike_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"duration_damage",s.level()),r=Math.floor(e/3);return t+o*r}}],razor_plasma_field:[{label:"Distance",controlType:"input"},{attributeName:"radius",label:"MIN DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return 200}},{attributeName:"radius",label:"MAX DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return 200+t}},{attributeName:"radius",label:"Instance Damage",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=t+200,r=(Math.min(Math.max(e,200),o)-200)/(o-200),l=n.getAbilityAttributeValue(s.attributes,"damage_min",s.level()),d=n.getAbilityAttributeValue(s.attributes,"damage_max",s.level());return l+(d-l)*r}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"drain_length",label:"Damage Drained:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=Math.floor(4*e)+1,r=Math.min(4*t+1,o),l=n.getAbilityAttributeValue(s.attributes,"drain_rate",s.level());return r*l/4},returnProperty:"bonusDamage"},{attributeName:"drain_length",label:"Enemy Damage Lost:",ignoreTooltip:!0,controlType:"text",display:"hidden",fn:function(e,t,i,a,n,s){var o=Math.floor(4*e)+1,r=Math.min(4*t+1,o),l=n.getAbilityAttributeValue(s.attributes,"drain_rate",s.level());return r*l/4},returnProperty:"bonusDamageReduction"}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t*(1-e*n.getAbilityAttributeValue(s.attributes,"jump_damage_reduction_pct",s.level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){var o=[1,2,4,8];return e>4?t*o[3]+50*(e-4):e<=0?0:t*o[e-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Line Hit Count",controlType:"input"},{attributeName:"requiem_reduction_damage",label:"Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}},{label:"Return Line Hit Count (Scepter)",controlType:"input"},{attributeName:"requiem_damage_pct_scepter",label:"Damage/Heal:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e*t/100}},{attributeName:"requiem_damage_pct_scepter",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){var o=n.getAbilityPropertyValue(s,"damage");return o*e[0]+o*e[1]*t/100}},{attributeName:"requiem_reduction_damage",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"baseDamageReductionPct"},{attributeName:"requiem_reduction_ms",label:"%DAMAGE REDUCTION:",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return Math.floor(e)*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return-e*t},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*i.health()*t/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return i.health()*t/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{attributeName:"shrapnel_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e?t:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(e,t,i,a,n,s){return-t},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100}}],storm_spirit_ball_lightning:[{label:"MAX MANA",controlType:"input"},{label:"Distance",controlType:"input"},{attributeName:"ball_lightning_initial_mana_base",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")/100*e[1]}},{attributeName:"ball_lightning_initial_mana_base",label:"FLAT MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,i,a,n,s){var o=Math.floor(e[1]/100),r=n.getAbilityAttributeValue(s.attributes,"ball_lightning_travel_cost_base",0);return t+o*r}},{attributeName:"ball_lightning_initial_mana_percentage",label:"%MAX MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(e,t,i,a,n,s){var o=Math.floor(e[1]/100),r=n.getAbilityAttributeValue(s.attributes,"ball_lightning_travel_cost_percent",0);return t+o*r}},{attributeName:"ball_lightning_initial_mana_base",label:"TOTAL MANA COST:",ignoreTooltip:!0,controlType:"text",controls:[0,1,2,3],fn:function(e,t,i,a,n,s){return e[2]+" + "+e[3]/100*e[0]+" ("+e[3]+"% of max) = "+(e[2]+e[3]/100*e[0])}}],templar_assassin_psionic_trap:[{label:"Charge Time",controlType:"input"},{attributeName:"movement_speed_min_tooltip",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"movement_speed_max_tooltip",0),r=(o-t)/40;return-(t+r*Math.min(Math.max(0,e),4)*10)},returnProperty:"movementSpeedPctReduction"}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"damage_interval",0),r=Math.floor(e/o);return t*o*r}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"damage_interval",0),r=Math.floor(e/o);return t*o*r}},{label:"ENEMY %HP",controlType:"input"},{attributeName:"slow",label:"MANA COST:",controlType:"text",fn:function(e,t,i,a,n,s){var o=20-Math.floor(Math.min(Math.max(e-1,0),99)/5);return-t*o},returnProperty:"movementSpeedPctReduction"}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t,i,a,n,s){return e?t:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e?t:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=i.enemy().totalArmorPhysicalReduction(),r=i.enemy().totalMagicResistance();return(e*t*(1-o/100)*(1-r/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=i.enemy().totalArmorPhysicalReduction(),r=i.enemy().totalMagicResistance();return(t*(1-o/100)*(1-r/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=i.enemy().totalArmorPhysicalReduction(),r=i.enemy().totalMagicResistance();return(t*(1-o/100)*(1-r/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return(i.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=i.enemy().totalMagicResistance();return(e*t*(1-o/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Robot Explosions",controlType:"input"},{attributeName:"machines_per_sec",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){if(i.inventory.hasScepter()){var o=n.getAbilityAttributeValue(s.attributes,"str_steal_scepter",0);return e*o}return e*t},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"max_speed_slow",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"min_speed_slow",0),r=n.getAbilityAttributeValue(s.attributes,"radius",0),l=n.getAbilityAttributeValue(s.attributes,"full_power_radius",0),d=Math.min(Math.max(e,l),r),c=1-(d-l)/(r-l);return-Math.max(c*t,o)},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"min_damage_amp",0),r=n.getAbilityAttributeValue(s.attributes,"radius",0),l=n.getAbilityAttributeValue(s.attributes,"full_power_radius",0),d=Math.min(Math.max(e,l),r),c=1-(d-l)/(r-l);return Math.max(c*t,o)},returnProperty:"damageAmplification"},{label:"MAX HP",controlType:"input"},{label:"Hero Death Count",controlType:"input"},{label:"Creep Death Count",controlType:"input"},{attributeName:"death_heal",label:"DEATH HEAL (HEROES):",ignoreTooltip:!0,controlType:"method",controls:[1,2],fn:function(e,t,i,a,n,s){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"DEATH HEAL (CREEPS):",ignoreTooltip:!0,controlType:"method",controls:[1,3],fn:function(e,t,i,a,n,s){return e[0]*e[1]*t/100}},{attributeName:"death_heal_creep",label:"TOTAL DEATH HEAL:",ignoreTooltip:!0,controlType:"text",controls:[4,5],fn:function(e,t,i,a,n,s){return e[0]+e[1]}}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){var o=n.abilities().find(function(e){return"ursa_enrage"==e.name});if(o.isActive()&&o.level()>0){var r=n.getAbilityAttributeValue(o.attributes,"enrage_multiplier",o.level());return e*t*r}return e*t},returnProperty:"bonusDamage"}],ursa_enrage:[{attributeName:"damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return-t},returnProperty:"damageReduction"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityAttributeValue(s.attributes,"strike_damage",s.level())+Math.floor(e/3)*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Charges",controlType:"input"},{attributeName:"soul_charge_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"soul_base_damage",0),r=n.getAbilityAttributeValue(s.attributes,"stack_limit",s.level());return r=Math.max(Math.min(e,r),0),o+r*t}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],warlock_upheaval:[{label:"Channel Duration",controlType:"input"},{attributeName:"slow_rate_duration",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"max_slow",0),r=o/(t-.5)/2,l=Math.max(Math.floor(2*e)-1,0);return-Math.min(l*r,o)},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n,s){return-e*t},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return n.getAbilityPropertyValue(s,"damage")*e}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"heal_additive",s.level());return(o+e[1]*t/100)*e[0]}}],wisp_spirits:[{label:"Collision Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"creep_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return t},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Hero Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"bounces",s.level());return Math.min(Math.max(e,0),o)*t}},{label:"Creep Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"CREEP DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"bounces",s.level()),r=n.getAbilityPropertyValue(s,"damage");return Math.min(Math.max(e,0),o)*r}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"heal_interval",s.level()),r=t*o,l=Math.max(Math.floor(e/o)-1,0);return r*l}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"heal_interval",s.level()),r=t*o,l=Math.max(Math.floor(e/o)-1,0);return r*l}}],witch_doctor_maledict:[{label:"damage 0-4s",controlType:"input"},{label:"damage 4-8s",controlType:"input"},{label:"damage 8-12s",controlType:"input"},{attributeName:"bonus_damage",label:"Dot Damage after 3s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,i,a,n,s){var o=n.getAbilityPropertyValue(s,"damage");return 3*o}},{attributeName:"bonus_damage",label:"Burst Damage at 4s:",ignoreTooltip:!0,controlType:"method",controls:[0,3],fn:function(e,t,i,a,n,s){var o=(n.getAbilityPropertyValue(s,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 7s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,i,a,n,s){var o=n.getAbilityPropertyValue(s,"damage");return 7*o}},{attributeName:"bonus_damage",label:"Burst Damage at 8s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,4,5],fn:function(e,t,i,a,n,s){var o=(n.getAbilityPropertyValue(s,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Dot Damage after 11s:",ignoreTooltip:!0,controlType:"method",fn:function(e,t,i,a,n,s){var o=n.getAbilityPropertyValue(s,"damage");return 11*o}},{attributeName:"bonus_damage",label:"Burst Damage at 12s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,2,4,6,7],fn:function(e,t,i,a,n,s){var o=(n.getAbilityPropertyValue(s,"damage"),e.reduce(function(e,t){return e+t},0));return Math.max(o,0)*t/100}},{attributeName:"bonus_damage",label:"Total Burst Damage:",ignoreTooltip:!0,controlType:"method",controls:[4,6,8],fn:function(e,t,i,a,n,s){return e.reduce(function(e,t){return e+t},0)}},{attributeName:"bonus_damage",label:"Total Maledict Damage:",ignoreTooltip:!0,controlType:"method",controls:[9],fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"duration_tooltip",0),r=n.getAbilityPropertyValue(s,"damage");return r*o+e[0]}},{label:"Duration",controlType:"input"},{attributeName:"bonus_damage",label:"DOT Damage",controlType:"text",fn:function(e,t,i,a,n,s){var o=n.getAbilityAttributeValue(s.attributes,"duration_tooltip",0);return n.getAbilityPropertyValue(s,"damage")*Math.min(Math.max(e,0),o)}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n,s){return e*t}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n,s){return e*t/100}}]};t.exports=a},{}],23:[function(e,t,i){(function(i){"use strict";var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null;a.mapping=e("../lib/knockout.mapping"),a.wrap=e("../lib/knockout.wrap"),a.extenders.numeric=function(e,t){var i=a.pureComputed({read:e,write:function(i){var a=e(),n=Math.pow(10,(t===Object(t)?t.precision:t)||0),s=isNaN(i)?t.defaultValue||0:+i,o=Math.round(s*n)/n;o!==a?e(o):i!==a&&e.notifySubscribers(o)}}).extend({notify:"always"});return i(e()),i},t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/knockout.mapping":47,"../lib/knockout.wrap":48}],24:[function(e,t,i){var a=function(e,t,i){this.illusionName=e,this.illusionDisplayName=t,this.baseHero=i};t.exports=a},{}],25:[function(e,t,i){var a={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{
hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}};t.exports=a},{}],26:[function(e,t,i){var a=e("./IllusionOption"),n=e("./illusionData"),s=[];for(var o in n)s.push(new a(o,n[o].displayName,n[o].hero));t.exports=s},{"./IllusionOption":24,"./illusionData":25}],27:[function(e,t,i){(function(i){var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,n=e("./stackableItems"),s=e("./levelItems"),o=e("./itemsWithActive"),r=function(e){var t=this;t.items=a.observableArray([]),t.activeItems=a.observableArray([]),t.addItem=function(e,t){if(void 0!=e.selectedItem()){var i={item:e.selectedItem().split("|")[0],state:a.observable(0),size:e.itemInputValue(),enabled:a.observable(!0)};switch(i.item){case"dagon":i.size=Math.min(i.size,5);break;case"travel_boots":case"diffusal_blade":i.size=Math.min(i.size,2);break;case"necronomicon":i.size=Math.min(i.size,3)}this.items.push(i),"ring_of_aquila"!==e.selectedItem()&&"ring_of_basilius"!==e.selectedItem()&&"heart"!==e.selectedItem()||this.toggleItem(void 0,i,void 0)}}.bind(this),t.toggleItem=function(e,t,i){if(o.indexOf(t.item)>=0)switch(this.activeItems.indexOf(t)<0?this.activeItems.push(t):this.activeItems.remove(t),t.item){case"power_treads":t.state()<2?t.state(t.state()+1):t.state(0);break;default:0==t.state()?t.state(1):t.state(0)}}.bind(this),t.removeItem=function(e){this.activeItems.remove(e),this.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.removeAll=function(){this.activeItems.removeAll(),this.items.removeAll()}.bind(this)};r.prototype.getItemImage=function(e){var t=a.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},r.prototype.getItemSizeLabel=function(e){return n.indexOf(e.item)!=-1?'<span style="font-size:10px">Qty: </span>'+e.size:s.indexOf(e.item)!=-1?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},r.prototype.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return a.utils.unwrapObservable(e.state)}},r.prototype.getItemAttributeValue=function(e,t,i){for(var a=0;a<e.length;a++)if(e[a].name==t)return 0==i?parseFloat(e[a].value[0]):i>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[i-1])},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./itemsWithActive":33,"./levelItems":34,"./stackableItems":35}],28:[function(e,t,i){"use strict";var a=e("../herocalc_knockout"),n=e("./stackableItems"),s=e("./levelItems"),o=e("./BasicInventoryViewModel"),r=e("./itemOptionsArray"),l=e("./itemBuffOptions"),d=e("./itemDebuffOptions"),c=function(e,t){var i=this;return o.call(this,t),i.hero=t,i.hasInventory=a.observable(!0),i.items=a.observableArray([]),i.activeItems=a.observableArray([]),i.hasScepter=a.computed(function(){for(var e=0;e<i.items().length;e++){var t=i.items()[e].item;if("ultimate_scepter"===t&&i.items()[e].enabled())return!0}return!1},this),i.isEthereal=a.computed(function(){for(var e=0;e<i.items().length;e++){var t=i.items()[e].item,a=i.activeItems.indexOf(i.items()[e])>=0;if(("ghost"===t||"ethereal_blade"===t)&&i.items()[e].enabled()&&a)return!0}return!1},this),i.isSheeped=a.computed(function(){for(var e=0;e<i.items().length;e++){var t=i.items()[e].item,a=i.activeItems.indexOf(i.items()[e])>=0;if("sheepstick"===t&&i.items()[e].enabled()&&a)return!0}return!1},this),i.totalCost=a.computed(function(){for(var t=0,a=0;a<i.items().length;a++){var o=i.items()[a].item;if(i.items()[a].enabled())if(n.indexOf(o)!=-1)t+=e["item_"+o].itemcost*i.items()[a].size;else if(s.indexOf(o)!=-1)switch(o){case"diffusal_blade":t+=e["item_"+o].itemcost+700*(i.items()[a].size-1);break;case"necronomicon":case"dagon":t+=e["item_"+o].itemcost+1250*(i.items()[a].size-1);break;default:t+=e["item_"+o].itemcost}else t+=e["item_"+o].itemcost}return t},this),i.addItemBuff=function(e,t){if(i.hasInventory()&&void 0!=i.selectedItemBuff()){var n={item:i.selectedItemBuff(),state:a.observable(0),size:1,enabled:a.observable(!0)};i.items.push(n),"ring_of_aquila"!==i.selectedItemBuff()&&"ring_of_basilius"!==i.selectedItemBuff()||i.toggleItem(void 0,n,void 0)}},i.addItemDebuff=function(e,t){if(i.hasInventory()&&void 0!=i.selectedItemDebuff()){var n={item:i.selectedItemDebuff().split("|")[0],state:a.observable(0),size:1,enabled:a.observable(!0)};2==i.selectedItemDebuff().split("|").length&&(n.debuff=i.selectedItemDebuff().split("|")[1]),i.items.push(n),"ring_of_aquila"!==i.selectedItemDebuff()&&"ring_of_basilius"!==i.selectedItemDebuff()||i.toggleItem(void 0,n,void 0)}},i.getAttributes=function(t){for(var a=0,n=0;n<i.items().length;n++){var s=i.items()[n].item,o=i.activeItems.indexOf(i.items()[n])>=0;if(i.items()[n].enabled())for(var r=i.items()[n].size,l=0;l<e["item_"+s].attributes.length;l++){var d=e["item_"+s].attributes[l];switch(d.name){case"bonus_all_stats":a+=parseInt(d.value[0]);break;case"bonus_stats":a+=parseInt(d.value[0])}switch(t){case"agi":"bonus_agility"==d.name&&(a+="diffusal_blade"==s?parseInt(d.value[r-1]):parseInt(d.value[0])),"bonus_stat"==d.name&&2==i.items()[n].state()&&(a+=parseInt(d.value[0])),"bonus_agi"==d.name&&(a+=parseInt(d.value[0]));break;case"int":"bonus_intellect"==d.name&&(a+="necronomicon"==s?parseInt(d.value[r-1]):"diffusal_blade"==s?parseInt(d.value[r-1]):"dagon"==s?parseInt(d.value[r-1]):parseInt(d.value[0])),"bonus_intelligence"==d.name&&(a+=parseInt(d.value[0])),"bonus_int"==d.name&&(a+=parseInt(d.value[0])),"bonus_stat"==d.name&&1==i.items()[n].state()&&(a+=parseInt(d.value[0]));break;case"str":"bonus_strength"==d.name&&(a+="necronomicon"==s?parseInt(d.value[r-1]):parseInt(d.value[0])),"bonus_stat"==d.name&&0==i.items()[n].state()&&(a+=parseInt(d.value[0])),"bonus_str"==d.name&&(a+=parseInt(d.value[0])),"unholy_bonus_strength"==d.name&&o&&(a+=parseInt(d.value[0]))}}}return a},i.getBash=function(t){for(var a=1,n=0;n<i.items().length;n++){var s=i.items()[n].item;if(i.items()[n].enabled())for(var o=0;o<e["item_"+s].attributes.length;o++){var r=e["item_"+s].attributes[o];switch(r.name){case"bash_chance":a*=1-parseInt(r.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==t&&(a*=1-parseInt(r.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&(a*=1-parseInt(r.value[0])/100)}}}return a},i.getCritChance=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"crit_chance":t*=1-parseInt(o.value[0])/100}}}return t},i.getCritSource=function(){for(var t={},a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled()){switch(n){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==t[n]?t[n]={chance:i.getItemAttributeValue(e["item_"+n].attributes,"crit_chance",0)/100,multiplier:i.getItemAttributeValue(e["item_"+n].attributes,"crit_multiplier",0)/100,count:1,displayname:e["item_"+n].displayname}:t[n].count+=1}"bloodthorn"===n&&s&&(void 0==t.soul_rend?t.soul_rend={chance:1,multiplier:i.getItemAttributeValue(e["item_"+n].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:t.soul_rend.count+=1)}}return t},i.getCleaveSource=function(){for(var t={},a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())switch(n){case"bfury":void 0==t[n]?t[n]={radius:i.getItemAttributeValue(e["item_"+n].attributes,"cleave_radius",0),magnitude:i.getItemAttributeValue(e["item_"+n].attributes,"cleave_damage_percent",0)/100,count:1,displayname:e["item_"+n].displayname}:t[n].count+=1}}return t},i.getBashSource=function(t){for(var a={},n=0;n<i.items().length;n++){var s=i.items()[n].item;i.activeItems.indexOf(i.items()[n])>=0;if(i.items()[n].enabled())switch(s){case"javelin":void 0==a[s]?a[s]={damage:i.getItemAttributeValue(e["item_"+s].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:i.getItemAttributeValue(e["item_"+s].attributes,"bonus_chance",1)/100,displayname:e["item_"+s].displayname+" Pierce"}:a[s].count+=1;break;case"monkey_king_bar":void 0==a[s]?a[s]={item:s,chance:i.getItemAttributeValue(e["item_"+s].attributes,"bash_chance",0)/100,damage:i.getItemAttributeValue(e["item_"+s].attributes,"bash_damage",0),duration:i.getItemAttributeValue(e["item_"+s].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:a[s].count+=1;break;case"abyssal_blade":case"basher":a.hasOwnProperty("bash")||(a.bash={item:s,chance:i.getItemAttributeValue(e["item_"+s].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==t?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:i.getItemAttributeValue(e["item_"+s].attributes,"bonus_chance_damage",0),duration:i.getItemAttributeValue(e["item_"+s].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return a},i.getOrbProcSource=function(){for(var t={},a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())switch(n){case"maelstrom":case"mjollnir":void 0==t[n]?t[n]={chance:i.getItemAttributeValue(e["item_"+n].attributes,"chain_chance",0)/100,damage:i.getItemAttributeValue(e["item_"+n].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:e["item_"+n].displayname}:t[n].count+=1}}return t},i.getOrbSource=function(){for(var t={},a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())switch(n){case"diffusal_blade":void 0==t[n]?t[n]={chance:1,damage:i.getItemAttributeValue(e["item_"+n].attributes,"feedback_mana_burn",i.items()[a].size),count:1,damageType:"physical",displayname:e["item_"+n].displayname}:t[n].count+=1}}return t},i.getHealth=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"bonus_health":t+=parseInt(o.value[0])}}}return t},i.getHealthRegen=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"health_regen":case"bonus_regen":t+=parseInt(r.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=n||s?"tranquil_boots"!=n&&(t+=parseInt(r.value[0])):t+=parseInt(r.value[0]);break;case"hp_regen":t+=parseInt(r.value[0]);break;case"health_regen_rate":"heart"==n&&s&&(t+=parseInt(r.value[0])/100*i.hero.health())}}}return t},i.getHealthRegenAura=function(t){for(var a=0,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item;i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var r=0;r<e["item_"+o].attributes.length;r++){var l=e["item_"+o].attributes[r];if(!(n.indexOf(o+l.name)>-1))switch(l.name){case"aura_health_regen":a+=parseInt(l.value[0]),n.push(o+l.name)}}}return{value:a,excludeList:n}},i.getMana=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"bonus_mana":t+=parseInt(o.value[0])}}}return t},i.getManaRegen=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"aura_mana_regen":case"mana_regen_aura":t+=parseFloat(o.value[0]);break;case"mana_regen":"infused_raindrop"==n&&(t+=parseFloat(o.value[0]))}}}return t},i.getManaRegenPercent=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=n&&(t+=parseFloat(o.value[0]))}}}return t/100},i.getManaRegenBloodstone=function(){for(var e=0;e<i.items().length;e++){var t=i.items()[e].item;if(i.items()[e].enabled()&&t.indexOf("bloodstone")!=-1)return parseInt(i.items()[e].size)}return 0},i.getArmor=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"bonus_armor":(!s||"medallion_of_courage"!=n&&"solar_crest"!=n)&&(t+=parseInt(r.value[0]));break;case"unholy_bonus_armor":s&&"armlet"==n&&(t+=parseInt(r.value[0]))}}}return t},i.getArmorAura=function(t){for(var a=0,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item,r=i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var d=e["item_"+o].attributes[l];if(!n.find(function(e){return d.name==e.name}))switch(d.name){case"bonus_aoe_armor":r&&n.push({name:d.name,value:parseInt(d.value[0])});break;case"aura_positive_armor":n.push({name:d.name,value:parseInt(d.value[0])});break;case"aura_bonus_armor":r&&n.push({name:d.name,value:parseInt(d.value[0])});break;case"armor_aura":n.push({name:d.name,value:parseInt(d.value[0])});break;case"heal_bonus_armor":r&&n.push({name:d.name,value:parseInt(d.value[0])})}}}return n.find(function(e){return"heal_bonus_armor"==e.name})&&(n=n.filter(function(e){return"bonus_aoe_armor"!==e.name})),n.find(function(e){return"armor_aura"==e.name})&&(n=n.filter(function(e){return"aura_bonus_armor"!==e.name})),a=n.reduce(function(e,t){return e+=t.value},0),{value:a,attributes:n}},i.getArmorReduction=function(t){for(var a=0,n=t||[],s=[],o=0;o<i.items().length;o++){var r=i.items()[o].item,l=i.activeItems.indexOf(i.items()[o])>=0;if(i.items()[o].enabled())for(var d=0;d<e["item_"+r].attributes.length;d++){var c=e["item_"+r].attributes[d];if(!(n.indexOf(c.name)>-1||n.indexOf(r+"_"+c.name)>-1||i.hero&&(s.indexOf(c.name)>-1||s.indexOf(r+"_"+c.name)>-1)))switch(c.name){case"armor_reduction":(l||"medallion_of_courage"!=r&&"solar_crest"!=r)&&(a+=parseInt(c.value[0]),n.push(r+"_"+c.name));break;case"aura_negative_armor":a+=parseInt(c.value[0]),n.push(c.name);break;case"corruption_armor":a+=parseInt(c.value[0]),n.push(r+"_"+c.name),s.push(c.name)}}}return{value:a,excludeList:n}},i.getEvasion=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"bonus_evasion":(!s||"butterfly"!=n&&"solar_crest"!=n)&&(t*=1-parseInt(r.value[0])/100)}}}return t},i.getMovementSpeedFlat=function(){for(var t=0,a=!1,n=!1,s=!1,o=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],r=0;r<i.items().length;r++){var l=i.items()[r].item,d=i.activeItems.indexOf(i.items()[r])>=0;if(i.items()[r].enabled())for(var c=0;c<e["item_"+l].attributes.length;c++){var u=e["item_"+l].attributes[c];switch(u.name){case"bonus_movement_speed":!a&&o.indexOf(l)>=0?("tranquil_boots"!=l||"tranquil_boots"==l&&!d)&&(t+=parseInt(u.value[0]),a=!0):"cyclone"==l&&(t+=parseInt(u.value[0]),n=!0);break;case"broken_movement_speed":!a&&o.indexOf(l)>=0&&"tranquil_boots"==l&&d&&(t+=parseInt(u.value[0]),a=!0);break;case"bonus_movement":!a&&o.indexOf(l)>=0&&(t+=parseInt(u.value[0]),a=!0);break;case"movement_speed":s||"wind_lace"!=l||(t+=parseInt(u.value[0]),s=!0)}}}return t},i.getMovementSpeedPercent=function(t){for(var a=0,n=t||[],s=!1,o=!1,r=!1,l=!1,d=!1,c=!1,u=!1,h=["manta","yasha","sange_and_yasha"],p=0;p<i.items().length;p++){var m=i.items()[p].item,b=i.activeItems.indexOf(i.items()[p])>=0;if(i.items()[p].enabled())for(var f=0;f<e["item_"+m].attributes.length;f++){var g=e["item_"+m].attributes[f];if(!(n.indexOf(g.name)>-1))switch(g.name){case"movement_speed_percent_bonus":!s&&h.indexOf(m)>=0&&(a+=parseInt(g.value[0]),s=!0);break;case"bonus_aura_movement_speed_pct":o||"ancient_janggo"!=m||(a+=parseInt(g.value[0]),o=!0,n.push(g.name));break;case"phase_movement_speed":b&&!l&&(a+=parseInt(g.value[0]),l=!0);break;case"bonus_movement_speed_pct":b&&!r&&"ancient_janggo"==m&&(a+=parseInt(g.value[0]),r=!0,n.push(g.name));break;case"windwalk_movement_speed":!b||d||"invis_sword"!=m&&"silver_edge"!=m||(a+=parseInt(g.value[0]),d=!0);break;case"berserk_bonus_movement_speed":b&&!u&&"mask_of_madness"==m&&(a+=parseInt(g.value[0]),u=!0);break;case"bonus_movement_speed":s||"manta"!=m?"smoke_of_deceit"==m&&b&&(a+=parseInt(g.value[0])):(a+=parseInt(g.value[0]),s=!0);break;case"bonus_move_speed":b&&!c&&"butterfly"==m&&(a+=parseInt(g.value[0]),c=!0)}}}return{value:a/100,excludeList:n}},i.getMovementSpeedPercentReduction=function(t){for(var a=0,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item,r=i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var d=e["item_"+o].attributes[l];if(!(n.indexOf(d.name)>-1))switch(d.name){case"movespeed":"dust"==o&&r&&(a+=parseInt(d.value[0]));case"blast_movement_speed":"shivas_guard"==o&&r&&(a+=parseInt(d.value[0]),n.push(d.name));case"cold_movement_speed":"skadi"==o&&(a+=parseInt(d.value[0]));break;case"maim_movement_speed":i.items()[s].debuff&&"maim"==i.items()[s].debuff&&(a+=parseInt(d.value[0]),n.push(d.name))}}}return{value:a/100,excludeList:n}},i.getBonusDamage=function(){for(var t=0,a={},n=0;n<i.items().length;n++){var s=i.items()[n].item,o=i.activeItems.indexOf(i.items()[n])>=0;if(i.items()[n].enabled())for(var r=0;r<e["item_"+s].attributes.length;r++){var l=e["item_"+s].attributes[r];switch(l.name){case"bonus_damage":t+=parseInt(l.value[0]),void 0==a[s]?a[s]={damage:parseInt(l.value[0]),damageType:"physical",count:1,displayname:e["item_"+s].displayname}:a[s].count+=1;break;case"unholy_bonus_damage":o&&(t+=parseInt(l.value[0]),void 0==a[s+"_active"]?a[s+"_active"]={damage:parseInt(l.value[0]),damageType:"physical",count:1,displayname:e["item_"+s].displayname+" Unholy Strength"}:a[s].count+=1)}}}return{sources:a,total:t}},i.getBonusDamagePercent=function(t){t=t||{sources:{},total:0};for(var a=t.total||0,n=t.sources||{},s=0;s<i.items().length;s++){var o=i.items()[s].item;i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var r=0;r<e["item_"+o].attributes.length;r++){var l=e["item_"+o].attributes[r];switch(l.name){case"damage_aura":void 0==n[o]&&(a+=parseInt(l.value[0])/100,n[o]={damage:parseInt(l.value[0])/100,damageType:"physical",count:1,displayname:e["item_"+o].displayname});break;case"bottle_doubledamage":void 0==n[o]&&(a+=parseInt(l.value[0])/100,n[o]={damage:parseInt(l.value[0])/100,damageType:"physical",count:1,displayname:e["item_"+o].displayname})}}}return{sources:n,total:a}},i.getAttackSpeed=function(t){for(var a=0,n=!1,s=t||[],o=0;o<i.items().length;o++){var r=i.items()[o].item,l=i.activeItems.indexOf(i.items()[o])>=0;if(i.items()[o].enabled())for(var d=0;d<e["item_"+r].attributes.length;d++){var c=e["item_"+r].attributes[d];if(!(s.indexOf(c.name)>-1))switch(c.name){case"bonus_attack_speed":"power_treads"==r?n||(a+=parseInt(c.value[0]),n=!0):"moon_shard"==r?l||(a+=parseInt(c.value[0])):"hurricane_pike"==r?l&&(a+=parseInt(c.value[0])):a+=parseInt(c.value[0]);break;case"consumed_bonus":"moon_shard"==r&&l&&(a+=parseInt(c.value[0]));break;case"bonus_speed":a+=parseInt(c.value[0]);break;case"aura_attack_speed":"shivas_guard"!=r&&(a+=parseInt(c.value[0]));break;case"bonus_aura_attack_speed_pct":a+=parseInt(c.value[0]),s.push(c.name);break;case"bonus_attack_speed_pct":l&&(a+=parseInt(c.value[0]),s.push(c.name));break;case"unholy_bonus_attack_speed":l&&(a+=parseInt(c.value[0]));break;case"berserk_bonus_attack_speed":l&&(a+=parseInt(c.value[0]))}}}return{value:a,excludeList:s}},i.getAttackSpeedReduction=function(t){for(var a=0,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item;i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var r=0;r<e["item_"+o].attributes.length;r++){var l=e["item_"+o].attributes[r];if(!(n.indexOf(l.name)>-1))switch(l.name){case"aura_attack_speed":"shivas_guard"==o&&(a+=parseInt(l.value[0]),n.push(l.name));break;case"cold_attack_speed":"skadi"==o&&(a+=parseInt(l.value[0]),n.push(l.name));break;case"maim_attack_speed":i.items()[s].debuff&&"maim"==i.items()[s].debuff&&(a+=parseInt(l.value[0]),n.push(l.name))}}}return{value:a,excludeList:n}},i.getLifesteal=function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"lifesteal_percent":if("satanic"!=n)return parseInt(r.value[0]);if(!s)return parseInt(r.value[0]);break;case"unholy_lifesteal_percent":if(s)return parseInt(r.value[0])}}}return t},i.getLifestealAura=function(t){for(var a=0,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item;i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var r=0;r<e["item_"+o].attributes.length;r++){var l=e["item_"+o].attributes[r];if(!(n.indexOf(l.name)>-1))switch(l.name){case"vampiric_aura":a+=parseInt(l.value[0]),n.push(l.name)}}}return{value:a,excludeList:n}},i.getSpellAmp=a.computed(function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"spell_amp":t+=parseInt(o.value[0])}}}return t}),i.getCooldownReductionFlat=a.computed(function(){var e=0;return e}),i.getCooldownReductionPercent=function(t){for(var a=1,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item;i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var r=0;r<e["item_"+o].attributes.length;r++){var l=e["item_"+o].attributes[r];if(!n.find(function(e){return l.name==e.name}))switch(l.name){case"bonus_cooldown":n.push({name:l.name,value:parseInt(l.value[0])})}}}return a=n.reduce(function(e,t){return e*=1-t.value/100},1),{value:a,attributes:n}},i.getCooldownIncreaseFlat=a.computed(function(){var e=0;return e}),i.getCooldownIncreasePercent=function(){var e=1;return e},i.getMagicResist=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"bonus_magical_armor":t*=1-parseInt(o.value[0])/100;break;case"bonus_spell_resist":t*=1-parseInt(o.value[0])/100;break;case"magic_resistance":t*=1-parseInt(o.value[0])/100}}}return t},i.getMagicResistReductionSelf=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled()&&s)for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(r.value[0])/100}}}return t},i.getMagicResistReduction=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled()&&s)for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"ethereal_damage_bonus":i.isEthereal()||(t*=1-parseInt(r.value[0])/100);case"resist_debuff":t*=1-parseInt(r.value[0])/100}}}return t},i.getVisionRangeNight=a.computed(function(){for(var t=0,a=0;a<i.items().length;a++){var n=i.items()[a].item,s=i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var o=0;o<e["item_"+n].attributes.length;o++){var r=e["item_"+n].attributes[o];switch(r.name){case"bonus_night_vision":"moon_shard"==n&&s||(t+=parseInt(r.value[0]))}}}return t}),i.getAttackRange=function(t,a){for(var n=0,s=a||[],o=0;o<i.items().length;o++){var r=i.items()[o].item;i.activeItems.indexOf(i.items()[o])>=0;if(i.items()[o].enabled())for(var l=0;l<e["item_"+r].attributes.length;l++){var d=e["item_"+r].attributes[l];if(!s.find(function(e){return d.name==e.name}))switch(d.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&s.push({name:d.name,value:parseInt(d.value[0])})}}}return n=s.reduce(function(e,t){return e+=t.value},0),{value:n,attributes:s}},i.getMissChance=function(t){for(var a=1,n=t||[],s=0;s<i.items().length;s++){var o=i.items()[s].item,r=i.activeItems.indexOf(i.items()[s])>=0;if(i.items()[s].enabled())for(var l=0;l<e["item_"+o].attributes.length;l++){var d=e["item_"+o].attributes[l];if(!(n.indexOf(d.name)>-1))switch(d.name){case"miss_chance":"solar_crest"===o&&r&&(a*=1-parseInt(d.value[0])/100,n.push(d.name));break;case"blind_pct":a*=1-parseInt(d.value[0])/100,n.push(d.name)}}}return{value:a,excludeList:n}},i.getBaseDamageReductionPct=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"backstab_reduction":i.items()[a].debuff&&"shadow_walk"==i.items()[a].debuff&&(t*=1+parseInt(o.value[0])/100)}}}return t},i.getBonusDamageReductionPct=function(){for(var t=1,a=0;a<i.items().length;a++){var n=i.items()[a].item;i.activeItems.indexOf(i.items()[a])>=0;if(i.items()[a].enabled())for(var s=0;s<e["item_"+n].attributes.length;s++){var o=e["item_"+n].attributes[s];switch(o.name){case"backstab_reduction":i.items()[a].debuff&&"shadow_walk"==i.items()[a].debuff&&(t*=1+parseInt(o.value[0])/100)}}}return t},i.itemOptions=a.observableArray(r.items),i.itemBuffOptions=a.observableArray(l.items),i.selectedItemBuff=a.observable("assault"),i.itemDebuffOptions=a.observableArray(d.items),i.selectedItemDebuff=a.observable("assault"),i};c.prototype=Object.create(o.prototype),c.prototype.constructor=c,t.exports=c},{"../herocalc_knockout":23,"./BasicInventoryViewModel":27,"./itemBuffOptions":30,"./itemDebuffOptions":31,"./itemOptionsArray":32,"./levelItems":34,"./stackableItems":35}],29:[function(e,t,i){(function(e){var i="undefined"!=typeof window?window.ko:"undefined"!=typeof e?e.ko:null,a=function(e,t,a,n){if(e["item_"+t].ItemAliases instanceof Array)var s=e["item_"+t].ItemAliases.join(" ");else var s=e["item_"+t].ItemAliases;this.value=i.observable(t),this.debuff=i.observable(n),this.debuff()?(this.value=i.observable(t+"|"+n.id),this.name=i.observable(a+" ("+n.name+")"),this.displayname=i.observable(a+" ("+n.name+') <span style="display:none">;'+s+"</span>")):(this.value=i.observable(t),this.name=i.observable(a),this.displayname=i.observable(a+' <span style="display:none">;'+s+"</span>"))};t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,i){var a=e("./ItemInput"),n=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest","bottle_doubledamage"],s={},o=function(e){return s.items=n.map(function(t){return new a(e,t,e["item_"+t].displayname)}).sort(function(e,t){return e.displayname()<t.displayname()?-1:e.displayname()>t.displayname()?1:0}),s.items};s.init=o,t.exports=s},{"./ItemInput":29}],31:[function(e,t,i){var a=e("./ItemInput"),n=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"blight_stone",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}],s={},o=function(e){return s.items=n.map(function(t){return new a(e,t.item,e["item_"+t.item].displayname,t.debuff)}).sort(function(e,t){return e.displayname()<t.displayname()?-1:e.displayname()>t.displayname()?1:0}),s.items};s.init=o,t.exports=s},{"./ItemInput":29}],32:[function(e,t,i){var a=e("./validItems"),n=e("./ItemInput"),s={},o=function(e){s.items=[];for(var t=0;t<a.length;t++)s.items.push(new n(e,a[t],e["item_"+a[t]].displayname));return s.items};s.init=o,t.exports=s},{"./ItemInput":29,"./validItems":36}],33:[function(e,t,i){t.exports=["solar_crest","heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn","hurricane_pike"]},{}],34:[function(e,t,i){t.exports=["necronomicon","dagon","diffusal_blade","travel_boots"]},{}],35:[function(e,t,i){t.exports=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"]},{}],36:[function(e,t,i){t.exports=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"];
},{}],37:[function(e,t,i){"use strict";var a={};a.InventoryViewModel=e("./inventory/InventoryViewModel"),a.AbilityModel=e("./AbilityModel"),a.BuffViewModel=e("./BuffViewModel"),a.HeroModel=e("./hero/HeroModel"),a.CloneModel=e("./hero/CloneModel"),a.UnitModel=e("./hero/UnitModel"),a.IllusionModel=e("./hero/IllusionModel"),a.Data=e("./data/main"),a.Util=e("./util/main"),a.init=function(t,i,n,s){a.Data.init(t,i,n,function(){a.HeroOptions=e("./hero/heroOptionsArray").init(a.Data.heroData),a.BuffOptions=e("./buffs/buffOptionsArray").init(a.Data.heroData,a.Data.unitData),a.DebuffOptions=e("./buffs/debuffOptionsArray").init(a.Data.heroData,a.Data.unitData),a.ItemOptions=e("./inventory/itemOptionsArray").init(a.Data.itemData),a.ItemBuffOptions=e("./inventory/itemBuffOptions").init(a.Data.itemData),a.ItemDebuffOptions=e("./inventory/itemDebuffOptions").init(a.Data.itemData),s()})},t.exports=a},{"./AbilityModel":2,"./BuffViewModel":3,"./buffs/buffOptionsArray":5,"./buffs/debuffOptionsArray":6,"./data/main":8,"./hero/CloneModel":9,"./hero/HeroModel":12,"./hero/IllusionModel":14,"./hero/UnitModel":16,"./hero/heroOptionsArray":19,"./inventory/InventoryViewModel":28,"./inventory/itemBuffOptions":30,"./inventory/itemDebuffOptions":31,"./inventory/itemOptionsArray":32,"./util/main":43}],38:[function(e,t,i){var a=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var i=arguments[t];if(i)for(var n in i)i.hasOwnProperty(n)&&("object"==typeof i[n]?e[n]=a(e[n],i[n]):e[n]=i[n])}return e};t.exports=a},{}],39:[function(e,t,i){var a=function(e,t){e:for(var i=0;i<e.length;i++){for(var a in t)if(e[i][a]!=t[a])continue e;return e[i]}};t.exports=a},{}],40:[function(e,t,i){"use strict";var a=function(e,t,i){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){if(a.status>=200&&a.status<400){var e=JSON.parse(a.responseText);t(e)}else i()},a.onerror=function(){i()},a.send()};t.exports=a},{}],41:[function(e,t,i){var a=function(e){return 0===Object.keys(e).length&&e.constructor===Object};t.exports=a},{}],42:[function(e,t,i){var a=function(e){return"string"==typeof e||e instanceof String};t.exports=a},{}],43:[function(e,t,i){"use strict";var a={};a.extend=e("./extend"),a.findWhere=e("./findWhere"),a.getJSON=e("./getJSON"),a.union=e("./union"),a.uniqueId=e("./uniqueId"),a.uniques=e("./uniques"),t.exports=a},{"./extend":38,"./findWhere":39,"./getJSON":40,"./union":44,"./uniqueId":45,"./uniques":46}],44:[function(e,t,i){"use strict";var a=e("./uniques"),n=function(e,t){var i=e.concat(t);return a(i)};t.exports=n},{"./uniques":46}],45:[function(e,t,i){"use strict";var a=0,n=function(e){var t=++a+"";return e?e+t:t};t.exports=n},{}],46:[function(e,t,i){"use strict";var a=function(e){for(var t=[],i=0,a=e.length;i<a;i++)t.indexOf(e[i])===-1&&""!==e[i]&&t.push(e[i]);return t};t.exports=a},{}],47:[function(t,i,a){(function(n){!function(s){"function"==typeof t&&"object"==typeof a&&"object"==typeof i?s("undefined"!=typeof window?window.ko:"undefined"!=typeof n?n.ko:null,a):"function"==typeof e&&e.amd?e(["knockout","exports"],s):s(ko,ko.mapping={})}(function(e,t){function i(e,t){for(var i={},a=e.length-1;a>=0;--a)i[e[a]]=e[a];for(var a=t.length-1;a>=0;--a)i[t[a]]=t[a];var n=[];for(var s in i)n.push(i[s]);return n}function a(e,n){var s;for(var o in n)if(n.hasOwnProperty(o)&&n[o])if(s=t.getType(e[o]),o&&e[o]&&"array"!==s&&"string"!==s)a(e[o],n[o]);else{var r="array"===t.getType(e[o])&&"array"===t.getType(n[o]);r?e[o]=i(e[o],n[o]):e[o]=n[o]}}function n(e,t){var i={};return a(i,e),a(i,t),i}function s(e,t){for(var i=n({},e),a=k.length-1;a>=0;a--){var s=k[a];i[s]&&(i[""]instanceof Object||(i[""]={}),i[""][s]=i[s],delete i[s])}return t&&(i.ignore=o(t.ignore,i.ignore),i.include=o(t.include,i.include),i.copy=o(t.copy,i.copy),i.observe=o(t.observe,i.observe)),i.ignore=o(i.ignore,D.ignore),i.include=o(i.include,D.include),i.copy=o(i.copy,D.copy),i.observe=o(i.observe,D.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function o(i,a){return"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),"array"!==t.getType(a)&&(a="undefined"===t.getType(a)?[]:[a]),e.utils.arrayGetDistinctValues(i.concat(a))}function r(t,i){var a=e.dependentObservable;e.dependentObservable=function(i,a,n){n=n||{},i&&"object"==typeof i&&(n=i);var s=n.deferEvaluation,o=!1,r=function(i){var a=e.dependentObservable;e.dependentObservable=x;var n=e.isWriteableObservable(i);e.dependentObservable=a;var s=x({read:function(){return o||(e.utils.arrayRemoveItem(t,i),o=!0),i.apply(i,arguments)},write:n&&function(e){return i(e)},deferEvaluation:!0});return y&&(s._wrapper=!0),s.__DO=i,s};n.deferEvaluation=!0;var l=new x(i,a,n);return s||(l=r(l),t.push(l)),l},e.dependentObservable.fn=x.fn,e.computed=e.dependentObservable;var n=i();return e.dependentObservable=a,e.computed=e.dependentObservable,n}function l(i,a,s,o,c,b,f){var g="array"===t.getType(e.utils.unwrapObservable(a));if(b=b||"",t.isMapped(i)){var y=e.utils.unwrapObservable(i)[w];s=n(y,s)}var x={data:a,parent:f||c},A=function(){return s[o]&&s[o].create instanceof Function},k=function(t){return r(v,function(){return e.utils.unwrapObservable(c)instanceof Array?s[o].create({data:t||x.data,parent:x.parent,skip:T}):s[o].create({data:t||x.data,parent:x.parent})})},I=function(){return s[o]&&s[o].update instanceof Function},D=function(t,i){var a={data:i||x.data,parent:x.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(a.observable=t),s[o].update(a)},S=_.get(a);if(S)return S;if(o=o||"",g){var P=[],C=!1,E=function(e){return e};s[o]&&s[o].key&&(E=s[o].key,C=!0),e.isObservable(i)||(i=e.observableArray([]),i.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return i.remove(function(e){return t(E(e))})},i.mappedRemoveAll=function(t){var a=h(t,E);return i.remove(function(t){return e.utils.arrayIndexOf(a,E(t))!=-1})},i.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===E(e)};return i.destroy(function(e){return t(E(e))})},i.mappedDestroyAll=function(t){var a=h(t,E);return i.destroy(function(t){return e.utils.arrayIndexOf(a,E(t))!=-1})},i.mappedIndexOf=function(t){var a=h(i(),E),n=E(t);return e.utils.arrayIndexOf(a,n)},i.mappedGet=function(e){return i()[i.mappedIndexOf(e)]},i.mappedCreate=function(t){if(i.mappedIndexOf(t)!==-1)throw new Error("There already is an object with the key that you specified.");var a=A()?k(t):t;if(I()){var n=D(a,t);e.isWriteableObservable(a)?a(n):a=n}return i.push(a),a});var O=h(e.utils.unwrapObservable(i),E).sort(),R=h(a,E);C&&R.sort();var B,L,M=e.utils.compareArrays(O,R),N={},$=e.utils.unwrapObservable(a),V={},H=!0;for(B=0,L=$.length;B<L;B++){var F=E($[B]);if(void 0===F||F instanceof Object){H=!1;break}V[F]=$[B]}var z=[],W=0;for(B=0,L=M.length;B<L;B++){var j,F=M[B],q=b+"["+B+"]";switch(F.status){case"added":var U=H?V[F.value]:u(e.utils.unwrapObservable(a),F.value,E);j=l(void 0,U,s,o,i,q,c),A()||(j=e.utils.unwrapObservable(j));var Y=d(e.utils.unwrapObservable(a),U,N);j===T?W++:z[Y-W]=j,N[Y]=!0;break;case"retained":var U=H?V[F.value]:u(e.utils.unwrapObservable(a),F.value,E);j=u(i,F.value,E),l(j,U,s,o,i,q,c);var Y=d(e.utils.unwrapObservable(a),U,N);z[Y]=j,N[Y]=!0;break;case"deleted":j=u(i,F.value,E)}P.push({event:F.status,item:j})}i(z),s[o]&&s[o].arrayChanged&&e.utils.arrayForEach(P,function(e){s[o].arrayChanged(e.event,e.item)})}else if(m(a)){if(i=e.utils.unwrapObservable(i),!i){if(A()){var G=k();return I()&&(G=D(G)),G}if(I())return D(G);i={}}if(I()&&(i=D(i)),_.save(a,i),I())return i;p(a,function(t){var n=b.length?b+"."+t:t;if(e.utils.arrayIndexOf(s.ignore,n)==-1){if(e.utils.arrayIndexOf(s.copy,n)!=-1)return void(i[t]=a[t]);if("object"!=typeof a[t]&&"array"!=typeof a[t]&&s.observe.length>0&&e.utils.arrayIndexOf(s.observe,n)==-1)return i[t]=a[t],void(s.copiedProperties[n]=!0);var o=_.get(a[t]),r=l(i[t],a[t],s,t,i,n,i),d=o||r;if(s.observe.length>0&&e.utils.arrayIndexOf(s.observe,n)==-1)return i[t]=d(),void(s.copiedProperties[n]=!0);e.isWriteableObservable(i[t])?(d=e.utils.unwrapObservable(d),i[t]()!==d&&i[t](d)):(d=void 0===i[t]?d:e.utils.unwrapObservable(d),i[t]=d),s.mappedProperties[n]=!0}})}else switch(t.getType(a)){case"function":I()?e.isWriteableObservable(a)?(a(D(a)),i=a):i=D(a):i=a;break;default:if(e.isWriteableObservable(i)){if(I()){var X=D(i);return i(X),X}var X=e.utils.unwrapObservable(a);return i(X),X}var J=A()||I();if(i=A()?k():e.observable(e.utils.unwrapObservable(a)),I()&&i(D(i)),J)return i}return i}function d(e,t,i){for(var a=0,n=e.length;a<n;a++)if(i[a]!==!0&&e[a]===t)return a;return null}function c(i,a){var n;return a&&(n=a(i)),"undefined"===t.getType(n)&&(n=i),e.utils.unwrapObservable(n)}function u(t,i,a){t=e.utils.unwrapObservable(t);for(var n=0,s=t.length;n<s;n++){var o=t[n];if(c(o,a)===i)return o}throw new Error("When calling ko.update*, the key '"+i+"' was not found!")}function h(t,i){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return i?c(e,i):e})}function p(e,i){if("array"===t.getType(e))for(var a=0;a<e.length;a++)i(a);else for(var n in e)i(n)}function m(e){var i=t.getType(e);return("object"===i||"array"===i)&&null!==e}function b(e,i,a){var n=e||"";return"array"===t.getType(i)?e&&(n+="["+a+"]"):(e&&(n+="."),n+=a),n}function f(){var t=[],i=[];this.save=function(a,n){var s=e.utils.arrayIndexOf(t,a);s>=0?i[s]=n:(t.push(a),i.push(n))},this.get=function(a){var n=e.utils.arrayIndexOf(t,a),s=n>=0?i[n]:void 0;return s}}function g(){var e={},t=function(t){var i;try{i=t}catch(e){i="$$$"}var a=e[i];return void 0===a&&(a=new f,e[i]=a),a};this.save=function(e,i){t(e).save(e,i)},this.get=function(e){return t(e).get(e)}}var v,_,y=!0,w="__ko_mapping__",x=e.dependentObservable,A=0,k=["create","update","key","arrayChanged"],T={},I={include:["_destroy"],ignore:[],copy:[],observe:[]},D=I;t.isMapped=function(t){var i=e.utils.unwrapObservable(t);return i&&i[w]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{A++||(v=[],_=new g);var t,i;2==arguments.length&&(arguments[1][w]?i=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],i=arguments[2]),i&&(t=n(t,i[w])),t=s(t);var a=l(i,e,t);if(i&&(a=i),!--A)for(;v.length;){var o=v.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return a[w]=n(a[w],t),a}catch(e){throw A=0,e}},t.fromJSON=function(i){var a=e.utils.parseJson(i);return arguments[0]=a,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(i,a){if(D||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(D.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(D.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(D.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return a=s(a,i[w]),t.visitModel(i,function(t){return e.utils.unwrapObservable(t)},a)},t.toJSON=function(i,a){var n=t.toJS(i,a);return e.utils.stringifyJson(n)},t.defaultOptions=function(){return arguments.length>0?void(D=arguments[0]):D},t.resetDefaultOptions=function(){D={include:I.include.slice(0),ignore:I.ignore.slice(0),copy:I.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(i,a,n){n=n||{},n.visitedObjects=n.visitedObjects||new g;var o,r=e.utils.unwrapObservable(i);if(!m(r))return a(i,n.parentName);n=s(n,r[w]),a(i,n.parentName),o="array"===t.getType(r)?[]:{},n.visitedObjects.save(i,o);var l=n.parentName;return p(r,function(i){if(!n.ignore||e.utils.arrayIndexOf(n.ignore,i)==-1){var s=r[i];if(n.parentName=b(l,r,i),e.utils.arrayIndexOf(n.copy,i)!==-1||e.utils.arrayIndexOf(n.include,i)!==-1||!r[w]||!r[w].mappedProperties||r[w].mappedProperties[i]||!r[w].copiedProperties||r[w].copiedProperties[i]||"array"===t.getType(r)){switch(t.getType(e.utils.unwrapObservable(s))){case"object":case"array":case"undefined":var d=n.visitedObjects.get(s);o[i]="undefined"!==t.getType(d)?d:t.visitModel(s,a,n);break;default:o[i]=a(s,n.parentName)}}}}),o}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,i,a){(function(n){!function(s){"function"==typeof t&&"object"==typeof a&&"object"==typeof i?s("undefined"!=typeof window?window.ko:"undefined"!=typeof n?n.ko:null,a):"function"==typeof e&&e.amd?e(["knockout","exports"],s):s(ko,ko.wrap={})}(function(e,t){function i(e){var t=typeof e;return"object"===t&&(e?e.constructor==Date?t="date":"[object Array]"==Object.prototype.toString.call(e)&&(t="array"):t="null"),t}function a(t){var i={};for(var a in t){var n=t[a];e.isComputed(n)||(i[a]=s(n))}return i}function n(e){var t=[];if(!e||0==e.length)return t;for(var i=0,a=e.length;i<a;++i)t.push(s(e[i]));return t}function s(t){var o=e.isObservable(t);if(o){var r=t();return s(r)}return"array"==i(t)?n(t):"object"==i(t)?a(t):t}function o(){h=[{obj:null,wrapped:null,lvl:""}]}function r(t,i){for(var a=0;a<h.length;++a)if(h[a].obj===t)return h[a].wrapped;var n={};for(var s in t){var o=t[s];h.push({obj:t,wrapped:n,lvl:d()+"/"+s}),n[s]=c(o,i),h.pop()}return i&&i[d()]&&(n=i[d()](n)),u()&&e.track(n),n}function l(t,i){var a=e.observableArray();if(!t||0==t.length)return a;for(var n=0,s=t.length;n<s;++n)a.push(c(t[n],i));return a}function d(){return h[h.length-1].lvl}function c(t,a){if("array"==i(t))return l(t,a);if("object"==i(t))return r(t,a);if(u()||"function"==typeof t)return t;var n=e.observable();return n(t),n}function u(){return null!=e.track}t.fromJS=function(e,t){return o(),c(e,t)},t.updateFromJS=function(t,i,a){return o(),t(e.utils.unwrapObservable(c(i,a)))},t.fromJSON=function(i,a){var n=e.utils.parseJson(i);return arguments[0]=n,t.fromJS.apply(this,a)},t.toJS=function(e){return s(e)},t.toJSON=function(i){var a=t.toJS(i);return e.utils.stringifyJson(a)};var h})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])}})})},{}],50:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}})})},{}],51:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}return e.ui.focusable=function(i,a){var n,s,o,r,l,d=i.nodeName.toLowerCase();return"area"===d?(n=i.parentNode,s=n.name,!(!i.href||!s||"map"!==n.nodeName.toLowerCase())&&(o=e("img[usemap='#"+s+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(d)?(r=!i.disabled,r&&(l=e(i).closest("fieldset")[0],l&&(r=!l.disabled))):r="a"===d?i.href||a:a,r&&e(i).is(":visible")&&t(e(i)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}}),e.ui.focusable})},{}],52:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})},{}],53:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},{}],54:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.ui.plugin={add:function(t,i,a){var n,s=e.ui[t].prototype;for(n in a)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([i,a[n]])},call:function(e,t,i,a){var n,s=e.plugins[t];if(s&&(a||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}}})},{}],55:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return function(){function t(e,t,i){return[parseFloat(e[0])*(u.test(e[0])?t/100:1),parseFloat(e[1])*(u.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function a(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var n,s=Math.max,o=Math.abs,r=/left|center|right/,l=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,a=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=a.children()[0];return e("body").append(a),t=s.offsetWidth,a.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=a[0].clientWidth),a.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),a=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===a||"auto"===a&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),a=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType,s=!a&&!n;return{element:i,isWindow:a,isDocument:n,offset:s?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return h.apply(this,arguments);n=e.extend({},n);var u,p,m,b,f,g,v=e(n.of),_=e.position.getWithinInfo(n.within),y=e.position.getScrollInfo(_),w=(n.collision||"flip").split(" "),x={};return g=a(v),v[0].preventDefault&&(n.at="left top"),p=g.width,m=g.height,b=g.offset,f=e.extend({},b),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),x[this]=[e?e[0]:0,t?t[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===n.at[0]?f.left+=p:"center"===n.at[0]&&(f.left+=p/2),"bottom"===n.at[1]?f.top+=m:"center"===n.at[1]&&(f.top+=m/2),u=t(x.at,p,m),f.left+=u[0],f.top+=u[1],this.each(function(){var a,r,l=e(this),d=l.outerWidth(),c=l.outerHeight(),h=i(this,"marginLeft"),g=i(this,"marginTop"),A=d+h+i(this,"marginRight")+y.width,k=c+g+i(this,"marginBottom")+y.height,T=e.extend({},f),I=t(x.my,l.outerWidth(),l.outerHeight());"right"===n.my[0]?T.left-=d:"center"===n.my[0]&&(T.left-=d/2),"bottom"===n.my[1]?T.top-=c:"center"===n.my[1]&&(T.top-=c/2),T.left+=I[0],T.top+=I[1],a={marginLeft:h,marginTop:g},e.each(["left","top"],function(t,i){e.ui.position[w[t]]&&e.ui.position[w[t]][i](T,{targetWidth:p,targetHeight:m,elemWidth:d,elemHeight:c,collisionPosition:a,collisionWidth:A,collisionHeight:k,offset:[u[0]+I[0],u[1]+I[1]],my:n.my,at:n.at,within:_,elem:l})}),n.using&&(r=function(e){var t=b.left-T.left,i=t+p-d,a=b.top-T.top,r=a+m-c,u={target:{element:v,left:b.left,top:b.top,width:p,height:m},element:{element:l,left:T.left,top:T.top,width:d,height:c},horizontal:i<0?"left":t>0?"right":"center",vertical:r<0?"top":a>0?"bottom":"middle"};p<d&&o(t+i)<p&&(u.horizontal="center"),m<c&&o(a+r)<m&&(u.vertical="middle"),s(o(t),o(i))>s(o(a),o(r))?u.important="horizontal":u.important="vertical",n.using.call(this,e,u)}),l.offset(e.extend(T,{using:r}))})},e.ui.position={fit:{left:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollLeft:a.offset.left,o=a.width,r=e.left-t.collisionPosition.marginLeft,l=n-r,d=r+t.collisionWidth-o-n;t.collisionWidth>o?l>0&&d<=0?(i=e.left+l+t.collisionWidth-o-n,e.left+=l-i):d>0&&l<=0?e.left=n:l>d?e.left=n+o-t.collisionWidth:e.left=n:l>0?e.left+=l:d>0?e.left-=d:e.left=s(e.left-r,e.left)},top:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollTop:a.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,l=n-r,d=r+t.collisionHeight-o-n;t.collisionHeight>o?l>0&&d<=0?(i=e.top+l+t.collisionHeight-o-n,e.top+=l-i):d>0&&l<=0?e.top=n:l>d?e.top=n+o-t.collisionHeight:e.top=n:l>0?e.top+=l:d>0?e.top-=d:e.top=s(e.top-r,e.top)}},flip:{left:function(e,t){var i,a,n=t.within,s=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-l,u=d+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];c<0?(i=e.left+h+p+m+t.collisionWidth-r-s,(i<0||i<o(c))&&(e.left+=h+p+m)):u>0&&(a=e.left-t.collisionPosition.marginLeft+h+p+m-l,(a>0||o(a)<u)&&(e.left+=h+p+m))},top:function(e,t){var i,a,n=t.within,s=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-l,u=d+t.collisionHeight-r-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,m="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,b=-2*t.offset[1];c<0?(a=e.top+p+m+b+t.collisionHeight-r-s,(a<0||a<o(c))&&(e.top+=p+m+b)):u>0&&(i=e.top-t.collisionPosition.marginTop+p+m+b-l,(i>0||o(i)<u)&&(e.top+=p+m+b))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position})},{}],56:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t}})},{}],57:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")}})},{}],58:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.fn.scrollParent=function(t){var i=this.css("position"),a="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return(!a||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)}})},{}],59:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version","./focusable"],t):t(jQuery)}(function(e){return e.extend(e.expr[":"],{tabbable:function(t){var i=e.attr(t,"tabindex"),a=null!=i;return(!a||i>=0)&&e.ui.focusable(t,a)}})})},{}],60:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){return e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}})})},{}],61:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery"],t):t(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},{}],62:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./version"],t):t(jQuery)}(function(e){var t=0,i=Array.prototype.slice;return e.cleanData=function(t){return function(i){var a,n,s;for(s=0;null!=(n=i[s]);s++)try{a=e._data(n,"events"),a&&a.remove&&e(n).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,a){var n,s,o,r={},l=t.split(".")[0];t=t.split(".")[1];var d=l+"-"+t;return a||(a=i,i=e.Widget),e.isArray(a)&&(a=e.extend.apply(null,[{}].concat(a))),e.expr[":"][d.toLowerCase()]=function(t){return!!e.data(t,d)},e[l]=e[l]||{},n=e[l][t],s=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,n,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),o=new i,o.options=e.widget.extend({},o.options),e.each(a,function(t,a){return e.isFunction(a)?void(r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=n,t=a.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(r[t]=a)}),s.prototype=e.widget.extend(o,{widgetEventPrefix:n?o.widgetEventPrefix||t:t},r,{constructor:s,namespace:l,widgetName:t,widgetFullName:d}),n?(e.each(n._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,s,i._proto)}),delete n._childConstructors):i._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var a,n,s=i.call(arguments,1),o=0,r=s.length;o<r;o++)for(a in s[o])n=s[o][a],s[o].hasOwnProperty(a)&&void 0!==n&&(e.isPlainObject(n)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],n):e.widget.extend({},n):t[a]=n);return t},e.widget.bridge=function(t,a){var n=a.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,r=i.call(arguments,1),l=this;return o?this.length||"instance"!==s?this.each(function(){var i,a=e.data(this,n);return"instance"===s?(l=a,!1):a?e.isFunction(a[s])&&"_"!==s.charAt(0)?(i=a[s].apply(a,r),i!==a&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):l=void 0:(r.length&&(s=e.widget.extend.apply(null,[s].concat(r))),this.each(function(){var t=e.data(this,n);t?(t.option(s||{}),t._init&&t._init()):e.data(this,n,new a(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var a,n,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},a=t.split("."),t=a.shift(),a.length){for(n=o[t]=e.widget.extend({},this.options[t]),s=0;s<a.length-1;s++)n[a[s]]=n[a[s]]||{},n=n[a[s]];if(t=a.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,a,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(a=e(n.get()),this._removeClass(n,i),a.addClass(this._classes({element:a,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function i(i,s){var o,r;for(r=0;r<i.length;r++)o=n.classesElementLookup[i[r]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),n.classesElementLookup[i[r]]=o,a.push(i[r]),s&&t.classes[i[r]]&&a.push(t.classes[i[r]])}var a=[],n=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&i(t.keys.match(/\S+/g)||[],!0),t.extra&&i(t.extra.match(/\S+/g)||[]),a.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(a,n){e.inArray(t.target,n)!==-1&&(i.classesElementLookup[a]=e(n.not(t.target).get()))})},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,a){a="boolean"==typeof a?a:i;var n="string"==typeof e||null===e,s={extra:n?t:i,keys:n?e:t,element:n?this.element:e,add:a};return s.element.toggleClass(this._classes(s),a),this},_on:function(t,i,a){var n,s=this;"boolean"!=typeof t&&(a=i,i=t,t=!1),a?(i=n=e(i),this.bindings=this.bindings.add(i)):(a=i,i=this.element,n=this.widget()),e.each(a,function(a,o){function r(){if(t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?s[o]:o).apply(s,arguments)}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=a.match(/^([\w:-]*)\s*(.*)$/),d=l[1]+s.eventNamespace,c=l[2];c?n.on(d,c,r):i.on(d,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,a){var n,s,o=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(n in s)n in i||(i[n]=s[n]);return this.element.trigger(i,a),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(a))===!1||i.isDefaultPrevented());
}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,n,s){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=s,n.delay&&a.delay(n.delay),o&&e.effects&&e.effects.effect[r]?a[t](n):r!==t&&a[r]?a[r](n.duration,n.easing,s):a.queue(function(i){e(this)[t](),s&&s.call(a[0]),i()})}}),e.widget})},{}],63:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./menu","../keycode","../position","../safe-active-element","../version","../widget"],t):t(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,a,n=this.element[0].nodeName.toLowerCase(),s="textarea"===n,o="input"===n;this.isMultiLine=s||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,a=!0,void(i=!0);t=!1,a=!1,i=!1;var s=e.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",n);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case s.UP:t=!0,this._keyEvent("previous",n);break;case s.DOWN:t=!0,this._keyEvent("next",n);break;case s.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case s.TAB:this.menu.active&&this.menu.select(n);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(a){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||a.preventDefault());if(!i){var n=e.ui.keyCode;switch(a.keyCode){case n.PAGE_UP:this._move("previousPage",a);break;case n.PAGE_DOWN:this._move("nextPage",a);break;case n.UP:this._keyEvent("previous",a);break;case n.DOWN:this._keyEvent("next",a)}}},input:function(e){return a?(a=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var a,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),a=i.item.attr("aria-label")||n.value,void(a&&e.trim(a).length&&(this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))))},menuselect:function(t,i){var a=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=a})),!1!==this._trigger("select",t,{item:a})&&this._value(a.value),this.term=this._value(),this.close(t),this.selectedItem=a}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||e.contains(i,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,a){a(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),a=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||a)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var a=this;e.each(i,function(e,i){a._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<div>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var a=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete})},{}],64:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],t):t(jQuery)}(function(e){return e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,null!=e&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var a="iconPosition"!==t,n=a?this.options.iconPosition:i,s="top"===n||"bottom"===n;this.icon?a&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),a&&this._addClass(this.icon,null,i),this._attachIcon(n),s?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),e.uiBackCompat!==!1&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){return"text"===e?void this._super("showLabel",t):("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button})},{}],65:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],t):t(jQuery)}(function(e){return e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;i<0&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var a=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,n);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),a=!0),a&&!i&&this._trigger("focus",t),a},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=e.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.trigger("focus")}),t.preventDefault()):(this._delay(function(){a.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(e.each(i,function(i,a){var n,s;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),n=a.click,s={icon:a.icon,iconPosition:a.iconPosition,showLabel:a.showLabel,icons:a.icons,text:a.text},delete a.click,delete a.icon,delete a.iconPosition,delete a.showLabel,delete a.icons,"boolean"==typeof a.text&&delete a.text,e("<button></button>",a).button(s).appendTo(t.uiButtonSet).on("click",function(){n.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,n){i._addClass(e(this),"ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(n))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(n,s){var o=s.offset.left-i.document.scrollLeft(),r=s.offset.top-i.document.scrollTop();a.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(r>=0?"+":"")+r,of:i.window},i._removeClass(e(this),"ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,n=a.resizable,s=this.uiDialog.css("position"),o="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:o,start:function(a,n){i._addClass(e(this),"ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(n))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(n,s){var o=i.uiDialog.offset(),r=o.left-i.document.scrollLeft(),l=o.top-i.document.scrollTop();a.height=i.uiDialog.height(),a.width=i.uiDialog.width(),a.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(l>=0?"+":"")+l,of:i.window},i._removeClass(e(this),"ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);i!==-1&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,a=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(a=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,i){var a,n,s=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(a=s.is(":data(ui-draggable)"),a&&!i&&s.draggable("destroy"),!a&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=s.is(":data(ui-resizable)"),n&&!i&&s.resizable("destroy"),n&&"string"==typeof i&&s.resizable("option","handles",i),n||i===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog})},{}],66:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return!(this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=e.ui.safeActiveElement(this.document[0]),a=e(t.target);a.closest(i).length||e.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var a=this._uiHash();if(this._trigger("drag",t,a)===!1)return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=a.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,a=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(a=e.ui.ddmanager.drop(this,t)),this.dropped&&(a=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){
this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var i=this.options,a=e.isFunction(i.helper),n=a?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),a&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,a,n=this.options,s=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),a=i[0],void(a&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,a=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,a,n,s,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,d=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(a=this.relativeContainer.offset(),i=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,d=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,i,a){return a=a||this._uiHash(),e.ui.plugin.call(this,t,[i,a,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),a.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,a){var n=e.extend({},i,{item:a.element});a.sortables=[],e(a.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(a.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,a){var n=e.extend({},i,{item:a.element});a.cancelHelperRemoval=!1,e.each(a.sortables,function(){var e=this;e.isOver?(e.isOver=0,a.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,a){e.each(a.sortables,function(){var n=!1,s=this;s.positionAbs=a.positionAbs,s.helperProportions=a.helperProportions,s.offset.click=a.offset.click,s._intersectsWith(s.containerCache)&&(n=!0,e.each(a.sortables,function(){return this.positionAbs=a.positionAbs,this.helperProportions=a.helperProportions,this.offset.click=a.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(n=!1),n})),n?(s.isOver||(s.isOver=1,a._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=a.offset.click.top,s.offset.click.left=a.offset.click.left,s.offset.parent.left-=a.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=a.offset.parent.top-s.offset.parent.top,a._trigger("toSortable",t),a.dropped=s.element,e.each(a.sortables,function(){this.refreshPositions()}),a.currentItem=a.element,s.fromOutside=a),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(a._parent),a._refreshOffsets(t),i.position=a._generatePosition(t,!0),a._trigger("fromSortable",t),a.dropped=!1,e.each(a.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,a){var n=e("body"),s=a.options;n.css("cursor")&&(s._cursor=n.css("cursor")),n.css("cursor",s.cursor)},stop:function(t,i,a){var n=a.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,a){var n=e(i.helper),s=a.options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(t,i,a){var n=a.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,a){var n=a.options,s=!1,o=a.scrollParentNotHidden[0],r=a.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(a.overflowOffset.top+o.offsetHeight-t.pageY<n.scrollSensitivity?o.scrollTop=s=o.scrollTop+n.scrollSpeed:t.pageY-a.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(a.overflowOffset.left+o.offsetWidth-t.pageX<n.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+n.scrollSpeed:t.pageX-a.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(r).scrollTop()<n.scrollSensitivity?s=e(r).scrollTop(e(r).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<n.scrollSensitivity&&(s=e(r).scrollTop(e(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(r).scrollLeft()<n.scrollSensitivity?s=e(r).scrollLeft(e(r).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<n.scrollSensitivity&&(s=e(r).scrollLeft(e(r).scrollLeft()+n.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(a,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,a){var n=a.options;a.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==a.element[0]&&a.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,a){var n,s,o,r,l,d,c,u,h,p,m=a.options,b=m.snapTolerance,f=i.offset.left,g=f+a.helperProportions.width,v=i.offset.top,_=v+a.helperProportions.height;for(h=a.snapElements.length-1;h>=0;h--)l=a.snapElements[h].left-a.margins.left,d=l+a.snapElements[h].width,c=a.snapElements[h].top-a.margins.top,u=c+a.snapElements[h].height,g<l-b||f>d+b||_<c-b||v>u+b||!e.contains(a.snapElements[h].item.ownerDocument,a.snapElements[h].item)?(a.snapElements[h].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[h].item})),a.snapElements[h].snapping=!1):("inner"!==m.snapMode&&(n=Math.abs(c-_)<=b,s=Math.abs(u-v)<=b,o=Math.abs(l-g)<=b,r=Math.abs(d-f)<=b,n&&(i.position.top=a._convertPositionTo("relative",{top:c-a.helperProportions.height,left:0}).top),s&&(i.position.top=a._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.left=a._convertPositionTo("relative",{top:0,left:l-a.helperProportions.width}).left),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:d}).left)),p=n||s||o||r,"outer"!==m.snapMode&&(n=Math.abs(c-v)<=b,s=Math.abs(u-_)<=b,o=Math.abs(l-f)<=b,r=Math.abs(d-g)<=b,n&&(i.position.top=a._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.top=a._convertPositionTo("relative",{top:u-a.helperProportions.height,left:0}).top),o&&(i.position.left=a._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:d-a.helperProportions.width}).left)),!a.snapElements[h].snapping&&(n||s||o||r||p)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[h].item})),a.snapElements[h].snapping=n||s||o||r||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,a){var n,s=a.options,o=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,a){var n=e(i.helper),s=a.options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(t,i,a){var n=a.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}}),e.ui.draggable})},{}],67:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","../keycode","../position","../safe-active-element","../unique-id","../version","../widget"],t):t(jQuery)}(function(e){return e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target),a=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&a.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.target).closest(".ui-menu-item"),a=e(t.currentTarget);i[0]===a[0]&&(this._removeClass(a.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,a))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){var i=!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,a,n,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,a=this.previousFilter||"",s=!1,n=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),n===a?s=!0:n=a+n,i=this._filterMenuItems(n),i=s&&i.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,i,a,n,s,o=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),a=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.prev(),a=e("<span>").data("ui-menu-submenu-caret",!0);o._addClass(a,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",i.attr("id"))}),this._addClass(a,"ui-menu","ui-widget ui-widget-content ui-front"),t=l.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);o._isDivider(t)&&o._addClass(t,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),s=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,a,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.children(".ui-menu-item-wrapper"),this._addClass(a,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,a,n,s,o,r;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-a,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),n<0?this.activeMenu.scrollTop(s+n):n+r>o&&this.activeMenu.scrollTop(s+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var a=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element),this._close(a),this.blur(t),this._removeClass(a.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=a},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.find(this.options.items)[t]()),this.focus(i,a)},nextPage:function(t){var i,a,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a-n<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,a,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),a=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return a.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}})})},{}],68:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var a=this,n=1===i.which,s=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},{}],69:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./mouse","../disable-selection","../plugin","../version","../widget"],t):t(jQuery)}(function(e){return e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[a]>0||(t[a]=1,n=t[a]>0,t[a]=0,n)},_create:function(){var t,i=this.options,a=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),i.autoHide&&e(this.element).on("mouseenter",function(){i.disabled||(a._removeClass("ui-resizable-autohide"),a._handles.show())}).on("mouseleave",function(){i.disabled||a.resizing||(a._addClass("ui-resizable-autohide"),a._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,i,a,n,s,o=this.options,r=this;if(this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},i=0;i<a.length;i++)t=e.trim(a[i]),n="ui-resizable-"+t,s=e("<div>"),this._addClass(s,"ui-resizable-handle "+n),s.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(s);this._renderAxis=function(t){var i,a,n,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(a=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?a.outerHeight():a.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){r.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=s&&s[1]?s[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var i,a,n=!1;for(i in this.handles)a=e(this.handles[i])[0],(a===t.target||e.contains(a,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,a,n,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),a=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,a+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:a},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:a},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,
n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,a,n=this.originalMousePosition,s=this.axis,o=t.pageX-n.left||0,r=t.pageY-n.top||0,l=this._change[s];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),a=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(a)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var i,a,n,s,o,r,l,d=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,a=i.length&&/textarea/i.test(i[0].nodeName),n=a&&this._hasScroll(i[0],"left")?0:c.sizeDiff.height,s=a?0:c.sizeDiff.width,o={width:c.helper.width()-s,height:c.helper.height()-n},r=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,d.animate||this.element.css(e.extend(o,{top:l,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,a,n,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,a=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,n=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),a>s.minHeight&&(s.minHeight=a),i<s.maxWidth&&(s.maxWidth=i),n<s.maxHeight&&(s.maxHeight=n)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,a=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===a&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===a&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,a=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,d=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),a&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),s&&d&&(e.left=r-t.minWidth),a&&d&&(e.left=r-t.maxWidth),o&&c&&(e.top=l-t.minHeight),n&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],a=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(a[t])||0,i[t]+=parseFloat(n[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,a=this.originalPosition;return{left:a.left+t,width:i.width-t}},n:function(e,t,i){var a=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:a.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},sw:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,a]))},ne:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},nw:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,a]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),a=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),o=s&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-o},d=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,c&&d?{top:c,left:d}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&e(n[0]).css({width:a.width,height:a.height}),i._updateCache(a),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,a,n,s,o,r,l=e(this).resizable("instance"),d=l.options,c=l.element,u=d.containment,h=u instanceof e?u.get(0):/parent/.test(u)?c.parent().get(0):u;h&&(l.containerElement=e(h),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,a){i[e]=l._num(t.css("padding"+a))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},a=l.containerOffset,n=l.containerSize.height,s=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:s,r=l._hasScroll(h)?h.scrollHeight:n,l.parentData={element:h,left:a.left,top:a.top,width:o,height:r}))},resize:function(t){var i,a,n,s,o=e(this).resizable("instance"),r=o.options,l=o.containerOffset,d=o.position,c=o._aspectRatio||t.shiftKey,u={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(u=l),d.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=r.helper?l.left:0),d.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),n&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-l.left)),a=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),a+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-a,c&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,a=t.containerOffset,n=t.containerPosition,s=t.containerElement,o=e(t.helper),r=o.offset(),l=o.outerWidth()-t.sizeDiff.width,d=o.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:r.left-n.left-a.left,width:l,height:d}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:r.left-n.left-a.left,width:l,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var a=e(this).resizable("instance"),n=a.options,s=a.originalSize,o=a.originalPosition,r={height:a.size.height-s.height||0,width:a.size.width-s.width||0,top:a.position.top-o.top||0,left:a.position.left-o.left||0};e(n.alsoResize).each(function(){var t=e(this),a=e(this).data("ui-resizable-alsoresize"),n={},s=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(a[t]||0)+(r[t]||0);i&&i>=0&&(n[t]=i||null)}),t.css(n)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),e.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),a=i.options,n=i.size,s=i.originalSize,o=i.originalPosition,r=i.axis,l="number"==typeof a.grid?[a.grid,a.grid]:a.grid,d=l[0]||1,c=l[1]||1,u=Math.round((n.width-s.width)/d)*d,h=Math.round((n.height-s.height)/c)*c,p=s.width+u,m=s.height+h,b=a.maxWidth&&a.maxWidth<p,f=a.maxHeight&&a.maxHeight<m,g=a.minWidth&&a.minWidth>p,v=a.minHeight&&a.minHeight>m;a.grid=l,g&&(p+=d),v&&(m+=c),b&&(p-=d),f&&(m-=c),/^(se|s|e)$/.test(r)?(i.size.width=p,i.size.height=m):/^(ne)$/.test(r)?(i.size.width=p,i.size.height=m,i.position.top=o.top-h):/^(sw)$/.test(r)?(i.size.width=p,i.size.height=m,i.position.left=o.left-u):((m-c<=0||p-d<=0)&&(t=i._getPaddingPlusBorderDimensions(this)),m-c>0?(i.size.height=m,i.position.top=o.top-h):(m=c-t.height,i.size.height=m,i.position.top=o.top+s.height-m),p-d>0?(i.size.width=p,i.position.left=o.left-u):(p=d-t.width,i.size.width=p,i.position.left=o.left+s.width-p))}}),e.ui.resizable})},{}],70:[function(t,i,a){!function(t){"function"==typeof e&&e.amd?e(["jquery","./button","../version","../keycode","../safe-active-element","../widget"],t):t(jQuery)}(function(e){function t(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}return e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return e.each(["min","max","step"],function(e,a){var n=i.attr(a);null!=n&&n.length&&(t[a]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var t=this.element[0]===e.ui.safeActiveElement(this.document[0]);t||(this.element.trigger("focus"),this.previous=a,this._delay(function(){this.previous=a}))}var a;a=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var i=this.options,a=e.ui.keyCode;switch(t.keyCode){case a.UP:return this._repeat(null,1,t),!0;case a.DOWN:return this._repeat(null,-1,t),!0;case a.PAGE_UP:return this._repeat(null,i.page,t),!0;case a.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return i===-1?0:t.length-i-1},_adjustValue:function(e){var t,i,a=this.options;return t=null!==a.min?a.min:0,i=e-t,i=Math.round(i/a.step)*a.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==a.max&&e>a.max?a.max:null!==a.min&&e<a.min?a.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i,a,n;return"culture"===e||"numberFormat"===e?(i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i))):("max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(a=this.buttons.first().find(".ui-icon"),this._removeClass(a,null,this.options.icons.up),this._addClass(a,null,t.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,t.down)),void this._super(e,t))},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void t(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.uiBackCompat!==!1&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),e.ui.spinner})},{}],71:[function(t,i,a){!function(t,n){if("object"==typeof a&&"object"==typeof i)i.exports=n();else if("function"==typeof e&&e.amd)e([],n);else{var s=n();for(var o in s)("object"==typeof a?a:t)[o]=s[o]}}(this,function(){return function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function a(){var e="undefined"==typeof JSON?{}:JSON;n.setupJSON(e)}var n=i(2),s=i(3);a();var o=window._rollbarConfig,r=o&&o.globalAlias||"Rollbar",l=window[r]&&"undefined"!=typeof window[r].shimId;!l&&o?n.wrapper.init(o):(window.Rollbar=n.wrapper,window.RollbarNotifier=s.Notifier),e.exports=n.wrapper},function(e,t,i){"use strict";function a(e,t,i){!i[4]&&window._rollbarWrappedError&&(i[4]=window._rollbarWrappedError,window._rollbarWrappedError=null),e.uncaughtError.apply(e,i),t&&t.apply(window,i)}function n(e,t){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){var i=t.addEventListener;t.addEventListener=function(t,a,n){i.call(this,t,e.wrap(a),n)};var a=t.removeEventListener;t.removeEventListener=function(e,t,i){a.call(this,e,t&&t._wrapped||t,i)}}}var s=i(3),o=i(8),r=s.Notifier;window._rollbarWrappedError=null;var l={};l.init=function(e,t){var i=new r(t);if(i.configure(e),e.captureUncaught){var s;t&&o.isType(t._rollbarOldOnError,"function")?s=t._rollbarOldOnError:window.onerror&&!window.onerror.belongsToShim&&(s=window.onerror),window.onerror=function(){var e=Array.prototype.slice.call(arguments,0);a(i,s,e)};var l,d,c=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(l=0;l<c.length;++l)d=c[l],window[d]&&window[d].prototype&&n(i,window[d].prototype)}return e.captureUnhandledRejections&&(t&&o.isType(t._unhandledRejectionHandler,"function")&&window.removeEventListener("unhandledrejection",t._unhandledRejectionHandler),i._unhandledRejectionHandler=function(e){var t=e.reason,a=e.promise,n=e.detail;!t&&n&&(t=n.reason,a=n.promise),i.unhandledRejection(t,a)},window.addEventListener("unhandledrejection",i._unhandledRejectionHandler)),window.Rollbar=i,r.processPayloads(),i},e.exports={wrapper:l,setupJSON:s.setupJSON}},function(e,t,i){"use strict";function a(e){w=e,v.setupJSON(e)}function n(e,t){return function(){var i=t||this;try{return e.apply(i,arguments)}catch(e){}}}function s(){m||(m=setTimeout(h,1e3))}function o(){return x}function r(e){x=x||this;var t="https://"+r.DEFAULT_ENDPOINT;this.options={enabled:!0,endpoint:t,environment:"production",scrubFields:b([],r.DEFAULT_SCRUB_FIELDS),checkIgnore:null,logLevel:r.DEFAULT_LOG_LEVEL,reportLevel:r.DEFAULT_REPORT_LEVEL,uncaughtErrorLevel:r.DEFAULT_UNCAUGHT_ERROR_LEVEL,payload:{}},this.lastError=null,this.plugins={},this.parentNotifier=e,e&&(e.hasOwnProperty("shimId")?e.notifier=this:this.configure(e.options))}function l(e){window._rollbarPayloadQueue.push(e),s()}function d(e){return n(function(){var t=this._getLogArgs(arguments);return this._log(e||t.level||this.options.logLevel||r.DEFAULT_LOG_LEVEL,t.message,t.err,t.custom,t.callback)})}function c(e,t){e||(e=t?w.stringify(t):"");var i={body:e};return t&&(i.extra=b(!0,{},t)),{message:i}}function u(e,t,i){var a=f.guessErrorClass(t.message),n=t.name||a[0],s=a[1],o={exception:{class:n,message:s}};if(e&&(o.exception.description=e||"uncaught exception"),t.stack){var r,l,d,u,h,p,m,v;for(o.frames=[],m=0;m<t.stack.length;++m)r=t.stack[m],l={filename:r.url?g.sanitizeUrl(r.url):"(unknown)",lineno:r.line||null,method:r.func&&"?"!==r.func?r.func:"[anonymous]",colno:r.column},d=u=h=null,p=r.context?r.context.length:0,p&&(v=Math.floor(p/2),u=r.context.slice(0,v),d=r.context[v],h=r.context.slice(v)),d&&(l.code=d),(u||h)&&(l.context={},u&&u.length&&(l.context.pre=u),h&&h.length&&(l.context.post=h)),r.args&&(l.args=r.args),o.frames.push(l);return o.frames.reverse(),i&&(o.extra=b(!0,{},i)),{trace:o}}return c(n+": "+s,i)}function h(){var e;try{for(;e=window._rollbarPayloadQueue.shift();)p(e)}finally{m=void 0}}function p(e){var t=e.endpointUrl,i=e.accessToken,a=e.payload,n=e.callback||function(){},s=(new Date).getTime();s-k>=6e4&&(k=s,I=0);var o=window._globalRollbarOptions.maxItems,d=window._globalRollbarOptions.itemsPerMinute,c=function(){return!a.ignoreRateLimit&&o>=1&&T>=o},u=function(){return!a.ignoreRateLimit&&d>=1&&I>=d};return c()?void n(new Error(o+" max items reached")):u()?void n(new Error(d+" items per minute reached")):(T++,I++,c()&&x._log(x.options.uncaughtErrorLevel,"maxItems has been hit. Ignoring errors for the remainder of the current page load.",null,{maxItems:o},null,!1,!0),a.ignoreRateLimit&&delete a.ignoreRateLimit,void _.post(t,i,a,function(t,i){return t?(t instanceof y&&(e.callback=function(){},setTimeout(function(){l(e)},r.RETRY_DELAY)),n(t)):n(null,i)}))}var m,b=i(4),f=i(5),g=i(8),v=i(10),_=v.XHR,y=v.ConnectionError,w=null;r.NOTIFIER_VERSION="1.9.2",r.DEFAULT_ENDPOINT="api.rollbar.com/api/1/",r.DEFAULT_SCRUB_FIELDS=["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],r.DEFAULT_LOG_LEVEL="debug",r.DEFAULT_REPORT_LEVEL="debug",r.DEFAULT_UNCAUGHT_ERROR_LEVEL="error",r.DEFAULT_ITEMS_PER_MIN=60,r.DEFAULT_MAX_ITEMS=0,r.LEVELS={debug:0,info:1,warning:2,error:3,critical:4},r.RETRY_DELAY=1e4,window._rollbarPayloadQueue=window._rollbarPayloadQueue||[],window._globalRollbarOptions={startTime:(new Date).getTime(),maxItems:r.DEFAULT_MAX_ITEMS,itemsPerMinute:r.DEFAULT_ITEMS_PER_MIN};var x,A=r.prototype;A._getLogArgs=function(e){for(var t,i,a,s,o,l,d=this.options.logLevel||r.DEFAULT_LOG_LEVEL,c=[],u=0;u<e.length;++u)l=e[u],o=g.typeName(l),"string"===o?t?c.push(l):t=l:"function"===o?s=n(l,this):"date"===o?c.push(l):"error"===o||l instanceof Error||"undefined"!=typeof DOMException&&l instanceof DOMException?i?c.push(l):i=l:"object"!==o&&"array"!==o||(a?c.push(l):a=l);return c.length&&(a=a||{},a.extraArgs=c),{level:d,message:t,err:i,custom:a,callback:s}},A._route=function(e){var t=this.options.endpoint,i=/\/$/.test(t),a=/^\//.test(e);return i&&a?e=e.substring(1):i||a||(e="/"+e),t+e},A._processShimQueue=function(e){for(var t,i,a,n,s,o,l,d={};i=e.shift();)t=i.shim,a=i.method,n=i.args,s=t.parentShim,l=d[t.shimId],l||(s?(o=d[s.shimId],l=new r(o)):l=this,d[t.shimId]=l),l[a]&&g.isType(l[a],"function")&&l[a].apply(l,n)},A._buildPayload=function(e,t,i,a,n){var s=this.options.accessToken,o=this.options.environment,l=b(!0,{},this.options.payload),d=g.uuid4();if(void 0===r.LEVELS[t])throw new Error("Invalid level");if(!i&&!a&&!n)throw new Error("No message, stack info or custom data");var c={environment:o,endpoint:this.options.endpoint,uuid:d,level:t,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(i,a,n),request:{url:window.location.href,query_string:window.location.search,user_ip:"$remote_ip"},client:{runtime_ms:e.getTime()-window._globalRollbarOptions.startTime,timestamp:Math.round(e.getTime()/1e3),javascript:{browser:window.navigator.userAgent,language:window.navigator.language,cookie_enabled:window.navigator.cookieEnabled,screen:{width:window.screen.width,height:window.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:r.NOTIFIER_VERSION}};l.body&&delete l.body;var u={access_token:s,data:b(!0,c,l)};return this._scrub(u.data),u},A._buildBody=function(e,t,i){var a;return a=t?u(e,t,i):c(e,i)},A._getBrowserPlugins=function(){if(!this._browserPlugins){var e,t,i=window.navigator.plugins||[],a=i.length,n=[];for(t=0;t<a;++t)e=i[t],n.push({name:e.name,description:e.description});this._browserPlugins=n}return this._browserPlugins},A._scrub=function(e){function t(e,t,i,a,n,s){return t+g.redact(s)}function i(e){var i;if(g.isType(e,"string"))for(i=0;i<r.length;++i)e=e.replace(r[i],t);return e}function a(e,t){var i;for(i=0;i<o.length;++i)if(o[i].test(e)){t=g.redact(t);break}return t}function n(e,t){var n=a(e,t);return n===t?i(n):n}var s=this.options.scrubFields,o=this._getScrubFieldRegexs(s),r=this._getScrubQueryParamRegexs(s);return g.traverse(e,n),e},A._getScrubFieldRegexs=function(e){for(var t,i=[],a=0;a<e.length;++a)t="\\[?(%5[bB])?"+e[a]+"\\[?(%5[bB])?\\]?(%5[dD])?",i.push(new RegExp(t,"i"));return i},A._getScrubQueryParamRegexs=function(e){for(var t,i=[],a=0;a<e.length;++a)t="\\[?(%5[bB])?"+e[a]+"\\[?(%5[bB])?\\]?(%5[dD])?",i.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return i},A._urlIsWhitelisted=function(e){var t,i,a,n,s,o,r,l,d,c;try{if(t=this.options.hostWhiteList,i=e&&e.data&&e.data.body&&e.data.body.trace,!t||0===t.length)return!0;if(!i)return!0;for(r=t.length,s=i.frames.length,d=0;d<s;d++){if(a=i.frames[d],n=a.filename,!g.isType(n,"string"))return!0;for(c=0;c<r;c++)if(o=t[c],l=new RegExp(o),l.test(n))return!0}}catch(e){return this.configure({hostWhiteList:null}),!0}return!1},A._messageIsIgnored=function(e){var t,i,a,n,s,o,r,l,d;try{if(s=!1,a=this.options.ignoredMessages,!a||0===a.length)return!1;if(r=e&&e.data&&e.data.body,l=r&&r.trace&&r.trace.exception&&r.trace.exception.message,d=r&&r.message&&r.message.body,t=l||d,!t)return!1;for(n=a.length,i=0;i<n&&(o=new RegExp(a[i],"gi"),!(s=o.test(t)));i++);}catch(e){void this.configure({ignoredMessages:null})}return s},A._enqueuePayload=function(e,t,i,a){var n={callback:a,accessToken:this.options.accessToken,endpointUrl:this._route("item/"),payload:e},s=function(){if(a){var e="This item was not sent to Rollbar because it was ignored. This can happen if a custom checkIgnore() function was used or if the item's level was less than the notifier' reportLevel. See https://rollbar.com/docs/notifier/rollbar.js/configuration for more details.";a(null,{err:0,result:{id:null,uuid:null,message:e}})}};if(this._internalCheckIgnore(t,i,e))return void s();try{if(g.isType(this.options.checkIgnore,"function")&&this.options.checkIgnore(t,i,e))return void s()}catch(e){void this.configure({checkIgnore:null})}if(this._urlIsWhitelisted(e)&&!this._messageIsIgnored(e)){if(this.options.verbose&&e.data&&e.data.body&&e.data.body.trace){var o=e.data.body.trace;o.exception.message}g.isType(this.options.logFunction,"function")&&this.options.logFunction(n);try{g.isType(this.options.transform,"function")&&this.options.transform(e)}catch(e){void this.configure({transform:null})}this.options.enabled&&l(n)}},A._internalCheckIgnore=function(e,t,i){var a=t[0],n=r.LEVELS[a]||0,s=r.LEVELS[this.options.reportLevel]||0;if(n<s)return!0;var o=this.options?this.options.plugins:{};if(o&&o.jquery&&o.jquery.ignoreAjaxErrors)try{return!!i.data.body.message.extra.isAjax}catch(e){return!1}return!1},A._log=function(e,t,i,a,n,s,o){var r=null;if(i)try{if(r=i._savedStackTrace?i._savedStackTrace:f.parse(i),i===this.lastError)return;this.lastError=i}catch(e){t=i.message||i.description||t||String(i),i=null}var l=this._buildPayload(new Date,e,t,r,a);o&&(l.ignoreRateLimit=!0),this._enqueuePayload(l,!!s,[e,t,i,a],n)},A.log=d(),A.debug=d("debug"),A.info=d("info"),A.warn=d("warning"),A.warning=d("warning"),A.error=d("error"),A.critical=d("critical"),A.uncaughtError=n(function(e,t,i,a,n,s){if(s=s||null,n&&g.isType(n,"error"))return void this._log(this.options.uncaughtErrorLevel,e,n,s,null,!0);if(t&&g.isType(t,"error"))return void this._log(this.options.uncaughtErrorLevel,e,t,s,null,!0);var o={url:t||"",line:i};o.func=f.guessFunctionName(o.url,o.line),o.context=f.gatherContext(o.url,o.line);var r={mode:"onerror",message:n?String(n):e||"uncaught exception",
url:document.location.href,stack:[o],useragent:navigator.userAgent},l=this._buildPayload(new Date,this.options.uncaughtErrorLevel,e,r,s);this._enqueuePayload(l,!0,[this.options.uncaughtErrorLevel,e,t,i,a,n])}),A.unhandledRejection=n(function(e,t){if(null==e)return void x._log(x.options.uncaughtErrorLevel,"unhandled rejection was null or undefined!",null,{},null,!1,!1);var i=e.message||(e?String(e):"unhandled rejection"),a=e._rollbarContext||t._rollbarContext||null;if(e&&g.isType(e,"error"))return void this._log(this.options.uncaughtErrorLevel,i,e,a,null,!0);var n={url:"",line:0};n.func=f.guessFunctionName(n.url,n.line),n.context=f.gatherContext(n.url,n.line);var s={mode:"unhandledrejection",message:i,url:document.location.href,stack:[n],useragent:navigator.userAgent},o=this._buildPayload(new Date,this.options.uncaughtErrorLevel,i,s,a);this._enqueuePayload(o,!0,[this.options.uncaughtErrorLevel,i,n.url,n.line,0,e,t])}),A.global=n(function(e){e=e||{};var t={startTime:e.startTime,maxItems:e.maxItems,itemsPerMinute:e.itemsPerMinute};b(!0,window._globalRollbarOptions,t),void 0!==e.maxItems&&(T=0),void 0!==e.itemsPerMinute&&(I=0)}),A.configure=n(function(e,t){var i=b(!0,{},e);b(!t,this.options,i),this.global(i)}),A.scope=n(function(e){var t=new r(this);return b(!0,t.options.payload,e),t}),A.wrap=function(e,t){try{var i;if(i=g.isType(t,"function")?t:function(){return t||{}},!g.isType(e,"function"))return e;if(e._isWrap)return e;if(!e._wrapped){e._wrapped=function(){try{return e.apply(this,arguments)}catch(t){throw"string"==typeof t&&(t=new String(t)),t.stack||(t._savedStackTrace=f.parse(t)),t._rollbarContext=i()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t,t}},e._wrapped._isWrap=!0;for(var a in e)e.hasOwnProperty(a)&&(e._wrapped[a]=e[a])}return e._wrapped}catch(t){return e}},A.loadFull=function(){},r.processPayloads=function(e){return e?void h():void s()};var k=(new Date).getTime(),T=0,I=0;e.exports={Notifier:r,setupJSON:a,topLevelNotifier:o}},function(e,t){"use strict";var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},s=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t=i.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var s;for(s in e);return"undefined"==typeof s||i.call(e,s)};e.exports=function e(){var t,i,a,o,r,l,d=arguments[0],c=1,u=arguments.length,h=!1;for("boolean"==typeof d?(h=d,d=arguments[1]||{},c=2):("object"!=typeof d&&"function"!=typeof d||null==d)&&(d={});c<u;++c)if(t=arguments[c],null!=t)for(i in t)a=d[i],o=t[i],d!==o&&(h&&o&&(s(o)||(r=n(o)))?(r?(r=!1,l=a&&n(a)?a:[]):l=a&&s(a)?a:{},d[i]=e(h,l,o)):"undefined"!=typeof o&&(d[i]=o));return d}},function(e,t,i){"use strict";function a(){return c}function n(){return null}function s(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=n(t.url,t.line),t}function o(e){function t(){var t=[];try{t=d.parse(e)}catch(e){t=[]}for(var i=[],a=0;a<t.length;a++)i.push(new s(t[a]));return i}return{stack:t(),message:e.message,name:e.name}}function r(e){return new o(e)}function l(e){if(!e)return["Unknown error. There was no error message to display.",""];var t=e.match(u),i="(unknown)";return t&&(i=t[t.length-1],e=e.replace((t[t.length-2]||"")+i+":",""),e=e.replace(/(^[\s]+|[\s]+$)/g,"")),[i,e]}var d=i(6),c="?",u=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");e.exports={guessFunctionName:a,guessErrorClass:l,gatherContext:n,parse:r,Stack:o,Frame:s}},function(e,t,i){var a,n,s;!function(o,r){"use strict";n=[i(7)],a=r,s="function"==typeof a?a.apply(t,n):a,!(void 0!==s&&(e.exports=s))}(this,function(e){"use strict";function t(e,t,i){if("function"==typeof Array.prototype.map)return e.map(t,i);for(var a=new Array(e.length),n=0;n<e.length;n++)a[n]=t.call(i,e[n]);return a}function i(e,t,i){if("function"==typeof Array.prototype.filter)return e.filter(t,i);for(var a=[],n=0;n<e.length;n++)t.call(i,e[n])&&a.push(e[n]);return a}var a=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,s=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(e.indexOf(":")===-1)return[e];var t=e.replace(/[\(\)\s]/g,"").split(":"),i=t.pop(),a=t[t.length-1];if(!isNaN(parseFloat(a))&&isFinite(a)){var n=t.pop();return[t.join(":"),n,i]}return[t.join(":"),i,void 0]},parseV8OrIE:function(a){var s=i(a.stack.split("\n"),function(e){return!!e.match(n)},this);return t(s,function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var i=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),a=this.extractLocation(i.pop()),n=i.join(" ")||void 0,s="eval"===a[0]?void 0:a[0];return new e(n,void 0,s,a[1],a[2],t)},this)},parseFFOrSafari:function(a){var n=i(a.stack.split("\n"),function(e){return!e.match(s)},this);return t(n,function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new e(t);var i=t.split("@"),a=this.extractLocation(i.pop()),n=i.shift()||void 0;return new e(n,void 0,a[0],a[1],a[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,a=t.message.split("\n"),n=[],s=2,o=a.length;s<o;s+=2){var r=i.exec(a[s]);r&&n.push(new e(void 0,void 0,r[2],r[1],void 0,a[s]))}return n},parseOpera10:function(t){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=t.stacktrace.split("\n"),n=[],s=0,o=a.length;s<o;s+=2){var r=i.exec(a[s]);r&&n.push(new e(r[3]||void 0,void 0,r[2],r[1],void 0,a[s]))}return n},parseOpera11:function(n){var s=i(n.stack.split("\n"),function(e){return!!e.match(a)&&!e.match(/^Error created at/)},this);return t(s,function(t){var i,a=t.split("@"),n=this.extractLocation(a.pop()),s=a.shift()||"",o=s.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;s.match(/\(([^\)]*)\)/)&&(i=s.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var r=void 0===i||"[arguments not available]"===i?void 0:i.split(",");return new e(o,r,n[0],n[1],n[2],t)},this)}}})},function(e,t,i){var a,n,s;!function(i,o){"use strict";n=[],a=o,s="function"==typeof a?a.apply(t,n):a,!(void 0!==s&&(e.exports=s))}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,i,a,n,s){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==i&&this.setFileName(i),void 0!==a&&this.setLineNumber(a),void 0!==n&&this.setColumnNumber(n),void 0!==s&&this.setSource(s)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var t=this.getFunctionName()||"{anonymous}",i="("+(this.getArgs()||[]).join(",")+")",a=this.getFileName()?"@"+this.getFileName():"",n=e(this.getLineNumber())?":"+this.getLineNumber():"",s=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+i+a+n+s}},t})},function(e,t,i){"use strict";function a(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(e,t){return a(e)===t}function s(e){if(!n(e,"string"))throw new Error("received invalid input");for(var t=c,i=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},s=14;s--;)a[t.key[s]]=i[s]||"";return a[t.q.name]={},a[t.key[12]].replace(t.q.parser,function(e,i,n){i&&(a[t.q.name][i]=n)}),a}function o(e){var t=s(e);return""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")}function r(e,t){var i,a,s,o=n(e,"object"),l=n(e,"array"),d=[];if(o)for(i in e)e.hasOwnProperty(i)&&d.push(i);else if(l)for(s=0;s<e.length;++s)d.push(s);for(s=0;s<d.length;++s)i=d[s],a=e[i],o=n(a,"object"),l=n(a,"array"),o||l?e[i]=r(a,t):e[i]=t(i,a);return e}function l(e){return e=String(e),new Array(e.length+1).join("*")}function d(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)});return t}i(9);var c={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},u={isType:n,parseUri:s,parseUriOptions:c,redact:l,sanitizeUrl:o,traverse:r,typeName:a,uuid4:d};e.exports=u},function(e,t){!function(e){"use strict";e.console=e.console||{};for(var t,i,a=e.console,n={},s=function(){},o="memory".split(","),r="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)a[t]||(a[t]=n);for(;i=r.pop();)a[i]||(a[i]=s)}("undefined"==typeof window?this:window)},function(e,t,i){"use strict";function a(e){o=e}function n(e){this.name="Connection Error",this.message=e,this.stack=(new Error).stack}var s=i(8),o=null;n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var r={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],createXMLHTTPObject:function(){var e,t=!1,i=r.XMLHttpFactories,a=i.length;for(e=0;e<a;e++)try{t=i[e]();break}catch(e){}return t},post:function(e,t,i,a){if(!s.isType(i,"object"))throw new Error("Expected an object to POST");i=o.stringify(i),a=a||function(){};var l=r.createXMLHTTPObject();if(l)try{try{var d=function(){try{if(d&&4===l.readyState){d=void 0;var e=o.parse(l.responseText);200===l.status?a(null,e):s.isType(l.status,"number")&&l.status>=400&&l.status<600?(403==l.status&&void 0,a(new Error(String(l.status)))):a(new n("XHR response had no status code (likely connection failure)"))}}catch(e){var t;t=e&&e.stack?e:new Error(e),a(t)}};l.open("POST",e,!0),l.setRequestHeader&&(l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("X-Rollbar-Access-Token",t)),l.onreadystatechange=d,l.send(i)}catch(t){if("undefined"!=typeof XDomainRequest){"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var c=function(){a(new n("Request timed out"))},u=function(){a(new Error("Error during request"))},h=function(){a(null,o.parse(l.responseText))};l=new XDomainRequest,l.onprogress=function(){},l.ontimeout=c,l.onerror=u,l.onload=h,l.open("POST",e,!0),l.send(i)}}}catch(e){a(e)}}};e.exports={XHR:r,setupJSON:a,ConnectionError:n}}])})},{}],72:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=(e("dota-hero-calculator-library"),e("dota-hero-calculator-library/src/herocalc/AbilityModel")),s=e("dota-hero-calculator-library/src/herocalc/inventory/BasicInventoryViewModel"),o=e("dota-hero-calculator-library/src/herocalc/util/union"),r={items:[],activeItems:[]},l=function(e,t){this.id=e,this.label=t};n.prototype.isQWER=function(e){return"Empty"!=e.displayname&&(e.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN")==-1||e.name.indexOf("invoker_")!=-1)&&e.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE")==-1};var d=function(e){var t=this;t.parent=e,t.itemBuild=a.observableArray([]),t.skillBuild=a.observableArray([]),t.graphDataItemRows=[];for(var i=0;i<25;i++)t.itemBuild.push(new s),t.itemBuild()[i].carryOver=a.observable(!0),t.skillBuild.push(a.observable(-1)),t.graphDataItemRows.push(a.observable(!1));return t.toggleItemBuildCarryOver=function(e){t.itemBuild()[e].carryOver(!t.itemBuild()[e].carryOver())},t.abilityMapData=[0,1,2,3,4],t.abilityMapHero=t.parent.selectedHero().heroName,t.abilityMap=a.computed(function(){if(t.abilityMapHero!=t.parent.selectedHero().heroName){t.abilityMapHero=t.parent.selectedHero().heroName;for(var e=t.parent.ability().abilities().map(function(e,i){return t.parent.ability().isQWER(e)?i:-1}).filter(function(e){return e!=-1}),i=0;i<25;i++){var a=t.skillBuild()[i]();if(a!=-1){var n=t.abilityMapData.indexOf(a),s=e[n];s!=a&&t.skillBuild()[i](s)}}t.abilityMapData=e}}),t.availableSkillBuildPoints=a.computed(function(){return t.skillBuild().reduce(function(e,t){return e+(t()==-1)},0)}),t.getSkillBuildAbilityLevel=function(e){return t.skillBuild().reduce(function(t,i){return t+(i()==e)},0)},t.toggleAbilitySkillBuild=function(e,i,a,n){if(t.skillBuild()[e]()!=i){var s=t.parent.ability().abilities()[i],o=(s.abilitytype,t.skillBuild().slice(0,e)),r=(t.skillBuild().reduce(function(e,t){return e+(t()==i)},0),o.reduce(function(e,t){return e+(t()==i)},0));if(t.IsValidAbilityLevel(s,t.parent.selectedHero().heroName,e+1,r)){t.skillBuild()[e](i);for(var l=e+1;l<25;l++)t.skillBuild()[l]()==i&&(r++,t.IsValidAbilityLevel(s,t.parent.selectedHero().heroName,l+1,r)||(t.skillBuild()[l](-1),r--))}else if(r>0&&t.IsValidAbilityLevel(s,t.parent.selectedHero().heroName,e+1,r-1))for(var l=o.length-1;l>=0;l--)if(o[l]()==i){t.skillBuild()[l](-1),t.skillBuild()[e](i);break}}else t.skillBuild()[e](-1)},t.IsValidAbilityLevel=function(e,t,i,a){var n=1,s=2,o=4;return"attribute_bonus"==e.name?o=10:"DOTA_ABILITY_TYPE_ULTIMATE"==e.abilitytype?"invoker"==t?(n=2,s=5):"meepo"==t?(n=3,s=7,o=3):(n=6,s=5,o=3):"invoker"==t&&(o=7),i>=n+s*a&&a<o},t.resetItemBuild=function(e){t.itemBuild()[e].removeAll()},t.resetAllItemBuilds=function(){for(var e=0;e<25;e++)t.itemBuild()[e].removeAll(),t.itemBuild()[e].carryOver(!0)},t.resetSkillBuild=function(){for(var e=0;e<25;e++)t.skillBuild()[e](-1)},t.graphData=a.observableArray([]),t.graphDataHeader=a.observable(t.parent.selectedHero().heroDisplayName),t.parent.selectedHero.subscribe(function(e){t.graphDataHeader(t.parent.selectedHero().heroDisplayName)}),t.graphDataDescription=a.observable(""),t.graphProperties=a.observableArray([new l("totalArmorPhysical","Armor"),new l("totalArmorPhysicalReduction","Physical Damage Reduction"),new l("totalMagicResistance","Magical Resistance"),new l("health","Health"),new l("healthregen","Health Regeneration"),new l("mana","Mana"),new l("manaregen","Mana Regeneration"),new l("ehpPhysical","EHP Physical"),new l("ehpMagical","EHP Magical"),new l("damage","Damage per attack"),new l("dps","Damage per second"),new l("attacksPerSecond","Attacks per second"),new l("attackTime","Time per attack")]),t.graph=function(){for(var e=[],i=t.parent.selectedHeroLevel(),n=t.parent.inventory.items(),s=t.parent.inventory.activeItems(),o=a.toJS(t.skillBuild),r=[],l=[],d=[],c=0;c<t.parent.ability().abilities().length;c++)e.push(t.parent.ability().abilities()[c].level());for(var c=1;c<26;c++){t.parent.selectedHeroLevel(c);for(var u=o.slice(0,c),h=0;h<t.parent.ability().abilities().length;h++){var p=t.parent.ability().abilities()[h],m=u.reduce(function(e,t){return e+(t==h)},0);p.level(m)}t.itemBuild()[c-1].carryOver()||(r=[],l=[]),r=r.concat(t.itemBuild()[c-1].items()),l=l.concat(t.itemBuild()[c-1].activeItems()),t.parent.inventory.items(r),t.parent.inventory.activeItems(l);for(var b={},h=0;h<t.graphProperties().length;h++){var f=t.graphProperties()[h];switch(f.id){case"dps":b[f.id]=t.parent.damageTotalInfo().totalRow[2]().toFixed(2);break;case"damage":b[f.id]=t.parent.damageTotalInfo().totalRow[0]().toFixed(2);break;default:b[f.id]=t.parent[f.id]()}}b.items=r.map(function(e){return a.toJS(e)}),d.push(b),r>0&&t.graphDataItemRows[c-1](!0)}for(var g={header:t.graphDataHeader(),description:t.graphDataDescription(),items:t.parent.inventory.items().map(function(e){return a.toJS(e)}),skillBuild:a.toJS(t.skillBuild),data:d,abilityMap:t.abilityMapData.slice(0),cumulativeSkillBuild:[],visible:a.observable(!0)},c=0;c<25;c++){for(var v=[],_=g.skillBuild.slice(0,c+1),h=0;h<g.abilityMap.length;h++){var y=g.abilityMap[h];v.push(_.reduce(function(e,t){return e+(t==y)},0))}g.cumulativeSkillBuild.push(v)}t.graphData.push(g),t.parent.selectedHeroLevel(i);for(var c=0;c<t.parent.ability().abilities().length;c++)t.parent.ability().abilities()[c].level(e[c]);t.parent.inventory.items(n),t.parent.inventory.activeItems(s)},t.removeGraphDataSet=function(e){t.graphData.remove(e)},t.selectedGraphProperty=a.observable(t.graphProperties()[0].id),t.graphChartOptions=a.computed(function(){var e="rgb(151, 154, 162)";return{responsive:!0,datasetStroke:!1,datasetStrokeWidth:-1,datasetFill:!1,pointHitDetectionRadius:10,scaleFontColor:e,scaleLineColor:e.replace("rgb","rgba").replace(")",", .1)"),scaleGridLineColor:e.replace("rgb","rgba").replace(")",", .1)")}}),t.graphChartData=a.computed(function(){for(var e={labels:[],datasets:[]},i=0;i<25;i++)e.labels.push((i+1).toString());for(var i=0;i<t.graphData().length;i++){var a=t.graphData()[i],n={label:a.header,fillColor:t.graphDistinctColor(t.graphData().length,i,.1),strokeColor:t.graphDistinctColor(t.graphData().length,i,1),pointColor:t.graphDistinctColor(t.graphData().length,i,1),pointStrokeColor:t.graphDistinctColor(t.graphData().length,i,1),pointHighlightFill:t.graphDistinctColor(t.graphData().length,i,.1),pointHighlightStroke:t.graphDistinctColor(t.graphData().length,i,.5),data:a.data.map(function(e){return e[t.selectedGraphProperty()]})};e.datasets.push(n)}return e}),t.graphDistinctColor=function(e,i,a){var a=a||1,n=t.hslToRgb(1/e*i%1,1,.5);return n.push(a),"rgba("+n.join()+")"},t.getDistinctColor=function(e,i,a){var a=a||1;return rgba=t.hslToRgb(1/e*i%1,1,.5),rgba.push(a),rgba},t.hslToRgb=function(e,t,i){var a,n,s;if(0==t)a=n=s=i;else{var o=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},r=i<.5?i*(1+t):i+t-i*t,l=2*i-r;a=o(l,r,e+1/3),n=o(l,r,e),s=o(l,r,e-1/3)}return[Math.round(255*a),Math.round(255*n),Math.round(255*s)]},t.showGraphItemBuildRows=a.observable(!1),t.showGraphSkillBuildColumns=a.observable(!1),t.graphRowHasItems=function(e){return t.graphData().some(function(t){return t.visible()&&t.data[e].items.length>0})},t.selectInventory=function(e){t.parent.selectedInventory(t.parent.selectedInventory()==e?-1:e)},t.getSelectedInventory=a.pureComputed(function(){return t.parent.selectedInventory()==-1?t.parent.inventory:t.itemBuild()[t.parent.selectedInventory()]}),t.copyInventory=function(e){t.parent.selectedInventory()!=-1&&t.parent.selectedInventory()!=e&&(t.itemBuild()[t.parent.selectedInventory()].items(t.itemBuild()[t.parent.selectedInventory()].items().concat(t.itemBuild()[e].items())),t.itemBuild()[t.parent.selectedInventory()].activeItems(o(t.itemBuild()[t.parent.selectedInventory()].activeItems(),t.itemBuild()[e].activeItems())))},t.copyInventoryToClipBoard=function(e){e==-1?(r.items=t.parent.inventory.items.slice(0),r.activeItems=t.parent.inventory.activeItems.slice(0)):(r.items=t.itemBuild()[e].items.slice(0),r.activeItems=t.itemBuild()[e].activeItems.slice(0))},t.pasteInventoryFromClipBoard=function(e){r.items.length>0&&(e==-1?(t.parent.inventory.items(t.parent.inventory.items().concat(r.items)),t.parent.inventory.activeItems(o(t.parent.inventory.activeItems(),r.activeItems))):(t.itemBuild()[e].items(t.itemBuild()[e].items().concat(r.items)),t.itemBuild()[e].activeItems(o(t.itemBuild()[e].activeItems(),r.activeItems))))},t.loadGraphData=function(e){t.parent.sectionDisplay().skillbuild(!0);for(var i=0;i<e.length;i++)e[i].visible=a.observable(e[i].visible);t.graphData(e)},t.graphChartContext=a.observable(),t.exportImage=function(){var e=window.open();e.document.write('<img src="'+t.graphChartContext().canvas.toDataURL()+'"/>')},t};t.exports=d},{"./herocalc_knockout":81,"dota-hero-calculator-library":37,"dota-hero-calculator-library/src/herocalc/AbilityModel":2,"dota-hero-calculator-library/src/herocalc/inventory/BasicInventoryViewModel":27,"dota-hero-calculator-library/src/herocalc/util/union":44}],73:[function(e,t,i){(function(i){"use strict";var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,n=e("dota-hero-calculator-library"),s=e("./DamageAmpViewModel"),o=e("./HeroDamageAmpMixin"),r=function(e,t,i,r,l){var d=this;n.CloneModel.call(this,e,t,r,l),d.bound=a.observable(!1),d.inventory=l.inventory,d.sectionDisplay=a.observable({inventory:a.observable(!0),ability:a.observable(!0),buff:a.observable(!0),debuff:a.observable(!0),damageamp:a.observable(!1),illusion:a.observable(!1),skillbuild:a.observable(!1),"skillbuild-skills":a.observable(!0),"skillbuild-items":a.observable(!0)}),d.sectionDisplayToggle=function(e){d.sectionDisplay()[e](!d.sectionDisplay()[e]())},d.showUnitTab=a.observable(!1),d.showDiff=a.observable(!1),d.showCriticalStrikeDetails=a.observable(!1),d.showDamageDetails=a.observable(!1),d.showStatDetails=a.observable(!1),d.showDamageAmpCalcDetails=a.observable(!1),d.damageAmplification=new s(e,t,i),d.damageReduction=new s(e,t,i),o(d)};r.prototype=Object.create(n.CloneModel.prototype),r.prototype.constructor=r,t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./DamageAmpViewModel":74,"./HeroDamageAmpMixin":76,"dota-hero-calculator-library":37}],74:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("dota-hero-calculator-library/src/herocalc/BuffViewModel"),s=e("dota-hero-calculator-library/src/herocalc/buffs/BuffModel"),o=e("dota-hero-calculator-library/src/herocalc/util/findWhere"),r=function(e,t,i,r){var l=this;return n.call(this,t,a.observableArray([])),l.availableBuffs=a.observableArray([new s(e,i,"slardar","slardar_sprint"),new s(e,i,"undying","undying_flesh_golem"),new s(e,i,"chen","chen_penitence"),new s(e,i,"medusa","medusa_stone_gaze"),new s(e,i,"shadow_demon","shadow_demon_soul_catcher")]),l.availableDebuffs=a.observableArray([new s(e,i,"medusa","medusa_mana_shield"),new s(e,i,"spectre","spectre_dispersion"),new s(e,i,"wisp","wisp_overcharge"),new s(e,i,"bristleback","bristleback_bristleback"),new s(e,i,"kunkka","kunkka_ghostship")]),l.selectedBuff=a.observable(l.availableBuffs()[0]),l.buffs=a.observableArray([]),l.getAbilityDamageAmpValue=function(e,t){var i=o(l.buffs(),{name:e});if(void 0==i)return 0;var a=i.data;return l.getAbilityAttributeValue(a.attributes,t,a.level())},l.getDamageMultiplierSources=a.computed(function(){for(var e={},t=0;t<l.abilities().length;t++){var i=l.abilities()[t];if(i.level()>0&&(i.isActive()||i.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(i.name){case"bristleback_bristleback":e[i.name]={multiplier:i.damageReduction()/100,damageType:"physical",displayname:i.displayname};break;case"slardar_sprint":e[i.name]={multiplier:l.getAbilityAttributeValue(i.attributes,"bonus_damage",i.level())/100,damageType:"physical",displayname:i.displayname};break;case"undying_flesh_golem":e[i.name]={multiplier:i.damageAmplification()/100,damageType:"physical",displayname:i.displayname};break;case"medusa_stone_gaze":e[i.name]={multiplier:l.getAbilityAttributeValue(i.attributes,"bonus_physical_damage",i.level())/100,damageType:"physical",displayname:i.displayname};break;case"chen_penitence":e[i.name]={multiplier:l.getAbilityAttributeValue(i.attributes,"bonus_damage_taken",i.level())/100,damageType:"physical",displayname:i.displayname};break;case"shadow_demon_soul_catcher":e[i.name]={multiplier:l.getAbilityAttributeValue(i.attributes,"bonus_damage_taken",i.level())/100,damageType:"pure",displayname:i.displayname};break;case"medusa_mana_shield":e[i.name]={multiplier:i.damageReduction()/100,damageType:"physical",displayname:i.displayname};break;case"spectre_dispersion":e[i.name]={multiplier:-l.getAbilityAttributeValue(i.attributes,"damage_reflection_pct",i.level())/100,damageType:"percentreduction",displayname:i.displayname};break;case"abaddon_aphotic_shield":e[i.name]={multiplier:l.getAbilityAttributeValue(i.attributes,"damage_absorb",i.level()),damageType:"flatreduction",displayname:i.displayname};break;case"kunkka_ghostship":e[i.name]={multiplier:-.5,damageType:"percentreduction",displayname:i.displayname};break;case"wisp_overcharge":e[i.name]={multiplier:l.getAbilityAttributeValue(i.attributes,"bonus_damage_pct",i.level())/100,damageType:"percentreduction",displayname:i.displayname}}}return e}),l};r.prototype=Object.create(n.prototype),r.prototype.constructor=r,t.exports=r},{"./herocalc_knockout":81,"dota-hero-calculator-library/src/herocalc/BuffViewModel":3,"dota-hero-calculator-library/src/herocalc/buffs/BuffModel":4,"dota-hero-calculator-library/src/herocalc/util/findWhere":39}],75:[function(e,t,i){(function(i){"use strict";var a=e("./herocalc_knockout"),n="undefined"!=typeof window?window.$:"undefined"!=typeof i?i.$:null;e("./jquery-ui.custom"),a.components.register("hero-pane",{template:'<div class="row">\n    <div class="col-md-3 col-sm-6">\n        <img class="img-rounded hero-image" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n    </div>\n    <div class="col-md-9 col-sm-6">\n        <div class="row form-group">\n            <div class="col-md-6">\n                <label for="heroselect">Hero</label>\n                <select id="heroselect" class="form-control" data-bind="options: availableHeroes , optionsText: \'heroDisplayName\', value: selectedHero"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="herolevel">Level</label>\n                <input id="herolevel" data-bind="spinner: selectedHeroLevel, spinnerOptions: { min: 1, max: 25 }">\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-6">\n                <label for="enemyselect">Enemy</label>\n                <select id="enemyselect" class="form-control" data-bind="css: enemy().playerColorCss, options: availableEnemies , optionsText: \'heroDisplayName\', value: selectedEnemy, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="enemyselect">Compare to</label>\n                <select id="enemyselect" class="form-control" data-bind="css: heroCompare().playerColorCss, options: availableCompare , optionsText: \'heroDisplayName\', value: selectedCompare, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-12 checkbox" style="margin-bottom:0px;padding-left:34px;" data-bind="visible: $root.layout() == 0">\n                <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: heroData().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a>\n                <div style="margin-left:15px;display:inline;" data-bind="style: {\'display\': $root.layout() == 1 ? \'inline\' : \'none\'}">\n                    <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: heroData().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                    <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n                </div>\n            </h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n    \n        <div class="row">\n            <div class="col-md-12" data-bind="itemBuildTable: $data.buildExplorer">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities <small style="color:inherit" data-bind="text: availableSkillPoints() ? (availableSkillPoints() == 1 ? \'1 unspent skillpoint\' : availableSkillPoints() + \' unspent skillpoints\') : \'\'"></small></h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities()">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n                <div class="form-horizontal" data-bind="if: selectedHero().heroName == \'silencer\', visible: sectionDisplay().ability()">\n                    <div class="form-group">\n                            <div class="col-md-2 control-label">\n                                <label for="intelligencestolen">Intelligence Stolen</label>\n                            </div>\n                            <div class="col-md-2">\n                                <input class="form-control" id="intelligencestolen" data-bind="value: intStolen" />\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div data-bind="component: { name: \'talent-section\', params: $data}"></div>\n        \n        <div data-bind="component: { name: \'buff-section\', params: $data}"></div>\n        \n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().illusion, css: { section_disabled: !sectionDisplay().illusion() }">Illusions</h3>\n                <div data-bind="visible: sectionDisplay().illusion(), lazyBinding: sectionDisplay().illusion">\n                    <h4 style="color:red">Under Construction</h4>\n                    <div class="form-horizontal">\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionSelect">Type</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionSelect" class="form-control" data-bind="options: availableIllusions , optionsText: \'illusionDisplayName\', value: selectedIllusion"></select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionabilitylevel">Ability Level</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionabilitylevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                                        <option data-bind="text: $index()+1"></option>\n                                    </select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                            <div class="col-md-offset-2 col-md-10">\n                                <button class="btn btn-default" data-bind="click: addIllusion">Add Illusion</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().skillbuild, css: { section_disabled: !sectionDisplay().skillbuild() }">Build Explorer</h3>\n        <div data-bind="visible: sectionDisplay().skillbuild(), attr: {id: \'section-build-explorer-\' + index() }, lazyBinding: sectionDisplay().skillbuild">\n            <div class="section-content">    \n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-skills\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-skills\']() }">Skill Build <small style="color:inherit" data-bind="text: buildExplorer.availableSkillBuildPoints() ? (buildExplorer.availableSkillBuildPoints() == 1 ? \'1 unspent skillpoint\' : buildExplorer.availableSkillBuildPoints() + \' unspent skillpoints\') : \'\'"></small></h4>\n                        <div data-bind="visible: sectionDisplay()[\'skillbuild-skills\']">\n                        <table>\n                            <tbody data-bind="template: { name: \'ability-3-template\', foreach: ability().abilities() }"></tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetSkillBuild">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-items\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-items\']() }">Item Build</h4>\n                    <div data-bind="visible: sectionDisplay()[\'skillbuild-items\']">\n                        <table class="table">\n                            <thead>\n                                <tr>\n                                    <th>Level</th>\n                                    <th class="text-center">Inventory</th>\n                                    <th></th>\n                                    <th></th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody data-bind="foreach: new Array(25), itemBuildTable: buildExplorer">\n                                <tr class="hover-cursor" data-bind="css: {\'row-highlight\': $parent.selectedInventory() == $index()}">\n                                    <td class="carry-over" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <strong data-bind="text: ($index() + 1)"></strong>\n                                        <a class="btn btn-default btn-xs glyphicon" data-bind="visible: $index() > 0, toggle: $parent.buildExplorer.itemBuild()[$index()].carryOver, preventBubble: \'click\', css: { \'glyphicon-arrow-down\': $parent.buildExplorer.itemBuild()[$index()].carryOver(), \'glyphicon-stop\': !$parent.buildExplorer.itemBuild()[$index()].carryOver() }" title="Carry over items to next level\'s inventory"></a>\n                                    </td>\n                                    <td class="col-md-10" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <div class="itemBuild-inventory" data-bind="template: { name: \'itemBuild-item-template\', foreach: $parent.buildExplorer.itemBuild()[$index()].items }"></div>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.copyInventoryToClipBoard($index()); }" title="Copy items">Copy</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.pasteInventoryFromClipBoard($index()); }" title="Paste items">Paste</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.resetItemBuild($index()); }" title="Clear inventory">Clear</a>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetAllItemBuilds">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label>Data set header label</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataHeader">\n                </div>\n                <div class="form-group">\n                    <label>Data set description</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataDescription">\n                </div>\n                <div class="form-group">\n                    <button class="btn btn-default" data-bind="click: buildExplorer.graph">Add data set</button>\n                </div>\n                <div class="form-group">\n                    <label>Hero Property</label>\n                    <select class="form-control" data-bind="options: buildExplorer.graphProperties, optionsText: \'label\', optionsValue: \'id\', value: buildExplorer.selectedGraphProperty"></select>\n                </div>\n                <!-- ko if: buildExplorer.graphData().length > 0 -->\n                <div class="form-group" data-bind="chart: buildExplorer.graphChartData, chartType: \'Scatter\', chartOptions: buildExplorer.graphChartOptions(), chartContext: buildExplorer.graphChartContext"></div>\n                <div class="form-group">\n                  <button class="btn btn-default" data-bind="click: buildExplorer.exportImage"><span class="glyphicon glyphicon-export"></span> Export Image</button>\n                </div>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphItemBuildRows, css: {\'toggled\': buildExplorer.showGraphItemBuildRows}">Show item build rows</button>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphSkillBuildColumns, css: {\'toggled\': buildExplorer.showGraphSkillBuildColumns}">Show skill build columns</button>\n                <table class="table build-table">\n                    <thead>\n                        <tr>\n                            <th class="right-border">Level</th>\n                            <!-- ko foreach: buildExplorer.graphData -->\n                            <th class="text-center" data-bind="css: { \'right-border\': !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible() }">\n                                <span data-bind="css: { \'tooltip-underline\': $data.description }, tooltip: {title: $data.description, placement: \'bottom\'}, visible: $data.visible(), text: $data.header, style: { color: $parent.buildExplorer.graphDistinctColor($parent.buildExplorer.graphData().length, $index(), 1) }"></span>\n                                <span class="btn btn-xs glyphicon glyphicon-info-sign" data-bind="visible: $data.visible(), popover: {template: \'popover-graphData-template\', data: $data, options: {} }"></span>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <th class="text-left right-border" data-bind="visible: $data.visible() && $parent.buildExplorer.showGraphSkillBuildColumns()"><abbr title="Q-W-E-R-Stats">Skill Build</abbr>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <!-- /ko -->\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: new Array(buildExplorer.graphData()[0].data.length)">\n                        <tr>\n                            <td class="right-border">\n                                <strong data-bind="text: ($index() + 1)"></strong>\n                            </td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="text-right" data-bind="css: { \'right-border\': !$parents[1].buildExplorer.showGraphSkillBuildColumns() || !$parents[1].buildExplorer.graphData()[$index()].visible() }">\n                                <span data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), text: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()][$parents[1].buildExplorer.selectedGraphProperty()]"></span>\n                            </td>\n                            <td class="text-left right-border" data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns(), text: $parents[1].buildExplorer.graphData()[$index()].cumulativeSkillBuild[$parentContext.$index()].join(\'-\')"></td>\n                            <!-- /ko -->\n                        </tr>\n                        <tr class="itemBuild-inventory" data-bind="visible: $parent.buildExplorer.showGraphItemBuildRows() && $parent.buildExplorer.graphRowHasItems($index())">\n                            <td class="right-border-itemrow no-top-border"></td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="right-border-itemrow no-top-border" data-bind="attr: { colspan: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns() ? 2 : 1 }">\n                                <div data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), foreach: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()].items">\n                                    <img class="itemBuild-img-sm img-rounded" data-bind="css: { item_disabled: !enabled, item_active: $parents[2].inventory.getActiveBorder($data) == 1, item_inactive: $parents[2].inventory.getActiveBorder($data) == 0 }, attr:{ src: $parents[2].inventory.getItemImage($data) }"/>\n                                    <div style="float:left" data-bind="visible: $parents[2].inventory.getItemSizeLabel($data) != \'\'">\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                                    </div>\n                                </div>\n                            </td>\n                            <!-- /ko -->\n                        </tr>\n                    </tbody>\n                </table>\n                <!-- /ko -->\n            </div>\n        </div>\n    </div>\n\n</div>'
}),a.components.register("unit-pane",{template:'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: selectedUnit().image}"/>\n    </div>\n    <div class="col-md-4">\n        <label for="unitselect">Unit</label>\n        <select id="unitselect" class="form-control" data-bind="options: availableUnits , optionsText: \'heroDisplayName\', value: selectedUnit"></select>\n    </div>\n    <div class="col-md-4">\n        <label for="unitlevel">Level</label>\n        <p class="form-control-static" data-bind="visible: selectedUnit().levels == 0, text: heroData().level"></p>\n        <select id="herolevel" class="form-control" data-bind="visible: selectedUnit().levels > 0, value: selectedUnitLevel, foreach: new Array(selectedUnit().levels)">\n            <option data-bind="text: $index()+1"></option>\n        </select>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-3" data-bind="visible: showStatDetails(), component: {name: \'stats-additional\', params: $data}"></div>\n            \n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Gold:</td><td class="text-right"><span data-bind="text: heroData().bountygoldmin == heroData().bountygoldmax ? heroData().bountygoldmax : heroData().bountygoldmin + \'-\' + heroData().bountygoldmax"></span></td></tr>\n                <tr><td>Experience:</td><td class="text-right"><span data-bind="text: heroData().bountyxp"></span></td></tr>\n                <tr><td>Level:</td><td class="text-right"><span data-bind="text: heroData().level"></span></td></tr>\n                <tr><td><abbr title="Movement Speed">MS</abbr>:</td><td class="text-right"><span data-bind="text: totalMovementSpeed"></span></td></tr>\n                <tr><td>Turn Rate:</td><td class="text-right"><span data-bind="text: totalTurnRate"></span></td></tr>\n                <tr><td>Sight Range:</td><td class="text-right"><span data-bind="html: \'<abbr title=\\\'Day\\\'>\' + visionrangeday() + \'</abbr>/<abbr title=\\\'Night\\\'>\' + visionrangenight() + \'</abbr>\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Health:</td><td class="text-right"><span data-bind="text: health"></span></td></tr>\n                <tr><td>Health Regen:</td><td class="text-right"><span data-bind="text: healthregen"></span></td></tr>\n                <tr><td>Mana:</td><td class="text-right"><span data-bind="text: mana"></span></td></tr>\n                <tr><td>Mana Regen:</td><td class="text-right"><span data-bind="text: manaregen"></span></td></tr>\n                <tr><td>Physical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpPhysical"></span></td></tr>\n                <tr><td>Magical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpMagical"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Armor:</td><td class="text-right"><span data-bind="text: totalArmorPhysical"></span></td></tr>\n                <tr><td>Magic Res:</td><td class="text-right"><span data-bind="html: totalMagicResistance().toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Lifesteal:</td><td class="text-right"><span data-bind="text: lifesteal"></span></td></tr>\n                <tr><td>Evasion:</td><td class="text-right"><span data-bind="text: evasion"></span></td></tr>\n                <tr><td>Bash:</td><td class="text-right"><span data-bind="text: bash"></span></td></tr>\n                <tr><td>Miss Chance:</td><td class="text-right"><span data-bind="text: missChance"></span></td></tr>\n                </tbody>\n                <tbody class="tabledropdown" style="border-top:0" data-bind="visible: showCriticalStrikeDetails(),foreach: critInfo().sources">\n                <tr><td colspan=2><strong data-bind="text: $data.name"></strong></td></tr>\n                <tr><td>Crit Chance:</td><td class="text-right"><span data-bind="text: ($data.totalchance * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Crit Multiplier:</td><td class="text-right"><span data-bind="text: ($data.multiplier * 100).toFixed(2) + \'%\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr>\n                    <td>Damage:</td>\n                    <td class="text-right">\n                        <span data-bind="html: baseDamage()[0] + \'-\' + baseDamage()[1]"></span>\n                        <span style="color:green" data-bind="visible: bonusDamage() > 0, text: \' + \' + bonusDamage()"></span>\n                        <span style="color:red" data-bind="visible: bonusDamageReduction() != 0, text: \' - \' + bonusDamageReduction()"></span>\n                    </td>\n                </tr>\n                <tr><td><abbr title="Increased Attack Speed">IAS</abbr>:</td><td class="text-right"><span data-bind="text: ias"></span></td></tr>\n                <tr><td><abbr title="Base Attack Time">BAT</abbr>:</td><td class="text-right"><span data-bind="text: bat"></span></td></tr>\n                <tr><td>Attack Time:</td><td class="text-right"><span data-bind="text: attackTime"></span></td></tr>\n                <tr><td>Attack / Sec:</td><td class="text-right"><span data-bind="text: attacksPerSecond().toFixed(2)"></span></td></tr>\n                <tr><td>Attack Range:</td><td class="text-right"><span data-bind="text: totalattackrange"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor row-highlight" data-bind="template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities</h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities()">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n            </div>\n        </div>\n\n        <div data-bind="component: { name: \'buff-section\', params: $data}"></div>\n    </div>\n</div>'}),a.components.register("clone-pane",{template:'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: \'/media/images/heroes/meepo.png\'}"/>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $root.heroes[$parentContext.$index()].clone()}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor row-highlight" data-bind="template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n    </div>\n</div>'}),a.components.register("illusion-pane",{template:'<div class="row">\n    <div class="col-md-4">\n        <div class="img-rounded" style="background-color:#428bca;display:inline-block">\n            <img class="img-rounded" style="opacity:.5" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n        </div>\n    </div>\n    <div class="col-md-4">\n        <label for="illusionlevel" data-bind="text: illusionDisplayName"></label>\n        <table class="table">\n            <tbody>\n            <tr>\n                <td>Damage Dealt</td>\n                <td class="text-right" data-bind="text: (getOutgoingDamageMultiplier(illusionType(), false, heroData().attacktype)*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            <tr>\n                <td>Damage Taken</td>\n                <td class="text-right" data-bind="text: (getIncomingDamageMultiplier(illusionType(), false, heroData().attacktype)*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="col-md-4">\n        <div data-bind="visible: illusionType() != \'item_manta\'">\n            <label for="illusionlevel">Ability Level</label>\n            <select id="illusionlevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                <option data-bind="text: $index()+1"></option>\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}">\n            </div>\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, foreach: inventory.items, visible: sectionDisplay().inventory()">\n                    <div class="btn-group">\n                        <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parent.inventory.getActiveBorder($data) == 1, item_inactive: $parent.inventory.getActiveBorder($data) == 0 }, attr:{ src: $parent.inventory.getItemImage($data) }, click: function(data, event) { $parent.inventory.toggleItem($index, data, event); }, event: { dblclick: $parent.inventory.removeItem }"/>\n                        <div style="float:left" data-bind="visible: $parent.inventory.getItemSizeLabel($data) != \'\'">\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),a.components.register("buff-settings",{template:'<div class="form-horizontal">\n    <div data-bind="foreach: data">\n        <div class="form-group" data-bind="visible: (display == undefined || display == \'buff\')">\n            <label class="col-md-6 control-label" data-bind="css: {\'checkbox-label\': controlType == \'checkbox\'}, attr: {\'for\': labelName}, html: labelName"></label>\n            <div data-bind="if: controlType == \'input\' && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6"><input class="form-control" data-bind="attr: {\'id\': labelName}, value: controlVal"></div>\n            </div>\n            <div data-bind="if: controlType == \'checkbox\' && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6">\n                    <div class="checkbox">\n                        <input type="checkbox" data-bind="attr: {\'id\': labelName}, checked: controlVal">\n                    </div>\n                </div>\n            </div>\n            <div data-bind="if: (controlType == \'text\' || controlType == \'method\') && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6"><p class="form-control-static" data-bind="html: controlVal"></p></div>\n            </div>\n            <div data-bind="if: controlType == \'radio\' && (display == undefined || display == \'buff\' || display == \'hidden\')">\n                <div class="col-md-6">\n                    <!-- ko foreach: controlOptions -->\n                    <div class="radio">\n                        <label>\n                            <input type="radio" data-bind="attr: {\'id\': $parent.labelName + value, value: value}, checked: $parent.controlVal">\n                            <span data-bind="text: text"></span>\n                        </label>\n                    </div>\n                    <!-- /ko -->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),a.components.register("talent-section",{template:'<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().talent, css: { section_disabled: !sectionDisplay().talent() }">Talents</h3>\n        <div class="row" data-bind="foreach: heroData().talents, visible: sectionDisplay().talent()">\n            <div class="talent col-xs-12">\n                <label class="talent-level col-sm-4 col-xs-12" data-bind="text: \'Level \' + ($index() * 5 + 10) + \':\'"></label>\n                <div class="talent-1 col-sm-4 col-xs-12 btn btn-default btn-sm" data-bind="text: $data[0].displayname, click: function () { $parent.toggleTalent($index(), 0) }, css: {\'toggled\': $parent.talents[$index()]() == 0}"></div>\n                <div class="talent-2 col-sm-4 col-xs-12 btn btn-default btn-sm" data-bind="text: $data[1].displayname, click: function () { $parent.toggleTalent($index(), 1) }, css: {\'toggled\': $parent.talents[$index()]() == 1}"></div>\n            </div>\n        </div>\n    </div>\n</div>'}),a.components.register("item-buff",{template:'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].buffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].buffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].buffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].buffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].buffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),a.components.register("item-debuff",{template:'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].debuffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].debuffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].debuffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].debuffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].debuffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),a.components.register("buff-section",{template:'<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }">Buffs</h3>\n        <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <select id="buffselect" class="form-control" data-bind="options: buffs.availableBuffs , optionsText: \'buffDisplayName\', value: buffs.selectedBuff"></select>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: buffs.addBuff">Add</button>\n                    <button class="btn btn-default" data-bind="click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }">Remove</button>\n                </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: buffs.buffs, visible: sectionDisplay().buff()">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="component: { name: \'ability-detail\', params: { hero: $parent, ability: $data.data } }"></div>\n                    <div data-bind="if: $data.data.name in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.buffs.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <div class="input-group">\n                        <input class="form-control" id="auto2" data-bind="attr: {id: id() + \'-auto2\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                        <span class="input-group-btn">\n                            <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto2\'"><span class="glyphicon glyphicon-search"></span></button>\n                        </span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: buffs.itemBuffs.addItemBuff">Add</button>\n                </div>\n            </div>\n        </div>\n        <div data-bind="foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()">\n            <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-buff\', params: $data}"></div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }">Debuffs</h3>\n        <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <select id="buffselect" class="form-control" data-bind="options: debuffs.availableDebuffs , optionsText: \'buffDisplayName\', value: debuffs.selectedBuff"></select>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: debuffs.addBuff">Add</button>\n                    <button class="btn btn-default" data-bind="click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }">Remove</button>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="foreach: debuffs.buffs, visible: sectionDisplay().debuff()">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="component: { name: \'ability-detail\', params: { hero: $parent, ability: $data.data } }"></div>\n                    <div data-bind="if: $data.data.name in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.debuffs.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <div class="input-group">\n                        <input class="form-control" id="auto3" data-bind="attr: {id: id() + \'-auto3\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                        <span class="input-group-btn">\n                            <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto3\'"><span class="glyphicon glyphicon-search"></span></button>\n                        </span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: debuffs.itemBuffs.addItemDebuff">Add</button>\n                </div>\n            </div>\n        </div>\n        <div data-bind="foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()">\n            <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-debuff\', params: $data}"></div>\n        </div>\n    </div>\n</div>'
}),a.components.register("damage-details",{template:'<div class="row">\n    <div class="col-md-12">\n        <h3 style="display:block;" class="section_header" data-bind="toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }">Damage Details\n            <span class="pull-right" data-bind="visible: showDamageDetails()">\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'physical\')}">Physical</small>\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'magic\')}">Magical</small>\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'pure\')}">Pure</small>\n            </span>\n        </h3>\n        <table class="table damage-details" data-bind="visible: showDamageDetails()">\n            <thead>\n                <tr class="damage-details-header-row">\n                    <td></td>\n                    <td class="text-center" colspan="2"><strong>Attack Damage</strong><img src="img/reduc_icon.png" class="pull-right" data-bind="attr: {title: \'After reductions from \' + enemy().heroData().displayname}"></td>\n                    <td class="text-center" colspan="2"><strong>DPS</strong><img src="img/reduc_icon.png" class="pull-right" data-bind="attr: {title: \'After reductions from \' + enemy().heroData().displayname}"></td>\n                </tr>\n                <tr class="damage-details-header-row-2 total-row">\n                    <td><strong>Total</strong></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[0]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[1]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[2]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[3]().toFixed(2)"></td>\n                </tr>\n            </thead>\n            <!-- ko foreach: damageTotalInfo().attacks -->\n            <tbody>\n                <tr class="indent subtotal-row" data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                        <button class="btn btn-default btn-xs glyphicon pull-right" data-bind="toggle: $data.visible, css: {\'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}, preventBubble: \'click\'"></button>\n                        <strong><span data-bind="text: $data.name"></span></strong>\n                    </td>\n                    <td class="text-right" data-bind="text: $data.totalRow[0]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[1]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[2]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[3]().toFixed(2)"></td>\n                </tr>\n            </tbody>\n            <tbody class="indent" data-bind="foreach: $data.sources, visible: $data.visible">\n                <tr data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td class="indent">\n                        <span data-bind="text: $data.name"></span>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                    </td>\n                    <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dps.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dpsReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n            </tbody>\n            <tr class="indent crit" data-bind="visible: $data.visible() && $data.sourcesCrit.length > 0">\n                <td class="indent">Critical Strike Proc, <span data-bind="text: ($data.totalCritChance * 100).toFixed(1) + \'%\'"></span></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[0]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[1]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[2]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[3]().toFixed(2)"></td>\n            </tr>\n            <tbody class="indent" data-bind="visible: $data.visible, foreach: $data.sourcesCrit">\n                <tr class="indent crit" data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td class="indent">\n                        <span data-bind="text: $data.name"></span>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                    </td>\n                    <td class="text-right"><span data-bind="html: $data.damage.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dps.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dpsReduced.toFixed(2)"></span></td>\n                </tr>\n            </tbody>\n            <!-- /ko -->\n            <tbody>\n                <tr data-bind="visible: cleaveInfo().length > 0">\n                    <td colspan=3><strong>Cleave</strong></td>\n                </tr>\n            </tbody>    \n            <tbody data-bind="foreach: cleaveInfo()">\n                <tr><td>Radius:</td><td class="text-right"><span data-bind="html: $data.radius"></span></td></tr>\n                <tr><td>Magnitude:</td><td class="text-right"><span data-bind="html: ($data.magnitude * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr>\n                    <td>Cleave Damage:</td>\n                    <td class="text-right"><span data-bind="html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)"></span></td>\n                </tr>\n            </tbody>\n        \n        </table>\n    </div>\n</div>'}),a.components.register("damage-amp",{template:'<div class="col-md-12">\n    <h3 class="section_header" data-bind="toggle: sectionDisplay().damageamp, css: { section_disabled: !sectionDisplay().damageamp() }">Damage Amplification & Reduction</h3>\n    <div data-bind="visible: sectionDisplay().damageamp(), lazyBinding: sectionDisplay().damageamp">\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="damageinput">Damage</label>\n                    </div>\n                    <div class="col-md-6">\n                        <input class="form-control" id="damageinput" data-bind="value: damageInputValue" />\n                    </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffampselect">Amplification</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffampselect" class="form-control" data-bind="options: damageAmplification.availableBuffs , optionsText: \'buffDisplayName\', value: damageAmplification.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageAmplification.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageAmplification.removeBuff(data, event, damageAmplification.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageAmplification.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.damageAmplification.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageAmplification.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="component: { name: \'ability-detail\', params: { hero: $parent, ability: $data.data } }"></div>\n                    <div data-bind="if: $data.data.name in $parent.damageAmplification.abilityData && $parent.damageAmplification.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageAmplification.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffreductionselect">Reduction</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffreductionselect" class="form-control" data-bind="options: damageReduction.availableDebuffs , optionsText: \'buffDisplayName\', value: damageReduction.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageReduction.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageReduction.removeBuff(data, event, damageReduction.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageReduction.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name + \'.png\'}, click: function(data, event) { $parent.damageReduction.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageReduction.removeBuff(data, event, $data.data.name) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="component: { name: \'ability-detail\', params: { hero: $parent, ability: $data.data } }"></div>\n                    <div data-bind="if: $data.data.name in $parent.damageReduction.abilityData && $parent.damageReduction.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageReduction.abilitySettingsData($data.data.name, $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <h4>Calculations <a class="btn btn-default btn-xs" data-bind="toggle: showDamageAmpCalcDetails, text: !showDamageAmpCalcDetails() ? \'Show details\' : \'Hide details\'"></a></h4>\n        <table class="table">\n            <tbody>\n                <!-- ko foreach: damageInputModified().data -->\n                <tr data-bind="visible: $parent.showDamageAmpCalcDetails()">\n                    <td><span style="text-decoration: underline;" data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                    <!-- ko foreach: $data.data -->\n                    <tr data-bind="visible: $parents[1].showDamageAmpCalcDetails()">\n                        <td><span data-bind="text: $data.label"></span></td>\n                        <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, diffStyle: $data.value"></span></td>\n                    </tr>\n                    <!-- /ko -->\n                <tr data-bind="css: {subtotal: $parent.showDamageAmpCalcDetails()}">\n                    <td data-bind="visible: $parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage subtotal\'"></span></td>\n                    <td data-bind="visible: !$parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.total * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                <!-- /ko -->\n                <tr>\n                    <td><strong data-bind="text: damageInputModified().label + \' damage\'"></strong></td>\n                    <td class="text-right"><strong data-bind="html: Math.round(damageInputModified().total * 100) / 100, style: {color: getDamageTypeColor(damageInputModified().damageType)}"></strong></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>'}),a.components.register("ability",{template:'<div data-bind="if: $data.displayname != \'Empty\' &&  ($data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_HIDDEN\') == -1 || $data.name.indexOf(\'invoker_\') != -1),\nstyle: {clear: $data.name == \'invoker_cold_snap\' || $data.name == \'invoker_chaos_meteor\' ? \'both\' : \'\'},\ncss: {row: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()), row3: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()) }">\n    <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n        <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.isActive() || $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.isActive() && $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.name + \'.png\'}, click: function(data, event) { $parents[1].ability().toggleAbility($index, data, event); }"/>\n        <div class="progress" style="position:relative">\n            <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parents[1].getAbilityLevelMax($data) > 0, text: $data.level() + \'/\' + $parents[1].getAbilityLevelMax($data)"></div>\n            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) }, style: { width: ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) + \'%\' }"></div>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelDownAbility($index, data, event, $parents[1]); }">-</a>\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelUpAbility($index, data, event, $parents[1]); }">+</a>\n        </div>\n        <div class="btn-group btn-group-justified">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }, css: {\'toggled\': $data.isDetail}">Details</a>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior.indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') != -1">\n            <a class="btn btn-default btn-sm btn-block" style="visibility:hidden;">&mdash;</a>\n        </div>\n    </div>\n    <div class="col-md-9 bottom-buffer2" data-bind="visible: $data.isDetail()">\n        <button type="button" class="close" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }">&times;</button>\n        <div data-bind="component: { name: \'ability-detail\', params: { hero: $parents[1], ability: $data } }"></div>\n        <div data-bind="if: $data.name in $parents[1].ability().abilityData && $parents[1].ability().abilities()[$index()].level() > 0">\n            <div class="col-md-12" style="margin-top: 10px" >\n                <div data-bind="template: { name: \'ability-settings-template\', data: $parents[1].ability().abilitySettingsData($data.name, $parents[1], $index()) }"></div>\n            </div>\n        </div>\n    </div>\n</div>'});var s=e("../components/ability-detail");a.components.register("ability-detail",s),a.components.register("shop",e("../components/shop")),a.components.register("stat",{template:'<span data-bind="text: parseFloat(hero[stat]()).toString()"></span><span data-bind="html: $root.getDiffText(hero.diff[stat]()), diffCss: hero.diff[stat], diffCssStat: stat, visible: hero.showDiff"></span>'}),a.components.register("stats0",{template:"<div class=\"col-md-12 stats0\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Strength:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalStr' } }\"></td></tr>\n    <tr><td>Agility:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalAgi' } }\"></td></tr>\n    <tr><td>Intelligence:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalInt' } }\"></td></tr>\n    <tr><td><abbr title=\"Movement Speed\">MS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMovementSpeed' } }\"></td></tr>\n    <tr><td>Turn Rate:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalTurnRate' } }\"></td></tr>\n    <tr><td>Sight Range:</td><td class=\"text-right\"><span data-bind=\"html: '<abbr title=\\'Day\\'>' + visionrangeday() + '</abbr>/<abbr title=\\'Night\\'>' + visionrangenight() + '</abbr>'\"></span></td></tr>\n    <tr><td>%Spell Amp:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'spellAmp' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),a.components.register("stats1",{template:"<div class=\"col-md-12 stats1\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Armor:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysical' } }\"></td></tr>\n    <tr><td>Health:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'health' } }\"></td></tr>\n    <tr><td>Health Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'healthregen' } }\"></td></tr>\n    <tr><td>Mana:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'mana' } }\"></td></tr>\n    <tr><td>Mana Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'manaregen' } }\"></td></tr>\n    <tr><td>Physical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpPhysical' } }\"></td></tr>\n    <tr><td>Magical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpMagical' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),a.components.register("stats2",{template:"<div class=\"col-md-12 stats2\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>%Phys Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysicalReduction' } }\"></td></tr>\n    <tr><td>%Magic Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMagicResistance' } }\"></td></tr>\n    <tr><td>%Lifesteal:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'lifesteal' } }\"></td></tr>\n    <tr><td>%Evasion:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'evasion' } }\"></td></tr>\n    <tr><td>%Bash:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bash' } }\"></td></tr>\n    <tr><td>%Miss Chance:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'missChance' } }\"></td></tr>\n    <tr><td><abbr title=\"% Cooldown Reduction\">%CDR</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'cooldownReductionPercent' } }\"></td></tr>\n    <tr style=\"display: none\"><td colspan=2><a class=\"btn btn-default btn-block btn-xs\" data-bind=\"css: {disabled: critInfo().sources.length == 0 ? 'disabled' : '', 'toggled': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails\">Critical Strike Details</a></td></tr>\n    </tbody>\n    <tbody class=\"tabledropdown\" style=\"border-top:0\" data-bind=\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\">\n    <tr><td colspan=2><strong data-bind=\"text: $data.name\"></strong></td></tr>\n    <tr><td>Crit Chance:</td><td class=\"text-right\"><span data-bind=\"text: ($data.totalchance * 100).toFixed(2) + '%'\"></span></td></tr>\n    <tr><td>Crit Multiplier:</td><td class=\"text-right\"><span data-bind=\"text: ($data.multiplier * 100).toFixed(2) + '%'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),a.components.register("stats3",{template:"<div class=\"col-md-12 stats3\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr>\n        <td>Damage:</td>\n        <td class=\"text-right\">\n            <span data-bind=\"html: baseDamage()[0].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[0]), css: {'diffPos': diff['baseDamage']()[0] > 0, 'diffNeg': diff['baseDamage']()[0] < 0}, visible: showDiff\"></span>\n            <span>&ndash;</span>\n            <span data-bind=\"html: baseDamage()[1].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[1]), css: {'diffPos': diff['baseDamage']()[1] > 0, 'diffNeg': diff['baseDamage']()[1] < 0}, visible: showDiff\"></span>\n            <span style=\"color:green\" data-bind=\"visible: bonusDamage() > 0, html: ' + ' + bonusDamage().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamage']()), css: {'diffPos': diff['bonusDamage']() > 0, 'diffNeg': diff['bonusDamage']() < 0}, visible: showDiff\"></span>\n            <span style=\"color:red\" data-bind=\"visible: bonusDamageReduction() != 0, html: ' - ' + bonusDamageReduction().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamageReduction']()), css: {'diffPos': diff['bonusDamageReduction']() > 0, 'diffNeg': diff['bonusDamageReduction']() < 0}, visible: showDiff\"></span>\n        </td>\n    </tr>\n    <tr><td><abbr title=\"Increased Attack Speed\">IAS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ias' } }\"></td></tr>\n    <tr><td><abbr title=\"Base Attack Time\">BAT</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bat' } }\"></td></tr>\n    <tr><td>Attack Time:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attackTime' } }\"></td></tr>\n    <tr><td>Attack &frasl; Sec:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attacksPerSecond' } }\"></td></tr>\n    <tr><td>Attack Range:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalattackrange' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),a.components.register("stats-additional",{template:'<table class="table table-condensed">\n    <tbody>\n        <tr><td>Base Strength:</td><td class="text-right"><span data-bind="text: heroData().attributebasestrength"></span></td></tr>\n        <tr><td>Strength Gain:</td><td class="text-right"><span data-bind="text: heroData().attributestrengthgain"></span></td></tr>\n        <tr><td>Base Agility:</td><td class="text-right"><span data-bind="text: heroData().attributebaseagility"></span></td></tr>\n        <tr><td>Agility Gain:</td><td class="text-right"><span data-bind="text: heroData().attributeagilitygain"></span></td></tr>\n        <tr><td>Base Intelligence:</td><td class="text-right"><span data-bind="text: heroData().attributebaseintelligence"></span></td></tr>\n        <tr><td>Intelligence Gain:</td><td class="text-right"><span data-bind="text: heroData().attributeintelligencegain"></span></td></tr>\n        <tr><td>Base Armor:</td><td class="text-right"><span data-bind="text: heroData().armorphysical"></span></td></tr>\n        <tr><td><abbr title="Base Armor + armor from base agility">Starting Armor:</abbr></td><td class="text-right"><span data-bind="text: parseFloat($data.startingArmor()).toString()"></span></td></tr>\n        <tr><td>Base Magic Res:</td><td class="text-right"><span data-bind="text: heroData().magicalresistance + \'%\'"></span></td></tr>\n        <tr><td>Base Attack Point:</td><td class="text-right"><span data-bind="text: heroData().attackpoint"></span></td></tr>\n        <tr><td><abbr data-bind="attr: { title: \'Total experience required to reach level \' + $data.selectedHeroLevel() }">Total Exp:</abbr></td><td class="text-right"><span data-bind="text: $data.totalExp()"></span></span></td></tr>\n        <tr><td><abbr title="Experience required for next level">Next level exp:</abbr></td><td class="text-right"><span data-bind="html: $data.nextLevelExp()"></span></span></td></tr>\n        <tr><td>Respawn Time:</td><td class="text-right"><span data-bind="text: $data.respawnTime()"></span></td></tr>\n    </tbody>\n</table>'
});var o=(e("dota-hero-calculator-library"),e("dota-hero-calculator-library/src/herocalc/util/findWhere")),r=e("dota-hero-calculator-library/src/herocalc/util/uniqueId"),l=e("dota-hero-calculator-library/src/herocalc/data/main").itemData,d=e("dota-hero-calculator-library/src/herocalc/data/main").unitData,c=e("dota-hero-calculator-library/src/herocalc/data/main").heroData,u=e("dota-hero-calculator-library/src/herocalc/inventory/stackableItems"),h=e("dota-hero-calculator-library/src/herocalc/inventory/levelItems"),p=e("./herocalc_tooltips_item"),m=e("./HeroViewModel"),b=e("./CloneViewModel"),f=e("./UnitViewModel"),g=(e("dota-hero-calculator-library/src/herocalc/AbilityModel"),["#2E6AE6","#5DE6AD","#AD00AD","#DCD90A","#E66200","#E67AB0","#92A440","#5CC5E0","#00771F","#956000"]),v=function(e,t,i,n,s,o){var r=this;return r.id=e,r.href=t,r.color=s,r.data=i,r.data.id=a.observable(r.href),r.text=n,r.template=o,r};v.prototype.toJS=function(){return{id:this.id,href:this.href,color:this.color,text:this.text,template:this.template}};var _=function(e,t,i){var n=this;return n.hero=e,n.unit=t,n.clone=i,n.illusions=a.observableArray([]),n};_.prototype.toJS=function(){return{hero:this.hero.toJS(),unit:this.unit.toJS(),clone:this.clone.toJS(),illusions:this.illusions().map(function(e){return e.toJS()})}};var y=function(e){var t=this;t.heroes=[],n.getJSON(e,function(e){s.abilityTooltipData(e)});for(var i=0;i<10;i++)t.heroes.push(new m(c,l,d,i));for(var i=0;i<5;i++){for(var y=[],w=5;w<10;w++)y.push(t.heroes[w]);t.heroes[i].enemies.push.apply(t.heroes[i].enemies,y)}for(var i=5;i<10;i++){for(var y=[],w=0;w<5;w++)y.push(t.heroes[w]);t.heroes[i].enemies.push.apply(t.heroes[i].enemies,y)}for(var i=0;i<10;i++){for(var y=[],w=0;w<10;w++)i!==w&&y.push(t.heroes[w]);t.heroes[i].otherHeroes.push.apply(t.heroes[i].otherHeroes,y)}for(var i=0;i<10;i++)t.heroes[i].clone=a.observable(new b(c,l,d,"meepo",t.heroes[i])),t.heroes[i].unit=a.observable(new f(c,l,d,"abaddon",t.heroes[i])),t.heroes[i].selectedCompare(t.heroes[i].availableCompare()[i<5?4+i:i-5]),t.heroes[i].selectedEnemy(t.heroes[i].availableEnemies()[i%5]),t.heroes[i].unit().enemy(t.heroes[i].enemy()),t.heroes[i].unit().selectedUnit(t.heroes[i].unit().availableUnits()[0]),t.heroes[i].illusions.subscribe(function(e){for(var i=0;i<e.length;i++)if("added"==e[i].status){var a=this.index<2?"#5cb85c":"#d9534f",n=r();t.tabs()[this.index].illusions.push(new v("illusionTab"+this.index+"-"+n,"illusionPane"+this.index+"-"+n,t.heroes[this.index].illusions()[t.tabs()[this.index].illusions().length](),"Illusion "+n,a,"illusion-pane"))}},{vm:this,index:i},"arrayChange");t.heroes[0].bound(!0),t.tabs=a.observableArray([]);for(var x=[],i=0;i<10;i++){var A=g[i],k=new _(new v("heroTab"+i,"heroPane"+i,t.heroes[i],"Hero "+i,A,"hero-pane"),new v("unitTab"+i,"unitPane"+i,t.heroes[i].unit(),"Unit "+i,A,"unit-pane"),new v("cloneTab"+i,"clonePane"+i,t.heroes[i].clone(),"Meepo Clone "+i,A,"clone-pane"));x.push(k)}t.tabs.push.apply(t.tabs,x),t.selectedItem=a.observable(),t.layout=a.observable("1"),t.displayShop=a.observable(!0),t.displayShopItemTooltip=a.observable(!0),t.allItems=a.observableArray([{name:"Str, Agi, Int, MS, Turn, Sight",value:"stats0"},{name:"Armor, Health, Mana, Regen, EHP",value:"stats1"},{name:"Phys Res, Magic Res, Lifesteal, Evasion, Bash, Miss",value:"stats2"},{name:"Damage, IAS, BAT, Attack",value:"stats3"}]),t.selectedItems=a.observableArray([]),t.moveUp=function(){var e=t.allItems.indexOf(t.selectedItems()[0]),i=t.allItems.indexOf(t.selectedItems()[t.selectedItems().length-1]);if(e>0){var a=t.allItems.splice(e-1,1);t.allItems.splice(i,0,a[0])}},t.moveDown=function(){var e=t.allItems.indexOf(t.selectedItems()[0]),i=t.allItems.indexOf(t.selectedItems()[t.selectedItems().length-1]);if(i<t.allItems().length-1){var a=t.allItems.splice(i+1,1);t.allItems.splice(e,0,a[0])}},t.selectedTabId=a.observable("heroTab0"),t.getSelectedTab=function(e){var i=e.replace("heroTab","").replace("cloneTab","").replace("unitTab","").replace("illusionTab","").split("-"),a=i[0],n=t.tabs()[a];return n},t.selectedTab=a.computed(function(){var e=t.getSelectedTab(t.selectedTabId());return t.selectedTabId().indexOf("hero")!=-1?e.hero:t.selectedTabId().indexOf("unit")!=-1?e.unit:t.selectedTabId().indexOf("clone")!=-1?e.clone:t.selectedTabId().indexOf("illusion")!=-1?e.illusions().find(function(e){return e.id==t.selectedTabId()}):t.tabs()[0].hero}),t.selectedTabs=a.observableArray(["heroTab0","heroTab1"]),t.boundSettings=a.observable(!1),t.clickTab=function(e,i,a){if(t.selectedTabId(i.target.id),t.selectedTabs()[1]!=i.target.id&&(t.selectedTabs.shift(),t.selectedTabs.push(i.target.id)),t.selectedTab().data.hasOwnProperty("bound")&&(t.selectedTab().data.bound(!0),t.selectedTab().data.hasOwnProperty("buildExplorer"))){var n=t.selectedTab().data.buildExplorer;setTimeout(function(){n.graphData.valueHasMutated()},0)}"settingsTab"===i.target.id&&t.boundSettings(!0)},t.isSecondTab=function(e){return t.selectedTabs().indexOf(e)>-1&&t.selectedTabId()!=e},t.showSideTabId=function(e){return t.selectedTabs().indexOf(e)>-1&&t.sideView()},t.removeTab=function(e,i,a,s){i.id==t.selectedTabId()&&(t.clickTab(null,{target:{id:"heroTab0"}}),n("#heroTab0").tab("show")),t.tabs()[s].illusions.remove(function(e){return e==i}),t.heroes[s].illusions.remove(function(e){return e()==i.data})},t.sideView=a.observable(!1),t.sideView.subscribe(function(e){if(e){t.shopPopout()||t.displayShop(!1);for(var i=0;i<t.selectedTabs().length;i++){var a=t.getSelectedTab(t.selectedTabs()[i]);a&&a.hero.data.hasOwnProperty("bound")&&a.hero.data.bound(!0)}t.layout("0")}});var T=n(window);t.windowWidth=a.observable(T.width()),t.windowHeight=a.observable(T.height()),T.resize(function(){t.windowWidth(T.width()),t.windowHeight(T.height())}),t.shopDock=a.observable(!1),t.shopDock.subscribe(function(e){e&&t.shopPopout(!1)}),t.shopDockTrigger=a.computed(function(){t.windowWidth(),t.shopDock()}),t.shopPopout=a.observable(!1),t.shopPopout.subscribe(function(e){e?(t.displayShop(!0),n("#shop-dialog").dialog({minWidth:380,minHeight:0,closeText:"",open:function(e,i){n(e.target.offsetParent).find(".ui-dialog-titlebar").find("button").addClass("close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right").removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close").css("margin-right","0px").parent().append(n("#shop-minimize")).append(n("#shop-maximize")),n(e.target.offsetParent).find(".ui-dialog-titlebar").dblclick(function(){t.displayShop(!t.displayShop())})},close:function(e,i){t.shopPopout(!1)}})):(n("#shop-container").prepend(n("#shop-minimize")).prepend(n("#shop-maximize")),n("#shop-dialog").dialog("destroy"))}),t.addItem=function(e,i){t.selectedTab().data.buildExplorer?t.selectedTab().data.buildExplorer.getSelectedInventory().addItem(e,i):t.selectedTab().data.inventory.addItem(e,i)},t.itemOptions=a.computed(function(){return t.selectedTab().data.inventory.itemOptions()}),t.changeSelectedItem=function(e,i){t.itemInputValue(1),t.selectedItem(i.target.id)},t.getItemTooltipData=a.computed(function(){return p(l,t.selectedItem())},this),t.getItemInputLabel=a.computed(function(){return u.indexOf(t.selectedItem())!=-1?"Stack Size":h.indexOf(t.selectedItem())!=-1?"Upgrade Level":"bloodstone"==t.selectedItem()?"Charges":""},this),t.itemInputValue=a.observable(1),t.saveLink=a.observable(),t.getAppState=function(){var e={selectedItem:t.selectedItem,layout:t.layout,displayShop:t.displayShop,displayShopItemTooltip:t.displayShopItemTooltip,allItems:t.allItems,selectedItems:t.selectedItems,selectedTabId:t.selectedTabId,selectedTabs:t.selectedTabs,boundSettings:t.boundSettings,sideView:t.sideView,windowWidth:t.windowWidth,windowHeight:t.windowHeight,shopDock:t.shopDock,shopPopout:t.shopPopout,itemInputValue:t.itemInputValue,saveLink:t.saveLink};return e.tabs=t.tabs().map(function(e){return e.toJS()}),a.toJS(e)},t.getSaveData=function(){for(var e={version:"1.3.0",heroes:[]},i=0;i<10;i++){for(var n=t.heroes[i],s={hero:n.selectedHero().heroName,level:n.selectedHeroLevel(),items:[],abilities:[],skillPointHistory:n.skillPointHistory(),buffs:[],itemBuffs:[],debuffs:[],itemDebuffs:[],graphData:[],enemyIndex:n.enemy().index(),heroCompareIndex:n.heroCompare().index()},o=0;o<n.inventory.items().length;o++)s.items.push(a.toJS(n.inventory.items()[o]));for(var o=0;o<n.ability().abilities().length;o++)s.abilities.push({level:n.ability().abilities()[o].level(),isActive:n.ability().abilities()[o].isActive()});for(var o=0;o<n.buffs.buffs().length;o++)s.buffs.push({name:n.buffs.buffs()[o].name,level:n.buffs.buffs()[o].data.level(),isActive:n.buffs.buffs()[o].data.isActive()});for(var o=0;o<n.debuffs.buffs().length;o++)s.debuffs.push({name:n.debuffs.buffs()[o].name,level:n.debuffs.buffs()[o].data.level(),isActive:n.debuffs.buffs()[o].data.isActive()});for(var o=0;o<n.buffs.itemBuffs.items().length;o++)s.itemBuffs.push(a.toJS(n.buffs.itemBuffs.items()[o]));for(var o=0;o<n.debuffs.itemBuffs.items().length;o++)s.itemDebuffs.push(a.toJS(n.debuffs.itemBuffs.items()[o]));s.graphData=a.toJS(n.buildExplorer.graphData),e.heroes.push(s)}return e},t.save=function(){var e=t.getSaveData(),i=JSON.stringify(e);n.ajax({type:"POST",url:"save.php",data:{data:i},dataType:"json",success:function(e){t.saveLink([location.protocol,"//",location.host,location.pathname].join("")+"?id="+e.file)},failure:function(e){alert("Save request failed.")}})},t.load=function(e){for(var i=0;i<e.heroes.length;i++){var n=t.heroes[i];if(n.selectedHero(o(n.availableHeroes(),{heroName:e.heroes[i].hero})),n.selectedHeroLevel(e.heroes[i].level),n.inventory.items.removeAll(),n.inventory.activeItems.removeAll(),e.heroes[i].hasOwnProperty("heroCompareIndex")){var s=n.availableCompare().filter(function(t){return t.hero.index()==e.heroes[i].heroCompareIndex});s.length&&(n.selectedCompare(s[0]),n.heroCompare(s[0].hero))}if(e.heroes[i].hasOwnProperty("enemyIndex")){var s=n.availableEnemies().filter(function(t){return t.hero.index()==e.heroes[i].enemyIndex});s.length&&(n.selectedEnemy(s[0]),n.enemy(s[0].hero))}for(var r=0;r<e.heroes[i].items.length;r++){var l=e.heroes[i].items[r],d={item:l.item,state:a.observable(l.state),size:l.size,enabled:a.observable(l.enabled)};n.inventory.items.push(d)}for(var r=0;r<e.heroes[i].abilities.length;r++)n.ability().abilities()[r].level(e.heroes[i].abilities[r].level),n.ability().abilities()[r].isActive(e.heroes[i].abilities[r].isActive);n.skillPointHistory(e.heroes[i].skillPointHistory);for(var r=0;r<e.heroes[i].buffs.length;r++){n.buffs.selectedBuff(o(n.buffs.availableBuffs(),{buffName:e.heroes[i].buffs[r].name})),n.buffs.addBuff(n,{});var c=o(n.buffs.buffs(),{name:e.heroes[i].buffs[r].name});c.data.level(e.heroes[i].buffs[r].level),c.data.isActive(e.heroes[i].buffs[r].isActive)}for(var r=0;r<e.heroes[i].debuffs.length;r++){n.debuffs.selectedBuff(o(n.debuffs.availableDebuffs(),{buffName:e.heroes[i].debuffs[r].name})),n.debuffs.addBuff(n,{});var c=o(n.debuffs.buffs(),{name:e.heroes[i].debuffs[r].name});c.data.level(e.heroes[i].debuffs[r].level),c.data.isActive(e.heroes[i].debuffs[r].isActive)}if(e.heroes[i].itemBuffs)for(var r=0;r<e.heroes[i].itemBuffs.length;r++){var l=e.heroes[i].itemBuffs[r],d={item:l.item,state:a.observable(l.state),size:l.size,enabled:a.observable(l.enabled)};n.buffs.itemBuffs.items.push(d)}if(e.heroes[i].itemDebuffs)for(var r=0;r<e.heroes[i].itemDebuffs.length;r++){var l=e.heroes[i].itemDebuffs[r],d={item:l.item,state:a.observable(l.state),size:l.size,enabled:a.observable(l.enabled)};n.debuffs.itemBuffs.items.push(d)}e.heroes[i].graphData&&n.buildExplorer.loadGraphData(e.heroes[i].graphData)}},t.sendReport=function(){n("#BugReportFormText").val()?(n.post("report.php",{name:n("#BugReportFormName").val(),email:n("#BugReportFormEmail").val(),body:n("#BugReportFormText").val()}).done(function(e){"Success"==e?(alert("Report successfully sent. Thanks!"),n("#BugReportFormText").val("")):alert("Failed to send report. Try again later or email admin@devilesk.com")}),n("#myModal").modal("hide")):alert("Message is required.")},t.getProperty=function(e,t){for(var i=e,a=0;a<t.length;a++)i=i[t[a]];return i},t.getDiffTextWrapper=function(e,i){return t.getDiffText(t.getDiffMagnitude(e,i))},t.getDiffMagnitude=function(e,i){var a=i.split(".");return t.getProperty(e.damageTotalInfo(),a).toFixed(2)-t.getProperty(e.heroCompare().damageTotalInfo(),a).toFixed(2)},t.getDiffText=function(e){return e>0?"+"+parseFloat(e.toFixed(2)):e<0?"&minus;"+parseFloat(e.toFixed(2)*-1).toString():""},t.highlightedTabInternal=a.observable(""),t.highlightedTab=a.computed(function(){return t.highlightedTabInternal()}).extend({throttle:100}),t.highlightTab=function(e){t.highlightedTabInternal(e)},t.unhighlightTab=function(e){t.highlightedTabInternal("")}};t.exports=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../components/ability-detail":85,"../components/shop":86,"./CloneViewModel":73,"./HeroViewModel":77,"./UnitViewModel":79,"./herocalc_knockout":81,"./herocalc_tooltips_item":82,"./jquery-ui.custom":83,"dota-hero-calculator-library":37,"dota-hero-calculator-library/src/herocalc/AbilityModel":2,"dota-hero-calculator-library/src/herocalc/data/main":8,"dota-hero-calculator-library/src/herocalc/inventory/levelItems":34,"dota-hero-calculator-library/src/herocalc/inventory/stackableItems":35,"dota-hero-calculator-library/src/herocalc/util/findWhere":39,"dota-hero-calculator-library/src/herocalc/util/uniqueId":45}],76:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("dota-hero-calculator-library/src/herocalc/util/extend"),s=e("dota-hero-calculator-library/src/herocalc/util/findWhere"),o=function(e,t,i,a,n){this.label=e||"",this.damageType=t||"",this.value=parseFloat(i)||0,this.data=a||[],this.total=parseFloat(n)||0},r=function(e){e.damageBrackets=[["medusa_mana_shield","templar_assassin_refraction","faceless_void_backtrack","nyx_assassin_spiked_carapace"],["spectre_dispersion","wisp_overcharge","slardar_sprint","bristleback_bristleback","undying_flesh_golem"],["abaddon_borrowed_time","abaddon_aphotic_shield","kunkka_ghostship","treant_living_armor"],["chen_penitence","medusa_stone_gaze","shadow_demon_soul_catcher"],["dazzle_shallow_grave"]],e.getDamageAfterBracket=function(t,i){for(var a=e.damageBrackets[i],n=1,o=0;o<a.length;o++)void 0==s(e.damageAmplification.buffs,{name:a[o].name})&&void 0==s(e.damageReduction.buffs,{name:a[o].name})||(n+=a[o].value);return t*n},e.processDamageAmpReducBracket=function(t,i,a){for(var n=1,s=[],a=parseFloat(a),r=parseFloat(a),l=0;l<e.damageBrackets[t].length;l++)void 0!=i[e.damageBrackets[t][l]]&&(n=1+parseFloat(i[e.damageBrackets[t][l]].multiplier),r+=a*n-a,s.push(new o(i[e.damageBrackets[t][l]].displayname,i[e.damageBrackets[t][l]].damageType,a*n-a,[],r)));return s},e.getDamageAmpReducInstance=function(t,i,a,n){var s=[],r=parseFloat(i),l="initial"==a?"Initial":t[a].displayname;return s=s.concat(e.processDamageAmpReducBracket(0,t,r)),r=s[s.length-1]?s[s.length-1].total:r,s=s.concat(e.processDamageAmpReducBracket(1,t,r)),r=s[s.length-1]?s[s.length-1].total:r,s=s.concat(e.processDamageAmpReducBracket(2,t,r)),r=s[s.length-1]?s[s.length-1].total:r,new o(l,n,i,s,s[s.length-1]?s[s.length-1].total:r)},e.getDamageAmpReduc=function(t){var i=[],a={},s=e.damageReduction.getDamageMultiplierSources(),r=e.damageAmplification.getDamageMultiplierSources();n(a,s),n(a,r),i.push(e.getDamageAmpReducInstance(a,t,"initial","physical"));for(var l=["shadow_demon_soul_catcher","medusa_stone_gaze","chen_penitence"],d=0;d<l.length;d++)void 0!=a[l[d]]&&i.push(e.getDamageAmpReducInstance(a,t*a[l[d]].multiplier,l[d],a[l[d]].damageType));return new o("Total","physical",t,i,i.reduce(function(e,t){return parseFloat(e)+parseFloat(t.total)},0))},e.damageInputValue=a.observable(0),e.damageInputModified=a.computed(function(){return e.getDamageAmpReduc(e.damageInputValue())})};t.exports=r},{"./herocalc_knockout":81,"dota-hero-calculator-library/src/herocalc/util/extend":38,"dota-hero-calculator-library/src/herocalc/util/findWhere":39}],77:[function(e,t,i){(function(i){"use strict";var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,n=e("dota-hero-calculator-library"),s=e("./DamageAmpViewModel"),o=e("./BuildExplorerViewModel"),r=e("./HeroDamageAmpMixin"),l=e("dota-hero-calculator-library/src/herocalc/illusion/illusionOptionsArray"),d=e("dota-hero-calculator-library/src/herocalc/illusion/illusionData"),c=e("./IllusionViewModel"),u=function(e){this.heroName=a.computed(function(){return e.selectedHero().heroName}),this.heroDisplayName=a.computed(function(){return e.selectedHero().heroDisplayName}),this.hero=e},h=function(e,t,i,h){var p=this;p.index=a.observable(h),p.availableHeroes=a.observableArray(n.HeroOptions),p.availableHeroes.sort(function(e,t){return e.heroDisplayName==t.heroDisplayName?0:e.heroDisplayName<t.heroDisplayName?-1:1}),p.selectedHero=a.observable(p.availableHeroes()[h]),n.HeroModel.call(this,e,t,p.selectedHero().heroName),p.selectedHero.subscribe(function(e){p.heroId(e.heroName)}),p.illusions=a.observableArray([]),p.availableIllusions=a.observableArray(l),p.selectedIllusion=a.observable(p.availableIllusions()[0]),p.illusionAbilityLevel=a.observable(1),p.illusionAbilityMaxLevel=a.computed(function(){return d[p.selectedIllusion().illusionName].max_level}),p.addIllusion=function(i,n){p.illusions.push(a.observable(new c(e,t,0,p,p.illusionAbilityLevel())))},p.bound=a.observable(!1),p.playerColorCss=a.computed(function(){return"player-color-"+p.index()}),p.heroOption=new u(p),p.otherHeroes=a.observableArray([]),p.availableCompare=a.computed(function(){return p.otherHeroes().map(function(e){return e.heroOption})}),p.selectedCompare=a.observable(),p.selectedCompare.subscribe(function(e){p.heroCompare(e.hero)}),p.enemies=a.observableArray([]),p.availableEnemies=a.computed(function(){return p.enemies().map(function(e){return e.heroOption})}),p.selectedEnemy=a.observable(),p.selectedEnemy.subscribe(function(e){p.enemy(e.hero)}),p.setHeroOptionStyling=function(e,t){a.applyBindingsToNode(e,{css:t.hero.playerColorCss()},t)},p.sectionDisplay=a.observable({inventory:a.observable(!0),ability:a.observable(!0),talent:a.observable(!0),buff:a.observable(!0),debuff:a.observable(!0),damageamp:a.observable(!1),illusion:a.observable(!1),skillbuild:a.observable(!1),"skillbuild-skills":a.observable(!0),"skillbuild-items":a.observable(!0)}),p.sectionDisplayToggle=function(e){p.sectionDisplay()[e](!p.sectionDisplay()[e]())},p.showUnitTab=a.observable(!1),p.showDiff=a.observable(!1),p.showCriticalStrikeDetails=a.observable(!1),p.showDamageDetails=a.observable(!1),p.showStatDetails=a.observable(!1),p.showDamageAmpCalcDetails=a.observable(!1),p.damageAmplification=new s(e,t,i),p.damageReduction=new s(e,t,i),p.buildExplorer=new o(p),r(p)};h.prototype=Object.create(n.HeroModel.prototype),h.prototype.constructor=h,t.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./BuildExplorerViewModel":72,"./DamageAmpViewModel":74,"./HeroDamageAmpMixin":76,"./IllusionViewModel":78,"dota-hero-calculator-library":37,"dota-hero-calculator-library/src/herocalc/illusion/illusionData":25,"dota-hero-calculator-library/src/herocalc/illusion/illusionOptionsArray":26}],78:[function(e,t,i){"use strict";var a=e("./herocalc_knockout"),n=e("dota-hero-calculator-library"),s=e("dota-hero-calculator-library/src/herocalc/illusion/illusionData"),o=(e("dota-hero-calculator-library/src/herocalc/data/main").heroData,e("dota-hero-calculator-library/src/herocalc/data/main").itemData,e("dota-hero-calculator-library/src/herocalc/util/findWhere")),r=function(e,t,i,r,l){var d=this;return d.parent=r,d.illusionType=a.observable(d.parent.selectedIllusion().illusionName),s[d.illusionType()].use_selected_hero?(n.IllusionModel.call(this,e,t,d.parent.selectedHero().heroName,r,l),d.selectedHero=a.observable(d.parent.selectedHero())):(n.IllusionModel.call(this,e,t,d.parent.selectedIllusion().baseHero,r,l),d.selectedHero=a.observable(o(d.parent.availableHeroes(),{heroName:d.parent.selectedIllusion().baseHero}))),d.inventory=d.parent.inventory,d.illusionDisplayName=a.observable(d.parent.selectedIllusion().illusionDisplayName),d.illusionAbilityMaxLevel=a.observable(s[d.parent.selectedIllusion().illusionName].max_level),d.selectedHeroLevel(d.parent.selectedHeroLevel()),d.ability().getAttributeBonusLevel=d.parent.ability().getAttributeBonusLevel,d.sectionDisplay=a.observable({inventory:a.observable(!0),ability:a.observable(!0),buff:a.observable(!0),debuff:a.observable(!0),damageamp:a.observable(!1),illusion:a.observable(!1),skillbuild:a.observable(!1),"skillbuild-skills":a.observable(!0),"skillbuild-items":a.observable(!0)}),d.sectionDisplayToggle=function(e){d.sectionDisplay()[e](!d.sectionDisplay()[e]())},d.showUnitTab=a.observable(!1),d.showDiff=a.observable(!1),d.showCriticalStrikeDetails=a.observable(!1),d.showDamageDetails=a.observable(!1),d.showStatDetails=a.observable(!1),d};r.prototype=Object.create(n.IllusionModel.prototype),r.prototype.constructor=r,t.exports=r},{"./herocalc_knockout":81,"dota-hero-calculator-library":37,"dota-hero-calculator-library/src/herocalc/data/main":8,"dota-hero-calculator-library/src/herocalc/illusion/illusionData":25,"dota-hero-calculator-library/src/herocalc/util/findWhere":39}],79:[function(e,t,i){(function(i){"use strict";var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,n=e("dota-hero-calculator-library"),s=e("dota-hero-calculator-library/src/herocalc/hero/UnitOption"),o=function(e,t,i,o,r){var l=this;l.index=a.observable(o),l.selectedUnitLevel=a.observable(1),l.availableUnits=a.observableArray([new s("npc_dota_lone_druid_bear","Lone Druid Spirit Bear",4,"/media/images/units/spirit_bear.png",l.selectedUnitLevel),new s("npc_dota_brewmaster_earth_","Brewmaster Earth Warrior",3,"/media/images/units/npc_dota_brewmaster_earth.png",l.selectedUnitLevel),new s("npc_dota_brewmaster_fire_","Brewmaster Fire Warrior",3,"/media/images/units/npc_dota_brewmaster_fire.png",l.selectedUnitLevel),new s("npc_dota_brewmaster_storm_","Brewmaster Storm Warrior",3,"/media/images/units/npc_dota_brewmaster_storm.png",l.selectedUnitLevel),new s("npc_dota_necronomicon_archer_","Necronomicon Archer",3,"/media/images/units/npc_dota_necronomicon_archer.png",l.selectedUnitLevel),new s("npc_dota_necronomicon_warrior_","Necronomicon Warrior",3,"/media/images/units/npc_dota_necronomicon_warrior.png",l.selectedUnitLevel),new s("npc_dota_lycan_wolf","Lycan Wolf",4,"/media/images/units/npc_dota_lycan_wolf.png",l.selectedUnitLevel),new s("npc_dota_visage_familiar","Visage Familiar",3,"/media/images/units/npc_dota_visage_familiar.png",l.selectedUnitLevel)]),l.selectedUnit=a.observable(l.availableUnits()[0]),n.UnitModel.call(this,e,t,i,l.selectedUnit().heroName()),l.selectedUnitLevel.subscribe(function(e){l.unitLevel(e),l.unitId(l.selectedUnit().heroName())}),l.selectedUnit.subscribe(function(e){e.heroName().indexOf("npc_dota_lone_druid_bear")!=-1?(l.inventory.hasInventory(!0),l.inventory.items.removeAll(),l.inventory.activeItems.removeAll()):(l.inventory.hasInventory(!1),l.inventory.items.removeAll(),l.inventory.activeItems.removeAll()),l.unitId(e.heroName())}),l.bound=a.observable(!1),l.playerColorCss=a.computed(function(){return"player-color-"+l.index()}),l.setHeroOptionStyling=function(e,t){a.applyBindingsToNode(e,{css:t.hero.playerColorCss()},t)},l.sectionDisplay=a.observable({inventory:a.observable(!0),ability:a.observable(!0),buff:a.observable(!0),debuff:a.observable(!0),damageamp:a.observable(!1),illusion:a.observable(!1),skillbuild:a.observable(!1),"skillbuild-skills":a.observable(!0),"skillbuild-items":a.observable(!0)}),l.sectionDisplayToggle=function(e){l.sectionDisplay()[e](!l.sectionDisplay()[e]())},l.showUnitTab=a.observable(!1),l.showDiff=a.observable(!1),l.showCriticalStrikeDetails=a.observable(!1),l.showDamageDetails=a.observable(!1),l.showStatDetails=a.observable(!1)};o.prototype=Object.create(n.UnitModel.prototype),o.prototype.constructor=o,t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"dota-hero-calculator-library":37,"dota-hero-calculator-library/src/herocalc/hero/UnitOption":17}],80:[function(e,t,i){"use strict";var a=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))};t.exports=a},{}],81:[function(e,t,i){(function(i){"use strict";var a="undefined"!=typeof window?window.ko:"undefined"!=typeof i?i.ko:null,n="undefined"!=typeof window?window.$:"undefined"!=typeof i?i.$:null,s=e("chart.js");e("../lib/Chart.scatter"),a.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},a.virtualElements.allowedBindings.stopBinding=!0,a.bindingHandlers.lazyBinding={init:function(e,t,i,n,s){return a.utils.domData.set(e,"isBound",!1),{controlsDescendantBindings:!0}},update:function(e,t,i,n,s){var o=a.unwrap(t()),r=a.utils.domData.get(e,"isBound");o&&!r&&(a.utils.domData.set(e,"isBound",!0),a.applyBindingsToDescendants(s,e))}},a.virtualElements.allowedBindings.lazyBinding=!0,a.bindingHandlers.itemBuildTable={init:function(e,t,i,s,o){var r=a.unwrap(t()),l=(n(e),{});a.utils.domData.set(e,"pressedKeys",l);var d=function(t){var i=a.utils.domData.get(e,"pressedKeys");i[t.which]=!0,a.utils.domData.set(e,"pressedKeys",i)};a.utils.domData.set(e,"keyDownHandler",d);var c=function(t){var i=a.utils.domData.get(e,"pressedKeys");if(i[17]&&i[67]||i[17]&&i[86]){var s=n(e).find(".hover-cursor:hover");1==s.length&&(i[67]?r.copyInventoryToClipBoard(n("tr",n(e)).index(s[0])):r.pasteInventoryFromClipBoard(n("tr",n(e)).index(s[0])),s.fadeOut(50).fadeIn(50))}delete i[t.which],a.utils.domData.set(e,"pressedKeys",i)};a.utils.domData.set(e,"keyUpHandler",c),n(document).bind("keydown",d),n(document).bind("keyup",c),a.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=a.utils.domData.get(e,"keyDownHandler"),i=a.utils.domData.get(e,"keyUpHandler");n(document).unbind("keydown",t),n(document).unbind("keyup",i)})}},a.bindingHandlers.preventBubble={init:function(e,t){var i=a.utils.unwrapObservable(t());a.utils.registerEventHandler(e,i,function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})}},a.bindingHandlers.toggle={init:function(e,t){var i=t();a.applyBindingsToNode(e,{click:function(){i(!i())}})}},a.bindingHandlers.shopDockStyle={init:function(e,t,i,n,s){a.utils.unwrapObservable(t());s.$data.shopDock()&&!s.$data.shopPopout()?a.applyBindingsToNode(e,{style:{height:s.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):a.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})},update:function(e,t,i,n,s){a.utils.unwrapObservable(t());s.$data.shopDock()&&!s.$data.shopPopout()?a.applyBindingsToNode(e,{style:{height:s.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):a.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})}},a.bindingHandlers.logger={update:function(e,t,i){var n=a.utils.domData.get(e,"_ko_logger")||0;a.toJS(t()||i());a.utils.domData.set(e,"_ko_logger",++n),window.console&&console.log}},a.bindingHandlers.tooltip={update:function(e,t,i,s,o){var r,l,d;if(l=a.utils.unwrapObservable(t()),r=n(e),a.isObservable(l.title)){var c=!1;r.on("show.bs.tooltip",function(){c=!0}),r.on("hide.bs.tooltip",function(){c=!1});var u=l.animation||!0;l.title.subscribe(function(){c&&(r.data("bs.tooltip").options.animation=!1,r.tooltip("fixTitle").tooltip("show"),r.data("bs.tooltip").options.animation=u)})}d=r.data("bs.tooltip"),d?n.extend(d.options,l):r.tooltip(l)}},a.bindingHandlers.popover={init:function(e,t,i,s,o){var r=n(e),l=a.utils.unwrapObservable(t()),d=l.template||!1,c=l.options||{title:"popover"},u=l.data||!1;return d!==!1&&(u?c.content="<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->":c.content=n("#"+d).html(),c.html=!0),r.on("shown.bs.popover",function(e){var t=n(e.target).data(),i=t["bs.popover"].$tip,s=t["bs.popover"].options||{},r=n(e.target),l=r.position(),c={x:r.outerWidth(),y:r.outerHeight()};u&&a.applyBindingsToNode(i[0],{template:{name:d,data:u}},o);var h={x:i.outerWidth(),y:i.outerHeight()};switch(i.find('button[data-dismiss="popover"]').click(function(){r.popover("hide")}),s.placement){case"right":i.css({left:c.x+l.left,top:c.y/2+l.top-h.y/2});break;case"left":i.css({left:l.left-h.x,top:c.y/2+l.top-h.y/2});break;case"top":i.css({left:l.left+(c.x/2-h.x/2),top:l.top-h.y});break;case"bottom":i.css({left:l.left+(c.x/2-h.x/2),top:l.top+c.y})}}),r.popover(c),{controlsDescendantBindings:!0}}},a.bindingHandlers.chart={init:function(e,t,i,o,r){var l=n("<canvas/>"),d=a.utils.unwrapObservable(t()),c=l[0].getContext("2d"),u=i().chartType,h=i().chartOptions||{},p=i().chartContext;n(e).append(l);var m=new s(c)[u](d,h);a.utils.domData.set(e,"myChart",m),a.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=a.utils.domData.get(e,"myChart");t.clear(),t.destroy()}),p&&p(c)},update:function(e,t,i,o,r){var l=n("<canvas/>").width(730).height(365),d=a.utils.unwrapObservable(t()),c=l[0].getContext("2d"),u=i().chartType,h=i().chartOptions||{},p=i().chartContext,m=a.utils.domData.get(e,"myChart");m&&(m.clear(),m.destroy()),r.$root.displayShop(),r.$root.sideView(),r.$root.shopDock(),n(e).empty(),n(e).append(l),d.datasets.length>0&&(m=new s(c)[u](d,h),a.utils.domData.set(e,"myChart",m)),p&&p(c)}},a.bindingHandlers.spinner={init:function(e,t,i){var s=i().spinnerOptions||{};s.icons=s.icons||{down:"glyphicon glyphicon-triangle-bottom",up:"glyphicon glyphicon-triangle-top"},n(e).spinner(s),a.utils.registerEventHandler(e,"spinchange",function(){var i=t();i(n(e).spinner("value"))}),a.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).spinner("destroy")})},update:function(e,t){var i=a.utils.unwrapObservable(t()),s=n(e).spinner("value");i!==s&&n(e).spinner("value",i)}},a.bindingHandlers.secondTab={update:function(e,t,i,n,s){var o=s.$root,r=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{css:{"second-tab":o.isSecondTab(r)&&o.sideView()}})}},a.bindingHandlers.hoverTab={update:function(e,t,i,n,s){var o=s.$root,r=a.utils.unwrapObservable(t());a.utils.registerEventHandler(e,"mouseover",function(){o.highlightTab(r)}),a.utils.registerEventHandler(e,"mouseout",function(){o.unhighlightTab(r)})}},a.bindingHandlers.hoverPaneStyle={init:function(e,t,i,n,s){var o=s.$root,r=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{style:{opacity:o.sideView()&&o.highlightedTab()!=r&&""!=o.highlightedTab()?.5:1}})},update:function(e,t,i,n,s){var o=s.$root,r=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{style:{opacity:o.sideView()&&o.highlightedTab()!=r&&""!=o.highlightedTab()?.5:1}})}},a.bindingHandlers.diffStyle={init:function(e,t,i,n){var s=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{css:{diffPos:s>0,diffNeg:s<0}})},update:function(e,t,i,n){var s=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{css:{diffPos:s>0,diffNeg:s<0}})}},a.bindingHandlers.diffCss={init:function(e,t,i,n){var s=a.utils.unwrapObservable(t()),o=i().diffCssStat;"attackTime"!=o&&"bat"!=o||(s=-s),a.applyBindingsToNode(e,{css:{diffPos:s>0,diffNeg:s<0}})},update:function(e,t,i,n){var s=a.utils.unwrapObservable(t()),o=i().diffCssStat;"attackTime"!=o&&"bat"!=o||(s=-s),a.applyBindingsToNode(e,{css:{diffPos:s>0,diffNeg:s<0}})}},a.bindingHandlers.jqAuto={init:function(e,t,i,s){function o(e){a.isWriteableObservable(c)?c(e):l._ko_property_writers&&l._ko_property_writers.jqAutoValue&&l._ko_property_writers.jqAutoValue(e)}var r=t()||{},l=i(),d=a.utils.unwrapObservable,c=l.jqAutoValue,u=l.jqAutoSource,h=l.jqAutoSourceValue,p=l.jqAutoSourceInputValue||h,m=l.jqAutoSourceLabel||h;
r.select=function(e,t){o(t.item?t.item.actualValue:null)},r.change=function(t,i){var s=n(e).val(),r=a.utils.arrayFirst(d(u),function(e){return d(e[p])===s});r||o(null)};var b=a.dependentObservable(function(){var e=a.utils.arrayMap(d(u),function(e){var t={};return t.label=m?d(e[m]):d(e).toString(),t.value=p?d(e[p]):d(e).toString(),t.actualValue=h?d(e[h]):e,t});return e});b.subscribe(function(t){n(e).autocomplete("option","source",t)}),r.source=b(),r.minLength=1,n(e).autocomplete(r)},update:function(e,t,i,s){var o=i(),r=a.utils.unwrapObservable,l=r(o.jqAutoValue)||"",d=o.jqAutoSourceValue,c=o.jqAutoSourceInputValue||d;if(d&&c!==d)var u=r(o.jqAutoSource)||[],l=a.utils.arrayFirst(u,function(e){return r(e[d])===l})||{};n(e).val(l&&c!==d?r(l[c]):l.toString())}},a.bindingHandlers.jqAutoCombo={init:function(e,t){var i=n("#"+t());n(e).click(function(){return i.autocomplete("widget").is(":visible")?void i.autocomplete("close"):(i.autocomplete("search"," "),void i.focus())})}},t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/Chart.scatter":88,"chart.js":1}],82:[function(e,t,i){(function(e){"use strict";var i="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,a={},n={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},s=function(e){for(var t=e.description,i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],s=1;s<e.attributes[i].value.length;s++)n+=" / "+e.attributes[i].value[s];var o=new RegExp("%"+a+"%","gi");t=t.replace(o,n)}var o=new RegExp("%%","gi");return t=t.replace(o,"%"),o=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},o=function(e){for(var t="",i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].tooltip){for(var a=e.attributes[i].tooltip,s=e.attributes[i].value[0],o=1;o<e.attributes[i].value.length;o++)s+=" / "+e.attributes[i].value[o];var r=a.indexOf("%");0==r&&(s+="%",a=a.slice(1));var l=a.indexOf("$");t=l!=-1?t+a.slice(0,l)+" "+s+" "+n[a.slice(l)]+"<br>":t+a+" "+s+"<br>"}return t.trim("<br>")},r=function(e){for(var t="",i=0;i<e.cooldown.length;i++)t=t+" "+e.cooldown[i];return t},l=function(e){for(var t="",i=0;i<e.manacost.length;i++)e.manacost[i]>0&&(t=t+" "+e.manacost[i]);return t},d=function(e,t){if(void 0!=e["item_"+t]){if(void 0==a[t]){var n=e["item_"+t],d=i("<div>");d.append(i("<span>").html(n.displayname).addClass("item_field item_name")),d.append(i("<span>").html(n.itemcost).addClass("item_field item_cost")),d.append(i("<hr>")),null!=n.description&&d.append(i("<div>").html(s(n)).addClass("item_field item_description"));var c=o(n);""!=c&&d.append(i("<div>").html(c).addClass("item_field item_attributes"));var u=r(n),h=l(n);if(""!=u||""!=h){var p=i("<div>").addClass("item_cdmana");""!=u&&p.append(i("<span>").html(u).addClass("item_field item_cooldown")),""!=h&&p.append(i("<span>").html(h).addClass("item_field item_manacost")),d.append(p)}return null!=n.lore&&d.append(i("<div>").html(n.lore).addClass("item_field item_lore")),a[t]=d.html(),d.html()}return a[t]}};t.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],83:[function(e,t,i){(function(t){"use strict";function i(e,t){var i=new RegExp(a.ui.autocomplete.escapeRegex(t),"i");return a.grep(e,function(e){return i.test(a("<div>").html(e.label||e.value||e).text())})}var a="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;e("jquery-ui/ui/version"),e("jquery-ui/ui/widget"),e("jquery-ui/ui/unique-id"),e("jquery-ui/ui/safe-active-element"),e("jquery-ui/ui/keycode"),e("jquery-ui/ui/position"),e("jquery-ui/ui/focusable"),e("jquery-ui/ui/tabbable"),e("jquery-ui/ui/plugin"),e("jquery-ui/ui/ie"),e("jquery-ui/ui/data"),e("jquery-ui/ui/scroll-parent"),e("jquery-ui/ui/disable-selection"),e("jquery-ui/ui/safe-blur"),e("jquery-ui/ui/widgets/button"),e("jquery-ui/ui/widgets/spinner"),e("jquery-ui/ui/widgets/menu"),e("jquery-ui/ui/widgets/autocomplete"),e("jquery-ui/ui/widgets/mouse"),e("jquery-ui/ui/widgets/draggable"),e("jquery-ui/ui/widgets/resizable"),e("jquery-ui/ui/widgets/dialog");var n=a.ui.autocomplete.prototype,s=n._initSource;a.extend(n,{_initSource:function(){this.options.html&&a.isArray(this.options.source)?this.source=function(e,t){t(i(this.options.source,e.term))}:s.call(this)},_renderItem:function(e,t){return a("<li></li>").data("item.autocomplete",t).append(a("<a></a>")[this.options.html?"html":"text"](t.label)).appendTo(e)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"jquery-ui/ui/data":49,"jquery-ui/ui/disable-selection":50,"jquery-ui/ui/focusable":51,"jquery-ui/ui/ie":52,"jquery-ui/ui/keycode":53,"jquery-ui/ui/plugin":54,"jquery-ui/ui/position":55,"jquery-ui/ui/safe-active-element":56,"jquery-ui/ui/safe-blur":57,"jquery-ui/ui/scroll-parent":58,"jquery-ui/ui/tabbable":59,"jquery-ui/ui/unique-id":60,"jquery-ui/ui/version":61,"jquery-ui/ui/widget":62,"jquery-ui/ui/widgets/autocomplete":63,"jquery-ui/ui/widgets/button":64,"jquery-ui/ui/widgets/dialog":65,"jquery-ui/ui/widgets/draggable":66,"jquery-ui/ui/widgets/menu":67,"jquery-ui/ui/widgets/mouse":68,"jquery-ui/ui/widgets/resizable":69,"jquery-ui/ui/widgets/spinner":70}],84:[function(e,t,i){Array.prototype.find||(Array.prototype.find=function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),a=i.length>>>0,n=arguments[1],s=0;s<a;s++)if(t=i[s],e.call(n,t,s,i))return t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e})},{}],85:[function(e,t,i){function a(e,t,i,a){this.tooltip=e,this.values=t,this.sep=i||" / ",this.suffix=a||""}function n(e){var t=this;t.hero=e.hero,t.ability=e.ability,t.description=ko.computed(function(){return r(t.ability)}),t.damageType=s[t.ability.abilityunitdamagetype],t.displayname=t.ability.displayname,t.lore=ko.computed(function(){return o()?o()[t.ability.name].lore:""}),t.manacost=ko.computed(function(){return d(t.hero,t.ability)}),t.cooldown=ko.computed(function(){return c(t.hero,t.ability)}),t.attributes=l(t.ability)}var s={DAMAGE_TYPE_MAGICAL:"Magical",DAMAGE_TYPE_PURE:"Pure",DAMAGE_TYPE_PHYSICAL:"Physical",DAMAGE_TYPE_COMPOSITE:"Composite",DAMAGE_TYPE_HP_REMOVAL:"HP Removal"},o=ko.observable(),r=function(e){for(var t=o()?o()[e.name].description:"",i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],s=1;s<e.attributes[i].value.length;s++)n+=" / "+e.attributes[i].value[s];r=new RegExp("%"+a+"%","gi"),t=t.replace(r,n)}var r=new RegExp("%%","gi");return t=t.replace(r,"%"),r=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")};a.prototype.toString=function(){var e=this;return this.tooltip+" "+this.values.map(function(t){return t+e.suffix}).join(this.sep)};var l=function(e){var t=[];e.damage.length>0&&e.damage.reduce(function(e,t){return e+t},0)>0&&t.push(new a("DAMAGE:",e.damage));for(var i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].tooltip){var n=e.attributes[i].tooltip;n=n.replace(/\\n/g,"");var s="";0==n.indexOf("%")&&(n=n.slice(1),s="%"),t.push(new a(n,e.attributes[i].value," / ",s))}return t},d=function(e,t){var i="";if(0==t.manacost.reduce(function(e,t){return e+t},0))return i;if(t.manacost.every(function(e){return e==t.manacost[0]}))return t.manacost[0].toString();for(var a=0;a<4;a++)null!=t.manacost[a]&&(i=i+" "+t.manacost[a]);return i},c=function(e,t){var i="";return 0==t.cooldown.reduce(function(e,t){return e+t},0)?i:t.cooldown.map(function(t){return parseFloat((t*e.cooldownReductionProduct()-e.cooldownReductionFlat()).toFixed(2))}).join(" ")};t.exports={viewModel:n,template:'<div>\n    <span class="item_field pull-left item_name" data-bind="text: displayname"></span>\n    <span class="item_field pull-right item_ability_damage_type" style="margin-right: 10px;"  data-bind="text: damageType"></span>\n    <hr style="clear: both;">\n    <div class="item_field item_description" data-bind="html: description"></div>\n    <div class="item_field item_attributes" data-bind="foreach: attributes">\n        <span data-bind="text: $data"></span>\n        <br>\n    </div>\n    <div class="item_cdmana">\n        <span class="item_field item_manacost" data-bind="visible: manacost, text: manacost"></span>\n        <span class="item_field item_cooldown" data-bind="visible: cooldown, text: cooldown"></span>\n    </div>\n    <div class="item_field item_lore" data-bind="text: lore"></div>\n</div>',abilityTooltipData:o}},{}],86:[function(e,t,i){function a(e){var t=this;t.windowWidth=e.windowWidth,t.windowHeight=e.windowHeight,t.displayShop=e.displayShop,t.displayShopItemTooltip=e.displayShopItemTooltip,t.shopDock=e.shopDock,t.shopDockTrigger=e.shopDockTrigger,t.shopPopout=e.shopPopout,t.selectedItem=e.selectedItem,t.addItem=e.addItem,t.changeSelectedItem=e.changeSelectedItem,t.getItemTooltipData=e.getItemTooltipData,t.getItemInputLabel=e.getItemInputLabel,t.itemInputValue=e.itemInputValue,t.itemOptions=e.itemOptions}t.exports={viewModel:a,template:'        <div id="shop-container" class="col-md-12 col-lg-4" data-bind="shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {\'col-lg-4\': !shopPopout()}, style: { \'padding-top\': shopPopout() ? \'5px\' : \'0px\'}">\n              <button id="shop-minimize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShop, visible: displayShop()" title="Minimize shop"></button>\n              <button id="shop-maximize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShop, visible: !displayShop()" title="Maximize shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs" data-bind="click: shopPopout, visible: !shopPopout()" title="Popout shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs" data-bind="toggle: shopDock, attr: { title: shopDock() ? \'Undock shop to right side of screen\' : \'Dock shop to right side of screen\' }" ></button>\n            <ul id="shoptabs" class="nav nav-tabs" data-bind="visible: displayShop()">\n              <li><a href="#shop_basic" data-toggle="tab">Basic</a></li>\n              <li><a href="#shop_upgrade" data-toggle="tab">Upgrade</a></li>\n              <li><a href="#shop_secret" data-toggle="tab">Secret</a></li>\n            </ul>\n            <div class="tab-content text-center bottom-buffer2" data-bind="visible: displayShop()">\n                <div class="tab-pane active" id="shop_basic">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-consumables" id="consumables"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-clarity" id="clarity" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-faerie_fire" id="faerie_fire" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-enchanted_mango" id="enchanted_mango" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tango" id="tango" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-flask" id="flask" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-smoke_of_deceit" id="smoke_of_deceit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tpscroll" id="tpscroll" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-dust" id="dust" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-courier" id="courier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-flying_courier" id="flying_courier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ward_observer" id="ward_observer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ward_sentry" id="ward_sentry" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tome_of_knowledge" id="tome_of_knowledge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bottle" id="bottle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-attributes" id="attributes"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-branches" id="branches" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-gauntlets" id="gauntlets" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-slippers" id="slippers" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mantle" id="mantle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-circlet" id="circlet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-belt_of_strength" id="belt_of_strength" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-boots_of_elves" id="boots_of_elves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-robe" id="robe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ogre_axe" id="ogre_axe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blade_of_alacrity" id="blade_of_alacrity" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-staff_of_wizardry" id="staff_of_wizardry" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armaments" id="armaments"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_protection" id="ring_of_protection" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-stout_shield" id="stout_shield" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-quelling_blade" id="quelling_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-infused_raindrop" id="infused_raindrop" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blight_stone" id="blight_stone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-orb_of_venom" id="orb_of_venom" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blades_of_attack" id="blades_of_attack" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-chainmail" id="chainmail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-quarterstaff" id="quarterstaff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-helm_of_iron_will" id="helm_of_iron_will" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-broadsword" id="broadsword" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-claymore" id="claymore" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-javelin" id="javelin" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mithril_hammer" id="mithril_hammer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-arcane" id="arcane"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-wind_lace" id="wind_lace" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-magic_stick" id="magic_stick" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sobi_mask" id="sobi_mask" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_regen" id="ring_of_regen" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-boots" id="boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-gloves" id="gloves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-cloak" id="cloak" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_health" id="ring_of_health" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-void_stone" id="void_stone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-gem" id="gem" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-lifesteal" id="lifesteal" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-shadow_amulet" id="shadow_amulet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ghost" id="ghost" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blink" id="blink" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n\n\n                </div>\n                <div class="tab-pane" id="shop_upgrade">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-common" id="common"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-magic_wand" id="magic_wand" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-null_talisman" id="null_talisman" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-wraith_band" id="wraith_band" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-poor_mans_shield" id="poor_mans_shield" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bracer" id="bracer" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-soul_ring" id="soul_ring" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-phase_boots" id="phase_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-power_treads" id="power_treads" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-oblivion_staff" id="oblivion_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-pers" id="pers" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hand_of_midas" id="hand_of_midas" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-travel_boots" id="travel_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-moon_shard" id="moon_shard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-support" id="support"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_basilius" id="ring_of_basilius" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-iron_talon" id="iron_talon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-headdress" id="headdress" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-buckler" id="buckler" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-urn_of_shadows" id="urn_of_shadows" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-tranquil_boots" id="tranquil_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ring_of_aquila" id="ring_of_aquila" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-medallion_of_courage" id="medallion_of_courage" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-arcane_boots" id="arcane_boots" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ancient_janggo" id="ancient_janggo" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mekansm" id="mekansm" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-vladmir" id="vladmir" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-pipe" id="pipe" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-guardian_greaves" id="guardian_greaves" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-caster" id="caster"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-glimmer_cape" id="glimmer_cape" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-force_staff" id="force_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-veil_of_discord" id="veil_of_discord" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-aether_lens" id="aether_lens" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-necronomicon" id="necronomicon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-dagon" id="dagon" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-cyclone" id="cyclone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-solar_crest" id="solar_crest" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-rod_of_atos" id="rod_of_atos" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-orchid" id="orchid" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ultimate_scepter" id="ultimate_scepter" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-refresher" id="refresher" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sheepstick" id="sheepstick" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-octarine_core" id="octarine_core" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-weapons" id="weapons"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-lesser_crit" id="lesser_crit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-armlet" id="armlet" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-invis_sword" id="invis_sword" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-basher" id="basher" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bfury" id="bfury" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ethereal_blade" id="ethereal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-silver_edge" id="silver_edge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-radiance" id="radiance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-monkey_king_bar" id="monkey_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-greater_crit" id="greater_crit" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-butterfly" id="butterfly" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-rapier" id="rapier" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-abyssal_blade" id="abyssal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bloodthorn" id="bloodthorn" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armor" id="armor"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hood_of_defiance" id="hood_of_defiance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-vanguard" id="vanguard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-blade_mail" id="blade_mail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-soul_booster" id="soul_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-crimson_guard" id="crimson_guard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-black_king_bar" id="black_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-lotus_orb" id="lotus_orb" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-shivas_guard" id="shivas_guard" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-bloodstone" id="bloodstone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-manta" id="manta" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sphere" id="sphere" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hurricane_pike" id="hurricane_pike" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-assault" id="assault" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-heart" id="heart" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-artifacts" id="artifacts"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mask_of_madness" id="mask_of_madness" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-helm_of_the_dominator" id="helm_of_the_dominator" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-dragon_lance" id="dragon_lance" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sange" id="sange" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-yasha" id="yasha" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-echo_sabre" id="echo_sabre" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-maelstrom" id="maelstrom" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-diffusal_blade" id="diffusal_blade" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-desolator" id="desolator" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-heavens_halberd" id="heavens_halberd" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-sange_and_yasha" id="sange_and_yasha" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-skadi" id="skadi" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mjollnir" id="mjollnir" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-satanic" id="satanic" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n                </div>\n                <div class="tab-pane" id="shop_secret">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-secret" id="secret"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-energy_booster" id="energy_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-vitality_booster" id="vitality_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-point_booster" id="point_booster" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-platemail" id="platemail" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-talisman_of_evasion" id="talisman_of_evasion" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-hyperstone" id="hyperstone" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-ultimate_orb" id="ultimate_orb" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-demon_edge" id="demon_edge" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-mystic_staff" id="mystic_staff" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-eagle" id="eagle" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-reaver" id="reaver" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n  <div class="img-rounded items-sprite-50x36 items-sprite-relic" id="relic" data-bind="click: changeSelectedItem, event: { dblclick: addItem }"></div>\n</div>\n                </div>\n            </div>\n\n            <div class="form-group" data-bind="visible: displayShop()">\n                <div class="input-group">\n                    <input class="form-control" id="auto" data-bind="jqAuto: { autoFocus: true, html: true }, jqAutoSource: itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-default" data-bind="jqAutoCombo: \'auto\'"><span class="glyphicon glyphicon-search"></span></button>\n                    </span>\n                </div>\n            </div>\n\n            <div data-bind="visible: selectedItem() && displayShop()">\n                <button class="btn btn-default btn-xs glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShopItemTooltip, visible: displayShopItemTooltip()" title="Hide item description"></button>\n                <button class="btn btn-default btn-xs glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()" title="Show item description"></button>\n                <div data-bind="html: getItemTooltipData, css: { \'hide-shop-item-details\': !displayShopItemTooltip() }"></div>\n                <div style="margin-top:10px;margin-bottom:10px;" class="form-inline" data-bind="visible: getItemInputLabel() != \'\'">\n                    <div class="form-group">\n                        <label for="iteminput" data-bind="text: getItemInputLabel"></label>\n                        <input class="form-control" id="iteminput" data-bind="value: itemInputValue" />\n                    </div>\n                </div>\n                <div class="form-group text-right">\n                    <button class="btn btn-default" data-bind="click: addItem">Add Item</button>\n                </div>\n            </div>\n        </div>'
}},{}],87:[function(e,t,i){(function(i){e("./app/polyfill");var a,n,s=(e("rollbar-browser"),"undefined"!=typeof window?window.$:"undefined"!=typeof i?i.$:null),o=e("./app/getParameterByName"),r=e("dota-hero-calculator-library"),l=function(t){function i(e){h.length>10&&h.shift(),h.push(e)}function l(e,t){return function(){var a=this,n={eventName:t};a.id&&(n.id=a.id),a.src&&(n.src=a.src),a.className&&(n.className=a.className),a.textContent&&(n.textContent=a.textContent),a.nodeName&&(n.nodeName=a.nodeName),a.getAttribute("data-bind")&&(n["data-bind"]=a.getAttribute("data-bind"));for(var s in n)n.hasOwnProperty(s)&&(n[s]=n[s].substring(0,Math.min(200,n[s].length)));return i(n),e.apply(this,arguments)}}function d(e,t,i,a,n){var s=e[t];return e[t]=function(){return n.indexOf(arguments[0])!=-1&&(arguments[i]=a(arguments[i],arguments[0])),s.apply(this,arguments)},s}r.init(HeroCalcData.heroData,HeroCalcData.itemData,HeroCalcData.unitData,function(){a=e("./app/HeroCalculatorViewModel"),n=new a(t.abilityTooltipPath),ko.options.deferUpdates=!0,ko.applyBindings(n),s("#spinner").hide(),s(".initial-hidden").css("display","inline-block"),s("#popHero0").addClass("active"),s("#heroPane0").addClass("active"),s('[data-toggle="tooltip"]').tooltip();var i=o("id");i&&s.get("save/"+i+".json",function(e){n.load(e)})});var c="2017-01-19 18:37:51 UTC";s("#last-update").text(c);var u=e("./rollbar");s(".error-warning-view, .error-warning-close").click(function(){s(".error-warning").fadeOut(200)});var h=[];d(Element.prototype,"addEventListener",1,l,["click","focus","blur","change","dblclick"]),window.onerror=function(e){return function(){var t={},i=document.querySelector("#log");if(i)try{var o=arguments[0],r=document.createElement("div");r.classList.add("alert"),r.classList.add("alert-danger"),r.classList.add("error-log"),r.classList.add("col-md-12"),r.textContent="error: "+o;var l=document.createElement("div");l.classList.add("error-log-close"),l.innerHTML="&times;",l.onclick=function(){i.removeChild(r)},r.appendChild(l);var d=document.createElement("a");d.classList.add("error-log-link"),d.innerHTML="Send error report",d.href="#",d.onclick=function(){s("#myModal").modal("show"),s("#BugReportFormText").text("error: "+o+"\n\nDescribe what you were doing. Try to be as detailed as possible.")},r.appendChild(d),i.appendChild(r),s(".error-warning").fadeOut(200).fadeIn(100)}catch(e){u.error("window.onerror create error log failed.",e)}else t.clientLogCreated=!1;if(a&&n){try{t.heroCalcState=n.getSaveData()}catch(e){u.error("window.onerror getSaveData failed.",e)}try{t.appState=n.getAppState()}catch(e){u.error("window.onerror getAppState failed.",e)}}else t.appState="load failed";return t.userActions=h,u.configure({payload:{custom:t}}),e.apply(this,arguments)}}(window.onerror)};t.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./app/HeroCalculatorViewModel":75,"./app/getParameterByName":80,"./app/polyfill":84,"./rollbar":89,"dota-hero-calculator-library":37,"rollbar-browser":71}],88:[function(e,t,i){var a=e("chart.js");a.types.Line.extend({name:"Scatter",draw:function(e){var t=e||1;this.clear();var i=this.chart.ctx,n=function(e){return null!==e.value},s=function(e,t,i){return a.helpers.findNextWhere(t,n,i)||e},o=function(e,t,i){return a.helpers.findPreviousWhere(t,n,i)||e};this.scale.draw(t),a.helpers.each(this.datasets,function(e){var r=a.helpers.where(e.points,n);a.helpers.each(e.points,function(e,i){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(i)},t)},this),this.options.bezierCurve&&a.helpers.each(r,function(e,t){var i=t>0&&t<r.length-1?this.options.bezierCurveTension:0;e.controlPoints=a.helpers.splineCurve(o(e,r,t),e,s(e,r,t),i),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),this.options.datasetFill&&r.length>0&&(i.lineTo(r[r.length-1].x,this.scale.endPoint),i.lineTo(r[0].x,this.scale.endPoint),i.fillStyle=e.fillColor,i.closePath(),i.fill()),a.helpers.each(r,function(e){e.draw()})},this)}})},{"chart.js":1}],89:[function(e,t,i){var a=e("rollbar-browser"),n={accessToken:"de1980fcab4849d6a7a066cf098a6521",captureUncaught:!0,payload:{environment:"production",client:{javascript:{source_map_enabled:!0,code_version:"355df6804cf6d27137e88321fce17eff971f79d3",guess_uncaught_frames:!0}}}},s=a.init(n);t.exports=s},{"rollbar-browser":71}]},{},[87])(87)});
//# sourceMappingURL=bundle-355df68.min.js.map