if(!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("rollbar",[],t);else{var i=t();for(var a in i)("object"==typeof exports?exports:e)[a]=i[a]}}(this,function(){return function(e){function t(a){if(i[a])return i[a].exports;var n=i[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function a(){var e="undefined"==typeof JSON?{}:JSON;n.setupJSON(e)}var n=i(2),o=i(3);a();var r=window._rollbarConfig,s=r&&r.globalAlias||"Rollbar",l=window[s]&&"undefined"!=typeof window[s].shimId;!l&&r?n.wrapper.init(r):(window.Rollbar=n.wrapper,window.RollbarNotifier=o.Notifier),e.exports=n.wrapper},function(e,t,i){"use strict";function a(e,t,i){!i[4]&&window._rollbarWrappedError&&(i[4]=window._rollbarWrappedError,window._rollbarWrappedError=null),e.uncaughtError.apply(e,i),t&&t.apply(window,i)}function n(e,t){if(t.hasOwnProperty&&t.hasOwnProperty("addEventListener")){var i=t.addEventListener;t.addEventListener=function(t,a,n){i.call(this,t,e.wrap(a),n)};var a=t.removeEventListener;t.removeEventListener=function(e,t,i){a.call(this,e,t&&t._wrapped||t,i)}}}var o=i(3),r=i(8),s=o.Notifier;window._rollbarWrappedError=null;var l={};l.init=function(e,t){var i=new s(t);if(i.configure(e),e.captureUncaught){var o;t&&r.isType(t._rollbarOldOnError,"function")?o=t._rollbarOldOnError:window.onerror&&!window.onerror.belongsToShim&&(o=window.onerror),window.onerror=function(){var e=Array.prototype.slice.call(arguments,0);a(i,o,e)};var l,c,d=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(l=0;l<d.length;++l)c=d[l],window[c]&&window[c].prototype&&n(i,window[c].prototype)}return e.captureUnhandledRejections&&(t&&r.isType(t._unhandledRejectionHandler,"function")&&window.removeEventListener("unhandledrejection",t._unhandledRejectionHandler),i._unhandledRejectionHandler=function(e){var t=e.reason,a=e.promise,n=e.detail;!t&&n&&(t=n.reason,a=n.promise),i.unhandledRejection(t,a)},window.addEventListener("unhandledrejection",i._unhandledRejectionHandler)),window.Rollbar=i,s.processPayloads(),i},e.exports={wrapper:l,setupJSON:o.setupJSON}},function(e,t,i){"use strict";function a(e){x=e,v.setupJSON(e)}function n(e,t){return function(){var i=t||this;try{return e.apply(i,arguments)}catch(a){console.error("[Rollbar]:",a)}}}function o(){m||(m=setTimeout(p,1e3))}function r(){return w}function s(e){w=w||this;var t="https://"+s.DEFAULT_ENDPOINT;this.options={enabled:!0,endpoint:t,environment:"production",scrubFields:f([],s.DEFAULT_SCRUB_FIELDS),checkIgnore:null,logLevel:s.DEFAULT_LOG_LEVEL,reportLevel:s.DEFAULT_REPORT_LEVEL,uncaughtErrorLevel:s.DEFAULT_UNCAUGHT_ERROR_LEVEL,payload:{}},this.lastError=null,this.plugins={},this.parentNotifier=e,e&&(e.hasOwnProperty("shimId")?e.notifier=this:this.configure(e.options))}function l(e){window._rollbarPayloadQueue.push(e),o()}function c(e){return n(function(){var t=this._getLogArgs(arguments);return this._log(e||t.level||this.options.logLevel||s.DEFAULT_LOG_LEVEL,t.message,t.err,t.custom,t.callback)})}function d(e,t){e||(e=t?x.stringify(t):"");var i={body:e};return t&&(i.extra=f(!0,{},t)),{message:i}}function u(e,t,i){var a=b.guessErrorClass(t.message),n=t.name||a[0],o=a[1],r={exception:{"class":n,message:o}};if(e&&(r.exception.description=e||"uncaught exception"),t.stack){var s,l,c,u,p,h,m,v;for(r.frames=[],m=0;m<t.stack.length;++m)s=t.stack[m],l={filename:s.url?g.sanitizeUrl(s.url):"(unknown)",lineno:s.line||null,method:s.func&&"?"!==s.func?s.func:"[anonymous]",colno:s.column},c=u=p=null,h=s.context?s.context.length:0,h&&(v=Math.floor(h/2),u=s.context.slice(0,v),c=s.context[v],p=s.context.slice(v)),c&&(l.code=c),(u||p)&&(l.context={},u&&u.length&&(l.context.pre=u),p&&p.length&&(l.context.post=p)),s.args&&(l.args=s.args),r.frames.push(l);return r.frames.reverse(),i&&(r.extra=f(!0,{},i)),{trace:r}}return d(n+": "+o,i)}function p(){var e;try{for(;e=window._rollbarPayloadQueue.shift();)h(e)}finally{m=void 0}}function h(e){var t=e.endpointUrl,i=e.accessToken,a=e.payload,n=e.callback||function(){},o=(new Date).getTime();o-A>=6e4&&(A=o,S=0);var r=window._globalRollbarOptions.maxItems,c=window._globalRollbarOptions.itemsPerMinute,d=function(){return!a.ignoreRateLimit&&r>=1&&k>=r},u=function(){return!a.ignoreRateLimit&&c>=1&&S>=c};return d()?void n(new Error(r+" max items reached")):u()?void n(new Error(c+" items per minute reached")):(k++,S++,d()&&w._log(w.options.uncaughtErrorLevel,"maxItems has been hit. Ignoring errors for the remainder of the current page load.",null,{maxItems:r},null,!1,!0),a.ignoreRateLimit&&delete a.ignoreRateLimit,void y.post(t,i,a,function(t,i){return t?(t instanceof _&&(e.callback=function(){},setTimeout(function(){l(e)},s.RETRY_DELAY)),n(t)):n(null,i)}))}var m,f=i(4),b=i(5),g=i(8),v=i(10),y=v.XHR,_=v.ConnectionError,x=null;s.NOTIFIER_VERSION="1.9.1",s.DEFAULT_ENDPOINT="api.rollbar.com/api/1/",s.DEFAULT_SCRUB_FIELDS=["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],s.DEFAULT_LOG_LEVEL="debug",s.DEFAULT_REPORT_LEVEL="debug",s.DEFAULT_UNCAUGHT_ERROR_LEVEL="error",s.DEFAULT_ITEMS_PER_MIN=60,s.DEFAULT_MAX_ITEMS=0,s.LEVELS={debug:0,info:1,warning:2,error:3,critical:4},s.RETRY_DELAY=1e4,window._rollbarPayloadQueue=window._rollbarPayloadQueue||[],window._globalRollbarOptions={startTime:(new Date).getTime(),maxItems:s.DEFAULT_MAX_ITEMS,itemsPerMinute:s.DEFAULT_ITEMS_PER_MIN};var w,T=s.prototype;T._getLogArgs=function(e){for(var t,i,a,o,r,l,c=this.options.logLevel||s.DEFAULT_LOG_LEVEL,d=[],u=0;u<e.length;++u)l=e[u],r=g.typeName(l),"string"===r?t?d.push(l):t=l:"function"===r?o=n(l,this):"date"===r?d.push(l):"error"===r||l instanceof Error||"undefined"!=typeof DOMException&&l instanceof DOMException?i?d.push(l):i=l:"object"!==r&&"array"!==r||(a?d.push(l):a=l);return d.length&&(a=a||{},a.extraArgs=d),{level:c,message:t,err:i,custom:a,callback:o}},T._route=function(e){var t=this.options.endpoint,i=/\/$/.test(t),a=/^\//.test(e);return i&&a?e=e.substring(1):i||a||(e="/"+e),t+e},T._processShimQueue=function(e){for(var t,i,a,n,o,r,l,c={};i=e.shift();)t=i.shim,a=i.method,n=i.args,o=t.parentShim,l=c[t.shimId],l||(o?(r=c[o.shimId],l=new s(r)):l=this,c[t.shimId]=l),l[a]&&g.isType(l[a],"function")&&l[a].apply(l,n)},T._buildPayload=function(e,t,i,a,n){var o=this.options.accessToken,r=this.options.environment,l=f(!0,{},this.options.payload),c=g.uuid4();if(void 0===s.LEVELS[t])throw new Error("Invalid level");if(!i&&!a&&!n)throw new Error("No message, stack info or custom data");var d={environment:r,endpoint:this.options.endpoint,uuid:c,level:t,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(i,a,n),request:{url:window.location.href,query_string:window.location.search,user_ip:"$remote_ip"},client:{runtime_ms:e.getTime()-window._globalRollbarOptions.startTime,timestamp:Math.round(e.getTime()/1e3),javascript:{browser:window.navigator.userAgent,language:window.navigator.language,cookie_enabled:window.navigator.cookieEnabled,screen:{width:window.screen.width,height:window.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:s.NOTIFIER_VERSION}};l.body&&delete l.body;var u={access_token:o,data:f(!0,d,l)};return this._scrub(u.data),u},T._buildBody=function(e,t,i){var a;return a=t?u(e,t,i):d(e,i)},T._getBrowserPlugins=function(){if(!this._browserPlugins){var e,t,i=window.navigator.plugins||[],a=i.length,n=[];for(t=0;a>t;++t)e=i[t],n.push({name:e.name,description:e.description});this._browserPlugins=n}return this._browserPlugins},T._scrub=function(e){function t(e,t,i,a,n,o){return t+g.redact(o)}function i(e){var i;if(g.isType(e,"string"))for(i=0;i<s.length;++i)e=e.replace(s[i],t);return e}function a(e,t){var i;for(i=0;i<r.length;++i)if(r[i].test(e)){t=g.redact(t);break}return t}function n(e,t){var n=a(e,t);return n===t?i(n):n}var o=this.options.scrubFields,r=this._getScrubFieldRegexs(o),s=this._getScrubQueryParamRegexs(o);return g.traverse(e,n),e},T._getScrubFieldRegexs=function(e){for(var t,i=[],a=0;a<e.length;++a)t="\\[?(%5[bB])?"+e[a]+"\\[?(%5[bB])?\\]?(%5[dD])?",i.push(new RegExp(t,"i"));return i},T._getScrubQueryParamRegexs=function(e){for(var t,i=[],a=0;a<e.length;++a)t="\\[?(%5[bB])?"+e[a]+"\\[?(%5[bB])?\\]?(%5[dD])?",i.push(new RegExp("("+t+"=)([^&\\n]+)","igm"));return i},T._urlIsWhitelisted=function(e){var t,i,a,n,o,r,s,l,c,d;try{if(t=this.options.hostWhiteList,i=e&&e.data&&e.data.body&&e.data.body.trace,!t||0===t.length)return!0;if(!i)return!0;for(s=t.length,o=i.frames.length,c=0;o>c;c++){if(a=i.frames[c],n=a.filename,!g.isType(n,"string"))return!0;for(d=0;s>d;d++)if(r=t[d],l=new RegExp(r),l.test(n))return!0}}catch(u){return this.configure({hostWhiteList:null}),console.error("[Rollbar]: Error while reading your configuration's hostWhiteList option. Removing custom hostWhiteList.",u),!0}return!1},T._messageIsIgnored=function(e){var t,i,a,n,o,r,s,l,c;try{if(o=!1,a=this.options.ignoredMessages,!a||0===a.length)return!1;if(s=e&&e.data&&e.data.body,l=s&&s.trace&&s.trace.exception&&s.trace.exception.message,c=s&&s.message&&s.message.body,t=l||c,!t)return!1;for(n=a.length,i=0;n>i&&(r=new RegExp(a[i],"gi"),!(o=r.test(t)));i++);}catch(d){this.configure({ignoredMessages:null}),console.error("[Rollbar]: Error while reading your configuration's ignoredMessages option. Removing custom ignoredMessages.")}return o},T._enqueuePayload=function(e,t,i,a){var n={callback:a,accessToken:this.options.accessToken,endpointUrl:this._route("item/"),payload:e},o=function(){if(a){var e="This item was not sent to Rollbar because it was ignored. This can happen if a custom checkIgnore() function was used or if the item's level was less than the notifier' reportLevel. See https://rollbar.com/docs/notifier/rollbar.js/configuration for more details.";a(null,{err:0,result:{id:null,uuid:null,message:e}})}};if(this._internalCheckIgnore(t,i,e))return void o();try{if(g.isType(this.options.checkIgnore,"function")&&this.options.checkIgnore(t,i,e))return void o()}catch(r){this.configure({checkIgnore:null}),console.error("[Rollbar]: Error while calling custom checkIgnore() function. Removing custom checkIgnore().",r)}if(this._urlIsWhitelisted(e)&&!this._messageIsIgnored(e)){if(this.options.verbose){if(e.data&&e.data.body&&e.data.body.trace){var s=e.data.body.trace,c=s.exception.message;console.error("[Rollbar]: ",c)}console.info("[Rollbar]: ",n)}g.isType(this.options.logFunction,"function")&&this.options.logFunction(n);try{g.isType(this.options.transform,"function")&&this.options.transform(e)}catch(r){this.configure({transform:null}),console.error("[Rollbar]: Error while calling custom transform() function. Removing custom transform().",r)}this.options.enabled&&l(n)}},T._internalCheckIgnore=function(e,t,i){var a=t[0],n=s.LEVELS[a]||0,o=s.LEVELS[this.options.reportLevel]||0;if(o>n)return!0;var r=this.options?this.options.plugins:{};if(r&&r.jquery&&r.jquery.ignoreAjaxErrors)try{return!!i.data.body.message.extra.isAjax}catch(l){return!1}return!1},T._log=function(e,t,i,a,n,o,r){var s=null;if(i)try{if(s=i._savedStackTrace?i._savedStackTrace:b.parse(i),i===this.lastError)return;this.lastError=i}catch(l){console.error("[Rollbar]: Error while parsing the error object.",l),t=i.message||i.description||t||String(i),i=null}var c=this._buildPayload(new Date,e,t,s,a);r&&(c.ignoreRateLimit=!0),this._enqueuePayload(c,!!o,[e,t,i,a],n)},T.log=c(),T.debug=c("debug"),T.info=c("info"),T.warn=c("warning"),T.warning=c("warning"),T.error=c("error"),T.critical=c("critical"),T.uncaughtError=n(function(e,t,i,a,n,o){if(o=o||null,n&&g.isType(n,"error"))return void this._log(this.options.uncaughtErrorLevel,e,n,o,null,!0);if(t&&g.isType(t,"error"))return void this._log(this.options.uncaughtErrorLevel,e,t,o,null,!0);var r={url:t||"",line:i};r.func=b.guessFunctionName(r.url,r.line),r.context=b.gatherContext(r.url,r.line);var s={mode:"onerror",message:n?String(n):e||"uncaught exception",url:document.location.href,stack:[r],useragent:navigator.userAgent},l=this._buildPayload(new Date,this.options.uncaughtErrorLevel,e,s,o);this._enqueuePayload(l,!0,[this.options.uncaughtErrorLevel,e,t,i,a,n])}),T.unhandledRejection=n(function(e,t){if(null==e)return void w._log(w.options.uncaughtErrorLevel,"unhandled rejection was null or undefined!",null,{},null,!1,!1);var i=e.message||(e?String(e):"unhandled rejection"),a=e._rollbarContext||t._rollbarContext||null;if(e&&g.isType(e,"error"))return void this._log(this.options.uncaughtErrorLevel,i,e,a,null,!0);var n={url:"",line:0};n.func=b.guessFunctionName(n.url,n.line),n.context=b.gatherContext(n.url,n.line);var o={mode:"unhandledrejection",message:i,url:document.location.href,stack:[n],useragent:navigator.userAgent},r=this._buildPayload(new Date,this.options.uncaughtErrorLevel,i,o,a);this._enqueuePayload(r,!0,[this.options.uncaughtErrorLevel,i,n.url,n.line,0,e,t])}),T.global=n(function(e){e=e||{};var t={startTime:e.startTime,maxItems:e.maxItems,itemsPerMinute:e.itemsPerMinute};f(!0,window._globalRollbarOptions,t),void 0!==e.maxItems&&(k=0),void 0!==e.itemsPerMinute&&(S=0)}),T.configure=n(function(e,t){var i=f(!0,{},e);f(!t,this.options,i),this.global(i)}),T.scope=n(function(e){var t=new s(this);return f(!0,t.options.payload,e),t}),T.wrap=function(e,t){try{var i;if(i=g.isType(t,"function")?t:function(){return t||{}},!g.isType(e,"function"))return e;if(e._isWrap)return e;if(!e._wrapped){e._wrapped=function(){try{return e.apply(this,arguments)}catch(t){throw t.stack||(t._savedStackTrace=b.parse(t)),t._rollbarContext=i()||{},t._rollbarContext._wrappedSource=e.toString(),window._rollbarWrappedError=t,t}},e._wrapped._isWrap=!0;for(var a in e)e.hasOwnProperty(a)&&(e._wrapped[a]=e[a])}return e._wrapped}catch(n){return e}},T.loadFull=function(){console.error("[Rollbar]: Unexpected Rollbar.loadFull() called on a Notifier instance")},s.processPayloads=function(e){return e?void p():void o()};var A=(new Date).getTime(),k=0,S=0;e.exports={Notifier:s,setupJSON:a,topLevelNotifier:r}},function(e,t){"use strict";var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,n=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===a.call(e)},o=function(e){if(!e||"[object Object]"!==a.call(e))return!1;var t=i.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var o;for(o in e);return"undefined"==typeof o||i.call(e,o)};e.exports=function r(){var e,t,i,a,s,l,c=arguments[0],d=1,u=arguments.length,p=!1;for("boolean"==typeof c?(p=c,c=arguments[1]||{},d=2):("object"!=typeof c&&"function"!=typeof c||null==c)&&(c={});u>d;++d)if(e=arguments[d],null!=e)for(t in e)i=c[t],a=e[t],c!==a&&(p&&a&&(o(a)||(s=n(a)))?(s?(s=!1,l=i&&n(i)?i:[]):l=i&&o(i)?i:{},c[t]=r(p,l,a)):"undefined"!=typeof a&&(c[t]=a));return c}},function(e,t,i){"use strict";function a(){return d}function n(){return null}function o(e){var t={};return t._stackFrame=e,t.url=e.fileName,t.line=e.lineNumber,t.func=e.functionName,t.column=e.columnNumber,t.args=e.args,t.context=n(t.url,t.line),t}function r(e){function t(){var t=[];try{t=c.parse(e)}catch(i){t=[]}for(var a=[],n=0;n<t.length;n++)a.push(new o(t[n]));return a}return{stack:t(),message:e.message,name:e.name}}function s(e){return new r(e)}function l(e){if(!e)return["Unknown error. There was no error message to display.",""];var t=e.match(u),i="(unknown)";return t&&(i=t[t.length-1],e=e.replace((t[t.length-2]||"")+i+":",""),e=e.replace(/(^[\s]+|[\s]+$)/g,"")),[i,e]}var c=i(6),d="?",u=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");e.exports={guessFunctionName:a,guessErrorClass:l,gatherContext:n,parse:s,Stack:r,Frame:o}},function(e,t,i){var a,n,o;!function(r,s){"use strict";n=[i(7)],a=s,o="function"==typeof a?a.apply(t,n):a,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";function t(e,t,i){if("function"==typeof Array.prototype.map)return e.map(t,i);for(var a=new Array(e.length),n=0;n<e.length;n++)a[n]=t.call(i,e[n]);return a}function i(e,t,i){if("function"==typeof Array.prototype.filter)return e.filter(t,i);for(var a=[],n=0;n<e.length;n++)t.call(i,e[n])&&a.push(e[n]);return a}var a=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,o=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if("undefined"!=typeof e.stacktrace||"undefined"!=typeof e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=e.replace(/[\(\)\s]/g,"").split(":"),i=t.pop(),a=t[t.length-1];if(!isNaN(parseFloat(a))&&isFinite(a)){var n=t.pop();return[t.join(":"),n,i]}return[t.join(":"),i,void 0]},parseV8OrIE:function(a){var o=i(a.stack.split("\n"),function(e){return!!e.match(n)},this);return t(o,function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var i=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),a=this.extractLocation(i.pop()),n=i.join(" ")||void 0,o="eval"===a[0]?void 0:a[0];return new e(n,void 0,o,a[1],a[2],t)},this)},parseFFOrSafari:function(a){var n=i(a.stack.split("\n"),function(e){return!e.match(o)},this);return t(n,function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e(t);var i=t.split("@"),a=this.extractLocation(i.pop()),n=i.shift()||void 0;return new e(n,void 0,a[0],a[1],a[2],t)},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,a=t.message.split("\n"),n=[],o=2,r=a.length;r>o;o+=2){var s=i.exec(a[o]);s&&n.push(new e(void 0,void 0,s[2],s[1],void 0,a[o]))}return n},parseOpera10:function(t){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=t.stacktrace.split("\n"),n=[],o=0,r=a.length;r>o;o+=2){var s=i.exec(a[o]);s&&n.push(new e(s[3]||void 0,void 0,s[2],s[1],void 0,a[o]))}return n},parseOpera11:function(n){var o=i(n.stack.split("\n"),function(e){return!!e.match(a)&&!e.match(/^Error created at/)},this);return t(o,function(t){var i,a=t.split("@"),n=this.extractLocation(a.pop()),o=a.shift()||"",r=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(i=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===i||"[arguments not available]"===i?void 0:i.split(",");return new e(r,s,n[0],n[1],n[2],t)},this)}}})},function(e,t,i){var a,n,o;!function(i,r){"use strict";n=[],a=r,o="function"==typeof a?a.apply(t,n):a,!(void 0!==o&&(e.exports=o))}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e,t,i,a,n,o){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==i&&this.setFileName(i),void 0!==a&&this.setLineNumber(a),void 0!==n&&this.setColumnNumber(n),void 0!==o&&this.setSource(o)}return t.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(t){if(!e(t))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(t)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(t){if(!e(t))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(t)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){var t=this.getFunctionName()||"{anonymous}",i="("+(this.getArgs()||[]).join(",")+")",a=this.getFileName()?"@"+this.getFileName():"",n=e(this.getLineNumber())?":"+this.getLineNumber():"",o=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+i+a+n+o}},t})},function(e,t,i){"use strict";function a(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(e,t){return a(e)===t}function o(e){if(!n(e,"string"))throw new Error("received invalid input");for(var t=d,i=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},o=14;o--;)a[t.key[o]]=i[o]||"";return a[t.q.name]={},a[t.key[12]].replace(t.q.parser,function(e,i,n){i&&(a[t.q.name][i]=n)}),a}function r(e){var t=o(e);return""===t.anchor&&(t.source=t.source.replace("#","")),e=t.source.replace("?"+t.query,"")}function s(e,t){var i,a,o,r=n(e,"object"),l=n(e,"array"),c=[];if(r)for(i in e)e.hasOwnProperty(i)&&c.push(i);else if(l)for(o=0;o<e.length;++o)c.push(o);for(o=0;o<c.length;++o)i=c[o],a=e[i],r=n(a,"object"),l=n(a,"array"),r||l?e[i]=s(a,t):e[i]=t(i,a);return e}function l(e){return e=String(e),new Array(e.length+1).join("*")}function c(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:7&i|8).toString(16)});return t}i(9);var d={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},u={isType:n,parseUri:o,parseUriOptions:d,redact:l,sanitizeUrl:r,traverse:s,typeName:a,uuid4:c};e.exports=u},function(e,t){!function(e){"use strict";e.console=e.console||{};for(var t,i,a=e.console,n={},o=function(){},r="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=r.pop();)a[t]||(a[t]=n);for(;i=s.pop();)a[i]||(a[i]=o)}("undefined"==typeof window?this:window)},function(e,t,i){"use strict";function a(e){r=e}function n(e){this.name="Connection Error",this.message=e,this.stack=(new Error).stack}var o=i(8),r=null;n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var s={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],createXMLHTTPObject:function(){var e,t=!1,i=s.XMLHttpFactories,a=i.length;for(e=0;a>e;e++)try{t=i[e]();break}catch(n){}return t},post:function(e,t,i,a){if(!o.isType(i,"object"))throw new Error("Expected an object to POST");i=r.stringify(i),a=a||function(){};var l=s.createXMLHTTPObject();if(l)try{try{var c=function(){try{c&&4===l.readyState&&(c=void 0,200===l.status?a(null,r.parse(l.responseText)):a(o.isType(l.status,"number")&&l.status>=400&&l.status<600?new Error(String(l.status)):new n("XHR response had no status code (likely connection failure)")))}catch(e){var t;t=e&&e.stack?e:new Error(e),a(t)}};l.open("POST",e,!0),l.setRequestHeader&&(l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("X-Rollbar-Access-Token",t)),l.onreadystatechange=c,l.send(i)}catch(d){if("undefined"!=typeof XDomainRequest){"http:"===window.location.href.substring(0,5)&&"https"===e.substring(0,5)&&(e="http"+e.substring(5));var u=function(){a(new n("Request timed out"))},p=function(){a(new Error("Error during request"))},h=function(){a(null,r.parse(l.responseText))};l=new XDomainRequest,l.onprogress=function(){},l.ontimeout=u,l.onerror=p,l.onload=h,l.open("POST",e,!0),l.send(i)}}}catch(m){a(m)}}};e.exports={XHR:s,setupJSON:a,ConnectionError:n}}])}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=oe.type(e);return"function"===i||oe.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,i){if(oe.isFunction(t))return oe.grep(e,function(e,a){return!!t.call(e,a,e)!==i});if(t.nodeType)return oe.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(he.test(t))return oe.filter(t,e,i);t=oe.filter(t,e)}return oe.grep(e,function(e){return oe.inArray(e,t)>=0!==i})}function n(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return oe.each(e.match(_e)||[],function(e,i){t[i]=!0}),t}function r(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(fe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(r(),oe.ready())}function l(e,t,i){if(void 0===i&&1===e.nodeType){var a="data-"+t.replace(Se,"-$1").toLowerCase();if(i=e.getAttribute(a),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ke.test(i)?oe.parseJSON(i):i}catch(n){}oe.data(e,t,i)}else i=void 0}return i}function c(e){var t;for(t in e)if(("data"!==t||!oe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,i,a){if(oe.acceptData(e)){var n,o,r=oe.expando,s=e.nodeType,l=s?oe.cache:e,c=s?e[r]:e[r]&&r;if(c&&l[c]&&(a||l[c].data)||void 0!==i||"string"!=typeof t)return c||(c=s?e[r]=G.pop()||oe.guid++:r),l[c]||(l[c]=s?{}:{toJSON:oe.noop}),("object"==typeof t||"function"==typeof t)&&(a?l[c]=oe.extend(l[c],t):l[c].data=oe.extend(l[c].data,t)),o=l[c],a||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[oe.camelCase(t)]=i),"string"==typeof t?(n=o[t],null==n&&(n=o[oe.camelCase(t)])):n=o,n}}function u(e,t,i){if(oe.acceptData(e)){var a,n,o=e.nodeType,r=o?oe.cache:e,s=o?e[oe.expando]:oe.expando;if(r[s]){if(t&&(a=i?r[s]:r[s].data)){oe.isArray(t)?t=t.concat(oe.map(t,oe.camelCase)):t in a?t=[t]:(t=oe.camelCase(t),t=t in a?[t]:t.split(" ")),n=t.length;for(;n--;)delete a[t[n]];if(i?!c(a):!oe.isEmptyObject(a))return}(i||(delete r[s].data,c(r[s])))&&(o?oe.cleanData([e],!0):ae.deleteExpando||r!=r.window?delete r[s]:r[s]=null)}}}function p(){return!0}function h(){return!1}function m(){try{return fe.activeElement}catch(e){}}function f(e){var t=$e.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function b(e,t){var i,a,n=0,o=typeof e.getElementsByTagName!==Ae?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ae?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],i=e.childNodes||e;null!=(a=i[n]);n++)!t||oe.nodeName(a,t)?o.push(a):oe.merge(o,b(a,t));return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],o):o}function g(e){Oe.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function y(e){return e.type=(null!==oe.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var i,a=0;null!=(i=e[a]);a++)oe._data(i,"globalEval",!t||oe._data(t[a],"globalEval"))}function w(e,t){if(1===t.nodeType&&oe.hasData(e)){var i,a,n,o=oe._data(e),r=oe._data(t,o),s=o.events;if(s){delete r.handle,r.events={};for(i in s)for(a=0,n=s[i].length;n>a;a++)oe.event.add(t,i,s[i][a])}r.data&&(r.data=oe.extend({},r.data))}}function T(e,t){var i,a,n;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ae.noCloneEvent&&t[oe.expando]){n=oe._data(t);for(a in n.events)oe.removeEvent(t,a,n.handle);t.removeAttribute(oe.expando)}"script"===i&&t.text!==e.text?(y(t).text=e.text,_(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ae.html5Clone&&e.innerHTML&&!oe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&Oe.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function A(t,i){var a=oe(i.createElement(t)).appendTo(i.body),n=e.getDefaultComputedStyle?e.getDefaultComputedStyle(a[0]).display:oe.css(a[0],"display");return a.detach(),n}function k(e){var t=fe,i=et[e];return i||(i=A(e,t),"none"!==i&&i||(Ze=(Ze||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ze[0].contentWindow||Ze[0].contentDocument).document,t.write(),t.close(),i=A(e,t),Ze.detach()),et[e]=i),i}function S(e,t){return{get:function(){var i=e();return null!=i?i?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function D(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),a=t,n=ht.length;n--;)if(t=ht[n]+i,t in e)return t;return a}function I(e,t){for(var i,a,n,o=[],r=0,s=e.length;s>r;r++)a=e[r],a.style&&(o[r]=oe._data(a,"olddisplay"),i=a.style.display,t?(o[r]||"none"!==i||(a.style.display=""),""===a.style.display&&Ee(a)&&(o[r]=oe._data(a,"olddisplay",k(a.nodeName)))):o[r]||(n=Ee(a),(i&&"none"!==i||!n)&&oe._data(a,"olddisplay",n?i:oe.css(a,"display"))));for(r=0;s>r;r++)a=e[r],a.style&&(t&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=t?o[r]||"":"none"));return e}function E(e,t,i){var a=ct.exec(t);return a?Math.max(0,a[1]-(i||0))+(a[2]||"px"):t}function C(e,t,i,a,n){for(var o=i===(a?"border":"content")?4:"width"===t?1:0,r=0;4>o;o+=2)"margin"===i&&(r+=oe.css(e,i+Ie[o],!0,n)),a?("content"===i&&(r-=oe.css(e,"padding"+Ie[o],!0,n)),"margin"!==i&&(r-=oe.css(e,"border"+Ie[o]+"Width",!0,n))):(r+=oe.css(e,"padding"+Ie[o],!0,n),"padding"!==i&&(r+=oe.css(e,"border"+Ie[o]+"Width",!0,n)));return r}function O(e,t,i){var a=!0,n="width"===t?e.offsetWidth:e.offsetHeight,o=tt(e),r=ae.boxSizing()&&"border-box"===oe.css(e,"boxSizing",!1,o);if(0>=n||null==n){if(n=it(e,t,o),(0>n||null==n)&&(n=e.style[t]),nt.test(n))return n;a=r&&(ae.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+C(e,t,i||(r?"border":"content"),a,o)+"px"}function P(e,t,i,a,n){return new P.prototype.init(e,t,i,a,n)}function B(){return setTimeout(function(){mt=void 0}),mt=oe.now()}function R(e,t){var i,a={height:e},n=0;for(t=t?1:0;4>n;n+=2-t)i=Ie[n],a["margin"+i]=a["padding"+i]=e;return t&&(a.opacity=a.width=e),a}function N(e,t,i){for(var a,n=(_t[t]||[]).concat(_t["*"]),o=0,r=n.length;r>o;o++)if(a=n[o].call(i,t,e))return a}function L(e,t,i){var a,n,o,r,s,l,c,d,u=this,p={},h=e.style,m=e.nodeType&&Ee(e),f=oe._data(e,"fxshow");i.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],c=oe.css(e,"display"),d=k(e.nodeName),"none"===c&&(c=d),
"inline"===c&&"none"===oe.css(e,"float")&&(ae.inlineBlockNeedsLayout&&"inline"!==d?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",ae.shrinkWrapBlocks()||u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(a in t)if(n=t[a],bt.exec(n)){if(delete t[a],o=o||"toggle"===n,n===(m?"hide":"show")){if("show"!==n||!f||void 0===f[a])continue;m=!0}p[a]=f&&f[a]||oe.style(e,a)}if(!oe.isEmptyObject(p)){f?"hidden"in f&&(m=f.hidden):f=oe._data(e,"fxshow",{}),o&&(f.hidden=!m),m?oe(e).show():u.done(function(){oe(e).hide()}),u.done(function(){var t;oe._removeData(e,"fxshow");for(t in p)oe.style(e,t,p[t])});for(a in p)r=N(m?f[a]:0,a,u),a in f||(f[a]=r.start,m&&(r.end=r.start,r.start="width"===a||"height"===a?1:0))}}function $(e,t){var i,a,n,o,r;for(i in e)if(a=oe.camelCase(i),n=t[a],o=e[i],oe.isArray(o)&&(n=o[1],o=e[i]=o[0]),i!==a&&(e[a]=o,delete e[i]),r=oe.cssHooks[a],r&&"expand"in r){o=r.expand(o),delete e[a];for(i in o)i in e||(e[i]=o[i],t[i]=n)}else t[a]=n}function M(e,t,i){var a,n,o=0,r=yt.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=mt||B(),i=Math.max(0,c.startTime+c.duration-t),a=i/c.duration||0,o=1-a,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(o);return s.notifyWith(e,[c,o,i]),1>o&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:mt||B(),duration:i.duration,tweens:[],createTween:function(t,i){var a=oe.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(a),a},stop:function(t){var i=0,a=t?c.tweens.length:0;if(n)return this;for(n=!0;a>i;i++)c.tweens[i].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for($(d,c.opts.specialEasing);r>o;o++)if(a=yt[o].call(c,e,d,c.opts))return a;return oe.map(d,N,c),oe.isFunction(c.opts.start)&&c.opts.start.call(e,c),oe.fx.timer(oe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var a,n=0,o=t.toLowerCase().match(_e)||[];if(oe.isFunction(i))for(;a=o[n++];)"+"===a.charAt(0)?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(i)):(e[a]=e[a]||[]).push(i)}}function V(e,t,i,a){function n(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var c=s(t,i,a);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),n(c),!1)}),l}var o={},r=e===Wt;return n(t.dataTypes[0])||!o["*"]&&n("*")}function F(e,t){var i,a,n=oe.ajaxSettings.flatOptions||{};for(a in t)void 0!==t[a]&&((n[a]?e:i||(i={}))[a]=t[a]);return i&&oe.extend(!0,e,i),e}function z(e,t,i){for(var a,n,o,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function j(e,t,i,a){var n,o,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=d.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(r=c[l+" "+o]||c["* "+o],!r)for(n in c)if(s=n.split(" "),s[1]===o&&(r=c[l+" "+s[0]]||c["* "+s[0]])){r===!0?r=c[n]:c[n]!==!0&&(o=s[0],d.unshift(s[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function W(e,t,i,a){var n;if(oe.isArray(t))oe.each(t,function(t,n){i||Gt.test(e)?a(e,n):W(e+"["+("object"==typeof n?t:"")+"]",n,i,a)});else if(i||"object"!==oe.type(t))a(e,t);else for(n in t)W(e+"["+n+"]",t[n],i,a)}function q(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Y(e){return oe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],X=G.slice,J=G.concat,Q=G.push,K=G.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ie="".trim,ae={},ne="1.11.0",oe=function(e,t){return new oe.fn.init(e,t)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ne,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return oe.each(this,e,t)},map:function(e){return this.pushStack(oe.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:G.sort,splice:G.splice},oe.extend=oe.fn.extend=function(){var e,t,i,a,n,o,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||oe.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(n=arguments[s]))for(a in n)e=r[a],i=n[a],r!==i&&(c&&i&&(oe.isPlainObject(i)||(t=oe.isArray(i)))?(t?(t=!1,o=e&&oe.isArray(e)?e:[]):o=e&&oe.isPlainObject(e)?e:{},r[a]=oe.extend(c,o,i)):void 0!==i&&(r[a]=i));return r},oe.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray||function(e){return"array"===oe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ae.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&oe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(se,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var n,o=0,r=e.length,s=i(e);if(a){if(s)for(;r>o&&(n=t.apply(e[o],a),n!==!1);o++);else for(o in e)if(n=t.apply(e[o],a),n===!1)break}else if(s)for(;r>o&&(n=t.call(e[o],o,e[o]),n!==!1);o++);else for(o in e)if(n=t.call(e[o],o,e[o]),n===!1)break;return e},trim:ie&&!ie.call("\ufeffÂ ")?function(e){return null==e?"":ie.call(e)}:function(e){return null==e?"":(e+"").replace(re,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(i(Object(e))?oe.merge(a,"string"==typeof e?[e]:e):Q.call(a,e)),a},inArray:function(e,t,i){var a;if(t){if(K)return K.call(t,e,i);for(a=t.length,i=i?0>i?Math.max(0,a+i):i:0;a>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){for(var i=+t.length,a=0,n=e.length;i>a;)e[n++]=t[a++];if(i!==i)for(;void 0!==t[a];)e[n++]=t[a++];return e.length=n,e},grep:function(e,t,i){for(var a,n=[],o=0,r=e.length,s=!i;r>o;o++)a=!t(e[o],o),a!==s&&n.push(e[o]);return n},map:function(e,t,a){var n,o=0,r=e.length,s=i(e),l=[];if(s)for(;r>o;o++)n=t(e[o],o,a),null!=n&&l.push(n);else for(o in e)n=t(e[o],o,a),null!=n&&l.push(n);return J.apply([],l)},guid:1,proxy:function(e,t){var i,a,n;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(i=X.call(arguments,2),a=function(){return e.apply(t||this,i.concat(X.call(arguments)))},a.guid=e.guid=e.guid||oe.guid++,a):void 0},now:function(){return+new Date},support:ae}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var de=function(e){function t(e,t,i,a){var n,o,r,s,l,c,u,m,f,b;if((t?t.ownerDocument||t:V)!==P&&O(t),t=t||P,i=i||[],!e||"string"!=typeof e)return i;if(1!==(s=t.nodeType)&&9!==s)return[];if(R&&!a){if(n=ve.exec(e))if(r=n[1]){if(9===s){if(o=t.getElementById(r),!o||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&M(t,o)&&o.id===r)return i.push(o),i}else{if(n[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((r=n[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(r)),i}if(T.qsa&&(!N||!N.test(e))){if(m=u=H,f=t,b=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(u=t.getAttribute("id"))?m=u.replace(_e,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=c.length;l--;)c[l]=m+h(c[l]);f=ye.test(e)&&d(t.parentNode)||t,b=c.join(",")}if(b)try{return Z.apply(i,f.querySelectorAll(b)),i}catch(g){}finally{u||t.removeAttribute("id")}}}return x(e.replace(le,"$1"),t,i,a)}function i(){function e(i,a){return t.push(i+" ")>A.cacheLength&&delete e[t.shift()],e[i+" "]=a}var t=[];return e}function a(e){return e[H]=!0,e}function n(e){var t=P.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var i=e.split("|"),a=e.length;a--;)A.attrHandle[i[a]]=t}function r(e,t){var i=t&&e,a=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(a)return a;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return a(function(t){return t=+t,a(function(i,a){for(var n,o=e([],i.length,t),r=o.length;r--;)i[n=o[r]]&&(i[n]=!(a[n]=i[n]))})})}function d(e){return e&&typeof e.getElementsByTagName!==Y&&e}function u(){}function p(e,i){var a,n,o,r,s,l,c,d=W[e+" "];if(d)return i?0:d.slice(0);for(s=e,l=[],c=A.preFilter;s;){(!a||(n=ce.exec(s)))&&(n&&(s=s.slice(n[0].length)||s),l.push(o=[])),a=!1,(n=de.exec(s))&&(a=n.shift(),o.push({value:a,type:n[0].replace(le," ")}),s=s.slice(a.length));for(r in A.filter)!(n=me[r].exec(s))||c[r]&&!(n=c[r](n))||(a=n.shift(),o.push({value:a,type:r,matches:n}),s=s.slice(a.length));if(!a)break}return i?s.length:s?t.error(e):W(e,l).slice(0)}function h(e){for(var t=0,i=e.length,a="";i>t;t++)a+=e[t].value;return a}function m(e,t,i){var a=t.dir,n=i&&"parentNode"===a,o=z++;return t.first?function(t,i,o){for(;t=t[a];)if(1===t.nodeType||n)return e(t,i,o)}:function(t,i,r){var s,l,c=[F,o];if(r){for(;t=t[a];)if((1===t.nodeType||n)&&e(t,i,r))return!0}else for(;t=t[a];)if(1===t.nodeType||n){if(l=t[H]||(t[H]={}),(s=l[a])&&s[0]===F&&s[1]===o)return c[2]=s[2];if(l[a]=c,c[2]=e(t,i,r))return!0}}}function f(e){return e.length>1?function(t,i,a){for(var n=e.length;n--;)if(!e[n](t,i,a))return!1;return!0}:e[0]}function b(e,t,i,a,n){for(var o,r=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!i||i(o,a,n))&&(r.push(o),c&&t.push(s));return r}function g(e,t,i,n,o,r){return n&&!n[H]&&(n=g(n)),o&&!o[H]&&(o=g(o,r)),a(function(a,r,s,l){var c,d,u,p=[],h=[],m=r.length,f=a||_(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?f:b(f,p,e,s,l),v=i?o||(a?e:m||n)?[]:r:g;if(i&&i(g,v,s,l),n)for(c=b(v,h),n(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[h[d]]=!(g[h[d]]=u));if(a){if(o||e){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?te.call(a,u):p[d])>-1&&(a[c]=!(r[c]=u))}}else v=b(v===r?v.splice(m,v.length):v),o?o(null,r,v,l):Z.apply(r,v)})}function v(e){for(var t,i,a,n=e.length,o=A.relative[e[0].type],r=o||A.relative[" "],s=o?1:0,l=m(function(e){return e===t},r,!0),c=m(function(e){return te.call(t,e)>-1},r,!0),d=[function(e,i,a){return!o&&(a||i!==I)||((t=i).nodeType?l(e,i,a):c(e,i,a))}];n>s;s++)if(i=A.relative[e[s].type])d=[m(f(d),i)];else{if(i=A.filter[e[s].type].apply(null,e[s].matches),i[H]){for(a=++s;n>a&&!A.relative[e[a].type];a++);return g(s>1&&f(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),i,a>s&&v(e.slice(s,a)),n>a&&v(e=e.slice(a)),n>a&&h(e))}d.push(i)}return f(d)}function y(e,i){var n=i.length>0,o=e.length>0,r=function(a,r,s,l,c){var d,u,p,h=0,m="0",f=a&&[],g=[],v=I,y=a||o&&A.find.TAG("*",c),_=F+=null==v?1:Math.random()||.1,x=y.length;for(c&&(I=r!==P&&r);m!==x&&null!=(d=y[m]);m++){if(o&&d){for(u=0;p=e[u++];)if(p(d,r,s)){l.push(d);break}c&&(F=_)}n&&((d=!p&&d)&&h--,a&&f.push(d))}if(h+=m,n&&m!==h){for(u=0;p=i[u++];)p(f,g,r,s);if(a){if(h>0)for(;m--;)f[m]||g[m]||(g[m]=Q.call(l));g=b(g)}Z.apply(l,g),c&&!a&&g.length>0&&h+i.length>1&&t.uniqueSort(l)}return c&&(F=_,I=v),f};return n?a(r):r}function _(e,i,a){for(var n=0,o=i.length;o>n;n++)t(e,i[n],a);return a}function x(e,t,i,a){var n,o,r,s,l,c=p(e);if(!a&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(r=o[0]).type&&T.getById&&9===t.nodeType&&R&&A.relative[o[1].type]){if(t=(A.find.ID(r.matches[0].replace(xe,we),t)||[])[0],!t)return i;e=e.slice(o.shift().value.length)}for(n=me.needsContext.test(e)?0:o.length;n--&&(r=o[n],!A.relative[s=r.type]);)if((l=A.find[s])&&(a=l(r.matches[0].replace(xe,we),ye.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(n,1),e=a.length&&h(o),!e)return Z.apply(i,a),i;break}}return D(e,c)(a,t,!R,i,ye.test(e)&&d(t.parentNode)||t),i}var w,T,A,k,S,D,I,E,C,O,P,B,R,N,L,$,M,H="sizzle"+-new Date,V=e.document,F=0,z=0,j=i(),W=i(),q=i(),U=function(e,t){return e===t&&(C=!0),0},Y="undefined",G=1<<31,X={}.hasOwnProperty,J=[],Q=J.pop,K=J.push,Z=J.push,ee=J.slice,te=J.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ae="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=ne.replace("w","w#"),re="\\["+ae+"*("+ne+")"+ae+"*(?:([*^$|!~]?=)"+ae+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+oe+")|)|)"+ae+"*\\]",se=":("+ne+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",le=new RegExp("^"+ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ae+"+$","g"),ce=new RegExp("^"+ae+"*,"+ae+"*"),de=new RegExp("^"+ae+"*([>+~]|"+ae+")"+ae+"*"),ue=new RegExp("="+ae+"*([^\\]'\"]*?)"+ae+"*\\]","g"),pe=new RegExp(se),he=new RegExp("^"+oe+"$"),me={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne.replace("w","w*")+")"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ae+"*(even|odd|(([+-]|)(\\d*)n|)"+ae+"*(?:([+-]|)"+ae+"*(\\d+)|))"+ae+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ae+"*((?:-\\d)?\\d*)"+ae+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,be=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,_e=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ae+"?|("+ae+")|.)","ig"),we=function(e,t,i){var a="0x"+t-65536;return a!==a||i?t:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{Z.apply(J=ee.call(V.childNodes),V.childNodes),J[V.childNodes.length].nodeType}catch(Te){Z={apply:J.length?function(e,t){K.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,a=0;e[i++]=t[a++];);e.length=i-1}}}T=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},O=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:V,a=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,B=i.documentElement,R=!S(i),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){O()},!1):a.attachEvent&&a.attachEvent("onunload",function(){O()})),T.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=n(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ge.test(i.getElementsByClassName)&&n(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=n(function(e){return B.appendChild(e).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),T.getById?(A.find.ID=function(e,t){if(typeof t.getElementById!==Y&&R){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},A.filter.ID=function(e){var t=e.replace(xe,we);return function(e){return e.getAttribute("id")===t}}):(delete A.find.ID,A.filter.ID=function(e){var t=e.replace(xe,we);return function(e){var i=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return i&&i.value===t}}),A.find.TAG=T.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var i,a=[],n=0,o=t.getElementsByTagName(e);if("*"===e){for(;i=o[n++];)1===i.nodeType&&a.push(i);return a}return o},A.find.CLASS=T.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==Y&&R?t.getElementsByClassName(e):void 0},L=[],N=[],(T.qsa=ge.test(i.querySelectorAll))&&(n(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&N.push("[*^$]="+ae+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||N.push("\\["+ae+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||N.push(":checked")}),n(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&N.push("name"+ae+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),N.push(",.*:")})),(T.matchesSelector=ge.test($=B.webkitMatchesSelector||B.mozMatchesSelector||B.oMatchesSelector||B.msMatchesSelector))&&n(function(e){T.disconnectedMatch=$.call(e,"div"),$.call(e,"[s!='']:x"),L.push("!=",se)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(B.compareDocumentPosition),M=t||ge.test(B.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,a=t&&t.parentNode;return e===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):e.compareDocumentPosition&&16&e.compareDocumentPosition(a)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return C=!0,0;var a=!e.compareDocumentPosition-!t.compareDocumentPosition;return a?a:(a=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&a||!T.sortDetached&&t.compareDocumentPosition(e)===a?e===i||e.ownerDocument===V&&M(V,e)?-1:t===i||t.ownerDocument===V&&M(V,t)?1:E?te.call(E,e)-te.call(E,t):0:4&a?-1:1)}:function(e,t){if(e===t)return C=!0,0;var a,n=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:E?te.call(E,e)-te.call(E,t):0;if(o===s)return r(e,t);for(a=e;a=a.parentNode;)l.unshift(a);for(a=t;a=a.parentNode;)c.unshift(a);for(;l[n]===c[n];)n++;return n?r(l[n],c[n]):l[n]===V?-1:c[n]===V?1:0},i):P},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==P&&O(e),i=i.replace(ue,"='$1']"),!(!T.matchesSelector||!R||L&&L.test(i)||N&&N.test(i)))try{var a=$.call(e,i);if(a||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return a}catch(n){}return t(i,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&O(e),M(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&O(e);var i=A.attrHandle[t.toLowerCase()],a=i&&X.call(A.attrHandle,t.toLowerCase())?i(e,t,!R):void 0;return void 0!==a?a:T.attributes||!R?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],a=0,n=0;if(C=!T.detectDuplicates,E=!T.sortStable&&e.slice(0),e.sort(U),C){for(;t=e[n++];)t===e[n]&&(a=i.push(n));for(;a--;)e.splice(i[a],1)}return E=null,e},k=t.getText=function(e){var t,i="",a=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[a++];)i+=k(t);return i},A=t.selectors={cacheLength:50,createPseudo:a,match:me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,we),e[3]=(e[4]||e[5]||"").replace(xe,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return me.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:i&&pe.test(i)&&(t=p(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+ae+")"+e+"("+ae+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,i,a){return function(n){var o=t.attr(n,e);return null==o?"!="===i:i?(o+="","="===i?o===a:"!="===i?o!==a:"^="===i?a&&0===o.indexOf(a):"*="===i?a&&o.indexOf(a)>-1:"$="===i?a&&o.slice(-a.length)===a:"~="===i?(" "+o+" ").indexOf(a)>-1:"|="===i?o===a||o.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,t,i,a,n){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===a&&0===n?function(e){return!!e.parentNode}:function(t,i,l){var c,d,u,p,h,m,f=o!==r?"nextSibling":"previousSibling",b=t.parentNode,g=s&&t.nodeName.toLowerCase(),v=!l&&!s;if(b){if(o){for(;f;){for(u=t;u=u[f];)if(s?u.nodeName.toLowerCase()===g:1===u.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?b.firstChild:b.lastChild],r&&v){for(d=b[H]||(b[H]={}),c=d[e]||[],h=c[0]===F&&c[1],p=c[0]===F&&c[2],u=h&&b.childNodes[h];u=++h&&u&&u[f]||(p=h=0)||m.pop();)if(1===u.nodeType&&++p&&u===t){d[e]=[F,h,p];break}}else if(v&&(c=(t[H]||(t[H]={}))[e])&&c[0]===F)p=c[1];else for(;(u=++h&&u&&u[f]||(p=h=0)||m.pop())&&((s?u.nodeName.toLowerCase()!==g:1!==u.nodeType)||!++p||(v&&((u[H]||(u[H]={}))[e]=[F,p]),u!==t)););return p-=n,p===a||p%a===0&&p/a>=0}}},PSEUDO:function(e,i){var n,o=A.pseudos[e]||A.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(i):o.length>1?(n=[e,e,"",i],A.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,t){for(var a,n=o(e,i),r=n.length;r--;)a=te.call(e,n[r]),e[a]=!(t[a]=n[r])}):function(e){return o(e,0,n)}):o}},pseudos:{not:a(function(e){var t=[],i=[],n=D(e.replace(le,"$1"));return n[H]?a(function(e,t,i,a){for(var o,r=n(e,null,a,[]),s=e.length;s--;)(o=r[s])&&(e[s]=!(t[s]=o))}):function(e,a,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:a(function(e){return function(i){return t(e,i).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:a(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,we).toLowerCase(),function(t){var i;do if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===B},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!A.pseudos.empty(e)},header:function(e){return be.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var a=0>i?i+t:i;--a>=0;)e.push(a);return e}),gt:c(function(e,t,i){for(var a=0>i?i+t:i;++a<t;)e.push(a);return e})}},A.pseudos.nth=A.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})A.pseudos[w]=l(w);return u.prototype=A.filters=A.pseudos,A.setFilters=new u,D=t.compile=function(e,t){var i,a=[],n=[],o=q[e+" "];if(!o){for(t||(t=p(e)),i=t.length;i--;)o=v(t[i]),o[H]?a.push(o):n.push(o);o=q(e,y(n,a))}return o},T.sortStable=H.split("").sort(U).join("")===H,T.detectDuplicates=!!C,O(),T.sortDetached=n(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||o(ie,function(e,t,i){var a;return i?void 0:e[t]===!0?t.toLowerCase():(a=e.getAttributeNode(t))&&a.specified?a.value:null}),t}(e);oe.find=de,oe.expr=de.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=de.uniqueSort,oe.text=de.getText,oe.isXMLDoc=de.isXML,oe.contains=de.contains;var ue=oe.expr.match.needsContext,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,he=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,i){var a=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===a.nodeType?oe.find.matchesSelector(a,e)?[a]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,i=[],a=this,n=a.length;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(a[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,a[t],i);return i=this.pushStack(n>1?oe.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&ue.test(e)?oe(e):e||[],!1).length}});var me,fe=e.document,be=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(e,t){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:be.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||me).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:fe,!0)),pe.test(i[1])&&oe.isPlainObject(t))for(i in t)oe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(a=fe.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return me.find(e);this.length=1,this[0]=a}return this.context=fe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?"undefined"!=typeof me.ready?me.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};ge.prototype=oe.fn,me=oe(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(e,t,i){for(var a=[],n=e[t];n&&9!==n.nodeType&&(void 0===i||1!==n.nodeType||!oe(n).is(i));)1===n.nodeType&&a.push(n),n=n[t];return a},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),oe.fn.extend({has:function(e){var t,i=oe(e,this),a=i.length;return this.filter(function(){for(t=0;a>t;t++)if(oe.contains(this,i[t]))return!0})},closest:function(e,t){for(var i,a=0,n=this.length,o=[],r=ue.test(e)||"string"!=typeof e?oe(e,t||this.context):0;n>a;a++)for(i=this[a];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&oe.find.matchesSelector(i,e))){o.push(i);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(e){return e?"string"==typeof e?oe.inArray(this[0],oe(e)):oe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.unique(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return oe.dir(e,"parentNode")},parentsUntil:function(e,t,i){return oe.dir(e,"parentNode",i)},next:function(e){return n(e,"nextSibling")},prev:function(e){return n(e,"previousSibling")},nextAll:function(e){return oe.dir(e,"nextSibling")},prevAll:function(e){return oe.dir(e,"previousSibling")},nextUntil:function(e,t,i){return oe.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return oe.dir(e,"previousSibling",i)},siblings:function(e){return oe.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return oe.sibling(e.firstChild)},contents:function(e){return oe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(i,a){var n=oe.map(this,t,i);return"Until"!==e.slice(-5)&&(a=i),a&&"string"==typeof a&&(n=oe.filter(a,n)),this.length>1&&(ye[e]||(n=oe.unique(n)),ve.test(e)&&(n=n.reverse())),this.pushStack(n)}});var _e=/\S+/g,xe={};oe.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):oe.extend({},e);var t,i,a,n,r,s,l=[],c=!e.once&&[],d=function(o){for(i=e.memory&&o,a=!0,r=s||0,s=0,n=l.length,t=!0;l&&n>r;r++)if(l[r].apply(o[0],o[1])===!1&&e.stopOnFalse){i=!1;break}t=!1,l&&(c?c.length&&d(c.shift()):i?l=[]:u.disable())},u={add:function(){if(l){var a=l.length;!function o(t){oe.each(t,function(t,i){var a=oe.type(i);"function"===a?e.unique&&u.has(i)||l.push(i):i&&i.length&&"string"!==a&&o(i)})}(arguments),t?n=l.length:i&&(s=a,d(i))}return this},remove:function(){return l&&oe.each(arguments,function(e,i){for(var a;(a=oe.inArray(i,l,a))>-1;)l.splice(a,1),t&&(n>=a&&n--,r>=a&&r--)}),this},has:function(e){return e?oe.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],n=0,this},disable:function(){return l=c=i=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,i||u.disable(),this},locked:function(){return!c},fireWith:function(e,i){return!l||a&&!c||(i=i||[],i=[e,i.slice?i.slice():i],t?c.push(i):d(i)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!a}};return u},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(i){oe.each(t,function(t,o){var r=oe.isFunction(e[t])&&e[t];n[o[1]](function(){var e=r&&r.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===a?i.promise():this,r?[e]:arguments);
})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,a):a}},n={};return a.pipe=a.then,oe.each(t,function(e,o){var r=o[2],s=o[3];a[o[1]]=r.add,s&&r.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),n[o[0]]=function(){return n[o[0]+"With"](this===n?a:this,arguments),this},n[o[0]+"With"]=r.fireWith}),a.promise(n),e&&e.call(n,n),n},when:function(e){var t,i,a,n=0,o=X.call(arguments),r=o.length,s=1!==r||e&&oe.isFunction(e.promise)?r:0,l=1===s?e:oe.Deferred(),c=function(e,i,a){return function(n){i[e]=this,a[e]=arguments.length>1?X.call(arguments):n,a===t?l.notifyWith(i,a):--s||l.resolveWith(i,a)}};if(r>1)for(t=new Array(r),i=new Array(r),a=new Array(r);r>n;n++)o[n]&&oe.isFunction(o[n].promise)?o[n].promise().done(c(n,a,o)).fail(l.reject).progress(c(n,i,t)):--s;return s||l.resolveWith(a,o),l.promise()}});var we;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){if(e===!0?!--oe.readyWait:!oe.isReady){if(!fe.body)return setTimeout(oe.ready);oe.isReady=!0,e!==!0&&--oe.readyWait>0||(we.resolveWith(fe,[oe]),oe.fn.trigger&&oe(fe).trigger("ready").off("ready"))}}}),oe.ready.promise=function(t){if(!we)if(we=oe.Deferred(),"complete"===fe.readyState)setTimeout(oe.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{fe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var i=!1;try{i=null==e.frameElement&&fe.documentElement}catch(a){}i&&i.doScroll&&!function n(){if(!oe.isReady){try{i.doScroll("left")}catch(e){return setTimeout(n,50)}r(),oe.ready()}}()}return we.promise(t)};var Te,Ae="undefined";for(Te in oe(ae))break;ae.ownLast="0"!==Te,ae.inlineBlockNeedsLayout=!1,oe(function(){var e,t,i=fe.getElementsByTagName("body")[0];i&&(e=fe.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=fe.createElement("div"),i.appendChild(e).appendChild(t),typeof t.style.zoom!==Ae&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(ae.inlineBlockNeedsLayout=3===t.offsetWidth)&&(i.style.zoom=1)),i.removeChild(e),e=t=null)}),function(){var e=fe.createElement("div");if(null==ae.deleteExpando){ae.deleteExpando=!0;try{delete e.test}catch(t){ae.deleteExpando=!1}}e=null}(),oe.acceptData=function(e){var t=oe.noData[(e.nodeName+" ").toLowerCase()],i=+e.nodeType||1;return 1!==i&&9!==i?!1:!t||t!==!0&&e.getAttribute("classid")===t};var ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Se=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?oe.cache[e[oe.expando]]:e[oe.expando],!!e&&!c(e)},data:function(e,t,i){return d(e,t,i)},removeData:function(e,t){return u(e,t)},_data:function(e,t,i){return d(e,t,i,!0)},_removeData:function(e,t){return u(e,t,!0)}}),oe.fn.extend({data:function(e,t){var i,a,n,o=this[0],r=o&&o.attributes;if(void 0===e){if(this.length&&(n=oe.data(o),1===o.nodeType&&!oe._data(o,"parsedAttrs"))){for(i=r.length;i--;)a=r[i].name,0===a.indexOf("data-")&&(a=oe.camelCase(a.slice(5)),l(o,a,n[a]));oe._data(o,"parsedAttrs",!0)}return n}return"object"==typeof e?this.each(function(){oe.data(this,e)}):arguments.length>1?this.each(function(){oe.data(this,e,t)}):o?l(o,e,oe.data(o,e)):void 0},removeData:function(e){return this.each(function(){oe.removeData(this,e)})}}),oe.extend({queue:function(e,t,i){var a;return e?(t=(t||"fx")+"queue",a=oe._data(e,t),i&&(!a||oe.isArray(i)?a=oe._data(e,t,oe.makeArray(i)):a.push(i)),a||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=oe.queue(e,t),a=i.length,n=i.shift(),o=oe._queueHooks(e,t),r=function(){oe.dequeue(e,t)};"inprogress"===n&&(n=i.shift(),a--),n&&("fx"===t&&i.unshift("inprogress"),delete o.stop,n.call(e,r,o)),!a&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return oe._data(e,i)||oe._data(e,i,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(e,t+"queue"),oe._removeData(e,i)})})}}),oe.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?oe.queue(this[0],e):void 0===t?this:this.each(function(){var i=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,a=1,n=oe.Deferred(),o=this,r=this.length,s=function(){--a||n.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)i=oe._data(o[r],e+"queueHooks"),i&&i.empty&&(a++,i.empty.add(s));return s(),n.promise(t)}});var De=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=["Top","Right","Bottom","Left"],Ee=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ce=oe.access=function(e,t,i,a,n,o,r){var s=0,l=e.length,c=null==i;if("object"===oe.type(i)){n=!0;for(s in i)oe.access(e,t,s,i[s],!0,o,r)}else if(void 0!==a&&(n=!0,oe.isFunction(a)||(r=!0),c&&(r?(t.call(e,a),t=null):(c=t,t=function(e,t,i){return c.call(oe(e),i)})),t))for(;l>s;s++)t(e[s],i,r?a:a.call(e[s],s,t(e[s],i)));return n?e:c?t.call(e):l?t(e[0],i):o},Oe=/^(?:checkbox|radio)$/i;!function(){var e=fe.createDocumentFragment(),t=fe.createElement("div"),i=fe.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",ae.leadingWhitespace=3===t.firstChild.nodeType,ae.tbody=!t.getElementsByTagName("tbody").length,ae.htmlSerialize=!!t.getElementsByTagName("link").length,ae.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ae.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ae.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ae.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ae.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ae.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ae.deleteExpando){ae.deleteExpando=!0;try{delete t.test}catch(a){ae.deleteExpando=!1}}e=t=i=null}(),function(){var t,i,a=fe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(ae[t+"Bubbles"]=i in e)||(a.setAttribute(i,"t"),ae[t+"Bubbles"]=a.attributes[i].expando===!1);a=null}();var Pe=/^(?:input|select|textarea)$/i,Be=/^key/,Re=/^(?:mouse|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,Le=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(e,t,i,a,n){var o,r,s,l,c,d,u,p,h,m,f,b=oe._data(e);if(b){for(i.handler&&(l=i,i=l.handler,n=l.selector),i.guid||(i.guid=oe.guid++),(r=b.events)||(r=b.events={}),(d=b.handle)||(d=b.handle=function(e){return typeof oe===Ae||e&&oe.event.triggered===e.type?void 0:oe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(_e)||[""],s=t.length;s--;)o=Le.exec(t[s])||[],h=f=o[1],m=(o[2]||"").split(".").sort(),h&&(c=oe.event.special[h]||{},h=(n?c.delegateType:c.bindType)||h,c=oe.event.special[h]||{},u=oe.extend({type:h,origType:f,data:a,handler:i,guid:i.guid,selector:n,needsContext:n&&oe.expr.match.needsContext.test(n),namespace:m.join(".")},l),(p=r[h])||(p=r[h]=[],p.delegateCount=0,c.setup&&c.setup.call(e,a,m,d)!==!1||(e.addEventListener?e.addEventListener(h,d,!1):e.attachEvent&&e.attachEvent("on"+h,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),n?p.splice(p.delegateCount++,0,u):p.push(u),oe.event.global[h]=!0);e=null}},remove:function(e,t,i,a,n){var o,r,s,l,c,d,u,p,h,m,f,b=oe.hasData(e)&&oe._data(e);if(b&&(d=b.events)){for(t=(t||"").match(_e)||[""],c=t.length;c--;)if(s=Le.exec(t[c])||[],h=f=s[1],m=(s[2]||"").split(".").sort(),h){for(u=oe.event.special[h]||{},h=(a?u.delegateType:u.bindType)||h,p=d[h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=p.length;o--;)r=p[o],!n&&f!==r.origType||i&&i.guid!==r.guid||s&&!s.test(r.namespace)||a&&a!==r.selector&&("**"!==a||!r.selector)||(p.splice(o,1),r.selector&&p.delegateCount--,u.remove&&u.remove.call(e,r));l&&!p.length&&(u.teardown&&u.teardown.call(e,m,b.handle)!==!1||oe.removeEvent(e,h,b.handle),delete d[h])}else for(h in d)oe.event.remove(e,h+t[c],i,a,!0);oe.isEmptyObject(d)&&(delete b.handle,oe._removeData(e,"events"))}},trigger:function(t,i,a,n){var o,r,s,l,c,d,u,p=[a||fe],h=te.call(t,"type")?t.type:t,m=te.call(t,"namespace")?t.namespace.split("."):[];if(s=d=a=a||fe,3!==a.nodeType&&8!==a.nodeType&&!Ne.test(h+oe.event.triggered)&&(h.indexOf(".")>=0&&(m=h.split("."),h=m.shift(),m.sort()),r=h.indexOf(":")<0&&"on"+h,t=t[oe.expando]?t:new oe.Event(h,"object"==typeof t&&t),t.isTrigger=n?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=a),i=null==i?[t]:oe.makeArray(i,[t]),c=oe.event.special[h]||{},n||!c.trigger||c.trigger.apply(a,i)!==!1)){if(!n&&!c.noBubble&&!oe.isWindow(a)){for(l=c.delegateType||h,Ne.test(l+h)||(s=s.parentNode);s;s=s.parentNode)p.push(s),d=s;d===(a.ownerDocument||fe)&&p.push(d.defaultView||d.parentWindow||e)}for(u=0;(s=p[u++])&&!t.isPropagationStopped();)t.type=u>1?l:c.bindType||h,o=(oe._data(s,"events")||{})[t.type]&&oe._data(s,"handle"),o&&o.apply(s,i),o=r&&s[r],o&&o.apply&&oe.acceptData(s)&&(t.result=o.apply(s,i),t.result===!1&&t.preventDefault());if(t.type=h,!n&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),i)===!1)&&oe.acceptData(a)&&r&&a[h]&&!oe.isWindow(a)){d=a[r],d&&(a[r]=null),oe.event.triggered=h;try{a[h]()}catch(f){}oe.event.triggered=void 0,d&&(a[r]=d)}return t.result}},dispatch:function(e){e=oe.event.fix(e);var t,i,a,n,o,r=[],s=X.call(arguments),l=(oe._data(this,"events")||{})[e.type]||[],c=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(r=oe.event.handlers.call(this,e,l),t=0;(n=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,o=0;(a=n.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(a.namespace))&&(e.handleObj=a,e.data=a.data,i=((oe.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,a,n,o,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(n=[],o=0;s>o;o++)a=t[o],i=a.selector+" ",void 0===n[i]&&(n[i]=a.needsContext?oe(i,this).index(l)>=0:oe.find(i,this,null,[l]).length),n[i]&&n.push(a);n.length&&r.push({elem:l,handlers:n})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[oe.expando])return e;var t,i,a,n=e.type,o=e,r=this.fixHooks[n];for(r||(this.fixHooks[n]=r=Re.test(n)?this.mouseHooks:Be.test(n)?this.keyHooks:{}),a=r.props?this.props.concat(r.props):this.props,e=new oe.Event(o),t=a.length;t--;)i=a[t],e[i]=o[i];return e.target||(e.target=o.srcElement||fe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,a,n,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(a=e.target.ownerDocument||fe,n=a.documentElement,i=a.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==m()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,a){var n=oe.extend(new oe.Event,i,{type:e,isSimulated:!0,originalEvent:{}});a?oe.event.trigger(n,null,t):oe.event.dispatch.call(t,n),n.isDefaultPrevented()&&i.preventDefault()}},oe.removeEvent=fe.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var a="on"+t;e.detachEvent&&(typeof e[a]===Ae&&(e[a]=null),e.detachEvent(a,i))},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?p:h):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,a=this,n=e.relatedTarget,o=e.handleObj;return(!n||n!==a&&!oe.contains(a,n))&&(e.type=o.origType,i=o.handler.apply(this,arguments),e.type=t),i}}}),ae.submitBubbles||(oe.event.special.submit={setup:function(){return oe.nodeName(this,"form")?!1:void oe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=oe.nodeName(t,"input")||oe.nodeName(t,"button")?t.form:void 0;i&&!oe._data(i,"submitBubbles")&&(oe.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),oe._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&oe.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return oe.nodeName(this,"form")?!1:void oe.event.remove(this,"._submit")}}),ae.changeBubbles||(oe.event.special.change={setup:function(){return Pe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,e,!0)})),!1):void oe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Pe.test(t.nodeName)&&!oe._data(t,"changeBubbles")&&(oe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||oe.event.simulate("change",this.parentNode,e,!0)}),oe._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!Pe.test(this.nodeName)}}),ae.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){oe.event.simulate(t,e.target,oe.event.fix(e),!0)};oe.event.special[t]={setup:function(){var a=this.ownerDocument||this,n=oe._data(a,t);n||a.addEventListener(e,i,!0),oe._data(a,t,(n||0)+1)},teardown:function(){var a=this.ownerDocument||this,n=oe._data(a,t)-1;n?oe._data(a,t,n):(a.removeEventListener(e,i,!0),oe._removeData(a,t))}}}),oe.fn.extend({on:function(e,t,i,a,n){var o,r;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],n);return this}if(null==i&&null==a?(a=t,i=t=void 0):null==a&&("string"==typeof t?(a=i,i=void 0):(a=i,i=t,t=void 0)),a===!1)a=h;else if(!a)return this;return 1===n&&(r=a,a=function(e){return oe().off(e),r.apply(this,arguments)},a.guid=r.guid||(r.guid=oe.guid++)),this.each(function(){oe.event.add(this,e,a,i,t)})},one:function(e,t,i,a){return this.on(e,t,i,a,1)},off:function(e,t,i){var a,n;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,oe(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=h),this.each(function(){oe.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?oe.event.trigger(e,t,i,!0):void 0}});var $e="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Me=/ jQuery\d+="(?:null|\d+)"/g,He=new RegExp("<(?:"+$e+")[\\s/>]","i"),Ve=/^\s+/,Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,je=/<tbody/i,We=/<|&#?\w+;/,qe=/<(?:script|style|link)/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^$|\/(?:java|ecma)script/i,Ge=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ae.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qe=f(fe),Ke=Qe.appendChild(fe.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,oe.extend({clone:function(e,t,i){var a,n,o,r,s,l=oe.contains(e.ownerDocument,e);if(ae.html5Clone||oe.isXMLDoc(e)||!He.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ke.innerHTML=e.outerHTML,Ke.removeChild(o=Ke.firstChild)),!(ae.noCloneEvent&&ae.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=b(o),s=b(e),r=0;null!=(n=s[r]);++r)a[r]&&T(n,a[r]);if(t)if(i)for(s=s||b(e),a=a||b(o),r=0;null!=(n=s[r]);r++)w(n,a[r]);else w(e,o);return a=b(o,"script"),a.length>0&&x(a,!l&&b(e,"script")),a=s=n=null,o},buildFragment:function(e,t,i,a){for(var n,o,r,s,l,c,d,u=e.length,p=f(t),h=[],m=0;u>m;m++)if(o=e[m],o||0===o)if("object"===oe.type(o))oe.merge(h,o.nodeType?[o]:o);else if(We.test(o)){for(s=s||p.appendChild(t.createElement("div")),l=(ze.exec(o)||["",""])[1].toLowerCase(),d=Je[l]||Je._default,s.innerHTML=d[1]+o.replace(Fe,"<$1></$2>")+d[2],n=d[0];n--;)s=s.lastChild;if(!ae.leadingWhitespace&&Ve.test(o)&&h.push(t.createTextNode(Ve.exec(o)[0])),!ae.tbody)for(o="table"!==l||je.test(o)?"<table>"!==d[1]||je.test(o)?0:s:s.firstChild,n=o&&o.childNodes.length;n--;)oe.nodeName(c=o.childNodes[n],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(oe.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else h.push(t.createTextNode(o));for(s&&p.removeChild(s),ae.appendChecked||oe.grep(b(h,"input"),g),m=0;o=h[m++];)if((!a||-1===oe.inArray(o,a))&&(r=oe.contains(o.ownerDocument,o),s=b(p.appendChild(o),"script"),r&&x(s),i))for(n=0;o=s[n++];)Ye.test(o.type||"")&&i.push(o);return s=null,p},cleanData:function(e,t){for(var i,a,n,o,r=0,s=oe.expando,l=oe.cache,c=ae.deleteExpando,d=oe.event.special;null!=(i=e[r]);r++)if((t||oe.acceptData(i))&&(n=i[s],o=n&&l[n])){if(o.events)for(a in o.events)d[a]?oe.event.remove(i,a):oe.removeEvent(i,a,o.handle);l[n]&&(delete l[n],c?delete i[s]:typeof i.removeAttribute!==Ae?i.removeAttribute(s):i[s]=null,G.push(n))}}}),oe.fn.extend({text:function(e){return Ce(this,function(e){return void 0===e?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,a=e?oe.filter(e,this):this,n=0;null!=(i=a[n]);n++)t||1!==i.nodeType||oe.cleanData(b(i)),i.parentNode&&(t&&oe.contains(i.ownerDocument,i)&&x(b(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&oe.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&oe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return Ce(this,function(e){var t=this[0]||{},i=0,a=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Me,""):void 0;if(!("string"!=typeof e||qe.test(e)||!ae.htmlSerialize&&He.test(e)||!ae.leadingWhitespace&&Ve.test(e)||Je[(ze.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Fe,"<$1></$2>");try{for(;a>i;i++)t=this[i]||{},1===t.nodeType&&(oe.cleanData(b(t,!1)),t.innerHTML=e);t=0}catch(n){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,oe.cleanData(b(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var i,a,n,o,r,s,l=0,c=this.length,d=this,u=c-1,p=e[0],h=oe.isFunction(p);if(h||c>1&&"string"==typeof p&&!ae.checkClone&&Ue.test(p))return this.each(function(i){var a=d.eq(i);h&&(e[0]=p.call(this,i,a.html())),a.domManip(e,t)});if(c&&(s=oe.buildFragment(e,this[0].ownerDocument,!1,this),i=s.firstChild,1===s.childNodes.length&&(s=i),i)){for(o=oe.map(b(s,"script"),y),n=o.length;c>l;l++)a=s,l!==u&&(a=oe.clone(a,!0,!0),n&&oe.merge(o,b(a,"script"))),t.call(this[l],a,l);if(n)for(r=o[o.length-1].ownerDocument,oe.map(o,_),l=0;n>l;l++)a=o[l],Ye.test(a.type||"")&&!oe._data(a,"globalEval")&&oe.contains(r,a)&&(a.src?oe._evalUrl&&oe._evalUrl(a.src):oe.globalEval((a.text||a.textContent||a.innerHTML||"").replace(Xe,"")));s=i=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var i,a=0,n=[],o=oe(e),r=o.length-1;r>=a;a++)i=a===r?this:this.clone(!0),oe(o[a])[t](i),Q.apply(n,i.get());return this.pushStack(n)}});var Ze,et={};!function(){var e,t,i=fe.createElement("div"),a="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=i.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",ae.opacity=/^0.5/.test(e.style.opacity),ae.cssFloat=!!e.style.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ae.clearCloneStyle="content-box"===i.style.backgroundClip,e=i=null,ae.shrinkWrapBlocks=function(){var e,i,n,o;if(null==t){if(e=fe.getElementsByTagName("body")[0],!e)return;o="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",i=fe.createElement("div"),n=fe.createElement("div"),e.appendChild(i).appendChild(n),t=!1,typeof n.style.zoom!==Ae&&(n.style.cssText=a+";width:1px;padding:1px;zoom:1",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t=3!==n.offsetWidth),e.removeChild(i),e=i=n=null}return t}}();var tt,it,at=/^margin/,nt=new RegExp("^("+De+")(?!px)[a-z%]+$","i"),ot=/^(top|right|bottom|left)$/;e.getComputedStyle?(tt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},it=function(e,t,i){var a,n,o,r,s=e.style;return i=i||tt(e),r=i?i.getPropertyValue(t)||i[t]:void 0,i&&(""!==r||oe.contains(e.ownerDocument,e)||(r=oe.style(e,t)),nt.test(r)&&at.test(t)&&(a=s.width,n=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=a,s.minWidth=n,s.maxWidth=o)),void 0===r?r:r+""}):fe.documentElement.currentStyle&&(tt=function(e){return e.currentStyle},it=function(e,t,i){var a,n,o,r,s=e.style;return i=i||tt(e),r=i?i[t]:void 0,null==r&&s&&s[t]&&(r=s[t]),nt.test(r)&&!ot.test(t)&&(a=s.left,n=e.runtimeStyle,o=n&&n.left,o&&(n.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=a,o&&(n.left=o)),void 0===r?r:r+""||"auto"}),!function(){function t(){var t,i,a=fe.getElementsByTagName("body")[0];a&&(t=fe.createElement("div"),i=fe.createElement("div"),t.style.cssText=c,a.appendChild(t).appendChild(i),i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",oe.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){n=4===i.offsetWidth}),o=!0,r=!1,s=!0,e.getComputedStyle&&(r="1%"!==(e.getComputedStyle(i,null)||{}).top,o="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width),a.removeChild(t),i=a=null)}var i,a,n,o,r,s,l=fe.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=l.getElementsByTagName("a")[0],i.style.cssText="float:left;opacity:.5",ae.opacity=/^0.5/.test(i.style.opacity),ae.cssFloat=!!i.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ae.clearCloneStyle="content-box"===l.style.backgroundClip,i=l=null,oe.extend(ae,{reliableHiddenOffsets:function(){if(null!=a)return a;var e,t,i,n=fe.createElement("div"),o=fe.getElementsByTagName("body")[0];return o?(n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=fe.createElement("div"),e.style.cssText=c,o.appendChild(e).appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=n.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",i=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",a=i&&0===t[0].offsetHeight,o.removeChild(e),n=o=null,a):void 0},boxSizing:function(){return null==n&&t(),n},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==r&&t(),r},reliableMarginRight:function(){var t,i,a,n;if(null==s&&e.getComputedStyle){if(t=fe.getElementsByTagName("body")[0],!t)return;i=fe.createElement("div"),a=fe.createElement("div"),i.style.cssText=c,t.appendChild(i).appendChild(a),n=a.appendChild(fe.createElement("div")),n.style.cssText=a.style.cssText=d,n.style.marginRight=n.style.width="0",a.style.width="1px",s=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight),t.removeChild(i)}return s}})}(),oe.swap=function(e,t,i,a){var n,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];n=i.apply(e,a||[]);for(o in t)e.style[o]=r[o];return n};var rt=/alpha\([^)]*\)/i,st=/opacity\s*=\s*([^)]*)/,lt=/^(none|table(?!-c[ea]).+)/,ct=new RegExp("^("+De+")(.*)$","i"),dt=new RegExp("^([+-])=("+De+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},pt={letterSpacing:0,fontWeight:400},ht=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=it(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ae.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,a){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,r,s=oe.camelCase(t),l=e.style;if(t=oe.cssProps[s]||(oe.cssProps[s]=D(l,s)),r=oe.cssHooks[t]||oe.cssHooks[s],void 0===i)return r&&"get"in r&&void 0!==(n=r.get(e,!1,a))?n:l[t];if(o=typeof i,"string"===o&&(n=dt.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(oe.css(e,t)),o="number"),null!=i&&i===i&&("number"!==o||oe.cssNumber[s]||(i+="px"),ae.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),!(r&&"set"in r&&void 0===(i=r.set(e,i,a)))))try{l[t]="",l[t]=i}catch(c){}}},css:function(e,t,i,a){var n,o,r,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=D(e.style,s)),r=oe.cssHooks[t]||oe.cssHooks[s],r&&"get"in r&&(o=r.get(e,!0,i)),void 0===o&&(o=it(e,t,a)),"normal"===o&&t in pt&&(o=pt[t]),""===i||i?(n=parseFloat(o),i===!0||oe.isNumeric(n)?n||0:o):o}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,i,a){return i?0===e.offsetWidth&&lt.test(oe.css(e,"display"))?oe.swap(e,ut,function(){return O(e,t,a)}):O(e,t,a):void 0},set:function(e,i,a){var n=a&&tt(e);return E(e,i,a?C(e,t,a,ae.boxSizing()&&"border-box"===oe.css(e,"boxSizing",!1,n),n):0)}}}),ae.opacity||(oe.cssHooks.opacity={get:function(e,t){return st.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,a=e.currentStyle,n=oe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=a&&a.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===oe.trim(o.replace(rt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||a&&!a.filter)||(i.filter=rt.test(o)?o.replace(rt,n):o+" "+n)}}),oe.cssHooks.marginRight=S(ae.reliableMarginRight,function(e,t){return t?oe.swap(e,{display:"inline-block"},it,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(i){for(var a=0,n={},o="string"==typeof i?i.split(" "):[i];4>a;a++)n[e+Ie[a]+t]=o[a]||o[a-2]||o[0];return n}},at.test(e)||(oe.cssHooks[e+t].set=E)}),oe.fn.extend({css:function(e,t){return Ce(this,function(e,t,i){var a,n,o={},r=0;if(oe.isArray(t)){for(a=tt(e),n=t.length;n>r;r++)o[t[r]]=oe.css(e,t[r],!1,a);return o}return void 0!==i?oe.style(e,t,i):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ee(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=P,P.prototype={constructor:P,init:function(e,t,i,a,n,o){this.elem=e,this.prop=i,this.easing=n||"swing",this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=o||(oe.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[oe.cssProps[e.prop]]||oe.cssHooks[e.prop])?oe.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now);
}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},oe.fx=P.prototype.init,oe.fx.step={};var mt,ft,bt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+De+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[L],_t={"*":[function(e,t){var i=this.createTween(e,t),a=i.cur(),n=gt.exec(t),o=n&&n[3]||(oe.cssNumber[e]?"":"px"),r=(oe.cssNumber[e]||"px"!==o&&+a)&&gt.exec(oe.css(i.elem,e)),s=1,l=20;if(r&&r[3]!==o){o=o||r[3],n=n||[],r=+a||1;do s=s||".5",r/=s,oe.style(i.elem,e,r+o);while(s!==(s=i.cur()/a)&&1!==s&&--l)}return n&&(r=i.start=+r||+a||0,i.unit=o,i.end=n[1]?r+(n[1]+1)*n[2]:+n[2]),i}]};oe.Animation=oe.extend(M,{tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,a=0,n=e.length;n>a;a++)i=e[a],_t[i]=_t[i]||[],_t[i].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),oe.speed=function(e,t,i){var a=e&&"object"==typeof e?oe.extend({},e):{complete:i||!i&&t||oe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!oe.isFunction(t)&&t};return a.duration=oe.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in oe.fx.speeds?oe.fx.speeds[a.duration]:oe.fx.speeds._default,(null==a.queue||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){oe.isFunction(a.old)&&a.old.call(this),a.queue&&oe.dequeue(this,a.queue)},a},oe.fn.extend({fadeTo:function(e,t,i,a){return this.filter(Ee).css("opacity",0).show().end().animate({opacity:t},e,i,a)},animate:function(e,t,i,a){var n=oe.isEmptyObject(e),o=oe.speed(t,i,a),r=function(){var t=M(this,oe.extend({},e),o);(n||oe._data(this,"finish"))&&t.stop(!0)};return r.finish=r,n||o.queue===!1?this.each(r):this.queue(o.queue,r)},stop:function(e,t,i){var a=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=oe.timers,r=oe._data(this);if(n)r[n]&&r[n].stop&&a(r[n]);else for(n in r)r[n]&&r[n].stop&&vt.test(n)&&a(r[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=oe._data(this),a=i[e+"queue"],n=i[e+"queueHooks"],o=oe.timers,r=a?a.length:0;for(i.finish=!0,oe.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;r>t;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete i.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var i=oe.fn[t];oe.fn[t]=function(e,a,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(R(t,!0),e,a,n)}}),oe.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,i,a){return this.animate(t,e,i,a)}}),oe.timers=[],oe.fx.tick=function(){var e,t=oe.timers,i=0;for(mt=oe.now();i<t.length;i++)e=t[i],e()||t[i]!==e||t.splice(i--,1);t.length||oe.fx.stop(),mt=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ft||(ft=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(ft),ft=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(e,t){return e=oe.fx?oe.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var a=setTimeout(t,e);i.stop=function(){clearTimeout(a)}})},function(){var e,t,i,a,n=fe.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],i=fe.createElement("select"),a=i.appendChild(fe.createElement("option")),t=n.getElementsByTagName("input")[0],e.style.cssText="top:1px",ae.getSetAttribute="t"!==n.className,ae.style=/top/.test(e.getAttribute("style")),ae.hrefNormalized="/a"===e.getAttribute("href"),ae.checkOn=!!t.value,ae.optSelected=a.selected,ae.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ae.optDisabled=!a.disabled,t=fe.createElement("input"),t.setAttribute("value",""),ae.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ae.radioValue="t"===t.value,e=t=i=a=n=null}();var xt=/\r/g;oe.fn.extend({val:function(e){var t,i,a,n=this[0];return arguments.length?(a=oe.isFunction(e),this.each(function(i){var n;1===this.nodeType&&(n=a?e.call(this,i,oe(this).val()):e,null==n?n="":"number"==typeof n?n+="":oe.isArray(n)&&(n=oe.map(n,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=oe.valHooks[n.type]||oe.valHooks[n.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(n,"value"))?i:(i=n.value,"string"==typeof i?i.replace(xt,""):null==i?"":i)):void 0}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.text(e)}},select:{get:function(e){for(var t,i,a=e.options,n=e.selectedIndex,o="select-one"===e.type||0>n,r=o?null:[],s=o?n+1:a.length,l=0>n?s:o?n:0;s>l;l++)if(i=a[l],!(!i.selected&&l!==n||(ae.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&oe.nodeName(i.parentNode,"optgroup"))){if(t=oe(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,a,n=e.options,o=oe.makeArray(t),r=n.length;r--;)if(a=n[r],oe.inArray(oe.valHooks.option.get(a),o)>=0)try{a.selected=i=!0}catch(s){a.scrollHeight}else a.selected=!1;return i||(e.selectedIndex=-1),n}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>=0:void 0}},ae.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,At=oe.expr.attrHandle,kt=/^(?:checked|selected)$/i,St=ae.getSetAttribute,Dt=ae.input;oe.fn.extend({attr:function(e,t){return Ce(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,i){var a,n,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Ae?oe.prop(e,t,i):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),a=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?Tt:wt)),void 0===i?a&&"get"in a&&null!==(n=a.get(e,t))?n:(n=oe.find.attr(e,t),null==n?void 0:n):null!==i?a&&"set"in a&&void 0!==(n=a.set(e,i,t))?n:(e.setAttribute(t,i+""),i):void oe.removeAttr(e,t)):void 0},removeAttr:function(e,t){var i,a,n=0,o=t&&t.match(_e);if(o&&1===e.nodeType)for(;i=o[n++];)a=oe.propFix[i]||i,oe.expr.match.bool.test(i)?Dt&&St||!kt.test(i)?e[a]=!1:e[oe.camelCase("default-"+i)]=e[a]=!1:oe.attr(e,i,""),e.removeAttribute(St?i:a)},attrHooks:{type:{set:function(e,t){if(!ae.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Tt={set:function(e,t,i){return t===!1?oe.removeAttr(e,i):Dt&&St||!kt.test(i)?e.setAttribute(!St&&oe.propFix[i]||i,i):e[oe.camelCase("default-"+i)]=e[i]=!0,i}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var i=At[t]||oe.find.attr;At[t]=Dt&&St||!kt.test(t)?function(e,t,a){var n,o;return a||(o=At[t],At[t]=n,n=null!=i(e,t,a)?t.toLowerCase():null,At[t]=o),n}:function(e,t,i){return i?void 0:e[oe.camelCase("default-"+t)]?t.toLowerCase():null}}),Dt&&St||(oe.attrHooks.value={set:function(e,t,i){return oe.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,i)}}),St||(wt={set:function(e,t,i){var a=e.getAttributeNode(i);return a||e.setAttributeNode(a=e.ownerDocument.createAttribute(i)),a.value=t+="","value"===i||t===e.getAttribute(i)?t:void 0}},At.id=At.name=At.coords=function(e,t,i){var a;return i?void 0:(a=e.getAttributeNode(t))&&""!==a.value?a.value:null},oe.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:void 0},set:wt.set},oe.attrHooks.contenteditable={set:function(e,t,i){wt.set(e,""===t?!1:t,i)}},oe.each(["width","height"],function(e,t){oe.attrHooks[t]={set:function(e,i){return""===i?(e.setAttribute(t,"auto"),i):void 0}}})),ae.style||(oe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var It=/^(?:input|select|textarea|button|object)$/i,Et=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return Ce(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=oe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var a,n,o,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?(o=1!==r||!oe.isXMLDoc(e),o&&(t=oe.propFix[t]||t,n=oe.propHooks[t]),void 0!==i?n&&"set"in n&&void 0!==(a=n.set(e,i,t))?a:e[t]=i:n&&"get"in n&&null!==(a=n.get(e,t))?a:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):It.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}}}),ae.hrefNormalized||oe.each(["href","src"],function(e,t){oe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ae.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ae.enctype||(oe.propFix.enctype="encoding");var Ct=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,i,a,n,o,r,s=0,l=this.length,c="string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(_e)||[];l>s;s++)if(i=this[s],a=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ct," "):" ")){for(o=0;n=t[o++];)a.indexOf(" "+n+" ")<0&&(a+=n+" ");r=oe.trim(a),i.className!==r&&(i.className=r)}return this},removeClass:function(e){var t,i,a,n,o,r,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(_e)||[];l>s;s++)if(i=this[s],a=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ct," "):"")){for(o=0;n=t[o++];)for(;a.indexOf(" "+n+" ")>=0;)a=a.replace(" "+n+" "," ");r=e?oe.trim(a):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(oe.isFunction(e)?function(i){oe(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,a=0,n=oe(this),o=e.match(_e)||[];t=o[a++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else(i===Ae||"boolean"===i)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||e===!1?"":oe._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,a=this.length;a>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ct," ").indexOf(t)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,a){return this.on(t,e,i,a)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Ot=oe.now(),Pt=/\?/,Bt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var i,a=null,n=oe.trim(t+"");return n&&!oe.trim(n.replace(Bt,function(e,t,n,o){return i&&t&&(a=0),0===a?e:(i=n||t,a+=!o-!n,"")}))?Function("return "+n)():oe.error("Invalid JSON: "+t)},oe.parseXML=function(t){var i,a;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(a=new DOMParser,i=a.parseFromString(t,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(t))}catch(n){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+t),i};var Rt,Nt,Lt=/#.*$/,$t=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ht=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vt=/^(?:GET|HEAD)$/,Ft=/^\/\//,zt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,jt={},Wt={},qt="*/".concat("*");try{Nt=location.href}catch(Ut){Nt=fe.createElement("a"),Nt.href="",Nt=Nt.href}Rt=zt.exec(Nt.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt,type:"GET",isLocal:Ht.test(Rt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?F(F(e,oe.ajaxSettings),t):F(oe.ajaxSettings,e)},ajaxPrefilter:H(jt),ajaxTransport:H(Wt),ajax:function(e,t){function i(e,t,i,a){var n,d,g,v,_,w=t;2!==y&&(y=2,s&&clearTimeout(s),c=void 0,r=a||"",x.readyState=e>0?4:0,n=e>=200&&300>e||304===e,i&&(v=z(u,x,i)),v=j(u,v,x,n),n?(u.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(oe.lastModified[o]=_),_=x.getResponseHeader("etag"),_&&(oe.etag[o]=_)),204===e||"HEAD"===u.type?w="nocontent":304===e?w="notmodified":(w=v.state,d=v.data,g=v.error,n=!g)):(g=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(t||w)+"",n?m.resolveWith(p,[d,w,x]):m.rejectWith(p,[x,w,g]),x.statusCode(b),b=void 0,l&&h.trigger(n?"ajaxSuccess":"ajaxError",[x,u,n?d:g]),f.fireWith(p,[x,w]),l&&(h.trigger("ajaxComplete",[x,u]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,n,o,r,s,l,c,d,u=oe.ajaxSetup({},t),p=u.context||u,h=u.context&&(p.nodeType||p.jquery)?oe(p):oe.event,m=oe.Deferred(),f=oe.Callbacks("once memory"),b=u.statusCode||{},g={},v={},y=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!d)for(d={};t=Mt.exec(r);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?r:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return y||(e=v[i]=v[i]||e,g[e]=t),this},overrideMimeType:function(e){return y||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)b[t]=[b[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),i(0,t),this}};if(m.promise(x).complete=f.add,x.success=x.done,x.error=x.fail,u.url=((e||u.url||Nt)+"").replace(Lt,"").replace(Ft,Rt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=oe.trim(u.dataType||"*").toLowerCase().match(_e)||[""],null==u.crossDomain&&(a=zt.exec(u.url.toLowerCase()),u.crossDomain=!(!a||a[1]===Rt[1]&&a[2]===Rt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Rt[3]||("http:"===Rt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=oe.param(u.data,u.traditional)),V(jt,u,t,x),2===y)return x;l=u.global,l&&0===oe.active++&&oe.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!Vt.test(u.type),o=u.url,u.hasContent||(u.data&&(o=u.url+=(Pt.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=$t.test(o)?o.replace($t,"$1_="+Ot++):o+(Pt.test(o)?"&":"?")+"_="+Ot++)),u.ifModified&&(oe.lastModified[o]&&x.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&x.setRequestHeader("If-None-Match",oe.etag[o])),(u.data&&u.hasContent&&u.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",u.contentType),x.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+qt+"; q=0.01":""):u.accepts["*"]);for(n in u.headers)x.setRequestHeader(n,u.headers[n]);if(u.beforeSend&&(u.beforeSend.call(p,x,u)===!1||2===y))return x.abort();_="abort";for(n in{success:1,error:1,complete:1})x[n](u[n]);if(c=V(Wt,u,t,x)){x.readyState=1,l&&h.trigger("ajaxSend",[x,u]),u.async&&u.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},u.timeout));try{y=1,c.send(g,i)}catch(w){if(!(2>y))throw w;i(-1,w)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return oe.get(e,t,i,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,i,a,n){return oe.isFunction(i)&&(n=n||a,a=i,i=void 0),oe.ajax({url:e,type:t,dataType:n,data:i,success:a})}}),oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){if(oe.isFunction(e))return this.each(function(t){oe(this).wrapAll(e.call(this,t))});if(this[0]){var t=oe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(oe.isFunction(e)?function(t){oe(this).wrapInner(e.call(this,t))}:function(){var t=oe(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(i){oe(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ae.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||oe.css(e,"display"))},oe.expr.filters.visible=function(e){return!oe.expr.filters.hidden(e)};var Yt=/%20/g,Gt=/\[\]$/,Xt=/\r?\n/g,Jt=/^(?:submit|button|image|reset|file)$/i,Qt=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var i,a=[],n=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){n(this.name,this.value)});else for(i in e)W(i,e[i],t,n);return a.join("&").replace(Yt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&Qt.test(this.nodeName)&&!Jt.test(e)&&(this.checked||!Oe.test(e))}).map(function(e,t){var i=oe(this).val();return null==i?null:oe.isArray(i)?oe.map(i,function(e){return{name:t.name,value:e.replace(Xt,"\r\n")}}):{name:t.name,value:i.replace(Xt,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||U()}:q;var Kt=0,Zt={},ei=oe.ajaxSettings.xhr();e.ActiveXObject&&oe(e).on("unload",function(){for(var e in Zt)Zt[e](void 0,!0)}),ae.cors=!!ei&&"withCredentials"in ei,ei=ae.ajax=!!ei,ei&&oe.ajaxTransport(function(e){if(!e.crossDomain||ae.cors){var t;return{send:function(i,a){var n,o=e.xhr(),r=++Kt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(n in e.xhrFields)o[n]=e.xhrFields[n];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(n in i)void 0!==i[n]&&o.setRequestHeader(n,i[n]+"");o.send(e.hasContent&&e.data||null),t=function(i,n){var s,l,c;if(t&&(n||4===o.readyState))if(delete Zt[r],t=void 0,o.onreadystatechange=oe.noop,n)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(d){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&a(s,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zt[r]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=fe.head||oe("head")[0]||fe.documentElement;return{send:function(a,n){t=fe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||n(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ii=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||oe.expando+"_"+Ot++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,i,a){var n,o,r,s=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(n=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ii,"$1"+n):t.jsonp!==!1&&(t.url+=(Pt.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||oe.error(n+" was not called"),r[0]},t.dataTypes[0]="json",o=e[n],e[n]=function(){r=arguments},a.always(function(){e[n]=o,t[n]&&(t.jsonpCallback=i.jsonpCallback,ti.push(n)),r&&oe.isFunction(o)&&o(r[0]),r=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||fe;var a=pe.exec(e),n=!i&&[];return a?[t.createElement(a[1])]:(a=oe.buildFragment([e],t,n),n&&n.length&&oe(n).remove(),oe.merge([],a.childNodes))};var ai=oe.fn.load;oe.fn.load=function(e,t,i){if("string"!=typeof e&&ai)return ai.apply(this,arguments);var a,n,o,r=this,s=e.indexOf(" ");return s>=0&&(a=e.slice(s,e.length),e=e.slice(0,s)),oe.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),r.length>0&&oe.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){n=arguments,r.html(a?oe("<div>").append(oe.parseHTML(e)).find(a):e)}).complete(i&&function(e,t){r.each(i,n||[e.responseText,t,e])}),this},oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length};var ni=e.document.documentElement;oe.offset={setOffset:function(e,t,i){var a,n,o,r,s,l,c,d=oe.css(e,"position"),u=oe(e),p={};"static"===d&&(e.style.position="relative"),s=u.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),c=("absolute"===d||"fixed"===d)&&oe.inArray("auto",[o,l])>-1,c?(a=u.position(),r=a.top,n=a.left):(r=parseFloat(o)||0,n=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(p.top=t.top-s.top+r),null!=t.left&&(p.left=t.left-s.left+n),"using"in t?t.using.call(e,p):u.css(p)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,i,a={top:0,left:0},n=this[0],o=n&&n.ownerDocument;return o?(t=o.documentElement,oe.contains(t,n)?(typeof n.getBoundingClientRect!==Ae&&(a=n.getBoundingClientRect()),i=Y(o),{top:a.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:a.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):a):void 0},position:function(){if(this[0]){var e,t,i={top:0,left:0},a=this[0];return"fixed"===oe.css(a,"position")?t=a.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(i=e.offset()),i.top+=oe.css(e[0],"borderTopWidth",!0),i.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-oe.css(a,"marginTop",!0),left:t.left-i.left-oe.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ni;e&&!oe.nodeName(e,"html")&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||ni})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i=/Y/.test(t);oe.fn[e]=function(a){return Ce(this,function(e,a,n){var o=Y(e);return void 0===n?o?t in o?o[t]:o.document.documentElement[a]:e[a]:void(o?o.scrollTo(i?oe(o).scrollLeft():n,i?n:oe(o).scrollTop()):e[a]=n)},e,a,arguments.length,null)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=S(ae.pixelPosition,function(e,i){return i?(i=it(e,t),nt.test(i)?oe(e).position()[t]+"px":i):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,a){oe.fn[a]=function(a,n){var o=arguments.length&&(i||"boolean"!=typeof a),r=i||(a===!0||n===!0?"margin":"border");return Ce(this,function(t,i,a){var n;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])):void 0===a?oe.css(t,i,r):oe.style(t,i,a,r)},t,o?a:void 0,o,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var oi=e.jQuery,ri=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=ri),t&&e.jQuery===oe&&(e.jQuery=oi),oe},typeof t===Ae&&(e.jQuery=e.$=oe),oe}),define("errorTracker",["rollbar","jquery"],function(e,t){function i(e){s.length>10&&s.shift(),s.push(e)}function a(e,t){return function(){var a=this,n={eventName:t};return a.id&&(n.id=a.id),a.src&&(n.src=a.src),a.className&&(n.className=a.className),a.textContent&&(n.textContent=a.textContent),a.nodeName&&(n.nodeName=a.nodeName),a.getAttribute("data-bind")&&(n["data-bind"]=a.getAttribute("data-bind")),i(n),e.apply(this,arguments)}}function n(e,t,i,a,n){var o=e[t];return e[t]=function(){return-1!=n.indexOf(arguments[0])&&(arguments[i]=a(arguments[i],arguments[0])),o.apply(this,arguments)},o}var o={accessToken:"de1980fcab4849d6a7a066cf098a6521",captureUncaught:!0,payload:{environment:"development",client:{javascript:{source_map_enabled:!0,code_version:"#code_version",guess_uncaught_frames:!0}}}},r=e.init(o),s=[];return n(Element.prototype,"addEventListener",1,a,["click","focus","blur","change","dblclick"]),{rollbar:r,userActions:s}}),define("herocalc/herocalc_core",["require","exports","module"],function(e,t,i){"use strict";function a(){}var n=a;n.prototype.heroData={},n.prototype.itemData={},n.prototype.unitData={},n.prototype.abilityData={},n.prototype.idCounter=0,n.prototype.uniqueId=function(e){var t=++n.prototype.idCounter+"";return e?e+t:t},n.prototype.findWhere=function(e,t){e:for(var i=0;i<e.length;i++){for(var a in t)if(e[i][a]!=t[a])continue e;return e[i]}},n.prototype.uniques=function(e){for(var t=[],i=0,a=e.length;a>i;i++)-1===t.indexOf(e[i])&&""!==e[i]&&t.push(e[i]);return t},n.prototype.union=function(e,t){var i=e.concat(t);return n.prototype.uniques(i)},t.HEROCALCULATOR=a}),function(){!function(e){var t=this||(0,eval)("this"),i=t.document,a=t.navigator,n=t.jQuery,o=t.JSON;!function(e){"function"==typeof define&&define.amd?define("knockout",["exports","require"],e):e("object"==typeof exports&&"object"==typeof module?module.exports||exports:t.ko={})}(function(r,s){function l(e,t){return null===e||typeof e in b?e===t:!1}function c(t,i){var a;return function(){a||(a=f.a.setTimeout(function(){a=e,t()},i))}}function d(e,t){var i;return function(){clearTimeout(i),i=f.a.setTimeout(e,t)}}function u(e,t){t&&t!==g?"beforeChange"===t?this.Kb(e):this.Ha(e,t):this.Lb(e)}function p(e,t){null!==t&&t.k&&t.k()}function h(e,t){var i=this.Hc,a=i[w];a.R||(this.lb&&this.Ma[t]?(i.Pb(t,e,this.Ma[t]),this.Ma[t]=null,--this.lb):a.r[t]||i.Pb(t,e,a.s?{ia:e}:i.uc(e)))}function m(e,t,i,a){f.d[e]={init:function(e,n,o,r,s){var l,c;return f.m(function(){var o=f.a.c(n()),r=!i!=!o,d=!c;(d||t||r!==l)&&(d&&f.va.Aa()&&(c=f.a.ua(f.f.childNodes(e),!0)),r?(d||f.f.da(e,f.a.ua(c)),f.eb(a?a(s,o):s,e)):f.f.xa(e),l=r)},null,{i:e}),{controlsDescendantBindings:!0}}},f.h.ta[e]=!1,f.f.Z[e]=!0}var f="undefined"!=typeof r?r:{};f.b=function(e,t){for(var i=e.split("."),a=f,n=0;n<i.length-1;n++)a=a[i[n]];a[i[i.length-1]]=t},f.G=function(e,t,i){e[t]=i},f.version="3.4.0",f.b("version",f.version),f.options={deferUpdates:!1,useOnlyNativeEvents:!1},f.a=function(){function r(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}function s(e,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function l(e,t){return e.__proto__=t,e}function c(e,t,i,a){var n=e[t].match(g)||[];f.a.q(i.match(g),function(e){f.a.pa(n,e,a)}),e[t]=n.join(" ")}var d={__proto__:[]}instanceof Array,u="function"==typeof Symbol,p={},h={};p[a&&/Firefox\/2/i.test(a.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),r(p,function(e,t){if(t.length)for(var i=0,a=t.length;a>i;i++)h[t[i]]=e});var m={propertychange:!0},b=i&&function(){for(var t=3,a=i.createElement("div"),n=a.getElementsByTagName("i");a.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",n[0];);return t>4?t:e}(),g=/\S+/g;return{cc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],q:function(e,t){for(var i=0,a=e.length;a>i;i++)t(e[i],i)},o:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0,a=e.length;a>i;i++)if(e[i]===t)return i;return-1},Sb:function(e,t,i){for(var a=0,n=e.length;n>a;a++)if(t.call(i,e[a],a))return e[a];return null},La:function(e,t){var i=f.a.o(e,t);i>0?e.splice(i,1):0===i&&e.shift()},Tb:function(e){e=e||[];for(var t=[],i=0,a=e.length;a>i;i++)0>f.a.o(t,e[i])&&t.push(e[i]);return t},fb:function(e,t){e=e||[];for(var i=[],a=0,n=e.length;n>a;a++)i.push(t(e[a],a));return i},Ka:function(e,t){e=e||[];for(var i=[],a=0,n=e.length;n>a;a++)t(e[a],a)&&i.push(e[a]);return i},ra:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var i=0,a=t.length;a>i;i++)e.push(t[i]);return e},pa:function(e,t,i){var a=f.a.o(f.a.zb(e),t);0>a?i&&e.push(t):i||e.splice(a,1)},ka:d,extend:s,Xa:l,Ya:d?l:s,D:r,Ca:function(e,t){if(!e)return e;var i,a={};for(i in e)e.hasOwnProperty(i)&&(a[i]=t(e[i],i,e));return a},ob:function(e){for(;e.firstChild;)f.removeNode(e.firstChild)},jc:function(e){e=f.a.V(e);for(var t=(e[0]&&e[0].ownerDocument||i).createElement("div"),a=0,n=e.length;n>a;a++)t.appendChild(f.$(e[a]));return t},ua:function(e,t){for(var i=0,a=e.length,n=[];a>i;i++){var o=e[i].cloneNode(!0);n.push(t?f.$(o):o)}return n},da:function(e,t){if(f.a.ob(e),t)for(var i=0,a=t.length;a>i;i++)e.appendChild(t[i])},qc:function(e,t){var i=e.nodeType?[e]:e;if(0<i.length){for(var a=i[0],n=a.parentNode,o=0,r=t.length;r>o;o++)n.insertBefore(t[o],a);for(o=0,r=i.length;r>o;o++)f.removeNode(i[o])}},za:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var i=e[0],a=e[e.length-1];for(e.length=0;i!==a;)e.push(i),i=i.nextSibling;e.push(a)}}return e},sc:function(e,t){7>b?e.setAttribute("selected",t):e.selected=t},$a:function(t){return null===t||t===e?"":t.trim?t.trim():t.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},nd:function(e,t){return e=e||"",t.length>e.length?!1:e.substring(0,t.length)===t},Mc:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(3===e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));
for(;e&&e!=t;)e=e.parentNode;return!!e},nb:function(e){return f.a.Mc(e,e.ownerDocument.documentElement)},Qb:function(e){return!!f.a.Sb(e,f.a.nb)},A:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Wb:function(e){return f.onError?function(){try{return e.apply(this,arguments)}catch(t){throw f.onError&&f.onError(t),t}}:e},setTimeout:function(e,t){return setTimeout(f.a.Wb(e),t)},$b:function(e){setTimeout(function(){throw f.onError&&f.onError(e),e},0)},p:function(e,t,i){var a=f.a.Wb(i);if(i=b&&m[t],f.options.useOnlyNativeEvents||i||!n)if(i||"function"!=typeof e.addEventListener){if("undefined"==typeof e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){a.call(e,t)},r="on"+t;e.attachEvent(r,o),f.a.F.oa(e,function(){e.detachEvent(r,o)})}else e.addEventListener(t,a,!1);else n(e).bind(t,a)},Da:function(e,a){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var o;if("input"===f.a.A(e)&&e.type&&"click"==a.toLowerCase()?(o=e.type,o="checkbox"==o||"radio"==o):o=!1,f.options.useOnlyNativeEvents||!n||o)if("function"==typeof i.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");o=i.createEvent(h[a]||"HTMLEvents"),o.initEvent(a,!0,!0,t,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(o)}else if(o&&e.click)e.click();else{if("undefined"==typeof e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+a)}else n(e).trigger(a)},c:function(e){return f.H(e)?e():e},zb:function(e){return f.H(e)?e.t():e},bb:function(e,t,i){var a;t&&("object"==typeof e.classList?(a=e.classList[i?"add":"remove"],f.a.q(t.match(g),function(t){a.call(e.classList,t)})):"string"==typeof e.className.baseVal?c(e.className,"baseVal",t,i):c(e,"className",t,i))},Za:function(t,i){var a=f.a.c(i);(null===a||a===e)&&(a="");var n=f.f.firstChild(t);!n||3!=n.nodeType||f.f.nextSibling(n)?f.f.da(t,[t.ownerDocument.createTextNode(a)]):n.data=a,f.a.Rc(t)},rc:function(e,t){if(e.name=t,7>=b)try{e.mergeAttributes(i.createElement("<input name='"+e.name+"'/>"),!1)}catch(a){}},Rc:function(e){b>=9&&(e=1==e.nodeType?e:e.parentNode,e.style&&(e.style.zoom=e.style.zoom))},Nc:function(e){if(b){var t=e.style.width;e.style.width=0,e.style.width=t}},hd:function(e,t){e=f.a.c(e),t=f.a.c(t);for(var i=[],a=e;t>=a;a++)i.push(a);return i},V:function(e){for(var t=[],i=0,a=e.length;a>i;i++)t.push(e[i]);return t},Yb:function(e){return u?Symbol(e):e},rd:6===b,sd:7===b,C:b,ec:function(e,t){for(var i=f.a.V(e.getElementsByTagName("input")).concat(f.a.V(e.getElementsByTagName("textarea"))),a="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},n=[],o=i.length-1;o>=0;o--)a(i[o])&&n.push(i[o]);return n},ed:function(e){return"string"==typeof e&&(e=f.a.$a(e))?o&&o.parse?o.parse(e):new Function("return "+e)():null},Eb:function(e,t,i){if(!o||!o.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return o.stringify(f.a.c(e),t,i)},fd:function(e,t,a){a=a||{};var n=a.params||{},o=a.includeFields||this.cc,s=e;if("object"==typeof e&&"form"===f.a.A(e))for(var s=e.action,l=o.length-1;l>=0;l--)for(var c=f.a.ec(e,o[l]),d=c.length-1;d>=0;d--)n[c[d].name]=c[d].value;t=f.a.c(t);var u=i.createElement("form");u.style.display="none",u.action=s,u.method="post";for(var p in t)e=i.createElement("input"),e.type="hidden",e.name=p,e.value=f.a.Eb(f.a.c(t[p])),u.appendChild(e);r(n,function(e,t){var a=i.createElement("input");a.type="hidden",a.name=e,a.value=t,u.appendChild(a)}),i.body.appendChild(u),a.submitter?a.submitter(u):u.submit(),setTimeout(function(){u.parentNode.removeChild(u)},0)}}}(),f.b("utils",f.a),f.b("utils.arrayForEach",f.a.q),f.b("utils.arrayFirst",f.a.Sb),f.b("utils.arrayFilter",f.a.Ka),f.b("utils.arrayGetDistinctValues",f.a.Tb),f.b("utils.arrayIndexOf",f.a.o),f.b("utils.arrayMap",f.a.fb),f.b("utils.arrayPushAll",f.a.ra),f.b("utils.arrayRemoveItem",f.a.La),f.b("utils.extend",f.a.extend),f.b("utils.fieldsIncludedWithJsonPost",f.a.cc),f.b("utils.getFormFields",f.a.ec),f.b("utils.peekObservable",f.a.zb),f.b("utils.postJson",f.a.fd),f.b("utils.parseJson",f.a.ed),f.b("utils.registerEventHandler",f.a.p),f.b("utils.stringifyJson",f.a.Eb),f.b("utils.range",f.a.hd),f.b("utils.toggleDomNodeCssClass",f.a.bb),f.b("utils.triggerEvent",f.a.Da),f.b("utils.unwrapObservable",f.a.c),f.b("utils.objectForEach",f.a.D),f.b("utils.addOrRemoveItem",f.a.pa),f.b("utils.setTextContent",f.a.Za),f.b("unwrap",f.a.c),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var a=i.slice(0);return a.push.apply(a,arguments),t.apply(e,a)}}),f.a.e=new function(){function t(t,o){var r=t[a];if(!r||"null"===r||!n[r]){if(!o)return e;r=t[a]="ko"+i++,n[r]={}}return n[r]}var i=0,a="__ko__"+(new Date).getTime(),n={};return{get:function(i,a){var n=t(i,!1);return n===e?e:n[a]},set:function(i,a,n){(n!==e||t(i,!1)!==e)&&(t(i,!0)[a]=n)},clear:function(e){var t=e[a];return t?(delete n[t],e[a]=null,!0):!1},I:function(){return i++ +a}}},f.b("utils.domData",f.a.e),f.b("utils.domData.clear",f.a.e.clear),f.a.F=new function(){function t(t,i){var n=f.a.e.get(t,a);return n===e&&i&&(n=[],f.a.e.set(t,a,n)),n}function i(e){var a=t(e,!1);if(a)for(var a=a.slice(0),n=0;n<a.length;n++)a[n](e);if(f.a.e.clear(e),f.a.F.cleanExternalData(e),r[e.nodeType])for(a=e.firstChild;e=a;)a=e.nextSibling,8===e.nodeType&&i(e)}var a=f.a.e.I(),o={1:!0,8:!0,9:!0},r={1:!0,9:!0};return{oa:function(e,i){if("function"!=typeof i)throw Error("Callback must be a function");t(e,!0).push(i)},pc:function(i,n){var o=t(i,!1);o&&(f.a.La(o,n),0==o.length&&f.a.e.set(i,a,e))},$:function(e){if(o[e.nodeType]&&(i(e),r[e.nodeType])){var t=[];f.a.ra(t,e.getElementsByTagName("*"));for(var a=0,n=t.length;n>a;a++)i(t[a])}return e},removeNode:function(e){f.$(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){n&&"function"==typeof n.cleanData&&n.cleanData([e])}}},f.$=f.a.F.$,f.removeNode=f.a.F.removeNode,f.b("cleanNode",f.$),f.b("removeNode",f.removeNode),f.b("utils.domNodeDisposal",f.a.F),f.b("utils.domNodeDisposal.addDisposeCallback",f.a.F.oa),f.b("utils.domNodeDisposal.removeDisposeCallback",f.a.F.pc),function(){var a=[0,"",""],o=[1,"<table>","</table>"],r=[3,"<table><tbody><tr>","</tr></tbody></table>"],s=[1,"<select multiple='multiple'>","</select>"],l={thead:o,tbody:o,tfoot:o,tr:[2,"<table><tbody>","</tbody></table>"],td:r,th:r,option:s,optgroup:s},c=8>=f.a.C;f.a.ma=function(e,o){var r;if(n){if(n.parseHTML)r=n.parseHTML(e,o)||[];else if((r=n.clean([e],o))&&r[0]){for(var s=r[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(r=o)||(r=i);var d,s=r.parentWindow||r.defaultView||t,u=f.a.$a(e).toLowerCase(),p=r.createElement("div");for(d=(u=u.match(/^<([a-z]+)[ >]/))&&l[u[1]]||a,u=d[0],d="ignored<div>"+d[1]+e+d[2]+"</div>","function"==typeof s.innerShiv?p.appendChild(s.innerShiv(d)):(c&&r.appendChild(p),p.innerHTML=d,c&&p.parentNode.removeChild(p));u--;)p=p.lastChild;r=f.a.V(p.lastChild.childNodes)}return r},f.a.Cb=function(t,i){if(f.a.ob(t),i=f.a.c(i),null!==i&&i!==e)if("string"!=typeof i&&(i=i.toString()),n)n(t).html(i);else for(var a=f.a.ma(i,t.ownerDocument),o=0;o<a.length;o++)t.appendChild(a[o])}}(),f.b("utils.parseHtmlFragment",f.a.ma),f.b("utils.setHtml",f.a.Cb),f.M=function(){function t(e,i){if(e)if(8==e.nodeType){var a=f.M.lc(e.nodeValue);null!=a&&i.push({Lc:e,cd:a})}else if(1==e.nodeType)for(var a=0,n=e.childNodes,o=n.length;o>a;a++)t(n[a],i)}var i={};return{wb:function(e){if("function"!=typeof e)throw Error("You can only pass a function to ko.memoization.memoize()");var t=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return i[t]=e,"<!--[ko_memo:"+t+"]-->"},xc:function(t,a){var n=i[t];if(n===e)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return n.apply(null,a||[]),!0}finally{delete i[t]}},yc:function(e,i){var a=[];t(e,a);for(var n=0,o=a.length;o>n;n++){var r=a[n].Lc,s=[r];i&&f.a.ra(s,i),f.M.xc(a[n].cd,s),r.nodeValue="",r.parentNode&&r.parentNode.removeChild(r)}},lc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),f.b("memoization",f.M),f.b("memoization.memoize",f.M.wb),f.b("memoization.unmemoize",f.M.xc),f.b("memoization.parseMemoText",f.M.lc),f.b("memoization.unmemoizeDomNodeAndDescendants",f.M.yc),f.Y=function(){function e(){if(o)for(var e,t=o,i=0;o>s;)if(e=n[s++]){if(s>t){if(5e3<=++i){s=o,f.a.$b(Error("'Too much recursion' after processing "+i+" task groups."));break}t=o}try{e()}catch(a){f.a.$b(a)}}}function a(){e(),s=o=n.length=0}var n=[],o=0,r=1,s=0;return{scheduler:t.MutationObserver?function(e){var t=i.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(a):i&&"onreadystatechange"in i.createElement("script")?function(e){var t=i.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,i.documentElement.removeChild(t),t=null,e()},i.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},Wa:function(e){return o||f.Y.scheduler(a),n[o++]=e,r++},cancel:function(e){e-=r-o,e>=s&&o>e&&(n[e]=null)},resetForTesting:function(){var e=o-s;return s=o=n.length=0,e},md:e}}(),f.b("tasks",f.Y),f.b("tasks.schedule",f.Y.Wa),f.b("tasks.runEarly",f.Y.md),f.ya={throttle:function(e,t){e.throttleEvaluation=t;var i=null;return f.B({read:e,write:function(a){clearTimeout(i),i=f.a.setTimeout(function(){e(a)},t)}})},rateLimit:function(e,t){var i,a,n;"number"==typeof t?i=t:(i=t.timeout,a=t.method),e.cb=!1,n="notifyWhenChangesStop"==a?d:c,e.Ta(function(e){return n(e,i)})},deferred:function(t,i){if(!0!==i)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");t.cb||(t.cb=!0,t.Ta(function(i){var a;return function(){f.Y.cancel(a),a=f.Y.Wa(i),t.notifySubscribers(e,"dirty")}}))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var b={undefined:1,"boolean":1,number:1,string:1};f.b("extenders",f.ya),f.vc=function(e,t,i){this.ia=e,this.gb=t,this.Kc=i,this.R=!1,f.G(this,"dispose",this.k)},f.vc.prototype.k=function(){this.R=!0,this.Kc()},f.J=function(){f.a.Ya(this,v),v.rb(this)};var g="change",v={rb:function(e){e.K={},e.Nb=1},X:function(e,t,i){var a=this;i=i||g;var n=new f.vc(a,t?e.bind(t):e,function(){f.a.La(a.K[i],n),a.Ia&&a.Ia(i)});return a.sa&&a.sa(i),a.K[i]||(a.K[i]=[]),a.K[i].push(n),n},notifySubscribers:function(e,t){if(t=t||g,t===g&&this.zc(),this.Pa(t))try{f.l.Ub();for(var i,a=this.K[t].slice(0),n=0;i=a[n];++n)i.R||i.gb(e)}finally{f.l.end()}},Na:function(){return this.Nb},Uc:function(e){return this.Na()!==e},zc:function(){++this.Nb},Ta:function(e){var t,i,a,n=this,o=f.H(n);n.Ha||(n.Ha=n.notifySubscribers,n.notifySubscribers=u);var r=e(function(){n.Mb=!1,o&&a===n&&(a=n()),t=!1,n.tb(i,a)&&n.Ha(i=a)});n.Lb=function(e){n.Mb=t=!0,a=e,r()},n.Kb=function(e){t||(i=e,n.Ha(e,"beforeChange"))}},Pa:function(e){return this.K[e]&&this.K[e].length},Sc:function(e){if(e)return this.K[e]&&this.K[e].length||0;var t=0;return f.a.D(this.K,function(e,i){"dirty"!==e&&(t+=i.length)}),t},tb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},extend:function(e){var t=this;return e&&f.a.D(e,function(e,i){var a=f.ya[e];"function"==typeof a&&(t=a(t,i)||t)}),t}};f.G(v,"subscribe",v.X),f.G(v,"extend",v.extend),f.G(v,"getSubscriptionsCount",v.Sc),f.a.ka&&f.a.Xa(v,Function.prototype),f.J.fn=v,f.hc=function(e){return null!=e&&"function"==typeof e.X&&"function"==typeof e.notifySubscribers},f.b("subscribable",f.J),f.b("isSubscribable",f.hc),f.va=f.l=function(){function e(e){a.push(i),i=e}function t(){i=a.pop()}var i,a=[],n=0;return{Ub:e,end:t,oc:function(e){if(i){if(!f.hc(e))throw Error("Only subscribable things can act as dependencies");i.gb.call(i.Gc,e,e.Cc||(e.Cc=++n))}},w:function(i,a,n){try{return e(),i.apply(a,n||[])}finally{t()}},Aa:function(){return i?i.m.Aa():void 0},Sa:function(){return i?i.Sa:void 0}}}(),f.b("computedContext",f.va),f.b("computedContext.getDependenciesCount",f.va.Aa),f.b("computedContext.isInitial",f.va.Sa),f.b("ignoreDependencies",f.qd=f.l.w);var y=f.a.Yb("_latestValue");f.N=function(e){function t(){return 0<arguments.length?(t.tb(t[y],arguments[0])&&(t.ga(),t[y]=arguments[0],t.fa()),this):(f.l.oc(t),t[y])}return t[y]=e,f.a.ka||f.a.extend(t,f.J.fn),f.J.fn.rb(t),f.a.Ya(t,_),f.options.deferUpdates&&f.ya.deferred(t,!0),t};var _={equalityComparer:l,t:function(){return this[y]},fa:function(){this.notifySubscribers(this[y])},ga:function(){this.notifySubscribers(this[y],"beforeChange")}};f.a.ka&&f.a.Xa(_,f.J.fn);var x=f.N.gd="__ko_proto__";_[x]=f.N,f.Oa=function(t,i){return null===t||t===e||t[x]===e?!1:t[x]===i?!0:f.Oa(t[x],i)},f.H=function(e){return f.Oa(e,f.N)},f.Ba=function(e){return"function"==typeof e&&e[x]===f.N||"function"==typeof e&&e[x]===f.B&&e.Vc?!0:!1},f.b("observable",f.N),f.b("isObservable",f.H),f.b("isWriteableObservable",f.Ba),f.b("isWritableObservable",f.Ba),f.b("observable.fn",_),f.G(_,"peek",_.t),f.G(_,"valueHasMutated",_.fa),f.G(_,"valueWillMutate",_.ga),f.la=function(e){if(e=e||[],"object"!=typeof e||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=f.N(e),f.a.Ya(e,f.la.fn),e.extend({trackArrayChanges:!0})},f.la.fn={remove:function(e){for(var t=this.t(),i=[],a="function"!=typeof e||f.H(e)?function(t){return t===e}:e,n=0;n<t.length;n++){var o=t[n];a(o)&&(0===i.length&&this.ga(),i.push(o),t.splice(n,1),n--)}return i.length&&this.fa(),i},removeAll:function(t){if(t===e){var i=this.t(),a=i.slice(0);return this.ga(),i.splice(0,i.length),this.fa(),a}return t?this.remove(function(e){return 0<=f.a.o(t,e)}):[]},destroy:function(e){var t=this.t(),i="function"!=typeof e||f.H(e)?function(t){return t===e}:e;this.ga();for(var a=t.length-1;a>=0;a--)i(t[a])&&(t[a]._destroy=!0);this.fa()},destroyAll:function(t){return t===e?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=f.a.o(t,e)}):[]},indexOf:function(e){var t=this();return f.a.o(t,e)},replace:function(e,t){var i=this.indexOf(e);i>=0&&(this.ga(),this.t()[i]=t,this.fa())}},f.a.ka&&f.a.Xa(f.la.fn,f.N.fn),f.a.q("pop push reverse shift sort splice unshift".split(" "),function(e){f.la.fn[e]=function(){var t=this.t();this.ga(),this.Vb(t,e,arguments);var i=t[e].apply(t,arguments);return this.fa(),i===t?this:i}}),f.a.q(["slice"],function(e){f.la.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}}),f.b("observableArray",f.la),f.ya.trackArrayChanges=function(e,t){function i(){if(!n){n=!0;var t=e.notifySubscribers;e.notifySubscribers=function(e,i){return i&&i!==g||++r,t.apply(this,arguments)};var i=[].concat(e.t()||[]);o=null,a=e.X(function(t){if(t=[].concat(t||[]),e.Pa("arrayChange")){var a;(!o||r>1)&&(o=f.a.ib(i,t,e.hb)),a=o}i=t,o=null,r=0,a&&a.length&&e.notifySubscribers(a,"arrayChange")})}}if(e.hb={},t&&"object"==typeof t&&f.a.extend(e.hb,t),e.hb.sparse=!0,!e.Vb){var a,n=!1,o=null,r=0,s=e.sa,l=e.Ia;e.sa=function(t){s&&s.call(e,t),"arrayChange"===t&&i()},e.Ia=function(t){l&&l.call(e,t),"arrayChange"!==t||e.Pa("arrayChange")||(a.k(),n=!1)},e.Vb=function(e,t,i){function a(e,t,i){return s[s.length]={status:e,value:t,index:i}}if(n&&!r){var s=[],l=e.length,c=i.length,d=0;switch(t){case"push":d=l;case"unshift":for(t=0;c>t;t++)a("added",i[t],d+t);break;case"pop":d=l-1;case"shift":l&&a("deleted",e[d],d);break;case"splice":t=Math.min(Math.max(0,0>i[0]?l+i[0]:i[0]),l);for(var l=1===c?l:Math.min(t+(i[1]||0),l),c=t+c-2,d=Math.max(l,c),u=[],p=[],h=2;d>t;++t,++h)l>t&&p.push(a("deleted",e[t],t)),c>t&&u.push(a("added",i[h],t));f.a.dc(p,u);break;default:return}o=s}}}};var w=f.a.Yb("_state");f.m=f.B=function(t,i,a){function n(){if(0<arguments.length){if("function"!=typeof o)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return o.apply(r.pb,arguments),this}return f.l.oc(n),(r.S||r.s&&n.Qa())&&n.aa(),r.T}if("object"==typeof t?a=t:(a=a||{},t&&(a.read=t)),"function"!=typeof a.read)throw Error("Pass a function that returns the value of the ko.computed");var o=a.write,r={T:e,S:!0,Ra:!1,Fb:!1,R:!1,Va:!1,s:!1,jd:a.read,pb:i||a.owner,i:a.disposeWhenNodeIsRemoved||a.i||null,wa:a.disposeWhen||a.wa,mb:null,r:{},L:0,bc:null};return n[w]=r,n.Vc="function"==typeof o,f.a.ka||f.a.extend(n,f.J.fn),f.J.fn.rb(n),f.a.Ya(n,T),a.pure?(r.Va=!0,r.s=!0,f.a.extend(n,A)):a.deferEvaluation&&f.a.extend(n,k),f.options.deferUpdates&&f.ya.deferred(n,!0),r.i&&(r.Fb=!0,r.i.nodeType||(r.i=null)),r.s||a.deferEvaluation||n.aa(),r.i&&n.ba()&&f.a.F.oa(r.i,r.mb=function(){n.k()}),n};var T={equalityComparer:l,Aa:function(){return this[w].L},Pb:function(e,t,i){if(this[w].Va&&t===this)throw Error("A 'pure' computed must not be called recursively");this[w].r[e]=i,i.Ga=this[w].L++,i.na=t.Na()},Qa:function(){var e,t,i=this[w].r;for(e in i)if(i.hasOwnProperty(e)&&(t=i[e],t.ia.Uc(t.na)))return!0},bd:function(){this.Fa&&!this[w].Ra&&this.Fa()},ba:function(){return this[w].S||0<this[w].L},ld:function(){this.Mb||this.ac()},uc:function(e){if(e.cb&&!this[w].i){var t=e.X(this.bd,this,"dirty"),i=e.X(this.ld,this);return{ia:e,k:function(){t.k(),i.k()}}}return e.X(this.ac,this)},ac:function(){var e=this,t=e.throttleEvaluation;t&&t>=0?(clearTimeout(this[w].bc),this[w].bc=f.a.setTimeout(function(){e.aa(!0)},t)):e.Fa?e.Fa():e.aa(!0)},aa:function(e){var t=this[w],i=t.wa;if(!t.Ra&&!t.R){if(t.i&&!f.a.nb(t.i)||i&&i()){if(!t.Fb)return void this.k()}else t.Fb=!1;t.Ra=!0;try{this.Qc(e)}finally{t.Ra=!1}t.L||this.k()}},Qc:function(t){var i=this[w],a=i.Va?e:!i.L,n={Hc:this,Ma:i.r,lb:i.L};f.l.Ub({Gc:n,gb:h,m:this,Sa:a}),i.r={},i.L=0,n=this.Pc(i,n),this.tb(i.T,n)&&(i.s||this.notifySubscribers(i.T,"beforeChange"),i.T=n,i.s?this.zc():t&&this.notifySubscribers(i.T)),a&&this.notifySubscribers(i.T,"awake")},Pc:function(e,t){try{var i=e.jd;return e.pb?i.call(e.pb):i()}finally{f.l.end(),t.lb&&!e.s&&f.a.D(t.Ma,p),e.S=!1}},t:function(){var e=this[w];return(e.S&&!e.L||e.s&&this.Qa())&&this.aa(),e.T},Ta:function(e){f.J.fn.Ta.call(this,e),this.Fa=function(){this.Kb(this[w].T),this[w].S=!0,this.Lb(this)}},k:function(){var e=this[w];!e.s&&e.r&&f.a.D(e.r,function(e,t){t.k&&t.k()}),e.i&&e.mb&&f.a.F.pc(e.i,e.mb),e.r=null,e.L=0,e.R=!0,e.S=!1,e.s=!1,e.i=null}},A={sa:function(e){var t=this,i=t[w];if(!i.R&&i.s&&"change"==e){if(i.s=!1,i.S||t.Qa())i.r=null,i.L=0,i.S=!0,t.aa();else{var a=[];f.a.D(i.r,function(e,t){a[t.Ga]=e}),f.a.q(a,function(e,a){var n=i.r[e],o=t.uc(n.ia);o.Ga=a,o.na=n.na,i.r[e]=o})}i.R||t.notifySubscribers(i.T,"awake")}},Ia:function(t){var i=this[w];i.R||"change"!=t||this.Pa("change")||(f.a.D(i.r,function(e,t){t.k&&(i.r[e]={ia:t.ia,Ga:t.Ga,na:t.na},t.k())}),i.s=!0,this.notifySubscribers(e,"asleep"))},Na:function(){var e=this[w];return e.s&&(e.S||this.Qa())&&this.aa(),f.J.fn.Na.call(this)}},k={sa:function(e){"change"!=e&&"beforeChange"!=e||this.t()}};f.a.ka&&f.a.Xa(T,f.J.fn);var S=f.N.gd;f.m[S]=f.N,T[S]=f.m,f.Xc=function(e){return f.Oa(e,f.m)},f.Yc=function(e){return f.Oa(e,f.m)&&e[w]&&e[w].Va},f.b("computed",f.m),f.b("dependentObservable",f.m),f.b("isComputed",f.Xc),f.b("isPureComputed",f.Yc),f.b("computed.fn",T),f.G(T,"peek",T.t),f.G(T,"dispose",T.k),f.G(T,"isActive",T.ba),f.G(T,"getDependenciesCount",T.Aa),f.nc=function(e,t){return"function"==typeof e?f.m(e,t,{pure:!0}):(e=f.a.extend({},e),e.pure=!0,f.m(e,t))},f.b("pureComputed",f.nc),function(){function t(n,o,r){if(r=r||new a,n=o(n),"object"!=typeof n||null===n||n===e||n instanceof RegExp||n instanceof Date||n instanceof String||n instanceof Number||n instanceof Boolean)return n;var s=n instanceof Array?[]:{};return r.save(n,s),i(n,function(i){var a=o(n[i]);switch(typeof a){case"boolean":case"number":case"string":case"function":s[i]=a;break;case"object":case"undefined":var l=r.get(a);s[i]=l!==e?l:t(a,o,r)}}),s}function i(e,t){if(e instanceof Array){for(var i=0;i<e.length;i++)t(i);"function"==typeof e.toJSON&&t("toJSON")}else for(i in e)t(i)}function a(){this.keys=[],this.Ib=[]}f.wc=function(e){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return t(e,function(e){for(var t=0;f.H(e)&&10>t;t++)e=e();return e})},f.toJSON=function(e,t,i){return e=f.wc(e),f.a.Eb(e,t,i)},a.prototype={save:function(e,t){var i=f.a.o(this.keys,e);i>=0?this.Ib[i]=t:(this.keys.push(e),this.Ib.push(t))},get:function(t){return t=f.a.o(this.keys,t),t>=0?this.Ib[t]:e}}}(),f.b("toJS",f.wc),f.b("toJSON",f.toJSON),function(){f.j={u:function(t){switch(f.a.A(t)){case"option":return!0===t.__ko__hasDomDataOptionValue__?f.a.e.get(t,f.d.options.xb):7>=f.a.C?t.getAttributeNode("value")&&t.getAttributeNode("value").specified?t.value:t.text:t.value;case"select":return 0<=t.selectedIndex?f.j.u(t.options[t.selectedIndex]):e;default:return t.value}},ha:function(t,i,a){switch(f.a.A(t)){case"option":switch(typeof i){case"string":f.a.e.set(t,f.d.options.xb,e),"__ko__hasDomDataOptionValue__"in t&&delete t.__ko__hasDomDataOptionValue__,t.value=i;break;default:f.a.e.set(t,f.d.options.xb,i),t.__ko__hasDomDataOptionValue__=!0,t.value="number"==typeof i?i:""}break;case"select":(""===i||null===i)&&(i=e);for(var n,o=-1,r=0,s=t.options.length;s>r;++r)if(n=f.j.u(t.options[r]),n==i||""==n&&i===e){o=r;break}(a||o>=0||i===e&&1<t.size)&&(t.selectedIndex=o);break;default:(null===i||i===e)&&(i=""),t.value=i}}}}(),f.b("selectExtensions",f.j),f.b("selectExtensions.readValue",f.j.u),f.b("selectExtensions.writeValue",f.j.ha),f.h=function(){function e(e){e=f.a.$a(e),123===e.charCodeAt(0)&&(e=e.slice(1,-1));var t,i=[],r=e.match(a),s=[],l=0;if(r){r.push(",");for(var c,d=0;c=r[d];++d){var u=c.charCodeAt(0);if(44===u){if(0>=l){i.push(t&&s.length?{key:t,value:s.join("")}:{unknown:t||s.join("")}),t=l=0,s=[];continue}}else if(58===u){if(!l&&!t&&1===s.length){t=s.pop();continue}}else 47===u&&d&&1<c.length?(u=r[d-1].match(n))&&!o[u[0]]&&(e=e.substr(e.indexOf(c)+1),r=e.match(a),r.push(","),d=-1,c="/"):40===u||123===u||91===u?++l:41===u||125===u||93===u?--l:t||s.length||34!==u&&39!==u||(c=c.slice(1,-1));s.push(c)}}return i}var t=["true","false","null","undefined"],i=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,a=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),n=/[\])"'A-Za-z0-9_$]+$/,o={"in":1,"return":1,"typeof":1},r={};return{ta:[],ea:r,yb:e,Ua:function(a,n){function o(e,a){var n;if(!d){var u=f.getBindingHandler(e);if(u&&u.preprocess&&!(a=u.preprocess(a,e,o)))return;(u=r[e])&&(n=a,0<=f.a.o(t,n)?n=!1:(u=n.match(i),n=null===u?!1:u[1]?"Object("+u[1]+")"+u[2]:n),u=n),u&&l.push("'"+e+"':function(_z){"+n+"=_z}")}c&&(a="function(){return "+a+" }"),s.push("'"+e+"':"+a)}n=n||{};var s=[],l=[],c=n.valueAccessors,d=n.bindingParams,u="string"==typeof a?e(a):a;return f.a.q(u,function(e){o(e.key||e.unknown,e.value)}),l.length&&o("_ko_property_writers","{"+l.join(",")+" }"),s.join(",")},ad:function(e,t){for(var i=0;i<e.length;i++)if(e[i].key==t)return!0;return!1},Ea:function(e,t,i,a,n){e&&f.H(e)?!f.Ba(e)||n&&e.t()===a||e(a):(e=t.get("_ko_property_writers"))&&e[i]&&e[i](a)}}}(),f.b("expressionRewriting",f.h),f.b("expressionRewriting.bindingRewriteValidators",f.h.ta),f.b("expressionRewriting.parseObjectLiteral",f.h.yb),f.b("expressionRewriting.preProcessBindings",f.h.Ua),f.b("expressionRewriting._twoWayBindings",f.h.ea),f.b("jsonExpressionRewriting",f.h),f.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",f.h.Ua),function(){function e(e){return 8==e.nodeType&&r.test(o?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&s.test(o?e.text:e.nodeValue)}function a(i,a){for(var n=i,o=1,r=[];n=n.nextSibling;){if(t(n)&&(o--,0===o))return r;r.push(n),e(n)&&o++}if(!a)throw Error("Cannot find closing comment tag to match: "+i.nodeValue);return null}function n(e,t){var i=a(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var o=i&&"<!--test-->"===i.createComment("test").text,r=o?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=o?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0};f.f={Z:{},childNodes:function(t){return e(t)?a(t):t.childNodes},xa:function(t){if(e(t)){t=f.f.childNodes(t);for(var i=0,a=t.length;a>i;i++)f.removeNode(t[i])}else f.a.ob(t)},da:function(t,i){if(e(t)){f.f.xa(t);for(var a=t.nextSibling,n=0,o=i.length;o>n;n++)a.parentNode.insertBefore(i[n],a)}else f.a.da(t,i)},mc:function(t,i){e(t)?t.parentNode.insertBefore(i,t.nextSibling):t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i)},gc:function(t,i,a){a?e(t)?t.parentNode.insertBefore(i,a.nextSibling):a.nextSibling?t.insertBefore(i,a.nextSibling):t.appendChild(i):f.f.mc(t,i)},firstChild:function(i){return e(i)?!i.nextSibling||t(i.nextSibling)?null:i.nextSibling:i.firstChild},nextSibling:function(i){return e(i)&&(i=n(i)),i.nextSibling&&t(i.nextSibling)?null:i.nextSibling},Tc:e,pd:function(e){return(e=(o?e.text:e.nodeValue).match(r))?e[1]:null},kc:function(i){if(l[f.a.A(i)]){var a=i.firstChild;if(a)do if(1===a.nodeType){var o;o=a.firstChild;var r=null;if(o)do if(r)r.push(o);else if(e(o)){var s=n(o,!0);s?o=s:r=[o]}else t(o)&&(r=[o]);while(o=o.nextSibling);if(o=r)for(r=a.nextSibling,s=0;s<o.length;s++)r?i.insertBefore(o[s],r):i.appendChild(o[s])}while(a=a.nextSibling)}}}}(),f.b("virtualElements",f.f),f.b("virtualElements.allowedBindings",f.f.Z),f.b("virtualElements.emptyNode",f.f.xa),f.b("virtualElements.insertAfter",f.f.gc),f.b("virtualElements.prepend",f.f.mc),f.b("virtualElements.setDomNodeChildren",f.f.da),function(){f.Q=function(){this.Fc={}},f.a.extend(f.Q.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||f.g.getComponentNameForNode(e);case 8:return f.f.Tc(e);default:return!1}},getBindings:function(e,t){var i=this.getBindingsString(e,t),i=i?this.parseBindingsString(i,t,e):null;return f.g.Ob(i,e,t,!1)},getBindingAccessors:function(e,t){var i=this.getBindingsString(e,t),i=i?this.parseBindingsString(i,t,e,{valueAccessors:!0}):null;return f.g.Ob(i,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return f.f.pd(e);default:return null}},parseBindingsString:function(e,t,i,a){try{var n,o=this.Fc,r=e+(a&&a.valueAccessors||"");if(!(n=o[r])){var s,l="with($context){with($data||{}){return{"+f.h.Ua(e,a)+"}}}";s=new Function("$context","$element",l),n=o[r]=s}return n(t,i)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+c.message,c}}}),f.Q.instance=new f.Q}(),f.b("bindingProvider",f.Q),function(){function i(e){return function(){return e}}function a(e){return e()}function o(e){return f.a.Ca(f.l.w(e),function(t,i){return function(){return e()[i]}})}function r(e,t,a){return"function"==typeof e?o(e.bind(null,t,a)):f.a.Ca(e,i)}function s(e,t){return o(this.getBindings.bind(this,e,t))}function l(e,t,i){var a,n=f.f.firstChild(t),o=f.Q.instance,r=o.preprocessNode;if(r){for(;a=n;)n=f.f.nextSibling(a),r.call(o,a);n=f.f.firstChild(t)}for(;a=n;)n=f.f.nextSibling(a),c(e,a,i)}function c(e,t,i){var a=!0,n=1===t.nodeType;n&&f.f.kc(t),(n&&i||f.Q.instance.nodeHasBindings(t))&&(a=u(t,null,e,i).shouldBindDescendants),a&&!h[f.a.A(t)]&&l(e,t,!n)}function d(e){var t=[],i={},a=[];return f.a.D(e,function n(o){if(!i[o]){var r=f.getBindingHandler(o);r&&(r.after&&(a.push(o),f.a.q(r.after,function(t){if(e[t]){if(-1!==f.a.o(a,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+a.join(", "));n(t)}}),a.length--),t.push({key:o,fc:r})),i[o]=!0}}),t}function u(t,i,n,o){var r=f.a.e.get(t,m);if(!i){if(r)throw Error("You cannot apply bindings multiple times to the same element.");f.a.e.set(t,m,!0)}!r&&o&&f.tc(t,n);var l;if(i&&"function"!=typeof i)l=i;else{var c=f.Q.instance,u=c.getBindingAccessors||s,p=f.B(function(){return(l=i?i(n,t):u.call(c,t,n))&&n.P&&n.P(),l},null,{i:t});l&&p.ba()||(p=null)}var h;if(l){var b=p?function(e){return function(){return a(p()[e])}}:function(e){return l[e]},g=function(){return f.a.Ca(p?p():l,a)};g.get=function(e){return l[e]&&a(b(e))},g.has=function(e){return e in l},o=d(l),f.a.q(o,function(i){var a=i.fc.init,o=i.fc.update,r=i.key;if(8===t.nodeType&&!f.f.Z[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof a&&f.l.w(function(){var i=a(t,b(r),g,n.$data,n);if(i&&i.controlsDescendantBindings){if(h!==e)throw Error("Multiple bindings ("+h+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");h=r}}),"function"==typeof o&&f.B(function(){o(t,b(r),g,n.$data,n)},null,{i:t})}catch(s){throw s.message='Unable to process binding "'+r+": "+l[r]+'"\nMessage: '+s.message,s}})}return{shouldBindDescendants:h===e}}function p(e){return e&&e instanceof f.U?e:new f.U(e)}f.d={};var h={script:!0,textarea:!0,template:!0};f.getBindingHandler=function(e){return f.d[e]},f.U=function(t,i,a,n){var o,r=this,s="function"==typeof t&&!f.H(t),l=f.B(function(){var e=s?t():t,o=f.a.c(e);return i?(i.P&&i.P(),f.a.extend(r,i),l&&(r.P=l)):(r.$parents=[],r.$root=o,r.ko=f),r.$rawData=e,r.$data=o,a&&(r[a]=o),n&&n(r,i,o),r.$data},null,{wa:function(){return o&&!f.a.Qb(o)},i:!0});l.ba()&&(r.P=l,l.equalityComparer=null,o=[],l.Ac=function(t){o.push(t),f.a.F.oa(t,function(t){f.a.La(o,t),o.length||(l.k(),r.P=l=e)})})},f.U.prototype.createChildContext=function(e,t,i){return new f.U(e,this,t,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)})},f.U.prototype.extend=function(e){return new f.U(this.P||this.$data,this,null,function(t,i){t.$rawData=i.$rawData,f.a.extend(t,"function"==typeof e?e():e)})};var m=f.a.e.I(),b=f.a.e.I();f.tc=function(e,t){return 2!=arguments.length?f.a.e.get(e,b):(f.a.e.set(e,b,t),void(t.P&&t.P.Ac(e)))},f.Ja=function(e,t,i){return 1===e.nodeType&&f.f.kc(e),u(e,t,p(i),!0)},f.Dc=function(e,t,i){return i=p(i),f.Ja(e,r(t,i,e),i)},f.eb=function(e,t){1!==t.nodeType&&8!==t.nodeType||l(p(e),t,!0)},f.Rb=function(e,i){if(!n&&t.jQuery&&(n=t.jQuery),i&&1!==i.nodeType&&8!==i.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");i=i||t.document.body,c(p(e),i,!0)},f.kb=function(t){switch(t.nodeType){case 1:case 8:var i=f.tc(t);if(i)return i;if(t.parentNode)return f.kb(t.parentNode)}return e},f.Jc=function(t){return(t=f.kb(t))?t.$data:e},f.b("bindingHandlers",f.d),f.b("applyBindings",f.Rb),f.b("applyBindingsToDescendants",f.eb),f.b("applyBindingAccessorsToNode",f.Ja),f.b("applyBindingsToNode",f.Dc),f.b("contextFor",f.kb),f.b("dataFor",f.Jc)}(),function(e){function t(t,a){var r,s=n.hasOwnProperty(t)?n[t]:e;s?s.X(a):(s=n[t]=new f.J,s.X(a),i(t,function(e,i){var a=!(!i||!i.synchronous);o[t]={definition:e,Zc:a},delete n[t],r||a?s.notifySubscribers(e):f.Y.Wa(function(){s.notifySubscribers(e)})}),r=!0)}function i(e,t){a("getConfig",[e],function(i){i?a("loadComponent",[e,i],function(e){t(e,i)}):t(null,null)})}function a(t,i,n,o){o||(o=f.g.loaders.slice(0));var r=o.shift();if(r){var s=r[t];if(s){var l=!1;if(s.apply(r,i.concat(function(e){l?n(null):null!==e?n(e):a(t,i,n,o)}))!==e&&(l=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else a(t,i,n,o)}else n(null)}var n={},o={};f.g={get:function(i,a){var n=o.hasOwnProperty(i)?o[i]:e;n?n.Zc?f.l.w(function(){a(n.definition)}):f.Y.Wa(function(){a(n.definition)}):t(i,a)},Xb:function(e){delete o[e]},Jb:a},f.g.loaders=[],f.b("components",f.g),
f.b("components.get",f.g.get),f.b("components.clearCachedDefinition",f.g.Xb)}(),function(){function e(e,t,i,a){function n(){0===--s&&a(o)}var o={},s=2,l=i.template;i=i.viewModel,l?r(t,l,function(t){f.g.Jb("loadTemplate",[e,t],function(e){o.template=e,n()})}):n(),i?r(t,i,function(t){f.g.Jb("loadViewModel",[e,t],function(e){o[d]=e,n()})}):n()}function a(e,t,i){if("function"==typeof t)i(function(e){return new t(e)});else if("function"==typeof t[d])i(t[d]);else if("instance"in t){var n=t.instance;i(function(){return n})}else"viewModel"in t?a(e,t.viewModel,i):e("Unknown viewModel value: "+t)}function n(e){switch(f.a.A(e)){case"script":return f.a.ma(e.text);case"textarea":return f.a.ma(e.value);case"template":if(o(e.content))return f.a.ua(e.content.childNodes)}return f.a.ua(e.childNodes)}function o(e){return t.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,i,a){"string"==typeof i.require?s||t.require?(s||t.require)([i.require],a):e("Uses require, but no AMD loader is present"):a(i)}function l(e){return function(t){throw Error("Component '"+e+"': "+t)}}var c={};f.g.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(f.g.ub(e))throw Error("Component "+e+" is already registered");c[e]=t},f.g.ub=function(e){return c.hasOwnProperty(e)},f.g.od=function(e){delete c[e],f.g.Xb(e)},f.g.Zb={getConfig:function(e,t){t(c.hasOwnProperty(e)?c[e]:null)},loadComponent:function(t,i,a){var n=l(t);r(n,i,function(i){e(t,n,i,a)})},loadTemplate:function(e,a,r){if(e=l(e),"string"==typeof a)r(f.a.ma(a));else if(a instanceof Array)r(a);else if(o(a))r(f.a.V(a.childNodes));else if(a.element)if(a=a.element,t.HTMLElement?a instanceof HTMLElement:a&&a.tagName&&1===a.nodeType)r(n(a));else if("string"==typeof a){var s=i.getElementById(a);s?r(n(s)):e("Cannot find element with ID "+a)}else e("Unknown element type: "+a);else e("Unknown template value: "+a)},loadViewModel:function(e,t,i){a(l(e),t,i)}};var d="createViewModel";f.b("components.register",f.g.register),f.b("components.isRegistered",f.g.ub),f.b("components.unregister",f.g.od),f.b("components.defaultLoader",f.g.Zb),f.g.loaders.push(f.g.Zb),f.g.Bc=c}(),function(){function e(e,i){var a=e.getAttribute("params");if(a){var a=t.parseBindingsString(a,i,e,{valueAccessors:!0,bindingParams:!0}),a=f.a.Ca(a,function(t){return f.m(t,null,{i:e})}),n=f.a.Ca(a,function(t){var i=t.t();return t.ba()?f.m({read:function(){return f.a.c(t())},write:f.Ba(i)&&function(e){t()(e)},i:e}):i});return n.hasOwnProperty("$raw")||(n.$raw=a),n}return{$raw:{}}}f.g.getComponentNameForNode=function(e){var t=f.a.A(e);return f.g.ub(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=f.a.C&&e.tagName===t)?t:void 0},f.g.Ob=function(t,i,a,n){if(1===i.nodeType){var o=f.g.getComponentNameForNode(i);if(o){if(t=t||{},t.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:o,params:e(i,a)};t.component=n?function(){return r}:r}}return t};var t=new f.Q;9>f.a.C&&(f.g.register=function(e){return function(t){return i.createElement(t),e.apply(this,arguments)}}(f.g.register),i.createDocumentFragment=function(e){return function(){var t,i=e(),a=f.g.Bc;for(t in a)a.hasOwnProperty(t)&&i.createElement(t);return i}}(i.createDocumentFragment))}(),function(e){function t(e,t,i){if(t=t.template,!t)throw Error("Component '"+e+"' has no template");e=f.a.ua(t),f.f.da(i,e)}function i(e,t,i,a){var n=e.createViewModel;return n?n.call(e,a,{element:t,templateNodes:i}):a}var a=0;f.d.component={init:function(n,o,r,s,l){function c(){var e=d&&d.dispose;"function"==typeof e&&e.call(d),u=d=null}var d,u,p=f.a.V(f.f.childNodes(n));return f.a.F.oa(n,c),f.m(function(){var r,s,h=f.a.c(o());if("string"==typeof h?r=h:(r=f.a.c(h.name),s=f.a.c(h.params)),!r)throw Error("No component name specified");var m=u=++a;f.g.get(r,function(a){if(u===m){if(c(),!a)throw Error("Unknown component '"+r+"'");t(r,a,n);var o=i(a,n,p,s);a=l.createChildContext(o,e,function(e){e.$component=o,e.$componentTemplateNodes=p}),d=o,f.eb(a,n)}})},null,{i:n}),{controlsDescendantBindings:!0}}},f.f.Z.component=!0}();var D={"class":"className","for":"htmlFor"};f.d.attr={update:function(t,i){var a=f.a.c(i())||{};f.a.D(a,function(i,a){a=f.a.c(a);var n=!1===a||null===a||a===e;n&&t.removeAttribute(i),8>=f.a.C&&i in D?(i=D[i],n?t.removeAttribute(i):t[i]=a):n||t.setAttribute(i,a.toString()),"name"===i&&f.a.rc(t,n?"":a.toString())})}},function(){f.d.checked={after:["value","attr"],init:function(t,i,a){function n(){var e=t.checked,n=h?r():e;if(!f.va.Sa()&&(!l||e)){var o=f.l.w(i);if(d){var s=u?o.t():o;p!==n?(e&&(f.a.pa(s,n,!0),f.a.pa(s,p,!1)),p=n):f.a.pa(s,n,e),u&&f.Ba(o)&&o(s)}else f.h.Ea(o,a,"checked",n,!0)}}function o(){var e=f.a.c(i());t.checked=d?0<=f.a.o(e,r()):s?e:r()===e}var r=f.nc(function(){return a.has("checkedValue")?f.a.c(a.get("checkedValue")):a.has("value")?f.a.c(a.get("value")):t.value}),s="checkbox"==t.type,l="radio"==t.type;if(s||l){var c=i(),d=s&&f.a.c(c)instanceof Array,u=!(d&&c.push&&c.splice),p=d?r():e,h=l||d;l&&!t.name&&f.d.uniqueName.init(t,function(){return!0}),f.m(n,null,{i:t}),f.a.p(t,"click",n),f.m(o,null,{i:t}),c=e}}},f.h.ea.checked=!0,f.d.checkedValue={update:function(e,t){e.value=f.a.c(t())}}}(),f.d.css={update:function(e,t){var i=f.a.c(t());null!==i&&"object"==typeof i?f.a.D(i,function(t,i){i=f.a.c(i),f.a.bb(e,t,i)}):(i=f.a.$a(String(i||"")),f.a.bb(e,e.__ko__cssValue,!1),e.__ko__cssValue=i,f.a.bb(e,i,!0))}},f.d.enable={update:function(e,t){var i=f.a.c(t());i&&e.disabled?e.removeAttribute("disabled"):i||e.disabled||(e.disabled=!0)}},f.d.disable={update:function(e,t){f.d.enable.update(e,function(){return!f.a.c(t())})}},f.d.event={init:function(e,t,i,a,n){var o=t()||{};f.a.D(o,function(o){"string"==typeof o&&f.a.p(e,o,function(e){var r,s=t()[o];if(s){try{var l=f.a.V(arguments);a=n.$data,l.unshift(a),r=s.apply(a,l)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===i.get(o+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},f.d.foreach={ic:function(e){return function(){var t=e(),i=f.a.zb(t);return i&&"number"!=typeof i.length?(f.a.c(t),{foreach:i.data,as:i.as,includeDestroyed:i.includeDestroyed,afterAdd:i.afterAdd,beforeRemove:i.beforeRemove,afterRender:i.afterRender,beforeMove:i.beforeMove,afterMove:i.afterMove,templateEngine:f.W.sb}):{foreach:t,templateEngine:f.W.sb}}},init:function(e,t){return f.d.template.init(e,f.d.foreach.ic(t))},update:function(e,t,i,a,n){return f.d.template.update(e,f.d.foreach.ic(t),i,a,n)}},f.h.ta.foreach=!1,f.f.Z.foreach=!0,f.d.hasfocus={init:function(e,t,i){function a(a){e.__ko_hasfocusUpdating=!0;var n=e.ownerDocument;if("activeElement"in n){var o;try{o=n.activeElement}catch(r){o=n.body}a=o===e}n=t(),f.h.Ea(n,i,"hasfocus",a,!0),e.__ko_hasfocusLastValue=a,e.__ko_hasfocusUpdating=!1}var n=a.bind(null,!0),o=a.bind(null,!1);f.a.p(e,"focus",n),f.a.p(e,"focusin",n),f.a.p(e,"blur",o),f.a.p(e,"focusout",o)},update:function(e,t){var i=!!f.a.c(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===i||(i?e.focus():e.blur(),!i&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),f.l.w(f.a.Da,null,[e,i?"focusin":"focusout"]))}},f.h.ea.hasfocus=!0,f.d.hasFocus=f.d.hasfocus,f.h.ea.hasFocus=!0,f.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){f.a.Cb(e,t())}},m("if"),m("ifnot",!1,!0),m("with",!0,!1,function(e,t){return e.createChildContext(t)});var I={};f.d.options={init:function(e){if("select"!==f.a.A(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(t,i,a){function n(){return f.a.Ka(t.options,function(e){return e.selected})}function o(e,t,i){var a=typeof t;return"function"==a?t(e):"string"==a?e[t]:i}function r(e,i){if(m&&d)f.j.ha(t,f.a.c(a.get("value")),!0);else if(h.length){var n=0<=f.a.o(h,f.j.u(i[0]));f.a.sc(i[0],n),m&&!n&&f.l.w(f.a.Da,null,[t,"change"])}}var s=t.multiple,l=0!=t.length&&s?t.scrollTop:null,c=f.a.c(i()),d=a.get("valueAllowUnset")&&a.has("value"),u=a.get("optionsIncludeDestroyed");i={};var p,h=[];d||(s?h=f.a.fb(n(),f.j.u):0<=t.selectedIndex&&h.push(f.j.u(t.options[t.selectedIndex]))),c&&("undefined"==typeof c.length&&(c=[c]),p=f.a.Ka(c,function(t){return u||t===e||null===t||!f.a.c(t._destroy)}),a.has("optionsCaption")&&(c=f.a.c(a.get("optionsCaption")),null!==c&&c!==e&&p.unshift(I)));var m=!1;i.beforeRemove=function(e){t.removeChild(e)},c=r,a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(c=function(t,i){r(0,i),f.l.w(a.get("optionsAfterRender"),null,[i[0],t!==I?t:e])}),f.a.Bb(t,p,function(i,n,r){return r.length&&(h=!d&&r[0].selected?[f.j.u(r[0])]:[],m=!0),n=t.ownerDocument.createElement("option"),i===I?(f.a.Za(n,a.get("optionsCaption")),f.j.ha(n,e)):(r=o(i,a.get("optionsValue"),i),f.j.ha(n,f.a.c(r)),i=o(i,a.get("optionsText"),r),f.a.Za(n,i)),[n]},i,c),f.l.w(function(){d?f.j.ha(t,f.a.c(a.get("value")),!0):(s?h.length&&n().length<h.length:h.length&&0<=t.selectedIndex?f.j.u(t.options[t.selectedIndex])!==h[0]:h.length||0<=t.selectedIndex)&&f.a.Da(t,"change")}),f.a.Nc(t),l&&20<Math.abs(l-t.scrollTop)&&(t.scrollTop=l)}},f.d.options.xb=f.a.e.I(),f.d.selectedOptions={after:["options","foreach"],init:function(e,t,i){f.a.p(e,"change",function(){var a=t(),n=[];f.a.q(e.getElementsByTagName("option"),function(e){e.selected&&n.push(f.j.u(e))}),f.h.Ea(a,i,"selectedOptions",n)})},update:function(e,t){if("select"!=f.a.A(e))throw Error("values binding applies only to SELECT elements");var i=f.a.c(t()),a=e.scrollTop;i&&"number"==typeof i.length&&f.a.q(e.getElementsByTagName("option"),function(e){var t=0<=f.a.o(i,f.j.u(e));e.selected!=t&&f.a.sc(e,t)}),e.scrollTop=a}},f.h.ea.selectedOptions=!0,f.d.style={update:function(t,i){var a=f.a.c(i()||{});f.a.D(a,function(i,a){a=f.a.c(a),(null===a||a===e||!1===a)&&(a=""),t.style[i]=a})}},f.d.submit={init:function(e,t,i,a,n){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");f.a.p(e,"submit",function(i){var a,o=t();try{a=o.call(n.$data,e)}finally{!0!==a&&(i.preventDefault?i.preventDefault():i.returnValue=!1)}})}},f.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){f.a.Za(e,t())}},f.f.Z.text=!0,function(){if(t&&t.navigator)var i=function(e){return e?parseFloat(e[1]):void 0},a=t.opera&&t.opera.version&&parseInt(t.opera.version()),n=t.navigator.userAgent,o=i(n.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),r=i(n.match(/Firefox\/([^ ]*)/));if(10>f.a.C)var s=f.a.e.I(),l=f.a.e.I(),c=function(e){var t=this.activeElement;(t=t&&f.a.e.get(t,l))&&t(e)},d=function(e,t){var i=e.ownerDocument;f.a.e.get(i,s)||(f.a.e.set(i,s,!0),f.a.p(i,"selectionchange",c)),f.a.e.set(e,l,t)};f.d.textInput={init:function(t,i,n){function s(e,i){f.a.p(t,e,i)}function l(){var a=f.a.c(i());(null===a||a===e)&&(a=""),h!==e&&a===h?f.a.setTimeout(l,4):t.value!==a&&(m=a,t.value=a)}function c(){p||(h=t.value,p=f.a.setTimeout(u,4))}function u(){clearTimeout(p),h=p=e;var a=t.value;m!==a&&(m=a,f.h.Ea(i(),n,"textInput",a))}var p,h,m=t.value,b=9==f.a.C?c:u;10>f.a.C?(s("propertychange",function(e){"value"===e.propertyName&&b(e)}),8==f.a.C&&(s("keyup",u),s("keydown",u)),8<=f.a.C&&(d(t,b),s("dragend",c))):(s("input",u),5>o&&"textarea"===f.a.A(t)?(s("keydown",c),s("paste",c),s("cut",c)):11>a?s("keydown",c):4>r&&(s("DOMAutoComplete",u),s("dragdrop",u),s("drop",u))),s("change",u),f.m(l,null,{i:t})}},f.h.ea.textInput=!0,f.d.textinput={preprocess:function(e,t,i){i("textInput",e)}}}(),f.d.uniqueName={init:function(e,t){if(t()){var i="ko_unique_"+ ++f.d.uniqueName.Ic;f.a.rc(e,i)}}},f.d.uniqueName.Ic=0,f.d.value={after:["options","foreach"],init:function(e,t,i){if("input"!=e.tagName.toLowerCase()||"checkbox"!=e.type&&"radio"!=e.type){var a=["change"],n=i.get("valueUpdate"),o=!1,r=null;n&&("string"==typeof n&&(n=[n]),f.a.ra(a,n),a=f.a.Tb(a));var s=function(){r=null,o=!1;var a=t(),n=f.j.u(e);f.h.Ea(a,i,"value",n)};!f.a.C||"input"!=e.tagName.toLowerCase()||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=f.a.o(a,"propertychange")||(f.a.p(e,"propertychange",function(){o=!0}),f.a.p(e,"focus",function(){o=!1}),f.a.p(e,"blur",function(){o&&s()})),f.a.q(a,function(t){var i=s;f.a.nd(t,"after")&&(i=function(){r=f.j.u(e),f.a.setTimeout(s,0)},t=t.substring(5)),f.a.p(e,t,i)});var l=function(){var a=f.a.c(t()),n=f.j.u(e);if(null!==r&&a===r)f.a.setTimeout(l,0);else if(a!==n)if("select"===f.a.A(e)){var o=i.get("valueAllowUnset"),n=function(){f.j.ha(e,a,o)};n(),o||a===f.j.u(e)?f.a.setTimeout(n,0):f.l.w(f.a.Da,null,[e,"change"])}else f.j.ha(e,a)};f.m(l,null,{i:e})}else f.Ja(e,{checkedValue:t})},update:function(){}},f.h.ea.value=!0,f.d.visible={update:function(e,t){var i=f.a.c(t()),a="none"!=e.style.display;i&&!a?e.style.display="":!i&&a&&(e.style.display="none")}},function(e){f.d[e]={init:function(t,i,a,n,o){return f.d.event.init.call(this,t,function(){var t={};return t[e]=i(),t},a,n,o)}}}("click"),f.O=function(){},f.O.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},f.O.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},f.O.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){t=t||i;var a=t.getElementById(e);if(!a)throw Error("Cannot find template with ID "+e);return new f.v.n(a)}if(1==e.nodeType||8==e.nodeType)return new f.v.qa(e);throw Error("Unknown template type: "+e)},f.O.prototype.renderTemplate=function(e,t,i,a){return e=this.makeTemplateSource(e,a),this.renderTemplateSource(e,t,i,a)},f.O.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(e,t).data("isRewritten")},f.O.prototype.rewriteTemplate=function(e,t,i){e=this.makeTemplateSource(e,i),t=t(e.text()),e.text(t),e.data("isRewritten",!0)},f.b("templateEngine",f.O),f.Gb=function(){function e(e,t,i,a){e=f.h.yb(e);for(var n=f.h.ta,o=0;o<e.length;o++){var r=e[o].key;if(n.hasOwnProperty(r)){var s=n[r];if("function"==typeof s){if(r=s(e[o].value))throw Error(r)}else if(!s)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return i="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+f.h.Ua(e,{valueAccessors:!0})+" } })()},'"+i.toLowerCase()+"')",a.createJavaScriptEvaluatorBlock(i)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{Oc:function(e,t,i){t.isTemplateRewritten(e,i)||t.rewriteTemplate(e,function(e){return f.Gb.dd(e,t)},i)},dd:function(a,n){return a.replace(t,function(t,i,a,o,r){return e(r,i,a,n)}).replace(i,function(t,i){return e(i,"<!-- ko -->","#comment",n)})},Ec:function(e,t){return f.M.wb(function(i,a){var n=i.nextSibling;n&&n.nodeName.toLowerCase()===t&&f.Ja(n,e,a)})}}}(),f.b("__tr_ambtns",f.Gb.Ec),function(){f.v={},f.v.n=function(e){if(this.n=e){var t=f.a.A(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},f.v.n.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.n[e];var t=arguments[0];"innerHTML"===e?f.a.Cb(this.n,t):this.n[e]=t};var t=f.a.e.I()+"_";f.v.n.prototype.data=function(e){return 1===arguments.length?f.a.e.get(this.n,t+e):void f.a.e.set(this.n,t+e,arguments[1])};var i=f.a.e.I();f.v.n.prototype.nodes=function(){var t=this.n;return 0==arguments.length?(f.a.e.get(t,i)||{}).jb||(3===this.ab?t.content:4===this.ab?t:e):void f.a.e.set(t,i,{jb:arguments[0]})},f.v.qa=function(e){this.n=e},f.v.qa.prototype=new f.v.n,f.v.qa.prototype.text=function(){if(0==arguments.length){var t=f.a.e.get(this.n,i)||{};return t.Hb===e&&t.jb&&(t.Hb=t.jb.innerHTML),t.Hb}f.a.e.set(this.n,i,{Hb:arguments[0]})},f.b("templateSources",f.v),f.b("templateSources.domElement",f.v.n),f.b("templateSources.anonymousTemplate",f.v.qa)}(),function(){function t(e,t,i){var a;for(t=f.f.nextSibling(t);e&&(a=e)!==t;)e=f.f.nextSibling(a),i(a,e)}function i(e,i){if(e.length){var a=e[0],n=e[e.length-1],o=a.parentNode,r=f.Q.instance,s=r.preprocessNode;if(s){if(t(a,n,function(e,t){var i=e.previousSibling,o=s.call(r,e);o&&(e===a&&(a=o[0]||t),e===n&&(n=o[o.length-1]||i))}),e.length=0,!a)return;a===n?e.push(a):(e.push(a,n),f.a.za(e,o))}t(a,n,function(e){1!==e.nodeType&&8!==e.nodeType||f.Rb(i,e)}),t(a,n,function(e){1!==e.nodeType&&8!==e.nodeType||f.M.yc(e,[i])}),f.a.za(e,o)}}function a(e){return e.nodeType?e:0<e.length?e[0]:null}function n(e,t,n,o,s){s=s||{};var l=(e&&a(e)||n||{}).ownerDocument,c=s.templateEngine||r;if(f.Gb.Oc(n,c,l),n=c.renderTemplate(n,o,s,l),"number"!=typeof n.length||0<n.length&&"number"!=typeof n[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,t){case"replaceChildren":f.f.da(e,n),l=!0;break;case"replaceNode":f.a.qc(e,n),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+t)}return l&&(i(n,o),s.afterRender&&f.l.w(s.afterRender,null,[n,o.$data])),n}function o(e,t,i){return f.H(e)?e():"function"==typeof e?e(t,i):e}var r;f.Db=function(t){if(t!=e&&!(t instanceof f.O))throw Error("templateEngine must inherit from ko.templateEngine");r=t},f.Ab=function(t,i,s,l,c){if(s=s||{},(s.templateEngine||r)==e)throw Error("Set a template engine before calling renderTemplate");if(c=c||"replaceChildren",l){var d=a(l);return f.B(function(){var e=i&&i instanceof f.U?i:new f.U(f.a.c(i)),r=o(t,e.$data,e),e=n(l,c,r,e,s);"replaceNode"==c&&(l=e,d=a(l))},null,{wa:function(){return!d||!f.a.nb(d)},i:d&&"replaceNode"==c?d.parentNode:d})}return f.M.wb(function(e){f.Ab(t,i,s,e,"replaceNode")})},f.kd=function(t,a,r,s,l){function c(e,t){i(t,u),r.afterRender&&r.afterRender(t,e),u=null}function d(e,i){u=l.createChildContext(e,r.as,function(e){e.$index=i});var a=o(t,e,u);return n(null,"ignoreTargetNode",a,u,r)}var u;return f.B(function(){var t=f.a.c(a)||[];"undefined"==typeof t.length&&(t=[t]),t=f.a.Ka(t,function(t){return r.includeDestroyed||t===e||null===t||!f.a.c(t._destroy)}),f.l.w(f.a.Bb,null,[s,t,d,r,c])},null,{i:s})};var s=f.a.e.I();f.d.template={init:function(e,t){var i=f.a.c(t());if("string"==typeof i||i.name)f.f.xa(e);else{if("nodes"in i){if(i=i.nodes||[],f.H(i))throw Error('The "nodes" option must be a plain, non-observable array.')}else i=f.f.childNodes(e);i=f.a.jc(i),new f.v.qa(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(t,i,a,n,o){var r,l=i();i=f.a.c(l),a=!0,n=null,"string"==typeof i?i={}:(l=i.name,"if"in i&&(a=f.a.c(i["if"])),a&&"ifnot"in i&&(a=!f.a.c(i.ifnot)),r=f.a.c(i.data)),"foreach"in i?n=f.kd(l||t,a&&i.foreach||[],i,t,o):a?(o="data"in i?o.createChildContext(r,i.as):o,n=f.Ab(l||t,o,i,t)):f.f.xa(t),o=n,(r=f.a.e.get(t,s))&&"function"==typeof r.k&&r.k(),f.a.e.set(t,s,o&&o.ba()?o:e)}},f.h.ta.template=function(e){return e=f.h.yb(e),1==e.length&&e[0].unknown||f.h.ad(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},f.f.Z.template=!0}(),f.b("setTemplateEngine",f.Db),f.b("renderTemplate",f.Ab),f.a.dc=function(e,t,i){if(e.length&&t.length){var a,n,o,r,s;for(a=n=0;(!i||i>a)&&(r=e[n]);++n){for(o=0;s=t[o];++o)if(r.value===s.value){r.moved=s.index,s.moved=r.index,t.splice(o,1),a=o=0;break}a+=o}}},f.a.ib=function(){function e(e,t,i,a,n){var o,r,s,l,c,d=Math.min,u=Math.max,p=[],h=e.length,m=t.length,b=m-h||1,g=h+m+1;for(o=0;h>=o;o++)for(l=s,p.push(s=[]),c=d(m,o+b),r=u(0,o-1);c>=r;r++)s[r]=r?o?e[o-1]===t[r-1]?l[r-1]:d(l[r]||g,s[r-1]||g)+1:r+1:o+1;for(d=[],u=[],b=[],o=h,r=m;o||r;)m=p[o][r]-1,r&&m===p[o][r-1]?u.push(d[d.length]={status:i,value:t[--r],index:r}):o&&m===p[o-1][r]?b.push(d[d.length]={status:a,value:e[--o],index:o}):(--r,--o,n.sparse||d.push({status:"retained",value:t[r]}));return f.a.dc(b,u,!n.dontLimitMoves&&10*h),d.reverse()}return function(t,i,a){return a="boolean"==typeof a?{dontLimitMoves:a}:a||{},t=t||[],i=i||[],t.length<i.length?e(t,i,"added","deleted",a):e(i,t,"deleted","added",a)}}(),f.b("utils.compareArrays",f.a.ib),function(){function t(t,i,a,n,o){var r=[],s=f.B(function(){var e=i(a,o,f.a.za(r,t))||[];0<r.length&&(f.a.qc(r,e),n&&f.l.w(n,null,[a,e,o])),r.length=0,f.a.ra(r,e)},null,{i:t,wa:function(){return!f.a.Qb(r)}});return{ca:r,B:s.ba()?s:e}}var i=f.a.e.I(),a=f.a.e.I();f.a.Bb=function(n,o,r,s,l){function c(e,t){x=p[t],v!==t&&(A[e]=x),x.qb(v++),f.a.za(x.ca,n),b.push(x),_.push(x)}function d(e,t){if(e)for(var i=0,a=t.length;a>i;i++)t[i]&&f.a.q(t[i].ca,function(a){e(a,i,t[i].ja)})}o=o||[],s=s||{};var u=f.a.e.get(n,i)===e,p=f.a.e.get(n,i)||[],h=f.a.fb(p,function(e){return e.ja}),m=f.a.ib(h,o,s.dontLimitMoves),b=[],g=0,v=0,y=[],_=[];o=[];for(var x,w,T,A=[],h=[],k=0;w=m[k];k++)switch(T=w.moved,w.status){case"deleted":T===e&&(x=p[g],x.B&&(x.B.k(),x.B=e),f.a.za(x.ca,n).length&&(s.beforeRemove&&(b.push(x),_.push(x),x.ja===a?x=null:o[k]=x),x&&y.push.apply(y,x.ca))),g++;break;case"retained":c(k,g++);break;case"added":T!==e?c(k,T):(x={ja:w.value,qb:f.N(v++)},b.push(x),_.push(x),u||(h[k]=x))}f.a.e.set(n,i,b),d(s.beforeMove,A),f.a.q(y,s.beforeRemove?f.$:f.removeNode);for(var S,k=0,u=f.f.firstChild(n);x=_[k];k++){for(x.ca||f.a.extend(x,t(n,r,x.ja,l,x.qb)),g=0;m=x.ca[g];u=m.nextSibling,S=m,g++)m!==u&&f.f.gc(n,m,S);!x.Wc&&l&&(l(x.ja,x.ca,x.qb),x.Wc=!0)}for(d(s.beforeRemove,o),k=0;k<o.length;++k)o[k]&&(o[k].ja=a);d(s.afterMove,A),d(s.afterAdd,h)}}(),f.b("utils.setDomNodeChildrenFromArrayMapping",f.a.Bb),f.W=function(){this.allowTemplateRewriting=!1},f.W.prototype=new f.O,f.W.prototype.renderTemplateSource=function(e,t,i,a){return(t=(9>f.a.C?0:e.nodes)?e.nodes():null)?f.a.V(t.cloneNode(!0).childNodes):(e=e.text(),f.a.ma(e,a))},f.W.sb=new f.W,f.Db(f.W.sb),f.b("nativeTemplateEngine",f.W),function(){f.vb=function(){var e=this.$c=function(){if(!n||!n.tmpl)return 0;try{if(0<=n.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,a,o,r){if(r=r||i,o=o||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var s=t.data("precompiled");return s||(s=t.text()||"",s=n.template(null,"{{ko_with $item.koBindingContext}}"+s+"{{/ko_with}}"),t.data("precompiled",s)),t=[a.$data],a=n.extend({koBindingContext:a},o.templateOptions),a=n.tmpl(s,t,a),a.appendTo(r.createElement("div")),n.fragments={},a},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){i.write("<script type='text/html' id='"+e+"'>"+t+"</script>")},e>0&&(n.tmpl.tag.ko_code={open:"__.push($1 || '');"},n.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},f.vb.prototype=new f.O;var e=new f.vb;0<e.$c&&f.Db(e),f.b("jqueryTmplTemplateEngine",f.vb)}()})}()}(),function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout-mapping",["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,t){function i(e,t){for(var i={},a=e.length-1;a>=0;--a)i[e[a]]=e[a];for(var a=t.length-1;a>=0;--a)i[t[a]]=t[a];var n=[];for(var o in i)n.push(i[o]);return n}function a(e,n){var o;for(var r in n)if(n.hasOwnProperty(r)&&n[r])if(o=t.getType(e[r]),r&&e[r]&&"array"!==o&&"string"!==o)a(e[r],n[r]);else{var s="array"===t.getType(e[r])&&"array"===t.getType(n[r]);s?e[r]=i(e[r],n[r]):e[r]=n[r]}}function n(e,t){var i={};return a(i,e),a(i,t),i}function o(e,t){for(var i=n({},e),a=A.length-1;a>=0;a--){var o=A[a];i[o]&&(i[""]instanceof Object||(i[""]={}),i[""][o]=i[o],delete i[o])}return t&&(i.ignore=r(t.ignore,i.ignore),i.include=r(t.include,i.include),i.copy=r(t.copy,i.copy),i.observe=r(t.observe,i.observe)),i.ignore=r(i.ignore,D.ignore),i.include=r(i.include,D.include),i.copy=r(i.copy,D.copy),i.observe=r(i.observe,D.observe),i.mappedProperties=i.mappedProperties||{},i.copiedProperties=i.copiedProperties||{},i}function r(i,a){return"array"!==t.getType(i)&&(i="undefined"===t.getType(i)?[]:[i]),"array"!==t.getType(a)&&(a="undefined"===t.getType(a)?[]:[a]),e.utils.arrayGetDistinctValues(i.concat(a))}function s(t,i){var a=e.dependentObservable;e.dependentObservable=function(i,a,n){n=n||{},i&&"object"==typeof i&&(n=i);var o=n.deferEvaluation,r=!1,s=function(i){var a=e.dependentObservable;e.dependentObservable=w;var n=e.isWriteableObservable(i);e.dependentObservable=a;var o=w({read:function(){return r||(e.utils.arrayRemoveItem(t,i),r=!0),i.apply(i,arguments)},write:n&&function(e){return i(e)},deferEvaluation:!0});return _&&(o._wrapper=!0),o.__DO=i,o};n.deferEvaluation=!0;var l=new w(i,a,n);return o||(l=s(l),t.push(l)),l},e.dependentObservable.fn=w.fn,e.computed=e.dependentObservable;var n=i();return e.dependentObservable=a,e.computed=e.dependentObservable,n}function l(i,a,o,r,d,f,b){var g="array"===t.getType(e.utils.unwrapObservable(a));if(f=f||"",t.isMapped(i)){var _=e.utils.unwrapObservable(i)[x];o=n(_,o)}var w={data:a,parent:b||d},T=function(){return o[r]&&o[r].create instanceof Function},A=function(t){return s(v,function(){return e.utils.unwrapObservable(d)instanceof Array?o[r].create({data:t||w.data,parent:w.parent,skip:k}):o[r].create({data:t||w.data,parent:w.parent})})},S=function(){return o[r]&&o[r].update instanceof Function},D=function(t,i){var a={data:i||w.data,parent:w.parent,target:e.utils.unwrapObservable(t)};return e.isWriteableObservable(t)&&(a.observable=t),o[r].update(a)},I=y.get(a);if(I)return I;if(r=r||"",g){var E=[],C=!1,O=function(e){return e};o[r]&&o[r].key&&(O=o[r].key,C=!0),e.isObservable(i)||(i=e.observableArray([]),i.mappedRemove=function(e){var t="function"==typeof e?e:function(t){return t===O(e)};return i.remove(function(e){return t(O(e))})},i.mappedRemoveAll=function(t){var a=p(t,O);return i.remove(function(t){return-1!=e.utils.arrayIndexOf(a,O(t))})},i.mappedDestroy=function(e){var t="function"==typeof e?e:function(t){return t===O(e)};return i.destroy(function(e){return t(O(e))})},i.mappedDestroyAll=function(t){var a=p(t,O);return i.destroy(function(t){return-1!=e.utils.arrayIndexOf(a,O(t))})},i.mappedIndexOf=function(t){var a=p(i(),O),n=O(t);return e.utils.arrayIndexOf(a,n)},i.mappedGet=function(e){return i()[i.mappedIndexOf(e)]},i.mappedCreate=function(t){if(-1!==i.mappedIndexOf(t))throw new Error("There already is an object with the key that you specified.");var a=T()?A(t):t;if(S()){var n=D(a,t);e.isWriteableObservable(a)?a(n):a=n}return i.push(a),a});var P=p(e.utils.unwrapObservable(i),O).sort(),B=p(a,O);C&&B.sort();var R,N,L=e.utils.compareArrays(P,B),$={},M=e.utils.unwrapObservable(a),H={},V=!0;for(R=0,N=M.length;N>R;R++){var F=O(M[R]);if(void 0===F||F instanceof Object){V=!1;break}H[F]=M[R]}var z=[],j=0;for(R=0,N=L.length;N>R;R++){var W,F=L[R],q=f+"["+R+"]";switch(F.status){case"added":var U=V?H[F.value]:u(e.utils.unwrapObservable(a),F.value,O);W=l(void 0,U,o,r,i,q,d),T()||(W=e.utils.unwrapObservable(W));var Y=c(e.utils.unwrapObservable(a),U,$);W===k?j++:z[Y-j]=W,$[Y]=!0;break;case"retained":var U=V?H[F.value]:u(e.utils.unwrapObservable(a),F.value,O);W=u(i,F.value,O),l(W,U,o,r,i,q,d);var Y=c(e.utils.unwrapObservable(a),U,$);z[Y]=W,$[Y]=!0;break;case"deleted":W=u(i,F.value,O)}E.push({event:F.status,item:W})}i(z),o[r]&&o[r].arrayChanged&&e.utils.arrayForEach(E,function(e){o[r].arrayChanged(e.event,e.item)})}else if(m(a)){if(i=e.utils.unwrapObservable(i),!i){if(T()){var G=A();return S()&&(G=D(G)),G}if(S())return D(G);i={}}if(S()&&(i=D(i)),y.save(a,i),S())return i;h(a,function(t){var n=f.length?f+"."+t:t;if(-1==e.utils.arrayIndexOf(o.ignore,n)){if(-1!=e.utils.arrayIndexOf(o.copy,n))return void(i[t]=a[t]);if("object"!=typeof a[t]&&"array"!=typeof a[t]&&o.observe.length>0&&-1==e.utils.arrayIndexOf(o.observe,n))return i[t]=a[t],void(o.copiedProperties[n]=!0);var r=y.get(a[t]),s=l(i[t],a[t],o,t,i,n,i),c=r||s;if(o.observe.length>0&&-1==e.utils.arrayIndexOf(o.observe,n))return i[t]=c(),void(o.copiedProperties[n]=!0);e.isWriteableObservable(i[t])?(c=e.utils.unwrapObservable(c),i[t]()!==c&&i[t](c)):(c=void 0===i[t]?c:e.utils.unwrapObservable(c),i[t]=c),o.mappedProperties[n]=!0}})}else switch(t.getType(a)){case"function":S()?e.isWriteableObservable(a)?(a(D(a)),i=a):i=D(a):i=a;break;default:if(e.isWriteableObservable(i)){if(S()){var X=D(i);return i(X),X}var X=e.utils.unwrapObservable(a);return i(X),X}var J=T()||S();if(i=T()?A():e.observable(e.utils.unwrapObservable(a)),S()&&i(D(i)),J)return i}return i}function c(e,t,i){for(var a=0,n=e.length;n>a;a++)if(i[a]!==!0&&e[a]===t)return a;return null}function d(i,a){var n;return a&&(n=a(i)),"undefined"===t.getType(n)&&(n=i),e.utils.unwrapObservable(n)}function u(t,i,a){t=e.utils.unwrapObservable(t);for(var n=0,o=t.length;o>n;n++){var r=t[n];if(d(r,a)===i)return r}throw new Error("When calling ko.update*, the key '"+i+"' was not found!")}function p(t,i){return e.utils.arrayMap(e.utils.unwrapObservable(t),function(e){return i?d(e,i):e})}function h(e,i){if("array"===t.getType(e))for(var a=0;a<e.length;a++)i(a);else for(var n in e)i(n)}function m(e){var i=t.getType(e);return("object"===i||"array"===i)&&null!==e}function f(e,i,a){var n=e||"";return"array"===t.getType(i)?e&&(n+="["+a+"]"):(e&&(n+="."),n+=a),n}function b(){var t=[],i=[];this.save=function(a,n){var o=e.utils.arrayIndexOf(t,a);o>=0?i[o]=n:(t.push(a),i.push(n))},this.get=function(a){var n=e.utils.arrayIndexOf(t,a),o=n>=0?i[n]:void 0;return o}}function g(){var e={},t=function(t){var i;try{i=t}catch(a){i="$$$"}var n=e[i];return void 0===n&&(n=new b,e[i]=n),n};this.save=function(e,i){t(e).save(e,i)},this.get=function(e){return t(e).get(e)}}var v,y,_=!0,x="__ko_mapping__",w=e.dependentObservable,T=0,A=["create","update","key","arrayChanged"],k={},S={include:["_destroy"],ignore:[],copy:[],observe:[]},D=S;t.isMapped=function(t){var i=e.utils.unwrapObservable(t);return i&&i[x]},t.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{T++||(v=[],y=new g);var t,i;2==arguments.length&&(arguments[1][x]?i=arguments[1]:t=arguments[1]),3==arguments.length&&(t=arguments[1],i=arguments[2]),i&&(t=n(t,i[x])),t=o(t);var a=l(i,e,t);if(i&&(a=i),!--T)for(;v.length;){var r=v.pop();r&&(r(),r.__DO.throttleEvaluation=r.throttleEvaluation)}return a[x]=n(a[x],t),a}catch(s){throw T=0,s}},t.fromJSON=function(i){var a=e.utils.parseJson(i);return arguments[0]=a,t.fromJS.apply(this,arguments)},t.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},t.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},t.toJS=function(i,a){if(D||t.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==t.getType(D.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==t.getType(D.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==t.getType(D.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return a=o(a,i[x]),t.visitModel(i,function(t){return e.utils.unwrapObservable(t)},a)},t.toJSON=function(i,a){var n=t.toJS(i,a);return e.utils.stringifyJson(n)},t.defaultOptions=function(){return arguments.length>0?void(D=arguments[0]):D},t.resetDefaultOptions=function(){D={include:S.include.slice(0),ignore:S.ignore.slice(0),copy:S.copy.slice(0)}},t.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},t.visitModel=function(i,a,n){n=n||{},n.visitedObjects=n.visitedObjects||new g;var r,s=e.utils.unwrapObservable(i);if(!m(s))return a(i,n.parentName);n=o(n,s[x]),a(i,n.parentName),r="array"===t.getType(s)?[]:{},n.visitedObjects.save(i,r);var l=n.parentName;return h(s,function(i){if(!n.ignore||-1==e.utils.arrayIndexOf(n.ignore,i)){
var o=s[i];if(n.parentName=f(l,s,i),-1!==e.utils.arrayIndexOf(n.copy,i)||-1!==e.utils.arrayIndexOf(n.include,i)||!s[x]||!s[x].mappedProperties||s[x].mappedProperties[i]||!s[x].copiedProperties||s[x].copiedProperties[i]||"array"===t.getType(s)){switch(t.getType(e.utils.unwrapObservable(o))){case"object":case"array":case"undefined":var c=n.visitedObjects.get(o);r[i]="undefined"!==t.getType(c)?c:t.visitModel(o,a,n);break;default:r[i]=a(o,n.parentName)}}}}),r}}),define("herocalc_knockout",["require","exports","module","knockout","jquery","knockout-mapping"],function(e,t,i){"use strict";var a=e("knockout"),n=e("jquery");return a.mapping=e("knockout-mapping"),a.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},a.virtualElements.allowedBindings.stopBinding=!0,a.bindingHandlers.lazyBinding={init:function(e,t,i,n,o){return a.utils.domData.set(e,"isBound",!1),{controlsDescendantBindings:!0}},update:function(e,t,i,n,o){var r=a.unwrap(t()),s=a.utils.domData.get(e,"isBound");r&&!s&&(a.utils.domData.set(e,"isBound",!0),a.applyBindingsToDescendants(o,e))}},a.virtualElements.allowedBindings.lazyBinding=!0,a.bindingHandlers.itemBuildTable={init:function(e,t,i,o,r){var s=a.unwrap(t()),l=(n(e),{});a.utils.domData.set(e,"pressedKeys",l);var c=function(t){var i=a.utils.domData.get(e,"pressedKeys");i[t.which]=!0,a.utils.domData.set(e,"pressedKeys",i)};a.utils.domData.set(e,"keyDownHandler",c);var d=function(t){var i=a.utils.domData.get(e,"pressedKeys");if(i[17]&&i[67]||i[17]&&i[86]){var o=n(e).find(".hover-cursor:hover");1==o.length&&(i[67]?s.copyInventoryToClipBoard(n("tr",n(e)).index(o[0])):s.pasteInventoryFromClipBoard(n("tr",n(e)).index(o[0])),o.fadeOut(50).fadeIn(50))}delete i[t.which],a.utils.domData.set(e,"pressedKeys",i)};a.utils.domData.set(e,"keyUpHandler",d),n(document).bind("keydown",c),n(document).bind("keyup",d),a.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=a.utils.domData.get(e,"keyDownHandler"),i=a.utils.domData.get(e,"keyUpHandler");n(document).unbind("keydown",t),n(document).unbind("keyup",i)})}},a.bindingHandlers.preventBubble={init:function(e,t){var i=a.utils.unwrapObservable(t());a.utils.registerEventHandler(e,i,function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})}},a.bindingHandlers.toggle={init:function(e,t){var i=t();a.applyBindingsToNode(e,{click:function(){i(!i())}})}},a.bindingHandlers.shopDockStyle={init:function(e,t,i,n,o){a.utils.unwrapObservable(t());o.$data.shopDock()&&!o.$data.shopPopout()?a.applyBindingsToNode(e,{style:{height:o.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):a.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})},update:function(e,t,i,n,o){a.utils.unwrapObservable(t());o.$data.shopDock()&&!o.$data.shopPopout()?a.applyBindingsToNode(e,{style:{height:o.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):a.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})}},a.bindingHandlers.logger={update:function(e,t,i){var n=a.utils.domData.get(e,"_ko_logger")||0,o=a.toJS(t()||i());a.utils.domData.set(e,"_ko_logger",++n),window.console&&console.log&&console.log(n,e,o)}},a.bindingHandlers.tooltip={update:function(e,t,i,o,r){var s,l,c;if(l=a.utils.unwrapObservable(t()),s=n(e),a.isObservable(l.title)){var d=!1;s.on("show.bs.tooltip",function(){d=!0}),s.on("hide.bs.tooltip",function(){d=!1});var u=l.animation||!0;l.title.subscribe(function(){d&&(s.data("bs.tooltip").options.animation=!1,s.tooltip("fixTitle").tooltip("show"),s.data("bs.tooltip").options.animation=u)})}c=s.data("bs.tooltip"),c?n.extend(c.options,l):s.tooltip(l)}},a.bindingHandlers.popover={init:function(e,t,i,o,r){var s=n(e),l=a.utils.unwrapObservable(t()),c=l.template||!1,d=l.options||{title:"popover"},u=l.data||!1;return c!==!1&&(u?d.content="<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->":d.content=n("#"+c).html(),d.html=!0),s.on("shown.bs.popover",function(e){var t=n(e.target).data(),i=t["bs.popover"].$tip,o=t["bs.popover"].options||{},s=n(e.target),l=s.position(),d={x:s.outerWidth(),y:s.outerHeight()};u&&a.applyBindingsToNode(i[0],{template:{name:c,data:u}},r);var p={x:i.outerWidth(),y:i.outerHeight()};switch(i.find('button[data-dismiss="popover"]').click(function(){s.popover("hide")}),o.placement){case"right":i.css({left:d.x+l.left,top:d.y/2+l.top-p.y/2});break;case"left":i.css({left:l.left-p.x,top:d.y/2+l.top-p.y/2});break;case"top":i.css({left:l.left+(d.x/2-p.x/2),top:l.top-p.y});break;case"bottom":i.css({left:l.left+(d.x/2-p.x/2),top:l.top+d.y})}}),s.popover(d),{controlsDescendantBindings:!0}}},a.bindingHandlers.chart={init:function(e,t,i,o,r){var s=n("<canvas/>"),l=a.utils.unwrapObservable(t()),c=s[0].getContext("2d"),d=i().chartType,u=i().chartOptions||{},p=i().chartContext;n(e).append(s);var h=new Chart(c)[d](l,u);a.utils.domData.set(e,"myChart",h),a.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=a.utils.domData.get(e,"myChart");t.clear(),t.destroy()}),p&&p(c)},update:function(e,t,i,o,r){var s=n("<canvas/>").width(730).height(365),l=a.utils.unwrapObservable(t()),c=s[0].getContext("2d"),d=i().chartType,u=i().chartOptions||{},p=i().chartContext,h=a.utils.domData.get(e,"myChart");h&&(h.clear(),h.destroy()),r.$root.displayShop(),r.$root.sideView(),r.$root.shopDock(),n(e).empty(),n(e).append(s),l.datasets.length>0&&(h=new Chart(c)[d](l,u),a.utils.domData.set(e,"myChart",h)),p&&p(c)}},a.bindingHandlers.spinner={init:function(e,t,i){var o=i().spinnerOptions||{};n(e).spinner(o),a.utils.registerEventHandler(e,"spinchange",function(){var i=t();i(n(e).spinner("value"))}),a.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).spinner("destroy")})},update:function(e,t){var i=a.utils.unwrapObservable(t()),o=n(e).spinner("value");i!==o&&n(e).spinner("value",i)}},a.bindingHandlers.secondTab={update:function(e,t,i,n,o){var r=o.$root,s=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{css:{"second-tab":r.isSecondTab(s)&&r.sideView()}})}},a.bindingHandlers.hoverTab={update:function(e,t,i,n,o){var r=o.$root,s=a.utils.unwrapObservable(t());a.utils.registerEventHandler(e,"mouseover",function(){r.highlightTab(s)}),a.utils.registerEventHandler(e,"mouseout",function(){r.unhighlightTab(s)})}},a.bindingHandlers.hoverPaneStyle={init:function(e,t,i,n,o){var r=o.$root,s=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{style:{opacity:r.sideView()&&r.highlightedTab()!=s&&""!=r.highlightedTab()?.5:1}})},update:function(e,t,i,n,o){var r=o.$root,s=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{style:{opacity:r.sideView()&&r.highlightedTab()!=s&&""!=r.highlightedTab()?.5:1}})}},a.bindingHandlers.diffStyle={init:function(e,t,i,n){var o=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})},update:function(e,t,i,n){var o=a.utils.unwrapObservable(t());a.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})}},a.bindingHandlers.diffCss={init:function(e,t,i,n){var o=a.utils.unwrapObservable(t()),r=i().diffCssStat;("attackTime"==r||"bat"==r)&&(o=-o),a.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})},update:function(e,t,i,n){var o=a.utils.unwrapObservable(t()),r=i().diffCssStat;("attackTime"==r||"bat"==r)&&(o=-o),a.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})}},a.bindingHandlers.jqAuto={init:function(e,t,i,o){function r(e){a.isWriteableObservable(d)?d(e):l._ko_property_writers&&l._ko_property_writers.jqAutoValue&&l._ko_property_writers.jqAutoValue(e)}var s=t()||{},l=i(),c=a.utils.unwrapObservable,d=l.jqAutoValue,u=l.jqAutoSource,p=l.jqAutoSourceValue,h=l.jqAutoSourceInputValue||p,m=l.jqAutoSourceLabel||p;s.select=function(e,t){r(t.item?t.item.actualValue:null)},s.change=function(t,i){var o=n(e).val(),s=a.utils.arrayFirst(c(u),function(e){return c(e[h])===o});s||r(null)};var f=a.dependentObservable(function(){var e=a.utils.arrayMap(c(u),function(e){var t={};return t.label=m?c(e[m]):c(e).toString(),t.value=h?c(e[h]):c(e).toString(),t.actualValue=p?c(e[p]):e,t});return e});f.subscribe(function(t){n(e).autocomplete("option","source",t)}),s.source=f(),s.minLength=1,n(e).autocomplete(s)},update:function(e,t,i,o){var r=i(),s=a.utils.unwrapObservable,l=s(r.jqAutoValue)||"",c=r.jqAutoSourceValue,d=r.jqAutoSourceInputValue||c;if(c&&d!==c)var u=s(r.jqAutoSource)||[],l=a.utils.arrayFirst(u,function(e){return s(e[c])===l})||{};n(e).val(l&&d!==c?s(l[d]):l.toString())}},a.bindingHandlers.jqAutoCombo={init:function(e,t){var i=n("#"+t());n(e).click(function(){return i.autocomplete("widget").is(":visible")?void i.autocomplete("close"):(i.autocomplete("search"," "),void i.focus())})}},a.extenders.numeric=function(e,t){var i=a.computed({read:e,write:function(i){var a=e(),n=Math.pow(10,t),o=isNaN(i)?0:parseFloat(+i),r=Math.round(o*n)/n;r!==a?e(r):i!==a&&e.notifySubscribers(r)}}).extend({notify:"always"});return i(e()),i},a}),define("herocalc/herocalc_inventory",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.stackableItems=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"],n.prototype.levelitems=["necronomicon","dagon","diffusal_blade","travel_boots"],n.prototype.validItems=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"],n.prototype.itemsWithActive=["heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn"],n.prototype.ItemInput=function(e,t,i){if(n.prototype.itemData["item_"+e].ItemAliases instanceof Array)var o=n.prototype.itemData["item_"+e].ItemAliases.join(" ");else var o=n.prototype.itemData["item_"+e].ItemAliases;this.value=a.observable(e),this.debuff=a.observable(i),this.debuff()?(this.value=a.observable(e+"|"+i.id),this.name=a.observable(t+" ("+i.name+")"),this.displayname=a.observable(t+" ("+i.name+') <span style="display:none">;'+o+"</span>")):(this.value=a.observable(e),this.name=a.observable(t),this.displayname=a.observable(t+' <span style="display:none">;'+o+"</span>"))},n.prototype.BasicInventoryViewModel=function(e){var t=this;t.items=a.observableArray([]),t.activeItems=a.observableArray([]),t.addItem=function(e,i){if(void 0!=e.selectedItem()){var n={item:e.selectedItem().split("|")[0],state:a.observable(0),size:e.itemInputValue(),enabled:a.observable(!0)};switch(n.item){case"dagon":n.size=Math.min(n.size,5);break;case"travel_boots":case"diffusal_blade":n.size=Math.min(n.size,2);break;case"necronomicon":n.size=Math.min(n.size,3)}t.items.push(n),("ring_of_aquila"===e.selectedItem()||"ring_of_basilius"===e.selectedItem()||"heart"===e.selectedItem())&&t.toggleItem(void 0,n,void 0)}},t.toggleItem=function(e,i,a){if(n.prototype.itemsWithActive.indexOf(i.item)>=0)switch(t.activeItems.indexOf(i)<0?t.activeItems.push(i):t.activeItems.remove(i),i.item){case"power_treads":i.state()<2?i.state(i.state()+1):i.state(0);break;default:0==i.state()?i.state(1):i.state(0)}}.bind(this),t.removeItem=function(e){t.activeItems.remove(e),t.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.getItemImage=function(e){var t=a.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},t.getItemSizeLabel=function(e){return-1!=n.prototype.stackableItems.indexOf(e.item)?'<span style="font-size:10px">Qty: </span>'+e.size:-1!=n.prototype.levelitems.indexOf(e.item)?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},t.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return a.utils.unwrapObservable(e.state)}},t.removeAll=function(){t.activeItems.removeAll(),t.items.removeAll()}.bind(this)},n.prototype.InventoryViewModel=function(e){var t=new n.prototype.BasicInventoryViewModel;t.hero=e,t.hasInventory=a.observable(!0),t.items=a.observableArray([]),t.activeItems=a.observableArray([]),t.hasScepter=a.computed(function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item;if("ultimate_scepter"===i&&t.items()[e].enabled())return!0}return!1},this),t.isEthereal=a.computed(function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item,a=t.activeItems.indexOf(t.items()[e])>=0?!0:!1;if(("ghost"===i||"ethereal_blade"===i)&&t.items()[e].enabled()&&a)return!0}return!1},this),t.isSheeped=a.computed(function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item,a=t.activeItems.indexOf(t.items()[e])>=0?!0:!1;if("sheepstick"===i&&t.items()[e].enabled()&&a)return!0}return!1},this),t.totalCost=a.computed(function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())if(-1!=n.prototype.stackableItems.indexOf(a))e+=n.prototype.itemData["item_"+a].itemcost*t.items()[i].size;else if(-1!=n.prototype.levelitems.indexOf(a))switch(a){case"diffusal_blade":e+=n.prototype.itemData["item_"+a].itemcost+700*(t.items()[i].size-1);break;case"necronomicon":case"dagon":e+=n.prototype.itemData["item_"+a].itemcost+1250*(t.items()[i].size-1);break;default:e+=n.prototype.itemData["item_"+a].itemcost}else e+=n.prototype.itemData["item_"+a].itemcost}return e},this),t.addItemBuff=function(e,i){if(t.hasInventory()&&void 0!=t.selectedItemBuff()){var n={item:t.selectedItemBuff(),state:a.observable(0),size:1,enabled:a.observable(!0)};t.items.push(n),("ring_of_aquila"===t.selectedItemBuff()||"ring_of_basilius"===t.selectedItemBuff())&&t.toggleItem(void 0,n,void 0)}},t.addItemDebuff=function(e,i){if(t.hasInventory()&&void 0!=t.selectedItemDebuff()){var n={item:t.selectedItemDebuff().split("|")[0],state:a.observable(0),size:1,enabled:a.observable(!0)};2==t.selectedItemDebuff().split("|").length&&(n.debuff=t.selectedItemDebuff().split("|")[1]),t.items.push(n),("ring_of_aquila"===t.selectedItemDebuff()||"ring_of_basilius"===t.selectedItemDebuff())&&t.toggleItem(void 0,n,void 0)}},t.getItemAttributeValue=function(e,t,i){for(var a=0;a<e.length;a++)if(e[a].name==t)return 0==i?parseFloat(e[a].value[0]):i>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[i-1])},t.getAttributes=function(e){for(var i=0,a=0;a<t.items().length;a++){var o=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=t.items()[a].size,l=0;l<n.prototype.itemData["item_"+o].attributes.length;l++){var c=n.prototype.itemData["item_"+o].attributes[l];switch(c.name){case"bonus_all_stats":i+=parseInt(c.value[0]);break;case"bonus_stats":i+=parseInt(c.value[0])}switch(e){case"agi":"bonus_agility"==c.name&&(i+="diffusal_blade"==o?parseInt(c.value[s-1]):parseInt(c.value[0])),"bonus_stat"==c.name&&2==t.items()[a].state()&&(i+=parseInt(c.value[0])),"bonus_agi"==c.name&&(i+=parseInt(c.value[0]));break;case"int":"bonus_intellect"==c.name&&(i+="necronomicon"==o?parseInt(c.value[s-1]):"diffusal_blade"==o?parseInt(c.value[s-1]):"dagon"==o?parseInt(c.value[s-1]):parseInt(c.value[0])),"bonus_intelligence"==c.name&&(i+=parseInt(c.value[0])),"bonus_int"==c.name&&(i+=parseInt(c.value[0])),"bonus_stat"==c.name&&1==t.items()[a].state()&&(i+=parseInt(c.value[0]));break;case"str":"bonus_strength"==c.name&&(i+="necronomicon"==o?parseInt(c.value[s-1]):parseInt(c.value[0])),"bonus_stat"==c.name&&0==t.items()[a].state()&&(i+=parseInt(c.value[0])),"bonus_str"==c.name&&(i+=parseInt(c.value[0])),"unholy_bonus_strength"==c.name&&r&&(i+=parseInt(c.value[0]))}}}return i},t.getBash=function(e){for(var i=1,a=0;a<t.items().length;a++){var o=t.items()[a].item;if(t.items()[a].enabled())for(var r=0;r<n.prototype.itemData["item_"+o].attributes.length;r++){var s=n.prototype.itemData["item_"+o].attributes[r];switch(s.name){case"bash_chance":i*=1-parseInt(s.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==e&&(i*=1-parseInt(s.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&(i*=1-parseInt(s.value[0])/100)}}}return i},t.getCritChance=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"crit_chance":e*=1-parseInt(r.value[0])/100}}}return e},t.getCritSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled()){switch(a){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==e[a]?e[a]={chance:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"crit_chance",0)/100,multiplier:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"crit_multiplier",0)/100,count:1,displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}"bloodthorn"===a&&o&&(void 0==e.soul_rend?e.soul_rend={chance:1,multiplier:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:e.soul_rend.count+=1)}}return e},t.getCleaveSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())switch(a){case"bfury":void 0==e[a]?e[a]={radius:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"cleave_radius",0),magnitude:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"cleave_damage_percent",0)/100,count:1,displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}}return e},t.getBashSource=function(e){for(var i={},a=0;a<t.items().length;a++){var o=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())switch(o){case"javelin":void 0==i[o]?i[o]={damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance",1)/100,displayname:n.prototype.itemData["item_"+o].displayname+" Pierce"}:i[o].count+=1;break;case"monkey_king_bar":void 0==i[o]?i[o]={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_chance",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_damage",0),duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:i[o].count+=1;break;case"abyssal_blade":case"basher":i.hasOwnProperty("bash")||(i.bash={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==e?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance_damage",0),duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return i},t.getOrbProcSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())switch(a){case"maelstrom":case"mjollnir":void 0==e[a]?e[a]={chance:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"chain_chance",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}}return e},t.getOrbSource=function(){for(var e={},i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())switch(a){case"diffusal_blade":void 0==e[a]?e[a]={chance:1,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+a].attributes,"feedback_mana_burn",t.items()[i].size),count:1,damageType:"physical",displayname:n.prototype.itemData["item_"+a].displayname}:e[a].count+=1}}return e},t.getHealth=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_health":e+=parseInt(r.value[0])}}}return e},t.getHealthRegen=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"health_regen":case"bonus_regen":e+=parseInt(s.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=a||o?"tranquil_boots"!=a&&(e+=parseInt(s.value[0])):e+=parseInt(s.value[0]);break;case"hp_regen":e+=parseInt(s.value[0]);break;case"health_regen_rate":"heart"==a&&o&&(e+=parseInt(s.value[0])/100*t.hero.health())}}}return e},t.getHealthRegenAura=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var l=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(r+l.name)>-1))switch(l.name){case"aura_health_regen":i+=parseInt(l.value[0]),a.push(r+l.name)}}}return{value:i,excludeList:a}},t.getMana=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_mana":e+=parseInt(r.value[0])}}}return e},t.getManaRegen=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"aura_mana_regen":case"mana_regen_aura":e+=parseFloat(r.value[0]);break;case"mana_regen":"infused_raindrop"==a&&(e+=parseFloat(r.value[0]))}}}return e},t.getManaRegenPercent=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=a&&(e+=parseFloat(r.value[0]))}}}return e/100},t.getManaRegenBloodstone=function(){for(var e=0;e<t.items().length;e++){var i=t.items()[e].item;if(t.items()[e].enabled()&&-1!=i.indexOf("bloodstone"))return parseInt(t.items()[e].size)}return 0},t.getArmor=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"bonus_armor":o&&"medallion_of_courage"==a||(e+=parseInt(s.value[0]));break;case"unholy_bonus_armor":o&&"armlet"==a&&(e+=parseInt(s.value[0]))}}}return e},t.getArmorAura=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item,s=t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+r].attributes.length;l++){var c=n.prototype.itemData["item_"+r].attributes[l];if(!a.find(function(e){return c.name==e.name}))switch(c.name){case"bonus_aoe_armor":s&&a.push({name:c.name,value:parseInt(c.value[0])});break;case"aura_positive_armor":a.push({name:c.name,value:parseInt(c.value[0])});break;case"aura_bonus_armor":s&&a.push({name:c.name,value:parseInt(c.value[0])});break;case"armor_aura":a.push({name:c.name,value:parseInt(c.value[0])});break;case"heal_bonus_armor":s&&a.push({name:c.name,value:parseInt(c.value[0])})}}}return a.find(function(e){return"heal_bonus_armor"==e.name})&&(a=a.filter(function(e){return"bonus_aoe_armor"!==e.name})),a.find(function(e){return"armor_aura"==e.name})&&(a=a.filter(function(e){return"aura_bonus_armor"!==e.name})),i=a.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:a}},t.getArmorReduction=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var l=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(l.name)>-1||a.indexOf(r+"_"+l.name)>-1))switch(l.name){case"armor_reduction":i+=parseInt(l.value[0]),a.push(r+"_"+l.name);break;case"aura_negative_armor":i+=parseInt(l.value[0]),a.push(l.name);break;case"corruption_armor":i+=parseInt(l.value[0]),a.push(l.name)}}}return{value:i,excludeList:a}},t.getEvasion=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"bonus_evasion":"butterfly"==a&&o||(e*=1-parseInt(s.value[0])/100)}}}return e},t.getMovementSpeedFlat=function(){for(var e=0,i=!1,a=!1,o=!1,r=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],s=0;s<t.items().length;s++){var l=t.items()[s].item,c=t.activeItems.indexOf(t.items()[s])>=0?!0:!1;if(t.items()[s].enabled())for(var d=0;d<n.prototype.itemData["item_"+l].attributes.length;d++){var u=n.prototype.itemData["item_"+l].attributes[d];switch(u.name){case"bonus_movement_speed":!i&&r.indexOf(l)>=0?("tranquil_boots"!=l||"tranquil_boots"==l&&!c)&&(e+=parseInt(u.value[0]),i=!0):"cyclone"==l&&(e+=parseInt(u.value[0]),a=!0);break;case"broken_movement_speed":!i&&r.indexOf(l)>=0&&"tranquil_boots"==l&&c&&(e+=parseInt(u.value[0]),i=!0);break;case"bonus_movement":!i&&r.indexOf(l)>=0&&(e+=parseInt(u.value[0]),i=!0);break;case"movement_speed":o||"wind_lace"!=l||(e+=parseInt(u.value[0]),o=!0)}}}return e},t.getMovementSpeedPercent=function(e){for(var i=0,a=e||[],o=!1,r=!1,s=!1,l=!1,c=!1,d=!1,u=!1,p=["manta","yasha","sange_and_yasha"],h=0;h<t.items().length;h++){var m=t.items()[h].item,f=t.activeItems.indexOf(t.items()[h])>=0?!0:!1;if(t.items()[h].enabled())for(var b=0;b<n.prototype.itemData["item_"+m].attributes.length;b++){var g=n.prototype.itemData["item_"+m].attributes[b];if(!(a.indexOf(g.name)>-1))switch(g.name){case"movement_speed_percent_bonus":!o&&p.indexOf(m)>=0&&(i+=parseInt(g.value[0]),o=!0);break;case"bonus_aura_movement_speed_pct":r||"ancient_janggo"!=m||(i+=parseInt(g.value[0]),r=!0,a.push(g.name));break;case"phase_movement_speed":f&&!l&&(i+=parseInt(g.value[0]),l=!0);break;case"bonus_movement_speed_pct":f&&!s&&"ancient_janggo"==m&&(i+=parseInt(g.value[0]),s=!0,a.push(g.name));break;case"windwalk_movement_speed":!f||c||"invis_sword"!=m&&"silver_edge"!=m||(i+=parseInt(g.value[0]),c=!0);break;case"berserk_bonus_movement_speed":f&&!u&&"mask_of_madness"==m&&(i+=parseInt(g.value[0]),u=!0);break;case"bonus_movement_speed":o||"manta"!=m?"smoke_of_deceit"==m&&f&&(i+=parseInt(g.value[0])):(i+=parseInt(g.value[0]),o=!0);break;case"bonus_move_speed":f&&!d&&"butterfly"==m&&(i+=parseInt(g.value[0]),d=!0)}}}return{value:i/100,excludeList:a}},t.getMovementSpeedPercentReduction=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item,s=t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+r].attributes.length;l++){var c=n.prototype.itemData["item_"+r].attributes[l];if(!(a.indexOf(c.name)>-1))switch(c.name){case"movespeed":"dust"==r&&s&&(i+=parseInt(c.value[0]));case"blast_movement_speed":"shivas_guard"==r&&s&&(i+=parseInt(c.value[0]),a.push(c.name));case"cold_movement_speed":"skadi"==r&&(i+=parseInt(c.value[0]));break;case"maim_movement_speed":t.items()[o].debuff&&"maim"==t.items()[o].debuff&&(i+=parseInt(c.value[0]),a.push(c.name))}}}return{value:i/100,excludeList:a}},t.getBonusDamage=function(){for(var e=0,i={},a=0;a<t.items().length;a++){var o=t.items()[a].item,r=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=0;s<n.prototype.itemData["item_"+o].attributes.length;s++){var l=n.prototype.itemData["item_"+o].attributes[s];switch(l.name){case"bonus_damage":e+=parseInt(l.value[0]),void 0==i[o]?i[o]={damage:parseInt(l.value[0]),damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+o].displayname}:i[o].count+=1;break;case"unholy_bonus_damage":r&&(e+=parseInt(l.value[0]),void 0==i[o+"_active"]?i[o+"_active"]={damage:parseInt(l.value[0]),damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+o].displayname+" Unholy Strength"}:i[o].count+=1)}}}return{sources:i,total:e}},t.getBonusDamagePercent=function(e){e=e||{sources:{},total:0};for(var i=e.total||0,a=e.sources||{},o=0;o<t.items().length;o++){
var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var l=n.prototype.itemData["item_"+r].attributes[s];switch(l.name){case"damage_aura":void 0==a[r]&&(i+=parseInt(l.value[0])/100,a[r]={damage:parseInt(l.value[0])/100,damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+r].displayname})}}}return{sources:a,total:i}},t.getAttackSpeed=function(e){for(var i=0,a=!1,o=e||[],r=0;r<t.items().length;r++){var s=t.items()[r].item,l=t.activeItems.indexOf(t.items()[r])>=0?!0:!1;if(t.items()[r].enabled())for(var c=0;c<n.prototype.itemData["item_"+s].attributes.length;c++){var d=n.prototype.itemData["item_"+s].attributes[c];if(!(o.indexOf(d.name)>-1))switch(d.name){case"bonus_attack_speed":"power_treads"==s?a||(i+=parseInt(d.value[0]),a=!0):"moon_shard"==s?l||(i+=parseInt(d.value[0])):i+=parseInt(d.value[0]);break;case"consumed_bonus":"moon_shard"==s&&l&&(i+=parseInt(d.value[0]));break;case"bonus_speed":i+=parseInt(d.value[0]);break;case"aura_attack_speed":"shivas_guard"!=s&&(i+=parseInt(d.value[0]));break;case"bonus_aura_attack_speed_pct":i+=parseInt(d.value[0]),o.push(d.name);break;case"bonus_attack_speed_pct":l&&(i+=parseInt(d.value[0]),o.push(d.name));break;case"unholy_bonus_attack_speed":l&&(i+=parseInt(d.value[0]));break;case"berserk_bonus_attack_speed":l&&(i+=parseInt(d.value[0]))}}}return{value:i,excludeList:o}},t.getAttackSpeedReduction=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var l=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(l.name)>-1))switch(l.name){case"aura_attack_speed":"shivas_guard"==r&&(i+=parseInt(l.value[0]),a.push(l.name));break;case"cold_attack_speed":"skadi"==r&&(i+=parseInt(l.value[0]),a.push(l.name));break;case"maim_attack_speed":t.items()[o].debuff&&"maim"==t.items()[o].debuff&&(i+=parseInt(l.value[0]),a.push(l.name))}}}return{value:i,excludeList:a}},t.getLifesteal=function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"lifesteal_percent":if("satanic"!=a)return parseInt(s.value[0]);if(!o)return parseInt(s.value[0]);break;case"unholy_lifesteal_percent":if(o)return parseInt(s.value[0])}}}return e},t.getLifestealAura=function(e){for(var i=0,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var l=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(l.name)>-1))switch(l.name){case"vampiric_aura":i+=parseInt(l.value[0]),a.push(l.name)}}}return{value:i,excludeList:a}},t.getMagicResist=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"bonus_magical_armor":e*=1-parseInt(r.value[0])/100;break;case"bonus_spell_resist":e*=1-parseInt(r.value[0])/100;break;case"magic_resistance":e*=1-parseInt(r.value[0])/100}}}return e},t.getMagicResistReductionSelf=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled()&&o)for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(s.value[0])/100}}}return e},t.getMagicResistReduction=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled()&&o)for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"ethereal_damage_bonus":t.isEthereal()||(e*=1-parseInt(s.value[0])/100);case"resist_debuff":e*=1-parseInt(s.value[0])/100}}}return e},t.getVisionRangeNight=a.computed(function(){for(var e=0,i=0;i<t.items().length;i++){var a=t.items()[i].item,o=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var r=0;r<n.prototype.itemData["item_"+a].attributes.length;r++){var s=n.prototype.itemData["item_"+a].attributes[r];switch(s.name){case"bonus_night_vision":"moon_shard"==a&&o||(e+=parseInt(s.value[0]))}}}return e}),t.getAttackRange=function(e,i){for(var a=0,o=i||[],r=0;r<t.items().length;r++){var s=t.items()[r].item;t.activeItems.indexOf(t.items()[r])>=0?!0:!1;if(t.items()[r].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var c=n.prototype.itemData["item_"+s].attributes[l];if(!o.find(function(e){return c.name==e.name}))switch(c.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&o.push({name:c.name,value:parseInt(c.value[0])})}}}return a=o.reduce(function(e,t){return e+=t.value},0),{value:a,attributes:o}},t.getMissChance=function(e){for(var i=1,a=e||[],o=0;o<t.items().length;o++){var r=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var s=0;s<n.prototype.itemData["item_"+r].attributes.length;s++){var l=n.prototype.itemData["item_"+r].attributes[s];if(!(a.indexOf(l.name)>-1))switch(l.name){case"miss_chance":i*=1-parseInt(l.value[0])/100,a.push(l.name);break;case"blind_pct":i*=1-parseInt(l.value[0])/100,a.push(l.name)}}}return{value:i,excludeList:a}},t.getBaseDamageReductionPct=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"backstab_reduction":t.items()[i].debuff&&"shadow_walk"==t.items()[i].debuff&&(e*=1+parseInt(r.value[0])/100)}}}return e},t.getBonusDamageReductionPct=function(){for(var e=1,i=0;i<t.items().length;i++){var a=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var o=0;o<n.prototype.itemData["item_"+a].attributes.length;o++){var r=n.prototype.itemData["item_"+a].attributes[o];switch(r.name){case"backstab_reduction":t.items()[i].debuff&&"shadow_walk"==t.items()[i].debuff&&(e*=1+parseInt(r.value[0])/100)}}}return e},t.itemOptions=a.observableArray([]);for(var i=[],o=0;o<n.prototype.validItems.length;o++)i.push(new n.prototype.ItemInput(n.prototype.validItems[o],n.prototype.itemData["item_"+n.prototype.validItems[o]].displayname));t.itemOptions.push.apply(t.itemOptions,i);var r=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"];t.itemBuffOptions=a.observableArray(r.map(function(e){return new n.prototype.ItemInput(e,n.prototype.itemData["item_"+e].displayname)})),t.selectedItemBuff=a.observable("assault");var s=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}];return t.itemDebuffOptions=a.observableArray(s.map(function(e){return new n.prototype.ItemInput(e.item,n.prototype.itemData["item_"+e.item].displayname,e.debuff)})),t.selectedItemDebuff=a.observable("assault"),t}}),define("herocalc/herocalc_tooltips",["require","exports","module","jquery","./herocalc_core"],function(e,t,i){"use strict";var a=e("jquery"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.itemtooltipdata={},n.prototype.ability_vars={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},n.prototype.abilityTooltipData={},n.prototype.abilityDamageTypes={DAMAGE_TYPE_MAGICAL:"Magical",DAMAGE_TYPE_PURE:"Pure",DAMAGE_TYPE_PHYSICAL:"Physical",DAMAGE_TYPE_COMPOSITE:"Composite",DAMAGE_TYPE_HP_REMOVAL:"HP Removal"},n.prototype.getTooltipItemDescription=function(e){for(var t=e.description,i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],o=1;o<e.attributes[i].value.length;o++)n+=" / "+e.attributes[i].value[o];var r=new RegExp("%"+a+"%","gi");t=t.replace(r,n)}var r=new RegExp("%%","gi");return t=t.replace(r,"%"),r=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},n.prototype.getTooltipItemAttributes=function(e){for(var t="",i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].tooltip){for(var a=e.attributes[i].tooltip,o=e.attributes[i].value[0],r=1;r<e.attributes[i].value.length;r++)o+=" / "+e.attributes[i].value[r];var s=a.indexOf("%");0==s&&(o+="%",a=a.slice(1));var l=a.indexOf("$");t=-1!=l?t+a.slice(0,l)+" "+o+" "+n.prototype.ability_vars[a.slice(l)]+"<br>":t+a+" "+o+"<br>"}return t.trim("<br>")},n.prototype.getTooltipItemCooldown=function(e){for(var t="",i=0;i<e.cooldown.length;i++)t=t+" "+e.cooldown[i];return t},n.prototype.getTooltipItemManaCost=function(e){for(var t="",i=0;i<e.manacost.length;i++)e.manacost[i]>0&&(t=t+" "+e.manacost[i]);return t},n.prototype.getItemTooltipData=function(e){if(void 0!=n.prototype.itemData["item_"+e]){if(void 0==n.prototype.itemtooltipdata[e]){var t=n.prototype.itemData["item_"+e],i=a("<div>");i.append(a("<span>").html(t.displayname).addClass("item_field item_name")),i.append(a("<span>").html(t.itemcost).addClass("item_field item_cost")),i.append(a("<hr>")),null!=t.description&&i.append(a("<div>").html(n.prototype.getTooltipItemDescription(t)).addClass("item_field item_description"));var o=n.prototype.getTooltipItemAttributes(t);""!=o&&i.append(a("<div>").html(o).addClass("item_field item_attributes"));var r=n.prototype.getTooltipItemCooldown(t),s=n.prototype.getTooltipItemManaCost(t);if(""!=r||""!=s){var l=a("<div>").addClass("item_cdmana");""!=r&&l.append(a("<span>").html(r).addClass("item_field item_cooldown")),""!=s&&l.append(a("<span>").html(s).addClass("item_field item_manacost")),i.append(l)}return null!=t.lore&&i.append(a("<div>").html(t.lore).addClass("item_field item_lore")),n.prototype.itemtooltipdata[e]=i.html(),i.html()}return n.prototype.itemtooltipdata[e]}},n.prototype.getTooltipAbilityDescription=function(e){for(var t=e.description,i=0;i<e.attributes.length;i++)if(null!=e.attributes[i].name){for(var a=e.attributes[i].name,n=e.attributes[i].value[0],o=1;o<e.attributes[i].value.length;o++)n+=" / "+e.attributes[i].value[o];r=new RegExp("%"+a+"%","gi"),t=t.replace(r,n)}var r=new RegExp("%%","gi");return t=t.replace(r,"%"),r=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},n.prototype.getTooltipAbilityAttributes=function(e){var t="";if(e.damage.length>0&&e.damage.reduce(function(e,t){return e+t},0)>0){for(var i="DAMAGE: ",a=e.damage[0],n=1;n<e.damage.length;n++)a+=" / "+e.damage[n];t=t+i+" "+a+"<br>"}for(var o=0;o<e.attributes.length;o++)if(null!=e.attributes[o].tooltip){var i=e.attributes[o].tooltip;i=i.replace(/\\n/g,"");for(var a=e.attributes[o].value[0],n=1;n<e.attributes[o].value.length;n++)a+=" / "+e.attributes[o].value[n];var r=i.indexOf("%");if(0==r){if(-1==a.toString().indexOf("/"))a=a.toString().trim()+"%";else{var s=a.split("/"),l=s.map(function(e){return e.trim()});a=l.join("% / ")+"%"}i=i.slice(1)}i.indexOf("$");t=t+i+" "+a+"<br>"}return t.trim("<br>")},n.prototype.getTooltipAbilityManaCost=function(e){var t="";if(0==e.manacost.reduce(function(e,t){return e+t},0))return t;if(e.manacost.every(function(t){return t==e.manacost[0]}))return e.manacost[0].toString();for(var i=0;4>i;i++)null!=e.manacost[i]&&(t=t+" "+e.manacost[i]);return t},n.prototype.getTooltipAbilityCooldown=function(e){var t="";if(0==e.cooldown.reduce(function(e,t){return e+t},0))return t;if(e.cooldown.every(function(t){return t==e.cooldown[0]}))return e.cooldown[0].toString();for(var i=0;4>i;i++)null!=e.cooldown[i]&&(t=t+" "+e.cooldown[i]);return t},n.prototype.getAbilityTooltipData=function(e,t){if(void 0==n.prototype.abilityTooltipData[t]){var i={};if(void 0==n.prototype.heroData[e])for(var o=0;o<n.prototype.unitData[e].abilities.length;o++)n.prototype.unitData[e].abilities[o].name==t&&(i=n.prototype.unitData[e].abilities[o]);else for(var o=0;o<n.prototype.heroData[e].abilities.length;o++)n.prototype.heroData[e].abilities[o].name==t&&(i=n.prototype.heroData[e].abilities[o]);var r=a("<div>");r.append(a("<span>").html(i.displayname).addClass("item_field pull-left item_name")),i.abilityunitdamagetype&&r.append(a("<span>").html(n.prototype.abilityDamageTypes[i.abilityunitdamagetype]).addClass("item_field pull-right item_ability_damage_type").css("margin-right","10px")),r.append(a("<hr>").css("clear","both")),null!=i.description&&r.append(a("<div>").html(n.prototype.getTooltipAbilityDescription(i)).addClass("item_field item_description"));var s=n.prototype.getTooltipAbilityAttributes(i);""!=s&&r.append(a("<div>").html(s).addClass("item_field item_attributes"));var l=n.prototype.getTooltipAbilityCooldown(i),c=n.prototype.getTooltipAbilityManaCost(i);if(""!=l||""!=c){var d=a("<div>").addClass("item_cdmana");""!=c&&d.append(a("<span>").html(c.trim()).addClass("item_field item_manacost")),""!=l&&d.append(a("<span>").html(l.trim()).addClass("item_field item_cooldown")),r.append(d)}return null!=i.lore&&r.append(a("<div>").html(i.lore).addClass("item_field item_lore")),n.prototype.abilityTooltipData[t]=r.html(),r.html()}return n.prototype.abilityTooltipData[t]}}),define("herocalc/herocalc_abilitydata",["require","exports","module","./herocalc_core"],function(e,t,i){"use strict";var a=e("./herocalc_core").HEROCALCULATOR;a.prototype.abilityData={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(e,t){return-t},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(e,t){return e*t/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(e,t){return t}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")+e*t}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,i,a){return i.inventory.hasScepter()?e[0]*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"fiend_grip_damage_scepter",i.ability().abilities()[a].level()):e[0]*t}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(e,t,i,a){return i.inventory.hasScepter()?e[0]*e[1]*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"fiend_grip_mana_drain_scepter",i.ability().abilities()[a].level())/100:e[0]*e[1]*t/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return e*t},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(e,t){return t},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")+e*t/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n){return-(n.getAbilityAttributeValue(n.abilities()[a].attributes(),"base_move_slow",0)+e*t)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(e,t,i,a){var n=i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"quill_base_damage",i.ability().abilities()[a].level())+e*t,o=i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"max_damage",0);return n>o&&(n=o),n}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){var n=this.abilities().find(function(e){return"bristleback_bristleback"==e.name()});if("back"==e)var o=this.getAbilityAttributeValue(n.attributes(),"back_damage_reduction",n.level());else var o=this.getAbilityAttributeValue(n.attributes(),"side_damage_reduction",n.level());return-o},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return 1>e?0:i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"base_damage",i.ability().abilities()[a].level())+(e-1)*t}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return 1>e?0:i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"base_move_speed",i.ability().abilities()[a].level())+(e-1)*t},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"return_damage",i.ability().abilities()[a].level())+e*t/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return-t},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-e*t},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(e,t){return e*t/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){var n=.25*(130+40*i.ability().abilities()[a].level())*.05,o=4*e*(4*e+1)/2;return n*o}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a){return i.inventory.hasScepter()?e*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"damage_scepter",i.ability().abilities()[a].level()):e*t}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(e,t){return e*t/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return e?-t:0},returnProperty:"movementSpeedPctReduction"},{attributeName:"attack_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return e?-t:0},returnProperty:"attackspeedreduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a){return e[0]*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"damage_heroes",i.ability().abilities()[a].level())+e[1]*t},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a){return e[0]*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"move_pct_heroes",i.ability().abilities()[a].level())+e[1]*t},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return-t},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"wisp_count",i.ability().abilities()[a].level())*e*t}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a){return e[0]*e[1]*t/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t){return e?2*t:t},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(e,t){return t}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],huskar_berserkers_blood:[{label:"Stacks",controlType:"input"},{attributeName:"resistance_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"magicResist"},{attributeName:"attack_speed_bonus_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"bonus_strength",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusStrength"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"bonus_agility",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusAgility"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_intelligence",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusInt"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[a].attributes(),"enemy_slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,i,a,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[a].attributes(),"self_slow",e)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[a].attributes(),"bonus_attack_speed",e)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[a].attributes(),"bonus_damage",e)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[a].attributes(),"slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(e,t,i,a,n){return 0==e[0]?0:n.getAbilityAttributeValue(n.abilities()[a].attributes(),"damage_per_second",e[0])*e[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return 2*i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")+i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"burn_damage",i.ability().abilities()[a].level())*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",
fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a){return e[0]*e[1]*t/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"omni_slash_damage",1)*e}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"omni_slash_damage",2)*e}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a){return e[0]/100*e[1]*t/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,i,a,n){return n.getAbilityAttributeValue(n.abilities()[a].attributes(),"slow_steps",e+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){for(var n=[],o=1;6>o;o++)n.push((e*Math.pow(t/100,o)).toFixed(2));return n.join("<br>")}}],luna_eclipse:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],medusa_mystic_snake:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return(e/t).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-t},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n){return n.getAbilityPropertyValue(n.abilities()[a],"damage")*e}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,i,a,n){return n.getAbilityAttributeValue(n.abilities()[a].attributes(),"slow",n.abilities()[a].level())*e},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-e*t},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return e*t*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"morph_cooldown",i.ability().abilities()[a].level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-e*t},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return e*t*i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"morph_cooldown",i.ability().abilities()[a].level())}}],furion_force_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],necrolyte_sadist:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a,n){return e?n.getAbilityAttributeValue(n.abilities()[a].attributes(),"miss_rate_night",n.abilities()[a].level()):n.getAbilityAttributeValue(n.abilities()[a].attributes(),"miss_rate_day",n.abilities()[a].level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a,n){return n.getAbilityPropertyValue(n.abilities()[a],"damage")*e}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],razor_plasma_field:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return t*(1-e*n.getAbilityAttributeValue(n.abilities()[a].attributes(),"jump_damage_reduction_pct",n.abilities()[a].level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(e,t){var i=[1,2,4,8];return e>4?t*i[3]+50*(e-4):0>=e?0:t*i[e-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"health_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_damage",label:"Mana Loss",controlType:"text",fn:function(e,t){return e*t}}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t){return e*t},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i){return e*i.health()*t/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i){return i.health()*t/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a,n){return e?t:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(e,t){return-t},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100}}],storm_spirit_ball_lightning:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],templar_assassin_trap:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return e*t},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return e*t},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){var n=i.enemy().totalArmorPhysicalReduction(),o=i.enemy().totalMagicResistance();return(e*t*(1-n/100)*(1-o/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){var n=i.enemy().totalArmorPhysicalReduction(),o=i.enemy().totalMagicResistance();return(t*(1-n/100)*(1-o/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){var n=i.enemy().totalArmorPhysicalReduction(),o=i.enemy().totalMagicResistance();return(t*(1-n/100)*(1-o/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return(i.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){var n=i.enemy().totalMagicResistance();return(e*t*(1-n/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"speed_slow",label:"DAMAGE/HEAL:",controlType:"text",fn:function(e,t){return-t},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){var n=this.abilities().find(function(e){return"undying_flesh_golem"==e.name()}),o=this.getAbilityAttributeValue(n.attributes(),"full_power_radius",n.level()),r=this.getAbilityAttributeValue(n.attributes(),"radius",n.level()),s=Math.min(Math.max(e,o),r);if(i.inventory.hasScepter())var l=this.getAbilityAttributeValue(n.attributes(),"max_damage_amp_scepter",n.level()),c=this.getAbilityAttributeValue(n.attributes(),"min_damage_amp_scepter",n.level());else var l=this.getAbilityAttributeValue(n.attributes(),"max_damage_amp",n.level()),c=this.getAbilityAttributeValue(n.attributes(),"min_damage_amp",n.level());var d=1-(s-o)/(r-o),u=(l-c)*d+c;return u.toFixed(2)},returnProperty:"damageAmplification"}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],ursa_enrage:[{label:"Current HP",controlType:"input"},{attributeName:"life_damage_bonus_percent",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusDamage"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"strike_damage",i.ability().abilities()[a].level())+Math.floor(e/3)*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_plague_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],warlock_upheaval:[{label:"Duration",controlType:"input"},{attributeName:"slow_rate",label:"DAMAGE:",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return i.ability().getAbilityPropertyValue(i.ability().abilities()[a],"damage")*e}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,i,a){var n=i.ability().getAbilityAttributeValue(i.ability().abilities()[a].attributes(),"heal_additive",i.ability().abilities()[a].level());return(n+e[1]*t/100)*e[0]}}],wisp_spirits:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return e*t}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,i,a){return e*t}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],witch_doctor_maledict:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100}}]}}),define("herocalc/herocalc_abilities",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.AbilityModel=function(e,t){var i=this;i.hero=t,i.abilityData=n.prototype.abilityData,i.hasScepter=a.observable(!1),i.isShapeShiftActive=a.observable(!1),i.abilities=e;for(var o=0;o<i.abilities().length;o++)i.abilities()[o].isActive=a.observable(!1),i.abilities()[o].isDetail=a.observable(!1),i.abilities()[o].baseDamage=a.observable(0),i.abilities()[o].baseDamageMultiplier=a.observable(0),i.abilities()[o].bash=a.observable(0),i.abilities()[o].bashBonusDamage=a.observable(0),i.abilities()[o].bonusDamage=a.observable(0),i.abilities()[o].bonusDamageOrb=a.observable(0),i.abilities()[o].bonusDamagePct=a.observable(0),i.abilities()[o].bonusDamagePrecisionAura=a.observable(0),i.abilities()[o].bonusDamageReduction=a.observable(0),i.abilities()[o].bonusHealth=a.observable(0),i.abilities()[o].bonusStrength=a.observable(0),i.abilities()[o].bonusStrength2=a.observable(0),i.abilities()[o].bonusAgility=a.observable(0),i.abilities()[o].bonusAgility2=a.observable(0),i.abilities()[o].bonusInt=a.observable(0),i.abilities()[o].bonusAllStatsReduction=a.observable(0),i.abilities()[o].damageAmplification=a.observable(0),i.abilities()[o].damageReduction=a.observable(0),i.abilities()[o].evasion=a.observable(0),i.abilities()[o].magicResist=a.observable(0),i.abilities()[o].manaregen=a.observable(0),i.abilities()[o].manaregenreduction=a.observable(0),i.abilities()[o].missChance=a.observable(0),i.abilities()[o].movementSpeedFlat=a.observable(0),i.abilities()[o].movementSpeedPct=a.observable(0),i.abilities()[o].movementSpeedPctReduction=a.observable(0),i.abilities()[o].turnRateReduction=a.observable(0),i.abilities()[o].attackrange=a.observable(0),i.abilities()[o].attackspeed=a.observable(0),i.abilities()[o].attackspeedreduction=a.observable(0),i.abilities()[o].armor=a.observable(0),i.abilities()[o].armorReduction=a.observable(0),i.abilities()[o].healthregen=a.observable(0),i.abilities()[o].lifesteal=a.observable(0),i.abilities()[o].visionnight=a.observable(0),i.abilities()[o].visionday=a.observable(0);i.abilityControlData={},i.abilitySettingsData=function(e,t,a){return void 0==i.abilityControlData[e]?i.processAbility(e,t,a,i.abilityData[e]):i.abilityControlData[e]},i.processAbility=function(e,t,n,o){var r={};r.data=[];for(var s,l=[],c=0;c<o.length;c++)switch(o[c].controlType){case"input":s=a.observable(0).extend({numeric:2}),s.controlValueType=o[c].controlValueType,l.push(s),r.data.push({labelName:o[c].label.toUpperCase()+":",controlVal:s,controlType:o[c].controlType,display:o[c].display});break;case"checkbox":s=a.observable(!1),s.controlValueType=o[c].controlValueType,l.push(s),r.data.push({labelName:o[c].label.toUpperCase()+"?",controlVal:s,controlType:o[c].controlType,display:o[c].display});break;case"radio":s=a.observable(o[c].controlOptions[0].value),s.controlValueType=o[c].controlValueType,l.push(s),r.data.push({labelName:o[c].label.toUpperCase()+"?",controlVal:s,controlType:o[c].controlType,display:o[c].display,controlOptions:o[c].controlOptions});break;case"text":if(void 0==o[c].controls){if(o[c].noLevel)var d=function(t){return{fn:a.computed(function(){var a=i.abilities().find(function(t){return t.name()==e});return i.getAbilityAttributeValue(a.attributes(),t,0)})}};else var d=function(t){return{fn:a.computed(function(){var a=i.abilities().find(function(t){return t.name()==e});return i.getAbilityAttributeValue(a.attributes(),t,a.level())})}};var u=d(o[c].attributeName),p=i.getComputedFunction(s,u.fn,o[c].fn,t,n,i,o[c].returnProperty,void 0,e);if(""==h||o[c].ignoreTooltip)var h=o[c].label;else try{var h=i.getAbilityAttributeTooltip(i.abilities()[n].attributes(),o[c].attributeName)}catch(m){throw window.Rollbar.error("getAbilityAttributeTooltip failed",{args:[a.toJS(i.abilities()[n].attributes()),o[c].attributeName]}),m}r.data.push({labelName:h,controlVal:p,controlType:o[c].controlType,display:o[c].display,clean:u.fn})}else{if(o[c].noLevel)var d=function(e){return{fn:a.computed(function(){return i.getAbilityAttributeValue(i.abilities()[n].attributes(),e,0)})}};else var d=function(e){return{fn:a.computed(function(){return i.getAbilityAttributeValue(i.abilities()[n].attributes(),e,i.abilities()[n].level())})}};var u=d(o[c].attributeName),p=i.getComputedFunction(l,u.fn,o[c].fn,t,n,i,o[c].returnProperty,o[c].controls,e);if(""==h||o[c].ignoreTooltip)var h=o[c].label;else var h=i.getAbilityAttributeTooltip(i.abilities()[n].attributes(),o[c].attributeName);r.data.push({labelName:h,controlVal:p,controlType:o[c].controlType,display:o[c].display,clean:u.fn})}}return i.abilityControlData[e]=r,r},i.getComputedFunction=function(e,t,n,o,r,s,l,c,d){return a.computed(function(){if(void 0==c){if(void 0==e)var a=n.call(this,e,t(),o,r,s);else if("boolean"==typeof e())var a=n.call(this,e(),t(),o,r,s);else if(void 0==e.controlValueType)var a=n.call(this,parseFloat(e()),t(),o,r,s);else if("string"==e.controlValueType)var a=n.call(this,e(),t(),o,r,s);else var a=n.call(this,parseFloat(e()),t(),o,r,s);if(void 0!=l){var u=i.abilities().find(function(e){return e.name()==d});u[l](a)}return a}for(var p=[],h=0;h<c.length;h++)"boolean"==typeof e[c[h]]()?p.push(e[c[h]]()):p.push(parseFloat(e[c[h]]()));
var a=n.call(this,p,t(),o,r,s);if(void 0!=l){var u=i.abilities().find(function(e){return e.name()==d});u[l](a)}return a},this)},i.getAbilityAttributeValue=function(e,t,i){for(var a=0;a<e.length;a++)if(e[a].name()==t)return 0==i?parseFloat(e[a].value()[0]):i>e[a].value().length?parseFloat(e[a].value()[0]):parseFloat(e[a].value()[i-1])},i.getAbilityAttributeTooltip=function(e,t){for(var i=0;i<e.length;i++)if(e[i].name()==t){var a=e[i].tooltip().replace(/\\n/g,"");return a}return""},i.getAbilityLevelByAbilityName=function(e){for(var t=0;t<i.abilities().length;t++)if(i.abilities()[t].name()==e)return i.abilities()[t].level();return-1},i.getAbilityByName=function(e){for(var t=0;t<i.abilities().length;t++)if(i.abilities()[t].name()==e)return i.abilities()[t]},i.getAbilityPropertyValue=function(e,t){return parseFloat(e[t]()[e.level()-1])},i.getAttributeBonusLevel=function(){for(var e=0;e<i.abilities().length;e++)if("attribute_bonus"==i.abilities()[e].name())return i.abilities()[e].level();return 0},i.getAllStatsReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusAllStatsReduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.bonusAllStatsReduction());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){i.abilities()[t].attributes()[n]}}return e}),i.getStrengthReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusStrength&&"undying_decay"==a.name()&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e-=a.bonusStrength());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){i.abilities()[t].attributes()[n]}}return e}),i.getStrength=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusStrength&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")||"invoker_quas"==a.name())&&(e+=a.bonusStrength()),void 0!=a.bonusStrength2&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.bonusStrength2());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){i.abilities()[t].attributes()[n]}}return e}),i.getAgility=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusAgility&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")||"invoker_wex"==a.name())&&(e+=a.bonusAgility()),void 0!=a.bonusAgility2&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.bonusAgility2());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"marksmanship_agility_bonus":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getIntelligence=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusInt&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")||"invoker_exort"==a.name())&&(e+=a.bonusInt());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];o.name()}}return e}),i.getArmor=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.armor&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.armor());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_armor":"templar_assassin_meld"!=a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"warcry_armor":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"armor_bonus":("lich_frost_armor"==a.name()||"ogre_magi_frost_armor"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()))}}}return e}),i.getArmorBaseReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(a.name()){case"elder_titan_natural_order":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),"armor_reduction_pct",a.level())/100}}return e}),i.getArmorReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.armorReduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.armorReduction());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(a.name()){case"templar_assassin_meld":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),"bonus_armor",a.level());break;case"tidehunter_gush":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),"armor_bonus",a.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),"armor_reduction",a.level());break;case"nevermore_dark_lord":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),"presence_armor_reduction",a.level())}}return e}),i.getHealth=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusHealth&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.bonusHealth());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_hp":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"true_form_hp_bonus":i.isTrueFormActive()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()))}}}return e}),i.isTrueFormActive=function(){for(var e=0;e<i.abilities().length;e++){var t=i.abilities()[e];if(t.isActive()&&"lone_druid_true_form"==t.name())return!0}return!1},i.getHealthRegen=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.healthregen&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.healthregen());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"hp_regen":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getMana=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_mana":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getManaRegen=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.manaregen&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.manaregen());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_mana_regen":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getManaRegenArcaneAura=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"mana_regen":"crystal_maiden_brilliance_aura"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()))}}}return e}),i.getManaRegenReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.manaregenreduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.manaregenreduction());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){i.abilities()[t].attributes()[n]}}return e}),i.getAttackRange=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.attackrange&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.attackrange());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"attack_range_bonus":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"bonus_attack_range":case"bonus_range":"terrorblade_metamorphosis"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())),"troll_warlord_berserkers_rage"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"bonus_range_scepter":"tiny_grow"==a.name()&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==a.name()&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()))}}"lone_druid_true_form"==a.name()&&(e-=422)}else if(a.level()>0&&"enchantress_impetus"==a.name()&&i.hasScepter())for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_attack_range_scepter":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getAttackSpeed=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.attackspeed&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.attackspeed());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"attack_speed_bonus_pct":("clinkz_strafe"==a.name()||"ursa_overpower"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"speed_bonus":("axe_culling_blade"==a.name()||"necronomicon_archer_aoe"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"bonus_attack_speed":("beastmaster_inner_beast"==a.name()||"lycan_feral_impulse"==a.name()||"lone_druid_rabid"==a.name()||"tiny_grow"==a.name()||"phantom_assassin_phantom_strike"==a.name()||"windrunner_focusfire"==a.name()||"ogre_magi_bloodlust"==a.name()||"centaur_khan_endurance_aura"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()))}}}return e}),i.getAttackSpeedReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.attackspeedreduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.attackspeedreduction());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"speed_bonus":"omniknight_degen_aura"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=a.name()||i.hasScepter()?"tusk_frozen_sigil"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())):e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==a.name()&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"slow":"medusa_stone_gaze"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"attackspeed_bonus":e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()))}}"enraged_wildkin_tornado"==a.name()&&(e-=15)}}return e}),i.getBash=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bash&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1-a.bash()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"chance":case"proc_chance":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.getBaseDamage=a.computed(function(){for(var e=0,t=1,a={},n=0;n<i.abilities().length;n++){var o=i.abilities()[n];if(o.name()in i.abilityData)void 0!=o.baseDamageMultiplier&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(t+=o.baseDamageMultiplier()/100),void 0!=o.baseDamage&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=o.baseDamage(),a[o.name()]={damage:o.baseDamage(),damageType:"physical",displayname:o.displayname()});else if(o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var r=0;r<i.abilities()[n].attributes().length;r++){var s=i.abilities()[n].attributes()[r];switch(s.name()){case"bonus_damage":("tiny_grow"==o.name()||"terrorblade_metamorphosis"==o.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[n].attributes(),s.name(),o.level()),a[o.name()]={damage:i.getAbilityAttributeValue(i.abilities()[n].attributes(),s.name(),o.level()),damageType:"physical",displayname:o.displayname()})}}}return{sources:a,total:e,multiplier:t}}),i.getSelfBaseDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"damage_modifier":e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"focusfire_damage_reduction":i.hasScepter()||(e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"focusfire_damage_reduction_scepter":i.hasScepter()&&(e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}}return e}),i.getBaseDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_damage_pct":"vengefulspirit_command_aura"==a.name()&&(e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}}return e}),i.getBAT=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"base_attack_time":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getBonusDamage=a.computed(function(){for(var e=0,t={},a=0;a<i.abilities().length;a++){var n=i.abilities()[a];if(n.name()in i.abilityData)void 0!=n.bonusDamage&&0!=n.bonusDamage()&&n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=n.bonusDamage(),t[n.name()]={damage:n.bonusDamage(),damageType:"spectre_desolate"==n.name()?"pure":"physical",displayname:n.displayname()});else if(n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var o=0;o<i.abilities()[a].attributes().length;o++){var r=i.abilities()[a].attributes()[o];switch(r.name()){case"bonus_damage":("broodmother_insatiable_hunger"==n.name()||"luna_lunar_blessing"==n.name()||"templar_assassin_refraction"==n.name()||"templar_assassin_meld"==n.name()||"troll_warlord_berserkers_rage"==n.name()||"lone_druid_true_form_battle_cry"==n.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level()),t[n.name()]={damage:i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level()),damageType:"physical",displayname:n.displayname()});break;case"hero_bonus_damage":e+=i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level()),t[n.name()]={damage:i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level()),damageType:"physical",displayname:n.displayname()}}}"storm_spirit_overload"==n.name()&&(e+=i.getAbilityPropertyValue(n,"damage"),t[n.name()]={damage:i.getAbilityPropertyValue(n,"damage"),damageType:"magic",displayname:n.displayname()})}}return{sources:t,total:e}}),i.getBonusDamagePercent=a.computed(function(){for(var e=0,t={},a=0;a<i.abilities().length;a++){var n=i.abilities()[a];if(n.name()in i.abilityData)void 0!=n.bonusDamagePct&&0!=n.bonusDamagePct()&&n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"));else if(n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var o=0;o<i.abilities()[a].attributes().length;o++){var r=i.abilities()[a].attributes()[o];switch(r.name()){case"damage_increase_pct":"bloodseeker_bloodrage"==n.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,t[n.name()]={damage:i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,damageType:"physical",displayname:n.displayname()});break;case"bonus_damage_pct":("magnataur_empower"==n.name()||"vengefulspirit_command_aura"==n.name()||"alpha_wolf_command_aura"==n.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,t[n.name()]={damage:i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,damageType:"physical",displayname:n.displayname()});break;case"gods_strength_damage":"sven_gods_strength"==n.name()&&void 0!=i.hero&&"sven"==i.hero.selectedHero().heroName&&(e+=i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,t[n.name()]={damage:i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,damageType:"physical",displayname:n.displayname()});break;case"gods_strength_damage_scepter":"sven_gods_strength"==n.name()&&void 0==i.hero&&(e+=i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,t[n.name()]={damage:i.getAbilityAttributeValue(i.abilities()[a].attributes(),r.name(),n.level())/100,damageType:"physical",displayname:n.displayname()})}}}return{sources:t,total:e}}),i.getBonusDamageBackstab=a.computed(function(){for(var e=0,t=0,a=[],n=0;n<i.abilities().length;n++){var o=i.abilities()[n];if("riki_backstab"==o.name()&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var r=0;r<i.abilities()[n].attributes().length;r++){var s=i.abilities()[n].attributes()[r];switch(s.name()){case"damage_multiplier":e+=i.getAbilityAttributeValue(i.abilities()[n].attributes(),s.name(),o.level()),a.push({damage:i.getAbilityAttributeValue(i.abilities()[n].attributes(),s.name(),o.level()),damageType:"physical",displayname:o.displayname()})}}}return{sources:a,total:[e,t]}}),i.getBonusDamagePrecisionAura=a.computed(function(){for(var e=0,t=0,a=[],n=0;n<i.abilities().length;n++){var o=i.abilities()[n];if("drow_ranger_trueshot"==o.name()&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var r=0;r<i.abilities()[n].attributes().length;r++){var s=i.abilities()[n].attributes()[r];switch(s.name()){case"trueshot_ranged_damage":e+=i.getAbilityAttributeValue(i.abilities()[n].attributes(),s.name(),o.level())/100,a.push({damage:i.getAbilityAttributeValue(i.abilities()[n].attributes(),s.name(),o.level())/100,damageType:"physical",displayname:o.displayname()})}}void 0!=o.bonusDamagePrecisionAura&&(t+=o.bonusDamagePrecisionAura(),a.push({damage:o.bonusDamagePrecisionAura(),damageType:"physical",displayname:o.displayname()}))}}return{sources:a,total:[e,t]}}),i.getBonusDamageReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusDamageReduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.bonusDamageReduction());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"enfeeble_attack_reduction":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getBonusDamageReductionPct=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"damage_modifier":e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"focusfire_damage_reduction":i.hasScepter()||(e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"focusfire_damage_reduction_scepter":i.hasScepter()&&(e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}}return e}),i.getDamageAmplification=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];a.name()in i.abilityData&&void 0!=a.damageAmplification&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1+a.damageAmplification()/100)}return e}),i.getDamageReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.damageReduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1+a.damageReduction()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"damage_increase_pct":"bloodseeker_bloodrage"==a.name()&&(e*=1+i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}"kunkka_ghostship"==a.name()&&(e*=.5)}}return e}),i.getCritSource=a.computed(function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(a.name()){case"phantom_assassin_coup_de_grace":void 0==e[a.name()]?e[a.name()]={chance:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_bonus",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[a.name()]?e[a.name()]={chance:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_multiplier",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[a.name()]?e[a.name()]={chance:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_multiplier",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[a.name()]?e[a.name()]={chance:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_mult",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"juggernaut_blade_dance":void 0==e[a.name()]?e[a.name()]={chance:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"blade_dance_crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"blade_dance_crit_mult",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[a.name()]?e[a.name()]={chance:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_chance",a.level())/100,multiplier:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"crit_mult",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1}}return e}),i.getCleaveSource=a.computed(function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(a.name()){case"magnataur_empower":void 0==e[a.name()]?e[a.name()]={radius:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"cleave_radius",a.level()),magnitude:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"cleave_damage_pct",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"sven_great_cleave":void 0==e[a.name()]?e[a.name()]={radius:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"great_cleave_radius",a.level()),magnitude:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"great_cleave_damage",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"kunkka_tidebringer":void 0==e[a.name()]?e[a.name()]={radius:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"radius",a.level()),magnitude:1,count:1,displayname:a.displayname()}:e[a.name()].count+=1;break;case"tiny_grow":i.hasScepter()&&(void 0==e[a.name()]?e[a.name()]={radius:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"bonus_cleave_radius_scepter",a.level()),magnitude:i.getAbilityAttributeValue(i.abilities()[t].attributes(),"bonus_cleave_damage_scepter",a.level())/100,count:1,displayname:a.displayname()}:e[a.name()].count+=1)}}return e}),i.getCritChance=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"crit_chance":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.getEvasion=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_evasion":case"dodge_chance":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.getEvasionBacktrack=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"dodge_chance_pct":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.getMissChance=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.missChance&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1-a.missChance()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"miss_chance":case"miss_rate":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.getLifesteal=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.lifesteal&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.lifesteal());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"vampiric_aura":case"lifesteal_pct":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getMagicResist=a.computed(function(){
for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.magicResist&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1-a.magicResist()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"spell_shield_resistance":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==a.name()&&(e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==a.name()&&(e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}}return e}),i.getMagicResistReduction=a.computed(function(){for(var e=1,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"magic_resistance_pct":e*=1-i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.getMovementSpeedFlat=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.movementSpeedFlat&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.movementSpeedFlat());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"bonus_movespeed":"alchemist_chemical_rage"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"bonus_movement_speed":"tiny_grow"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level()));break;case"speed_loss":e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getMovementSpeedPercent=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.movementSpeedPct&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.movementSpeedPct()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"bonus_movespeed":("broodmother_spin_web"==a.name()||"spectre_spectral_dagger"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"speed_bonus":("axe_culling_blade"==a.name()||"necronomicon_archer_aoe"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"bonus_movement_speed":("ogre_magi_bloodlust"==a.name()||"death_prophet_witchcraft"==a.name()||"kobold_taskmaster_speed_aura"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movement_speed_pct":("razor_unstable_current"==a.name()||"phantom_lancer_doppelwalk"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"bonus_move_speed":("treant_natures_guise"==a.name()||"lone_druid_rabid"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movespeed":"wisp_tether"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movespeed_bonus":("kunkka_ghostship"==a.name()||"visage_grave_chill"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}}return e}),i.getMovementSpeedPercentReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.movementSpeedPctReduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.movementSpeedPctReduction()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name()||i.hasScepter()||(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==a.name()&&i.hasScepter()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"slow_pct":e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==a.name()?e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100:"tusk_frozen_sigil"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"slow":"medusa_stone_gaze"==a.name()?e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100:e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==a.name()||"bounty_hunter_jinada"==a.name()||"winter_wyvern_arctic_burn"==a.name()||"winter_wyvern_splinter_blast"==a.name()?e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100:"spectre_spectral_dagger"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movement_speed":"tidehunter_gush"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"bonus_movement_speed":("pugna_decrepify"==a.name()||"chen_penitence"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==a.name()||"phantom_lancer_spirit_lance"==a.name()||"faceless_void_time_walk"==a.name()?e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100:"skywrath_mage_concussive_shot"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"slow_amount":"razor_unstable_current"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==a.name()||"brewmaster_thunder_clap"==a.name()?e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100:("ursa_earthshock"==a.name()||"treant_leech_seed"==a.name())&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==a.name()&&(e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==a.name()?e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100:"visage_grave_chill"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}"satyr_trickster_purge"==a.name()?e-=.8:"enraged_wildkin_tornado"==a.name()&&(e-=.15)}}return e}),i.getTurnRateReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.turnRateReduction&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.turnRateReduction()/100);else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"slow":"medusa_stone_gaze"==a.name()&&(e-=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100)}}}return e}),i.getVisionRangeNight=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.visionnight&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=a.visionnight());else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"night_vision_bonus":case"bonus_night_vision":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())}}}return e}),i.getVisionRangePctReduction=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(!(a.name()in i.abilityData)&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"blind_percentage":e+=i.getAbilityAttributeValue(i.abilities()[t].attributes(),o.name(),a.level())/100}}}return e}),i.setEvasion=a.computed(function(){for(var e=0,t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&"windrunner_windrun"==a.name())return 1}return e}),i.setMovementSpeed=a.computed(function(){for(var e=522,t=100,a=0,n=0;n<i.abilities().length;n++){var o=i.abilities()[n];if(o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){if("spirit_breaker_charge_of_darkness"==o.name())return i.getAbilityAttributeValue(o.attributes(),"movement_speed",o.level());if("dark_seer_surge"==o.name())return e;if("centaur_stampede"==o.name())return e;if("lycan_shapeshift"==o.name())return e;if("lion_voodoo"==o.name()||"shadow_shaman_voodoo"==o.name())return t}}return a}),i.getBashSource=function(e){for(var t={},a=0;a<i.abilities().length;a++){var n=i.abilities()[a];if(n.name()in i.abilityData)void 0!=n.bashBonusDamage&&n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(void 0==t[n.name()]&&"faceless_void_time_lock"==n.name()&&(t[n.name()]={chance:n.bash()/100,damage:n.bashBonusDamage(),count:1,damageType:"magic",displayname:n.displayname()}),void 0==t[n.name()]&&"spirit_breaker_greater_bash"==n.name()&&(t[n.name()]={chance:n.bash()/100,damage:n.bashBonusDamage()/100,count:1,damageType:"magic",displayname:n.displayname()}));else if(n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var o=0;o<i.abilities()[a].attributes().length;o++){var r=i.abilities()[a].attributes()[o];switch(r.name()){case"proc_chance":void 0==t[n.name()]&&"sniper_headshot"==n.name()&&(t[n.name()]={chance:i.getAbilityAttributeValue(n.attributes(),r.name(),n.level())/100,damage:i.getAbilityPropertyValue(n,"damage"),count:1,damageType:"physical",displayname:n.displayname()});break;case"chance":void 0==t[n.name()]&&"slardar_bash"==n.name()&&(t[n.name()]={chance:i.getAbilityAttributeValue(n.attributes(),r.name(),n.level())/100,damage:i.getAbilityAttributeValue(n.attributes(),"bonus_damage",n.level()),count:1,damageType:"physical",displayname:n.displayname()})}}}return t},i.getOrbSource=function(){for(var e={},t=0;t<i.abilities().length;t++){var a=i.abilities()[t];if(a.name()in i.abilityData)void 0!=a.bonusDamageOrb&&a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&void 0==e[a.name()]&&"obsidian_destroyer_arcane_orb"==a.name()&&(e[a.name()]={damage:a.bonusDamageOrb(),damageType:"pure",displayname:a.displayname()});else if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<i.abilities()[t].attributes().length;n++){var o=i.abilities()[t].attributes()[n];switch(o.name()){case"mana_per_hit":void 0==e[a.name()]&&"antimage_mana_break"==a.name()&&(e[a.name()]={damage:i.getAbilityAttributeValue(a.attributes(),o.name(),a.level())*i.getAbilityAttributeValue(a.attributes(),"damage_per_burn",a.level()),damageType:"physical",displayname:a.displayname()});break;case"damage_bonus":void 0==e[a.name()]&&"clinkz_searing_arrows"==a.name()&&(e[a.name()]={damage:i.getAbilityAttributeValue(a.attributes(),o.name(),a.level()),damageType:"physical",displayname:a.displayname()});case"intellect_damage_pct":void 0==e[a.name()]&&"silencer_glaives_of_wisdom"==a.name()&&(e[a.name()]={damage:i.getAbilityAttributeValue(a.attributes(),o.name(),a.level())/100*i.hero.totalInt(),damageType:"pure",displayname:a.displayname()})}}}return e},i.toggleAbility=function(e,t,a){i.abilities()[e()].behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(i.abilities()[e()].isActive()?i.abilities()[e()].isActive(!1):i.abilities()[e()].isActive(!0),"lycan_shapeshift"==i.abilities()[e()].name()&&i.isShapeShiftActive(i.abilities()[e()].isActive()))}.bind(this),i.toggleAbilityDetail=function(e,t,a){i.abilities()[e()].isDetail()?i.abilities()[e()].isDetail(!1):i.abilities()[e()].isDetail(!0)}.bind(this),i.getAbilityTooltipData=function(e,t){return n.prototype.getAbilityTooltipData(e,t)},i.levelUpAbility=function(e,t,a,n){if(i.abilities()[e()].level()<n.getAbilityLevelMax(t)&&n.availableSkillPoints()>0){switch(i.abilities()[e()].abilitytype()){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==n.selectedHero().heroName?(0==i.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=2||1==i.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=7||2==i.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=11||3==i.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=17)&&(i.abilities()[e()].level(i.abilities()[e()].level()+1),n.skillPointHistory.push(e())):"meepo"==n.selectedHero().heroName?7*i.abilities()[e()].level()+3<=parseInt(n.selectedHeroLevel())&&(i.abilities()[e()].level(i.abilities()[e()].level()+1),n.skillPointHistory.push(e())):5*(i.abilities()[e()].level()+1)+1<=parseInt(n.selectedHeroLevel())&&(i.abilities()[e()].level(i.abilities()[e()].level()+1),n.skillPointHistory.push(e()));break;default:2*i.abilities()[e()].level()+1<=parseInt(n.selectedHeroLevel())&&(i.abilities()[e()].level(i.abilities()[e()].level()+1),n.skillPointHistory.push(e()))}switch(i.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"morphling_morph_str":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());case"nevermore_shadowraze1":i.abilities()[e()+1].level(i.abilities()[e()].level()),i.abilities()[e()+2].level(i.abilities()[e()].level());break;case"nevermore_shadowraze2":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"nevermore_shadowraze3":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());break;case"ember_spirit_fire_remnant":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"lone_druid_true_form":i.abilities()[e()-1].level(i.abilities()[e()].level())}}},i.levelDownAbility=function(e,t,a,n){if(i.abilities()[e()].level()>0)switch(i.abilities()[e()].level(i.abilities()[e()].level()-1),n.skillPointHistory.splice(n.skillPointHistory().lastIndexOf(e()),1),i.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"morphling_morph_str":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());case"nevermore_shadowraze1":i.abilities()[e()+1].level(i.abilities()[e()].level()),i.abilities()[e()+2].level(i.abilities()[e()].level());break;case"nevermore_shadowraze2":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()+1].level(i.abilities()[e()].level());break;case"nevermore_shadowraze3":i.abilities()[e()-1].level(i.abilities()[e()].level()),i.abilities()[e()-2].level(i.abilities()[e()].level());break;case"ember_spirit_fire_remnant":i.abilities()[e()-1].level(i.abilities()[e()].level());break;case"lone_druid_true_form":i.abilities()[e()-1].level(i.abilities()[e()].level())}},i.isQWER=function(e){return"Empty"!=e.displayname()&&(-1==e.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN")||-1!=e.name().indexOf("invoker_"))&&-1==e.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE")}}}),define("herocalc/herocalc_buffs",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.BuffOption=function(e,t){this.buffName=t,void 0==n.prototype.heroData["npc_dota_hero_"+e]?(this.hero=e,this.abilityData=n.prototype.findWhere(n.prototype.unitData[e].abilities,{name:t}),this.buffDisplayName=n.prototype.unitData[e].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+e,this.abilityData=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+e].abilities,{name:t}),this.buffDisplayName=n.prototype.heroData["npc_dota_hero_"+e].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==t&&(this.buffDisplayName+=" (Aura for allies)"))},n.prototype.ItemBuffOption=function(e){this.buffName=e,void 0==n.prototype.heroData["npc_dota_hero_"+hero]?(this.hero=hero,this.abilityData=n.prototype.findWhere(n.prototype.unitData[hero].abilities,{name:e}),this.buffDisplayName=n.prototype.unitData[hero].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+hero,this.abilityData=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+hero].abilities,{name:e}),this.buffDisplayName=n.prototype.heroData["npc_dota_hero_"+hero].displayname+" - "+this.abilityData.displayname)},n.prototype.BuffViewModel=function(e){var t=new n.prototype.AbilityModel(a.observableArray([]));return t.availableBuffs=a.observableArray([new n.prototype.BuffOption("abaddon","abaddon_frostmourne"),new n.prototype.BuffOption("axe","axe_culling_blade"),new n.prototype.BuffOption("beastmaster","beastmaster_inner_beast"),new n.prototype.BuffOption("bloodseeker","bloodseeker_bloodrage"),new n.prototype.BuffOption("bounty_hunter","bounty_hunter_track"),new n.prototype.BuffOption("centaur","centaur_stampede"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_brilliance_aura"),new n.prototype.BuffOption("dark_seer","dark_seer_surge"),new n.prototype.BuffOption("dazzle","dazzle_weave"),new n.prototype.BuffOption("drow_ranger","drow_ranger_trueshot"),new n.prototype.BuffOption("invoker","invoker_alacrity"),new n.prototype.BuffOption("wisp","wisp_tether"),new n.prototype.BuffOption("wisp","wisp_overcharge"),new n.prototype.BuffOption("kunkka","kunkka_ghostship"),new n.prototype.BuffOption("lich","lich_frost_armor"),new n.prototype.BuffOption("life_stealer","life_stealer_open_wounds"),new n.prototype.BuffOption("luna","luna_lunar_blessing"),new n.prototype.BuffOption("lycan","lycan_howl"),new n.prototype.BuffOption("magnataur","magnataur_empower"),new n.prototype.BuffOption("mirana","mirana_leap"),new n.prototype.BuffOption("ogre_magi","ogre_magi_bloodlust"),new n.prototype.BuffOption("omniknight","omniknight_guardian_angel"),new n.prototype.BuffOption("rubick","rubick_null_field"),new n.prototype.BuffOption("skeleton_king","skeleton_king_vampiric_aura"),new n.prototype.BuffOption("spirit_breaker","spirit_breaker_empowering_haste"),new n.prototype.BuffOption("sven","sven_warcry"),new n.prototype.BuffOption("sven","sven_gods_strength"),new n.prototype.BuffOption("treant","treant_living_armor"),new n.prototype.BuffOption("troll_warlord","troll_warlord_battle_trance"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_command_aura"),new n.prototype.BuffOption("npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new n.prototype.BuffOption("npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new n.prototype.BuffOption("npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new n.prototype.BuffOption("npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new n.prototype.BuffOption("npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new n.prototype.BuffOption("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new n.prototype.BuffOption("npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new n.prototype.BuffOption("npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new n.prototype.BuffOption("npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")]),t.availableDebuffs=a.observableArray([new n.prototype.BuffOption("abaddon","abaddon_frostmourne"),new n.prototype.BuffOption("alchemist","alchemist_acid_spray"),new n.prototype.BuffOption("ancient_apparition","ancient_apparition_ice_vortex"),new n.prototype.BuffOption("axe","axe_battle_hunger"),new n.prototype.BuffOption("bane","bane_enfeeble"),new n.prototype.BuffOption("batrider","batrider_sticky_napalm"),new n.prototype.BuffOption("beastmaster","beastmaster_primal_roar"),new n.prototype.BuffOption("bounty_hunter","bounty_hunter_jinada"),new n.prototype.BuffOption("brewmaster","brewmaster_thunder_clap"),new n.prototype.BuffOption("brewmaster","brewmaster_drunken_haze"),new n.prototype.BuffOption("bristleback","bristleback_viscous_nasal_goo"),new n.prototype.BuffOption("broodmother","broodmother_incapacitating_bite"),new n.prototype.BuffOption("centaur","centaur_stampede"),new n.prototype.BuffOption("chen","chen_penitence"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_crystal_nova"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_freezing_field"),new n.prototype.BuffOption("dazzle","dazzle_weave"),new n.prototype.BuffOption("drow_ranger","drow_ranger_frost_arrows"),new n.prototype.BuffOption("earth_spirit","earth_spirit_rolling_boulder"),new n.prototype.BuffOption("elder_titan","elder_titan_natural_order"),new n.prototype.BuffOption("elder_titan","elder_titan_earth_splitter"),new n.prototype.BuffOption("enchantress","enchantress_untouchable"),new n.prototype.BuffOption("enchantress","enchantress_enchant"),new n.prototype.BuffOption("faceless_void","faceless_void_time_walk"),new n.prototype.BuffOption("huskar","huskar_life_break"),new n.prototype.BuffOption("invoker","invoker_ghost_walk"),new n.prototype.BuffOption("invoker","invoker_ice_wall"),new n.prototype.BuffOption("wisp","wisp_tether"),new n.prototype.BuffOption("jakiro","jakiro_dual_breath"),new n.prototype.BuffOption("jakiro","jakiro_liquid_fire"),new n.prototype.BuffOption("keeper_of_the_light","keeper_of_the_light_blinding_light"),new n.prototype.BuffOption("kunkka","kunkka_torrent"),new n.prototype.BuffOption("lich","lich_frost_nova"),new n.prototype.BuffOption("lich","lich_frost_armor"),new n.prototype.BuffOption("lich","lich_chain_frost"),new n.prototype.BuffOption("life_stealer","life_stealer_open_wounds"),new n.prototype.BuffOption("lion","lion_voodoo"),new n.prototype.BuffOption("magnataur","magnataur_skewer"),new n.prototype.BuffOption("medusa","medusa_stone_gaze"),new n.prototype.BuffOption("meepo","meepo_geostrike"),new n.prototype.BuffOption("naga_siren","naga_siren_rip_tide"),new n.prototype.BuffOption("night_stalker","night_stalker_void"),new n.prototype.BuffOption("night_stalker","night_stalker_crippling_fear"),new n.prototype.BuffOption("night_stalker","night_stalker_darkness"),new n.prototype.BuffOption("ogre_magi","ogre_magi_ignite"),new n.prototype.BuffOption("omniknight","omniknight_degen_aura"),new n.prototype.BuffOption("phantom_assassin","phantom_assassin_stifling_dagger"),new n.prototype.BuffOption("phantom_lancer","phantom_lancer_spirit_lance"),new n.prototype.BuffOption("pudge","pudge_rot"),new n.prototype.BuffOption("pugna","pugna_decrepify"),new n.prototype.BuffOption("queenofpain","queenofpain_shadow_strike"),new n.prototype.BuffOption("riki","riki_smoke_screen"),new n.prototype.BuffOption("rubick","rubick_fade_bolt"),new n.prototype.BuffOption("sand_king","sandking_epicenter"),new n.prototype.BuffOption("nevermore","nevermore_dark_lord"),new n.prototype.BuffOption("shadow_shaman","shadow_shaman_voodoo"),new n.prototype.BuffOption("skeleton_king","skeleton_king_hellfire_blast"),new n.prototype.BuffOption("skeleton_king","skeleton_king_reincarnation"),new n.prototype.BuffOption("skywrath_mage","skywrath_mage_concussive_shot"),new n.prototype.BuffOption("skywrath_mage","skywrath_mage_ancient_seal"),new n.prototype.BuffOption("slardar","slardar_slithereen_crush"),new n.prototype.BuffOption("slardar","slardar_amplify_damage"),new n.prototype.BuffOption("slark","slark_essence_shift"),new n.prototype.BuffOption("sniper","sniper_shrapnel"),new n.prototype.BuffOption("spectre","spectre_spectral_dagger"),new n.prototype.BuffOption("storm_spirit","storm_spirit_overload"),new n.prototype.BuffOption("templar_assassin","templar_assassin_meld"),new n.prototype.BuffOption("tidehunter","tidehunter_gush"),new n.prototype.BuffOption("tinker","tinker_laser"),new n.prototype.BuffOption("treant","treant_leech_seed"),new n.prototype.BuffOption("tusk","tusk_frozen_sigil"),new n.prototype.BuffOption("undying","undying_flesh_golem"),new n.prototype.BuffOption("ursa","ursa_earthshock"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_wave_of_terror"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_command_aura"),new n.prototype.BuffOption("venomancer","venomancer_venomous_gale"),new n.prototype.BuffOption("venomancer","venomancer_poison_sting"),new n.prototype.BuffOption("viper","viper_poison_attack"),new n.prototype.BuffOption("viper","viper_corrosive_skin"),new n.prototype.BuffOption("viper","viper_viper_strike"),new n.prototype.BuffOption("visage","visage_grave_chill"),new n.prototype.BuffOption("warlock","warlock_upheaval"),new n.prototype.BuffOption("weaver","weaver_the_swarm"),new n.prototype.BuffOption("windrunner","windrunner_windrun"),new n.prototype.BuffOption("winter_wyvern","winter_wyvern_arctic_burn"),new n.prototype.BuffOption("winter_wyvern","winter_wyvern_splinter_blast"),new n.prototype.BuffOption("npc_dota_neutral_ghost","ghost_frost_attack"),new n.prototype.BuffOption("npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new n.prototype.BuffOption("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new n.prototype.BuffOption("npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new n.prototype.BuffOption("npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")]),t.selectedBuff=a.observable(t.availableBuffs()[0]),t.buffs=a.observableArray([]),t.itemBuffs=new n.prototype.InventoryViewModel,t.addBuff=function(e,i){if(void 0==n.prototype.findWhere(t.buffs(),{name:t.selectedBuff().buffName})){var o=a.mapping.fromJS(t.selectedBuff().abilityData);switch(o.isActive=a.observable(!1),o.isDetail=a.observable(!1),o.baseDamage=a.observable(0),o.bash=a.observable(0),o.bashBonusDamage=a.observable(0),o.bonusDamage=a.observable(0),o.bonusDamageOrb=a.observable(0),o.bonusDamagePct=a.observable(0),o.bonusDamagePrecisionAura=a.observable(0),o.bonusDamageReduction=a.observable(0),o.bonusHealth=a.observable(0),o.bonusStrength=a.observable(0),o.bonusStrength2=a.observable(0),o.bonusAgility=a.observable(0),o.bonusAgility2=a.observable(0),o.bonusInt=a.observable(0),o.bonusAllStatsReduction=a.observable(0),o.damageAmplification=a.observable(0),o.damageReduction=a.observable(0),o.evasion=a.observable(0),o.magicResist=a.observable(0),o.manaregen=a.observable(0),o.manaregenreduction=a.observable(0),o.missChance=a.observable(0),o.movementSpeedFlat=a.observable(0),o.movementSpeedPct=a.observable(0),o.movementSpeedPctReduction=a.observable(0),o.turnRateReduction=a.observable(0),o.attackrange=a.observable(0),o.attackspeed=a.observable(0),o.attackspeedreduction=a.observable(0),o.armor=a.observable(0),o.armorReduction=a.observable(0),o.healthregen=a.observable(0),o.lifesteal=a.observable(0),o.visionnight=a.observable(0),o.visionday=a.observable(0),o.name()){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":o.level(1)}t.abilities.push(o),t.buffs.push({name:t.selectedBuff().buffName,hero:t.selectedBuff().hero,data:o})}},t.removeBuff=function(e,i,a){if(void 0!=n.prototype.findWhere(t.buffs(),{name:a})){if(t.buffs.remove(n.prototype.findWhere(t.buffs(),{name:a})),void 0!=t.abilityControlData[a]){for(var o=0;o<t.abilityControlData[a].data.length;o++)void 0!=t.abilityControlData[a].data[o].controlVal.dispose&&t.abilityControlData[a].data[o].controlVal.dispose(),void 0!=t.abilityControlData[a].data[o].clean&&t.abilityControlData[a].data[o].clean.dispose();t.abilityControlData[a]=void 0}for(var o=0;o<t.abilities().length;o++)if(t.abilities()[o].name()==a){t.abilities()[o].level(0),t.abilities.remove(t.abilities()[o]);break}}},t.toggleBuff=function(e,i,a){t.buffs()[e()].data.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(t.buffs()[e()].data.isActive()?(t.buffs()[e()].data.isActive(!1),t.abilities()[e()].isActive(!1)):(t.buffs()[e()].data.isActive(!0),t.abilities()[e()].isActive(!0)))}.bind(this),t.toggleBuffDetail=function(e,i,a){t.buffs()[e()].data.isDetail()?t.buffs()[e()].data.isDetail(!1):t.buffs()[e()].data.isDetail(!0)}.bind(this),t.levelUpAbility=function(e,i,a,n){if(t.abilities()[e()].level()<n.getAbilityLevelMax(i)){switch(t.abilities()[e()].abilitytype()){case"DOTA_ABILITY_TYPE_ULTIMATE":t.abilities()[e()].level(t.abilities()[e()].level()+1);break;default:t.abilities()[e()].level(t.abilities()[e()].level()+1)}switch(t.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),
t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level())}}},t.levelDownAbility=function(e,i,a,n){if(t.abilities()[e()].level()>0)switch(t.abilities()[e()].level(t.abilities()[e()].level()-1),t.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());break;case"ember_spirit_fire_remnant":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"lone_druid_true_form":t.abilities()[e()-1].level(t.abilities()[e()].level())}},t}}),define("herocalc/herocalc_buffs.amplification.reduction",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.DamageAmpViewModel=function(e){var t=new n.prototype.BuffViewModel(a.observableArray([]));return t.availableBuffs=a.observableArray([new n.prototype.BuffOption("slardar","slardar_sprint"),new n.prototype.BuffOption("undying","undying_flesh_golem"),new n.prototype.BuffOption("chen","chen_penitence"),new n.prototype.BuffOption("medusa","medusa_stone_gaze"),new n.prototype.BuffOption("shadow_demon","shadow_demon_soul_catcher")]),t.availableDebuffs=a.observableArray([new n.prototype.BuffOption("medusa","medusa_mana_shield"),new n.prototype.BuffOption("spectre","spectre_dispersion"),new n.prototype.BuffOption("wisp","wisp_overcharge"),new n.prototype.BuffOption("bristleback","bristleback_bristleback"),new n.prototype.BuffOption("kunkka","kunkka_ghostship")]),t.selectedBuff=a.observable(t.availableBuffs()[0]),t.buffs=a.observableArray([]),t.getAbilityDamageAmpValue=function(e,i){var a=n.prototype.findWhere(t.buffs(),{name:e});if(void 0==a)return 0;var o=a.data;return t.getAbilityAttributeValue(o.attributes(),i,o.level())},t.getDamageMultiplierSources=a.computed(function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t.abilities()[i];if(a.level()>0&&(a.isActive()||-1!=a.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(a.name()){case"bristleback_bristleback":e[a.name()]={multiplier:a.damageReduction()/100,damageType:"physical",displayname:a.displayname()};break;case"slardar_sprint":e[a.name()]={multiplier:t.getAbilityAttributeValue(a.attributes(),"bonus_damage",a.level())/100,damageType:"physical",displayname:a.displayname()};break;case"undying_flesh_golem":e[a.name()]={multiplier:a.damageAmplification()/100,damageType:"physical",displayname:a.displayname()};break;case"medusa_stone_gaze":e[a.name()]={multiplier:t.getAbilityAttributeValue(a.attributes(),"bonus_physical_damage",a.level())/100,damageType:"physical",displayname:a.displayname()};break;case"chen_penitence":e[a.name()]={multiplier:t.getAbilityAttributeValue(a.attributes(),"bonus_damage_taken",a.level())/100,damageType:"physical",displayname:a.displayname()};break;case"shadow_demon_soul_catcher":e[a.name()]={multiplier:t.getAbilityAttributeValue(a.attributes(),"bonus_damage_taken",a.level())/100,damageType:"pure",displayname:a.displayname()};break;case"medusa_mana_shield":e[a.name()]={multiplier:a.damageReduction()/100,damageType:"physical",displayname:a.displayname()};break;case"spectre_dispersion":e[a.name()]={multiplier:-t.getAbilityAttributeValue(a.attributes(),"damage_reflection_pct",a.level())/100,damageType:"percentreduction",displayname:a.displayname()};break;case"abaddon_aphotic_shield":e[a.name()]={multiplier:t.getAbilityAttributeValue(a.attributes(),"damage_absorb",a.level()),damageType:"flatreduction",displayname:a.displayname()};break;case"kunkka_ghostship":e[a.name()]={multiplier:-0.5,damageType:"percentreduction",displayname:a.displayname()};break;case"wisp_overcharge":e[a.name()]={multiplier:t.getAbilityAttributeValue(a.attributes(),"bonus_damage_pct",a.level())/100,damageType:"percentreduction",displayname:a.displayname()}}}return e}),t}}),define("herocalc/herocalc_buildexplorer",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.GraphPropertyOption=function(e,t){this.id=e,this.label=t},n.prototype.BuildExplorerViewModel=function(e){var t=this;t.parent=e,t.itemBuild=a.observableArray([]),t.skillBuild=a.observableArray([]),t.graphDataItemRows=[];for(var i=0;25>i;i++)t.itemBuild.push(new n.prototype.BasicInventoryViewModel),t.itemBuild()[i].carryOver=a.observable(!0),t.skillBuild.push(a.observable(-1)),t.graphDataItemRows.push(a.observable(!1));return t.toggleItemBuildCarryOver=function(e){t.itemBuild()[e].carryOver(!t.itemBuild()[e].carryOver())},t.abilityMapData=[0,1,2,3,4],t.abilityMapHero=t.parent.selectedHero().heroName,t.abilityMap=a.computed(function(){if(t.abilityMapHero!=t.parent.selectedHero().heroName){t.abilityMapHero=t.parent.selectedHero().heroName;for(var e=t.parent.ability().abilities().map(function(e,i){return t.parent.ability().isQWER(e)?i:-1}).filter(function(e){return-1!=e}),i=0;25>i;i++){var a=t.skillBuild()[i]();if(-1!=a){var n=t.abilityMapData.indexOf(a),o=e[n];o!=a&&t.skillBuild()[i](o)}}t.abilityMapData=e}}),t.availableSkillBuildPoints=a.computed(function(){return t.skillBuild().reduce(function(e,t){return e+(-1==t())},0)}),t.getSkillBuildAbilityLevel=function(e){return t.skillBuild().reduce(function(t,i){return t+(i()==e)},0)},t.toggleAbilitySkillBuild=function(e,i,a,n){if(t.skillBuild()[e]()!=i){var o=t.parent.ability().abilities()[i],r=(o.abilitytype(),t.skillBuild().slice(0,e)),s=(t.skillBuild().reduce(function(e,t){return e+(t()==i)},0),r.reduce(function(e,t){return e+(t()==i)},0));if(t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,e+1,s)){t.skillBuild()[e](i);for(var l=e+1;25>l;l++)t.skillBuild()[l]()==i&&(s++,t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,l+1,s)||(t.skillBuild()[l](-1),s--))}else if(s>0&&t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,e+1,s-1))for(var l=r.length-1;l>=0;l--)if(r[l]()==i){t.skillBuild()[l](-1),t.skillBuild()[e](i);break}}else t.skillBuild()[e](-1)},t.IsValidAbilityLevel=function(e,t,i,a){var n=1,o=2,r=4;return"attribute_bonus"==e.name()?r=10:"DOTA_ABILITY_TYPE_ULTIMATE"==e.abilitytype()?"invoker"==t?(n=2,o=5):"meepo"==t?(n=3,o=7,r=3):(n=6,o=5,r=3):"invoker"==t&&(r=7),i>=n+o*a&&r>a},t.resetItemBuild=function(e){t.itemBuild()[e].removeAll()},t.resetAllItemBuilds=function(){for(var e=0;25>e;e++)t.itemBuild()[e].removeAll(),t.itemBuild()[e].carryOver(!0)},t.resetSkillBuild=function(){for(var e=0;25>e;e++)t.skillBuild()[e](-1)},t.graphData=a.observableArray([]),t.graphDataHeader=a.observable(t.parent.selectedHero().heroDisplayName),t.parent.selectedHero.subscribe(function(e){t.graphDataHeader(t.parent.selectedHero().heroDisplayName)}),t.graphDataDescription=a.observable(""),t.graphProperties=a.observableArray([new n.prototype.GraphPropertyOption("totalArmorPhysical","Armor"),new n.prototype.GraphPropertyOption("totalArmorPhysicalReduction","Physical Damage Reduction"),new n.prototype.GraphPropertyOption("totalMagicResistance","Magical Resistance"),new n.prototype.GraphPropertyOption("health","Health"),new n.prototype.GraphPropertyOption("healthregen","Health Regeneration"),new n.prototype.GraphPropertyOption("mana","Mana"),new n.prototype.GraphPropertyOption("manaregen","Mana Regeneration"),new n.prototype.GraphPropertyOption("ehpPhysical","EHP Physical"),new n.prototype.GraphPropertyOption("ehpMagical","EHP Magical"),new n.prototype.GraphPropertyOption("damage","Damage per attack"),new n.prototype.GraphPropertyOption("dps","Damage per second"),new n.prototype.GraphPropertyOption("attacksPerSecond","Attacks per second"),new n.prototype.GraphPropertyOption("attackTime","Time per attack")]),t.graph=function(){for(var e=[],i=t.parent.selectedHeroLevel(),n=t.parent.inventory.items(),o=t.parent.inventory.activeItems(),r=a.toJS(t.skillBuild),s=[],l=[],c=[],d=0;d<t.parent.ability().abilities().length;d++)e.push(t.parent.ability().abilities()[d].level());for(var d=1;26>d;d++){t.parent.selectedHeroLevel(d);for(var u=r.slice(0,d),p=0;p<t.parent.ability().abilities().length;p++){var h=t.parent.ability().abilities()[p],m=u.reduce(function(e,t){return e+(t==p)},0);h.level(m)}t.itemBuild()[d-1].carryOver()||(s=[],l=[]),s=s.concat(t.itemBuild()[d-1].items()),l=l.concat(t.itemBuild()[d-1].activeItems()),t.parent.inventory.items(s),t.parent.inventory.activeItems(l);for(var f={},p=0;p<t.graphProperties().length;p++){var b=t.graphProperties()[p];switch(b.id){case"dps":f[b.id]=t.parent.damageTotalInfo().dps.total.toFixed(2);break;case"damage":f[b.id]=t.parent.damageTotalInfo().total.toFixed(2);break;default:f[b.id]=t.parent[b.id]()}}f.items=s.map(function(e){return a.toJS(e)}),c.push(f),s>0&&t.graphDataItemRows[d-1](!0)}for(var g={header:t.graphDataHeader(),description:t.graphDataDescription(),items:t.parent.inventory.items().map(function(e){return a.toJS(e)}),skillBuild:a.toJS(t.skillBuild),data:c,abilityMap:t.abilityMapData.slice(0),cumulativeSkillBuild:[],visible:a.observable(!0)},d=0;25>d;d++){for(var v=[],y=g.skillBuild.slice(0,d+1),p=0;p<g.abilityMap.length;p++){var _=g.abilityMap[p];v.push(y.reduce(function(e,t){return e+(t==_)},0))}g.cumulativeSkillBuild.push(v)}t.graphData.push(g),t.parent.selectedHeroLevel(i);for(var d=0;d<t.parent.ability().abilities().length;d++)t.parent.ability().abilities()[d].level(e[d]);t.parent.inventory.items(n),t.parent.inventory.activeItems(o)},t.removeGraphDataSet=function(e){t.graphData.remove(e)},t.selectedGraphProperty=a.observable(t.graphProperties()[0].id),t.graphChartOptions=a.computed(function(){var e="dark"==n.prototype.theme()?"rgb(151, 154, 162)":"rgb(51, 51, 51)";return{responsive:!0,datasetStroke:!1,datasetStrokeWidth:-1,datasetFill:!1,pointHitDetectionRadius:10,scaleFontColor:e,scaleLineColor:e.replace("rgb","rgba").replace(")",", .1)"),scaleGridLineColor:e.replace("rgb","rgba").replace(")",", .1)")}}),t.graphChartData=a.computed(function(){for(var e={labels:[],datasets:[]},i=0;25>i;i++)e.labels.push((i+1).toString());for(var i=0;i<t.graphData().length;i++){var a=t.graphData()[i],n={label:a.header,fillColor:t.graphDistinctColor(t.graphData().length,i,.1),strokeColor:t.graphDistinctColor(t.graphData().length,i,1),pointColor:t.graphDistinctColor(t.graphData().length,i,1),pointStrokeColor:t.graphDistinctColor(t.graphData().length,i,1),pointHighlightFill:t.graphDistinctColor(t.graphData().length,i,.1),pointHighlightStroke:t.graphDistinctColor(t.graphData().length,i,.5),data:a.data.map(function(e){return e[t.selectedGraphProperty()]})};e.datasets.push(n)}return e}),t.graphDistinctColor=function(e,i,a){var a=a||1,n=t.hslToRgb(1/e*i%1,1,.5);return n.push(a),"rgba("+n.join()+")"},t.getDistinctColor=function(e,i,a){var a=a||1;return rgba=t.hslToRgb(1/e*i%1,1,.5),rgba.push(a),rgba},t.hslToRgb=function(e,t,i){var a,n,o;if(0==t)a=n=o=i;else{var r=function(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e},s=.5>i?i*(1+t):i+t-i*t,l=2*i-s;a=r(l,s,e+1/3),n=r(l,s,e),o=r(l,s,e-1/3)}return[Math.round(255*a),Math.round(255*n),Math.round(255*o)]},t.showGraphItemBuildRows=a.observable(!1),t.showGraphSkillBuildColumns=a.observable(!1),t.graphRowHasItems=function(e){return t.graphData().some(function(t){return t.visible()&&t.data[e].items.length>0})},t.selectInventory=function(e){t.parent.selectedInventory(t.parent.selectedInventory()==e?-1:e)},t.getSelectedInventory=a.pureComputed(function(){return-1==t.parent.selectedInventory()?t.parent.inventory:t.itemBuild()[t.parent.selectedInventory()]}),t.copyInventory=function(e){-1!=t.parent.selectedInventory()&&t.parent.selectedInventory()!=e&&(t.itemBuild()[t.parent.selectedInventory()].items(t.itemBuild()[t.parent.selectedInventory()].items().concat(t.itemBuild()[e].items())),t.itemBuild()[t.parent.selectedInventory()].activeItems(n.prototype.union(t.itemBuild()[t.parent.selectedInventory()].activeItems(),t.itemBuild()[e].activeItems())))},t.copyInventoryToClipBoard=function(e){-1==e?(n.prototype.inventoryClipBoard.items=t.parent.inventory.items.slice(0),n.prototype.inventoryClipBoard.activeItems=t.parent.inventory.activeItems.slice(0)):(n.prototype.inventoryClipBoard.items=t.itemBuild()[e].items.slice(0),n.prototype.inventoryClipBoard.activeItems=t.itemBuild()[e].activeItems.slice(0))},t.pasteInventoryFromClipBoard=function(e){n.prototype.inventoryClipBoard.items.length>0&&(-1==e?(t.parent.inventory.items(t.parent.inventory.items().concat(n.prototype.inventoryClipBoard.items)),t.parent.inventory.activeItems(n.prototype.union(t.parent.inventory.activeItems(),n.prototype.inventoryClipBoard.activeItems))):(t.itemBuild()[e].items(t.itemBuild()[e].items().concat(n.prototype.inventoryClipBoard.items)),t.itemBuild()[e].activeItems(n.prototype.union(t.itemBuild()[e].activeItems(),n.prototype.inventoryClipBoard.activeItems))))},t.loadGraphData=function(e){t.parent.sectionDisplay().skillbuild(!0);for(var i=0;i<e.length;i++)e[i].visible=a.observable(e[i].visible);t.graphData(e)},t.graphChartContext=a.observable(),t.exportImage=function(){var e=window.open();e.document.write('<img src="'+t.graphChartContext().canvas.toDataURL()+'"/>')},t}}),define("herocalc/herocalc_hero_damage",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.DamageTypeColor={physical:"#979aa2",pure:"goldenrod",magic:"#428bca","default":"#979aa2"},n.prototype.DamageDetailsRow=function(e,t,i,n){this.label=e,this.damage=t,this.damageReduced=i,this.visible=a.observable(n),this.enabled=a.observable(n)},n.prototype.HeroDamageMixin=function(e){e.critInfo=a.pureComputed(function(){function t(e,t){return e.multiplier<t.multiplier?1:e.multiplier>t.multiplier?-1:0}var i=e.inventory.getCritSource();$.extend(i,e.ability().getCritSource()),$.extend(i,e.buffs.getCritSource());var a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}a.sort(t);for(var r=[],s=0,l=0;l<a.length;l++){for(var c=1,d=0;l>d;d++)for(var u=0;u<a[d].count;u++)c*=1-a[d].chance;for(var p=1,u=0;u<a[l].count;u++)p*=1-a[l].chance;c*=1-p,s+=c,a[l].count>1?r.push({name:a[l].displayname+" x"+a[l].count,chance:a[l].chance,multiplier:a[l].multiplier,count:a[l].count,totalChance:c}):r.push({name:a[l].displayname,chance:a[l].chance,multiplier:a[l].multiplier,count:a[l].count,totalChance:c})}return{sources:r,total:s}}),e.cleaveInfo=a.pureComputed(function(){function t(e,t){return e.radius<t.radius?1:e.radius>t.radius?-1:0}var i=e.inventory.getCleaveSource();$.extend(i,e.ability().getCleaveSource()),$.extend(i,e.buffs.getCleaveSource());var a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}a.sort(t);for(var r={},s=0;s<a.length;s++){for(var l=0,c=0;c<a.length;c++)a[c].radius>=a[s].radius&&(l+=a[c].magnitude*a[c].count);r[a[s].radius]=l}var d=[];for(var n in r)d.push({radius:n,magnitude:r[n]});return d}),e.bashInfo=a.pureComputed(function(){var t=e.heroData().attacktype,i=e.inventory.getBashSource(t);$.extend(i,e.ability().getBashSource());var a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}for(var r=[],s=0,l=0;l<a.length;l++){for(var c=1,d=0;l>d;d++)for(var u=0;u<a[d].count;u++)c*=1-a[d].chance;for(var p=1,u=0;u<a[l].count;u++)p*=1-a[l].chance;if(c*=1-p,s+=c,"spirit_breaker_greater_bash"===a[l].name)var h=a[l].damage*e.totalMovementSpeed();else var h=a[l].damage;a[l].count>1?r.push({name:a[l].displayname,chance:a[l].chance,damage:h,count:a[l].count,damageType:a[l].damageType,totalChance:c}):r.push({name:a[l].displayname,chance:a[l].chance,damage:h,count:a[l].count,damageType:a[l].damageType,totalChance:c})}return{sources:r,total:s}}),e.orbProcInfo=a.pureComputed(function(){function t(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:e.damage<t.damage?1:e.damage>t.damage?-1:0}var i=(e.heroData().attacktype,e.inventory.getOrbProcSource()),a=[];for(var n in i){var o=i[n];o.name=n,a.push(o)}a.sort(t);for(var r=[],s=0,l=0;l<a.length;l++){for(var c=1,d=0;l>d;d++)for(var u=0;u<a[d].count;u++)c*=1-a[d].chance;for(var p=1,u=0;u<a[l].count;u++)p*=1-a[l].chance;c*=1-p,s+=c,a[l].count>1?r.push({name:a[l].displayname+" x"+a[l].count,chance:a[l].chance,damage:a[l].damage,count:a[l].count,damageType:a[l].damageType,totalChance:c}):r.push({name:a[l].displayname,chance:a[l].chance,damage:a[l].damage,count:a[l].count,damageType:a[l].damageType,totalChance:c})}return{sources:r,total:s}}),e.getReducedDamage=function(t,i){var a=t;switch(i){case"physical":a=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":a=t*(1-e.enemy().totalMagicResistance()/100);break;case"pure":a=t;break;case"composite":a=t*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),a*=1-e.enemy().totalMagicResistance()/100}return a*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),a*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=a.pureComputed(function(){var t=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],i=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],o=e.inventory.getBonusDamage().sources,r=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,s=e.critInfo(),l=e.ability().getOrbSource(),c=e.inventory.getOrbSource(),d=e.orbProcInfo(),u=e.bashInfo(),p=[];if(p.push({name:"Base Attack",cooldown:1}),"weaver"===e.selectedHero().heroName){var h=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name()});if(h&&h.level()>0){var m=h.cooldown()[h.level()-1];p.push({name:h.displayname(),cooldown:1/m})}}var f=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(f&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.hero().attacktype()){var b=n.prototype.itemData.item_echo_sabre;p.push({name:b.displayname,cooldown:1/b.cooldown})}var g=p.map(function(p){var h=(e.baseDamage()[0]+e.baseDamage()[1])/2,m=0,f=0,b=0,g={damage:0,damageReduced:0,cooldown:6,active:!1},v=({damage:0,damageReduced:0,cooldown:n.prototype.itemData.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),y=[],_=[];y.push({name:"Base Damage",damage:h,damageType:"physical",damageReduced:e.getReducedDamage(h,"physical"),enabled:a.observable(!0)}),m+=h,f+=h,v.physical+=h;for(w in o){var x=o[w].damage*o[w].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();y.push({name:o[w].displayname+(o[w].count>1?" x"+o[w].count:""),damage:x,damageType:o[w].damageType,damageReduced:e.getReducedDamage(x,o[w].damageType),enabled:a.observable(!0)}),m+=x,f+=x,v[o[w].damageType]+=x}for(w in r){var x=h*r[w].damage;y.push({name:r[w].displayname,damage:x,damageType:r[w].damageType,damageReduced:e.getReducedDamage(x,r[w].damageType),enabled:a.observable(!0)}),m+=x,f+=x,v[r[w].damageType]+=x}for(var w=0;w<t.length;w++)for(D in t[w]){var x=t[w][D].damage;y.push({name:t[w][D].displayname,damage:x,damageType:t[w][D].damageType,damageReduced:e.getReducedDamage(x,t[w][D].damageType),enabled:a.observable(!0)}),m+=x,f+=x,v[t[w][D].damageType]+=x}for(var w=0;w<i.length;w++)for(D in i[w]){var x=h*i[w][D].damage;y.push({name:i[w][D].displayname,damage:x,damageType:i[w][D].damageType,damageReduced:e.getReducedDamage(x,i[w][D].damageType),enabled:a.observable(!0)}),m+=x,f+=x,v[i[w][D].damageType]+=x}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.hero().attacktype()){if("drow_ranger"===e.selectedHero().heroName)var T=e.ability().getBonusDamagePrecisionAura().sources,A=0;else var T=e.buffs.getBonusDamagePrecisionAura().sources,A=1;if(void 0!=T[A]){if("drow_ranger"===e.selectedHero().heroName)var x=T[A].damage*e.totalAgi();else var x=T[A].damage;y.push({name:T[A].displayname,damage:x,damageType:"physical",damageReduced:e.getReducedDamage(x,"physical"),enabled:a.observable(!0)}),m+=x,f+=x,v.physical+=x}}if("riki"===e.selectedHero().heroName)var T=e.ability().getBonusDamageBackstab().sources,A=0;else var T=e.buffs.getBonusDamageBackstab().sources,A=1;if(void 0!=T[A]){if("riki"===e.selectedHero().heroName)var x=T[A].damage*e.totalAgi();else var x=T[A].damage;y.push({name:T[A].displayname,damage:x,damageType:"physical",damageReduced:e.getReducedDamage(x,"physical"),enabled:a.observable(!0)}),m+=x,v.physical+=x}for(var w=0;w<u.sources.length;w++){var k=u.sources[w],x=u.sources[w].damage,S=e.attacksPerSecond();k.cooldown&&(S=Math.max(1/k.cooldown,S));for(var D=0;D<u.sources[w].count;D++)y.push({name:u.sources[w].name,damage:x,damageType:u.sources[w].damageType,damageReduced:e.getReducedDamage(x,u.sources[w].damageType),dps:x*S*u.sources[w].chance,dpsReduced:e.getReducedDamage(x,u.sources[w].damageType)*S*u.sources[w].chance,enabled:a.observable(!0)}),m+=x,v[u.sources[w].damageType]+=x}for(var w=0;w<d.sources.length;w++){var x=d.sources[w].damage*(1-Math.pow(1-d.sources[w].chance,d.sources[w].count));y.push({name:d.sources[w].name,damage:x,damageType:d.sources[w].damageType,damageReduced:e.getReducedDamage(x,d.sources[w].damageType),enabled:a.observable(!0)}),m+=x,v[d.sources[w].damageType]+=x}for(var I in l){var x=l[I].damage*(1-d.total);y.push({name:l[I].displayname,damage:x,damageType:l[I].damageType,damageReduced:e.getReducedDamage(x,l[I].damageType),enabled:a.observable(!0)}),m+=x,v[l[I].damageType]+=x}if(0===Object.keys(l).length)for(var I in c){var x=c[I].damage*(1-d.total);y.push({name:c[I].displayname,damage:x,damageType:c[I].damageType,damageReduced:e.getReducedDamage(x,c[I].damageType),enabled:a.observable(!0)}),m+=x,v[c[I].damageType]+=x}for(var w=0;w<s.sources.length;w++){var x=f*(s.sources[w].multiplier-1);_.push({name:s.sources[w].name+", "+s.sources[w].multiplier+"x, "+(100*s.sources[w].totalChance).toFixed(1)+"%",damage:x,damageType:"physical",damageReduced:e.getReducedDamage(x,"physical"),enabled:a.observable(!0),chance:s.sources[w].totalChance}),b+=x}var E=e.getReducedDamage(v.pure,"pure")+e.getReducedDamage(v.physical,"physical")+e.getReducedDamage(v.magic,"magic"),C=e.getReducedDamage(b,"physical"),O={base:m*e.attacksPerSecond(),crit:b*e.attacksPerSecond(),geminateAttack:g.active?g.damage/g.cooldown:0,reduced:{base:E*e.attacksPerSecond(),crit:C*e.attacksPerSecond(),geminateAttack:g.active?e.getReducedDamage(g.damage,"physical")/g.cooldown:0}};_.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())*t.chance),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond())*t.chance)}),y.forEach(function(t){t.dps||(t.dps=t.damage*(t.cooldown||e.attacksPerSecond())),t.dpsReduced||(t.dpsReduced=t.damageReduced*(t.cooldown||e.attacksPerSecond()))});var P=_.reduce(function(e,t){return e+t.chance},0),B=a.computed(function(){var e=_.find(function(e){return e.enabled()});return e?e.damage:0}),R=a.computed(function(){var e=_.find(function(e){return e.enabled()});return e?e.damageReduced:0}),N=a.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)}),L=a.computed(function(){return _.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)}),$=a.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damage},0)+B()}),M=a.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.damageReduced},0)+R()}),H=a.computed(function(){return(y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dps},0)+N())*p.cooldown}),V=a.computed(function(){return(y.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.dpsReduced},0)+L())*p.cooldown}),F=[B,R,N,L],z=[$,M,H,V];return{name:p.name+" Subtotal",cooldown:p.cooldown,enabled:a.observable(!0),visible:a.observable(!0),totalCritChance:P,totalCritRow:F,totalRow:z,sources:y,sourcesCrit:_,total:m,totalCrit:b,totalGeminateAttack:m+g.damage,totalGeminateAttackReduced:E+g.damageReduced,geminateAttack:g,totalCritReduced:C,totalReduced:E,sumTotal:m+b,sumTotalReduced:E+C,dps:{base:O.base,crit:O.base+O.crit,geminateAttack:O.base+O.geminateAttack,total:O.base+O.crit+O.geminateAttack,reduced:{base:O.reduced.base,crit:O.reduced.base+O.reduced.crit,geminateAttack:O.reduced.base+O.reduced.geminateAttack,total:O.reduced.base+O.reduced.crit+O.reduced.geminateAttack}}}}),v=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[0]()},0)}),y=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[1]()},0)}),_=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[2]()},0)}),x=a.computed(function(){return g.filter(function(e){return e.enabled()}).reduce(function(e,t){return e+t.totalRow[3]()},0)});return{attacks:g,totalRow:[v,y,_,x]}}),e.getDamageTypeColor=function(e){return n.prototype.DamageTypeColor[e]||n.prototype.DamageTypeColor["default"]}}}),define("herocalc/herocalc_hero_damageamp",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.HeroDamageAmpMixin=function(e){e.damageBrackets=[["medusa_mana_shield","templar_assassin_refraction","faceless_void_backtrack","nyx_assassin_spiked_carapace"],["spectre_dispersion","wisp_overcharge","slardar_sprint","bristleback_bristleback","undying_flesh_golem"],["abaddon_borrowed_time","abaddon_aphotic_shield","kunkka_ghostship","treant_living_armor"],["chen_penitence","medusa_stone_gaze","shadow_demon_soul_catcher"],["dazzle_shallow_grave"]],e.getDamageAfterBracket=function(t,i){for(var a=e.damageBrackets[i],o=1,r=0;r<a.length;r++)(void 0!=n.prototype.findWhere(e.damageAmplification.buffs,{name:a[r].name})||void 0!=n.prototype.findWhere(e.damageReduction.buffs,{name:a[r].name}))&&(o+=a[r].value);return t*o},e.processDamageAmpReducBracket=function(t,i,a){for(var o=1,r=[],a=parseFloat(a),s=parseFloat(a),l=0;l<e.damageBrackets[t].length;l++)void 0!=i[e.damageBrackets[t][l]]&&(o=1+parseFloat(i[e.damageBrackets[t][l]].multiplier),s+=a*o-a,r.push(new n.prototype.DamageInstance(i[e.damageBrackets[t][l]].displayname,i[e.damageBrackets[t][l]].damageType,a*o-a,[],s)));return r},e.getDamageAmpReducInstance=function(t,i,a,o){var r=[],s=parseFloat(i),l="initial"==a?"Initial":t[a].displayname;return r=r.concat(e.processDamageAmpReducBracket(0,t,s)),s=r[r.length-1]?r[r.length-1].total:s,r=r.concat(e.processDamageAmpReducBracket(1,t,s)),s=r[r.length-1]?r[r.length-1].total:s,r=r.concat(e.processDamageAmpReducBracket(2,t,s)),s=r[r.length-1]?r[r.length-1].total:s,new n.prototype.DamageInstance(l,o,i,r,r[r.length-1]?r[r.length-1].total:s)},e.getDamageAmpReduc=function(t){var i=[],a={},o=e.damageReduction.getDamageMultiplierSources(),r=e.damageAmplification.getDamageMultiplierSources();$.extend(a,o),$.extend(a,r),i.push(e.getDamageAmpReducInstance(a,t,"initial","physical"));for(var s=["shadow_demon_soul_catcher","medusa_stone_gaze","chen_penitence"],l=0;l<s.length;l++)void 0!=a[s[l]]&&i.push(e.getDamageAmpReducInstance(a,t*a[s[l]].multiplier,s[l],a[s[l]].damageType));return new n.prototype.DamageInstance("Total","physical",t,i,i.reduce(function(e,t){return parseFloat(e)+parseFloat(t.total)},0))},e.damageInputModified=a.computed(function(){return e.getDamageAmpReduc(e.damageInputValue())})}}),define("herocalc/herocalc_hero",["require","exports","module","herocalc_knockout","jquery","./herocalc_core","./herocalc_hero_damage","./herocalc_hero_damageamp"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=(e("jquery"),e("./herocalc_core").HEROCALCULATOR);e("./herocalc_hero_damage").HEROCALCULATOR,e("./herocalc_hero_damageamp").HEROCALCULATOR,n.prototype.totalExp=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400],n.prototype.nextLevelExp=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"],n.prototype.diffProperties=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","critDamage","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"],n.prototype.HeroOptions=[],n.prototype.IllusionOption=function(e,t,i){this.illusionName=e,this.illusionDisplayName=t,this.baseHero=i},n.prototype.HeroOption=function(e,t,i){this.heroName=e,this.heroDisplayName=t,this.hero=i},n.prototype.HeroOption2=function(e){this.heroName=a.computed(function(){return e.selectedHero().heroName}),this.heroDisplayName=a.computed(function(){return e.selectedHero().heroDisplayName}),this.hero=e},n.prototype.DamageInstance=function(e,t,i,a,n){this.label=e||"",this.damageType=t||"",this.value=parseFloat(i)||0,this.data=a||[],this.total=parseFloat(n)||0},n.prototype.createIllusionOptions=function(){var e=[];for(var t in n.prototype.illusionData)e.push(new n.prototype.IllusionOption(t,n.prototype.illusionData[t].displayName,n.prototype.illusionData[t].hero));return e},n.prototype.HeroCalculatorModel=function(e){var t=this;t.index=a.observable(e),t.bound=a.observable(!1),t.playerColorCss=a.computed(function(){return"player-color-"+t.index()}),t.otherHeroes=a.observableArray([]),t.availableCompare=a.computed(function(){return t.otherHeroes().map(function(e){return e.heroOption})}),t.selectedCompare=a.observable(),t.selectedCompare.subscribe(function(e){t.heroCompare(e.hero)}),t.enemies=a.observableArray([]),t.availableEnemies=a.computed(function(){return t.enemies().map(function(e){return e.heroOption})}),t.selectedEnemy=a.observable(),t.selectedEnemy.subscribe(function(e){t.enemy(e.hero)}),t.setHeroOptionStyling=function(e,t){a.applyBindingsToNode(e,{css:t.hero.playerColorCss()},t)},t.availableHeroes=a.observableArray(n.prototype.HeroOptions),t.sectionDisplay=a.observable({inventory:a.observable(!0),ability:a.observable(!0),buff:a.observable(!0),debuff:a.observable(!0),damageamp:a.observable(!1),illusion:a.observable(!1),skillbuild:a.observable(!1),"skillbuild-skills":a.observable(!0),"skillbuild-items":a.observable(!0)}),t.sectionDisplayToggle=function(e){t.sectionDisplay()[e](!t.sectionDisplay()[e]())},t.showUnitTab=a.observable(!1),t.availableHeroes.sort(function(e,t){return e.heroDisplayName==t.heroDisplayName?0:e.heroDisplayName<t.heroDisplayName?-1:1}),t.selectedHero=a.observable(t.availableHeroes()[e]),t.heroOption=new n.prototype.HeroOption2(t),t.selectedHeroLevel=a.observable(1),t.inventory=new n.prototype.InventoryViewModel(t),
t.selectedInventory=a.observable(-1),t.buffs=new n.prototype.BuffViewModel,t.buffs.hasScepter=t.inventory.hasScepter,t.debuffs=new n.prototype.BuffViewModel,t.damageAmplification=new n.prototype.DamageAmpViewModel,t.damageReduction=new n.prototype.DamageAmpViewModel,t.hero=a.computed(function(){return a.mapping.fromJS(n.prototype.heroData["npc_dota_hero_"+t.selectedHero().heroName])}),t.heroData=a.computed(function(){return n.prototype.heroData["npc_dota_hero_"+t.selectedHero().heroName]}),t.heroCompare=a.observable(t),t.enemy=a.observable(t),t.unit=a.observable(t),t.clone=a.observable(t),t.illusions=a.observableArray([]),t.availableIllusions=a.observableArray(n.prototype.createIllusionOptions()),t.selectedIllusion=a.observable(t.availableIllusions()[0]),t.illusionAbilityLevel=a.observable(1),t.illusionAbilityMaxLevel=a.computed(function(){return n.prototype.illusionData[t.selectedIllusion().illusionName].max_level}),t.showDiff=a.observable(!1),t.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype()?10:"invoker_quas"===e.name()||"invoker_wex"===e.name()||"invoker_exort"===e.name()?7:"invoker_invoke"===e.name()?4:"earth_spirit_stone_caller"===e.name()||"ogre_magi_unrefined_fireblast"===e.name()?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype()||"keeper_of_the_light_recall"===e.name()||"keeper_of_the_light_blinding_light"===e.name()||"ember_spirit_activate_fire_remnant"===e.name()||"lone_druid_true_form_battle_cry"===e.name()?3:"puck_ethereal_jaunt"===e.name()||"shadow_demon_shadow_poison_release"===e.name()||"templar_assassin_trap"===e.name()||"spectre_reality"===e.name()?0:"invoker_cold_snap"===e.name()||"invoker_ghost_walk"===e.name()||"invoker_tornado"===e.name()||"invoker_emp"===e.name()||"invoker_alacrity"===e.name()||"invoker_chaos_meteor"===e.name()||"invoker_sun_strike"===e.name()||"invoker_forge_spirit"===e.name()||"invoker_ice_wall"===e.name()||"invoker_deafening_blast"===e.name()?0:"techies_minefield_sign"===e.name()||"techies_focused_detonate"===e.name()?0:4},t.skillPointHistory=a.observableArray(),t.ability=a.computed(function(){var e=new n.prototype.AbilityModel(a.mapping.fromJS(t.heroData().abilities),t);if("earth_spirit"===t.selectedHero().heroName||"ogre_magi"===t.selectedHero().heroName)e.abilities()[3].level(1);else if("invoker"===t.selectedHero().heroName)for(var i=6;16>i;i++)e.abilities()[i].level(1);return t.skillPointHistory.removeAll(),e.hasScepter=t.inventory.hasScepter,e}),t.showCriticalStrikeDetails=a.observable(!1),t.damageInputValue=a.observable(0),t.showDamageDetails=a.observable(!1),t.showStatDetails=a.observable(!1),t.showDamageAmpCalcDetails=a.observable(!1),t.availableSkillPoints=a.computed(function(){for(var e=t.selectedHeroLevel(),i=0;i<t.ability().abilities().length;i++){var a=function(){return i};switch(t.ability().abilities()[i].abilitytype()){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===t.selectedHero().heroName)for(;1==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<2||2==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<7||3==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<11||4==t.ability().abilities()[i].level()&&parseInt(t.selectedHeroLevel())<17;)t.ability().levelDownAbility(a,null,null,t);else if("meepo"===t.selectedHero().heroName)for(;7*(t.ability().abilities()[i].level()-1)+3>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(a,null,null,t);else for(;5*t.ability().abilities()[i].level()+1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(a,null,null,t);break;default:for(;2*t.ability().abilities()[i].level()-1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(a,null,null,t)}}for(var a=function(){return t.skillPointHistory()[t.skillPointHistory().length-1]};t.skillPointHistory().length>e;)t.ability().levelDownAbility(a,null,null,t);return e-t.skillPointHistory().length},this),t.primaryAttribute=a.pureComputed(function(){var e=t.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),t.totalExp=a.pureComputed(function(){return n.prototype.totalExp[t.selectedHeroLevel()-1]}),t.nextLevelExp=a.pureComputed(function(){return n.prototype.nextLevelExp[t.selectedHeroLevel()-1]}),t.startingArmor=a.pureComputed(function(){return(.14*t.heroData().attributebaseagility+t.heroData().armorphysical).toFixed(2)}),t.respawnTime=a.pureComputed(function(){return 5+3.8*t.selectedHeroLevel()}),t.totalAttribute=function(e){return"agi"===e?parseFloat(t.totalAgi()):"int"===e?parseFloat(t.totalInt()):"str"===e?parseFloat(t.totalStr()):0},t.totalAgi=a.pureComputed(function(){return(t.heroData().attributebaseagility+t.heroData().attributeagilitygain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("agi")+2*t.ability().getAttributeBonusLevel()+t.ability().getAgility()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.intStolen=a.observable(0).extend({numeric:0}),t.totalInt=a.pureComputed(function(){return(t.heroData().attributebaseintelligence+t.heroData().attributeintelligencegain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("int")+2*t.ability().getAttributeBonusLevel()+t.ability().getIntelligence()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()+t.intStolen()).toFixed(2)}),t.totalStr=a.pureComputed(function(){return(t.heroData().attributebasestrength+t.heroData().attributestrengthgain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("str")+2*t.ability().getAttributeBonusLevel()+t.ability().getStrength()+t.enemy().ability().getStrengthReduction()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.health=a.pureComputed(function(){return(t.heroData().statushealth+20*Math.floor(t.totalStr())+t.inventory.getHealth()+t.ability().getHealth()).toFixed(2)}),t.healthregen=a.pureComputed(function(){var e=[t.inventory.getHealthRegenAura,t.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return(t.heroData().statushealthregen+.03*t.totalStr()+t.inventory.getHealthRegen()+t.ability().getHealthRegen()+t.buffs.getHealthRegen()+e.value).toFixed(2)}),t.mana=a.pureComputed(function(){return(t.heroData().statusmana+12*t.totalInt()+t.inventory.getMana()+t.ability().getMana()).toFixed(2)}),t.manaregen=a.pureComputed(function(){return((t.heroData().statusmanaregen+.04*t.totalInt()+t.ability().getManaRegen())*(1+t.inventory.getManaRegenPercent())+("crystal_maiden"===t.selectedHero().heroName?2*t.ability().getManaRegenArcaneAura():t.buffs.getManaRegenArcaneAura())+t.inventory.getManaRegenBloodstone()+t.inventory.getManaRegen()-t.enemy().ability().getManaRegenReduction()).toFixed(2)}),t.totalArmorPhysical=a.pureComputed(function(){var e=[t.inventory.getArmorAura,t.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var i=t(e.attributes);return i},{value:0,attributes:[]}),i=[t.enemy().inventory.getArmorReduction,t.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return(t.enemy().ability().getArmorBaseReduction()*t.debuffs.getArmorBaseReduction()*(t.heroData().armorphysical+.14*t.totalAgi())+t.inventory.getArmor()+t.ability().getArmor()+t.enemy().ability().getArmorReduction()+t.buffs.getArmor()+t.buffs.itemBuffs.getArmor()+t.debuffs.getArmorReduction()+e.value+i.value).toFixed(2)}),t.totalArmorPhysicalReduction=a.pureComputed(function(){var e=t.totalArmorPhysical();return e>=0?(.06*t.totalArmorPhysical()/(1+.06*t.totalArmorPhysical())*100).toFixed(2):-(.06*-t.totalArmorPhysical()/(1+.06*-t.totalArmorPhysical())*100).toFixed(2)}),t.totalMovementSpeed=a.pureComputed(function(){var e=100,i=t.ability().setMovementSpeed()>0?t.ability().setMovementSpeed():t.buffs.setMovementSpeed();if(i>0)return i;var a=[t.inventory.getMovementSpeedPercent,t.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),n=[t.enemy().inventory.getMovementSpeedPercentReduction,t.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});return Math.max(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?140:(t.heroData().movementspeed+t.inventory.getMovementSpeedFlat()+t.ability().getMovementSpeedFlat())*(1+a.value+n.value+t.ability().getMovementSpeedPercent()+t.enemy().ability().getMovementSpeedPercentReduction()+t.buffs.getMovementSpeedPercent()+t.debuffs.getMovementSpeedPercentReduction()+t.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),t.totalTurnRate=a.pureComputed(function(){return(t.heroData().movementturnrate*(1+t.enemy().ability().getTurnRateReduction()+t.debuffs.getTurnRateReduction())).toFixed(2)}),t.baseDamage=a.pureComputed(function(){var e=t.totalAttribute(t.primaryAttribute()),i=t.ability().getBaseDamage(),a=t.heroData().attackdamagemin,n=t.heroData().attackdamagemax;return[Math.floor((a+e+i.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*i.multiplier),Math.floor((n+e+i.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*i.multiplier)]}),t.bonusDamage=a.pureComputed(function(){return(t.inventory.getBonusDamage().total+t.ability().getBonusDamage().total+t.buffs.getBonusDamage().total+Math.floor((t.baseDamage()[0]+t.baseDamage()[1])/2*(t.buffs.itemBuffs.getBonusDamagePercent(t.inventory.getBonusDamagePercent()).total+t.ability().getBonusDamagePercent().total+t.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==t.hero().attacktype()?"drow_ranger"==t.selectedHero().heroName?t.ability().getBonusDamagePrecisionAura().total[0]*t.totalAgi():t.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==t.selectedHero().heroName?t.ability().getBonusDamageBackstab().total[0]*t.totalAgi():0))*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()}),t.bonusDamageReduction=a.pureComputed(function(){return Math.abs(t.enemy().ability().getBonusDamageReduction()+t.debuffs.getBonusDamageReduction())}),t.damage=a.pureComputed(function(){return[t.baseDamage()[0]+t.bonusDamage()[0],t.baseDamage()[1]+t.bonusDamage()[1]]}),t.totalMagicResistanceProduct=a.pureComputed(function(){return(1-t.heroData().magicalresistance/100)*t.inventory.getMagicResist()*t.ability().getMagicResist()*t.buffs.getMagicResist()*t.inventory.getMagicResistReductionSelf()*t.enemy().inventory.getMagicResistReduction()*t.enemy().ability().getMagicResistReduction()*t.debuffs.getMagicResistReduction()*t.debuffs.itemBuffs.getMagicResistReduction()}),t.totalMagicResistance=a.pureComputed(function(){return(100*(1-t.totalMagicResistanceProduct())).toFixed(2)}),t.bat=a.pureComputed(function(){var e=t.ability().getBAT();return e>0?e:t.heroData().attackrate}),t.ias=a.pureComputed(function(){var e=[t.inventory.getAttackSpeed,t.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),i=[t.enemy().inventory.getAttackSpeedReduction,t.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]}),a=parseFloat(t.totalAgi())+e.value+i.value+t.ability().getAttackSpeed()+t.enemy().ability().getAttackSpeedReduction()+t.buffs.getAttackSpeed()+t.debuffs.getAttackSpeedReduction()+t.unit().ability().getAttackSpeed();return-80>a?-80:a>500?500:a.toFixed(2)}),t.attackTime=a.pureComputed(function(){return(t.bat()/(1+t.ias()/100)).toFixed(2)}),t.attacksPerSecond=a.pureComputed(function(){return((1+t.ias()/100)/t.bat()).toFixed(2)}),t.evasion=a.pureComputed(function(){if(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped())return 0;var e=t.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-t.inventory.getEvasion()*t.ability().getEvasion()*t.ability().getEvasionBacktrack()*t.buffs.itemBuffs.getEvasion())).toFixed(2)}),t.ehpPhysical=a.pureComputed(function(){var e=t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?1:t.inventory.getEvasion()*t.ability().getEvasion()*t.buffs.itemBuffs.getEvasion();if(t.totalArmorPhysical()>=0)var i=t.health()*(1+.06*t.totalArmorPhysical());else var i=t.health()*(1-.06*t.totalArmorPhysical())/(1-.12*t.totalArmorPhysical());return i/=1-(1-e*t.ability().getEvasionBacktrack()),i/=1-parseFloat(t.enemy().missChance())/100,i*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,i*=1/t.ability().getDamageReduction(),i*=1/t.buffs.getDamageReduction(),i*=1/t.enemy().ability().getDamageAmplification(),i*=1/t.debuffs.getDamageAmplification(),i.toFixed(2)}),t.ehpMagical=a.pureComputed(function(){var e=t.health()/t.totalMagicResistanceProduct();return e*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/t.ability().getDamageReduction(),e*=1/t.buffs.getDamageReduction(),e*=1/t.ability().getEvasionBacktrack(),e*=1/t.enemy().ability().getDamageAmplification(),e*=1/t.debuffs.getDamageAmplification(),e.toFixed(2)}),t.bash=a.pureComputed(function(){var e=t.heroData().attacktype;return(100*(1-t.inventory.getBash(e)*t.ability().getBash())).toFixed(2)}),t.critChance=a.pureComputed(function(){return(100*(1-t.inventory.getCritChance()*t.ability().getCritChance())).toFixed(2)}),n.prototype.HeroDamageMixin(t),t.critDamage=a.computed(function(){return t.critInfo(),0}),t.missChance=a.pureComputed(function(){var e=[t.enemy().inventory.getMissChance,t.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var i=t(e.excludeList);return i.value*=e.value,i},{value:1,excludeList:[]});return(100*(1-t.enemy().ability().getMissChance()*t.debuffs.getMissChance()*e.value)).toFixed(2)}),t.totalattackrange=a.pureComputed(function(){var e=t.heroData().attacktype;return t.heroData().attackrange+t.ability().getAttackRange()+t.inventory.getAttackRange(e).value}),t.visionrangeday=a.pureComputed(function(){return t.heroData().visiondaytimerange*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.visionrangenight=a.pureComputed(function(){return(t.heroData().visionnighttimerange+t.inventory.getVisionRangeNight()+t.ability().getVisionRangeNight())*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.lifesteal=a.pureComputed(function(){var e=t.inventory.getLifesteal()+t.ability().getLifesteal()+t.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==t.hero().attacktype()){var i=[t.inventory.getLifestealAura,t.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var i=t(e.excludeList);return i.value+=e.value,i},{value:0,excludeList:[]});e+=i.value}return e.toFixed(2)}),n.prototype.HeroDamageAmpMixin(t),t.addIllusion=function(e,i){t.illusions.push(a.observable(new n.prototype.IllusionViewModel(0,t,t.illusionAbilityLevel())))},t.diffProperties=n.prototype.diffProperties,t.diff={},t.getDiffFunction=function(e){return a.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})};for(var i=0;i<t.diffProperties.length;i++){var o=i;t.diff[t.diffProperties[o]]=t.getDiffFunction(t.diffProperties[o])}t.buildExplorer=new n.prototype.BuildExplorerViewModel(t)}}),define("herocalc/herocalc_hero.illusion",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.illusionData={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}},n.prototype.IllusionViewModel=function(e,t,i){var o=new n.prototype.HeroCalculatorModel(0);return o.parent=t,o.inventory=o.parent.inventory,o.illusionType=a.observable(o.parent.selectedIllusion().illusionName),o.illusionDisplayName=a.observable(o.parent.selectedIllusion().illusionDisplayName),o.illusionAbilityLevel(i),o.illusionAbilityMaxLevel=a.observable(n.prototype.illusionData[o.parent.selectedIllusion().illusionName].max_level),n.prototype.illusionData[o.illusionType()].use_selected_hero?o.selectedHero(o.parent.selectedHero()):o.selectedHero(n.prototype.findWhere(o.availableHeroes(),{heroName:o.parent.selectedIllusion().baseHero})),o.selectedHeroLevel(o.parent.selectedHeroLevel()),o.hero=a.computed(function(){return a.mapping.fromJS(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName])}),o.ability().getAttributeBonusLevel=o.parent.ability().getAttributeBonusLevel,o.totalAgi=a.computed(function(){return(o.heroData().attributebaseagility+o.heroData().attributeagilitygain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("agi")+2*o.ability().getAttributeBonusLevel()+o.ability().getAgility()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.intStolen=a.observable(0).extend({numeric:0}),o.totalInt=a.computed(function(){return(o.heroData().attributebaseintelligence+o.heroData().attributeintelligencegain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("int")+2*o.ability().getAttributeBonusLevel()+o.ability().getIntelligence()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()+o.intStolen()).toFixed(2)}),o.totalStr=a.computed(function(){return(o.heroData().attributebasestrength+o.heroData().attributestrengthgain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("str")+2*o.ability().getAttributeBonusLevel()+o.ability().getStrength()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.getAbilityAttributeValue=function(e,t,i,a){if("item_manta"==t)var o=n.prototype.itemData[t];else var o=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+e].abilities,{name:t});var r=n.prototype.findWhere(o.attributes,{name:i});return 0==a?parseFloat(r.value[0]):a>r.length?parseFloat(r.value[0]):parseFloat(r.value[a-1])},o.getIncomingDamageMultiplier=function(e,t,i){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage,o.illusionAbilityLevel())/100},o.getOutgoingDamageMultiplier=function(e,t,i){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage,o.illusionAbilityLevel())/100},o.baseDamage=a.computed(function(){return[Math.floor(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].attackdamagemin+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),Math.floor(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].attackdamagemax+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype())]}),o.damage=a.computed(function(){return[o.baseDamage()[0],o.baseDamage()[1]]}),o.ehpPhysical=a.computed(function(){var e=o.health()*(1+.06*o.totalArmorPhysical())/(1-(1-o.inventory.getEvasion()*o.ability().getEvasion()));return e*=o.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),e.toFixed(2)}),o.ehpMagical=a.computed(function(){var e=o.health()/o.totalMagicResistanceProduct();return e*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),e.toFixed(2)}),o.totalArmorPhysical=a.computed(function(){return(o.enemy().ability().getArmorBaseReduction()*o.debuffs.getArmorBaseReduction()*(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].armorphysical+.14*o.totalAgi())+o.ability().getArmor()+o.enemy().ability().getArmorReduction()+o.buffs.getArmor()+o.debuffs.getArmorReduction()).toFixed(2)}),o.ias=a.computed(function(){var e=parseFloat(o.totalAgi())+o.ability().getAttackSpeed()+o.enemy().ability().getAttackSpeedReduction()+o.buffs.getAttackSpeed()+o.debuffs.getAttackSpeedReduction()+o.unit().ability().getAttackSpeed();return-80>e?-80:e>400?400:e.toFixed(2)}),o}}),define("herocalc/herocalc_hero.meepo",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.CloneOption=function(e,t,i,n,o){this.heroName=a.computed(function(){return i>0?e+(o()<=i?o():1):e}),this.heroDisplayName=t,this.image=n,this.levels=i},n.prototype.CloneViewModel=function(e,t){var i=new n.prototype.HeroCalculatorModel(0);return i.parent=t,i.selectedHero(n.prototype.findWhere(i.availableHeroes(),{heroName:"meepo"})),i.hero=a.computed(function(){return a.mapping.fromJS(n.prototype.heroData.npc_dota_hero_meepo)}),i}}),define("herocalc/herocalc_unit",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.UnitOption=function(e,t,i,n,o){this.heroName=a.computed(function(){return i>0?e+(o()<=i?o():1):e}),this.heroDisplayName=t,this.image=n,this.levels=i},n.prototype.UnitViewModel=function(e,t){var i=new n.prototype.HeroCalculatorModel(0);return i.parent=t,i.selectedUnitLevel=a.observable(1),i.availableUnits=a.observableArray([new n.prototype.UnitOption("npc_dota_lone_druid_bear","Lone Druid Spirit Bear",4,"/media/images/units/spirit_bear.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_brewmaster_earth_","Brewmaster Earth Warrior",3,"/media/images/units/npc_dota_brewmaster_earth.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_brewmaster_fire_","Brewmaster Fire Warrior",3,"/media/images/units/npc_dota_brewmaster_fire.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_brewmaster_storm_","Brewmaster Storm Warrior",3,"/media/images/units/npc_dota_brewmaster_storm.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_necronomicon_archer_","Necronomicon Archer",3,"/media/images/units/npc_dota_necronomicon_archer.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_necronomicon_warrior_","Necronomicon Warrior",3,"/media/images/units/npc_dota_necronomicon_warrior.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_lycan_wolf","Lycan Wolf",4,"/media/images/units/npc_dota_lycan_wolf.png",i.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_visage_familiar","Visage Familiar",3,"/media/images/units/npc_dota_visage_familiar.png",i.selectedUnitLevel)]),i.selectedUnit=a.observable(i.availableUnits()[e]),i.selectedUnit.subscribe(function(e){-1!=e.heroName().indexOf("npc_dota_lone_druid_bear")?(i.inventory.hasInventory(!0),i.inventory.items.removeAll(),i.inventory.activeItems.removeAll()):(i.inventory.hasInventory(!1),i.inventory.items.removeAll(),i.inventory.activeItems.removeAll())}),i.hero=a.computed(function(){return a.mapping.fromJS(n.prototype.unitData[i.selectedUnit().heroName()])}),i.heroData=a.computed(function(){return n.prototype.unitData[i.selectedUnit().heroName()]}),i.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==e.abilitytype()?10:"necronomicon_archer_mana_burn"==e.name()||"necronomicon_archer_aoe"==e.name()||"necronomicon_warrior_mana_burn"==e.name()||"necronomicon_warrior_last_will"==e.name()?3:"necronomicon_warrior_sight"==e.name()?1:4},i.ability=a.computed(function(){var e=new n.prototype.AbilityModel(a.mapping.fromJS(n.prototype.unitData[i.selectedUnit().heroName()].abilities));switch(e.hasScepter=i.inventory.hasScepter,i.selectedUnit().heroName()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":e.abilities()[0].level(1),e.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":e.abilities()[0].level(2),e.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":e.abilities()[0].level(3),e.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":e.abilities()[0].level(3),e.abilities()[1].level(3),e.abilities()[2].level(1)}return e.levelUpAbility=function(t,i,a,n){switch(e.abilities()[t()].name()){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[t()].level()<n.getAbilityLevelMax(i)&&e.abilities()[t()].level(e.abilities()[t()].level()+1)}},e.levelDownAbility=function(t,i,a,n){switch(e.abilities()[t()].name()){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[t()].level()>0&&e.abilities()[t()].level(e.abilities()[t()].level()-1)}},e}),i.primaryAttribute=a.computed(function(){var e=0;return"DOTA_ATTRIBUTE_AGILITY"==e?"agi":"DOTA_ATTRIBUTE_INTELLECT"==e?"int":"DOTA_ATTRIBUTE_STRENGTH"==e?"str":""}),i.totalAttribute=function(e){return"agi"==e?parseFloat(i.totalAgi()):"int"==e?parseFloat(i.totalInt()):"str"==e?parseFloat(i.totalStr()):0},i.totalAgi=a.computed(function(){return(n.prototype.unitData[i.selectedUnit().heroName()].attributebaseagility+n.prototype.unitData[i.selectedUnit().heroName()].attributeagilitygain*(i.selectedHeroLevel()-1)+2*i.ability().getAttributeBonusLevel()+i.ability().getAgility()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.totalInt=a.computed(function(){return(n.prototype.unitData[i.selectedUnit().heroName()].attributebaseintelligence+n.prototype.unitData[i.selectedUnit().heroName()].attributeintelligencegain*(i.selectedHeroLevel()-1)+2*i.ability().getAttributeBonusLevel()+i.ability().getIntelligence()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.totalStr=a.computed(function(){return(n.prototype.unitData[i.selectedUnit().heroName()].attributebasestrength+n.prototype.unitData[i.selectedUnit().heroName()].attributestrengthgain*(i.selectedHeroLevel()-1)+2*i.ability().getAttributeBonusLevel()+i.ability().getStrength()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.baseDamage=a.computed(function(){return[Math.floor(n.prototype.unitData[i.selectedUnit().heroName()].attackdamagemin+i.totalAttribute(i.primaryAttribute())+i.ability().getBaseDamage().total),Math.floor(n.prototype.unitData[i.selectedUnit().heroName()].attackdamagemax+i.totalAttribute(i.primaryAttribute())+i.ability().getBaseDamage().total)]}),i.totalMagicResistanceProduct=a.computed(function(){return(1-n.prototype.unitData[i.selectedUnit().heroName()].magicalresistance/100)*(1-i.inventory.getMagicResist()/100)*(1-i.ability().getMagicResist()/100)*(1-i.buffs.getMagicResist()/100)*i.enemy().inventory.getMagicResistReduction()*i.enemy().ability().getMagicResistReduction()*i.debuffs.getMagicResistReduction()}),i.totalMagicResistance=a.computed(function(){return 1-i.totalMagicResistanceProduct()}),i.bat=a.computed(function(){var e=i.ability().getBAT();return e>0?e:n.prototype.unitData[i.selectedUnit().heroName()].attackrate}),i.attackTime=a.computed(function(){return(i.bat()/(1+i.ias()/100)).toFixed(2)}),i.attacksPerSecond=a.computed(function(){return(1+i.ias()/100)/i.bat()}),i.evasion=a.computed(function(){var e=i.ability().setEvasion();return e?(100*e).toFixed(2)+"%":(100*(1-i.inventory.getEvasion()*i.ability().getEvasion())).toFixed(2)+"%"}),i.ehpPhysical=a.computed(function(){return(i.health()*(1+.06*i.totalArmorPhysical())/(1-(1-i.inventory.getEvasion()*i.ability().getEvasion()))).toFixed(2)}),i.ehpMagical=a.computed(function(){return(i.health()/i.totalMagicResistanceProduct()).toFixed(2)}),i}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,a=this;e(this).one(e.support.transition.end,function(){i=!0});var n=function(){i||e(a).trigger(e.support.transition.end)};return setTimeout(n,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){
e(i).on("click",t,this.close)};i.prototype.close=function(t){function i(){o.trigger("closed.bs.alert").remove()}var a=e(this),n=a.attr("data-target");n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var o=e(n);t&&t.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one(e.support.transition.end,i).emulateTransitionEnd(150):i())};var a=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var a=e(this),n=a.data("bs.alert");n||a.data("bs.alert",n=new i(this)),"string"==typeof t&&n[t].call(a)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=a,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),+function(e){"use strict";var t=function(i,a){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,a),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var i="disabled",a=this.$element,n=a.is("input")?"val":"html",o=a.data();t+="Text",o.resetText||a.data("resetText",a[n]()),a[n](o[t]||this.options[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,a.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,a.removeClass(i).removeAttr(i))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var a=e(this),n=a.data("bs.button"),o="object"==typeof i&&i;n||a.data("bs.button",n=new t(this,o)),"toggle"==i?n.toggle():i&&n.setState(i)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),t.preventDefault()})}(jQuery),+function(e){"use strict";var t=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var i=this,a=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,i){var a=this.$element.find(".item.active"),n=i||a[t](),o=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[s]()}if(n.hasClass("active"))return this.sliding=!1;var c=e.Event("slide.bs.carousel",{relatedTarget:n[0],direction:r});return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(this.sliding=!0,o&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),n[0].offsetWidth,a.addClass(r),n.addClass(r),a.one(e.support.transition.end,function(){n.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),o&&this.cycle(),this)};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each(function(){var a=e(this),n=a.data("bs.carousel"),o=e.extend({},t.DEFAULTS,a.data(),"object"==typeof i&&i),r="string"==typeof i?i:o.slide;n||a.data("bs.carousel",n=new t(this,o)),"number"==typeof i?n.to(i):r?n[r]():o.interval&&n.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var i,a=e(this),n=e(a.attr("data-target")||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=e.extend({},n.data(),a.data()),r=a.attr("data-slide-to");r&&(o.interval=!1),n.carousel(o),(r=a.attr("data-slide-to"))&&n.data("bs.carousel").to(r),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){"use strict";var t=function(i,a){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var a=i.data("bs.collapse");if(a&&a.transitioning)return;i.collapse("hide"),a||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var r=e.camelCase(["scroll",n].join("-"));this.$element.one(e.support.transition.end,e.proxy(o,this)).emulateTransitionEnd(350)[n](this.$element[0][r])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one(e.support.transition.end,e.proxy(a,this)).emulateTransitionEnd(350):a.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var a=e(this),n=a.data("bs.collapse"),o=e.extend({},t.DEFAULTS,a.data(),"object"==typeof i&&i);!n&&o.toggle&&"show"==i&&(i=!i),n||a.data("bs.collapse",n=new t(this,o)),"string"==typeof i&&n[i]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var i,a=e(this),n=a.attr("data-target")||t.preventDefault()||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=e(n),r=o.data("bs.collapse"),s=r?"toggle":a.data(),l=a.attr("data-parent"),c=l&&e(l);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(a).addClass("collapsed"),a[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(s)})}(jQuery),+function(e){"use strict";function t(t){e(a).remove(),e(n).each(function(){var a=i(e(this)),n={relatedTarget:this};a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown",n)),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",n))})}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var a=i&&e(i);return a&&a.length?a:t.parent()}var a=".dropdown-backdrop",n="[data-toggle=dropdown]",o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(a){var n=e(this);if(!n.is(".disabled, :disabled")){var o=i(n),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown",s),n.focus()}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var o=i(a),r=o.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&o.find(n).focus(),a.click();var s=" li:not(.divider):visible a",l=o.find("[role=menu]"+s+", [role=listbox]"+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).focus()}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),a=i.data("bs.dropdown");a||i.data("bs.dropdown",a=new o(this)),"string"==typeof t&&a[t].call(i)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,o.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu], [role=listbox]",o.prototype.keydown)}(jQuery),+function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var i=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var a=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),a&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=e.Event("shown.bs.modal",{relatedTarget:t});a?i.$element.find(".modal-dialog").one(e.support.transition.end,function(){i.$element.focus().trigger(n)}).emulateTransitionEnd(300):i.$element.focus().trigger(n)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var i=e.fn.modal;e.fn.modal=function(i,a){return this.each(function(){var n=e(this),o=n.data("bs.modal"),r=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i);o||n.data("bs.modal",o=new t(this,r)),"string"==typeof i?o[i](a):r.show&&o.show(a)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),a=i.attr("href"),n=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},n.data(),i.data());i.is("a")&&t.preventDefault(),n.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,a){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(a);for(var n=this.options.trigger.split(" "),o=n.length;o--;){var r=n[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,a){i[e]!=a&&(t[e]=a)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var i=this,a=this.tip();this.setContent(),this.options.animation&&a.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,r=o.test(n);r&&(n=n.replace(o,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var s=this.getPosition(),l=a[0].offsetWidth,c=a[0].offsetHeight;if(r){var d=this.$element.parent(),u=n,p=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:d.outerWidth(),m="body"==this.options.container?window.innerHeight:d.outerHeight(),f="body"==this.options.container?0:d.offset().left;n="bottom"==n&&s.top+s.height+c-p>m?"top":"top"==n&&s.top-p-c<0?"bottom":"right"==n&&s.right+l>h?"left":"left"==n&&s.left-l<f?"right":n,a.removeClass(u).addClass(n)}var b=this.getCalculatedOffset(n,s,l,c);this.applyPlacement(b,n),this.hoverState=null;var g=function(){i.$element.trigger("shown.bs."+i.type)};e.support.transition&&this.$tip.hasClass("fade")?a.one(e.support.transition.end,g).emulateTransitionEnd(150):g()}},t.prototype.applyPlacement=function(t,i){var a,n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,s=parseInt(n.css("margin-top"),10),l=parseInt(n.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(l)&&(l=0),t.top=t.top+s,t.left=t.left+l,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var c=n[0].offsetWidth,d=n[0].offsetHeight;if("top"==i&&d!=r&&(a=!0,t.top=t.top+r-d),/bottom|top/.test(i)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,n.offset(t),c=n[0].offsetWidth,d=n[0].offsetHeight),this.replaceArrow(u-o+c,c,"left")}else this.replaceArrow(d-r,d,"top");a&&n.offset(t)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=i.hoverState&&a.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,a=this.tip(),n=e.Event("hide.bs."+this.type);return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,i,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-i}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var a=e(this),n=a.data("bs.tooltip"),o="object"==typeof i&&i;(n||"destroy"!=i)&&(n||a.data("bs.tooltip",n=new t(this,o)),"string"==typeof i&&n[i]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var a=e(this),n=a.data("bs.popover"),o="object"==typeof i&&i;(n||"destroy"!=i)&&(n||a.data("bs.popover",n=new t(this,o)),"string"==typeof i&&n[i]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(i,a){var n,o=e.proxy(this.process,this);this.$element=e(e(i).is("body")?window:i),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||(n=e(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var i=this;this.$body.find(this.selector).map(function(){var a=e(this),n=a.data("target")||a.attr("href"),o=/^#./.test(n)&&e(n);return o&&o.length&&o.is(":visible")&&[[o[t]().top+(!e.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,a=i-this.$scrollElement.height(),n=this.offsets,o=this.targets,r=this.activeTarget;if(t>=a)return r!=(e=o.last()[0])&&this.activate(e);if(r&&t<=n[0])return r!=(e=o[0])&&this.activate(e);for(e=n.length;e--;)r!=o[e]&&t>=n[e]&&(!n[e+1]||t<=n[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(i).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var a=e(this),n=a.data("bs.scrollspy"),o="object"==typeof i&&i;n||a.data("bs.scrollspy",n=new t(this,o)),"string"==typeof i&&n[i]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:n});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(a);this.activate(t.parent("li"),i),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:n})})}}},t.prototype.activate=function(t,i,a){function n(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=i.find("> .active"),r=a&&e.support.transition&&o.hasClass("fade");r?o.one(e.support.transition.end,n).emulateTransitionEnd(150):n(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var a=e(this),n=a.data("bs.tab");n||a.data("bs.tab",n=new t(this)),"string"==typeof i&&n[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){"use strict";var t=function(i,a){this.options=e.extend({},t.DEFAULTS,a),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=e(document).height(),a=this.$window.scrollTop(),n=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"top"==this.affixed&&(n.top+=a),"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=n.top?!1:null!=s&&n.top+this.$element.height()>=i-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),d=e.Event(c+".bs.affix");this.$element.trigger(d),d.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-s-this.$element.height()}))}}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var a=e(this),n=a.data("bs.affix"),o="object"==typeof i&&i;n||a.data("bs.affix",n=new t(this,o)),"string"==typeof i&&n[i]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(jQuery),define("bootstrap",["jquery"],function(){}),function(e){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],e):e(jQuery)}(function(e){function t(t,a){var n,o,r,s=t.nodeName.toLowerCase();return"area"===s?(n=t.parentNode,o=n.name,t.href&&o&&"map"===n.nodeName.toLowerCase()?(r=e("img[usemap='#"+o+"']")[0],!!r&&i(r)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||a:a)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function a(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),a="absolute"===i,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return a&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,a){return!!e.data(t,a[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var a=e.attr(i,"tabindex"),n=isNaN(a);return(n||a>=0)&&t(i,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function a(t,i,a,o){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,a&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(o,a(this,t)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(o,a(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,a){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),a&&a.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,a,n=e(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,i,a){var n,o=e.ui[t].prototype;for(n in a)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,a[n]]);
},call:function(e,t,i,a){var n,o=e.plugins[t];if(o&&(a||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,i)}};var n=0,o=Array.prototype.slice;e.cleanData=function(t){return function(i){var a,n,o;for(o=0;null!=(n=i[o]);o++)try{a=e._data(n,"events"),a&&a.remove&&e(n).triggerHandler("remove")}catch(r){}t(i)}}(e.cleanData),e.widget=function(t,i,a){var n,o,r,s,l={},c=t.split(".")[0];return t=t.split(".")[1],n=c+"-"+t,a||(a=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[c]=e[c]||{},o=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,o,{version:a.version,_proto:e.extend({},a),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(a,function(t,a){return e.isFunction(a)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=a.apply(this,arguments),this._super=i,this._superApply=o,t}}()):void(l[t]=a)}),r.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,i){var a=i.prototype;e.widget(a.namespace+"."+a.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,a,n=o.call(arguments,1),r=0,s=n.length;s>r;r++)for(i in n[r])a=n[r][i],n[r].hasOwnProperty(i)&&void 0!==a&&(e.isPlainObject(a)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):t[i]=a);return t},e.widget.bridge=function(t,i){var a=i.prototype.widgetFullName||t;e.fn[t]=function(n){var r="string"==typeof n,s=o.call(arguments,1),l=this;return n=!r&&s.length?e.widget.extend.apply(null,[n].concat(s)):n,r?this.each(function(){var i,o=e.data(this,a);return"instance"===n?(l=o,!1):o?e.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,s),i!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,a);t?(t.option(n||{}),t._init&&t._init()):e.data(this,a,new i(n,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var a,n,o,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},a=t.split("."),t=a.shift(),a.length){for(n=r[t]=e.widget.extend({},this.options[t]),o=0;o<a.length-1;o++)n[a[o]]=n[a[o]]||{},n=n[a[o]];if(t=a.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,a){var n,o=this;"boolean"!=typeof t&&(a=i,i=t,t=!1),a?(i=n=e(i),this.bindings=this.bindings.add(i)):(a=i,i=this.element,n=this.widget()),e.each(a,function(a,r){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(s.guid=r.guid=r.guid||s.guid||e.guid++);var l=a.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,d=l[2];d?n.delegate(d,c,s):i.bind(c,s)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,a){var n,o,r=this.options[t];if(a=a||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,a),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(a))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(a,n,o){"string"==typeof n&&(n={effect:n});var r,s=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=o,n.delay&&a.delay(n.delay),r&&e.effects&&e.effects.effect[s]?a[t](n):s!==t&&a[s]?a[s](n.duration,n.easing,o):a.queue(function(i){e(this)[t](),o&&o.call(a[0]),i()})}});var r=(e.widget,!1);e(document).mouseup(function(){r=!1});e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,a=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return a&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),r=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,i){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function a(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,o,r=Math.max,s=Math.abs,l=Math.round,c=/left|center|right/,d=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,h=/%$/,m=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,i,a=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=a.children()[0];return e("body").append(a),t=o.offsetWidth,a.css("overflow","scroll"),i=o.offsetWidth,t===i&&(i=a[0].clientWidth),a.remove(),n=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),a=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,o="scroll"===a||"auto"===a&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),a=e.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:a,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:a||n?i.width():i.outerWidth(),height:a||n?i.height():i.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return m.apply(this,arguments);n=e.extend({},n);var h,f,b,g,v,y,_=e(n.of),x=e.position.getWithinInfo(n.within),w=e.position.getScrollInfo(x),T=(n.collision||"flip").split(" "),A={};return y=a(_),_[0].preventDefault&&(n.at="left top"),f=y.width,b=y.height,g=y.offset,v=e.extend({},g),e.each(["my","at"],function(){var e,t,i=(n[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):d.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=d.test(i[1])?i[1]:"center",e=u.exec(i[0]),t=u.exec(i[1]),A[this]=[e?e[0]:0,t?t[0]:0],n[this]=[p.exec(i[0])[0],p.exec(i[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===n.at[0]?v.left+=f:"center"===n.at[0]&&(v.left+=f/2),"bottom"===n.at[1]?v.top+=b:"center"===n.at[1]&&(v.top+=b/2),h=t(A.at,f,b),v.left+=h[0],v.top+=h[1],this.each(function(){var a,c,d=e(this),u=d.outerWidth(),p=d.outerHeight(),m=i(this,"marginLeft"),y=i(this,"marginTop"),k=u+m+i(this,"marginRight")+w.width,S=p+y+i(this,"marginBottom")+w.height,D=e.extend({},v),I=t(A.my,d.outerWidth(),d.outerHeight());"right"===n.my[0]?D.left-=u:"center"===n.my[0]&&(D.left-=u/2),"bottom"===n.my[1]?D.top-=p:"center"===n.my[1]&&(D.top-=p/2),D.left+=I[0],D.top+=I[1],o||(D.left=l(D.left),D.top=l(D.top)),a={marginLeft:m,marginTop:y},e.each(["left","top"],function(t,i){e.ui.position[T[t]]&&e.ui.position[T[t]][i](D,{targetWidth:f,targetHeight:b,elemWidth:u,elemHeight:p,collisionPosition:a,collisionWidth:k,collisionHeight:S,offset:[h[0]+I[0],h[1]+I[1]],my:n.my,at:n.at,within:x,elem:d})}),n.using&&(c=function(e){var t=g.left-D.left,i=t+f-u,a=g.top-D.top,o=a+b-p,l={target:{element:_,left:g.left,top:g.top,width:f,height:b},element:{element:d,left:D.left,top:D.top,width:u,height:p},horizontal:0>i?"left":t>0?"right":"center",vertical:0>o?"top":a>0?"bottom":"middle"};u>f&&s(t+i)<f&&(l.horizontal="center"),p>b&&s(a+o)<b&&(l.vertical="middle"),r(s(t),s(i))>r(s(a),s(o))?l.important="horizontal":l.important="vertical",n.using.call(this,e,l)}),d.offset(e.extend(D,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollLeft:a.offset.left,o=a.width,s=e.left-t.collisionPosition.marginLeft,l=n-s,c=s+t.collisionWidth-o-n;t.collisionWidth>o?l>0&&0>=c?(i=e.left+l+t.collisionWidth-o-n,e.left+=l-i):c>0&&0>=l?e.left=n:l>c?e.left=n+o-t.collisionWidth:e.left=n:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-s,e.left)},top:function(e,t){var i,a=t.within,n=a.isWindow?a.scrollTop:a.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=n-s,c=s+t.collisionHeight-o-n;t.collisionHeight>o?l>0&&0>=c?(i=e.top+l+t.collisionHeight-o-n,e.top+=l-i):c>0&&0>=l?e.top=n:l>c?e.top=n+o-t.collisionHeight:e.top=n:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-s,e.top)}},flip:{left:function(e,t){var i,a,n=t.within,o=n.offset.left+n.scrollLeft,r=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-r-l,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];0>d?(i=e.left+p+h+m+t.collisionWidth-r-o,(0>i||i<s(d))&&(e.left+=p+h+m)):u>0&&(a=e.left-t.collisionPosition.marginLeft+p+h+m-l,(a>0||s(a)<u)&&(e.left+=p+h+m))},top:function(e,t){var i,a,n=t.within,o=n.offset.top+n.scrollTop,r=n.height,l=n.isWindow?n.scrollTop:n.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-r-l,p="top"===t.my[1],h=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,m="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,f=-2*t.offset[1];0>d?(a=e.top+h+m+f+t.collisionHeight-r-o,e.top+h+m+f>d&&(0>a||a<s(d))&&(e.top+=h+m+f)):u>0&&(i=e.top-t.collisionPosition.marginTop+h+m+f-l,e.top+h+m+f>u&&(i>0||s(i)<u)&&(e.top+=h+m+f))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,a,n,r,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),a={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(a,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in a)t.style[r]=a[r];t.appendChild(l),i=s||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",n=e(l).offset().left,o=n>10&&11>n,t.innerHTML="",i.removeChild(t)}()}();e.ui.position;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(a){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var a=this._uiHash();if(this._trigger("drag",t,a)===!1)return this._mouseUp({}),!1;this.position=a.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,a=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(a=e.ui.ddmanager.drop(this,t)),this.dropped&&(a=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,a=e.isFunction(i.helper),n=a?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),a&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,a,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=e(n.containment),a=i[0],void(a&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,a=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,a,n,o,r=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(a=this.relativeContainer.offset(),i=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(n=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-r.grid[1]:n+r.grid[1]:n,o=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-r.grid[0]:o+r.grid[0]:o),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,a){return a=a||this._uiHash(),e.ui.plugin.call(this,t,[i,a,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),a.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,a)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,a){var n=e.extend({},i,{item:a.element});a.sortables=[],e(a.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(a.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,n))})},stop:function(t,i,a){var n=e.extend({},i,{item:a.element});a.cancelHelperRemoval=!1,e.each(a.sortables,function(){var e=this;e.isOver?(e.isOver=0,a.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,i,a){e.each(a.sortables,function(){var n=!1,o=this;o.positionAbs=a.positionAbs,o.helperProportions=a.helperProportions,o.offset.click=a.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,e.each(a.sortables,function(){return this.positionAbs=a.positionAbs,this.helperProportions=a.helperProportions,this.offset.click=a.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=a.offset.click.top,o.offset.click.left=a.offset.click.left,o.offset.parent.left-=a.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=a.offset.parent.top-o.offset.parent.top,a._trigger("toSortable",t),a.dropped=o.element,e.each(a.sortables,function(){this.refreshPositions()}),a.currentItem=a.element,o.fromOutside=a),o.currentItem&&(o._mouseDrag(t),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),a._refreshOffsets(t),i.position=a._generatePosition(t,!0),a._trigger("fromSortable",t),a.dropped=!1,e.each(a.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,a){var n=e("body"),o=a.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,i,a){var n=a.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,a){var n=e(i.helper),o=a.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,i,a){var n=a.options;n._opacity&&e(i.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,a){var n=a.options,o=!1,r=a.scrollParentNotHidden[0],s=a.document[0];r!==s&&"HTML"!==r.tagName?(n.axis&&"x"===n.axis||(a.overflowOffset.top+r.offsetHeight-t.pageY<n.scrollSensitivity?r.scrollTop=o=r.scrollTop+n.scrollSpeed:t.pageY-a.overflowOffset.top<n.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(a.overflowOffset.left+r.offsetWidth-t.pageX<n.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+n.scrollSpeed:t.pageX-a.overflowOffset.left<n.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(s).scrollTop()<n.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<n.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(s).scrollLeft()<n.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<n.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+n.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(a,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,a){var n=a.options;a.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),i=t.offset();this!==a.element[0]&&a.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,a){
var n,o,r,s,l,c,d,u,p,h,m=a.options,f=m.snapTolerance,b=i.offset.left,g=b+a.helperProportions.width,v=i.offset.top,y=v+a.helperProportions.height;for(p=a.snapElements.length-1;p>=0;p--)l=a.snapElements[p].left-a.margins.left,c=l+a.snapElements[p].width,d=a.snapElements[p].top-a.margins.top,u=d+a.snapElements[p].height,l-f>g||b>c+f||d-f>y||v>u+f||!e.contains(a.snapElements[p].item.ownerDocument,a.snapElements[p].item)?(a.snapElements[p].snapping&&a.options.snap.release&&a.options.snap.release.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[p].item})),a.snapElements[p].snapping=!1):("inner"!==m.snapMode&&(n=Math.abs(d-y)<=f,o=Math.abs(u-v)<=f,r=Math.abs(l-g)<=f,s=Math.abs(c-b)<=f,n&&(i.position.top=a._convertPositionTo("relative",{top:d-a.helperProportions.height,left:0}).top),o&&(i.position.top=a._convertPositionTo("relative",{top:u,left:0}).top),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:l-a.helperProportions.width}).left),s&&(i.position.left=a._convertPositionTo("relative",{top:0,left:c}).left)),h=n||o||r||s,"outer"!==m.snapMode&&(n=Math.abs(d-v)<=f,o=Math.abs(u-y)<=f,r=Math.abs(l-b)<=f,s=Math.abs(c-g)<=f,n&&(i.position.top=a._convertPositionTo("relative",{top:d,left:0}).top),o&&(i.position.top=a._convertPositionTo("relative",{top:u-a.helperProportions.height,left:0}).top),r&&(i.position.left=a._convertPositionTo("relative",{top:0,left:l}).left),s&&(i.position.left=a._convertPositionTo("relative",{top:0,left:c-a.helperProportions.width}).left)),!a.snapElements[p].snapping&&(n||o||r||s||h)&&a.options.snap.snap&&a.options.snap.snap.call(a.element,t,e.extend(a._uiHash(),{snapItem:a.snapElements[p].item})),a.snapElements[p].snapping=n||o||r||s||h)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,a){var n,o=a.options,r=e.makeArray(e(o.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(n=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,a){var n=e(i.helper),o=a.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,i,a){var n=a.options;n._zIndex&&e(i.helper).css("zIndex",n._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var a=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return t[a]>0?!0:(t[a]=1,n=t[a]>0,t[a]=0,n)},_create:function(){var t,i,a,n,o,r=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;i<t.length;i++)a=e.trim(t[i]),o="ui-resizable-"+a,n=e("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:s.zIndex}),"se"===a&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[a]=".ui-resizable-"+a,this.element.append(n);this._renderAxis=function(t){var i,a,n,o;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=this.element.children(this.handles[i]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(a=e(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?a.outerHeight():a.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),e(this.handles[i]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=n&&n[1]?n[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){s.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,a,n=!1;for(i in this.handles)a=e(this.handles[i])[0],(a===t.target||e.contains(a,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var i,a,n,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),a=this._num(this.helper.css("top")),o.containment&&(i+=e(o.containment).scrollLeft()||0,a+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:a},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:a},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,a,n=this.originalMousePosition,o=this.axis,r=t.pageX-n.left||0,s=t.pageY-n.top||0,l=this._change[o];return this._updatePrevProperties(),l?(i=l.apply(this,[t,r,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),a=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(a)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,a,n,o,r,s,l,c=this.options,d=this;return this._helper&&(i=this._proportionallyResizeElements,a=i.length&&/textarea/i.test(i[0].nodeName),n=a&&this._hasScroll(i[0],"left")?0:d.sizeDiff.height,o=a?0:d.sizeDiff.width,r={width:d.helper.width()-o,height:d.helper.height()-n},s=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:s})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,a,n,o,r=this.options;o={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,a=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),a>o.minHeight&&(o.minHeight=a),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,a=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===a&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===a&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,a=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),d=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),r&&(e.height=t.minHeight),a&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),a&&c&&(e.left=s-t.maxWidth),r&&d&&(e.top=l-t.minHeight),n&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],a=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(a[t],10)||0,i[t]+=parseInt(n[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,a=this.originalPosition;return{left:a.left+t,width:i.width-t}},n:function(e,t,i){var a=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:a.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},sw:function(t,i,a){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,a]))},ne:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,a]))},nw:function(t,i,a){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,a]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),a=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),r=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,l={width:i.size.width-s,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:a.animateDuration,easing:a.animateEasing,step:function(){var a={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:a.width,height:a.height}),i._updateCache(a),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,a,n,o,r,s,l=e(this).resizable("instance"),c=l.options,d=l.element,u=c.containment,p=u instanceof e?u.get(0):/parent/.test(u)?d.parent().get(0):u;p&&(l.containerElement=e(p),/document/.test(u)||u===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,a){i[e]=l._num(t.css("padding"+a))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},a=l.containerOffset,n=l.containerSize.height,o=l.containerSize.width,r=l._hasScroll(p,"left")?p.scrollWidth:o,s=l._hasScroll(p)?p.scrollHeight:n,l.parentData={element:p,left:a.left,top:a.top,width:r,height:s}))},resize:function(t){var i,a,n,o,r=e(this).resizable("instance"),s=r.options,l=r.containerOffset,c=r.position,d=r._aspectRatio||t.shiftKey,u={top:0,left:0},p=r.containerElement,h=!0;p[0]!==document&&/static/.test(p.css("position"))&&(u=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),d&&(r.size.height=r.size.width/r.aspectRatio,h=!1),r.position.left=s.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),d&&(r.size.width=r.size.height*r.aspectRatio,h=!1),r.position.top=r._helper?l.top:0),n=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),n&&o?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-u.left:r.offset.left-l.left)),a=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-u.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,d&&(r.size.height=r.size.width/r.aspectRatio,h=!1)),a+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-a,d&&(r.size.width=r.size.height*r.aspectRatio,h=!1)),h||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,a=t.containerOffset,n=t.containerPosition,o=t.containerElement,r=e(t.helper),s=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-n.left-a.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-n.left-a.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options,a=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?a(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],a(i.alsoResize)):e.each(i.alsoResize,function(e){a(e)})},resize:function(t,i){var a=e(this).resizable("instance"),n=a.options,o=a.originalSize,r=a.originalPosition,s={height:a.size.height-o.height||0,width:a.size.width-o.width||0,top:a.position.top-r.top||0,left:a.position.left-r.left||0},l=function(t,a){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},r=a&&a.length?a:t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(e,t){var i=(n[t]||0)+(s[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?l(n.alsoResize):e.each(n.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,a=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:a.height,width:a.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),a=i.options,n=i.size,o=i.originalSize,r=i.originalPosition,s=i.axis,l="number"==typeof a.grid?[a.grid,a.grid]:a.grid,c=l[0]||1,d=l[1]||1,u=Math.round((n.width-o.width)/c)*c,p=Math.round((n.height-o.height)/d)*d,h=o.width+u,m=o.height+p,f=a.maxWidth&&a.maxWidth<h,b=a.maxHeight&&a.maxHeight<m,g=a.minWidth&&a.minWidth>h,v=a.minHeight&&a.minHeight>m;a.grid=l,g&&(h+=c),v&&(m+=d),f&&(h-=c),b&&(m-=d),/^(se|s|e)$/.test(s)?(i.size.width=h,i.size.height=m):/^(ne)$/.test(s)?(i.size.width=h,i.size.height=m,i.position.top=r.top-p):/^(sw)$/.test(s)?(i.size.width=h,i.size.height=m,i.position.left=r.left-u):((0>=m-d||0>=h-c)&&(t=i._getPaddingPlusBorderDimensions(this)),m-d>0?(i.size.height=m,i.position.top=r.top-p):(m=d-t.height,i.size.height=m,i.position.top=r.top+o.height-m),h-c>0?(i.size.width=h,i.position.left=r.left-u):(h=d-t.height,i.size.width=h,i.position.left=r.left+o.width-h))}});e.ui.resizable,e.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,a,n,o,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,a=this.previousFilter||"",n=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),n===a?o=!0:n=a+n,i=this._filterMenuItems(n),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(n=String.fromCharCode(t.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(t,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,a=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),a=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(a),t.attr("aria-labelledby",i.attr("id"))}),t=o.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);a._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,a;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),a=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",a.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,a,n,o,r,s;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-i-a,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),s=t.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+s>r&&this.activeMenu.scrollTop(o+n-r+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var a=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));a.length||(a=this.element),this._close(a),this.blur(t),this.activeMenu=a},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var a;this.active&&(a="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),a&&a.length&&this.active||(a=this.activeMenu.find(this.options.items)[t]()),this.focus(i,a)},nextPage:function(t){var i,a,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a-n<0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,a,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(a=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-a+n>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),a=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return a.test(e.trim(e(this).text()))})}});e.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,a,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,r="input"===n;this.isMultiLine=o?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,a=!0,void(i=!0);t=!1,a=!1,i=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(a){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&a.preventDefault());if(!i){var n=e.ui.keyCode;switch(a.keyCode){case n.PAGE_UP:this._move("previousPage",a);break;case n.PAGE_DOWN:this._move("nextPage",a);break;case n.UP:this._keyEvent("previous",a);break;case n.DOWN:this._keyEvent("next",a)}}},input:function(e){return a?(a=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){
var t=this;this.document.one("mousedown",function(a){a.target===t.element[0]||a.target===i||e.contains(i,a.target)||t.close()})})},menufocus:function(t,i){var a,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),a=i.item.attr("aria-label")||n.value,void(a&&e.trim(a).length&&(this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),a=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,a=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,a){a(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){a.xhr&&a.xhr.abort(),a.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),a=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!a)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var a=this;e.each(i,function(e,i){a._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var a=new RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return a.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}});var s,l=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),c="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var i=t.name,a=t.form,n=e([]);return i&&(i=i.replace(/'/g,"\\'"),n=a?e(a).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,a="checkbox"===this.type||"radio"===this.type,n=a?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(l).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===s&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),a&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var a=t.element[0];u(a).not(a).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),s=this,void t.document.one("mouseup",function(){s=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(l+" ui-state-active "+c).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(c),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),a=this.options.icons,n=a.primary&&a.secondary,o=[];a.primary||a.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":a.primary?"-primary":"-secondary")),a.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),a=i.filter(":ui-button");i.not(":ui-button").button(),a.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button,e.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,a=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var a=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),a=!0),a&&!i&&this._trigger("focus",t),a},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),n=i.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){a.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,a){var n,o;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),n=a.click,a.click=function(){n.apply(t.element[0],arguments)},o={icons:a.icons,text:a.showText},delete a.icons,delete a.showText,e("<button></button>",a).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,n){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(n))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(n,o){var r=o.offset.left-i.document.scrollLeft(),s=o.offset.top-i.document.scrollTop();a.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(s>=0?"+":"")+s,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,n=a.resizable,o=this.uiDialog.css("position"),r="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,n){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(n))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(n,o){var r=i.uiDialog.offset(),s=r.left-i.document.scrollLeft(),l=r.top-i.document.scrollTop();a.height=i.uiDialog.height(),a.width=i.uiDialog.width(),a.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,a=!1,n={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(a=!0),e in i.resizableRelatedOptions&&(n[e]=t)}),a&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var i,a,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=n.is(":data(ui-draggable)"),i&&!t&&n.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(a=n.is(":data(ui-resizable)"),a&&!t&&n.resizable("destroy"),a&&"string"==typeof t&&n.resizable("option","handles",t),a||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,a){var n=i.attr(a);void 0!==n&&n.length&&(t[a]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a}))}var a;a=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,a=e.ui.keyCode;switch(t.keyCode){case a.UP:return this._repeat(null,1,t),!0;case a.DOWN:return this._repeat(null,-1,t),!0;case a.PAGE_UP:return this._repeat(null,i.page,t),!0;case a.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,a=this.options;return t=null!==a.min?a.min:0,i=e-t,i=Math.round(i/a.step)*a.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==a.max&&e>a.max?a.max:null!==a.min&&e<a.min?a.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:a(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:a(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:a(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:a(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:a(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void a(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),define("jquery-ui.custom",["require","exports","module","jquery","jquery-ui"],function(e,t,i){"use strict";function a(e,t){var i=new RegExp(n.ui.autocomplete.escapeRegex(t),"i");return n.grep(e,function(e){return i.test(n("<div>").html(e.label||e.value||e).text())})}var n=e("jquery");e("jquery-ui");var o=n.ui.autocomplete.prototype,r=o._initSource;n.extend(o,{_initSource:function(){this.options.html&&n.isArray(this.options.source)?this.source=function(e,t){t(a(this.options.source,e.term))}:r.call(this)},_renderItem:function(e,t){return n("<li></li>").data("item.autocomplete",t).append(n("<a></a>")[this.options.html?"html":"text"](t.label)).appendTo(e)}})}),function(){"use strict";var e=this,t=e.Chart,i=function(e){return this.canvas=e.canvas,this.ctx=e,this.width=e.canvas.width,this.height=e.canvas.height,this.aspectRatio=this.width/this.height,a.retinaScale(this),this};i.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,
scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},i.types={};var a=i.helpers={},n=a.each=function(e,t,i){var a=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var n;for(n=0;n<e.length;n++)t.apply(i,[e[n],n].concat(a))}else for(var o in e)t.apply(i,[e[o],o].concat(a))},o=a.clone=function(e){var t={};return n(e,function(i,a){e.hasOwnProperty(a)&&(t[a]=i)}),t},r=a.extend=function(e){return n(Array.prototype.slice.call(arguments,1),function(t){n(t,function(i,a){t.hasOwnProperty(a)&&(e[a]=i)})}),e},s=a.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),r.apply(null,e)},l=a.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},c=(a.where=function(e,t){var i=[];return a.each(e,function(e){t(e)&&i.push(e)}),i},a.findNextWhere=function(e,t,i){i||(i=-1);for(var a=i+1;a<e.length;a++){var n=e[a];if(t(n))return n}},a.findPreviousWhere=function(e,t,i){i||(i=e.length);for(var a=i-1;a>=0;a--){var n=e[a];if(t(n))return n}},a.inherits=function(e){var t=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},a=function(){this.constructor=i};return a.prototype=t.prototype,i.prototype=new a,i.extend=c,e&&r(i.prototype,e),i.__super__=t.prototype,i}),d=a.noop=function(){},u=a.uid=function(){var e=0;return function(){return"chart-"+e++}}(),p=a.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},h=a.amd="function"==typeof define&&define.amd,m=a.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},f=a.max=function(e){return Math.max.apply(Math,e)},b=a.min=function(e){return Math.min.apply(Math,e)},g=(a.cap=function(e,t,i){if(m(t)){if(e>t)return t}else if(m(i)&&i>e)return i;return e},a.getDecimalPlaces=function(e){return e%1!==0&&m(e)?e.toString().split(".")[1].length:0}),v=a.radians=function(e){return e*(Math.PI/180)},y=(a.getAngleFromPoint=function(e,t){var i=t.x-e.x,a=t.y-e.y,n=Math.sqrt(i*i+a*a),o=2*Math.PI+Math.atan2(a,i);return 0>i&&0>a&&(o+=2*Math.PI),{angle:o,distance:n}},a.aliasPixel=function(e){return e%2===0?0:.5}),_=(a.splineCurve=function(e,t,i,a){var n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),r=a*n/(n+o),s=a*o/(n+o);return{inner:{x:t.x-r*(i.x-e.x),y:t.y-r*(i.y-e.y)},outer:{x:t.x+s*(i.x-e.x),y:t.y+s*(i.y-e.y)}}},a.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),x=(a.calculateScaleRange=function(e,t,i,a,n){var o=2,r=Math.floor(t/(1.5*i)),s=o>=r,l=f(e),c=b(e);l===c&&(l+=.5,c>=.5&&!a?c-=.5:l+=.5);for(var d=Math.abs(l-c),u=_(d),p=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),h=a?0:Math.floor(c/(1*Math.pow(10,u)))*Math.pow(10,u),m=p-h,g=Math.pow(10,u),v=Math.round(m/g);(v>r||r>2*v)&&!s;)if(v>r)g*=2,v=Math.round(m/g),v%1!==0&&(s=!0);else if(n&&u>=0){if(g/2%1!==0)break;g/=2,v=Math.round(m/g)}else g/=2,v=Math.round(m/g);return s&&(v=o,g=m/v),{steps:v,stepValue:g,min:h,max:h+v*g}},a.template=function(e,t){function i(e,t){var i=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):a[e]=a[e];return t?i(t):i}if(e instanceof Function)return e(t);var a={};return i(e,t)}),w=(a.generateLabels=function(e,t,i,a){var o=new Array(t);return labelTemplateString&&n(o,function(t,n){o[n]=x(e,{value:i+a*(n+1)})}),o},a.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),-(a*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i)))},easeOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:1==(e/=1)?1:(i||(i=.3),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),a*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/i)+1)},easeInOutElastic:function(e){var t=1.70158,i=0,a=1;return 0===e?0:2==(e/=.5)?1:(i||(i=.3*1.5),a<Math.abs(1)?(a=1,t=i/4):t=i/(2*Math.PI)*Math.asin(1/a),1>e?-.5*a*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i):a*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/i)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-w.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*w.easeInBounce(2*e):.5*w.easeOutBounce(2*e-1)+.5}}),T=a.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),A=(a.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),a.animationLoop=function(e,t,i,a,n,o){var r=0,s=w[i]||w.linear,l=function(){r++;var i=r/t,c=s(i);e.call(o,c,i,r),a.call(o,c,i),t>r?o.animationFrame=T(l):n.apply(o)};T(l)},a.getRelativePosition=function(e){var t,i,a=e.originalEvent||e,n=e.currentTarget||e.srcElement,o=n.getBoundingClientRect();return a.touches?(t=a.touches[0].clientX-o.left,i=a.touches[0].clientY-o.top):(t=a.clientX-o.left,i=a.clientY-o.top),{x:t,y:i}},a.addEvent=function(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent?e.attachEvent("on"+t,i):e["on"+t]=i}),k=a.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+t]=d},S=(a.bindEvents=function(e,t,i){e.events||(e.events={}),n(t,function(t){e.events[t]=function(){i.apply(e,arguments)},A(e.chart.canvas,t,e.events[t])})},a.unbindEvents=function(e,t){n(t,function(t,i){k(e.chart.canvas,i,t)})}),D=a.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},I=a.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},E=(a.getMaximumSize=a.getMaximumWidth,a.retinaScale=function(e){var t=e.ctx,i=e.canvas.width,a=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=i+"px",t.canvas.style.height=a+"px",t.canvas.height=a*window.devicePixelRatio,t.canvas.width=i*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),C=a.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},O=a.fontString=function(e,t,i){return t+" "+e+"px "+i},P=a.longestText=function(e,t,i){e.font=t;var a=0;return n(i,function(t){var i=e.measureText(t).width;a=i>a?i:a}),a},B=a.drawRoundedRectangle=function(e,t,i,a,n,o){e.beginPath(),e.moveTo(t+o,i),e.lineTo(t+a-o,i),e.quadraticCurveTo(t+a,i,t+a,i+o),e.lineTo(t+a,i+n-o),e.quadraticCurveTo(t+a,i+n,t+a-o,i+n),e.lineTo(t+o,i+n),e.quadraticCurveTo(t,i+n,t,i+n-o),e.lineTo(t,i+o),e.quadraticCurveTo(t,i,t+o,i),e.closePath()};i.instances={},i.Type=function(e,t,a){this.options=t,this.chart=a,this.id=u(),i.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},r(i.Type.prototype,{initialize:function(){return this},clear:function(){return C(this.chart),this},stop:function(){return a.cancelAnimFrame.call(e,this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,i=D(this.chart.canvas),a=this.options.maintainAspectRatio?i/this.chart.aspectRatio:I(this.chart.canvas);return t.width=this.chart.width=i,t.height=this.chart.height=a,E(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:d,render:function(e){return e&&this.reflow(),this.options.animation&&!e?a.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),S(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete i.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(n(e,function(e,i){e!==this.activeElements[i]&&(t=!0)},this),t)}.call(this,e);if(o||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var r,s,c=this.datasets.length-1;c>=0&&(r=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,s=l(r,e[0]),-1===s);c--);var d=[],u=[],p=function(){var e,t,i,n,o,r=[],l=[],c=[];return a.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[s]&&e[s].hasValue()&&r.push(e[s])}),a.each(r,function(e){l.push(e.x),c.push(e.y),d.push(a.template(this.options.multiTooltipTemplate,e)),u.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),o=b(c),i=f(c),n=b(l),t=f(l),{x:n>this.chart.width/2?n:t,y:(o+i)/2}}.call(this,s);new i.MultiTooltip({x:p.x,y:p.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:d,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(e,function(e){var t=e.tooltipPosition();new i.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),i.Type.extend=function(e){var t=this,a=function(){return t.apply(this,arguments)};if(a.prototype=o(t.prototype),r(a.prototype,e),a.extend=i.Type.extend,e.name||t.prototype.name){var n=e.name||t.prototype.name,l=i.defaults[t.prototype.name]?o(i.defaults[t.prototype.name]):{};i.defaults[n]=r(l,e.defaults),i.types[n]=a,i.prototype[n]=function(e,t){var o=s(i.defaults.global,i.defaults[n],t||{});return new a(e,o,this)}}else p("Name not provided for this chart, so it hasn't been registered");return t},i.Element=function(e){r(this,e),this.initialize.apply(this,arguments),this.save()},r(i.Element.prototype,{initialize:function(){},restore:function(e){return e?n(e,function(e){this[e]=this._saved[e]},this):r(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(e){return n(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return n(e,function(e,i){this[i]=(e-this._saved[i])*t+this._saved[i]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return m(this.value)}}),i.Element.extend=c,i.Point=i.Element.extend({display:!0,inRange:function(e,t){var i=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(i,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),i.Arc=i.Element.extend({inRange:function(e,t){var i=a.getAngleFromPoint(this,{x:e,y:t}),n=i.angle>=this.startAngle&&i.angle<=this.endAngle,o=i.distance>=this.innerRadius&&i.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),i.Rectangle=i.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,i=this.x-t,a=this.x+t,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(i+=o,a-=o,n+=o),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(i,this.base),e.lineTo(i,n),e.lineTo(a,n),e.lineTo(a,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),i.Tooltip=i.Element.extend({draw:function(){var e=this.chart.ctx;e.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,i=e.measureText(this.text).width+2*this.xPadding,a=this.fontSize+2*this.yPadding,n=a+this.caretHeight+t;this.x+i/2>this.chart.width?this.xAlign="left":this.x-i/2<0&&(this.xAlign="right"),this.y-n<0&&(this.yAlign="below");var o=this.x-i/2,r=this.y-n;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":r=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":o=this.x-i+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}B(e,o,r,i,a,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,o+i/2,r+a/2)}}}),i.MultiTooltip=i.Element.extend({initialize:function(){this.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=O(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=P(this.ctx,this.font,this.labels)+this.fontSize+3,i=f([t,e]);this.width=i+2*this.xPadding;var a=this.height/2;this.y-a<0?this.y=a:this.y+a>this.chart.height&&(this.y=this.chart.height-a),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,i=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*i+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{B(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,a.each(this.labels,function(t,i){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(i+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[i].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(i+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),i.Scale=i.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=g(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?P(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,i=this.ctx.measureText(this.xLabels[0]).width,a=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=a/2+3,this.xScalePaddingLeft=i/2>this.yLabelWidth+10?i/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=P(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var r=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>r&&0===this.xLabelRotation||this.xLabelWidth>r&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(v(this.xLabelRotation)),e=n*i,t=n*a,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(v(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:d,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),i=t/(this.valuesCount-(this.offsetGridLines?0:1)),a=i*e+this.xScalePaddingLeft;return this.offsetGridLines&&(a+=i/2),Math.round(a)},update:function(e){a.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,i=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,n(this.yLabels,function(n,o){var r=this.endPoint-t*o,s=Math.round(r),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(n,i-10,r),0!==o||l||(l=!0),l&&e.beginPath(),o>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=a.aliasPixel(e.lineWidth),l&&(e.moveTo(i,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(i-5,s),e.lineTo(i,s),e.stroke(),e.closePath()},this),n(this.xLabels,function(t,i){var a=this.calculateX(i)+y(this.lineWidth),n=this.calculateX(i-(this.offsetGridLines?.5:0))+y(this.lineWidth),o=this.xLabelRotation>0,r=this.showVerticalLines;0!==i||r||(r=!0),r&&e.beginPath(),i>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),r&&(e.moveTo(n,this.endPoint),e.lineTo(n,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n,this.endPoint),e.lineTo(n,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(a,o?this.endPoint+12:this.endPoint+8),e.rotate(-1*v(this.xLabelRotation)),e.font=this.font,e.textAlign=o?"right":"center",e.textBaseline=o?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),i.RadialScale=i.Element.extend({initialize:function(){this.size=b([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=g(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,i,a,n,o,r,s,l,c,d,u,p=b([this.height/2-this.pointLabelFontSize-5,this.width/2]),h=this.width,f=0;for(this.ctx.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,p),i=this.ctx.measureText(x(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(a=i/2,e.x+a>h&&(h=e.x+a,n=t),e.x-a<f&&(f=e.x-a,r=t)):t<this.valuesCount/2?e.x+i>h&&(h=e.x+i,n=t):t>this.valuesCount/2&&e.x-i<f&&(f=e.x-i,r=t);l=f,c=Math.ceil(h-this.width),o=this.getIndexAngle(n),s=this.getIndexAngle(r),d=c/Math.sin(o+Math.PI/2),u=l/Math.sin(s+Math.PI/2),d=m(d)?d:0,u=m(u)?u:0,this.drawingArea=p-(u+d)/2,this.setCenterPoint(u,d)},setCenterPoint:function(e,t){var i=this.width-t-this.drawingArea,a=e+this.drawingArea;this.xCenter=(a+i)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var i=this.getIndexAngle(e);return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(n(this.yLabels,function(t,i){if(i>0){var a,n=i*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var r=0;r<this.valuesCount;r++)a=this.getPointPosition(r,this.calculateCenterOffset(this.min+i*this.stepValue)),0===r?e.moveTo(a.x,a.y):e.lineTo(a.x,a.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,o)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var i=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(i.x,i.y),e.stroke(),e.closePath()}var a=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var o=this.labels.length,r=this.labels.length/2,s=r/2,l=s>t||t>o-s,c=t===s||t===o-s;e.textAlign=0===t?"center":t===r?"center":r>t?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],a.x,a.y)}}}}}),a.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){n(i.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),h?define("chartjs",[],function(){return i}):"object"==typeof module&&module.exports&&(module.exports=i),e.Chart=i,i.noConflict=function(){return e.Chart=t,i}}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:a,initialize:function(e){var a=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,i){var n=this.calculateBaseWidth(),o=this.calculateX(i)-n/2,r=this.calculateBarWidth(e);return o+r*t+t*a.barDatasetSpacing+r/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*a.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*a.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),i.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(a),i.each(t.data,function(i,n){a.bars.push(new this.BarClass({value:i,label:e.labels[n],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,a){i.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,a,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){i.each(this.datasets,function(t,a){i.each(t.bars,e,this,a)},this)},getBarsAtEvent:function(e){for(var t,a=[],n=i.getRelativePosition(e),o=function(e){a.push(e.bars[t])},r=0;r<this.datasets.length;r++)for(t=0;t<this.datasets[r].bars.length;t++)if(this.datasets[r].bars[t].inRange(n.x,n.y))return i.each(this.datasets,o),a;return a},buildScale:function(e){var t=this,a=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=i.calculateScaleRange(a(),e,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,t)},xLabels:e,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(n,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(e,t){i.each(e,function(e,i){this.datasets[i].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,i,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[i].strokeColor,fillColor:this.datasets[i].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){i.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear(),this.chart.ctx,this.scale.draw(t),i.each(this.datasets,function(e,a){i.each(e.bars,function(e,i){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,a,i),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw());
},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:a,initialize:function(e){this.segments=[],this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];i.each(this.segments,function(e){e.restore(["fillColor"])}),i.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),i.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],a=i.getRelativePosition(e);return i.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,i){var a=t||this.segments.length;this.segments.splice(a,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),i||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(e/this.total)},calculateTotal:function(e){this.total=0,i.each(e,function(e){this.total+=e.value},this)},update:function(){this.calculateTotal(this.segments),i.each(this.activeElements,function(e){e.restore(["fillColor"])}),i.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=i.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(i.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,i.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),i.each(this.segments,function(e,i){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===i&&(e.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:i.merge(a,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:a,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),i.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(a),i.each(t.data,function(i,n){a.points.push(new this.PointClass({value:i,label:e.labels[n],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){i.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),i.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){i.each(this.datasets,function(t){i.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],a=i.getRelativePosition(e);return i.each(this.datasets,function(e){i.each(e.points,function(e){e.inRange(a.x,a.y)&&t.push(e)})},this),t},buildScale:function(e){var a=this,n=function(){var e=[];return a.eachPoints(function(t){e.push(t.value)}),e},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=i.calculateScaleRange(n(),e,this.fontSize,this.beginAtZero,this.integersOnly);i.extend(this,t)},xLabels:e,font:i.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&i.extend(o,{calculateYRange:i.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(o)},addData:function(e,t){i.each(e,function(e,i){this.datasets[i].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),i.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=i.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var a=this.chart.ctx,n=function(e){return null!==e.value},o=function(e,t,a){return i.findNextWhere(t,n,a)||e},r=function(e,t,a){return i.findPreviousWhere(t,n,a)||e};this.scale.draw(t),i.each(this.datasets,function(e){var s=i.where(e.points,n);i.each(e.points,function(e,i){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(i)},t)},this),this.options.bezierCurve&&i.each(s,function(e,t){var a=t>0&&t<s.length-1?this.options.bezierCurveTension:0;e.controlPoints=i.splineCurve(r(e,s,t),e,o(e,s,t),a),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=e.strokeColor,a.beginPath(),i.each(s,function(e,t){if(0===t)a.moveTo(e.x,e.y);else if(this.options.bezierCurve){var i=r(e,s,t);a.bezierCurveTo(i.controlPoints.outer.x,i.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else a.lineTo(e.x,e.y)},this),a.stroke(),this.options.datasetFill&&s.length>0&&(a.lineTo(s[s.length-1].x,this.scale.endPoint),a.lineTo(s[0].x,this.scale.endPoint),a.fillStyle=e.fillColor,a.closePath(),a.fill()),i.each(s,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers,a={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:a,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),i.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];i.each(this.segments,function(e){e.restore(["fillColor"])}),i.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],a=i.getRelativePosition(e);return i.each(this.segments,function(e){e.inRange(a.x,a.y)&&t.push(e)},this),t},addData:function(e,t,i){var a=t||this.segments.length;this.segments.splice(a,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),i||(this.reflow(),this.update())},removeData:function(e){var t=i.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,i.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];i.each(e,function(e){t.push(e.value)});var a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(t,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,a,{size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),i.each(this.segments,function(e){e.save()}),this.render()},reflow:function(){i.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),i.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),i.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),i.each(this.segments,function(e,i){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===i&&(e.startAngle=1.5*Math.PI),i<this.segments.length-1&&(this.segments[i+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,i=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&i.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),i.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),i.each(e.datasets,function(t){var a={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(a),i.each(t.data,function(i,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(i))),a.points.push(new this.PointClass({value:i,label:e.labels[n],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){i.each(this.datasets,function(t){i.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=i.getRelativePosition(e),a=i.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),n=2*Math.PI/this.scale.valuesCount,o=Math.round((a.angle-1.5*Math.PI)/n),r=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),a.distance<=this.scale.drawingArea&&i.each(this.datasets,function(e){r.push(e.points[o])}),r},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return i.each(e,function(e){e.data?t=t.concat(e.data):i.each(e.points,function(e){t.push(e.value)})}),t}(),a=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:i.calculateScaleRange(t,i.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);i.extend(this.scale,a)},addData:function(e,t){this.scale.valuesCount++,i.each(e,function(e,i){var a=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[i].points.push(new this.PointClass({value:e,label:t,x:a.x,y:a.y,strokeColor:this.datasets[i].pointStrokeColor,fillColor:this.datasets[i].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),i.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){i.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:i.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,a=this.chart.ctx;this.clear(),this.scale.draw(),i.each(this.datasets,function(e){i.each(e.points,function(e,i){e.hasValue()&&e.transition(this.scale.getPointPosition(i,this.scale.calculateCenterOffset(e.value)),t)},this),a.lineWidth=this.options.datasetStrokeWidth,a.strokeStyle=e.strokeColor,a.beginPath(),i.each(e.points,function(e,t){0===t?a.moveTo(e.x,e.y):a.lineTo(e.x,e.y)},this),a.closePath(),a.stroke(),a.fillStyle=e.fillColor,a.fill(),i.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),define("chartjs-scatter",["chartjs"],function(e){e.types.Line.extend({name:"Scatter",draw:function(t){var i=t||1;this.clear();var a=this.chart.ctx,n=function(e){return null!==e.value},o=function(t,i,a){return e.helpers.findNextWhere(i,n,a)||t},r=function(t,i,a){return e.helpers.findPreviousWhere(i,n,a)||t};this.scale.draw(i),e.helpers.each(this.datasets,function(t){var s=e.helpers.where(t.points,n);e.helpers.each(t.points,function(e,t){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(t)},i)},this),this.options.bezierCurve&&e.helpers.each(s,function(t,i){var a=i>0&&i<s.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.helpers.splineCurve(r(t,s,i),t,o(t,s,i),a),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),this.options.datasetFill&&s.length>0&&(a.lineTo(s[s.length-1].x,this.scale.endPoint),a.lineTo(s[0].x,this.scale.endPoint),a.fillStyle=t.fillColor,a.closePath(),a.fill()),e.helpers.each(s,function(e){e.draw()})},this)}})}),define("text",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function i(e,i,a,n){if(i===n)return!0;if(e===a){if("http"===e)return t(i,"80")===t(n,"80");if("https"===e)return t(i,"443")===t(n,"443")}return!1}var a,n,o,r,s,l=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,p=u&&location.protocol&&location.protocol.replace(/\:/,""),h=u&&location.hostname,m=u&&(location.port||void 0),f={},b=e.config&&e.config()||{};return a={version:"2.0.15",strip:function(e){if(e){e=e.replace(c,"");var t=e.match(d);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:b.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=l[t];try{e=new ActiveXObject(i)}catch(a){}if(e){l=[i];break}}return e},parseName:function(e){var t,i,a,n=!1,o=e.lastIndexOf("."),r=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!r||o>1)?(t=e.substring(0,o),i=e.substring(o+1)):t=e,a=i||t,o=a.indexOf("!"),-1!==o&&(n="strip"===a.substring(o+1),a=a.substring(0,o),i?i=a:t=a),{moduleName:t,ext:i,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,o){var r,s,l,c=a.xdRegExp.exec(e);return c?(r=c[2],s=c[3],s=s.split(":"),l=s[1],s=s[0],(!r||r===t)&&(!s||s.toLowerCase()===n.toLowerCase())&&(!l&&!s||i(r,l,t,o))):!0},finishLoad:function(e,t,i,n){i=t?a.strip(i):i,b.isBuild&&(f[e]=i),n(i)},load:function(e,t,i,n){if(n&&n.isBuild&&!n.inlineText)return void i();b.isBuild=n&&n.isBuild;var o=a.parseName(e),r=o.moduleName+(o.ext?"."+o.ext:""),s=t.toUrl(r),l=b.useXhr||a.useXhr;return 0===s.indexOf("empty:")?void i():void(!u||l(s,p,h,m)?a.get(s,function(t){a.finishLoad(e,o.strip,t,i)},function(e){i.error&&i.error(e)}):t([r],function(e){a.finishLoad(o.moduleName+"."+o.ext,o.strip,e,i)}))},write:function(e,t,i,n){if(f.hasOwnProperty(t)){var o=a.jsEscape(f[t]);i.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,i,n,o){var r=a.parseName(t),s=r.ext?"."+r.ext:"",l=r.moduleName+s,c=i.toUrl(r.moduleName+s)+".js";a.load(l,i,function(t){var i=function(e){return n(c,e)};i.asModule=function(e,t){return n.asModule(e,c,t)},a.write(e,l,i,o)},o)}},"node"===b.env||!b.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),a.get=function(e,t,i){try{var a=n.readFileSync(e,"utf8");"\ufeff"===a[0]&&(a=a.substring(1)),t(a)}catch(o){i&&i(o)}}):"xhr"===b.env||!b.env&&a.createXhr()?a.get=function(e,t,i,n){var o,r=a.createXhr();if(r.open("GET",e,!0),n)for(o in n)n.hasOwnProperty(o)&&r.setRequestHeader(o.toLowerCase(),n[o]);b.onXhr&&b.onXhr(r,e),r.onreadystatechange=function(a){var n,o;4===r.readyState&&(n=r.status||0,n>399&&600>n?(o=new Error(e+" HTTP status: "+n),o.xhr=r,i&&i(o)):t(r.responseText),b.onXhrComplete&&b.onXhrComplete(r,e))},r.send(null)}:"rhino"===b.env||!b.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?a.get=function(e,t){var i,a,n="utf-8",o=new java.io.File(e),r=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),n)),l="";try{for(i=new java.lang.StringBuffer,a=s.readLine(),a&&a.length()&&65279===a.charAt(0)&&(a=a.substring(1)),null!==a&&i.append(a);null!==(a=s.readLine());)i.append(r),i.append(a);l=String(i.toString())}finally{s.close()}t(l)}:("xpconnect"===b.env||!b.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in o,a.get=function(e,t){var i,a,n,l={};s&&(e=e.replace(/\//g,"\\")),n=new FileUtils.File(e);try{i=o["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),i.init(n,1,0,!1),a=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),a.init(i,"utf-8",i.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),a.readString(i.available(),l),a.close(),i.close(),t(l.value)}catch(c){throw new Error((n&&n.path||"")+": "+c)}}),a}),define("text!components/hero-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-3">\n        <img class="img-rounded hero-image" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n    </div>\n    <div class="col-md-9">\n        <div class="row form-group">\n            <div class="col-md-6">\n                <label for="heroselect">Hero</label>\n                <select id="heroselect" class="form-control" data-bind="options: availableHeroes , optionsText: \'heroDisplayName\', value: selectedHero"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="herolevel">Level</label>\n                <input id="herolevel" data-bind="spinner: selectedHeroLevel, spinnerOptions: { min: 1, max: 25 }">\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-6">\n                <label for="enemyselect">Enemy</label>\n                <select id="enemyselect" class="form-control" data-bind="css: enemy().playerColorCss, options: availableEnemies , optionsText: \'heroDisplayName\', value: selectedEnemy, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="enemyselect">Compare to</label>\n                <select id="enemyselect" class="form-control" data-bind="css: heroCompare().playerColorCss, options: availableCompare , optionsText: \'heroDisplayName\', value: selectedCompare, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-12 checkbox" style="margin-bottom:0px;padding-left:34px;" data-bind="visible: $root.layout() == 0">\n                <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: hero().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().hero().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a>\n                <div class="checkbox" style="margin-left:15px;display:inline;" data-bind="style: {\'display\': $root.layout() == 1 ? \'inline\' : \'none\'}">\n                    <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: hero().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().hero().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                    <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n                </div>\n            </h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n    \n        <div class="row">\n            <div class="col-md-12" data-bind="itemBuildTable: $data.buildExplorer">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities <small style="color:inherit" data-bind="text: availableSkillPoints() ? (availableSkillPoints() == 1 ? \'1 unspent skillpoint\' : availableSkillPoints() + \' unspent skillpoints\') : \'\'"></small></h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n                <div class="form-horizontal" data-bind="if: selectedHero().heroName == \'silencer\', visible: sectionDisplay().ability()">\n                    <div class="form-group">\n                            <div class="col-md-2 control-label">\n                                <label for="intelligencestolen">Intelligence Stolen</label>\n                            </div>\n                            <div class="col-md-2">\n                                <input class="form-control" id="intelligencestolen" data-bind="value: intStolen" />\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div data-bind="component: { name: \'buff-section\', params: $data}"></div>\n        \n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().illusion, css: { section_disabled: !sectionDisplay().illusion() }">Illusions</h3>\n                <div data-bind="visible: sectionDisplay().illusion(), lazyBinding: sectionDisplay().illusion">\n                    <h4 style="color:red">Under Construction</h4>\n                    <div class="form-horizontal">\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionSelect">Type</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionSelect" class="form-control" data-bind="options: availableIllusions , optionsText: \'illusionDisplayName\', value: selectedIllusion"></select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionabilitylevel">Ability Level</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionabilitylevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                                        <option data-bind="text: $index()+1"></option>\n                                    </select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                            <div class="col-md-offset-2 col-md-10">\n                                <button class="btn btn-default" data-bind="click: addIllusion">Add Illusion</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().skillbuild, css: { section_disabled: !sectionDisplay().skillbuild() }">Build Explorer</h3>\n        <div data-bind="visible: sectionDisplay().skillbuild(), attr: {id: \'section-build-explorer-\' + index() }, lazyBinding: sectionDisplay().skillbuild">\n            <div class="section-content">    \n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-skills\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-skills\']() }">Skill Build <small style="color:inherit" data-bind="text: buildExplorer.availableSkillBuildPoints() ? (buildExplorer.availableSkillBuildPoints() == 1 ? \'1 unspent skillpoint\' : buildExplorer.availableSkillBuildPoints() + \' unspent skillpoints\') : \'\'"></small></h4>\n                        <div data-bind="visible: sectionDisplay()[\'skillbuild-skills\']">\n                        <table>\n                            <tbody data-bind="template: { name: \'ability-3-template\', foreach: ability().abilities }"></tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetSkillBuild">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-items\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-items\']() }">Item Build</h4>\n                    <div data-bind="visible: sectionDisplay()[\'skillbuild-items\']">\n                        <table class="table">\n                            <thead>\n                                <tr>\n                                    <th>Level</th>\n                                    <th class="text-center">Inventory</th>\n                                    <th></th>\n                                    <th></th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody data-bind="foreach: new Array(25), itemBuildTable: buildExplorer">\n                                <tr class="hover-cursor" data-bind="css: {\'row-highlight\': $parent.selectedInventory() == $index()}">\n                                    <td class="carry-over" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <strong data-bind="text: ($index() + 1)"></strong>\n                                        <a class="btn btn-default btn-xs glyphicon" data-bind="visible: $index() > 0, toggle: $parent.buildExplorer.itemBuild()[$index()].carryOver, preventBubble: \'click\', css: { \'glyphicon-arrow-down\': $parent.buildExplorer.itemBuild()[$index()].carryOver(), \'glyphicon-stop\': !$parent.buildExplorer.itemBuild()[$index()].carryOver() }" title="Carry over items to next level\'s inventory"></a>\n                                    </td>\n                                    <td class="col-md-10" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <div class="itemBuild-inventory" data-bind="template: { name: \'itemBuild-item-template\', foreach: $parent.buildExplorer.itemBuild()[$index()].items }"></div>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.copyInventoryToClipBoard($index()); }" title="Copy items">Copy</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.pasteInventoryFromClipBoard($index()); }" title="Paste items">Paste</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.resetItemBuild($index()); }" title="Clear inventory">Clear</a>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetAllItemBuilds">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label>Data set header label</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataHeader">\n                </div>\n                <div class="form-group">\n                    <label>Data set description</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataDescription">\n                </div>\n                <div class="form-group">\n                    <button class="btn btn-default" data-bind="click: buildExplorer.graph">Add data set</button>\n                </div>\n                <div class="form-group">\n                    <label>Hero Property</label>\n                    <select class="form-control" data-bind="options: buildExplorer.graphProperties, optionsText: \'label\', optionsValue: \'id\', value: buildExplorer.selectedGraphProperty"></select>\n                </div>\n                <!-- ko if: buildExplorer.graphData().length > 0 -->\n                <div class="form-group" data-bind="chart: buildExplorer.graphChartData, chartType: \'Scatter\', chartOptions: buildExplorer.graphChartOptions(), chartContext: buildExplorer.graphChartContext"></div>\n                <div class="form-group">\n                  <button class="btn btn-default" data-bind="click: buildExplorer.exportImage"><span class="glyphicon glyphicon-export"></span> Export Image</button>\n                </div>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphItemBuildRows, css: {\'toggled\': buildExplorer.showGraphItemBuildRows}">Show item build rows</button>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphSkillBuildColumns, css: {\'toggled\': buildExplorer.showGraphSkillBuildColumns}">Show skill build columns</button>\n                <table class="table build-table">\n                    <thead>\n                        <tr>\n                            <th class="right-border">Level</th>\n                            <!-- ko foreach: buildExplorer.graphData -->\n                            <th class="text-center" data-bind="css: { \'right-border\': !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible() }">\n                                <span data-bind="css: { \'tooltip-underline\': $data.description }, tooltip: {title: $data.description, placement: \'bottom\'}, visible: $data.visible(), text: $data.header, style: { color: $parent.buildExplorer.graphDistinctColor($parent.buildExplorer.graphData().length, $index(), 1) }"></span>\n                                <span class="btn btn-xs glyphicon glyphicon-info-sign" data-bind="visible: $data.visible(), popover: {template: \'popover-graphData-template\', data: $data, options: {} }"></span>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <th class="text-left right-border" data-bind="visible: $data.visible() && $parent.buildExplorer.showGraphSkillBuildColumns()"><abbr title="Q-W-E-R-Stats">Skill Build</abbr>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <!-- /ko -->\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: new Array(buildExplorer.graphData()[0].data.length)">\n                        <tr>\n                            <td class="right-border">\n                                <strong data-bind="text: ($index() + 1)"></strong>\n                            </td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="text-right" data-bind="css: { \'right-border\': !$parents[1].buildExplorer.showGraphSkillBuildColumns() || !$parents[1].buildExplorer.graphData()[$index()].visible() }">\n                                <span data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), text: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()][$parents[1].buildExplorer.selectedGraphProperty()]"></span>\n                            </td>\n                            <td class="text-left right-border" data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns(), text: $parents[1].buildExplorer.graphData()[$index()].cumulativeSkillBuild[$parentContext.$index()].join(\'-\')"></td>\n                            <!-- /ko -->\n                        </tr>\n                        <tr class="itemBuild-inventory" data-bind="visible: $parent.buildExplorer.showGraphItemBuildRows() && $parent.buildExplorer.graphRowHasItems($index())">\n                            <td class="right-border-itemrow no-top-border"></td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="right-border-itemrow no-top-border" data-bind="attr: { colspan: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns() ? 2 : 1 }">\n                                <div data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), foreach: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()].items">\n                                    <img class="itemBuild-img-sm img-rounded" data-bind="css: { item_disabled: !enabled, item_active: $parents[2].inventory.getActiveBorder($data) == 1, item_inactive: $parents[2].inventory.getActiveBorder($data) == 0 }, attr:{ src: $parents[2].inventory.getItemImage($data) }"/>\n                                    <div style="float:left" data-bind="visible: $parents[2].inventory.getItemSizeLabel($data) != \'\'">\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                                    </div>\n                                </div>\n                            </td>\n                            <!-- /ko -->\n                        </tr>\n                    </tbody>\n                </table>\n                <!-- /ko -->\n            </div>\n        </div>\n    </div>\n\n</div>';
}),define("components/hero-pane",["herocalc_knockout","text!./hero-pane.html"],function(e,t){return{template:t}}),define("text!components/unit-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: selectedUnit().image}"/>\n    </div>\n    <div class="col-md-4">\n        <label for="unitselect">Unit</label>\n        <select id="unitselect" class="form-control" data-bind="options: availableUnits , optionsText: \'heroDisplayName\', value: selectedUnit"></select>\n    </div>\n    <div class="col-md-4">\n        <label for="unitlevel">Level</label>\n        <p class="form-control-static" data-bind="visible: selectedUnit().levels == 0, text: hero().level"></p>\n        <select id="herolevel" class="form-control" data-bind="visible: selectedUnit().levels > 0, value: selectedUnitLevel, foreach: new Array(selectedUnit().levels)">\n            <option data-bind="text: $index()+1"></option>\n        </select>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-3" data-bind="visible: showStatDetails(), component: {name: \'stats-additional\', params: $data}"></div>\n            \n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Gold:</td><td class="text-right"><span data-bind="text: hero().bountygoldmin() == hero().bountygoldmax() ? hero().bountygoldmax() : hero().bountygoldmin() + \'-\' + hero().bountygoldmax()"></span></td></tr>\n                <tr><td>Experience:</td><td class="text-right"><span data-bind="text: hero().bountyxp()"></span></td></tr>\n                <tr><td>Level:</td><td class="text-right"><span data-bind="text: hero().level()"></span></td></tr>\n                <tr><td><abbr title="Movement Speed">MS</abbr>:</td><td class="text-right"><span data-bind="text: totalMovementSpeed"></span></td></tr>\n                <tr><td>Turn Rate:</td><td class="text-right"><span data-bind="text: totalTurnRate"></span></td></tr>\n                <tr><td>Sight Range:</td><td class="text-right"><span data-bind="html: \'<abbr title=\\\'Day\\\'>\' + visionrangeday() + \'</abbr>/<abbr title=\\\'Night\\\'>\' + visionrangenight() + \'</abbr>\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Health:</td><td class="text-right"><span data-bind="text: health"></span></td></tr>\n                <tr><td>Health Regen:</td><td class="text-right"><span data-bind="text: healthregen"></span></td></tr>\n                <tr><td>Mana:</td><td class="text-right"><span data-bind="text: mana"></span></td></tr>\n                <tr><td>Mana Regen:</td><td class="text-right"><span data-bind="text: manaregen"></span></td></tr>\n                <tr><td>Physical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpPhysical"></span></td></tr>\n                <tr><td>Magical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpMagical"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Armor:</td><td class="text-right"><span data-bind="text: totalArmorPhysical"></span></td></tr>\n                <tr><td>Magic Res:</td><td class="text-right"><span data-bind="html: totalMagicResistance().toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Lifesteal:</td><td class="text-right"><span data-bind="text: lifesteal"></span></td></tr>\n                <tr><td>Evasion:</td><td class="text-right"><span data-bind="text: evasion"></span></td></tr>\n                <tr><td>Bash:</td><td class="text-right"><span data-bind="text: bash"></span></td></tr>\n                <tr><td>Miss Chance:</td><td class="text-right"><span data-bind="text: missChance"></span></td></tr>\n                </tbody>\n                <tbody class="tabledropdown" style="border-top:0" data-bind="visible: showCriticalStrikeDetails(),foreach: critInfo().sources">\n                <tr><td colspan=2><strong data-bind="text: $data.name"></strong></td></tr>\n                <tr><td>Crit Chance:</td><td class="text-right"><span data-bind="text: ($data.totalchance * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Crit Multiplier:</td><td class="text-right"><span data-bind="text: ($data.multiplier * 100).toFixed(2) + \'%\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr>\n                    <td>Damage:</td>\n                    <td class="text-right">\n                        <span data-bind="html: baseDamage()[0] + \'-\' + baseDamage()[1]"></span>\n                        <span style="color:green" data-bind="visible: bonusDamage() > 0, text: \' + \' + bonusDamage()"></span>\n                        <span style="color:red" data-bind="visible: bonusDamageReduction() != 0, text: \' - \' + bonusDamageReduction()"></span>\n                    </td>\n                </tr>\n                <tr><td><abbr title="Increased Attack Speed">IAS</abbr>:</td><td class="text-right"><span data-bind="text: ias"></span></td></tr>\n                <tr><td><abbr title="Base Attack Time">BAT</abbr>:</td><td class="text-right"><span data-bind="text: bat"></span></td></tr>\n                <tr><td>Attack Time:</td><td class="text-right"><span data-bind="text: attackTime"></span></td></tr>\n                <tr><td>Attack / Sec:</td><td class="text-right"><span data-bind="text: attacksPerSecond().toFixed(2)"></span></td></tr>\n                <tr><td>Attack Range:</td><td class="text-right"><span data-bind="text: totalattackrange"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities <small style="color:inherit" data-bind="text: availableSkillPoints() ? (availableSkillPoints() == 1 ? \'1 unspent skillpoint\' : availableSkillPoints() + \' unspent skillpoints\') : \'\'"></small></h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n                <div class="form-horizontal" data-bind="if: selectedHero().heroName == \'silencer\', visible: sectionDisplay().ability()">\n                    <div class="form-group">\n                            <div class="col-md-2 control-label">\n                                <label for="intelligencestolen">Intelligence Stolen</label>\n                            </div>\n                            <div class="col-md-2">\n                                <input class="form-control" id="intelligencestolen" data-bind="value: intStolen" />\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div data-bind="component: { name: \'buff-section\', params: $data}"></div>\n    </div>\n</div>'}),define("components/unit-pane",["herocalc_knockout","text!./unit-pane.html"],function(e,t){return{template:t}}),define("text!components/clone-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: \'/media/images/heroes/meepo.png\'}"/>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $root.heroes[$parentContext.$index()].clone()}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div data-bind="component: { name: \'damage-details\', params: $data}"></div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n    </div>\n</div>'}),define("components/clone-pane",["herocalc_knockout","text!./clone-pane.html"],function(e,t){return{template:t}}),define("text!components/illusion-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-4">\n        <div class="img-rounded" style="background-color:#428bca;display:inline-block">\n            <img class="img-rounded" style="opacity:.5" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n        </div>\n    </div>\n    <div class="col-md-4">\n        <label for="illusionlevel" data-bind="text: illusionDisplayName"></label>\n        <table class="table">\n            <tbody>\n            <tr>\n                <td>Damage Dealt</td>\n                <td class="text-right" data-bind="text: (getOutgoingDamageMultiplier(illusionType(), false, hero().attacktype())*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            <tr>\n                <td>Damage Taken</td>\n                <td class="text-right" data-bind="text: (getIncomingDamageMultiplier(illusionType(), false, hero().attacktype())*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="col-md-4">\n        <div data-bind="visible: illusionType() != \'item_manta\'">\n            <label for="illusionlevel">Ability Level</label>\n            <select id="illusionlevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                <option data-bind="text: $index()+1"></option>\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}">\n            </div>\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, foreach: inventory.items, visible: sectionDisplay().inventory()">\n                    <div class="btn-group">\n                        <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parent.inventory.getActiveBorder($data) == 1, item_inactive: $parent.inventory.getActiveBorder($data) == 0 }, attr:{ src: $parent.inventory.getItemImage($data) }, click: function(data, event) { $parent.inventory.toggleItem($index, data, event); }, event: { dblclick: $parent.inventory.removeItem }"/>\n                        <div style="float:left" data-bind="visible: $parent.inventory.getItemSizeLabel($data) != \'\'">\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("components/illusion-pane",["herocalc_knockout","text!./illusion-pane.html"],function(e,t){return{template:t}}),define("text!components/buff-settings.html",[],function(){return'<div class="form-horizontal">\n    <div data-bind="foreach: data">\n        <div class="form-group">\n            <label class="col-md-6 control-label" data-bind="css: {\'checkbox-label\': controlType == \'checkbox\'}, visible: (display == undefined || display == \'buff\'), attr: {\'for\': labelName}, html: labelName"></label>\n            <div data-bind="if: controlType == \'input\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6"><input class="form-control" data-bind="attr: {\'id\': labelName}, value: controlVal"></div>\n            </div>\n            <div data-bind="if: controlType == \'checkbox\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6">\n                    <div class="checkbox">\n                        <input type="checkbox" data-bind="attr: {\'id\': labelName}, checked: controlVal">\n                    </div>\n                </div>\n            </div>\n            <div data-bind="if: controlType == \'text\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6"><p class="form-control-static" data-bind="html: controlVal"></p></div>\n            </div>\n            <div data-bind="if: controlType == \'radio\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6">\n                    <!-- ko foreach: controlOptions -->\n                    <div class="radio">\n                        <label>\n                            <input type="radio" data-bind="attr: {\'id\': $parent.labelName + value, value: value}, checked: $parent.controlVal">\n                            <span data-bind="text: text"></span>\n                        </label>\n                    </div>\n                    <!-- /ko -->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("components/buff-settings",["herocalc_knockout","text!./buff-settings.html"],function(e,t){return{template:t}}),define("text!components/item-buff.html",[],function(){return'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].buffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].buffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].buffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].buffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].buffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),define("components/item-buff",["herocalc_knockout","text!./item-buff.html"],function(e,t){return{template:t}}),define("text!components/item-debuff.html",[],function(){return'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].debuffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].debuffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].debuffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].debuffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].debuffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),define("components/item-debuff",["herocalc_knockout","text!./item-debuff.html"],function(e,t){return{template:t}}),define("text!components/buff-section.html",[],function(){return'<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }">Buffs</h3>\n        <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <select id="buffselect" class="form-control" data-bind="options: buffs.availableBuffs , optionsText: \'buffDisplayName\', value: buffs.selectedBuff"></select>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: buffs.addBuff">Add</button>\n                    <button class="btn btn-default" data-bind="click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }">Remove</button>\n                </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: buffs.buffs, visible: sectionDisplay().buff()">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name()) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                    <div data-bind="if: $data.data.name() in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.buffs.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <div class="input-group">\n                        <input class="form-control" id="auto2" data-bind="attr: {id: id() + \'-auto2\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                        <span class="input-group-btn">\n                            <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto2\'"><span class="glyphicon glyphicon-search"></span></button>\n                        </span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: buffs.itemBuffs.addItemBuff">Add</button>\n                </div>\n            </div>\n        </div>\n        <div data-bind="foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()">\n            <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-buff\', params: $data}"></div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }">Debuffs</h3>\n        <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <select id="buffselect" class="form-control" data-bind="options: debuffs.availableDebuffs , optionsText: \'buffDisplayName\', value: debuffs.selectedBuff"></select>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: debuffs.addBuff">Add</button>\n                    <button class="btn btn-default" data-bind="click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }">Remove</button>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="foreach: debuffs.buffs, visible: sectionDisplay().debuff()">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name()) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                    <div data-bind="if: $data.data.name() in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.debuffs.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n            <div class="form-group">\n                <div class="col-md-6">\n                    <div class="input-group">\n                        <input class="form-control" id="auto3" data-bind="attr: {id: id() + \'-auto3\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                        <span class="input-group-btn">\n                            <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto3\'"><span class="glyphicon glyphicon-search"></span></button>\n                        </span>\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <button class="btn btn-default" data-bind="click: debuffs.itemBuffs.addItemDebuff">Add</button>\n                </div>\n            </div>\n        </div>\n        <div data-bind="foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()">\n            <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-debuff\', params: $data}"></div>\n        </div>\n    </div>\n</div>';
}),define("components/buff-section",["herocalc_knockout","text!./buff-section.html"],function(e,t){return{template:t}}),define("text!components/damage-details.html",[],function(){return'<div class="row">\n    <div class="col-md-12">\n        <h3 style="display:block;" class="section_header" data-bind="toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }">Damage Details\n            <span class="pull-right" data-bind="visible: showDamageDetails()">\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'physical\')}">Physical</small>\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'magic\')}">Magical</small>\n                <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'pure\')}">Pure</small>\n            </span>\n        </h3>\n        <table class="table damage-details" data-bind="visible: showDamageDetails()">\n            <thead>\n                <tr class="damage-details-header-row">\n                    <td></td>\n                    <td class="text-center" colspan="2"><strong>Attack Damage</strong><img src="img/reduc_icon.png" class="pull-right" data-bind="attr: {title: \'After reductions from \' + enemy().hero().displayname()}"></td>\n                    <td class="text-center" colspan="2"><strong>DPS</strong><img src="img/reduc_icon.png" class="pull-right" data-bind="attr: {title: \'After reductions from \' + enemy().hero().displayname()}"></td>\n                </tr>\n                <tr class="damage-details-header-row-2 total-row">\n                    <td><strong>Total</strong></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[0]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[1]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[2]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: damageTotalInfo().totalRow[3]().toFixed(2)"></td>\n                </tr>\n            </thead>\n            <!-- ko foreach: damageTotalInfo().attacks -->\n            <tbody>\n                <tr class="indent subtotal-row" data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                        <button class="btn btn-default btn-xs glyphicon pull-right" data-bind="toggle: $data.visible, css: {\'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}, preventBubble: \'click\'"></button>\n                        <strong><span data-bind="text: $data.name"></span></strong>\n                    </td>\n                    <td class="text-right" data-bind="text: $data.totalRow[0]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[1]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[2]().toFixed(2)"></td>\n                    <td class="text-right" data-bind="text: $data.totalRow[3]().toFixed(2)"></td>\n                </tr>\n            </tbody>\n            <tbody class="indent" data-bind="foreach: $data.sources, visible: $data.visible">\n                <tr data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td class="indent">\n                        <span data-bind="text: $data.name"></span>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                    </td>\n                    <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dps.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dpsReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n            </tbody>\n            <tr class="indent crit" data-bind="visible: $data.visible() && $data.sourcesCrit.length > 0">\n                <td class="indent">Critical Strike Proc, <span data-bind="text: ($data.totalCritChance * 100).toFixed(1) + \'%\'"></span></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[0]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[1]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[2]().toFixed(2)"></td>\n                <td class="text-right" data-bind="text: $data.totalCritRow[3]().toFixed(2)"></td>\n            </tr>\n            <tbody class="indent" data-bind="visible: $data.visible, foreach: $data.sourcesCrit">\n                <tr class="indent crit" data-bind="toggle: $data.enabled, css: { \'inactive\': !$data.enabled() }">\n                    <td class="indent">\n                        <span data-bind="text: $data.name"></span>\n                        <button class="btn btn-default btn-xs glyphicon pull-left" data-bind="toggle: $data.enabled, css: {\'glyphicon-eye-open\': $data.enabled(), \'glyphicon-eye-close\': !$data.enabled()}, preventBubble: \'click\'"></button>\n                    </td>\n                    <td class="text-right"><span data-bind="html: $data.damage.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dps.toFixed(2)"></span></td>\n                    <td class="text-right"><span data-bind="html: $data.dpsReduced.toFixed(2)"></span></td>\n                </tr>\n            </tbody>\n            <!-- /ko -->\n            <tbody>\n                <tr data-bind="visible: cleaveInfo().length > 0">\n                    <td colspan=3><strong>Cleave</strong></td>\n                </tr>\n            </tbody>    \n            <tbody data-bind="foreach: cleaveInfo()">\n                <tr><td>Radius:</td><td class="text-right"><span data-bind="html: $data.radius"></span></td></tr>\n                <tr><td>Magnitude:</td><td class="text-right"><span data-bind="html: ($data.magnitude * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr>\n                    <td>Cleave Damage:</td>\n                    <td class="text-right"><span data-bind="html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)"></span></td>\n                </tr>\n            </tbody>\n        \n        </table>\n    </div>\n</div>'}),define("components/damage-details",["herocalc_knockout","text!./damage-details.html"],function(e,t){return{template:t}}),define("text!components/damage-amp.html",[],function(){return'<div class="col-md-12">\n    <h3 class="section_header" data-bind="toggle: sectionDisplay().damageamp, css: { section_disabled: !sectionDisplay().damageamp() }">Damage Amplification & Reduction</h3>\n    <div data-bind="visible: sectionDisplay().damageamp(), lazyBinding: sectionDisplay().damageamp">\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="damageinput">Damage</label>\n                    </div>\n                    <div class="col-md-6">\n                        <input class="form-control" id="damageinput" data-bind="value: damageInputValue" />\n                    </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffampselect">Amplification</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffampselect" class="form-control" data-bind="options: damageAmplification.availableBuffs , optionsText: \'buffDisplayName\', value: damageAmplification.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageAmplification.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageAmplification.removeBuff(data, event, damageAmplification.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageAmplification.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.damageAmplification.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageAmplification.removeBuff(data, event, $data.data.name()) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                    <div data-bind="if: $data.data.name() in $parent.damageAmplification.abilityData && $parent.damageAmplification.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageAmplification.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffreductionselect">Reduction</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffreductionselect" class="form-control" data-bind="options: damageReduction.availableDebuffs , optionsText: \'buffDisplayName\', value: damageReduction.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageReduction.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageReduction.removeBuff(data, event, damageReduction.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageReduction.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.damageReduction.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageReduction.removeBuff(data, event, $data.data.name()) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                    <div data-bind="if: $data.data.name() in $parent.damageReduction.abilityData && $parent.damageReduction.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageReduction.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <h4>Calculations <a class="btn btn-default btn-xs" data-bind="toggle: showDamageAmpCalcDetails, text: !showDamageAmpCalcDetails() ? \'Show details\' : \'Hide details\'"></a></h4>\n        <table class="table">\n            <tbody>\n                <!-- ko foreach: damageInputModified().data -->\n                <tr data-bind="visible: $parent.showDamageAmpCalcDetails()">\n                    <td><span style="text-decoration: underline;" data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                    <!-- ko foreach: $data.data -->\n                    <tr data-bind="visible: $parents[1].showDamageAmpCalcDetails()">\n                        <td><span data-bind="text: $data.label"></span></td>\n                        <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, diffStyle: $data.value"></span></td>\n                    </tr>\n                    <!-- /ko -->\n                <tr data-bind="css: {subtotal: $parent.showDamageAmpCalcDetails()}">\n                    <td data-bind="visible: $parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage subtotal\'"></span></td>\n                    <td data-bind="visible: !$parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.total * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                <!-- /ko -->\n                <tr>\n                    <td><strong data-bind="text: damageInputModified().label + \' damage\'"></strong></td>\n                    <td class="text-right"><strong data-bind="html: Math.round(damageInputModified().total * 100) / 100, style: {color: getDamageTypeColor(damageInputModified().damageType)}"></strong></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>'}),define("components/damage-amp",["herocalc_knockout","text!./damage-amp.html"],function(e,t){return{template:t}}),define("text!components/ability.html",[],function(){return'<div data-bind="if: $data.displayname() != \'Empty\' &&  ($data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_HIDDEN\') == -1 || $data.name().indexOf(\'invoker_\') != -1),\nstyle: {clear: $data.name() == \'invoker_cold_snap\' || $data.name() == \'invoker_chaos_meteor\' ? \'both\' : \'\'},\ncss: {row: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()), row3: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()) }">\n    <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n        <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.isActive() || $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.isActive() && $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.name() + \'.png\'}, click: function(data, event) { $parents[1].ability().toggleAbility($index, data, event); }"/>\n        <div class="progress" style="position:relative">\n            <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parents[1].getAbilityLevelMax($data) > 0, text: $data.level() + \'/\' + $parents[1].getAbilityLevelMax($data)"></div>\n            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) }, style: { width: ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) + \'%\' }"></div>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelDownAbility($index, data, event, $parents[1]); }">-</a>\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelUpAbility($index, data, event, $parents[1]); }">+</a>\n        </div>\n        <div class="btn-group btn-group-justified">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }, css: {\'toggled\': $data.isDetail}">Details</a>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') != -1">\n            <a class="btn btn-default btn-sm btn-block" style="visibility:hidden;">&mdash;</a>\n        </div>\n    </div>\n    <div class="col-md-9 bottom-buffer2" data-bind="visible: $data.isDetail()">\n        <button type="button" class="close" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }">&times;</button>\n        <div data-bind="html: $parents[1].ability().getAbilityTooltipData($parents[1].hero().name(), $data.name())"></div>\n        <div data-bind="if: $data.name() in $parents[1].ability().abilityData && $parents[1].ability().abilities()[$index()].level() > 0">\n            <div class="col-md-12" style="margin-top: 10px" >\n                <div data-bind="template: { name: \'ability-settings-template\', data: $parents[1].ability().abilitySettingsData($data.name(), $parents[1], $index()) }"></div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("components/ability",["herocalc_knockout","text!./ability.html"],function(e,t){return{template:t}}),define("text!components/shop.html",[],function(){return'        <div id="shop-container" class="col-md-12 col-lg-4" data-bind="shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {\'col-lg-4\': !shopPopout()}, style: { \'padding-top\': shopPopout() ? \'5px\' : \'0px\'}">\n              <button id="shop-minimize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShop, visible: displayShop()" title="Minimize shop"></button>\n              <button id="shop-maximize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShop, visible: !displayShop()" title="Maximize shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs" data-bind="click: shopPopout, visible: !shopPopout()" title="Popout shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs" data-bind="toggle: shopDock, attr: { title: shopDock() ? \'Undock shop to right side of screen\' : \'Dock shop to right side of screen\' }" ></button>\n            <ul id="shoptabs" class="nav nav-tabs" data-bind="visible: displayShop()">\n              <li><a href="#shop_basic" data-toggle="tab">Basic</a></li>\n              <li><a href="#shop_upgrade" data-toggle="tab">Upgrade</a></li>\n              <li><a href="#shop_secret" data-toggle="tab">Secret</a></li>\n            </ul>\n            <div class="tab-content text-center bottom-buffer2" data-bind="visible: displayShop()">\n                <div class="tab-pane active" id="shop_basic">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-consumables" id="consumables"></div>\n  <div class="img-rounded hc-item hc-item-clarity" id="clarity" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-faerie_fire" id="faerie_fire" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-enchanted_mango" id="enchanted_mango" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tango" id="tango" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-flask" id="flask" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-smoke_of_deceit" id="smoke_of_deceit" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tpscroll" id="tpscroll" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dust" id="dust" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-courier" id="courier" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-flying_courier" id="flying_courier" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ward_observer" id="ward_observer" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ward_sentry" id="ward_sentry" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tome_of_knowledge" id="tome_of_knowledge" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bottle" id="bottle" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-attributes" id="attributes"></div>\n  <div class="img-rounded hc-item hc-item-branches" id="branches" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gauntlets" id="gauntlets" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-slippers" id="slippers" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mantle" id="mantle" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-circlet" id="circlet" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-belt_of_strength" id="belt_of_strength" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-boots_of_elves" id="boots_of_elves" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-robe" id="robe" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ogre_axe" id="ogre_axe" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blade_of_alacrity" id="blade_of_alacrity" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-staff_of_wizardry" id="staff_of_wizardry" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armaments" id="armaments"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_protection" id="ring_of_protection" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-stout_shield" id="stout_shield" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-quelling_blade" id="quelling_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-infused_raindrop" id="infused_raindrop" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blight_stone" id="blight_stone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-orb_of_venom" id="orb_of_venom" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blades_of_attack" id="blades_of_attack" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-chainmail" id="chainmail" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-quarterstaff" id="quarterstaff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-helm_of_iron_will" id="helm_of_iron_will" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-broadsword" id="broadsword" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-claymore" id="claymore" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-javelin" id="javelin" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mithril_hammer" id="mithril_hammer" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-arcane" id="arcane"></div>\n  <div class="img-rounded hc-item hc-item-wind_lace" id="wind_lace" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-magic_stick" id="magic_stick" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sobi_mask" id="sobi_mask" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_regen" id="ring_of_regen" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-boots" id="boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gloves" id="gloves" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-cloak" id="cloak" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_health" id="ring_of_health" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-void_stone" id="void_stone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gem" id="gem" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-lifesteal" id="lifesteal" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-shadow_amulet" id="shadow_amulet" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ghost" id="ghost" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blink" id="blink" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n\n\n                </div>\n                <div class="tab-pane" id="shop_upgrade">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-common" id="common"></div>\n  <div class="img-rounded hc-item hc-item-magic_wand" id="magic_wand" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-null_talisman" id="null_talisman" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-wraith_band" id="wraith_band" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-poor_mans_shield" id="poor_mans_shield" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bracer" id="bracer" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-soul_ring" id="soul_ring" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-phase_boots" id="phase_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-power_treads" id="power_treads" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-oblivion_staff" id="oblivion_staff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-pers" id="pers" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hand_of_midas" id="hand_of_midas" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-travel_boots" id="travel_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-moon_shard" id="moon_shard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-support" id="support"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_basilius" id="ring_of_basilius" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-iron_talon" id="iron_talon" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-headdress" id="headdress" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-buckler" id="buckler" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-urn_of_shadows" id="urn_of_shadows" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tranquil_boots" id="tranquil_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_aquila" id="ring_of_aquila" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-medallion_of_courage" id="medallion_of_courage" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-arcane_boots" id="arcane_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ancient_janggo" id="ancient_janggo" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mekansm" id="mekansm" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vladmir" id="vladmir" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-pipe" id="pipe" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-guardian_greaves" id="guardian_greaves" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-caster" id="caster"></div>\n  <div class="img-rounded hc-item hc-item-glimmer_cape" id="glimmer_cape" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-force_staff" id="force_staff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-veil_of_discord" id="veil_of_discord" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-aether_lens" id="aether_lens" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-necronomicon" id="necronomicon" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dagon" id="dagon" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-cyclone" id="cyclone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-solar_crest" id="solar_crest" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-rod_of_atos" id="rod_of_atos" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-orchid" id="orchid" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ultimate_scepter" id="ultimate_scepter" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-refresher" id="refresher" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sheepstick" id="sheepstick" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-octarine_core" id="octarine_core" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-weapons" id="weapons"></div>\n  <div class="img-rounded hc-item hc-item-lesser_crit" id="lesser_crit" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-armlet" id="armlet" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-invis_sword" id="invis_sword" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-basher" id="basher" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bfury" id="bfury" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ethereal_blade" id="ethereal_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-silver_edge" id="silver_edge" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-radiance" id="radiance" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-monkey_king_bar" id="monkey_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-greater_crit" id="greater_crit" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-butterfly" id="butterfly" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-rapier" id="rapier" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-abyssal_blade" id="abyssal_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bloodthorn" id="bloodthorn" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armor" id="armor"></div>\n  <div class="img-rounded hc-item hc-item-hood_of_defiance" id="hood_of_defiance" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vanguard" id="vanguard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blade_mail" id="blade_mail" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-soul_booster" id="soul_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-crimson_guard" id="crimson_guard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-black_king_bar" id="black_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-lotus_orb" id="lotus_orb" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-shivas_guard" id="shivas_guard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bloodstone" id="bloodstone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-manta" id="manta" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sphere" id="sphere" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hurricane_pike" id="hurricane_pike" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-assault" id="assault" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-heart" id="heart" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-artifacts" id="artifacts"></div>\n  <div class="img-rounded hc-item hc-item-mask_of_madness" id="mask_of_madness" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-helm_of_the_dominator" id="helm_of_the_dominator" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dragon_lance" id="dragon_lance" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sange" id="sange" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-yasha" id="yasha" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-echo_sabre" id="echo_sabre" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-maelstrom" id="maelstrom" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-diffusal_blade" id="diffusal_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-desolator" id="desolator" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-heavens_halberd" id="heavens_halberd" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sange_and_yasha" id="sange_and_yasha" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-skadi" id="skadi" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mjollnir" id="mjollnir" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-satanic" id="satanic" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n                </div>\n                <div class="tab-pane" id="shop_secret">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-secret" id="secret"></div>\n  <div class="img-rounded hc-item hc-item-energy_booster" id="energy_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vitality_booster" id="vitality_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-point_booster" id="point_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-platemail" id="platemail" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-talisman_of_evasion" id="talisman_of_evasion" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hyperstone" id="hyperstone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ultimate_orb" id="ultimate_orb" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-demon_edge" id="demon_edge" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mystic_staff" id="mystic_staff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-eagle" id="eagle" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-reaver" id="reaver" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-relic" id="relic" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n                </div>\n            </div>\n\n            <div class="form-group" data-bind="visible: displayShop()">\n                <div class="input-group">\n                    <input class="form-control" id="auto" data-bind="jqAuto: { autoFocus: true, html: true }, jqAutoSource: selectedTab().data.inventory.itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-default" data-bind="jqAutoCombo: \'auto\'"><span class="glyphicon glyphicon-search"></span></button>\n                    </span>\n                </div>\n            </div>\n\n            <div data-bind="visible: selectedItem() && displayShop()">\n                <button class="btn btn-default btn-xs glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShopItemTooltip, visible: displayShopItemTooltip()" title="Hide item description"></button>\n                <button class="btn btn-default btn-xs glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()" title="Show item description"></button>\n                <div data-bind="html: getItemTooltipData, css: { \'hide-shop-item-details\': !displayShopItemTooltip() }"></div>\n                <div style="margin-top:10px;margin-bottom:10px;" class="form-inline" data-bind="visible: getItemInputLabel() != \'\'">\n                    <div class="form-group">\n                        <label for="iteminput" data-bind="text: getItemInputLabel"></label>\n                        <input class="form-control" id="iteminput" data-bind="value: itemInputValue" />\n                    </div>\n                </div>\n                <div class="form-group text-right">\n                    <button class="btn btn-default" data-bind="click: selectedTab().data.buildExplorer.getSelectedInventory().addItem">Add Item</button>\n                </div>\n            </div>\n        </div>';
}),define("components/shop",["herocalc_knockout","text!./shop.html"],function(e,t){return{template:t}}),define("text!components/stats/stat.html",[],function(){return'<span data-bind="text: parseFloat(hero[stat]()).toString()"></span><span data-bind="html: $root.getDiffText(hero.diff[stat]()), diffCss: hero.diff[stat], diffCssStat: stat, visible: hero.showDiff"></span>'}),define("components/stats/stat",["herocalc_knockout","text!./stat.html"],function(e,t){return{template:t}}),define("text!components/stats/stats0.html",[],function(){return"<div class=\"col-md-12 stats0\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Strength:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalStr' } }\"></td></tr>\n    <tr><td>Agility:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalAgi' } }\"></td></tr>\n    <tr><td>Intelligence:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalInt' } }\"></td></tr>\n    <tr><td><abbr title=\"Movement Speed\">MS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMovementSpeed' } }\"></td></tr>\n    <tr><td>Turn Rate:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalTurnRate' } }\"></td></tr>\n    <tr><td>Sight Range:</td><td class=\"text-right\"><span data-bind=\"html: '<abbr title=\\'Day\\'>' + visionrangeday() + '</abbr>/<abbr title=\\'Night\\'>' + visionrangenight() + '</abbr>'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats0",["herocalc_knockout","text!./stats0.html"],function(e,t){return{template:t}}),define("text!components/stats/stats1.html",[],function(){return"<div class=\"col-md-12 stats1\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Armor:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysical' } }\"></td></tr>\n    <tr><td>Health:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'health' } }\"></td></tr>\n    <tr><td>Health Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'healthregen' } }\"></td></tr>\n    <tr><td>Mana:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'mana' } }\"></td></tr>\n    <tr><td>Mana Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'manaregen' } }\"></td></tr>\n    <tr><td>Physical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpPhysical' } }\"></td></tr>\n    <tr><td>Magical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpMagical' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats1",["herocalc_knockout","text!./stats1.html"],function(e,t){return{template:t}}),define("text!components/stats/stats2.html",[],function(){return"<div class=\"col-md-12 stats2\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>%Phys Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysicalReduction' } }\"></td></tr>\n    <tr><td>%Magic Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMagicResistance' } }\"></td></tr>\n    <tr><td>%Lifesteal:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'lifesteal' } }\"></td></tr>\n    <tr><td>%Evasion:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'evasion' } }\"></td></tr>\n    <tr><td>%Bash:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bash' } }\"></td></tr>\n    <tr><td>%Miss Chance:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'missChance' } }\"></td></tr>\n    <tr style=\"display: none\"><td colspan=2><a class=\"btn btn-default btn-block btn-xs\" data-bind=\"css: {disabled: critInfo().sources.length == 0 ? 'disabled' : '', 'toggled': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails\">Critical Strike Details</a></td></tr>\n    </tbody>\n    <tbody class=\"tabledropdown\" style=\"border-top:0\" data-bind=\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\">\n    <tr><td colspan=2><strong data-bind=\"text: $data.name\"></strong></td></tr>\n    <tr><td>Crit Chance:</td><td class=\"text-right\"><span data-bind=\"text: ($data.totalchance * 100).toFixed(2) + '%'\"></span></td></tr>\n    <tr><td>Crit Multiplier:</td><td class=\"text-right\"><span data-bind=\"text: ($data.multiplier * 100).toFixed(2) + '%'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats2",["herocalc_knockout","text!./stats2.html"],function(e,t){return{template:t}}),define("text!components/stats/stats3.html",[],function(){return"<div class=\"col-md-12 stats3\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr>\n        <td>Damage:</td>\n        <td class=\"text-right\">\n            <span data-bind=\"html: baseDamage()[0].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[0]), css: {'diffPos': diff['baseDamage']()[0] > 0, 'diffNeg': diff['baseDamage']()[0] < 0}, visible: showDiff\"></span>\n            <span>&ndash;</span>\n            <span data-bind=\"html: baseDamage()[1].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[1]), css: {'diffPos': diff['baseDamage']()[1] > 0, 'diffNeg': diff['baseDamage']()[1] < 0}, visible: showDiff\"></span>\n            <span style=\"color:green\" data-bind=\"visible: bonusDamage() > 0, html: ' + ' + bonusDamage().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamage']()), css: {'diffPos': diff['bonusDamage']() > 0, 'diffNeg': diff['bonusDamage']() < 0}, visible: showDiff\"></span>\n            <span style=\"color:red\" data-bind=\"visible: bonusDamageReduction() != 0, html: ' - ' + bonusDamageReduction().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamageReduction']()), css: {'diffPos': diff['bonusDamageReduction']() > 0, 'diffNeg': diff['bonusDamageReduction']() < 0}, visible: showDiff\"></span>\n        </td>\n    </tr>\n    <tr><td><abbr title=\"Increased Attack Speed\">IAS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ias' } }\"></td></tr>\n    <tr><td><abbr title=\"Base Attack Time\">BAT</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bat' } }\"></td></tr>\n    <tr><td>Attack Time:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attackTime' } }\"></td></tr>\n    <tr><td>Attack &frasl; Sec:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attacksPerSecond' } }\"></td></tr>\n    <tr><td>Attack Range:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalattackrange' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats3",["herocalc_knockout","text!./stats3.html"],function(e,t){return{template:t}}),define("text!components/stats/stats-additional.html",[],function(){return'<table class="table table-condensed">\n    <tbody>\n        <tr><td>Base Strength:</td><td class="text-right"><span data-bind="text: hero().attributebasestrength"></span></td></tr>\n        <tr><td>Strength Gain:</td><td class="text-right"><span data-bind="text: hero().attributestrengthgain"></span></td></tr>\n        <tr><td>Base Agility:</td><td class="text-right"><span data-bind="text: hero().attributebaseagility"></span></td></tr>\n        <tr><td>Agility Gain:</td><td class="text-right"><span data-bind="text: hero().attributeagilitygain"></span></td></tr>\n        <tr><td>Base Intelligence:</td><td class="text-right"><span data-bind="text: hero().attributebaseintelligence"></span></td></tr>\n        <tr><td>Intelligence Gain:</td><td class="text-right"><span data-bind="text: hero().attributeintelligencegain"></span></td></tr>\n        <tr><td>Base Armor:</td><td class="text-right"><span data-bind="text: hero().armorphysical"></span></td></tr>\n        <tr><td><abbr title="Base Armor + armor from base agility">Starting Armor:</abbr></td><td class="text-right"><span data-bind="text: parseFloat($data.startingArmor()).toString()"></span></td></tr>\n        <tr><td>Base Magic Res:</td><td class="text-right"><span data-bind="text: hero().magicalresistance() + \'%\'"></span></td></tr>\n        <tr><td>Base Attack Point:</td><td class="text-right"><span data-bind="text: hero().attackpoint"></span></td></tr>\n        <tr><td><abbr data-bind="attr: { title: \'Total experience required to reach level \' + $data.selectedHeroLevel() }">Total Exp:</abbr></td><td class="text-right"><span data-bind="text: $data.totalExp()"></span></span></td></tr>\n        <tr><td><abbr title="Experience required for next level">Next level exp:</abbr></td><td class="text-right"><span data-bind="html: $data.nextLevelExp()"></span></span></td></tr>\n        <tr><td>Respawn Time:</td><td class="text-right"><span data-bind="text: $data.respawnTime()"></span></td></tr>\n    </tbody>\n</table>'}),define("components/stats/stats-additional",["herocalc_knockout","text!./stats-additional.html"],function(e,t){return{template:t}}),define("components/main",["require","exports","module","./hero-pane","./unit-pane","./clone-pane","./illusion-pane","./buff-settings","./item-buff","./item-debuff","./buff-section","./damage-details","./damage-amp","./ability","./shop","./stats/stat","./stats/stats0","./stats/stats1","./stats/stats2","./stats/stats3","./stats/stats-additional"],function(e,t,i){"use strict";e("./hero-pane"),e("./unit-pane"),e("./clone-pane"),e("./illusion-pane"),e("./buff-settings"),e("./item-buff"),e("./item-debuff"),e("./buff-section"),e("./damage-details"),e("./damage-amp"),e("./ability"),e("./shop"),e("./stats/stat"),e("./stats/stats0"),e("./stats/stats1"),e("./stats/stats2"),e("./stats/stats3"),e("./stats/stats-additional")}),define("components",["components/main"],function(e){return e}),define("herocalc/herocalc_app",["require","exports","module","herocalc_knockout","jquery","bootstrap","jquery-ui.custom","chartjs","chartjs-scatter","components","./herocalc_core"],function(e,t,i){"use strict";var a=e("herocalc_knockout"),n=e("jquery");e("bootstrap"),e("jquery-ui.custom"),e("chartjs"),e("chartjs-scatter"),e("components"),a.components.register("hero-pane",{require:"components/hero-pane"}),a.components.register("unit-pane",{require:"components/unit-pane"}),a.components.register("clone-pane",{require:"components/clone-pane"}),a.components.register("illusion-pane",{require:"components/illusion-pane"}),a.components.register("buff-settings",{require:"components/buff-settings"}),a.components.register("item-buff",{require:"components/item-buff"}),a.components.register("item-debuff",{require:"components/item-debuff"}),a.components.register("buff-section",{require:"components/buff-section"}),a.components.register("damage-details",{require:"components/damage-details"}),a.components.register("damage-amp",{require:"components/damage-amp"}),a.components.register("ability",{require:"components/ability"}),a.components.register("shop",{require:"components/shop"}),a.components.register("stat",{require:"components/stats/stat"}),a.components.register("stats0",{require:"components/stats/stats0"}),a.components.register("stats1",{require:"components/stats/stats1"}),a.components.register("stats2",{require:"components/stats/stats2"}),a.components.register("stats3",{require:"components/stats/stats3"}),a.components.register("stats-additional",{require:"components/stats/stats-additional"});var o=e("./herocalc_core").HEROCALCULATOR;o.prototype.PlayerColors=["#2E6AE6","#5DE6AD","#AD00AD","#DCD90A","#E66200","#E67AB0","#92A440","#5CC5E0","#00771F","#956000"],o.prototype.Tab=function(e,t,i,n,o,r){var s=this;return s.id=e,s.href=t,s.color=o,s.data=i,s.data.id=a.observable(s.href),s.text=n,s.template=r,s},o.prototype.Tab.prototype.toJS=function(){return{id:this.id,href:this.href,color:this.color,text:this.text,template:this.template}},o.prototype.TabGroup=function(e,t,i){var n=this;return n.hero=e,n.unit=t,n.clone=i,n.illusions=a.observableArray([]),n},o.prototype.TabGroup.prototype.toJS=function(){return{hero:this.hero.toJS(),unit:this.unit.toJS(),clone:this.clone.toJS(),illusions:this.illusions().map(function(e){return e.toJS()})}},o.prototype.HeroCalculatorViewModel=function(){var e=this;e.heroes=[];for(var t=0;10>t;t++)e.heroes.push(new o.prototype.HeroCalculatorModel(t));for(var t=0;5>t;t++){for(var i=[],r=5;10>r;r++)i.push(e.heroes[r]);e.heroes[t].enemies.push.apply(e.heroes[t].enemies,i)}for(var t=5;10>t;t++){for(var i=[],r=0;5>r;r++)i.push(e.heroes[r]);e.heroes[t].enemies.push.apply(e.heroes[t].enemies,i)}for(var t=0;10>t;t++){for(var i=[],r=0;10>r;r++)t!==r&&i.push(e.heroes[r]);e.heroes[t].otherHeroes.push.apply(e.heroes[t].otherHeroes,i)}for(var t=0;10>t;t++)e.heroes[t].clone=a.observable(new o.prototype.CloneViewModel(0,e.heroes[t])),e.heroes[t].unit=a.observable(new o.prototype.UnitViewModel(0,e.heroes[t])),e.heroes[t].selectedCompare(e.heroes[t].availableCompare()[5>t?4+t:t-5]),e.heroes[t].selectedEnemy(e.heroes[t].availableEnemies()[t%5]),e.heroes[t].unit().enemy(e.heroes[t].enemy()),e.heroes[t].unit().selectedUnit(e.heroes[t].unit().availableUnits()[0]),e.heroes[t].illusions.subscribe(function(t){for(var i=0;i<t.length;i++)if("added"==t[i].status){var a=this.index<2?"#5cb85c":"#d9534f",n=o.prototype.uniqueId();e.tabs()[this.index].illusions.push(new o.prototype.Tab("illusionTab"+this.index+"-"+n,"illusionPane"+this.index+"-"+n,e.heroes[this.index].illusions()[e.tabs()[this.index].illusions().length](),"Illusion "+n,a,"illusion-pane"))}},{vm:this,index:t},"arrayChange");e.heroes[0].bound(!0),e.tabs=a.observableArray([]);for(var s=[],t=0;10>t;t++){var l=o.prototype.PlayerColors[t],c=new o.prototype.TabGroup(new o.prototype.Tab("heroTab"+t,"heroPane"+t,e.heroes[t],"Hero "+t,l,"hero-pane"),new o.prototype.Tab("unitTab"+t,"unitPane"+t,e.heroes[t].unit(),"Unit "+t,l,"unit-pane"),new o.prototype.Tab("cloneTab"+t,"clonePane"+t,e.heroes[t].clone(),"Meepo Clone "+t,l,"clone-pane"));s.push(c)}e.tabs.push.apply(e.tabs,s),e.selectedItem=a.observable(),e.layout=a.observable("1"),e.displayShop=a.observable(!0),e.displayShopItemTooltip=a.observable(!0),e.allItems=a.observableArray([{name:"Str, Agi, Int, MS, Turn, Sight",value:"stats0"},{name:"Armor, Health, Mana, Regen, EHP",value:"stats1"},{name:"Phys Res, Magic Res, Lifesteal, Evasion, Bash, Miss",value:"stats2"},{name:"Damage, IAS, BAT, Attack",value:"stats3"}]),e.selectedItems=a.observableArray([]),e.moveUp=function(){var t=e.allItems.indexOf(e.selectedItems()[0]),i=e.allItems.indexOf(e.selectedItems()[e.selectedItems().length-1]);if(t>0){var a=e.allItems.splice(t-1,1);e.allItems.splice(i,0,a[0])}},e.moveDown=function(){var t=e.allItems.indexOf(e.selectedItems()[0]),i=e.allItems.indexOf(e.selectedItems()[e.selectedItems().length-1]);if(i<e.allItems().length-1){var a=e.allItems.splice(i+1,1);e.allItems.splice(t,0,a[0])}},e.selectedTabId=a.observable("heroTab0"),e.getSelectedTab=function(t){var i=t.replace("heroTab","").replace("cloneTab","").replace("unitTab","").replace("illusionTab","").split("-"),a=i[0],n=e.tabs()[a];return n},e.selectedTab=a.computed(function(){var t=e.getSelectedTab(e.selectedTabId());return-1!=e.selectedTabId().indexOf("hero")?t.hero:-1!=e.selectedTabId().indexOf("unit")?t.unit:-1!=e.selectedTabId().indexOf("clone")?t.clone:-1!=e.selectedTabId().indexOf("illusion")?t.illusions().find(function(t){return t.id==e.selectedTabId()}):e.tabs()[0].hero}),e.selectedTabs=a.observableArray(["heroTab0","heroTab1"]),e.boundSettings=a.observable(!1),e.clickTab=function(t,i,a){e.selectedTabId(i.target.id),e.selectedTabs()[1]!=i.target.id&&(e.selectedTabs.shift(),e.selectedTabs.push(i.target.id)),e.selectedTab().data.hasOwnProperty("bound")&&(e.selectedTab().data.bound(!0),setTimeout(function(){e.selectedTab().data.buildExplorer.graphData.valueHasMutated()},0)),"settingsTab"===i.target.id&&e.boundSettings(!0)},e.isSecondTab=function(t){return e.selectedTabs().indexOf(t)>-1&&e.selectedTabId()!=t},e.showSideTabId=function(t){return e.selectedTabs().indexOf(t)>-1&&e.sideView()},e.removeTab=function(t,i,a,o){i.id==e.selectedTabId()&&(e.clickTab(null,{target:{id:"heroTab0"}}),n("#heroTab0").tab("show")),e.tabs()[o].illusions.remove(function(e){return e==i}),e.heroes[o].illusions.remove(function(e){return e()==i.data})},e.sideView=a.observable(!1),e.sideView.subscribe(function(t){if(t){e.shopPopout()||e.displayShop(!1);for(var i=0;i<e.selectedTabs().length;i++){var a=e.getSelectedTab(e.selectedTabs()[i]);a&&a.hero.data.hasOwnProperty("bound")&&a.hero.data.bound(!0)}e.layout("0")}});var d=n(window);e.windowWidth=a.observable(d.width()),e.windowHeight=a.observable(d.height()),d.resize(function(){e.windowWidth(d.width()),e.windowHeight(d.height())}),e.shopDock=a.observable(!1),e.shopDock.subscribe(function(e){}),e.shopDockTrigger=a.computed(function(){e.windowWidth(),e.shopDock()}),e.shopPopout=a.observable(!1),e.shopPopout.subscribe(function(t){t?(e.displayShop(!0),n("#shop-dialog").dialog({minWidth:380,minHeight:0,closeText:"",open:function(t,i){n(t.target.offsetParent).find(".ui-dialog-titlebar").find("button").addClass("close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right").removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close").css("margin-right","0px").parent().append(n("#shop-minimize")).append(n("#shop-maximize")),n(t.target.offsetParent).find(".ui-dialog-titlebar").dblclick(function(){e.displayShop(!e.displayShop())})},close:function(t,i){e.shopPopout(!1)}})):(n("#shop-container").prepend(n("#shop-minimize")).prepend(n("#shop-maximize")),n("#shop-dialog").dialog("destroy"))}),e.changeSelectedItem=function(t,i){e.itemInputValue(1),e.selectedItem(i.target.id)},e.getItemTooltipData=a.computed(function(){return o.prototype.getItemTooltipData(e.selectedItem())},this),e.getItemInputLabel=a.computed(function(){return-1!=o.prototype.stackableItems.indexOf(e.selectedItem())?"Stack Size":-1!=o.prototype.levelitems.indexOf(e.selectedItem())?"Upgrade Level":"bloodstone"==e.selectedItem()?"Charges":""},this),e.itemInputValue=a.observable(1),e.saveLink=a.observable(),e.getAppState=function(){var t={selectedItem:e.selectedItem,layout:e.layout,displayShop:e.displayShop,displayShopItemTooltip:e.displayShopItemTooltip,allItems:e.allItems,selectedItems:e.selectedItems,selectedTabId:e.selectedTabId,selectedTabs:e.selectedTabs,boundSettings:e.boundSettings,sideView:e.sideView,windowWidth:e.windowWidth,windowHeight:e.windowHeight,shopDock:e.shopDock,shopPopout:e.shopPopout,itemInputValue:e.itemInputValue,saveLink:e.saveLink};return t.tabs=e.tabs().map(function(e){return e.toJS()}),a.toJS(t)},e.getSaveData=function(){for(var t={version:"1.3.0",heroes:[]},i=0;10>i;i++){for(var n=e.heroes[i],o={hero:n.selectedHero().heroName,level:n.selectedHeroLevel(),items:[],abilities:[],skillPointHistory:n.skillPointHistory(),buffs:[],itemBuffs:[],debuffs:[],itemDebuffs:[],graphData:[],enemyIndex:n.enemy().index(),heroCompareIndex:n.heroCompare().index()},r=0;r<n.inventory.items().length;r++)o.items.push(a.toJS(n.inventory.items()[r]));for(var r=0;r<n.ability().abilities().length;r++)o.abilities.push({level:n.ability().abilities()[r].level(),isActive:n.ability().abilities()[r].isActive()});for(var r=0;r<n.buffs.buffs().length;r++)o.buffs.push({name:n.buffs.buffs()[r].name,level:n.buffs.buffs()[r].data.level(),isActive:n.buffs.buffs()[r].data.isActive()});for(var r=0;r<n.debuffs.buffs().length;r++)o.debuffs.push({name:n.debuffs.buffs()[r].name,level:n.debuffs.buffs()[r].data.level(),isActive:n.debuffs.buffs()[r].data.isActive()});for(var r=0;r<n.buffs.itemBuffs.items().length;r++)o.itemBuffs.push(a.toJS(n.buffs.itemBuffs.items()[r]));for(var r=0;r<n.debuffs.itemBuffs.items().length;r++)o.itemDebuffs.push(a.toJS(n.debuffs.itemBuffs.items()[r]));o.graphData=a.toJS(n.buildExplorer.graphData),t.heroes.push(o)}return t},e.save=function(){var t=e.getSaveData(),i=JSON.stringify(t);n.ajax({type:"POST",url:"save.php",data:{data:i},dataType:"json",success:function(t){e.saveLink("http://devilesk.com/dota2/apps/hero-calculator?id="+t.file)},failure:function(e){alert("Save request failed.")}})},e.load=function(t){for(var i=0;i<t.heroes.length;i++){var n=e.heroes[i];if(n.selectedHero(o.prototype.findWhere(n.availableHeroes(),{heroName:t.heroes[i].hero})),n.selectedHeroLevel(t.heroes[i].level),n.inventory.items.removeAll(),n.inventory.activeItems.removeAll(),t.heroes[i].hasOwnProperty("heroCompareIndex")){var r=n.availableCompare().filter(function(e){return e.hero.index()==t.heroes[i].heroCompareIndex});r.length&&(n.selectedCompare(r[0]),n.heroCompare(r[0].hero))}if(t.heroes[i].hasOwnProperty("enemyIndex")){var r=n.availableEnemies().filter(function(e){return e.hero.index()==t.heroes[i].enemyIndex});r.length&&(n.selectedEnemy(r[0]),n.enemy(r[0].hero))}for(var s=0;s<t.heroes[i].items.length;s++){var l=t.heroes[i].items[s],c={item:l.item,state:a.observable(l.state),size:l.size,enabled:a.observable(l.enabled)};n.inventory.items.push(c)}for(var s=0;s<t.heroes[i].abilities.length;s++)n.ability().abilities()[s].level(t.heroes[i].abilities[s].level),n.ability().abilities()[s].isActive(t.heroes[i].abilities[s].isActive);n.skillPointHistory(t.heroes[i].skillPointHistory);for(var s=0;s<t.heroes[i].buffs.length;s++){n.buffs.selectedBuff(o.prototype.findWhere(n.buffs.availableBuffs(),{buffName:t.heroes[i].buffs[s].name})),n.buffs.addBuff(n,{});var d=o.prototype.findWhere(n.buffs.buffs(),{name:t.heroes[i].buffs[s].name});d.data.level(t.heroes[i].buffs[s].level),d.data.isActive(t.heroes[i].buffs[s].isActive)}for(var s=0;s<t.heroes[i].debuffs.length;s++){n.debuffs.selectedBuff(o.prototype.findWhere(n.debuffs.availableDebuffs(),{buffName:t.heroes[i].debuffs[s].name})),n.debuffs.addBuff(n,{});var d=o.prototype.findWhere(n.debuffs.buffs(),{name:t.heroes[i].debuffs[s].name});d.data.level(t.heroes[i].debuffs[s].level),d.data.isActive(t.heroes[i].debuffs[s].isActive)}if(t.heroes[i].itemBuffs)for(var s=0;s<t.heroes[i].itemBuffs.length;s++){var l=t.heroes[i].itemBuffs[s],c={item:l.item,state:a.observable(l.state),size:l.size,enabled:a.observable(l.enabled)};n.buffs.itemBuffs.items.push(c)}if(t.heroes[i].itemDebuffs)for(var s=0;s<t.heroes[i].itemDebuffs.length;s++){var l=t.heroes[i].itemDebuffs[s],c={item:l.item,state:a.observable(l.state),size:l.size,enabled:a.observable(l.enabled)};n.debuffs.itemBuffs.items.push(c)}t.heroes[i].graphData&&n.buildExplorer.loadGraphData(t.heroes[i].graphData)}},e.sendReport=function(){n("#BugReportFormText").val()?(n.post("report.php",{name:n("#BugReportFormName").val(),email:n("#BugReportFormEmail").val(),body:n("#BugReportFormText").val()}).done(function(e){"Success"==e?(alert("Report successfully sent. Thanks!"),n("#BugReportFormText").val("")):alert("Failed to send report. Try again later or email admin@devilesk.com")}),n("#myModal").modal("hide")):alert("Message is required.")},e.getProperty=function(e,t){for(var i=e,a=0;a<t.length;a++)i=i[t[a]];return i},e.getDiffTextWrapper=function(t,i){return e.getDiffText(e.getDiffMagnitude(t,i))},e.getDiffMagnitude=function(t,i){var a=i.split(".");return e.getProperty(t.damageTotalInfo(),a).toFixed(2)-e.getProperty(t.heroCompare().damageTotalInfo(),a).toFixed(2)},e.getDiffText=function(e){return e>0?"+"+parseFloat(e.toFixed(2)):0>e?"&minus;"+parseFloat(-1*e.toFixed(2)).toString():""},e.highlightedTabInternal=a.observable(""),e.highlightedTab=a.computed(function(){return e.highlightedTabInternal()}).extend({throttle:100}),e.highlightTab=function(t){e.highlightedTabInternal(t)},e.unhighlightTab=function(t){e.highlightedTabInternal("")}},o.prototype.heroCalculator={},o.prototype.theme=a.observable(n("#theme-select").val()),o.prototype.init=function(e,t,i){n.when(n.get("templates.html",function(e){n("body").append('<div style="display:none">'+e+"</div>")}),n.getJSON(e,function(e){o.prototype.heroData=e,o.prototype.heroData.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var t=o.prototype.heroData.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");o.prototype.heroData.npc_dota_hero_lone_druid.abilities[3].behavior.splice(t,1),t=o.prototype.heroData.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),o.prototype.heroData.npc_dota_hero_abaddon.abilities[2].behavior.splice(t,1),t=o.prototype.heroData.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),o.prototype.heroData.npc_dota_hero_riki.abilities[2].behavior.splice(t,1);for(var i in o.prototype.heroData)o.prototype.HeroOptions.push(new o.prototype.HeroOption(i.replace("npc_dota_hero_",""),o.prototype.heroData[i].displayname))}),n.getJSON(t,function(e){o.prototype.itemData=e}),n.getJSON(i,function(e){o.prototype.unitData=e})).done(function(e,t,i,a){o.prototype.run()})},o.prototype.run=function(){o.prototype.heroCalculator=new o.prototype.HeroCalculatorViewModel,a.applyBindings(o.prototype.heroCalculator),n("#theme-select").change(function(){o.prototype.theme(n(this).val())}),n("#spinner").hide(),n(".initial-hidden").css("display","inline-block"),n("#popHero0").addClass("active"),n("#heroPane0").addClass("active"),n('[data-toggle="tooltip"]').tooltip();var e=o.prototype.getParameterByName("id");e&&n.get("save/"+e+".json",function(e){o.prototype.heroCalculator.load(e)})},o.prototype.inventoryClipBoard={items:[],activeItems:[]},o.prototype.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}}),define("herocalc/main",["require","exports","module","./herocalc_core","./herocalc_inventory","./herocalc_tooltips","./herocalc_abilitydata","./herocalc_abilities","./herocalc_buffs","./herocalc_buffs.amplification.reduction","./herocalc_buildexplorer","./herocalc_hero","./herocalc_hero.illusion","./herocalc_hero.meepo","./herocalc_unit","./herocalc_app"],function(e,t,i){"use strict";var a=e("./herocalc_core");e("./herocalc_inventory"),e("./herocalc_tooltips"),e("./herocalc_abilitydata"),e("./herocalc_abilities"),e("./herocalc_buffs"),e("./herocalc_buffs.amplification.reduction"),e("./herocalc_buildexplorer"),e("./herocalc_hero"),e("./herocalc_hero.illusion"),e("./herocalc_hero.meepo"),e("./herocalc_unit"),e("./herocalc_app"),t.HEROCALCULATOR=a.HEROCALCULATOR}),define("herocalc",["herocalc/main"],function(e){return e}),require.config({packages:["herocalc","components"],paths:{knockout:"lib/knockout-min",jquery:"lib/jquery.min","knockout-mapping":"lib/knockout.mapping",chartjs:"lib/Chart.min",bootstrap:"lib/bootstrap.min","jquery-ui":"lib/jquery-ui","chartjs-scatter":"lib/Chart.scatter",text:"lib/text",polyfill:"herocalc/polyfill",errorTracker:"errorTracker",herocalc_knockout:"herocalc/herocalc_knockout","jquery-ui.custom":"herocalc/jquery-ui.custom",rollbar:"lib/rollbar.umd.nojson.min"},shim:{bootstrap:{deps:["jquery"]}}}),require(["errorTracker"],function(e){var t=e.rollbar;require(["jquery","herocalc"],function(i,a){function n(e){for(var t=e+"=",i=document.cookie.split(";"),a=0;a<i.length;a++){for(var n=i[a];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}i(".top-nav-menu .dropdown-toggle").click(function(){if("none"==i(".mobile-only").css("display")){var e=i(this).attr("href");return window.location.href=e,!1}});var o="css/hero-calculator.theme";"light"==n("theme")?("/media/css/site-light.css"!==i("#theme-css").attr("href")&&i("#theme-css").attr("href","/media/css/site-light.css"),i("#hero-css").attr("href")!==o+".light.css"&&i("#hero-css").attr("href",o+".light.css"),i("#theme-select").val("light")):("/media/css/site.css"!==i("#theme-css").attr("href")&&i("#theme-css").attr("href","/media/css/site.css"),i("#hero-css").attr("href")!==o+".dark.css"&&i("#hero-css").attr("href",o+".dark.css"),i("#theme-select").val("dark")),i("#theme-select").change(function(){var e=31536e6;if("light"==i(this).val()){i("#theme-css").attr("href","/media/css/site-light.css"),i("#hero-css").attr("href",o+".light.css");var t=new Date;t.setTime(t.getTime()+e),document.cookie="theme=light;path=/;expires="+t.toGMTString()+";max-age="+e+";"}else{i("#theme-css").attr("href","/media/css/site.css"),i("#hero-css").attr("href",o+".dark.css");var t=new Date;t.setTime(t.getTime()+e),document.cookie="theme=dark;path=/;expires="+t.toGMTString()+";max-age="+e+";"}}),hc=new a.HEROCALCULATOR;var r="Fri Jul 29 2016 17:29:17 GMT-0400 (EDT)";i("#last-update").text(r),hc.init("/media/js/herodata.json","/media/js/itemdata.json","/media/js/unitdata.json"),i(".error-warning-view, .error-warning-close").click(function(){i(".error-warning").fadeOut(200)}),window.onerror=function(a){return function(){try{var n=document.querySelector("#log"),o=arguments[0],r=document.createElement("div");r.classList.add("alert"),r.classList.add("alert-danger"),r.classList.add("error-log"),r.classList.add("col-md-12"),r.textContent="error: "+o;var s=document.createElement("div");s.classList.add("error-log-close"),s.innerHTML="&times;",s.onclick=function(){n.removeChild(r)},r.appendChild(s);var l=document.createElement("a");l.classList.add("error-log-link"),l.innerHTML="Send error report",l.href="#",l.onclick=function(){i("#myModal").modal("show"),i("#BugReportFormText").text("error: "+o+"\n\nDescribe what you were doing. Try to be as detailed as possible.")},r.appendChild(l),n.appendChild(r),i(".error-warning").fadeOut(200).fadeIn(100)}catch(c){t.error("window.onerror create error log failed.",c)}var d={};try{d.heroCalcState=hc.heroCalculator.getSaveData()}catch(c){t.error("window.onerror getSaveData failed.",c)}try{d.appState=hc.heroCalculator.getAppState()}catch(c){t.error("window.onerror getAppState failed.",c)}return d.userActions=e.userActions,t.configure({payload:{custom:d}}),a.apply(this,arguments)}}(window.onerror)});
}),define("main",function(){});
//# sourceMappingURL=main.js.map