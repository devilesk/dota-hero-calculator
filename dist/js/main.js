/*! jQuery UI - v1.11.2 - 2014-10-23
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, resizable.js, autocomplete.js, button.js, dialog.js, menu.js, spinner.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Core 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

/*!
 * jQuery UI Widget 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*!
 * jQuery UI Mouse 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */

/*!
 * jQuery UI Position 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

/*!
 * jQuery UI Draggable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */

/*!
 * jQuery UI Resizable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */

/*!
 * jQuery UI Menu 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */

/*!
 * jQuery UI Autocomplete 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/autocomplete/
 */

/*!
 * jQuery UI Button 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */

/*!
 * jQuery UI Dialog 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */

/*!
 * jQuery UI Spinner 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/spinner/
 */

/**
 * @license text 2.0.15 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/text/LICENSE
 */

define("herocalc/herocalc_core",["require","exports","module"],function(e,t,a){"use strict";function i(){}var n=i;n.prototype.heroData={},n.prototype.itemData={},n.prototype.unitData={},n.prototype.abilityData={},n.prototype.idCounter=0,n.prototype.uniqueId=function(e){var t=++n.prototype.idCounter+"";return e?e+t:t},n.prototype.findWhere=function(e,t){e:for(var a=0;a<e.length;a++){for(var i in t)if(e[a][i]!=t[i])continue e;return e[a]}},n.prototype.uniques=function(e){for(var t=[],a=0,i=e.length;i>a;a++)-1===t.indexOf(e[a])&&""!==e[a]&&t.push(e[a]);return t},n.prototype.union=function(e,t){var a=e.concat(t);return n.prototype.uniques(a)},t.HEROCALCULATOR=i}),define("herocalc_knockout",["require","exports","module","knockout","jquery","knockout-mapping"],function(e,t,a){"use strict";var i=e("knockout"),n=e("jquery");return i.mapping=e("knockout-mapping"),i.bindingHandlers.stopBinding={init:function(){return{controlsDescendantBindings:!0}}},i.virtualElements.allowedBindings.stopBinding=!0,i.bindingHandlers.lazyBinding={init:function(e,t,a,n,o){return i.utils.domData.set(e,"isBound",!1),{controlsDescendantBindings:!0}},update:function(e,t,a,n,o){var s=i.unwrap(t()),l=i.utils.domData.get(e,"isBound");s&&!l&&(i.utils.domData.set(e,"isBound",!0),i.applyBindingsToDescendants(o,e))}},i.virtualElements.allowedBindings.lazyBinding=!0,i.bindingHandlers.itemBuildTable={init:function(e,t,a,o,s){var l=i.unwrap(t()),r=(n(e),{});i.utils.domData.set(e,"pressedKeys",r);var d=function(t){var a=i.utils.domData.get(e,"pressedKeys");a[t.which]=!0,i.utils.domData.set(e,"pressedKeys",a)};i.utils.domData.set(e,"keyDownHandler",d);var c=function(t){var a=i.utils.domData.get(e,"pressedKeys");if(a[17]&&a[67]||a[17]&&a[86]){var o=n(e).find(".hover-cursor:hover");1==o.length&&(a[67]?l.copyInventoryToClipBoard(n("tr",n(e)).index(o[0])):l.pasteInventoryFromClipBoard(n("tr",n(e)).index(o[0])),o.fadeOut(50).fadeIn(50))}delete a[t.which],i.utils.domData.set(e,"pressedKeys",a)};i.utils.domData.set(e,"keyUpHandler",c),n(document).bind("keydown",d),n(document).bind("keyup",c),i.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=i.utils.domData.get(e,"keyDownHandler"),a=i.utils.domData.get(e,"keyUpHandler");n(document).unbind("keydown",t),n(document).unbind("keyup",a)})}},i.bindingHandlers.preventBubble={init:function(e,t){var a=i.utils.unwrapObservable(t());i.utils.registerEventHandler(e,a,function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()})}},i.bindingHandlers.toggle={init:function(e,t){var a=t();i.applyBindingsToNode(e,{click:function(){a(!a())}})}},i.bindingHandlers.shopDockStyle={init:function(e,t,a,n,o){i.utils.unwrapObservable(t());o.$data.shopDock()&&!o.$data.shopPopout()?i.applyBindingsToNode(e,{style:{height:o.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):i.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})},update:function(e,t,a,n,o){i.utils.unwrapObservable(t());o.$data.shopDock()&&!o.$data.shopPopout()?i.applyBindingsToNode(e,{style:{height:o.$data.windowHeight()-52+"px",position:"fixed",right:0,top:"52px","overflow-y":"auto"}}):i.applyBindingsToNode(e,{style:{height:"auto",position:"relative",right:"initial",top:"initial","overflow-y":"initial"}})}},i.bindingHandlers.logger={update:function(e,t,a){var n=i.utils.domData.get(e,"_ko_logger")||0,o=i.toJS(t()||a());i.utils.domData.set(e,"_ko_logger",++n),window.console&&console.log&&console.log(n,e,o)}},i.bindingHandlers.tooltip={update:function(e,t,a,o,s){var l,r,d;if(r=i.utils.unwrapObservable(t()),l=n(e),i.isObservable(r.title)){var c=!1;l.on("show.bs.tooltip",function(){c=!0}),l.on("hide.bs.tooltip",function(){c=!1});var u=r.animation||!0;r.title.subscribe(function(){c&&(l.data("bs.tooltip").options.animation=!1,l.tooltip("fixTitle").tooltip("show"),l.data("bs.tooltip").options.animation=u)})}d=l.data("bs.tooltip"),d?n.extend(d.options,r):l.tooltip(r)}},i.bindingHandlers.popover={init:function(e,t,a,o,s){var l=n(e),r=i.utils.unwrapObservable(t()),d=r.template||!1,c=r.options||{title:"popover"},u=r.data||!1;return d!==!1&&(u?c.content="<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->":c.content=n("#"+d).html(),c.html=!0),l.on("shown.bs.popover",function(e){var t=n(e.target).data(),a=t["bs.popover"].$tip,o=t["bs.popover"].options||{},l=n(e.target),r=l.position(),c={x:l.outerWidth(),y:l.outerHeight()};u&&i.applyBindingsToNode(a[0],{template:{name:d,data:u}},s);var p={x:a.outerWidth(),y:a.outerHeight()};switch(a.find('button[data-dismiss="popover"]').click(function(){l.popover("hide")}),o.placement){case"right":a.css({left:c.x+r.left,top:c.y/2+r.top-p.y/2});break;case"left":a.css({left:r.left-p.x,top:c.y/2+r.top-p.y/2});break;case"top":a.css({left:r.left+(c.x/2-p.x/2),top:r.top-p.y});break;case"bottom":a.css({left:r.left+(c.x/2-p.x/2),top:r.top+c.y})}}),l.popover(c),{controlsDescendantBindings:!0}}},i.bindingHandlers.chart={init:function(e,t,a,o,s){var l=n("<canvas/>"),r=i.utils.unwrapObservable(t()),d=l[0].getContext("2d"),c=a().chartType,u=a().chartOptions||{},p=a().chartContext;n(e).append(l);var m=new Chart(d)[c](r,u);i.utils.domData.set(e,"myChart",m),i.utils.domNodeDisposal.addDisposeCallback(e,function(){var t=i.utils.domData.get(e,"myChart");t.clear(),t.destroy()}),p&&p(d)},update:function(e,t,a,o,s){var l=n("<canvas/>").width(730).height(365),r=i.utils.unwrapObservable(t()),d=l[0].getContext("2d"),c=a().chartType,u=a().chartOptions||{},p=a().chartContext,m=i.utils.domData.get(e,"myChart");m&&(m.clear(),m.destroy()),s.$root.displayShop(),s.$root.sideView(),s.$root.shopDock(),n(e).empty(),n(e).append(l),r.datasets.length>0&&(m=new Chart(d)[c](r,u),i.utils.domData.set(e,"myChart",m)),p&&p(d)}},i.bindingHandlers.spinner={init:function(e,t,a){var o=a().spinnerOptions||{};n(e).spinner(o),i.utils.registerEventHandler(e,"spinchange",function(){var a=t();a(n(e).spinner("value"))}),i.utils.domNodeDisposal.addDisposeCallback(e,function(){n(e).spinner("destroy")})},update:function(e,t){var a=i.utils.unwrapObservable(t()),o=n(e).spinner("value");a!==o&&n(e).spinner("value",a)}},i.bindingHandlers.secondTab={update:function(e,t,a,n,o){var s=o.$root,l=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{css:{"second-tab":s.isSecondTab(l)&&s.sideView()}})}},i.bindingHandlers.hoverTab={update:function(e,t,a,n,o){var s=o.$root,l=i.utils.unwrapObservable(t());i.utils.registerEventHandler(e,"mouseover",function(){s.highlightTab(l)}),i.utils.registerEventHandler(e,"mouseout",function(){s.unhighlightTab(l)})}},i.bindingHandlers.hoverPaneStyle={init:function(e,t,a,n,o){var s=o.$root,l=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{style:{opacity:s.sideView()&&s.highlightedTab()!=l&&""!=s.highlightedTab()?.5:1}})},update:function(e,t,a,n,o){var s=o.$root,l=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{style:{opacity:s.sideView()&&s.highlightedTab()!=l&&""!=s.highlightedTab()?.5:1}})}},i.bindingHandlers.diffStyle={init:function(e,t,a,n){var o=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})},update:function(e,t,a,n){var o=i.utils.unwrapObservable(t());i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})}},i.bindingHandlers.diffCss={init:function(e,t,a,n){var o=i.utils.unwrapObservable(t()),s=a().diffCssStat;("attackTime"==s||"bat"==s)&&(o=-o),i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})},update:function(e,t,a,n){var o=i.utils.unwrapObservable(t()),s=a().diffCssStat;("attackTime"==s||"bat"==s)&&(o=-o),i.applyBindingsToNode(e,{css:{diffPos:o>0,diffNeg:0>o}})}},i.bindingHandlers.jqAuto={init:function(e,t,a,o){function s(e){i.isWriteableObservable(c)?c(e):r._ko_property_writers&&r._ko_property_writers.jqAutoValue&&r._ko_property_writers.jqAutoValue(e)}var l=t()||{},r=a(),d=i.utils.unwrapObservable,c=r.jqAutoValue,u=r.jqAutoSource,p=r.jqAutoSourceValue,m=r.jqAutoSourceInputValue||p,b=r.jqAutoSourceLabel||p;l.select=function(e,t){s(t.item?t.item.actualValue:null)},l.change=function(t,a){var o=n(e).val(),l=i.utils.arrayFirst(d(u),function(e){return d(e[m])===o});l||s(null)};var h=i.dependentObservable(function(){var e=i.utils.arrayMap(d(u),function(e){var t={};return t.label=b?d(e[b]):d(e).toString(),t.value=m?d(e[m]):d(e).toString(),t.actualValue=p?d(e[p]):e,t});return e});h.subscribe(function(t){n(e).autocomplete("option","source",t)}),l.source=h(),l.minLength=1,n(e).autocomplete(l)},update:function(e,t,a,o){var s=a(),l=i.utils.unwrapObservable,r=l(s.jqAutoValue)||"",d=s.jqAutoSourceValue,c=s.jqAutoSourceInputValue||d;if(d&&c!==d)var u=l(s.jqAutoSource)||[],r=i.utils.arrayFirst(u,function(e){return l(e[d])===r})||{};n(e).val(r&&c!==d?l(r[c]):r.toString())}},i.bindingHandlers.jqAutoCombo={init:function(e,t){var a=n("#"+t());n(e).click(function(){return a.autocomplete("widget").is(":visible")?void a.autocomplete("close"):(a.autocomplete("search"," "),void a.focus())})}},i.extenders.numeric=function(e,t){var a=i.computed({read:e,write:function(a){var i=e(),n=Math.pow(10,t),o=isNaN(a)?0:parseFloat(+a),s=Math.round(o*n)/n;s!==i?e(s):a!==i&&e.notifySubscribers(s)}}).extend({notify:"always"});return a(e()),a},i}),define("herocalc/herocalc_inventory",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.stackableItems=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"],n.prototype.levelitems=["necronomicon","dagon","diffusal_blade","travel_boots"],n.prototype.validItems=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance"],n.prototype.itemsWithActive=["heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge"],n.prototype.ItemInput=function(e,t,a){if(n.prototype.itemData["item_"+e].ItemAliases instanceof Array)var o=n.prototype.itemData["item_"+e].ItemAliases.join(" ");else var o=n.prototype.itemData["item_"+e].ItemAliases;this.value=i.observable(e),this.debuff=i.observable(a),this.debuff()?(this.value=i.observable(e+"|"+a.id),this.name=i.observable(t+" ("+a.name+")"),this.displayname=i.observable(t+" ("+a.name+') <span style="display:none">;'+o+"</span>")):(this.value=i.observable(e),this.name=i.observable(t),this.displayname=i.observable(t+' <span style="display:none">;'+o+"</span>"))},n.prototype.BasicInventoryViewModel=function(e){var t=this;t.items=i.observableArray([]),t.activeItems=i.observableArray([]),t.addItem=function(e,a){if(void 0!=e.selectedItem()){var n={item:e.selectedItem().split("|")[0],state:i.observable(0),size:e.itemInputValue(),enabled:i.observable(!0)};switch(n.item){case"dagon":n.size=Math.min(n.size,5);break;case"travel_boots":case"diffusal_blade":n.size=Math.min(n.size,2);break;case"necronomicon":n.size=Math.min(n.size,3)}t.items.push(n),("ring_of_aquila"===e.selectedItem()||"ring_of_basilius"===e.selectedItem()||"heart"===e.selectedItem())&&t.toggleItem(void 0,n,void 0)}},t.toggleItem=function(e,a,i){if(n.prototype.itemsWithActive.indexOf(a.item)>=0)switch(t.activeItems.indexOf(a)<0?t.activeItems.push(a):t.activeItems.remove(a),a.item){case"power_treads":a.state()<2?a.state(a.state()+1):a.state(0);break;default:0==a.state()?a.state(1):a.state(0)}}.bind(this),t.removeItem=function(e){t.activeItems.remove(e),t.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.getItemImage=function(e){var t=i.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},t.getItemSizeLabel=function(e){return-1!=n.prototype.stackableItems.indexOf(e.item)?'<span style="font-size:10px">Qty: </span>'+e.size:-1!=n.prototype.levelitems.indexOf(e.item)?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},t.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return i.utils.unwrapObservable(e.state)}},t.removeAll=function(){t.activeItems.removeAll(),t.items.removeAll()}.bind(this)},n.prototype.InventoryViewModel=function(e){var t=new n.prototype.BasicInventoryViewModel;t.hero=e,t.hasInventory=i.observable(!0),t.items=i.observableArray([]),t.activeItems=i.observableArray([]),t.hasScepter=i.computed(function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item;if("ultimate_scepter"===a&&t.items()[e].enabled())return!0}return!1},this),t.isEthereal=i.computed(function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item,i=t.activeItems.indexOf(t.items()[e])>=0?!0:!1;if(("ghost"===a||"ethereal_blade"===a)&&t.items()[e].enabled()&&i)return!0}return!1},this),t.isSheeped=i.computed(function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item,i=t.activeItems.indexOf(t.items()[e])>=0?!0:!1;if("sheepstick"===a&&t.items()[e].enabled()&&i)return!0}return!1},this),t.totalCost=i.computed(function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())if(-1!=n.prototype.stackableItems.indexOf(i))e+=n.prototype.itemData["item_"+i].itemcost*t.items()[a].size;else if(-1!=n.prototype.levelitems.indexOf(i))switch(i){case"diffusal_blade":e+=n.prototype.itemData["item_"+i].itemcost+700*(t.items()[a].size-1);break;case"necronomicon":case"dagon":e+=n.prototype.itemData["item_"+i].itemcost+1250*(t.items()[a].size-1);break;default:e+=n.prototype.itemData["item_"+i].itemcost}else e+=n.prototype.itemData["item_"+i].itemcost}return e},this),t.addItemBuff=function(e,a){if(t.hasInventory()&&void 0!=t.selectedItemBuff()){var n={item:t.selectedItemBuff(),state:i.observable(0),size:1,enabled:i.observable(!0)};t.items.push(n),("ring_of_aquila"===t.selectedItemBuff()||"ring_of_basilius"===t.selectedItemBuff())&&t.toggleItem(void 0,n,void 0)}},t.addItemDebuff=function(e,a){if(t.hasInventory()&&void 0!=t.selectedItemDebuff()){var n={item:t.selectedItemDebuff().split("|")[0],state:i.observable(0),size:1,enabled:i.observable(!0)};2==t.selectedItemDebuff().split("|").length&&(n.debuff=t.selectedItemDebuff().split("|")[1]),t.items.push(n),("ring_of_aquila"===t.selectedItemDebuff()||"ring_of_basilius"===t.selectedItemDebuff())&&t.toggleItem(void 0,n,void 0)}},t.getItemAttributeValue=function(e,t,a){for(var i=0;i<e.length;i++)if(e[i].name==t)return 0==a?parseFloat(e[i].value[0]):a>e[i].value.length?parseFloat(e[i].value[0]):parseFloat(e[i].value[a-1])},t.getAttributes=function(e){for(var a=0,i=0;i<t.items().length;i++){var o=t.items()[i].item,s=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var l=t.items()[i].size,r=0;r<n.prototype.itemData["item_"+o].attributes.length;r++){var d=n.prototype.itemData["item_"+o].attributes[r];switch(d.name){case"bonus_all_stats":a+=parseInt(d.value[0]);break;case"bonus_stats":a+=parseInt(d.value[0])}switch(e){case"agi":"bonus_agility"==d.name&&(a+="diffusal_blade"==o?parseInt(d.value[l-1]):parseInt(d.value[0])),"bonus_stat"==d.name&&2==t.items()[i].state()&&(a+=parseInt(d.value[0])),"bonus_agi"==d.name&&(a+=parseInt(d.value[0]));break;case"int":"bonus_intellect"==d.name&&(a+="necronomicon"==o?parseInt(d.value[l-1]):"diffusal_blade"==o?parseInt(d.value[l-1]):"dagon"==o?parseInt(d.value[l-1]):parseInt(d.value[0])),"bonus_intelligence"==d.name&&(a+=parseInt(d.value[0])),"bonus_int"==d.name&&(a+=parseInt(d.value[0])),"bonus_stat"==d.name&&1==t.items()[i].state()&&(a+=parseInt(d.value[0]));break;case"str":"bonus_strength"==d.name&&(a+="necronomicon"==o?parseInt(d.value[l-1]):parseInt(d.value[0])),"bonus_stat"==d.name&&0==t.items()[i].state()&&(a+=parseInt(d.value[0])),"bonus_str"==d.name&&(a+=parseInt(d.value[0])),"unholy_bonus_strength"==d.name&&s&&(a+=parseInt(d.value[0]))}}}return a},t.getBash=function(e){for(var a=1,i=0;i<t.items().length;i++){var o=t.items()[i].item;if(t.items()[i].enabled())for(var s=0;s<n.prototype.itemData["item_"+o].attributes.length;s++){var l=n.prototype.itemData["item_"+o].attributes[s];switch(l.name){case"bash_chance":a*=1-parseInt(l.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==e&&(a*=1-parseInt(l.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&(a*=1-parseInt(l.value[0])/100)}}}return a},t.getCritChance=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"crit_chance":e*=1-parseInt(s.value[0])/100}}}return e},t.getCritSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())switch(i){case"lesser_crit":case"greater_crit":void 0==e[i]?e[i]={chance:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"crit_chance",0)/100,multiplier:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"crit_multiplier",0)/100,count:1,displayname:n.prototype.itemData["item_"+i].displayname}:e[i].count+=1}}return e},t.getCleaveSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())switch(i){case"bfury":void 0==e[i]?e[i]={radius:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"cleave_radius",0),magnitude:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"cleave_damage_percent",0)/100,count:1,displayname:n.prototype.itemData["item_"+i].displayname}:e[i].count+=1}}return e},t.getBashSource=function(e){for(var a={},i=0;i<t.items().length;i++){var o=t.items()[i].item;t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())switch(o){case"javelin":void 0==a[o]?a[o]={damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance_damage",1),damageType:"physical",count:1,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bonus_chance",1)/100,displayname:n.prototype.itemData["item_"+o].displayname+" Pierce"}:a[o].count+=1;break;case"monkey_king_bar":void 0==a[o]?a[o]={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_chance",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_damage",0),duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:n.prototype.itemData["item_"+o].displayname}:a[o].count+=1;break;case"abyssal_blade":case"basher":void 0==a[o]?"DOTA_UNIT_CAP_MELEE_ATTACK"==e?a[o]={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_chance_melee",0)/100,damage:0,duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:n.prototype.itemData["item_"+o].displayname}:a[o]={item:o,chance:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_chance_ranged",0)/100,damage:0,duration:t.getItemAttributeValue(n.prototype.itemData["item_"+o].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:n.prototype.itemData["item_"+o].displayname}:a[o].count+=1}}return a},t.getOrbProcSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())switch(i){case"maelstrom":case"mjollnir":void 0==e[i]?e[i]={chance:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"chain_chance",0)/100,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:n.prototype.itemData["item_"+i].displayname}:e[i].count+=1}}return e},t.getOrbSource=function(){for(var e={},a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())switch(i){case"diffusal_blade":void 0==e[i]?e[i]={chance:1,damage:t.getItemAttributeValue(n.prototype.itemData["item_"+i].attributes,"feedback_mana_burn",t.items()[a].size),count:1,damageType:"physical",displayname:n.prototype.itemData["item_"+i].displayname}:e[i].count+=1}}return e},t.getHealth=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"bonus_health":e+=parseInt(s.value[0])}}}return e},t.getHealthRegen=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"health_regen":case"bonus_regen":e+=parseInt(l.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=i||o?"tranquil_boots"!=i&&(e+=parseInt(l.value[0])):e+=parseInt(l.value[0]);break;case"hp_regen":e+=parseInt(l.value[0]);break;case"health_regen_rate":"heart"==i&&o&&(e+=parseInt(l.value[0])/100*t.hero.health())}}}return e},t.getHealthRegenAura=function(e){for(var a=0,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var r=n.prototype.itemData["item_"+s].attributes[l];if(!(i.indexOf(s+r.name)>-1))switch(r.name){case"aura_health_regen":a+=parseInt(r.value[0]),i.push(s+r.name)}}}return{value:a,excludeList:i}},t.getMana=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"bonus_mana":e+=parseInt(s.value[0])}}}return e},t.getManaRegen=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"aura_mana_regen":case"mana_regen_aura":e+=parseFloat(s.value[0]);break;case"mana_regen":"infused_raindrop"==i&&(e+=parseFloat(s.value[0]))}}}return e},t.getManaRegenPercent=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=i&&(e+=parseFloat(s.value[0]))}}}return e/100},t.getManaRegenBloodstone=function(){for(var e=0;e<t.items().length;e++){var a=t.items()[e].item;if(t.items()[e].enabled()&&-1!=a.indexOf("bloodstone"))return parseInt(t.items()[e].size)}return 0},t.getArmor=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"bonus_armor":o&&"medallion_of_courage"==i||(e+=parseInt(l.value[0]));break;case"unholy_bonus_armor":o&&"armlet"==i&&(e+=parseInt(l.value[0]))}}}return e},t.getArmorAura=function(e){for(var a=0,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item,l=t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var r=0;r<n.prototype.itemData["item_"+s].attributes.length;r++){var d=n.prototype.itemData["item_"+s].attributes[r];if(!i.find(function(e){return d.name==e.name}))switch(d.name){case"bonus_aoe_armor":l&&i.push({name:d.name,value:parseInt(d.value[0])});break;case"aura_positive_armor":i.push({name:d.name,value:parseInt(d.value[0])});break;case"aura_bonus_armor":l&&i.push({name:d.name,value:parseInt(d.value[0])});break;case"armor_aura":i.push({name:d.name,value:parseInt(d.value[0])});break;case"heal_bonus_armor":l&&i.push({name:d.name,value:parseInt(d.value[0])})}}}return i.find(function(e){return"heal_bonus_armor"==e.name})&&(i=i.filter(function(e){return"bonus_aoe_armor"!==e.name})),i.find(function(e){return"armor_aura"==e.name})&&(i=i.filter(function(e){return"aura_bonus_armor"!==e.name})),a=i.reduce(function(e,t){return e+=t.value},0),{value:a,attributes:i}},t.getArmorReduction=function(e){for(var a=0,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var r=n.prototype.itemData["item_"+s].attributes[l];if(!(i.indexOf(r.name)>-1||i.indexOf(s+"_"+r.name)>-1))switch(r.name){case"armor_reduction":a+=parseInt(r.value[0]),i.push(s+"_"+r.name);break;case"aura_negative_armor":a+=parseInt(r.value[0]),i.push(r.name);break;case"corruption_armor":a+=parseInt(r.value[0]),i.push(r.name)}}}return{value:a,excludeList:i}},t.getEvasion=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"bonus_evasion":"butterfly"==i&&o||(e*=1-parseInt(l.value[0])/100)}}}return e},t.getMovementSpeedFlat=function(){for(var e=0,a=!1,i=!1,o=!1,s=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],l=0;l<t.items().length;l++){var r=t.items()[l].item,d=t.activeItems.indexOf(t.items()[l])>=0?!0:!1;if(t.items()[l].enabled())for(var c=0;c<n.prototype.itemData["item_"+r].attributes.length;c++){var u=n.prototype.itemData["item_"+r].attributes[c];switch(u.name){case"bonus_movement_speed":!a&&s.indexOf(r)>=0?("tranquil_boots"!=r||"tranquil_boots"==r&&!d)&&(e+=parseInt(u.value[0]),a=!0):"cyclone"==r&&(e+=parseInt(u.value[0]),i=!0);break;case"broken_movement_speed":!a&&s.indexOf(r)>=0&&"tranquil_boots"==r&&d&&(e+=parseInt(u.value[0]),a=!0);break;case"bonus_movement":!a&&s.indexOf(r)>=0&&(e+=parseInt(u.value[0]),a=!0);break;case"movement_speed":o||"wind_lace"!=r||(e+=parseInt(u.value[0]),o=!0)}}}return e},t.getMovementSpeedPercent=function(e){for(var a=0,i=e||[],o=!1,s=!1,l=!1,r=!1,d=!1,c=!1,u=!1,p=["manta","yasha","sange_and_yasha"],m=0;m<t.items().length;m++){var b=t.items()[m].item,h=t.activeItems.indexOf(t.items()[m])>=0?!0:!1;if(t.items()[m].enabled())for(var g=0;g<n.prototype.itemData["item_"+b].attributes.length;g++){var f=n.prototype.itemData["item_"+b].attributes[g];if(!(i.indexOf(f.name)>-1))switch(f.name){case"movement_speed_percent_bonus":!o&&p.indexOf(b)>=0&&(a+=parseInt(f.value[0]),o=!0);break;case"bonus_aura_movement_speed_pct":s||"ancient_janggo"!=b||(a+=parseInt(f.value[0]),s=!0,i.push(f.name));break;case"phase_movement_speed":h&&!r&&(a+=parseInt(f.value[0]),r=!0);break;case"bonus_movement_speed_pct":h&&!l&&"ancient_janggo"==b&&(a+=parseInt(f.value[0]),l=!0,i.push(f.name));break;case"windwalk_movement_speed":!h||d||"invis_sword"!=b&&"silver_edge"!=b||(a+=parseInt(f.value[0]),d=!0);break;case"berserk_bonus_movement_speed":h&&!u&&"mask_of_madness"==b&&(a+=parseInt(f.value[0]),u=!0);break;case"bonus_movement_speed":o||"manta"!=b?"smoke_of_deceit"==b&&h&&(a+=parseInt(f.value[0])):(a+=parseInt(f.value[0]),o=!0);break;case"bonus_move_speed":h&&!c&&"butterfly"==b&&(a+=parseInt(f.value[0]),c=!0)}}}return{value:a/100,excludeList:i}},t.getMovementSpeedPercentReduction=function(e){for(var a=0,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item,l=t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var r=0;r<n.prototype.itemData["item_"+s].attributes.length;r++){var d=n.prototype.itemData["item_"+s].attributes[r];if(!(i.indexOf(d.name)>-1))switch(d.name){case"movespeed":"dust"==s&&l&&(a+=parseInt(d.value[0]));case"blast_movement_speed":"shivas_guard"==s&&l&&(a+=parseInt(d.value[0]),i.push(d.name));case"cold_movement_speed":"skadi"==s&&(a+=parseInt(d.value[0]));break;case"maim_movement_speed":t.items()[o].debuff&&"maim"==t.items()[o].debuff&&(a+=parseInt(d.value[0]),i.push(d.name))}}}return{value:a/100,excludeList:i}},t.getBonusDamage=function(){for(var e=0,a={},i=0;i<t.items().length;i++){var o=t.items()[i].item,s=t.activeItems.indexOf(t.items()[i])>=0?!0:!1;if(t.items()[i].enabled())for(var l=0;l<n.prototype.itemData["item_"+o].attributes.length;l++){var r=n.prototype.itemData["item_"+o].attributes[l];switch(r.name){case"bonus_damage":e+=parseInt(r.value[0]),void 0==a[o]?a[o]={damage:parseInt(r.value[0]),damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+o].displayname}:a[o].count+=1;break;case"unholy_bonus_damage":s&&(e+=parseInt(r.value[0]),void 0==a[o+"_active"]?a[o+"_active"]={damage:parseInt(r.value[0]),damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+o].displayname+" Unholy Strength"}:a[o].count+=1)}}}return{sources:a,total:e}},t.getBonusDamagePercent=function(e){
e=e||{sources:{},total:0};for(var a=e.total||0,i=e.sources||{},o=0;o<t.items().length;o++){var s=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var r=n.prototype.itemData["item_"+s].attributes[l];switch(r.name){case"damage_aura":void 0==i[s]&&(a+=parseInt(r.value[0])/100,i[s]={damage:parseInt(r.value[0])/100,damageType:"physical",count:1,displayname:n.prototype.itemData["item_"+s].displayname})}}}return{sources:i,total:a}},t.getAttackSpeed=function(e){for(var a=0,i=!1,o=e||[],s=0;s<t.items().length;s++){var l=t.items()[s].item,r=t.activeItems.indexOf(t.items()[s])>=0?!0:!1;if(t.items()[s].enabled())for(var d=0;d<n.prototype.itemData["item_"+l].attributes.length;d++){var c=n.prototype.itemData["item_"+l].attributes[d];if(!(o.indexOf(c.name)>-1))switch(c.name){case"bonus_attack_speed":"power_treads"==l?i||(a+=parseInt(c.value[0]),i=!0):"moon_shard"==l?r||(a+=parseInt(c.value[0])):a+=parseInt(c.value[0]);break;case"consumed_bonus":"moon_shard"==l&&r&&(a+=parseInt(c.value[0]));break;case"bonus_speed":a+=parseInt(c.value[0]);break;case"aura_attack_speed":"shivas_guard"!=l&&(a+=parseInt(c.value[0]));break;case"bonus_aura_attack_speed_pct":a+=parseInt(c.value[0]),o.push(c.name);break;case"bonus_attack_speed_pct":r&&(a+=parseInt(c.value[0]),o.push(c.name));break;case"unholy_bonus_attack_speed":r&&(a+=parseInt(c.value[0]));break;case"berserk_bonus_attack_speed":r&&(a+=parseInt(c.value[0]))}}}return{value:a,excludeList:o}},t.getAttackSpeedReduction=function(e){for(var a=0,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var r=n.prototype.itemData["item_"+s].attributes[l];if(!(i.indexOf(r.name)>-1))switch(r.name){case"aura_attack_speed":"shivas_guard"==s&&(a+=parseInt(r.value[0]),i.push(r.name));break;case"cold_attack_speed":"skadi"==s&&(a+=parseInt(r.value[0]),i.push(r.name));break;case"maim_attack_speed":t.items()[o].debuff&&"maim"==t.items()[o].debuff&&(a+=parseInt(r.value[0]),i.push(r.name))}}}return{value:a,excludeList:i}},t.getLifesteal=function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"lifesteal_percent":if("satanic"!=i)return parseInt(l.value[0]);if(!o)return parseInt(l.value[0]);break;case"unholy_lifesteal_percent":if(o)return parseInt(l.value[0])}}}return e},t.getLifestealAura=function(e){for(var a=0,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var r=n.prototype.itemData["item_"+s].attributes[l];if(!(i.indexOf(r.name)>-1))switch(r.name){case"vampiric_aura":a+=parseInt(r.value[0]),i.push(r.name)}}}return{value:a,excludeList:i}},t.getMagicResist=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"bonus_magical_armor":e*=1-parseInt(s.value[0])/100;break;case"bonus_spell_resist":e*=1-parseInt(s.value[0])/100;break;case"magic_resistance":e*=1-parseInt(s.value[0])/100}}}return e},t.getMagicResistReductionSelf=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled()&&o)for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(l.value[0])/100}}}return e},t.getMagicResistReduction=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled()&&o)for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"ethereal_damage_bonus":t.isEthereal()||(e*=1-parseInt(l.value[0])/100);case"resist_debuff":e*=1-parseInt(l.value[0])/100}}}return e},t.getVisionRangeNight=i.computed(function(){for(var e=0,a=0;a<t.items().length;a++){var i=t.items()[a].item,o=t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var s=0;s<n.prototype.itemData["item_"+i].attributes.length;s++){var l=n.prototype.itemData["item_"+i].attributes[s];switch(l.name){case"bonus_night_vision":"moon_shard"==i&&o||(e+=parseInt(l.value[0]))}}}return e}),t.getAttackRange=function(e,a){for(var i=0,o=a||[],s=0;s<t.items().length;s++){var l=t.items()[s].item;t.activeItems.indexOf(t.items()[s])>=0?!0:!1;if(t.items()[s].enabled())for(var r=0;r<n.prototype.itemData["item_"+l].attributes.length;r++){var d=n.prototype.itemData["item_"+l].attributes[r];if(!o.find(function(e){return d.name==e.name}))switch(d.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==e&&o.push({name:d.name,value:parseInt(d.value[0])})}}}return i=o.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:o}},t.getMissChance=function(e){for(var a=1,i=e||[],o=0;o<t.items().length;o++){var s=t.items()[o].item;t.activeItems.indexOf(t.items()[o])>=0?!0:!1;if(t.items()[o].enabled())for(var l=0;l<n.prototype.itemData["item_"+s].attributes.length;l++){var r=n.prototype.itemData["item_"+s].attributes[l];if(!(i.indexOf(r.name)>-1))switch(r.name){case"miss_chance":a*=1-parseInt(r.value[0])/100,i.push(r.name);break;case"blind_pct":a*=1-parseInt(r.value[0])/100,i.push(r.name)}}}return{value:a,excludeList:i}},t.getBaseDamageReductionPct=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"backstab_reduction":t.items()[a].debuff&&"shadow_walk"==t.items()[a].debuff&&(e*=1+parseInt(s.value[0])/100)}}}return e},t.getBonusDamageReductionPct=function(){for(var e=1,a=0;a<t.items().length;a++){var i=t.items()[a].item;t.activeItems.indexOf(t.items()[a])>=0?!0:!1;if(t.items()[a].enabled())for(var o=0;o<n.prototype.itemData["item_"+i].attributes.length;o++){var s=n.prototype.itemData["item_"+i].attributes[o];switch(s.name){case"backstab_reduction":t.items()[a].debuff&&"shadow_walk"==t.items()[a].debuff&&(e*=1+parseInt(s.value[0])/100)}}}return e},t.itemOptions=i.observableArray([]);for(var a=[],o=0;o<n.prototype.validItems.length;o++)a.push(new n.prototype.ItemInput(n.prototype.validItems[o],n.prototype.itemData["item_"+n.prototype.validItems[o]].displayname));t.itemOptions.push.apply(t.itemOptions,a);var s=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"];t.itemBuffOptions=i.observableArray(s.map(function(e){return new n.prototype.ItemInput(e,n.prototype.itemData["item_"+e].displayname)})),t.selectedItemBuff=i.observable("assault");var l=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}];return t.itemDebuffOptions=i.observableArray(l.map(function(e){return new n.prototype.ItemInput(e.item,n.prototype.itemData["item_"+e.item].displayname,e.debuff)})),t.selectedItemDebuff=i.observable("assault"),t}}),define("herocalc/herocalc_tooltips",["require","exports","module","jquery","./herocalc_core"],function(e,t,a){"use strict";var i=e("jquery"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.itemtooltipdata={},n.prototype.ability_vars={$health:"Health",$mana:"Mana",$armor:"Armor",$damage:"Damage",$str:"Strength",$int:"Intelligence",$agi:"Agility",$all:"All Attributes",$attack:"Attack Speed",$hp_regen:"HP Regeneration",$mana_regen:"Mana Regeneration",$move_speed:"Movement Speed",$evasion:"Evasion",$spell_resist:"Spell Resistance",$selected_attribute:"Selected Attribute",$selected_attrib:"Selected Attribute",$cast_range:"Cast Range",$attack_range:"Attack Range"},n.prototype.abilityTooltipData={},n.prototype.abilityDamageTypes={DAMAGE_TYPE_MAGICAL:"Magical",DAMAGE_TYPE_PURE:"Pure",DAMAGE_TYPE_PHYSICAL:"Physical",DAMAGE_TYPE_COMPOSITE:"Composite",DAMAGE_TYPE_HP_REMOVAL:"HP Removal"},n.prototype.getTooltipItemDescription=function(e){for(var t=e.description,a=0;a<e.attributes.length;a++)if(null!=e.attributes[a].name){for(var i=e.attributes[a].name,n=e.attributes[a].value[0],o=1;o<e.attributes[a].value.length;o++)n+=" / "+e.attributes[a].value[o];var s=new RegExp("%"+i+"%","gi");t=t.replace(s,n)}var s=new RegExp("%%","gi");return t=t.replace(s,"%"),s=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},n.prototype.getTooltipItemAttributes=function(e){var t="";console.log("getTooltip",e);for(var a=0;a<e.attributes.length;a++)if(null!=e.attributes[a].tooltip){for(var i=e.attributes[a].tooltip,o=e.attributes[a].value[0],s=1;s<e.attributes[a].value.length;s++)o+=" / "+e.attributes[a].value[s];var l=i.indexOf("%");0==l&&(o+="%",i=i.slice(1));var r=i.indexOf("$");t=-1!=r?t+i.slice(0,r)+" "+o+" "+n.prototype.ability_vars[i.slice(r)]+"<br>":t+i+" "+o+"<br>"}return t.trim("<br>")},n.prototype.getTooltipItemCooldown=function(e){for(var t="",a=0;a<e.cooldown.length;a++)t=t+" "+e.cooldown[a];return t},n.prototype.getTooltipItemManaCost=function(e){for(var t="",a=0;a<e.manacost.length;a++)e.manacost[a]>0&&(t=t+" "+e.manacost[a]);return t},n.prototype.getItemTooltipData=function(e){if(void 0!=n.prototype.itemData["item_"+e]){if(void 0==n.prototype.itemtooltipdata[e]){var t=n.prototype.itemData["item_"+e],a=i("<div>");a.append(i("<span>").html(t.displayname).addClass("item_field item_name")),a.append(i("<span>").html(t.itemcost).addClass("item_field item_cost")),a.append(i("<hr>")),null!=t.description&&a.append(i("<div>").html(n.prototype.getTooltipItemDescription(t)).addClass("item_field item_description"));var o=n.prototype.getTooltipItemAttributes(t);""!=o&&a.append(i("<div>").html(o).addClass("item_field item_attributes"));var s=n.prototype.getTooltipItemCooldown(t),l=n.prototype.getTooltipItemManaCost(t);if(""!=s||""!=l){var r=i("<div>").addClass("item_cdmana");""!=s&&r.append(i("<span>").html(s).addClass("item_field item_cooldown")),""!=l&&r.append(i("<span>").html(l).addClass("item_field item_manacost")),a.append(r)}return null!=t.lore&&a.append(i("<div>").html(t.lore).addClass("item_field item_lore")),n.prototype.itemtooltipdata[e]=a.html(),a.html()}return n.prototype.itemtooltipdata[e]}},n.prototype.getTooltipAbilityDescription=function(e){for(var t=e.description,a=0;a<e.attributes.length;a++)if(null!=e.attributes[a].name){for(var i=e.attributes[a].name,n=e.attributes[a].value[0],o=1;o<e.attributes[a].value.length;o++)n+=" / "+e.attributes[a].value[o];s=new RegExp("%"+i+"%","gi"),t=t.replace(s,n)}var s=new RegExp("%%","gi");return t=t.replace(s,"%"),s=new RegExp("\n","gi"),t=t.replace(/\\n/g,"<br>")},n.prototype.getTooltipAbilityAttributes=function(e){var t="";if(e.damage.length>0&&e.damage.reduce(function(e,t){return e+t},0)>0){for(var a="DAMAGE: ",i=e.damage[0],n=1;n<e.damage.length;n++)i+=" / "+e.damage[n];t=t+a+" "+i+"<br>"}for(var o=0;o<e.attributes.length;o++)if(null!=e.attributes[o].tooltip){var a=e.attributes[o].tooltip;a=a.replace(/\\n/g,"");for(var i=e.attributes[o].value[0],n=1;n<e.attributes[o].value.length;n++)i+=" / "+e.attributes[o].value[n];var s=a.indexOf("%");if(0==s){if(-1==i.toString().indexOf("/"))i=i.toString().trim()+"%";else{var l=i.split("/"),r=l.map(function(e){return e.trim()});i=r.join("% / ")+"%"}a=a.slice(1)}a.indexOf("$");t=t+a+" "+i+"<br>"}return t.trim("<br>")},n.prototype.getTooltipAbilityManaCost=function(e){var t="";if(0==e.manacost.reduce(function(e,t){return e+t},0))return t;if(e.manacost.every(function(t){return t==e.manacost[0]}))return e.manacost[0].toString();for(var a=0;4>a;a++)null!=e.manacost[a]&&(t=t+" "+e.manacost[a]);return t},n.prototype.getTooltipAbilityCooldown=function(e){var t="";if(0==e.cooldown.reduce(function(e,t){return e+t},0))return t;if(e.cooldown.every(function(t){return t==e.cooldown[0]}))return e.cooldown[0].toString();for(var a=0;4>a;a++)null!=e.cooldown[a]&&(t=t+" "+e.cooldown[a]);return t},n.prototype.getAbilityTooltipData=function(e,t){if(void 0==n.prototype.abilityTooltipData[t]){var a={};if(void 0==n.prototype.heroData[e])for(var o=0;o<n.prototype.unitData[e].abilities.length;o++)n.prototype.unitData[e].abilities[o].name==t&&(a=n.prototype.unitData[e].abilities[o]);else for(var o=0;o<n.prototype.heroData[e].abilities.length;o++)n.prototype.heroData[e].abilities[o].name==t&&(a=n.prototype.heroData[e].abilities[o]);var s=i("<div>");s.append(i("<span>").html(a.displayname).addClass("item_field pull-left item_name")),a.abilityunitdamagetype&&s.append(i("<span>").html(n.prototype.abilityDamageTypes[a.abilityunitdamagetype]).addClass("item_field pull-right item_ability_damage_type").css("margin-right","10px")),s.append(i("<hr>").css("clear","both")),null!=a.description&&s.append(i("<div>").html(n.prototype.getTooltipAbilityDescription(a)).addClass("item_field item_description"));var l=n.prototype.getTooltipAbilityAttributes(a);""!=l&&s.append(i("<div>").html(l).addClass("item_field item_attributes"));var r=n.prototype.getTooltipAbilityCooldown(a),d=n.prototype.getTooltipAbilityManaCost(a);if(""!=r||""!=d){var c=i("<div>").addClass("item_cdmana");""!=d&&c.append(i("<span>").html(d.trim()).addClass("item_field item_manacost")),""!=r&&c.append(i("<span>").html(r.trim()).addClass("item_field item_cooldown")),s.append(c)}return null!=a.lore&&s.append(i("<div>").html(a.lore).addClass("item_field item_lore")),n.prototype.abilityTooltipData[t]=s.html(),s.html()}return n.prototype.abilityTooltipData[t]}}),define("herocalc/herocalc_abilitydata",["require","exports","module","./herocalc_core"],function(e,t,a){"use strict";var i=e("./herocalc_core").HEROCALCULATOR;i.prototype.abilityData={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(e,t){return-t},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(e,t){return e*t/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(e,t){return t}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")+e*t}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(e,t,a,i){return a.inventory.hasScepter()?e[0]*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"fiend_grip_damage_scepter",a.ability().abilities()[i].level()):e[0]*t}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(e,t,a,i){return a.inventory.hasScepter()?e[0]*e[1]*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"fiend_grip_mana_drain_scepter",a.ability().abilities()[i].level())/100:e[0]*e[1]*t/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return e*t},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(e,t){return t},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")+e*t/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n){return-(n.getAbilityAttributeValue(n.abilities()[i].attributes(),"base_move_slow",0)+e*t)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(e,t,a,i){var n=a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"quill_base_damage",a.ability().abilities()[i].level())+e*t,o=a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"max_damage",0);return n>o&&(n=o),n}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){var n=this.abilities().find(function(e){return"bristleback_bristleback"==e.name()});if("back"==e)var o=this.getAbilityAttributeValue(n.attributes(),"back_damage_reduction",n.level());else var o=this.getAbilityAttributeValue(n.attributes(),"side_damage_reduction",n.level());return-o},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return 1>e?0:a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"base_damage",a.ability().abilities()[i].level())+(e-1)*t}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return 1>e?0:a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"base_move_speed",a.ability().abilities()[i].level())+(e-1)*t},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"return_damage",a.ability().abilities()[i].level())+e*t/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return-t},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-e*t},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(e,t){return e*t/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){var n=.25*(130+40*a.ability().abilities()[i].level())*.05,o=4*e*(4*e+1)/2;return n*o}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i){return a.inventory.hasScepter()?e*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"damage_scepter",a.ability().abilities()[i].level()):e*t}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(e,t){return e*t/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return e?-t:0},returnProperty:"movementSpeedPctReduction"},{attributeName:"attack_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return e?-t:0},returnProperty:"attackspeedreduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i){return e[0]*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"damage_heroes",a.ability().abilities()[i].level())+e[1]*t},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i){return e[0]*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"move_pct_heroes",a.ability().abilities()[i].level())+e[1]*t},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return-t},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"wisp_count",a.ability().abilities()[i].level())*e*t}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i){return e[0]*e[1]*t/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t){return e?2*t:t},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(e,t){return t}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(e,t){return t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],huskar_berserkers_blood:[{label:"Stacks",controlType:"input"},{attributeName:"resistance_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"magicResist"},{attributeName:"attack_speed_bonus_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"bonus_strength",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusStrength"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"bonus_agility",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusAgility"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_intelligence",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusInt"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[i].attributes(),"enemy_slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t,a,i,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[i].attributes(),"self_slow",e)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[i].attributes(),"bonus_attack_speed",e)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[i].attributes(),"bonus_damage",e)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return 0==e?0:n.getAbilityAttributeValue(n.abilities()[i].attributes(),"slow",e)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(e,t,a,i,n){return 0==e[0]?0:n.getAbilityAttributeValue(n.abilities()[i].attributes(),"damage_per_second",e[0])*e[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return 2*a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")+a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"burn_damage",a.ability().abilities()[i].level())*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"
},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i){return e[0]*e[1]*t/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"omni_slash_damage",1)*e}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"omni_slash_damage",2)*e}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i){return e[0]/100*e[1]*t/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,a,i,n){return n.getAbilityAttributeValue(n.abilities()[i].attributes(),"slow_steps",e+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return e*t},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){for(var n=[],o=1;6>o;o++)n.push((e*Math.pow(t/100,o)).toFixed(2));return n.join("<br>")}}],luna_eclipse:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],medusa_mystic_snake:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return(e/t).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-t},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n){return n.getAbilityPropertyValue(n.abilities()[i],"damage")*e}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(e,t,a,i,n){return n.getAbilityAttributeValue(n.abilities()[i].attributes(),"slow",n.abilities()[i].level())*e},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-e*t},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return e*t*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"morph_cooldown",a.ability().abilities()[i].level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return-e*t},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return e*t*a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"morph_cooldown",a.ability().abilities()[i].level())}}],furion_force_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],necrolyte_sadist:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i,n){return e?n.getAbilityAttributeValue(n.abilities()[i].attributes(),"miss_rate_night",n.abilities()[i].level()):n.getAbilityAttributeValue(n.abilities()[i].attributes(),"miss_rate_day",n.abilities()[i].level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i,n){return n.getAbilityPropertyValue(n.abilities()[i],"damage")*e}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],razor_plasma_field:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return t*(1-e*n.getAbilityAttributeValue(n.abilities()[i].attributes(),"jump_damage_reduction_pct",n.abilities()[i].level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(e,t){var a=[1,2,4,8];return e>4?t*a[3]+50*(e-4):0>=e?0:t*a[e-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"health_damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"mana_damage",label:"Mana Loss",controlType:"text",fn:function(e,t){return e*t}}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(e,t){return e*t},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a){return e*a.health()*t/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a){return a.health()*t/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i,n){return e?t:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(e,t){return-t},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100}}],storm_spirit_ball_lightning:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],templar_assassin_trap:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return e*t},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",noLevel:!0,fn:function(e,t){return e*t},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return e?t:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){var n=a.enemy().totalArmorPhysicalReduction(),o=a.enemy().totalMagicResistance();return(e*t*(1-n/100)*(1-o/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){var n=a.enemy().totalArmorPhysicalReduction(),o=a.enemy().totalMagicResistance();return(t*(1-n/100)*(1-o/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){var n=a.enemy().totalArmorPhysicalReduction(),o=a.enemy().totalMagicResistance();return(t*(1-n/100)*(1-o/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return(a.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i){return e*t}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){var n=a.enemy().totalMagicResistance();return(e*t*(1-n/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"speed_slow",label:"DAMAGE/HEAL:",controlType:"text",fn:function(e,t){return-t},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){var n=this.abilities().find(function(e){return"undying_flesh_golem"==e.name()}),o=this.getAbilityAttributeValue(n.attributes(),"full_power_radius",n.level()),s=this.getAbilityAttributeValue(n.attributes(),"radius",n.level()),l=Math.min(Math.max(e,o),s);if(a.inventory.hasScepter())var r=this.getAbilityAttributeValue(n.attributes(),"max_damage_amp_scepter",n.level()),d=this.getAbilityAttributeValue(n.attributes(),"min_damage_amp_scepter",n.level());else var r=this.getAbilityAttributeValue(n.attributes(),"max_damage_amp",n.level()),d=this.getAbilityAttributeValue(n.attributes(),"min_damage_amp",n.level());var c=1-(l-o)/(s-o),u=(r-d)*c+d;return u.toFixed(2)},returnProperty:"damageAmplification"}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t},returnProperty:"bonusDamage"}],ursa_enrage:[{label:"Current HP",controlType:"input"},{attributeName:"life_damage_bonus_percent",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t/100},returnProperty:"bonusDamage"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"strike_damage",a.ability().abilities()[i].level())+Math.floor(e/3)*t}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"}],venomancer_plague_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],warlock_upheaval:[{label:"Duration",controlType:"input"},{attributeName:"slow_rate",label:"DAMAGE:",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(e,t){return e*t}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(e,t){return-e*t},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return a.ability().getAbilityPropertyValue(a.ability().abilities()[i],"damage")*e}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(e,t,a,i){var n=a.ability().getAbilityAttributeValue(a.ability().abilities()[i].attributes(),"heal_additive",a.ability().abilities()[i].level());return(n+e[1]*t/100)*e[0]}}],wisp_spirits:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return e*t}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(e,t,a,i){return e*t}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(e,t){return t},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],witch_doctor_maledict:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(e,t){return e*t}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(e,t){return e*t/100}}]}}),define("herocalc/herocalc_abilities",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.AbilityModel=function(e,t){var a=this;a.hero=t,a.abilityData=n.prototype.abilityData,a.hasScepter=i.observable(!1),a.isShapeShiftActive=i.observable(!1),a.abilities=e;for(var o=0;o<a.abilities().length;o++)a.abilities()[o].isActive=i.observable(!1),a.abilities()[o].isDetail=i.observable(!1),a.abilities()[o].baseDamage=i.observable(0),a.abilities()[o].baseDamageMultiplier=i.observable(0),a.abilities()[o].bash=i.observable(0),a.abilities()[o].bashBonusDamage=i.observable(0),a.abilities()[o].bonusDamage=i.observable(0),a.abilities()[o].bonusDamageOrb=i.observable(0),a.abilities()[o].bonusDamagePct=i.observable(0),a.abilities()[o].bonusDamagePrecisionAura=i.observable(0),a.abilities()[o].bonusDamageReduction=i.observable(0),a.abilities()[o].bonusHealth=i.observable(0),a.abilities()[o].bonusStrength=i.observable(0),a.abilities()[o].bonusStrength2=i.observable(0),a.abilities()[o].bonusAgility=i.observable(0),a.abilities()[o].bonusAgility2=i.observable(0),a.abilities()[o].bonusInt=i.observable(0),a.abilities()[o].bonusAllStatsReduction=i.observable(0),a.abilities()[o].damageAmplification=i.observable(0),a.abilities()[o].damageReduction=i.observable(0),a.abilities()[o].evasion=i.observable(0),a.abilities()[o].magicResist=i.observable(0),a.abilities()[o].manaregen=i.observable(0),a.abilities()[o].manaregenreduction=i.observable(0),a.abilities()[o].missChance=i.observable(0),a.abilities()[o].movementSpeedFlat=i.observable(0),a.abilities()[o].movementSpeedPct=i.observable(0),a.abilities()[o].movementSpeedPctReduction=i.observable(0),a.abilities()[o].turnRateReduction=i.observable(0),a.abilities()[o].attackrange=i.observable(0),a.abilities()[o].attackspeed=i.observable(0),a.abilities()[o].attackspeedreduction=i.observable(0),a.abilities()[o].armor=i.observable(0),a.abilities()[o].armorReduction=i.observable(0),a.abilities()[o].healthregen=i.observable(0),a.abilities()[o].lifesteal=i.observable(0),a.abilities()[o].visionnight=i.observable(0),a.abilities()[o].visionday=i.observable(0);a.abilityControlData={},a.abilitySettingsData=function(e,t,i){return void 0==a.abilityControlData[e]?a.processAbility(e,t,i,a.abilityData[e]):a.abilityControlData[e]},a.processAbility=function(e,t,n,o){var s={};s.data=[];for(var l,r=[],d=0;d<o.length;d++)switch(o[d].controlType){case"input":l=i.observable(0).extend({numeric:2}),l.controlValueType=o[d].controlValueType,r.push(l),s.data.push({labelName:o[d].label.toUpperCase()+":",controlVal:l,controlType:o[d].controlType,display:o[d].display});break;case"checkbox":l=i.observable(!1),l.controlValueType=o[d].controlValueType,r.push(l),s.data.push({labelName:o[d].label.toUpperCase()+"?",controlVal:l,controlType:o[d].controlType,display:o[d].display});break;case"radio":l=i.observable(o[d].controlOptions[0].value),l.controlValueType=o[d].controlValueType,r.push(l),s.data.push({labelName:o[d].label.toUpperCase()+"?",controlVal:l,controlType:o[d].controlType,display:o[d].display,controlOptions:o[d].controlOptions});break;case"text":if(void 0==o[d].controls){if(o[d].noLevel)var c=function(t){return{fn:i.computed(function(){var i=a.abilities().find(function(t){return t.name()==e});return a.getAbilityAttributeValue(i.attributes(),t,0)})}};else var c=function(t){return{fn:i.computed(function(){var i=a.abilities().find(function(t){return t.name()==e});return a.getAbilityAttributeValue(i.attributes(),t,i.level())})}};var u=c(o[d].attributeName),p=a.getComputedFunction(l,u.fn,o[d].fn,t,n,a,o[d].returnProperty,void 0,e);if(""==m||o[d].ignoreTooltip)var m=o[d].label;else var m=a.getAbilityAttributeTooltip(a.abilities()[n].attributes(),o[d].attributeName);s.data.push({labelName:m,controlVal:p,controlType:o[d].controlType,display:o[d].display,clean:u.fn})}else{if(o[d].noLevel)var c=function(e){return{fn:i.computed(function(){return a.getAbilityAttributeValue(a.abilities()[n].attributes(),e,0)})}};else var c=function(e){return{fn:i.computed(function(){return a.getAbilityAttributeValue(a.abilities()[n].attributes(),e,a.abilities()[n].level())})}};var u=c(o[d].attributeName),p=a.getComputedFunction(r,u.fn,o[d].fn,t,n,a,o[d].returnProperty,o[d].controls,e);if(""==m||o[d].ignoreTooltip)var m=o[d].label;else var m=a.getAbilityAttributeTooltip(a.abilities()[n].attributes(),o[d].attributeName);s.data.push({labelName:m,controlVal:p,controlType:o[d].controlType,display:o[d].display,clean:u.fn})}}return a.abilityControlData[e]=s,s},a.getComputedFunction=function(e,t,n,o,s,l,r,d,c){return i.computed(function(){if(void 0==d){if(void 0==e)var i=n.call(this,e,t(),o,s,l);else if("boolean"==typeof e())var i=n.call(this,e(),t(),o,s,l);else if(void 0==e.controlValueType)var i=n.call(this,parseFloat(e()),t(),o,s,l);else if("string"==e.controlValueType)var i=n.call(this,e(),t(),o,s,l);else var i=n.call(this,parseFloat(e()),t(),o,s,l);if(void 0!=r){var u=a.abilities().find(function(e){return e.name()==c});u[r](i)}return i}for(var p=[],m=0;m<d.length;m++)"boolean"==typeof e[d[m]]()?p.push(e[d[m]]()):p.push(parseFloat(e[d[m]]()));
var i=n.call(this,p,t(),o,s,l);if(void 0!=r){var u=a.abilities().find(function(e){return e.name()==c});u[r](i)}return i},this)},a.getAbilityAttributeValue=function(e,t,a){for(var i=0;i<e.length;i++)if(e[i].name()==t)return 0==a?parseFloat(e[i].value()[0]):a>e[i].value().length?parseFloat(e[i].value()[0]):parseFloat(e[i].value()[a-1])},a.getAbilityAttributeTooltip=function(e,t){for(var a=0;a<e.length;a++)if(e[a].name()==t){var i=e[a].tooltip().replace(/\\n/g,"");return i}return""},a.getAbilityLevelByAbilityName=function(e){for(var t=0;t<a.abilities().length;t++)if(a.abilities()[t].name()==e)return a.abilities()[t].level();return-1},a.getAbilityByName=function(e){for(var t=0;t<a.abilities().length;t++)if(a.abilities()[t].name()==e)return a.abilities()[t]},a.getAbilityPropertyValue=function(e,t){return parseFloat(e[t]()[e.level()-1])},a.getAttributeBonusLevel=function(){for(var e=0;e<a.abilities().length;e++)if("attribute_bonus"==a.abilities()[e].name())return a.abilities()[e].level();return 0},a.getAllStatsReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusAllStatsReduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.bonusAllStatsReduction());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){a.abilities()[t].attributes()[n]}}return e}),a.getStrengthReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusStrength&&"undying_decay"==i.name()&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e-=i.bonusStrength());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){a.abilities()[t].attributes()[n]}}return e}),a.getStrength=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusStrength&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")||"invoker_quas"==i.name())&&(e+=i.bonusStrength()),void 0!=i.bonusStrength2&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.bonusStrength2());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){a.abilities()[t].attributes()[n]}}return e}),a.getAgility=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusAgility&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")||"invoker_wex"==i.name())&&(e+=i.bonusAgility()),void 0!=i.bonusAgility2&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.bonusAgility2());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"marksmanship_agility_bonus":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getIntelligence=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusInt&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")||"invoker_exort"==i.name())&&(e+=i.bonusInt());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];o.name()}}return e}),a.getArmor=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.armor&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.armor());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_armor":"templar_assassin_meld"!=i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"warcry_armor":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"armor_bonus":("lich_frost_armor"==i.name()||"ogre_magi_frost_armor"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()))}}}return e}),a.getArmorBaseReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(i.name()){case"elder_titan_natural_order":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),"armor_reduction_pct",i.level())/100}}return e}),a.getArmorReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.armorReduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.armorReduction());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(i.name()){case"templar_assassin_meld":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),"bonus_armor",i.level());break;case"tidehunter_gush":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),"armor_bonus",i.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),"armor_reduction",i.level());break;case"nevermore_dark_lord":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),"presence_armor_reduction",i.level())}}return e}),a.getHealth=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusHealth&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.bonusHealth());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_hp":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"true_form_hp_bonus":a.isTrueFormActive()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()))}}}return e}),a.isTrueFormActive=function(){for(var e=0;e<a.abilities().length;e++){var t=a.abilities()[e];if(t.isActive()&&"lone_druid_true_form"==t.name())return!0}return!1},a.getHealthRegen=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.healthregen&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.healthregen());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"hp_regen":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getMana=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_mana":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getManaRegen=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.manaregen&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.manaregen());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_mana_regen":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getManaRegenArcaneAura=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"mana_regen":"crystal_maiden_brilliance_aura"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()))}}}return e}),a.getManaRegenReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.manaregenreduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.manaregenreduction());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){a.abilities()[t].attributes()[n]}}return e}),a.getAttackRange=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.attackrange&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.attackrange());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"attack_range_bonus":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"bonus_attack_range":case"bonus_range":"terrorblade_metamorphosis"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())),"troll_warlord_berserkers_rage"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"bonus_range_scepter":"tiny_grow"==i.name()&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==i.name()&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()))}}"lone_druid_true_form"==i.name()&&(e-=422)}else if(i.level()>0&&"enchantress_impetus"==i.name()&&a.hasScepter())for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_attack_range_scepter":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getAttackSpeed=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.attackspeed&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.attackspeed());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"attack_speed_bonus_pct":("clinkz_strafe"==i.name()||"ursa_overpower"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"speed_bonus":("axe_culling_blade"==i.name()||"necronomicon_archer_aoe"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"bonus_attack_speed":("beastmaster_inner_beast"==i.name()||"lycan_feral_impulse"==i.name()||"lone_druid_rabid"==i.name()||"tiny_grow"==i.name()||"phantom_assassin_phantom_strike"==i.name()||"windrunner_focusfire"==i.name()||"ogre_magi_bloodlust"==i.name()||"centaur_khan_endurance_aura"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()))}}}return e}),a.getAttackSpeedReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.attackspeedreduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.attackspeedreduction());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"speed_bonus":"omniknight_degen_aura"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=i.name()||a.hasScepter()?"tusk_frozen_sigil"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())):e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==i.name()&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"slow":"medusa_stone_gaze"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"attackspeed_bonus":e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()))}}"enraged_wildkin_tornado"==i.name()&&(e-=15)}}return e}),a.getBash=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bash&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1-i.bash()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"chance":case"proc_chance":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.getBaseDamage=i.computed(function(){for(var e=0,t=1,i={},n=0;n<a.abilities().length;n++){var o=a.abilities()[n];if(o.name()in a.abilityData)void 0!=o.baseDamageMultiplier&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(t+=o.baseDamageMultiplier()/100),void 0!=o.baseDamage&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=o.baseDamage(),i[o.name()]={damage:o.baseDamage(),damageType:"physical",displayname:o.displayname()});else if(o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var s=0;s<a.abilities()[n].attributes().length;s++){var l=a.abilities()[n].attributes()[s];switch(l.name()){case"bonus_damage":("tiny_grow"==o.name()||"terrorblade_metamorphosis"==o.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[n].attributes(),l.name(),o.level()),i[o.name()]={damage:a.getAbilityAttributeValue(a.abilities()[n].attributes(),l.name(),o.level()),damageType:"physical",displayname:o.displayname()})}}}return{sources:i,total:e,multiplier:t}}),a.getSelfBaseDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"damage_modifier":e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"focusfire_damage_reduction":a.hasScepter()||(e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"focusfire_damage_reduction_scepter":a.hasScepter()&&(e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}}return e}),a.getBaseDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_damage_pct":"vengefulspirit_command_aura"==i.name()&&(e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}}return e}),a.getBAT=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"base_attack_time":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getBonusDamage=i.computed(function(){for(var e=0,t={},i=0;i<a.abilities().length;i++){var n=a.abilities()[i];if(n.name()in a.abilityData)void 0!=n.bonusDamage&&0!=n.bonusDamage()&&n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=n.bonusDamage(),t[n.name()]={damage:n.bonusDamage(),damageType:"spectre_desolate"==n.name()?"pure":"physical",displayname:n.displayname()});else if(n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var o=0;o<a.abilities()[i].attributes().length;o++){var s=a.abilities()[i].attributes()[o];switch(s.name()){case"bonus_damage":("broodmother_insatiable_hunger"==n.name()||"luna_lunar_blessing"==n.name()||"templar_assassin_refraction"==n.name()||"templar_assassin_meld"==n.name()||"troll_warlord_berserkers_rage"==n.name()||"lone_druid_true_form_battle_cry"==n.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level()),t[n.name()]={damage:a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level()),damageType:"physical",displayname:n.displayname()});break;case"hero_bonus_damage":e+=a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level()),t[n.name()]={damage:a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level()),damageType:"physical",displayname:n.displayname()}}}"storm_spirit_overload"==n.name()&&(e+=a.getAbilityPropertyValue(n,"damage"),t[n.name()]={damage:a.getAbilityPropertyValue(n,"damage"),damageType:"magic",displayname:n.displayname()})}}return{sources:t,total:e}}),a.getBonusDamagePercent=i.computed(function(){for(var e=0,t={},i=0;i<a.abilities().length;i++){var n=a.abilities()[i];if(n.name()in a.abilityData)void 0!=n.bonusDamagePct&&0!=n.bonusDamagePct()&&n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"));else if(n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var o=0;o<a.abilities()[i].attributes().length;o++){var s=a.abilities()[i].attributes()[o];switch(s.name()){case"damage_increase_pct":"bloodseeker_bloodrage"==n.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,t[n.name()]={damage:a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,damageType:"physical",displayname:n.displayname()});break;case"bonus_damage_pct":("magnataur_empower"==n.name()||"vengefulspirit_command_aura"==n.name()||"alpha_wolf_command_aura"==n.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,t[n.name()]={damage:a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,damageType:"physical",displayname:n.displayname()});break;case"gods_strength_damage":"sven_gods_strength"==n.name()&&void 0!=a.hero&&"sven"==a.hero.selectedHero().heroName&&(e+=a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,t[n.name()]={damage:a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,damageType:"physical",displayname:n.displayname()});break;case"gods_strength_damage_scepter":"sven_gods_strength"==n.name()&&void 0==a.hero&&(e+=a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,t[n.name()]={damage:a.getAbilityAttributeValue(a.abilities()[i].attributes(),s.name(),n.level())/100,damageType:"physical",displayname:n.displayname()})}}}return{sources:t,total:e}}),a.getBonusDamageBackstab=i.computed(function(){for(var e=0,t=0,i=[],n=0;n<a.abilities().length;n++){var o=a.abilities()[n];if("riki_backstab"==o.name()&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var s=0;s<a.abilities()[n].attributes().length;s++){var l=a.abilities()[n].attributes()[s];switch(l.name()){case"damage_multiplier":e+=a.getAbilityAttributeValue(a.abilities()[n].attributes(),l.name(),o.level()),i.push({damage:a.getAbilityAttributeValue(a.abilities()[n].attributes(),l.name(),o.level()),damageType:"physical",displayname:o.displayname()})}}}return{sources:i,total:[e,t]}}),a.getBonusDamagePrecisionAura=i.computed(function(){for(var e=0,t=0,i=[],n=0;n<a.abilities().length;n++){var o=a.abilities()[n];if("drow_ranger_trueshot"==o.name()&&o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var s=0;s<a.abilities()[n].attributes().length;s++){var l=a.abilities()[n].attributes()[s];switch(l.name()){case"trueshot_ranged_damage":e+=a.getAbilityAttributeValue(a.abilities()[n].attributes(),l.name(),o.level())/100,i.push({damage:a.getAbilityAttributeValue(a.abilities()[n].attributes(),l.name(),o.level())/100,damageType:"physical",displayname:o.displayname()})}}void 0!=o.bonusDamagePrecisionAura&&(t+=o.bonusDamagePrecisionAura(),i.push({damage:o.bonusDamagePrecisionAura(),damageType:"physical",displayname:o.displayname()}))}}return{sources:i,total:[e,t]}}),a.getBonusDamageReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusDamageReduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.bonusDamageReduction());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"enfeeble_attack_reduction":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getBonusDamageReductionPct=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"damage_modifier":e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"focusfire_damage_reduction":a.hasScepter()||(e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"focusfire_damage_reduction_scepter":a.hasScepter()&&(e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}}return e}),a.getDamageAmplification=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];i.name()in a.abilityData&&void 0!=i.damageAmplification&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1+i.damageAmplification()/100)}return e}),a.getDamageReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.damageReduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1+i.damageReduction()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"damage_increase_pct":"bloodseeker_bloodrage"==i.name()&&(e*=1+a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}"kunkka_ghostship"==i.name()&&(e*=.5)}}return e}),a.getCritSource=i.computed(function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(i.name()){case"phantom_assassin_coup_de_grace":void 0==e[i.name()]?e[i.name()]={chance:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_bonus",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[i.name()]?e[i.name()]={chance:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_multiplier",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[i.name()]?e[i.name()]={chance:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_multiplier",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[i.name()]?e[i.name()]={chance:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_mult",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"juggernaut_blade_dance":void 0==e[i.name()]?e[i.name()]={chance:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"blade_dance_crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"blade_dance_crit_mult",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[i.name()]?e[i.name()]={chance:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_chance",i.level())/100,multiplier:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"crit_mult",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1}}return e}),a.getCleaveSource=i.computed(function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(i.name()){case"magnataur_empower":void 0==e[i.name()]?e[i.name()]={radius:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"cleave_radius",i.level()),magnitude:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"cleave_damage_pct",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"sven_great_cleave":void 0==e[i.name()]?e[i.name()]={radius:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"great_cleave_radius",i.level()),magnitude:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"great_cleave_damage",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"kunkka_tidebringer":void 0==e[i.name()]?e[i.name()]={radius:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"radius",i.level()),magnitude:1,count:1,displayname:i.displayname()}:e[i.name()].count+=1;break;case"tiny_grow":a.hasScepter()&&(void 0==e[i.name()]?e[i.name()]={radius:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"bonus_cleave_radius_scepter",i.level()),magnitude:a.getAbilityAttributeValue(a.abilities()[t].attributes(),"bonus_cleave_damage_scepter",i.level())/100,count:1,displayname:i.displayname()}:e[i.name()].count+=1)}}return e}),a.getCritChance=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"crit_chance":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.getEvasion=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_evasion":case"dodge_chance":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.getEvasionBacktrack=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"dodge_chance_pct":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.getMissChance=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.missChance&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1-i.missChance()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"miss_chance":case"miss_rate":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.getLifesteal=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.lifesteal&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.lifesteal());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"vampiric_aura":case"lifesteal_pct":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getMagicResist=i.computed(function(){
for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.magicResist&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e*=1-i.magicResist()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"spell_shield_resistance":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==i.name()&&(e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==i.name()&&(e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}}return e}),a.getMagicResistReduction=i.computed(function(){for(var e=1,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"magic_resistance_pct":e*=1-a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.getMovementSpeedFlat=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.movementSpeedFlat&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.movementSpeedFlat());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"bonus_movespeed":"alchemist_chemical_rage"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"bonus_movement_speed":"tiny_grow"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level()));break;case"speed_loss":e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getMovementSpeedPercent=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.movementSpeedPct&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.movementSpeedPct()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"bonus_movespeed":("broodmother_spin_web"==i.name()||"spectre_spectral_dagger"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"speed_bonus":("axe_culling_blade"==i.name()||"necronomicon_archer_aoe"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"bonus_movement_speed":("ogre_magi_bloodlust"==i.name()||"death_prophet_witchcraft"==i.name()||"kobold_taskmaster_speed_aura"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movement_speed_pct":("razor_unstable_current"==i.name()||"phantom_lancer_doppelwalk"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"bonus_move_speed":("treant_natures_guise"==i.name()||"lone_druid_rabid"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movespeed":"wisp_tether"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movespeed_bonus":("kunkka_ghostship"==i.name()||"visage_grave_chill"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}}return e}),a.getMovementSpeedPercentReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.movementSpeedPctReduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.movementSpeedPctReduction()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"movespeed_slow":"crystal_maiden_freezing_field"!=i.name()||a.hasScepter()||(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==i.name()&&a.hasScepter()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"slow_pct":e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==i.name()?e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100:"tusk_frozen_sigil"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"slow":"medusa_stone_gaze"==i.name()?e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100:e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==i.name()||"bounty_hunter_jinada"==i.name()||"winter_wyvern_arctic_burn"==i.name()||"winter_wyvern_splinter_blast"==i.name()?e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100:"spectre_spectral_dagger"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movement_speed":"tidehunter_gush"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"bonus_movement_speed":("pugna_decrepify"==i.name()||"chen_penitence"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==i.name()||"phantom_lancer_spirit_lance"==i.name()||"faceless_void_time_walk"==i.name()?e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100:"skywrath_mage_concussive_shot"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"slow_amount":"razor_unstable_current"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==i.name()||"brewmaster_thunder_clap"==i.name()?e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100:("ursa_earthshock"==i.name()||"treant_leech_seed"==i.name())&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==i.name()&&(e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==i.name()?e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100:"visage_grave_chill"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}"satyr_trickster_purge"==i.name()?e-=.8:"enraged_wildkin_tornado"==i.name()&&(e-=.15)}}return e}),a.getTurnRateReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.turnRateReduction&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.turnRateReduction()/100);else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"slow":"medusa_stone_gaze"==i.name()&&(e-=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100)}}}return e}),a.getVisionRangeNight=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.visionnight&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(e+=i.visionnight());else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"night_vision_bonus":case"bonus_night_vision":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())}}}return e}),a.getVisionRangePctReduction=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(!(i.name()in a.abilityData)&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"blind_percentage":e+=a.getAbilityAttributeValue(a.abilities()[t].attributes(),o.name(),i.level())/100}}}return e}),a.setEvasion=i.computed(function(){for(var e=0,t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&"windrunner_windrun"==i.name())return 1}return e}),a.setMovementSpeed=i.computed(function(){for(var e=522,t=100,i=0,n=0;n<a.abilities().length;n++){var o=a.abilities()[n];if(o.level()>0&&(o.isActive()||-1!=o.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))){if("spirit_breaker_charge_of_darkness"==o.name())return a.getAbilityAttributeValue(o.attributes(),"movement_speed",o.level());if("dark_seer_surge"==o.name())return e;if("centaur_stampede"==o.name())return e;if("lycan_shapeshift"==o.name())return e;if("lion_voodoo"==o.name()||"shadow_shaman_voodoo"==o.name())return t}}return i}),a.getBashSource=function(e){for(var t={},i=0;i<a.abilities().length;i++){var n=a.abilities()[i];if(n.name()in a.abilityData)void 0!=n.bashBonusDamage&&n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&(void 0==t[n.name()]&&"faceless_void_time_lock"==n.name()&&(t[n.name()]={chance:n.bash()/100,damage:n.bashBonusDamage(),count:1,damageType:"magic",displayname:n.displayname()}),void 0==t[n.name()]&&"spirit_breaker_greater_bash"==n.name()&&(t[n.name()]={chance:n.bash()/100,damage:n.bashBonusDamage()/100,count:1,damageType:"magic",displayname:n.displayname()}));else if(n.level()>0&&(n.isActive()||-1!=n.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var o=0;o<a.abilities()[i].attributes().length;o++){var s=a.abilities()[i].attributes()[o];switch(s.name()){case"proc_chance":void 0==t[n.name()]&&"sniper_headshot"==n.name()&&(t[n.name()]={chance:a.getAbilityAttributeValue(n.attributes(),s.name(),n.level())/100,damage:a.getAbilityPropertyValue(n,"damage"),count:1,damageType:"physical",displayname:n.displayname()});break;case"chance":void 0==t[n.name()]&&"slardar_bash"==n.name()&&(t[n.name()]={chance:a.getAbilityAttributeValue(n.attributes(),s.name(),n.level())/100,damage:a.getAbilityAttributeValue(n.attributes(),"bonus_damage",n.level()),count:1,damageType:"physical",displayname:n.displayname()})}}}return t},a.getOrbSource=function(){for(var e={},t=0;t<a.abilities().length;t++){var i=a.abilities()[t];if(i.name()in a.abilityData)void 0!=i.bonusDamageOrb&&i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"))&&void 0==e[i.name()]&&"obsidian_destroyer_arcane_orb"==i.name()&&(e[i.name()]={damage:i.bonusDamageOrb(),damageType:"pure",displayname:i.displayname()});else if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))for(var n=0;n<a.abilities()[t].attributes().length;n++){var o=a.abilities()[t].attributes()[n];switch(o.name()){case"mana_per_hit":void 0==e[i.name()]&&"antimage_mana_break"==i.name()&&(e[i.name()]={damage:a.getAbilityAttributeValue(i.attributes(),o.name(),i.level())*a.getAbilityAttributeValue(i.attributes(),"damage_per_burn",i.level()),damageType:"physical",displayname:i.displayname()});break;case"damage_bonus":void 0==e[i.name()]&&"clinkz_searing_arrows"==i.name()&&(e[i.name()]={damage:a.getAbilityAttributeValue(i.attributes(),o.name(),i.level()),damageType:"physical",displayname:i.displayname()});case"intellect_damage_pct":void 0==e[i.name()]&&"silencer_glaives_of_wisdom"==i.name()&&(e[i.name()]={damage:a.getAbilityAttributeValue(i.attributes(),o.name(),i.level())/100*a.hero.totalInt(),damageType:"pure",displayname:i.displayname()})}}}return e},a.toggleAbility=function(e,t,i){a.abilities()[e()].behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(a.abilities()[e()].isActive()?a.abilities()[e()].isActive(!1):a.abilities()[e()].isActive(!0),"lycan_shapeshift"==a.abilities()[e()].name()&&a.isShapeShiftActive(a.abilities()[e()].isActive()))}.bind(this),a.toggleAbilityDetail=function(e,t,i){a.abilities()[e()].isDetail()?a.abilities()[e()].isDetail(!1):a.abilities()[e()].isDetail(!0)}.bind(this),a.getAbilityTooltipData=function(e,t){return n.prototype.getAbilityTooltipData(e,t)},a.levelUpAbility=function(e,t,i,n){if(a.abilities()[e()].level()<n.getAbilityLevelMax(t)&&n.availableSkillPoints()>0){switch(a.abilities()[e()].abilitytype()){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==n.selectedHero().heroName?(0==a.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=2||1==a.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=7||2==a.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=11||3==a.abilities()[e()].level()&&parseInt(n.selectedHeroLevel())>=17)&&(a.abilities()[e()].level(a.abilities()[e()].level()+1),n.skillPointHistory.push(e())):"meepo"==n.selectedHero().heroName?7*a.abilities()[e()].level()+3<=parseInt(n.selectedHeroLevel())&&(a.abilities()[e()].level(a.abilities()[e()].level()+1),n.skillPointHistory.push(e())):5*(a.abilities()[e()].level()+1)+1<=parseInt(n.selectedHeroLevel())&&(a.abilities()[e()].level(a.abilities()[e()].level()+1),n.skillPointHistory.push(e()));break;default:2*a.abilities()[e()].level()+1<=parseInt(n.selectedHeroLevel())&&(a.abilities()[e()].level(a.abilities()[e()].level()+1),n.skillPointHistory.push(e()))}switch(a.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());break;case"ember_spirit_fire_remnant":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"lone_druid_true_form":a.abilities()[e()-1].level(a.abilities()[e()].level())}}},a.levelDownAbility=function(e,t,i,n){if(a.abilities()[e()].level()>0)switch(a.abilities()[e()].level(a.abilities()[e()].level()-1),n.skillPointHistory.splice(n.skillPointHistory().lastIndexOf(e()),1),a.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());break;case"ember_spirit_fire_remnant":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"lone_druid_true_form":a.abilities()[e()-1].level(a.abilities()[e()].level())}},a.isQWER=function(e){return"Empty"!=e.displayname()&&(-1==e.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN")||-1!=e.name().indexOf("invoker_"))&&-1==e.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE")}}}),define("herocalc/herocalc_buffs",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.BuffOption=function(e,t){this.buffName=t,void 0==n.prototype.heroData["npc_dota_hero_"+e]?(this.hero=e,this.abilityData=n.prototype.findWhere(n.prototype.unitData[e].abilities,{name:t}),this.buffDisplayName=n.prototype.unitData[e].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+e,this.abilityData=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+e].abilities,{name:t}),this.buffDisplayName=n.prototype.heroData["npc_dota_hero_"+e].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==t&&(this.buffDisplayName+=" (Aura for allies)"))},n.prototype.ItemBuffOption=function(e){this.buffName=e,void 0==n.prototype.heroData["npc_dota_hero_"+hero]?(this.hero=hero,this.abilityData=n.prototype.findWhere(n.prototype.unitData[hero].abilities,{name:e}),this.buffDisplayName=n.prototype.unitData[hero].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+hero,this.abilityData=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+hero].abilities,{name:e}),this.buffDisplayName=n.prototype.heroData["npc_dota_hero_"+hero].displayname+" - "+this.abilityData.displayname)},n.prototype.BuffViewModel=function(e){var t=new n.prototype.AbilityModel(i.observableArray([]));return t.availableBuffs=i.observableArray([new n.prototype.BuffOption("abaddon","abaddon_frostmourne"),new n.prototype.BuffOption("axe","axe_culling_blade"),new n.prototype.BuffOption("beastmaster","beastmaster_inner_beast"),new n.prototype.BuffOption("bloodseeker","bloodseeker_bloodrage"),new n.prototype.BuffOption("bounty_hunter","bounty_hunter_track"),new n.prototype.BuffOption("centaur","centaur_stampede"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_brilliance_aura"),new n.prototype.BuffOption("dark_seer","dark_seer_surge"),new n.prototype.BuffOption("dazzle","dazzle_weave"),new n.prototype.BuffOption("drow_ranger","drow_ranger_trueshot"),new n.prototype.BuffOption("invoker","invoker_alacrity"),new n.prototype.BuffOption("wisp","wisp_tether"),new n.prototype.BuffOption("wisp","wisp_overcharge"),new n.prototype.BuffOption("kunkka","kunkka_ghostship"),new n.prototype.BuffOption("lich","lich_frost_armor"),new n.prototype.BuffOption("life_stealer","life_stealer_open_wounds"),new n.prototype.BuffOption("luna","luna_lunar_blessing"),new n.prototype.BuffOption("lycan","lycan_howl"),new n.prototype.BuffOption("magnataur","magnataur_empower"),new n.prototype.BuffOption("mirana","mirana_leap"),new n.prototype.BuffOption("ogre_magi","ogre_magi_bloodlust"),new n.prototype.BuffOption("omniknight","omniknight_guardian_angel"),new n.prototype.BuffOption("rubick","rubick_null_field"),new n.prototype.BuffOption("skeleton_king","skeleton_king_vampiric_aura"),new n.prototype.BuffOption("spirit_breaker","spirit_breaker_empowering_haste"),new n.prototype.BuffOption("sven","sven_warcry"),new n.prototype.BuffOption("sven","sven_gods_strength"),new n.prototype.BuffOption("treant","treant_living_armor"),new n.prototype.BuffOption("troll_warlord","troll_warlord_battle_trance"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_command_aura"),new n.prototype.BuffOption("npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new n.prototype.BuffOption("npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new n.prototype.BuffOption("npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new n.prototype.BuffOption("npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new n.prototype.BuffOption("npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new n.prototype.BuffOption("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new n.prototype.BuffOption("npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new n.prototype.BuffOption("npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new n.prototype.BuffOption("npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")]),t.availableDebuffs=i.observableArray([new n.prototype.BuffOption("abaddon","abaddon_frostmourne"),new n.prototype.BuffOption("alchemist","alchemist_acid_spray"),new n.prototype.BuffOption("ancient_apparition","ancient_apparition_ice_vortex"),new n.prototype.BuffOption("axe","axe_battle_hunger"),new n.prototype.BuffOption("bane","bane_enfeeble"),new n.prototype.BuffOption("batrider","batrider_sticky_napalm"),new n.prototype.BuffOption("beastmaster","beastmaster_primal_roar"),new n.prototype.BuffOption("bounty_hunter","bounty_hunter_jinada"),new n.prototype.BuffOption("brewmaster","brewmaster_thunder_clap"),new n.prototype.BuffOption("brewmaster","brewmaster_drunken_haze"),new n.prototype.BuffOption("bristleback","bristleback_viscous_nasal_goo"),new n.prototype.BuffOption("broodmother","broodmother_incapacitating_bite"),new n.prototype.BuffOption("centaur","centaur_stampede"),new n.prototype.BuffOption("chen","chen_penitence"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_crystal_nova"),new n.prototype.BuffOption("crystal_maiden","crystal_maiden_freezing_field"),new n.prototype.BuffOption("dazzle","dazzle_weave"),new n.prototype.BuffOption("drow_ranger","drow_ranger_frost_arrows"),new n.prototype.BuffOption("earth_spirit","earth_spirit_rolling_boulder"),new n.prototype.BuffOption("elder_titan","elder_titan_natural_order"),new n.prototype.BuffOption("elder_titan","elder_titan_earth_splitter"),new n.prototype.BuffOption("enchantress","enchantress_untouchable"),new n.prototype.BuffOption("enchantress","enchantress_enchant"),new n.prototype.BuffOption("faceless_void","faceless_void_time_walk"),new n.prototype.BuffOption("huskar","huskar_life_break"),new n.prototype.BuffOption("invoker","invoker_ghost_walk"),new n.prototype.BuffOption("invoker","invoker_ice_wall"),new n.prototype.BuffOption("wisp","wisp_tether"),new n.prototype.BuffOption("jakiro","jakiro_dual_breath"),new n.prototype.BuffOption("jakiro","jakiro_liquid_fire"),new n.prototype.BuffOption("keeper_of_the_light","keeper_of_the_light_blinding_light"),new n.prototype.BuffOption("kunkka","kunkka_torrent"),new n.prototype.BuffOption("lich","lich_frost_nova"),new n.prototype.BuffOption("lich","lich_frost_armor"),new n.prototype.BuffOption("lich","lich_chain_frost"),new n.prototype.BuffOption("life_stealer","life_stealer_open_wounds"),new n.prototype.BuffOption("lion","lion_voodoo"),new n.prototype.BuffOption("magnataur","magnataur_skewer"),new n.prototype.BuffOption("medusa","medusa_stone_gaze"),new n.prototype.BuffOption("meepo","meepo_geostrike"),new n.prototype.BuffOption("naga_siren","naga_siren_rip_tide"),new n.prototype.BuffOption("night_stalker","night_stalker_void"),new n.prototype.BuffOption("night_stalker","night_stalker_crippling_fear"),new n.prototype.BuffOption("night_stalker","night_stalker_darkness"),new n.prototype.BuffOption("ogre_magi","ogre_magi_ignite"),new n.prototype.BuffOption("omniknight","omniknight_degen_aura"),new n.prototype.BuffOption("phantom_assassin","phantom_assassin_stifling_dagger"),new n.prototype.BuffOption("phantom_lancer","phantom_lancer_spirit_lance"),new n.prototype.BuffOption("pudge","pudge_rot"),new n.prototype.BuffOption("pugna","pugna_decrepify"),new n.prototype.BuffOption("queenofpain","queenofpain_shadow_strike"),new n.prototype.BuffOption("riki","riki_smoke_screen"),new n.prototype.BuffOption("rubick","rubick_fade_bolt"),new n.prototype.BuffOption("sand_king","sandking_epicenter"),new n.prototype.BuffOption("nevermore","nevermore_dark_lord"),new n.prototype.BuffOption("shadow_shaman","shadow_shaman_voodoo"),new n.prototype.BuffOption("skeleton_king","skeleton_king_hellfire_blast"),new n.prototype.BuffOption("skeleton_king","skeleton_king_reincarnation"),new n.prototype.BuffOption("skywrath_mage","skywrath_mage_concussive_shot"),new n.prototype.BuffOption("skywrath_mage","skywrath_mage_ancient_seal"),new n.prototype.BuffOption("slardar","slardar_slithereen_crush"),new n.prototype.BuffOption("slardar","slardar_amplify_damage"),new n.prototype.BuffOption("slark","slark_essence_shift"),new n.prototype.BuffOption("sniper","sniper_shrapnel"),new n.prototype.BuffOption("spectre","spectre_spectral_dagger"),new n.prototype.BuffOption("storm_spirit","storm_spirit_overload"),new n.prototype.BuffOption("templar_assassin","templar_assassin_meld"),new n.prototype.BuffOption("tidehunter","tidehunter_gush"),new n.prototype.BuffOption("tinker","tinker_laser"),new n.prototype.BuffOption("treant","treant_leech_seed"),new n.prototype.BuffOption("tusk","tusk_frozen_sigil"),new n.prototype.BuffOption("undying","undying_flesh_golem"),new n.prototype.BuffOption("ursa","ursa_earthshock"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_wave_of_terror"),new n.prototype.BuffOption("vengefulspirit","vengefulspirit_command_aura"),new n.prototype.BuffOption("venomancer","venomancer_venomous_gale"),new n.prototype.BuffOption("venomancer","venomancer_poison_sting"),new n.prototype.BuffOption("viper","viper_poison_attack"),new n.prototype.BuffOption("viper","viper_corrosive_skin"),new n.prototype.BuffOption("viper","viper_viper_strike"),new n.prototype.BuffOption("visage","visage_grave_chill"),new n.prototype.BuffOption("warlock","warlock_upheaval"),new n.prototype.BuffOption("weaver","weaver_the_swarm"),new n.prototype.BuffOption("windrunner","windrunner_windrun"),new n.prototype.BuffOption("winter_wyvern","winter_wyvern_arctic_burn"),new n.prototype.BuffOption("winter_wyvern","winter_wyvern_splinter_blast"),new n.prototype.BuffOption("npc_dota_neutral_ghost","ghost_frost_attack"),new n.prototype.BuffOption("npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new n.prototype.BuffOption("npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new n.prototype.BuffOption("npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new n.prototype.BuffOption("npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")]),t.selectedBuff=i.observable(t.availableBuffs()[0]),t.buffs=i.observableArray([]),t.itemBuffs=new n.prototype.InventoryViewModel,t.addBuff=function(e,a){if(void 0==n.prototype.findWhere(t.buffs(),{name:t.selectedBuff().buffName})){var o=i.mapping.fromJS(t.selectedBuff().abilityData);switch(o.isActive=i.observable(!1),o.isDetail=i.observable(!1),o.baseDamage=i.observable(0),o.bash=i.observable(0),o.bashBonusDamage=i.observable(0),o.bonusDamage=i.observable(0),o.bonusDamageOrb=i.observable(0),o.bonusDamagePct=i.observable(0),o.bonusDamagePrecisionAura=i.observable(0),o.bonusDamageReduction=i.observable(0),o.bonusHealth=i.observable(0),o.bonusStrength=i.observable(0),o.bonusStrength2=i.observable(0),o.bonusAgility=i.observable(0),o.bonusAgility2=i.observable(0),o.bonusInt=i.observable(0),o.bonusAllStatsReduction=i.observable(0),o.damageAmplification=i.observable(0),o.damageReduction=i.observable(0),o.evasion=i.observable(0),o.magicResist=i.observable(0),o.manaregen=i.observable(0),o.manaregenreduction=i.observable(0),o.missChance=i.observable(0),o.movementSpeedFlat=i.observable(0),o.movementSpeedPct=i.observable(0),o.movementSpeedPctReduction=i.observable(0),o.turnRateReduction=i.observable(0),o.attackrange=i.observable(0),o.attackspeed=i.observable(0),o.attackspeedreduction=i.observable(0),o.armor=i.observable(0),o.armorReduction=i.observable(0),o.healthregen=i.observable(0),o.lifesteal=i.observable(0),o.visionnight=i.observable(0),o.visionday=i.observable(0),o.name()){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":o.level(1)}t.abilities.push(o),t.buffs.push({name:t.selectedBuff().buffName,hero:t.selectedBuff().hero,data:o})}},t.removeBuff=function(e,a,i){if(void 0!=n.prototype.findWhere(t.buffs(),{name:i})){if(t.buffs.remove(n.prototype.findWhere(t.buffs(),{name:i})),void 0!=t.abilityControlData[i]){for(var o=0;o<t.abilityControlData[i].data.length;o++)void 0!=t.abilityControlData[i].data[o].controlVal.dispose&&t.abilityControlData[i].data[o].controlVal.dispose(),void 0!=t.abilityControlData[i].data[o].clean&&t.abilityControlData[i].data[o].clean.dispose();t.abilityControlData[i]=void 0}for(var o=0;o<t.abilities().length;o++)if(t.abilities()[o].name()==i){t.abilities()[o].level(0),t.abilities.remove(t.abilities()[o]);break}}},t.toggleBuff=function(e,a,i){t.buffs()[e()].data.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(t.buffs()[e()].data.isActive()?(t.buffs()[e()].data.isActive(!1),t.abilities()[e()].isActive(!1)):(t.buffs()[e()].data.isActive(!0),t.abilities()[e()].isActive(!0)))}.bind(this),t.toggleBuffDetail=function(e,a,i){t.buffs()[e()].data.isDetail()?t.buffs()[e()].data.isDetail(!1):t.buffs()[e()].data.isDetail(!0)}.bind(this),t.levelUpAbility=function(e,a,i,n){if(t.abilities()[e()].level()<n.getAbilityLevelMax(a)){switch(t.abilities()[e()].abilitytype()){case"DOTA_ABILITY_TYPE_ULTIMATE":t.abilities()[e()].level(t.abilities()[e()].level()+1);break;default:t.abilities()[e()].level(t.abilities()[e()].level()+1)}switch(t.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),
t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level())}}},t.levelDownAbility=function(e,a,i,n){if(t.abilities()[e()].level()>0)switch(t.abilities()[e()].level(t.abilities()[e()].level()-1),t.abilities()[e()].name()){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"morphling_morph_str":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());case"nevermore_shadowraze1":t.abilities()[e()+1].level(t.abilities()[e()].level()),t.abilities()[e()+2].level(t.abilities()[e()].level());break;case"nevermore_shadowraze2":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()+1].level(t.abilities()[e()].level());break;case"nevermore_shadowraze3":t.abilities()[e()-1].level(t.abilities()[e()].level()),t.abilities()[e()-2].level(t.abilities()[e()].level());break;case"ember_spirit_fire_remnant":t.abilities()[e()-1].level(t.abilities()[e()].level());break;case"lone_druid_true_form":t.abilities()[e()-1].level(t.abilities()[e()].level())}},t}}),define("herocalc/herocalc_buffs.amplification.reduction",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.DamageAmpViewModel=function(e){var t=new n.prototype.BuffViewModel(i.observableArray([]));return t.availableBuffs=i.observableArray([new n.prototype.BuffOption("slardar","slardar_sprint"),new n.prototype.BuffOption("undying","undying_flesh_golem"),new n.prototype.BuffOption("chen","chen_penitence"),new n.prototype.BuffOption("medusa","medusa_stone_gaze"),new n.prototype.BuffOption("shadow_demon","shadow_demon_soul_catcher")]),t.availableDebuffs=i.observableArray([new n.prototype.BuffOption("medusa","medusa_mana_shield"),new n.prototype.BuffOption("spectre","spectre_dispersion"),new n.prototype.BuffOption("wisp","wisp_overcharge"),new n.prototype.BuffOption("bristleback","bristleback_bristleback"),new n.prototype.BuffOption("kunkka","kunkka_ghostship")]),t.selectedBuff=i.observable(t.availableBuffs()[0]),t.buffs=i.observableArray([]),t.getAbilityDamageAmpValue=function(e,a){var i=n.prototype.findWhere(t.buffs(),{name:e});if(void 0==i)return 0;var o=i.data;return t.getAbilityAttributeValue(o.attributes(),a,o.level())},t.getDamageMultiplierSources=i.computed(function(){for(var e={},a=0;a<t.abilities().length;a++){var i=t.abilities()[a];if(i.level()>0&&(i.isActive()||-1!=i.behavior().indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")))switch(i.name()){case"bristleback_bristleback":e[i.name()]={multiplier:i.damageReduction()/100,damageType:"physical",displayname:i.displayname()};break;case"slardar_sprint":e[i.name()]={multiplier:t.getAbilityAttributeValue(i.attributes(),"bonus_damage",i.level())/100,damageType:"physical",displayname:i.displayname()};break;case"undying_flesh_golem":e[i.name()]={multiplier:i.damageAmplification()/100,damageType:"physical",displayname:i.displayname()};break;case"medusa_stone_gaze":e[i.name()]={multiplier:t.getAbilityAttributeValue(i.attributes(),"bonus_physical_damage",i.level())/100,damageType:"physical",displayname:i.displayname()};break;case"chen_penitence":e[i.name()]={multiplier:t.getAbilityAttributeValue(i.attributes(),"bonus_damage_taken",i.level())/100,damageType:"physical",displayname:i.displayname()};break;case"shadow_demon_soul_catcher":e[i.name()]={multiplier:t.getAbilityAttributeValue(i.attributes(),"bonus_damage_taken",i.level())/100,damageType:"pure",displayname:i.displayname()};break;case"medusa_mana_shield":e[i.name()]={multiplier:i.damageReduction()/100,damageType:"physical",displayname:i.displayname()};break;case"spectre_dispersion":e[i.name()]={multiplier:-t.getAbilityAttributeValue(i.attributes(),"damage_reflection_pct",i.level())/100,damageType:"percentreduction",displayname:i.displayname()};break;case"abaddon_aphotic_shield":e[i.name()]={multiplier:t.getAbilityAttributeValue(i.attributes(),"damage_absorb",i.level()),damageType:"flatreduction",displayname:i.displayname()};break;case"kunkka_ghostship":e[i.name()]={multiplier:-0.5,damageType:"percentreduction",displayname:i.displayname()};break;case"wisp_overcharge":e[i.name()]={multiplier:t.getAbilityAttributeValue(i.attributes(),"bonus_damage_pct",i.level())/100,damageType:"percentreduction",displayname:i.displayname()}}}return e}),t}}),define("herocalc/herocalc_buildexplorer",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.GraphPropertyOption=function(e,t){this.id=e,this.label=t},n.prototype.BuildExplorerViewModel=function(e){var t=this;t.parent=e,t.itemBuild=i.observableArray([]),t.skillBuild=i.observableArray([]),t.graphDataItemRows=[];for(var a=0;25>a;a++)t.itemBuild.push(new n.prototype.BasicInventoryViewModel),t.itemBuild()[a].carryOver=i.observable(!0),t.skillBuild.push(i.observable(-1)),t.graphDataItemRows.push(i.observable(!1));return t.toggleItemBuildCarryOver=function(e){t.itemBuild()[e].carryOver(!t.itemBuild()[e].carryOver())},t.abilityMapData=[0,1,2,3,4],t.abilityMapHero=t.parent.selectedHero().heroName,t.abilityMap=i.computed(function(){if(t.abilityMapHero!=t.parent.selectedHero().heroName){t.abilityMapHero=t.parent.selectedHero().heroName;for(var e=t.parent.ability().abilities().map(function(e,a){return t.parent.ability().isQWER(e)?a:-1}).filter(function(e){return-1!=e}),a=0;25>a;a++){var i=t.skillBuild()[a]();if(-1!=i){var n=t.abilityMapData.indexOf(i),o=e[n];o!=i&&t.skillBuild()[a](o)}}t.abilityMapData=e}}),t.availableSkillBuildPoints=i.computed(function(){return t.skillBuild().reduce(function(e,t){return e+(-1==t())},0)}),t.getSkillBuildAbilityLevel=function(e){return t.skillBuild().reduce(function(t,a){return t+(a()==e)},0)},t.toggleAbilitySkillBuild=function(e,a,i,n){if(t.skillBuild()[e]()!=a){var o=t.parent.ability().abilities()[a],s=(o.abilitytype(),t.skillBuild().slice(0,e)),l=(t.skillBuild().reduce(function(e,t){return e+(t()==a)},0),s.reduce(function(e,t){return e+(t()==a)},0));if(t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,e+1,l)){t.skillBuild()[e](a);for(var r=e+1;25>r;r++)t.skillBuild()[r]()==a&&(l++,t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,r+1,l)||(t.skillBuild()[r](-1),l--))}else if(l>0&&t.IsValidAbilityLevel(o,t.parent.selectedHero().heroName,e+1,l-1))for(var r=s.length-1;r>=0;r--)if(s[r]()==a){t.skillBuild()[r](-1),t.skillBuild()[e](a);break}}else t.skillBuild()[e](-1)},t.IsValidAbilityLevel=function(e,t,a,i){var n=1,o=2,s=4;return"attribute_bonus"==e.name()?s=10:"DOTA_ABILITY_TYPE_ULTIMATE"==e.abilitytype()?"invoker"==t?(n=2,o=5):"meepo"==t?(n=3,o=7,s=3):(n=6,o=5,s=3):"invoker"==t&&(s=7),a>=n+o*i&&s>i},t.resetItemBuild=function(e){t.itemBuild()[e].removeAll()},t.resetAllItemBuilds=function(){for(var e=0;25>e;e++)t.itemBuild()[e].removeAll(),t.itemBuild()[e].carryOver(!0)},t.resetSkillBuild=function(){for(var e=0;25>e;e++)t.skillBuild()[e](-1)},t.graphData=i.observableArray([]),t.graphDataHeader=i.observable(t.parent.selectedHero().heroDisplayName),t.parent.selectedHero.subscribe(function(e){t.graphDataHeader(t.parent.selectedHero().heroDisplayName)}),t.graphDataDescription=i.observable(""),t.graphProperties=i.observableArray([new n.prototype.GraphPropertyOption("totalArmorPhysical","Armor"),new n.prototype.GraphPropertyOption("totalArmorPhysicalReduction","Physical Damage Reduction"),new n.prototype.GraphPropertyOption("totalMagicResistance","Magical Resistance"),new n.prototype.GraphPropertyOption("health","Health"),new n.prototype.GraphPropertyOption("healthregen","Health Regeneration"),new n.prototype.GraphPropertyOption("mana","Mana"),new n.prototype.GraphPropertyOption("manaregen","Mana Regeneration"),new n.prototype.GraphPropertyOption("ehpPhysical","EHP Physical"),new n.prototype.GraphPropertyOption("ehpMagical","EHP Magical"),new n.prototype.GraphPropertyOption("damage","Damage per attack"),new n.prototype.GraphPropertyOption("dps","Damage per second"),new n.prototype.GraphPropertyOption("attacksPerSecond","Attacks per second"),new n.prototype.GraphPropertyOption("attackTime","Time per attack")]),t.graph=function(){for(var e=[],a=t.parent.selectedHeroLevel(),n=t.parent.inventory.items(),o=t.parent.inventory.activeItems(),s=i.toJS(t.skillBuild),l=[],r=[],d=[],c=0;c<t.parent.ability().abilities().length;c++)e.push(t.parent.ability().abilities()[c].level());for(var c=1;26>c;c++){t.parent.selectedHeroLevel(c);for(var u=s.slice(0,c),p=0;p<t.parent.ability().abilities().length;p++){var m=t.parent.ability().abilities()[p],b=u.reduce(function(e,t){return e+(t==p)},0);m.level(b)}t.itemBuild()[c-1].carryOver()||(l=[],r=[]),l=l.concat(t.itemBuild()[c-1].items()),r=r.concat(t.itemBuild()[c-1].activeItems()),t.parent.inventory.items(l),t.parent.inventory.activeItems(r);for(var h={},p=0;p<t.graphProperties().length;p++){var g=t.graphProperties()[p];switch(g.id){case"dps":h[g.id]=t.parent.damageTotalInfo().dps.total.toFixed(2);break;case"damage":h[g.id]=t.parent.damageTotalInfo().total.toFixed(2);break;default:h[g.id]=t.parent[g.id]()}}h.items=l.map(function(e){return i.toJS(e)}),d.push(h),l>0&&t.graphDataItemRows[c-1](!0)}for(var f={header:t.graphDataHeader(),description:t.graphDataDescription(),items:t.parent.inventory.items().map(function(e){return i.toJS(e)}),skillBuild:i.toJS(t.skillBuild),data:d,abilityMap:t.abilityMapData.slice(0),cumulativeSkillBuild:[],visible:i.observable(!0)},c=0;25>c;c++){for(var v=[],_=f.skillBuild.slice(0,c+1),p=0;p<f.abilityMap.length;p++){var y=f.abilityMap[p];v.push(_.reduce(function(e,t){return e+(t==y)},0))}f.cumulativeSkillBuild.push(v)}t.graphData.push(f),t.parent.selectedHeroLevel(a);for(var c=0;c<t.parent.ability().abilities().length;c++)t.parent.ability().abilities()[c].level(e[c]);t.parent.inventory.items(n),t.parent.inventory.activeItems(o)},t.removeGraphDataSet=function(e){t.graphData.remove(e)},t.selectedGraphProperty=i.observable(t.graphProperties()[0].id),t.graphChartOptions=i.computed(function(){var e="dark"==n.prototype.theme()?"rgb(151, 154, 162)":"rgb(51, 51, 51)";return{responsive:!0,datasetStroke:!1,datasetStrokeWidth:-1,datasetFill:!1,pointHitDetectionRadius:10,scaleFontColor:e,scaleLineColor:e.replace("rgb","rgba").replace(")",", .1)"),scaleGridLineColor:e.replace("rgb","rgba").replace(")",", .1)")}}),t.graphChartData=i.computed(function(){for(var e={labels:[],datasets:[]},a=0;25>a;a++)e.labels.push((a+1).toString());for(var a=0;a<t.graphData().length;a++){var i=t.graphData()[a],n={label:i.header,fillColor:t.graphDistinctColor(t.graphData().length,a,.1),strokeColor:t.graphDistinctColor(t.graphData().length,a,1),pointColor:t.graphDistinctColor(t.graphData().length,a,1),pointStrokeColor:t.graphDistinctColor(t.graphData().length,a,1),pointHighlightFill:t.graphDistinctColor(t.graphData().length,a,.1),pointHighlightStroke:t.graphDistinctColor(t.graphData().length,a,.5),data:i.data.map(function(e){return e[t.selectedGraphProperty()]})};e.datasets.push(n)}return e}),t.graphDistinctColor=function(e,a,i){var i=i||1,n=t.hslToRgb(1/e*a%1,1,.5);return n.push(i),"rgba("+n.join()+")"},t.getDistinctColor=function(e,a,i){var i=i||1;return rgba=t.hslToRgb(1/e*a%1,1,.5),rgba.push(i),rgba},t.hslToRgb=function(e,t,a){var i,n,o;if(0==t)i=n=o=a;else{var s=function(e,t,a){return 0>a&&(a+=1),a>1&&(a-=1),1/6>a?e+6*(t-e)*a:.5>a?t:2/3>a?e+(t-e)*(2/3-a)*6:e},l=.5>a?a*(1+t):a+t-a*t,r=2*a-l;i=s(r,l,e+1/3),n=s(r,l,e),o=s(r,l,e-1/3)}return[Math.round(255*i),Math.round(255*n),Math.round(255*o)]},t.showGraphItemBuildRows=i.observable(!1),t.showGraphSkillBuildColumns=i.observable(!1),t.graphRowHasItems=function(e){return t.graphData().some(function(t){return t.visible()&&t.data[e].items.length>0})},t.selectInventory=function(e){t.parent.selectedInventory(t.parent.selectedInventory()==e?-1:e)},t.getSelectedInventory=i.pureComputed(function(){return-1==t.parent.selectedInventory()?t.parent.inventory:t.itemBuild()[t.parent.selectedInventory()]}),t.copyInventory=function(e){-1!=t.parent.selectedInventory()&&t.parent.selectedInventory()!=e&&(t.itemBuild()[t.parent.selectedInventory()].items(t.itemBuild()[t.parent.selectedInventory()].items().concat(t.itemBuild()[e].items())),t.itemBuild()[t.parent.selectedInventory()].activeItems(n.prototype.union(t.itemBuild()[t.parent.selectedInventory()].activeItems(),t.itemBuild()[e].activeItems())))},t.copyInventoryToClipBoard=function(e){-1==e?(n.prototype.inventoryClipBoard.items=t.parent.inventory.items.slice(0),n.prototype.inventoryClipBoard.activeItems=t.parent.inventory.activeItems.slice(0)):(n.prototype.inventoryClipBoard.items=t.itemBuild()[e].items.slice(0),n.prototype.inventoryClipBoard.activeItems=t.itemBuild()[e].activeItems.slice(0))},t.pasteInventoryFromClipBoard=function(e){n.prototype.inventoryClipBoard.items.length>0&&(-1==e?(t.parent.inventory.items(t.parent.inventory.items().concat(n.prototype.inventoryClipBoard.items)),t.parent.inventory.activeItems(n.prototype.union(t.parent.inventory.activeItems(),n.prototype.inventoryClipBoard.activeItems))):(t.itemBuild()[e].items(t.itemBuild()[e].items().concat(n.prototype.inventoryClipBoard.items)),t.itemBuild()[e].activeItems(n.prototype.union(t.itemBuild()[e].activeItems(),n.prototype.inventoryClipBoard.activeItems))))},t.loadGraphData=function(e){t.parent.sectionDisplay().skillbuild(!0);for(var a=0;a<e.length;a++)e[a].visible=i.observable(e[a].visible);t.graphData(e)},t.graphChartContext=i.observable(),t.exportImage=function(){var e=window.open();e.document.write('<img src="'+t.graphChartContext().canvas.toDataURL()+'"/>')},t}}),define("herocalc/herocalc_hero",["require","exports","module","herocalc_knockout","jquery","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("jquery"),o=e("./herocalc_core").HEROCALCULATOR;o.prototype.totalExp=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400],o.prototype.nextLevelExp=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"],o.prototype.diffProperties=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","critDamage","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"],o.prototype.HeroOptions=[],o.prototype.IllusionOption=function(e,t,a){this.illusionName=e,this.illusionDisplayName=t,this.baseHero=a},o.prototype.HeroOption=function(e,t,a){this.heroName=e,this.heroDisplayName=t,this.hero=a},o.prototype.HeroOption2=function(e){this.heroName=i.computed(function(){return e.selectedHero().heroName}),this.heroDisplayName=i.computed(function(){return e.selectedHero().heroDisplayName}),this.hero=e},o.prototype.DamageInstance=function(e,t,a,i,n){this.label=e||"",this.damageType=t||"",this.value=parseFloat(a)||0,this.data=i||[],this.total=parseFloat(n)||0},o.prototype.createIllusionOptions=function(){var e=[];for(var t in o.prototype.illusionData)e.push(new o.prototype.IllusionOption(t,o.prototype.illusionData[t].displayName,o.prototype.illusionData[t].hero));return e},o.prototype.HeroCalculatorModel=function(e){var t=this;t.index=i.observable(e),t.bound=i.observable(!1),t.playerColorCss=i.computed(function(){return"player-color-"+t.index()}),t.otherHeroes=i.observableArray([]),t.availableCompare=i.computed(function(){return t.otherHeroes().map(function(e){return e.heroOption})}),t.selectedCompare=i.observable(),t.selectedCompare.subscribe(function(e){t.heroCompare(e.hero)}),t.enemies=i.observableArray([]),t.availableEnemies=i.computed(function(){return t.enemies().map(function(e){return e.heroOption})}),t.selectedEnemy=i.observable(),t.selectedEnemy.subscribe(function(e){t.enemy(e.hero)}),t.setHeroOptionStyling=function(e,t){i.applyBindingsToNode(e,{css:t.hero.playerColorCss()},t)},t.availableHeroes=i.observableArray(o.prototype.HeroOptions),t.sectionDisplay=i.observable({inventory:i.observable(!0),ability:i.observable(!0),buff:i.observable(!0),debuff:i.observable(!0),damageamp:i.observable(!1),illusion:i.observable(!1),skillbuild:i.observable(!1),"skillbuild-skills":i.observable(!0),"skillbuild-items":i.observable(!0)}),t.sectionDisplayToggle=function(e){t.sectionDisplay()[e](!t.sectionDisplay()[e]())},t.showUnitTab=i.observable(!1),t.availableHeroes.sort(function(e,t){return e.heroDisplayName==t.heroDisplayName?0:e.heroDisplayName<t.heroDisplayName?-1:1}),t.selectedHero=i.observable(t.availableHeroes()[e]),t.heroOption=new o.prototype.HeroOption2(t),t.selectedHeroLevel=i.observable(1),t.inventory=new o.prototype.InventoryViewModel(t),t.selectedInventory=i.observable(-1),t.buffs=new o.prototype.BuffViewModel,t.buffs.hasScepter=t.inventory.hasScepter,t.debuffs=new o.prototype.BuffViewModel,t.damageAmplification=new o.prototype.DamageAmpViewModel,t.damageReduction=new o.prototype.DamageAmpViewModel,t.hero=i.computed(function(){return i.mapping.fromJS(o.prototype.heroData["npc_dota_hero_"+t.selectedHero().heroName])}),t.heroData=i.computed(function(){return o.prototype.heroData["npc_dota_hero_"+t.selectedHero().heroName]}),t.heroCompare=i.observable(t),t.enemy=i.observable(t),t.unit=i.observable(t),t.clone=i.observable(t),t.illusions=i.observableArray([]),t.availableIllusions=i.observableArray(o.prototype.createIllusionOptions()),t.selectedIllusion=i.observable(t.availableIllusions()[0]),t.illusionAbilityLevel=i.observable(1),t.illusionAbilityMaxLevel=i.computed(function(){return o.prototype.illusionData[t.selectedIllusion().illusionName].max_level}),t.showDiff=i.observable(!1),t.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype()?10:"invoker_quas"===e.name()||"invoker_wex"===e.name()||"invoker_exort"===e.name()?7:"invoker_invoke"===e.name()?4:"earth_spirit_stone_caller"===e.name()||"ogre_magi_unrefined_fireblast"===e.name()?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype()||"keeper_of_the_light_recall"===e.name()||"keeper_of_the_light_blinding_light"===e.name()||"ember_spirit_activate_fire_remnant"===e.name()||"lone_druid_true_form_battle_cry"===e.name()?3:"puck_ethereal_jaunt"===e.name()||"shadow_demon_shadow_poison_release"===e.name()||"templar_assassin_trap"===e.name()||"spectre_reality"===e.name()?0:"invoker_cold_snap"===e.name()||"invoker_ghost_walk"===e.name()||"invoker_tornado"===e.name()||"invoker_emp"===e.name()||"invoker_alacrity"===e.name()||"invoker_chaos_meteor"===e.name()||"invoker_sun_strike"===e.name()||"invoker_forge_spirit"===e.name()||"invoker_ice_wall"===e.name()||"invoker_deafening_blast"===e.name()?0:"techies_minefield_sign"===e.name()||"techies_focused_detonate"===e.name()?0:4},t.skillPointHistory=i.observableArray(),t.ability=i.computed(function(){var e=new o.prototype.AbilityModel(i.mapping.fromJS(t.heroData().abilities),t);if("earth_spirit"===t.selectedHero().heroName||"ogre_magi"===t.selectedHero().heroName)e.abilities()[3].level(1);else if("invoker"===t.selectedHero().heroName)for(var a=6;16>a;a++)e.abilities()[a].level(1);return t.skillPointHistory.removeAll(),e.hasScepter=t.inventory.hasScepter,e}),t.showCriticalStrikeDetails=i.observable(!1),t.damageInputValue=i.observable(0),t.showDamageDetails=i.observable(!1),t.showStatDetails=i.observable(!1),t.showDamageAmpCalcDetails=i.observable(!1),t.availableSkillPoints=i.computed(function(){for(var e=t.selectedHeroLevel(),a=0;a<t.ability().abilities().length;a++){var i=function(){return a};switch(t.ability().abilities()[a].abilitytype()){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===t.selectedHero().heroName)for(;1==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<2||2==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<7||3==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<11||4==t.ability().abilities()[a].level()&&parseInt(t.selectedHeroLevel())<17;)t.ability().levelDownAbility(i,null,null,t);else if("meepo"===t.selectedHero().heroName)for(;7*(t.ability().abilities()[a].level()-1)+3>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(i,null,null,t);else for(;5*t.ability().abilities()[a].level()+1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(i,null,null,t);break;default:for(;2*t.ability().abilities()[a].level()-1>parseInt(t.selectedHeroLevel());)t.ability().levelDownAbility(i,null,null,t)}}for(var i=function(){return t.skillPointHistory()[t.skillPointHistory().length-1]};t.skillPointHistory().length>e;)t.ability().levelDownAbility(i,null,null,t);return e-t.skillPointHistory().length},this),t.primaryAttribute=i.pureComputed(function(){var e=t.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),t.totalExp=i.pureComputed(function(){return o.prototype.totalExp[t.selectedHeroLevel()-1]}),t.nextLevelExp=i.pureComputed(function(){return o.prototype.nextLevelExp[t.selectedHeroLevel()-1]}),t.startingArmor=i.pureComputed(function(){return(.14*t.heroData().attributebaseagility+t.heroData().armorphysical).toFixed(2)}),t.respawnTime=i.pureComputed(function(){return 5+3.8*t.selectedHeroLevel()}),t.totalAttribute=function(e){return"agi"===e?parseFloat(t.totalAgi()):"int"===e?parseFloat(t.totalInt()):"str"===e?parseFloat(t.totalStr()):0},t.totalAgi=i.pureComputed(function(){return(t.heroData().attributebaseagility+t.heroData().attributeagilitygain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("agi")+2*t.ability().getAttributeBonusLevel()+t.ability().getAgility()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.intStolen=i.observable(0).extend({numeric:0}),t.totalInt=i.pureComputed(function(){return(t.heroData().attributebaseintelligence+t.heroData().attributeintelligencegain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("int")+2*t.ability().getAttributeBonusLevel()+t.ability().getIntelligence()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()+t.intStolen()).toFixed(2)}),t.totalStr=i.pureComputed(function(){return(t.heroData().attributebasestrength+t.heroData().attributestrengthgain*(t.selectedHeroLevel()-1)+t.inventory.getAttributes("str")+2*t.ability().getAttributeBonusLevel()+t.ability().getStrength()+t.enemy().ability().getStrengthReduction()+t.enemy().ability().getAllStatsReduction()+t.debuffs.getAllStatsReduction()).toFixed(2)}),t.health=i.pureComputed(function(){return(t.heroData().statushealth+20*Math.floor(t.totalStr())+t.inventory.getHealth()+t.ability().getHealth()).toFixed(2)}),t.healthregen=i.pureComputed(function(){var e=[t.inventory.getHealthRegenAura,t.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(t.heroData().statushealthregen+.03*t.totalStr()+t.inventory.getHealthRegen()+t.ability().getHealthRegen()+t.buffs.getHealthRegen()+e.value).toFixed(2)}),t.mana=i.pureComputed(function(){return(t.heroData().statusmana+12*t.totalInt()+t.inventory.getMana()+t.ability().getMana()).toFixed(2)}),t.manaregen=i.pureComputed(function(){return((t.heroData().statusmanaregen+.04*t.totalInt()+t.ability().getManaRegen())*(1+t.inventory.getManaRegenPercent())+("crystal_maiden"===t.selectedHero().heroName?2*t.ability().getManaRegenArcaneAura():t.buffs.getManaRegenArcaneAura())+t.inventory.getManaRegenBloodstone()+t.inventory.getManaRegen()-t.enemy().ability().getManaRegenReduction()).toFixed(2)}),t.totalArmorPhysical=i.pureComputed(function(){var e=[t.inventory.getArmorAura,t.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var a=t(e.attributes);return a},{value:0,attributes:[]}),a=[t.enemy().inventory.getArmorReduction,t.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(t.enemy().ability().getArmorBaseReduction()*t.debuffs.getArmorBaseReduction()*(t.heroData().armorphysical+.14*t.totalAgi())+t.inventory.getArmor()+t.ability().getArmor()+t.enemy().ability().getArmorReduction()+t.buffs.getArmor()+t.buffs.itemBuffs.getArmor()+t.debuffs.getArmorReduction()+e.value+a.value).toFixed(2)}),t.totalArmorPhysicalReduction=i.pureComputed(function(){var e=t.totalArmorPhysical();return e>=0?(.06*t.totalArmorPhysical()/(1+.06*t.totalArmorPhysical())*100).toFixed(2):-(.06*-t.totalArmorPhysical()/(1+.06*-t.totalArmorPhysical())*100).toFixed(2)}),t.totalMovementSpeed=i.pureComputed(function(){var e=100,a=t.ability().setMovementSpeed()>0?t.ability().setMovementSpeed():t.buffs.setMovementSpeed();if(a>0)return a;var i=[t.inventory.getMovementSpeedPercent,t.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),n=[t.enemy().inventory.getMovementSpeedPercentReduction,t.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return Math.max(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?140:(t.heroData().movementspeed+t.inventory.getMovementSpeedFlat()+t.ability().getMovementSpeedFlat())*(1+i.value+n.value+t.ability().getMovementSpeedPercent()+t.enemy().ability().getMovementSpeedPercentReduction()+t.buffs.getMovementSpeedPercent()+t.debuffs.getMovementSpeedPercentReduction()+t.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),t.totalTurnRate=i.pureComputed(function(){return(t.heroData().movementturnrate*(1+t.enemy().ability().getTurnRateReduction()+t.debuffs.getTurnRateReduction())).toFixed(2)}),t.baseDamage=i.pureComputed(function(){var e=t.totalAttribute(t.primaryAttribute()),a=t.ability().getBaseDamage(),i=t.heroData().attackdamagemin,n=t.heroData().attackdamagemax;return[Math.floor((i+e+a.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*a.multiplier),Math.floor((n+e+a.total)*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()*a.multiplier)]}),t.bonusDamage=i.pureComputed(function(){return(t.inventory.getBonusDamage().total+t.ability().getBonusDamage().total+t.buffs.getBonusDamage().total+Math.floor((t.baseDamage()[0]+t.baseDamage()[1])/2*(t.buffs.itemBuffs.getBonusDamagePercent(t.inventory.getBonusDamagePercent()).total+t.ability().getBonusDamagePercent().total+t.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==t.hero().attacktype()?"drow_ranger"==t.selectedHero().heroName?t.ability().getBonusDamagePrecisionAura().total[0]*t.totalAgi():t.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==t.selectedHero().heroName?t.ability().getBonusDamageBackstab().total[0]*t.totalAgi():0))*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct()}),t.bonusDamageReduction=i.pureComputed(function(){return Math.abs(t.enemy().ability().getBonusDamageReduction()+t.debuffs.getBonusDamageReduction())}),t.damage=i.pureComputed(function(){return[t.baseDamage()[0]+t.bonusDamage()[0],t.baseDamage()[1]+t.bonusDamage()[1]]}),t.totalMagicResistanceProduct=i.pureComputed(function(){return(1-t.heroData().magicalresistance/100)*t.inventory.getMagicResist()*t.ability().getMagicResist()*t.buffs.getMagicResist()*t.inventory.getMagicResistReductionSelf()*t.enemy().inventory.getMagicResistReduction()*t.enemy().ability().getMagicResistReduction()*t.debuffs.getMagicResistReduction()*t.debuffs.itemBuffs.getMagicResistReduction()}),t.totalMagicResistance=i.pureComputed(function(){return(100*(1-t.totalMagicResistanceProduct())).toFixed(2)}),t.bat=i.pureComputed(function(){var e=t.ability().getBAT();return e>0?e:t.heroData().attackrate}),t.ias=i.pureComputed(function(){var e=[t.inventory.getAttackSpeed,t.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),a=[t.enemy().inventory.getAttackSpeedReduction,t.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),i=parseFloat(t.totalAgi())+e.value+a.value+t.ability().getAttackSpeed()+t.enemy().ability().getAttackSpeedReduction()+t.buffs.getAttackSpeed()+t.debuffs.getAttackSpeedReduction()+t.unit().ability().getAttackSpeed();return-80>i?-80:i>500?500:i.toFixed(2)}),t.attackTime=i.pureComputed(function(){return(t.bat()/(1+t.ias()/100)).toFixed(2)}),t.attacksPerSecond=i.pureComputed(function(){return((1+t.ias()/100)/t.bat()).toFixed(2)}),t.evasion=i.pureComputed(function(){if(t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped())return 0;var e=t.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-t.inventory.getEvasion()*t.ability().getEvasion()*t.ability().getEvasionBacktrack()*t.buffs.itemBuffs.getEvasion())).toFixed(2)}),t.ehpPhysical=i.pureComputed(function(){var e=t.enemy().inventory.isSheeped()||t.debuffs.itemBuffs.isSheeped()?1:t.inventory.getEvasion()*t.ability().getEvasion()*t.buffs.itemBuffs.getEvasion();if(t.totalArmorPhysical()>=0)var a=t.health()*(1+.06*t.totalArmorPhysical());else var a=t.health()*(1-.06*t.totalArmorPhysical())/(1-.12*t.totalArmorPhysical());return a/=1-(1-e*t.ability().getEvasionBacktrack()),a/=1-parseFloat(t.enemy().missChance())/100,a*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,a*=1/t.ability().getDamageReduction(),a*=1/t.buffs.getDamageReduction(),a*=1/t.enemy().ability().getDamageAmplification(),a*=1/t.debuffs.getDamageAmplification(),a.toFixed(2)}),t.ehpMagical=i.pureComputed(function(){var e=t.health()/t.totalMagicResistanceProduct();return e*=t.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/t.ability().getDamageReduction(),e*=1/t.buffs.getDamageReduction(),e*=1/t.ability().getEvasionBacktrack(),e*=1/t.enemy().ability().getDamageAmplification(),e*=1/t.debuffs.getDamageAmplification(),e.toFixed(2)}),t.bash=i.pureComputed(function(){var e=t.heroData().attacktype;return(100*(1-t.inventory.getBash(e)*t.ability().getBash())).toFixed(2)}),t.cleaveInfo=i.pureComputed(function(){function e(e,t){return e.radius<t.radius?1:e.radius>t.radius?-1:0}var a=t.inventory.getCleaveSource();n.extend(a,t.ability().getCleaveSource()),n.extend(a,t.buffs.getCleaveSource());var i=[];for(var o in a){var s=a[o];s.name=o,i.push(s)}i.sort(e);for(var l={},r=0;r<i.length;r++){for(var d=0,c=0;c<i.length;c++)i[c].radius>=i[r].radius&&(d+=i[c].magnitude*i[c].count);l[i[r].radius]=d}var u=[];for(var o in l)u.push({radius:o,magnitude:l[o]});return u}),t.critChance=i.pureComputed(function(){return(100*(1-t.inventory.getCritChance()*t.ability().getCritChance())).toFixed(2)}),t.critInfo=i.pureComputed(function(){function e(e,t){return e.multiplier<t.multiplier?1:e.multiplier>t.multiplier?-1:0}var a=t.inventory.getCritSource();n.extend(a,t.ability().getCritSource()),
n.extend(a,t.buffs.getCritSource());var i=[];for(var o in a){var s=a[o];s.name=o,i.push(s)}i.sort(e);for(var l=[],r=0,d=0;d<i.length;d++){for(var c=1,u=0;d>u;u++)for(var p=0;p<i[u].count;p++)c*=1-i[u].chance;for(var m=1,p=0;p<i[d].count;p++)m*=1-i[d].chance;c*=1-m,r+=c,i[d].count>1?l.push({name:i[d].displayname+" x"+i[d].count,chance:i[d].chance,multiplier:i[d].multiplier,count:i[d].count,totalchance:c}):l.push({name:i[d].displayname,chance:i[d].chance,multiplier:i[d].multiplier,count:i[d].count,totalchance:c})}return{sources:l,total:r}}),t.bashInfo=i.pureComputed(function(){var e=t.heroData().attacktype,a=t.inventory.getBashSource(e);n.extend(a,t.ability().getBashSource());var i=[];for(var o in a){var s=a[o];s.name=o,i.push(s)}for(var l=[],r=0,d=0;d<i.length;d++){for(var c=1,u=0;d>u;u++)for(var p=0;p<i[u].count;p++)c*=1-i[u].chance;for(var m=1,p=0;p<i[d].count;p++)m*=1-i[d].chance;if(c*=1-m,r+=c,"spirit_breaker_greater_bash"===i[d].name)var b=i[d].damage*t.totalMovementSpeed();else var b=i[d].damage;i[d].count>1?l.push({name:i[d].displayname+" x"+i[d].count,chance:i[d].chance,damage:b,count:i[d].count,damageType:i[d].damageType,totalchance:c}):l.push({name:i[d].displayname,chance:i[d].chance,damage:b,count:i[d].count,damageType:i[d].damageType,totalchance:c})}return{sources:l,total:r}}),t.orbProcInfo=i.pureComputed(function(){function e(e,t){return e.priority>t.priority?1:e.priority<t.priority?-1:e.damage<t.damage?1:e.damage>t.damage?-1:0}var a=(t.heroData().attacktype,t.inventory.getOrbProcSource()),i=[];for(var n in a){var o=a[n];o.name=n,i.push(o)}i.sort(e);for(var s=[],l=0,r=0;r<i.length;r++){for(var d=1,c=0;r>c;c++)for(var u=0;u<i[c].count;u++)d*=1-i[c].chance;for(var p=1,u=0;u<i[r].count;u++)p*=1-i[r].chance;d*=1-p,l+=d,i[r].count>1?s.push({name:i[r].displayname+" x"+i[r].count,chance:i[r].chance,damage:i[r].damage,count:i[r].count,damageType:i[r].damageType,totalchance:d}):s.push({name:i[r].displayname,chance:i[r].chance,damage:i[r].damage,count:i[r].count,damageType:i[r].damageType,totalchance:d})}return{sources:s,total:l}}),t.getReducedDamage=function(e,a){var i=e;switch(a){case"physical":i=e*(1-.06*t.enemy().totalArmorPhysical()/(1+.06*Math.abs(t.enemy().totalArmorPhysical())));break;case"magic":i=e*(1-t.enemy().totalMagicResistance()/100);break;case"pure":i=e;break;case"composite":i=e*(1-.06*t.enemy().totalArmorPhysical()/(1+.06*Math.abs(t.enemy().totalArmorPhysical()))),i*=1-t.enemy().totalMagicResistance()/100}return i*=t.ability().getDamageAmplification()*t.debuffs.getDamageAmplification(),i*=t.enemy().ability().getDamageReduction()*t.enemy().buffs.getDamageReduction()},t.damageTotalInfo=i.pureComputed(function(){var e=[t.ability().getBonusDamage().sources,t.buffs.getBonusDamage().sources],a=[t.ability().getBonusDamagePercent().sources,t.buffs.getBonusDamagePercent().sources],i=t.inventory.getBonusDamage().sources,n=t.buffs.itemBuffs.getBonusDamagePercent(t.inventory.getBonusDamagePercent()).sources,o=t.critInfo(),s=t.ability().getOrbSource(),l=t.inventory.getOrbSource(),r=t.orbProcInfo(),d=t.bashInfo(),c=(t.baseDamage()[0]+t.baseDamage()[1])/2,u=c,p=c,m=0,b={damage:0,damageReduced:0,cooldown:6,active:!1},h={pure:0,physical:c,magic:0},g=[],f=[];for(_ in i){var v=i[_].damage*i[_].count*t.ability().getSelfBaseDamageReductionPct()*t.enemy().ability().getBaseDamageReductionPct()*t.debuffs.itemBuffs.getBaseDamageReductionPct();g.push({name:i[_].displayname+(i[_].count>1?" x"+i[_].count:""),damage:v,damageType:i[_].damageType,damageReduced:t.getReducedDamage(v,i[_].damageType)}),u+=v,p+=v,h[i[_].damageType]+=v}for(_ in n){var v=c*n[_].damage;g.push({name:n[_].displayname,damage:v,damageType:n[_].damageType,damageReduced:t.getReducedDamage(v,n[_].damageType)}),u+=v,p+=v,h[n[_].damageType]+=v}for(var _=0;_<e.length;_++)for(j in e[_]){var v=e[_][j].damage;g.push({name:e[_][j].displayname,damage:v,damageType:e[_][j].damageType,damageReduced:t.getReducedDamage(v,e[_][j].damageType)}),u+=v,p+=v,h[e[_][j].damageType]+=v}for(var _=0;_<a.length;_++)for(j in a[_]){var v=c*a[_][j].damage;g.push({name:a[_][j].displayname,damage:v,damageType:a[_][j].damageType,damageReduced:t.getReducedDamage(v,a[_][j].damageType)}),u+=v,p+=v,h[a[_][j].damageType]+=v}if("DOTA_UNIT_CAP_RANGED_ATTACK"===t.hero().attacktype()){if("drow_ranger"===t.selectedHero().heroName)var y=t.ability().getBonusDamagePrecisionAura().sources,A=0;else var y=t.buffs.getBonusDamagePrecisionAura().sources,A=1;if(void 0!=y[A]){if("drow_ranger"===t.selectedHero().heroName)var v=y[A].damage*t.totalAgi();else var v=y[A].damage;g.push({name:y[A].displayname,damage:v,damageType:"physical",damageReduced:t.getReducedDamage(v,"physical")}),u+=v,p+=v,h.physical+=v}}if("riki"===t.selectedHero().heroName)var y=t.ability().getBonusDamageBackstab().sources,A=0;else var y=t.buffs.getBonusDamageBackstab().sources,A=1;if(void 0!=y[A]){if("riki"===t.selectedHero().heroName)var v=y[A].damage*t.totalAgi();else var v=y[A].damage;g.push({name:y[A].displayname,damage:v,damageType:"physical",damageReduced:t.getReducedDamage(v,"physical")}),u+=v,h.physical+=v}if("weaver"===t.selectedHero().heroName){var x=t.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name()});if(x&&x.level()>0){var T=x.cooldown()[x.level()-1],v=h.physical;g.push({name:x.displayname()+" every "+T+" seconds",damage:v,damageType:"physical",damageReduced:t.getReducedDamage(v,"physical")}),b.damage+=v,b.damageReduced+=t.getReducedDamage(v,"physical"),b.cooldown=T,b.active=!0}}for(var _=0;_<d.sources.length;_++){var v=d.sources[_].damage*d.sources[_].chance*d.sources[_].count;g.push({name:d.sources[_].name,damage:v,damageType:d.sources[_].damageType,damageReduced:t.getReducedDamage(v,d.sources[_].damageType)}),u+=v,h[d.sources[_].damageType]+=v}for(var _=0;_<r.sources.length;_++){var v=r.sources[_].damage*(1-Math.pow(1-r.sources[_].chance,r.sources[_].count));g.push({name:r.sources[_].name,damage:v,damageType:r.sources[_].damageType,damageReduced:t.getReducedDamage(v,r.sources[_].damageType)}),u+=v,h[r.sources[_].damageType]+=v}for(orb in s){var v=s[orb].damage*(1-r.total);g.push({name:s[orb].displayname,damage:v,damageType:s[orb].damageType,damageReduced:t.getReducedDamage(v,s[orb].damageType)}),u+=v,h[s[orb].damageType]+=v}if(0===Object.keys(s).length)for(orb in l){var v=l[orb].damage*(1-r.total);g.push({name:l[orb].displayname,damage:v,damageType:l[orb].damageType,damageReduced:t.getReducedDamage(v,l[orb].damageType)}),u+=v,h[l[orb].damageType]+=v}for(var _=0;_<o.sources.length;_++){var v=p*(o.sources[_].multiplier-1)*o.sources[_].totalchance;f.push({name:o.sources[_].name,damage:v,damageType:"physical",damageReduced:t.getReducedDamage(v,"physical")}),m+=v}var D=t.getReducedDamage(h.pure,"pure")+t.getReducedDamage(h.physical,"physical")+t.getReducedDamage(h.magic,"magic"),k=t.getReducedDamage(m,"physical"),I={base:u*t.attacksPerSecond(),crit:m*t.attacksPerSecond(),geminateAttack:b.active?b.damage/b.cooldown:0,reduced:{base:D*t.attacksPerSecond(),crit:k*t.attacksPerSecond(),geminateAttack:b.active?t.getReducedDamage(b.damage,"physical")/b.cooldown:0}};return{sources:g,sourcesCrit:f,total:u,totalCrit:m,totalGeminateAttack:u+b.damage,totalGeminateAttackReduced:D+b.damageReduced,geminateAttack:b,totalCritReduced:k,totalReduced:D,sumTotal:u+m,sumTotalReduced:D+k,dps:{base:I.base,crit:I.base+I.crit,geminateAttack:I.base+I.geminateAttack,total:I.base+I.crit+I.geminateAttack,reduced:{base:I.reduced.base,crit:I.reduced.base+I.reduced.crit,geminateAttack:I.reduced.base+I.reduced.geminateAttack,total:I.reduced.base+I.reduced.crit+I.reduced.geminateAttack}}}}),t.getDamageTypeColor=function(e){switch(e){case"physical":return"#979aa2";case"pure":return"goldenrod";case"magic":return"#428bca";default:return"#979aa2"}},t.critDamage=i.computed(function(){return t.critInfo(),0}),t.missChance=i.pureComputed(function(){var e=[t.enemy().inventory.getMissChance,t.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var a=t(e.excludeList);return a.value*=e.value,a},{value:1,excludeList:[]});return(100*(1-t.enemy().ability().getMissChance()*t.debuffs.getMissChance()*e.value)).toFixed(2)}),t.totalattackrange=i.pureComputed(function(){var e=t.heroData().attacktype;return t.heroData().attackrange+t.ability().getAttackRange()+t.inventory.getAttackRange(e).value}),t.visionrangeday=i.pureComputed(function(){return t.heroData().visiondaytimerange*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.visionrangenight=i.pureComputed(function(){return(t.heroData().visionnighttimerange+t.inventory.getVisionRangeNight()+t.ability().getVisionRangeNight())*(1+t.enemy().ability().getVisionRangePctReduction()+t.debuffs.getVisionRangePctReduction())}),t.lifesteal=i.pureComputed(function(){var e=t.inventory.getLifesteal()+t.ability().getLifesteal()+t.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==t.hero().attacktype()){var a=[t.inventory.getLifestealAura,t.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});e+=a.value}return e.toFixed(2)}),t.damageBrackets=[["medusa_mana_shield","templar_assassin_refraction","faceless_void_backtrack","nyx_assassin_spiked_carapace"],["spectre_dispersion","wisp_overcharge","slardar_sprint","bristleback_bristleback","undying_flesh_golem"],["abaddon_borrowed_time","abaddon_aphotic_shield","kunkka_ghostship","treant_living_armor"],["chen_penitence","medusa_stone_gaze","shadow_demon_soul_catcher"],["dazzle_shallow_grave"]],t.getDamageAfterBracket=function(e,a){for(var i=t.damageBrackets[a],n=1,s=0;s<i.length;s++)(void 0!=o.prototype.findWhere(t.damageAmplification.buffs,{name:i[s].name})||void 0!=o.prototype.findWhere(t.damageReduction.buffs,{name:i[s].name}))&&(n+=i[s].value);return e*n},t.processDamageAmpReducBracket=function(e,a,i){for(var n=1,s=[],i=parseFloat(i),l=parseFloat(i),r=0;r<t.damageBrackets[e].length;r++)void 0!=a[t.damageBrackets[e][r]]&&(n=1+parseFloat(a[t.damageBrackets[e][r]].multiplier),l+=i*n-i,s.push(new o.prototype.DamageInstance(a[t.damageBrackets[e][r]].displayname,a[t.damageBrackets[e][r]].damageType,i*n-i,[],l)));return s},t.getDamageAmpReducInstance=function(e,a,i,n){var s=[],l=parseFloat(a),r="initial"==i?"Initial":e[i].displayname;return s=s.concat(t.processDamageAmpReducBracket(0,e,l)),l=s[s.length-1]?s[s.length-1].total:l,s=s.concat(t.processDamageAmpReducBracket(1,e,l)),l=s[s.length-1]?s[s.length-1].total:l,s=s.concat(t.processDamageAmpReducBracket(2,e,l)),l=s[s.length-1]?s[s.length-1].total:l,new o.prototype.DamageInstance(r,n,a,s,s[s.length-1]?s[s.length-1].total:l)},t.getDamageAmpReduc=function(e){var a=[],i={},s=t.damageReduction.getDamageMultiplierSources(),l=t.damageAmplification.getDamageMultiplierSources();n.extend(i,s),n.extend(i,l),a.push(t.getDamageAmpReducInstance(i,e,"initial","physical"));for(var r=["shadow_demon_soul_catcher","medusa_stone_gaze","chen_penitence"],d=0;d<r.length;d++)void 0!=i[r[d]]&&a.push(t.getDamageAmpReducInstance(i,e*i[r[d]].multiplier,r[d],i[r[d]].damageType));return new o.prototype.DamageInstance("Total","physical",e,a,a.reduce(function(e,t){return parseFloat(e)+parseFloat(t.total)},0))},t.damageInputModified=i.computed(function(){return t.getDamageAmpReduc(t.damageInputValue())}),t.addIllusion=function(e,a){t.illusions.push(i.observable(new o.prototype.IllusionViewModel(0,t,t.illusionAbilityLevel())))},t.diffProperties=o.prototype.diffProperties,t.diff={},t.getDiffFunction=function(e){return i.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})};for(var a=0;a<t.diffProperties.length;a++){var s=a;t.diff[t.diffProperties[s]]=t.getDiffFunction(t.diffProperties[s])}t.buildExplorer=new o.prototype.BuildExplorerViewModel(t)}}),define("herocalc/herocalc_hero.illusion",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.illusionData={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}},n.prototype.IllusionViewModel=function(e,t,a){var o=new n.prototype.HeroCalculatorModel(0);return o.parent=t,o.inventory=o.parent.inventory,o.illusionType=i.observable(o.parent.selectedIllusion().illusionName),o.illusionDisplayName=i.observable(o.parent.selectedIllusion().illusionDisplayName),o.illusionAbilityLevel(a),o.illusionAbilityMaxLevel=i.observable(n.prototype.illusionData[o.parent.selectedIllusion().illusionName].max_level),n.prototype.illusionData[o.illusionType()].use_selected_hero?o.selectedHero(o.parent.selectedHero()):o.selectedHero(n.prototype.findWhere(o.availableHeroes(),{heroName:o.parent.selectedIllusion().baseHero})),o.selectedHeroLevel(o.parent.selectedHeroLevel()),o.hero=i.computed(function(){return i.mapping.fromJS(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName])}),o.ability().getAttributeBonusLevel=o.parent.ability().getAttributeBonusLevel,o.totalAgi=i.computed(function(){return(o.heroData().attributebaseagility+o.heroData().attributeagilitygain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("agi")+2*o.ability().getAttributeBonusLevel()+o.ability().getAgility()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.intStolen=i.observable(0).extend({numeric:0}),o.totalInt=i.computed(function(){return(o.heroData().attributebaseintelligence+o.heroData().attributeintelligencegain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("int")+2*o.ability().getAttributeBonusLevel()+o.ability().getIntelligence()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()+o.intStolen()).toFixed(2)}),o.totalStr=i.computed(function(){return(o.heroData().attributebasestrength+o.heroData().attributestrengthgain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("str")+2*o.ability().getAttributeBonusLevel()+o.ability().getStrength()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.getAbilityAttributeValue=function(e,t,a,i){if("item_manta"==t)var o=n.prototype.itemData[t];else var o=n.prototype.findWhere(n.prototype.heroData["npc_dota_hero_"+e].abilities,{name:t});var s=n.prototype.findWhere(o.attributes,{name:a});return 0==i?parseFloat(s.value[0]):i>s.length?parseFloat(s.value[0]):parseFloat(s.value[i-1])},o.getIncomingDamageMultiplier=function(e,t,a){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==a?1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].incoming_damage,o.illusionAbilityLevel())/100},o.getOutgoingDamageMultiplier=function(e,t,a){return"item_manta"==e?"DOTA_UNIT_CAP_MELEE_ATTACK"==a?1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(n.prototype.illusionData[o.illusionType()].hero,o.illusionType(),n.prototype.illusionData[e].outgoing_damage,o.illusionAbilityLevel())/100},o.baseDamage=i.computed(function(){return[Math.floor(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].attackdamagemin+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),Math.floor(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].attackdamagemax+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype())]}),o.damage=i.computed(function(){return[o.baseDamage()[0],o.baseDamage()[1]]}),o.ehpPhysical=i.computed(function(){var e=o.health()*(1+.06*o.totalArmorPhysical())/(1-(1-o.inventory.getEvasion()*o.ability().getEvasion()));return e*=o.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),e.toFixed(2)}),o.ehpMagical=i.computed(function(){var e=o.health()/o.totalMagicResistanceProduct();return e*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.hero().attacktype()),e.toFixed(2)}),o.totalArmorPhysical=i.computed(function(){return(o.enemy().ability().getArmorBaseReduction()*o.debuffs.getArmorBaseReduction()*(n.prototype.heroData["npc_dota_hero_"+o.selectedHero().heroName].armorphysical+.14*o.totalAgi())+o.ability().getArmor()+o.enemy().ability().getArmorReduction()+o.buffs.getArmor()+o.debuffs.getArmorReduction()).toFixed(2)}),o.ias=i.computed(function(){var e=parseFloat(o.totalAgi())+o.ability().getAttackSpeed()+o.enemy().ability().getAttackSpeedReduction()+o.buffs.getAttackSpeed()+o.debuffs.getAttackSpeedReduction()+o.unit().ability().getAttackSpeed();return-80>e?-80:e>400?400:e.toFixed(2)}),o}}),define("herocalc/herocalc_hero.meepo",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.CloneOption=function(e,t,a,n,o){this.heroName=i.computed(function(){return a>0?e+(o()<=a?o():1):e}),this.heroDisplayName=t,this.image=n,this.levels=a},n.prototype.CloneViewModel=function(e,t){var a=new n.prototype.HeroCalculatorModel(0);return a.parent=t,a.selectedHero(n.prototype.findWhere(a.availableHeroes(),{heroName:"meepo"})),a.hero=i.computed(function(){return i.mapping.fromJS(n.prototype.heroData.npc_dota_hero_meepo)}),a}}),define("herocalc/herocalc_unit",["require","exports","module","herocalc_knockout","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("./herocalc_core").HEROCALCULATOR;n.prototype.UnitOption=function(e,t,a,n,o){this.heroName=i.computed(function(){return a>0?e+(o()<=a?o():1):e}),this.heroDisplayName=t,this.image=n,this.levels=a},n.prototype.UnitViewModel=function(e,t){var a=new n.prototype.HeroCalculatorModel(0);return a.parent=t,a.selectedUnitLevel=i.observable(1),a.availableUnits=i.observableArray([new n.prototype.UnitOption("npc_dota_lone_druid_bear","Lone Druid Spirit Bear",4,"/media/images/units/spirit_bear.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_brewmaster_earth_","Brewmaster Earth Warrior",3,"/media/images/units/npc_dota_brewmaster_earth.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_brewmaster_fire_","Brewmaster Fire Warrior",3,"/media/images/units/npc_dota_brewmaster_fire.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_brewmaster_storm_","Brewmaster Storm Warrior",3,"/media/images/units/npc_dota_brewmaster_storm.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_necronomicon_archer_","Necronomicon Archer",3,"/media/images/units/npc_dota_necronomicon_archer.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_necronomicon_warrior_","Necronomicon Warrior",3,"/media/images/units/npc_dota_necronomicon_warrior.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_lycan_wolf","Lycan Wolf",4,"/media/images/units/npc_dota_lycan_wolf.png",a.selectedUnitLevel),new n.prototype.UnitOption("npc_dota_visage_familiar","Visage Familiar",3,"/media/images/units/npc_dota_visage_familiar.png",a.selectedUnitLevel)]),a.selectedUnit=i.observable(a.availableUnits()[e]),a.selectedUnit.subscribe(function(e){-1!=e.heroName().indexOf("npc_dota_lone_druid_bear")?(a.inventory.hasInventory(!0),a.inventory.items.removeAll(),a.inventory.activeItems.removeAll()):(a.inventory.hasInventory(!1),a.inventory.items.removeAll(),a.inventory.activeItems.removeAll())}),a.hero=i.computed(function(){return i.mapping.fromJS(n.prototype.unitData[a.selectedUnit().heroName()])}),a.heroData=i.computed(function(){return n.prototype.unitData[a.selectedUnit().heroName()]}),a.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==e.abilitytype()?10:"necronomicon_archer_mana_burn"==e.name()||"necronomicon_archer_aoe"==e.name()||"necronomicon_warrior_mana_burn"==e.name()||"necronomicon_warrior_last_will"==e.name()?3:"necronomicon_warrior_sight"==e.name()?1:4},a.ability=i.computed(function(){var e=new n.prototype.AbilityModel(i.mapping.fromJS(n.prototype.unitData[a.selectedUnit().heroName()].abilities));switch(e.hasScepter=a.inventory.hasScepter,a.selectedUnit().heroName()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":e.abilities()[0].level(1),e.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":e.abilities()[0].level(2),e.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":e.abilities()[0].level(3),e.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":e.abilities()[0].level(3),e.abilities()[1].level(3),e.abilities()[2].level(1)}return e.levelUpAbility=function(t,a,i,n){switch(e.abilities()[t()].name()){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[t()].level()<n.getAbilityLevelMax(a)&&e.abilities()[t()].level(e.abilities()[t()].level()+1)}},e.levelDownAbility=function(t,a,i,n){switch(e.abilities()[t()].name()){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:e.abilities()[t()].level()>0&&e.abilities()[t()].level(e.abilities()[t()].level()-1)}},e}),a.primaryAttribute=i.computed(function(){var e=0;return"DOTA_ATTRIBUTE_AGILITY"==e?"agi":"DOTA_ATTRIBUTE_INTELLECT"==e?"int":"DOTA_ATTRIBUTE_STRENGTH"==e?"str":""}),a.totalAttribute=function(e){return"agi"==e?parseFloat(a.totalAgi()):"int"==e?parseFloat(a.totalInt()):"str"==e?parseFloat(a.totalStr()):0},a.totalAgi=i.computed(function(){return(n.prototype.unitData[a.selectedUnit().heroName()].attributebaseagility+n.prototype.unitData[a.selectedUnit().heroName()].attributeagilitygain*(a.selectedHeroLevel()-1)+2*a.ability().getAttributeBonusLevel()+a.ability().getAgility()+a.enemy().ability().getAllStatsReduction()+a.debuffs.getAllStatsReduction()).toFixed(2)}),a.totalInt=i.computed(function(){return(n.prototype.unitData[a.selectedUnit().heroName()].attributebaseintelligence+n.prototype.unitData[a.selectedUnit().heroName()].attributeintelligencegain*(a.selectedHeroLevel()-1)+2*a.ability().getAttributeBonusLevel()+a.ability().getIntelligence()+a.enemy().ability().getAllStatsReduction()+a.debuffs.getAllStatsReduction()).toFixed(2)}),a.totalStr=i.computed(function(){return(n.prototype.unitData[a.selectedUnit().heroName()].attributebasestrength+n.prototype.unitData[a.selectedUnit().heroName()].attributestrengthgain*(a.selectedHeroLevel()-1)+2*a.ability().getAttributeBonusLevel()+a.ability().getStrength()+a.enemy().ability().getAllStatsReduction()+a.debuffs.getAllStatsReduction()).toFixed(2)}),a.baseDamage=i.computed(function(){return[Math.floor(n.prototype.unitData[a.selectedUnit().heroName()].attackdamagemin+a.totalAttribute(a.primaryAttribute())+a.ability().getBaseDamage().total),Math.floor(n.prototype.unitData[a.selectedUnit().heroName()].attackdamagemax+a.totalAttribute(a.primaryAttribute())+a.ability().getBaseDamage().total)]}),a.totalMagicResistanceProduct=i.computed(function(){return(1-n.prototype.unitData[a.selectedUnit().heroName()].magicalresistance/100)*(1-a.inventory.getMagicResist()/100)*(1-a.ability().getMagicResist()/100)*(1-a.buffs.getMagicResist()/100)*a.enemy().inventory.getMagicResistReduction()*a.enemy().ability().getMagicResistReduction()*a.debuffs.getMagicResistReduction()}),a.totalMagicResistance=i.computed(function(){return 1-a.totalMagicResistanceProduct()}),a.bat=i.computed(function(){var e=a.ability().getBAT();return e>0?e:n.prototype.unitData[a.selectedUnit().heroName()].attackrate}),a.attackTime=i.computed(function(){return(a.bat()/(1+a.ias()/100)).toFixed(2)}),a.attacksPerSecond=i.computed(function(){return(1+a.ias()/100)/a.bat()}),a.evasion=i.computed(function(){var e=a.ability().setEvasion();return e?(100*e).toFixed(2)+"%":(100*(1-a.inventory.getEvasion()*a.ability().getEvasion())).toFixed(2)+"%"}),a.ehpPhysical=i.computed(function(){return(a.health()*(1+.06*a.totalArmorPhysical())/(1-(1-a.inventory.getEvasion()*a.ability().getEvasion()))).toFixed(2)}),a.ehpMagical=i.computed(function(){return(a.health()/a.totalMagicResistanceProduct()).toFixed(2)}),a}}),function(e){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],e):e(jQuery)}(function(e){function t(t,i){var n,o,s,l=t.nodeName.toLowerCase();return"area"===l?(n=t.parentNode,o=n.name,t.href&&o&&"map"===n.nodeName.toLowerCase()?(s=e("img[usemap='#"+o+"']")[0],!!s&&a(s)):!1):(/input|select|textarea|button|object/.test(l)?!t.disabled:"a"===l?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function i(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var a=this.css("position"),i="absolute"===a,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return i&&"static"===t.css("position")?!1:n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==a&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(a){return!!e.data(a,t)}}):function(t,a,i){return!!e.data(t,i[3])},focusable:function(a){return t(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var i=e.attr(a,"tabindex"),n=isNaN(i);return(n||i>=0)&&t(a,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,a){function i(t,a,i,o){return e.each(n,function(){a-=parseFloat(e.css(t,"padding"+this))||0,i&&(a-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(a-=parseFloat(e.css(t,"margin"+this))||0)}),a}var n="Width"===a?["Left","Right"]:["Top","Bottom"],o=a.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(t){return void 0===t?s["inner"+a].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+a]=function(t,n){return"number"!=typeof t?s["outer"+a].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(a){return arguments.length?t.call(this,e.camelCase(a)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(a,i){return"number"==typeof a?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},a)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var a,i,n=e(this[0]);n.length&&n[0]!==document;){if(a=n.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,a,i){var n,o=e.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([a,i[n]])},call:function(e,t,a,i){var n,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)e.options[o[n][0]]&&o[n][1].apply(e.element,a)}};var n=0,o=Array.prototype.slice;e.cleanData=function(t){return function(a){var i,n,o;for(o=0;null!=(n=a[o]);o++)try{i=e._data(n,"events"),i&&i.remove&&e(n).triggerHandler("remove")}catch(s){}t(a)}}(e.cleanData),e.widget=function(t,a,i){var n,o,s,l,r={},d=t.split(".")[0];return t=t.split(".")[1],n=d+"-"+t,i||(i=a,a=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[d]=e[d]||{},o=e[d][t],s=e[d][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),l=new a,l.options=e.widget.extend({},l.options),
e.each(i,function(t,i){return e.isFunction(i)?void(r[t]=function(){var e=function(){return a.prototype[t].apply(this,arguments)},n=function(e){return a.prototype[t].apply(this,e)};return function(){var t,a=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=i.apply(this,arguments),this._super=a,this._superApply=o,t}}()):void(r[t]=i)}),s.prototype=e.widget.extend(l,{widgetEventPrefix:o?l.widgetEventPrefix||t:t},r,{constructor:s,namespace:d,widgetName:t,widgetFullName:n}),o?(e.each(o._childConstructors,function(t,a){var i=a.prototype;e.widget(i.namespace+"."+i.widgetName,s,a._proto)}),delete o._childConstructors):a._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var a,i,n=o.call(arguments,1),s=0,l=n.length;l>s;s++)for(a in n[s])i=n[s][a],n[s].hasOwnProperty(a)&&void 0!==i&&(e.isPlainObject(i)?t[a]=e.isPlainObject(t[a])?e.widget.extend({},t[a],i):e.widget.extend({},i):t[a]=i);return t},e.widget.bridge=function(t,a){var i=a.prototype.widgetFullName||t;e.fn[t]=function(n){var s="string"==typeof n,l=o.call(arguments,1),r=this;return n=!s&&l.length?e.widget.extend.apply(null,[n].concat(l)):n,s?this.each(function(){var a,o=e.data(this,i);return"instance"===n?(r=o,!1):o?e.isFunction(o[n])&&"_"!==n.charAt(0)?(a=o[n].apply(o,l),a!==o&&void 0!==a?(r=a&&a.jquery?r.pushStack(a.get()):a,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")}):this.each(function(){var t=e.data(this,i);t?(t.option(n||{}),t._init&&t._init()):e.data(this,i,new a(n,this))}),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,a){var i,n,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(n=s[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=a}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=a}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,a,i){var n,o=this;"boolean"!=typeof t&&(i=a,a=t,t=!1),i?(a=n=e(a),this.bindings=this.bindings.add(a)):(i=a,a=this.element,n=this.widget()),e.each(i,function(i,s){function l(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||e.guid++);var r=i.match(/^([\w:-]*)\s*(.*)$/),d=r[1]+o.eventNamespace,c=r[2];c?n.delegate(c,d,l):a.bind(d,l)})},_off:function(t,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(a).undelegate(a),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function a(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(a,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,a,i){var n,o,s=this.options[t];if(i=i||{},a=e.Event(a),a.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],o=a.originalEvent)for(n in o)n in a||(a[n]=o[n]);return this.element.trigger(a,i),!(e.isFunction(s)&&s.apply(this.element[0],[a].concat(i))===!1||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,a){e.Widget.prototype["_"+t]=function(i,n,o){"string"==typeof n&&(n={effect:n});var s,l=n?n===!0||"number"==typeof n?a:n.effect||a:t;n=n||{},"number"==typeof n&&(n={duration:n}),s=!e.isEmptyObject(n),n.complete=o,n.delay&&i.delay(n.delay),s&&e.effects&&e.effects.effect[l]?i[t](n):l!==t&&i[l]?i[l](n.duration,n.easing,o):i.queue(function(a){e(this)[t](),o&&o.call(i[0]),a()})}});var s=(e.widget,!1);e(document).mouseup(function(){s=!1});e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(a){return!0===e.data(a.target,t.widgetName+".preventClickEvent")?(e.removeData(a.target,t.widgetName+".preventClickEvent"),a.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var a=this,i=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return i&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),s=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function t(e,t,a){return[parseFloat(e[0])*(m.test(e[0])?t/100:1),parseFloat(e[1])*(m.test(e[1])?a/100:1)]}function a(t,a){return parseInt(e.css(t,a),10)||0}function i(t){var a=t[0];return 9===a.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(a)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,o,s=Math.max,l=Math.abs,r=Math.round,d=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,m=/%$/,b=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,a,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),a=o.offsetWidth,t===a&&(a=i[0].clientWidth),i.remove(),n=t-a},getScrollInfo:function(t){var a=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===a||"auto"===a&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var a=e(t||window),i=e.isWindow(a[0]),n=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:i,isDocument:n,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:i||n?a.width():a.outerWidth(),height:i||n?a.height():a.outerHeight()}}},e.fn.position=function(n){if(!n||!n.of)return b.apply(this,arguments);n=e.extend({},n);var m,h,g,f,v,_,y=e(n.of),A=e.position.getWithinInfo(n.within),x=e.position.getScrollInfo(A),T=(n.collision||"flip").split(" "),D={};return _=i(y),y[0].preventDefault&&(n.at="left top"),h=_.width,g=_.height,f=_.offset,v=e.extend({},f),e.each(["my","at"],function(){var e,t,a=(n[this]||"").split(" ");1===a.length&&(a=d.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]),a[0]=d.test(a[0])?a[0]:"center",a[1]=c.test(a[1])?a[1]:"center",e=u.exec(a[0]),t=u.exec(a[1]),D[this]=[e?e[0]:0,t?t[0]:0],n[this]=[p.exec(a[0])[0],p.exec(a[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===n.at[0]?v.left+=h:"center"===n.at[0]&&(v.left+=h/2),"bottom"===n.at[1]?v.top+=g:"center"===n.at[1]&&(v.top+=g/2),m=t(D.at,h,g),v.left+=m[0],v.top+=m[1],this.each(function(){var i,d,c=e(this),u=c.outerWidth(),p=c.outerHeight(),b=a(this,"marginLeft"),_=a(this,"marginTop"),k=u+b+a(this,"marginRight")+x.width,I=p+_+a(this,"marginBottom")+x.height,w=e.extend({},v),S=t(D.my,c.outerWidth(),c.outerHeight());"right"===n.my[0]?w.left-=u:"center"===n.my[0]&&(w.left-=u/2),"bottom"===n.my[1]?w.top-=p:"center"===n.my[1]&&(w.top-=p/2),w.left+=S[0],w.top+=S[1],o||(w.left=r(w.left),w.top=r(w.top)),i={marginLeft:b,marginTop:_},e.each(["left","top"],function(t,a){e.ui.position[T[t]]&&e.ui.position[T[t]][a](w,{targetWidth:h,targetHeight:g,elemWidth:u,elemHeight:p,collisionPosition:i,collisionWidth:k,collisionHeight:I,offset:[m[0]+S[0],m[1]+S[1]],my:n.my,at:n.at,within:A,elem:c})}),n.using&&(d=function(e){var t=f.left-w.left,a=t+h-u,i=f.top-w.top,o=i+g-p,r={target:{element:y,left:f.left,top:f.top,width:h,height:g},element:{element:c,left:w.left,top:w.top,width:u,height:p},horizontal:0>a?"left":t>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};u>h&&l(t+a)<h&&(r.horizontal="center"),p>g&&l(i+o)<g&&(r.vertical="middle"),s(l(t),l(a))>s(l(i),l(o))?r.important="horizontal":r.important="vertical",n.using.call(this,e,r)}),c.offset(e.extend(w,{using:d}))})},e.ui.position={fit:{left:function(e,t){var a,i=t.within,n=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,l=e.left-t.collisionPosition.marginLeft,r=n-l,d=l+t.collisionWidth-o-n;t.collisionWidth>o?r>0&&0>=d?(a=e.left+r+t.collisionWidth-o-n,e.left+=r-a):d>0&&0>=r?e.left=n:r>d?e.left=n+o-t.collisionWidth:e.left=n:r>0?e.left+=r:d>0?e.left-=d:e.left=s(e.left-l,e.left)},top:function(e,t){var a,i=t.within,n=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,l=e.top-t.collisionPosition.marginTop,r=n-l,d=l+t.collisionHeight-o-n;t.collisionHeight>o?r>0&&0>=d?(a=e.top+r+t.collisionHeight-o-n,e.top+=r-a):d>0&&0>=r?e.top=n:r>d?e.top=n+o-t.collisionHeight:e.top=n:r>0?e.top+=r:d>0?e.top-=d:e.top=s(e.top-l,e.top)}},flip:{left:function(e,t){var a,i,n=t.within,o=n.offset.left+n.scrollLeft,s=n.width,r=n.isWindow?n.scrollLeft:n.offset.left,d=e.left-t.collisionPosition.marginLeft,c=d-r,u=d+t.collisionWidth-s-r,p="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,m="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,b=-2*t.offset[0];0>c?(a=e.left+p+m+b+t.collisionWidth-s-o,(0>a||a<l(c))&&(e.left+=p+m+b)):u>0&&(i=e.left-t.collisionPosition.marginLeft+p+m+b-r,(i>0||l(i)<u)&&(e.left+=p+m+b))},top:function(e,t){var a,i,n=t.within,o=n.offset.top+n.scrollTop,s=n.height,r=n.isWindow?n.scrollTop:n.offset.top,d=e.top-t.collisionPosition.marginTop,c=d-r,u=d+t.collisionHeight-s-r,p="top"===t.my[1],m=p?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,b="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];0>c?(i=e.top+m+b+h+t.collisionHeight-s-o,e.top+m+b+h>c&&(0>i||i<l(c))&&(e.top+=m+b+h)):u>0&&(a=e.top-t.collisionPosition.marginTop+m+b+h-r,e.top+m+b+h>u&&(a>0||l(a)<u)&&(e.top+=m+b+h))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,a,i,n,s,l=document.getElementsByTagName("body")[0],r=document.createElement("div");t=document.createElement(l?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in i)t.style[s]=i[s];t.appendChild(r),a=l||document.documentElement,a.insertBefore(t,a.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=e(r).offset().left,o=n>10&&11>n,t.innerHTML="",a.removeChild(t)}()}();e.ui.position;e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var a=this.options;return this._blurActiveElement(t),this.helper||a.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(a.iframeFix===!0?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var a=this.document[0];if(this.handleElement.is(t.target))try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&e(a.activeElement).blur()}catch(i){}},_mouseStart:function(t){var a=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var a=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",t)!==!1&&a._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var a=this.options,i=e.isFunction(a.helper),n=i?e(a.helper.apply(this.element[0],[t])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,a,i,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),a=e(n.containment),i=a[0],void(i&&(t=/(scroll|auto)/.test(a.css("overflow")),this.containment=[(parseInt(a.css("borderLeftWidth"),10)||0)+(parseInt(a.css("paddingLeft"),10)||0),(parseInt(a.css("borderTopWidth"),10)||0)+(parseInt(a.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(a.css("borderRightWidth"),10)||0)-(parseInt(a.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(a.css("borderBottomWidth"),10)||0)-(parseInt(a.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=a))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var a="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*a,left:t.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*a}},_generatePosition:function(e,t){var a,i,n,o,s=this.options,l=this._isRootNode(this.scrollParent[0]),r=e.pageX,d=e.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),a=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):a=this.containment,e.pageX-this.offset.click.left<a[0]&&(r=a[0]+this.offset.click.left),e.pageY-this.offset.click.top<a[1]&&(d=a[1]+this.offset.click.top),e.pageX-this.offset.click.left>a[2]&&(r=a[2]+this.offset.click.left),e.pageY-this.offset.click.top>a[3]&&(d=a[3]+this.offset.click.top)),s.grid&&(n=s.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,d=a?n-this.offset.click.top>=a[1]||n-this.offset.click.top>a[3]?n:n-this.offset.click.top>=a[1]?n-s.grid[1]:n+s.grid[1]:n,o=s.grid[0]?this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,r=a?o-this.offset.click.left>=a[0]||o-this.offset.click.left>a[2]?o:o-this.offset.click.left>=a[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(r=this.originalPageX),"x"===s.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,a,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[a,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,a,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,a,i){var n=e.extend({},a,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var a=e(this).sortable("instance");a&&!a.options.disabled&&(i.sortables.push(a),a.refreshPositions(),a._trigger("activate",t,n))})},stop:function(t,a,i){var n=e.extend({},a,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(t,a,i){e.each(i.sortables,function(){var n=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,o.currentItem=a.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return a.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),a.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i._refreshOffsets(t),a.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,a,i){var n=e("body"),o=i.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,a,i){var n=i.options;n._cursor&&e("body").css("cursor",n._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,a,i){var n=e(a.helper),o=i.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,a,i){var n=i.options;n._opacity&&e(a.helper).css("opacity",n._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,a){a.scrollParentNotHidden||(a.scrollParentNotHidden=a.helper.scrollParent(!1)),a.scrollParentNotHidden[0]!==a.document[0]&&"HTML"!==a.scrollParentNotHidden[0].tagName&&(a.overflowOffset=a.scrollParentNotHidden.offset())},drag:function(t,a,i){var n=i.options,o=!1,s=i.scrollParentNotHidden[0],l=i.document[0];s!==l&&"HTML"!==s.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+s.offsetHeight-t.pageY<n.scrollSensitivity?s.scrollTop=o=s.scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+s.offsetWidth-t.pageX<n.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-e(l).scrollTop()<n.scrollSensitivity?o=e(l).scrollTop(e(l).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(l).scrollTop())<n.scrollSensitivity&&(o=e(l).scrollTop(e(l).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-e(l).scrollLeft()<n.scrollSensitivity?o=e(l).scrollLeft(e(l).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(l).scrollLeft())<n.scrollSensitivity&&(o=e(l).scrollLeft(e(l).scrollLeft()+n.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,a,i){var n=i.options;i.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=e(this),a=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:a.top,left:a.left})})},drag:function(t,a,i){var n,o,s,l,r,d,c,u,p,m,b=i.options,h=b.snapTolerance,g=a.offset.left,f=g+i.helperProportions.width,v=a.offset.top,_=v+i.helperProportions.height;for(p=i.snapElements.length-1;p>=0;p--)r=i.snapElements[p].left-i.margins.left,d=r+i.snapElements[p].width,c=i.snapElements[p].top-i.margins.top,u=c+i.snapElements[p].height,r-h>f||g>d+h||c-h>_||v>u+h||!e.contains(i.snapElements[p].item.ownerDocument,i.snapElements[p].item)?(i.snapElements[p].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=!1):("inner"!==b.snapMode&&(n=Math.abs(c-_)<=h,o=Math.abs(u-v)<=h,s=Math.abs(r-f)<=h,l=Math.abs(d-g)<=h,n&&(a.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(a.position.top=i._convertPositionTo("relative",{
top:u,left:0}).top),s&&(a.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),l&&(a.position.left=i._convertPositionTo("relative",{top:0,left:d}).left)),m=n||o||s||l,"outer"!==b.snapMode&&(n=Math.abs(c-v)<=h,o=Math.abs(u-_)<=h,s=Math.abs(r-g)<=h,l=Math.abs(d-f)<=h,n&&(a.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(a.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),s&&(a.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),l&&(a.position.left=i._convertPositionTo("relative",{top:0,left:d-i.helperProportions.width}).left)),!i.snapElements[p].snapping&&(n||o||s||l||m)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=n||o||s||l||m)}}),e.ui.plugin.add("draggable","stack",{start:function(t,a,i){var n,o=i.options,s=e.makeArray(e(o.stack)).sort(function(t,a){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(a).css("zIndex"),10)||0)});s.length&&(n=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",n+t)}),this.css("zIndex",n+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,a,i){var n=e(a.helper),o=i.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,a,i){var n=i.options;n._zIndex&&e(a.helper).css("zIndex",n._zIndex)}});e.ui.draggable;e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,a){if("hidden"===e(t).css("overflow"))return!1;var i=a&&"left"===a?"scrollLeft":"scrollTop",n=!1;return t[i]>0?!0:(t[i]=1,n=t[i]>0,t[i]=0,n)},_create:function(){var t,a,i,n,o,s=this,l=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!l.aspectRatio,aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=l.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},a=0;a<t.length;a++)i=e.trim(t[a]),o="ui-resizable-"+i,n=e("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:l.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(t){var a,i,n,o;t=t||this.element;for(a in this.handles)this.handles[a].constructor===String&&(this.handles[a]=this.element.children(this.handles[a]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=e(this.handles[a],this.element),o=/sw|ne|nw|se|n|s/.test(a)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(a)?"Top":/se|sw|s/.test(a)?"Bottom":/^e$/.test(a)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),e(this.handles[a]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=n&&n[1]?n[1]:"se")}),l.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){l.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){l.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,a=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(a(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),a(this.originalElement),this},_mouseCapture:function(t){var a,i,n=!1;for(a in this.handles)i=e(this.handles[a])[0],(i===t.target||e.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var a,i,n,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),a=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(a+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:a,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:a,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===n?this.axis+"-resize":n),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var a,i,n=this.originalMousePosition,o=this.axis,s=t.pageX-n.left||0,l=t.pageY-n.top||0,r=this._change[o];return this._updatePrevProperties(),r?(a=r.apply(this,[t,s,l]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._updateCache(a),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var a,i,n,o,s,l,r,d=this.options,c=this;return this._helper&&(a=this._proportionallyResizeElements,i=a.length&&/textarea/i.test(a[0].nodeName),n=i&&this._hasScroll(a[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-n},l=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,r=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,d.animate||this.element.css(e.extend(s,{top:r,left:l})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!d.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,a,i,n,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,a=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),a<o.maxWidth&&(o.maxWidth=a),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,a=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(a.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(a.height-e.height),e.left=t.left+(a.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,a=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,n=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,r=this.position.top+this.size.height,d=/sw|nw|w/.test(a),c=/nw|ne|n/.test(a);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),n&&(e.height=t.maxHeight),o&&d&&(e.left=l-t.minWidth),i&&d&&(e.left=l-t.maxWidth),s&&c&&(e.top=r-t.minHeight),n&&c&&(e.top=r-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,a=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],n=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)a[t]=parseInt(i[t],10)||0,a[t]+=parseInt(n[t],10)||0;return{height:a[0]+a[2],width:a[1]+a[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,a=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:a.height()-this.outerDimensions.height||0,width:a.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,a=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var a=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:a.width-t}},n:function(e,t,a){var i=this.originalSize,n=this.originalPosition;return{top:n.top+a,height:i.height-a}},s:function(e,t,a){return{height:this.originalSize.height+a}},se:function(t,a,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,a,i]))},sw:function(t,a,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,a,i]))},ne:function(t,a,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,a,i]))},nw:function(t,a,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,a,i]))}},_propagate:function(t,a){e.ui.plugin.call(this,t,[a,this.ui()]),"resize"!==t&&this._trigger(t,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var a=e(this).resizable("instance"),i=a.options,n=a._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),s=o&&a._hasScroll(n[0],"left")?0:a.sizeDiff.height,l=o?0:a.sizeDiff.width,r={width:a.size.width-l,height:a.size.height-s},d=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null,c=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(r,c&&d?{top:c,left:d}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};n&&n.length&&e(n[0]).css({width:i.width,height:i.height}),a._updateCache(i),a._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,a,i,n,o,s,l,r=e(this).resizable("instance"),d=r.options,c=r.element,u=d.containment,p=u instanceof e?u.get(0):/parent/.test(u)?c.parent().get(0):u;p&&(r.containerElement=e(p),/document/.test(u)||u===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),a=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){a[e]=r._num(t.css("padding"+i))}),r.containerOffset=t.offset(),r.containerPosition=t.position(),r.containerSize={height:t.innerHeight()-a[3],width:t.innerWidth()-a[1]},i=r.containerOffset,n=r.containerSize.height,o=r.containerSize.width,s=r._hasScroll(p,"left")?p.scrollWidth:o,l=r._hasScroll(p)?p.scrollHeight:n,r.parentData={element:p,left:i.left,top:i.top,width:s,height:l}))},resize:function(t){var a,i,n,o,s=e(this).resizable("instance"),l=s.options,r=s.containerOffset,d=s.position,c=s._aspectRatio||t.shiftKey,u={top:0,left:0},p=s.containerElement,m=!0;p[0]!==document&&/static/.test(p.css("position"))&&(u=r),d.left<(s._helper?r.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-r.left:s.position.left-u.left),c&&(s.size.height=s.size.width/s.aspectRatio,m=!1),s.position.left=l.helper?r.left:0),d.top<(s._helper?r.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-r.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,m=!1),s.position.top=s._helper?r.top:0),n=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),n&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),a=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-u.left:s.offset.left-r.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-u.top:s.offset.top-r.top)),a+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-a,c&&(s.size.height=s.size.width/s.aspectRatio,m=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,m=!1)),m||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),a=t.options,i=t.containerOffset,n=t.containerPosition,o=t.containerElement,s=e(t.helper),l=s.offset(),r=s.outerWidth()-t.sizeDiff.width,d=s.outerHeight()-t.sizeDiff.height;t._helper&&!a.animate&&/relative/.test(o.css("position"))&&e(this).css({left:l.left-n.left-i.left,width:r,height:d}),t._helper&&!a.animate&&/static/.test(o.css("position"))&&e(this).css({left:l.left-n.left-i.left,width:r,height:d})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),a=t.options,i=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?i(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],i(a.alsoResize)):e.each(a.alsoResize,function(e){i(e)})},resize:function(t,a){var i=e(this).resizable("instance"),n=i.options,o=i.originalSize,s=i.originalPosition,l={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0},r=function(t,i){e(t).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},s=i&&i.length?i:t.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var a=(n[t]||0)+(l[t]||0);a&&a>=0&&(o[t]=a||null)}),t.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?r(n.alsoResize):e.each(n.alsoResize,function(e,t){r(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),a=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,a=e(this).resizable("instance"),i=a.options,n=a.size,o=a.originalSize,s=a.originalPosition,l=a.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,d=r[0]||1,c=r[1]||1,u=Math.round((n.width-o.width)/d)*d,p=Math.round((n.height-o.height)/c)*c,m=o.width+u,b=o.height+p,h=i.maxWidth&&i.maxWidth<m,g=i.maxHeight&&i.maxHeight<b,f=i.minWidth&&i.minWidth>m,v=i.minHeight&&i.minHeight>b;i.grid=r,f&&(m+=d),v&&(b+=c),h&&(m-=d),g&&(b-=c),/^(se|s|e)$/.test(l)?(a.size.width=m,a.size.height=b):/^(ne)$/.test(l)?(a.size.width=m,a.size.height=b,a.position.top=s.top-p):/^(sw)$/.test(l)?(a.size.width=m,a.size.height=b,a.position.left=s.left-u):((0>=b-c||0>=m-d)&&(t=a._getPaddingPlusBorderDimensions(this)),b-c>0?(a.size.height=b,a.position.top=s.top-p):(b=c-t.height,a.size.height=b,a.position.top=s.top+o.height-b),m-d>0?(a.size.width=m,a.position.left=s.left-u):(m=c-t.height,a.size.width=m,a.position.left=s.left+o.width-m))}});e.ui.resizable,e.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var a=e(t.target);!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var a=e(t.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,a)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var a=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,a)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var a,i,n,o,s=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:s=!1,i=this.previousFilter||"",n=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),n===i?o=!0:n=i+n,a=this._filterMenuItems(n),a=o&&-1!==a.index(this.active.next())?this.active.nextAll(".ui-menu-item"):a,a.length||(n=String.fromCharCode(t.keyCode),a=this._filterMenuItems(n)),a.length?(this.focus(t,a),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,a,i=this,n=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),a=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);a.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",a.attr("id"))}),t=o.add(this.element),a=t.find(this.options.items),a.not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),a.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),a.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var a,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),a=t.children(".ui-menu"),a.length&&e&&/^mouse/.test(e.type)&&this._startOpening(a),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var a,i,n,o,s,l;this._hasScroll()&&(a=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-a-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),l=t.outerHeight(),0>n?this.activeMenu.scrollTop(o+n):n+l>s&&this.activeMenu.scrollTop(o+n-s+l))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var a=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(t,a){clearTimeout(this.timer),this.timer=this._delay(function(){var i=a?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,a){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(a,i)},nextPage:function(t){var a,i,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=e(this),a.offset().top-i-n<0}),this.focus(t,a)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var a,i,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=e(this),a.offset().top-i+n>0}),this.focus(t,a)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,a)},_filterMenuItems:function(t){var a=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).text()))})}});e.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,a,i,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,s="input"===n;this.isMultiLine=o?!0:s?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,i=!0,void(a=!0);t=!1,i=!1,a=!1;var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case o.UP:t=!0,this._keyEvent("previous",n);break;case o.DOWN:t=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:a=!0,this._searchTimeout(n)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!a){var n=e.ui.keyCode;switch(i.keyCode){case n.PAGE_UP:this._move("previousPage",i);break;case n.PAGE_DOWN:this._move("nextPage",i);break;case n.UP:this._keyEvent("previous",i);break;case n.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===a||e.contains(a,i.target)||t.close()})})},menufocus:function(t,a){var i,n;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(n=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),i=a.item.attr("aria-label")||n.value,void(i&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var a=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,
this._delay(function(){this.previous=i,this.selectedItem=a})),!1!==this._trigger("select",e,{item:a})&&this._value(a.value),this.term=this._value(),this.close(e),this.selectedItem=a}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,a,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(a,i){i(e.ui.autocomplete.filter(t,a.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(t,n){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:a,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),a=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!a&&!i)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var a=this.menu.element.empty();this._renderMenu(a,t),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,a){var i=this;e.each(a,function(e,a){i._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,a){return e("<li>").text(a.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,a){var i=new RegExp(e.ui.autocomplete.escapeRegex(a),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))}});var l,r=(e.ui.autocomplete,"ui-button ui-widget ui-state-default ui-corner-all"),d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var a=t.name,i=t.form,n=e([]);return a&&(a=a.replace(/'/g,"\\'"),n=i?e(i).find("[name='"+a+"'][type=radio]"):e("[name='"+a+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),n};e.widget("ui.button",{version:"1.11.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,a=this.options,i="checkbox"===this.type||"radio"===this.type,n=i?"":"ui-state-active";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===l&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||e(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){a.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];u(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(e(this).addClass("ui-state-active"),l=this,void t.document.one("mouseup",function(){l=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return a.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var e,t,a;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),a=this.element.is(":checked"),a&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(d),a=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,n=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(a)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),a=this.element.find(this.options.items),i=a.filter(":ui-button");a.not(":ui-button").button(),i.button("refresh"),this.buttons=a.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});e.ui.button,e.widget("ui.dialog",{version:"1.11.2",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var a=e(this).css(t).offset().top;0>a&&e(this).css("top",t.top-a)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var a,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{a=this.document[0].activeElement,a&&"body"!==a.nodeName.toLowerCase()&&e(a).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,a){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!a&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function a(){var t=this.document[0].activeElement,a=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);a||this._focusTabbable()}t.preventDefault(),a.call(this),this._delay(a)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var a=this.uiDialog.find(":tabbable"),i=a.filter(":first"),n=a.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.focus()}),t.preventDefault()):(this._delay(function(){i.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,a=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(a)||e.isArray(a)&&!a.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(a,function(a,i){var n,o;i=e.isFunction(i)?{click:i,text:a}:i,i=e.extend({type:"button"},i),n=i.click,i.click=function(){n.apply(t.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var a=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,n){e(this).addClass("ui-dialog-dragging"),a._blockFrames(),a._trigger("dragStart",i,t(n))},drag:function(e,i){a._trigger("drag",e,t(i))},stop:function(n,o){var s=o.offset.left-a.document.scrollLeft(),l=o.offset.top-a.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:a.window},e(this).removeClass("ui-dialog-dragging"),a._unblockFrames(),a._trigger("dragStop",n,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var a=this,i=this.options,n=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,n){e(this).addClass("ui-dialog-resizing"),a._blockFrames(),a._trigger("resizeStart",i,t(n))},resize:function(e,i){a._trigger("resize",e,t(i))},stop:function(n,o){var s=a.uiDialog.offset(),l=s.left-a.document.scrollLeft(),r=s.top-a.document.scrollTop();i.height=a.uiDialog.height(),i.width=a.uiDialog.width(),i.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(r>=0?"+":"")+r,of:a.window},e(this).removeClass("ui-dialog-resizing"),a._unblockFrames(),a._trigger("resizeStop",n,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),a=e.inArray(this,t);-1!==a&&t.splice(a,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var a=this,i=!1,n={};e.each(t,function(e,t){a._setOption(e,t),e in a.sizeRelatedOptions&&(i=!0),e in a.resizableRelatedOptions&&(n[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(e,t){var a,i,n=this.uiDialog;"dialogClass"===e&&n.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(a=n.is(":data(ui-draggable)"),a&&!t&&n.draggable("destroy"),!a&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=n.is(":data(ui-resizable)"),i&&!t&&n.resizable("destroy"),i&&"string"==typeof t&&n.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,a,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),a="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:a,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.spinner",{version:"1.11.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},a=this.element;return e.each(["min","max","step"],function(e,i){var n=a.attr(i);void 0!==n&&n.length&&(t[i]=n)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function a(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),a.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,a.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var a=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,a.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-a.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,a){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,a)},e),this._spin(t*this.options.step,a)},_spin:function(e,t){var a=this.value()||0;this.counter||(this.counter=1),a=this._adjustValue(a+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:a})===!1||(this._value(a),this.counter++)},_increment:function(t){var a=this.options.incremental;return a?e.isFunction(a)?a(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),a=t.indexOf(".");return-1===a?0:t.length-a-1},_adjustValue:function(e){var t,a,i=this.options;return t=null!==i.min?i.min:0,a=e-t,a=Math.round(a/i.step)*i.step,e=t+a,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var a=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(a))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:i(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var a;""!==e&&(a=this._parse(e),null!==a&&(t||(a=this._adjustValue(a)),e=this._format(a))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:i(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:i(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:i(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:i(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void i(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}),define("jquery-ui.custom",["require","exports","module","jquery","jquery-ui"],function(e,t,a){"use strict";function i(e,t){var a=new RegExp(n.ui.autocomplete.escapeRegex(t),"i");return n.grep(e,function(e){return a.test(n("<div>").html(e.label||e.value||e).text())})}var n=e("jquery");e("jquery-ui");var o=n.ui.autocomplete.prototype,s=o._initSource;n.extend(o,{_initSource:function(){this.options.html&&n.isArray(this.options.source)?this.source=function(e,t){t(i(this.options.source,e.term))}:s.call(this)},_renderItem:function(e,t){return n("<li></li>").data("item.autocomplete",t).append(n("<a></a>")[this.options.html?"html":"text"](t.label)).appendTo(e)}})}),define("chartjs-scatter",["chartjs"],function(e){e.types.Line.extend({name:"Scatter",draw:function(t){var a=t||1;this.clear();var i=this.chart.ctx,n=function(e){return null!==e.value},o=function(t,a,i){return e.helpers.findNextWhere(a,n,i)||t},s=function(t,a,i){return e.helpers.findPreviousWhere(a,n,i)||t};this.scale.draw(a),e.helpers.each(this.datasets,function(t){var l=e.helpers.where(t.points,n);e.helpers.each(t.points,function(e,t){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(t)},a)},this),this.options.bezierCurve&&e.helpers.each(l,function(t,a){var i=a>0&&a<l.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.helpers.splineCurve(s(t,l,a),t,o(t,l,a),i),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),this.options.datasetFill&&l.length>0&&(i.lineTo(l[l.length-1].x,this.scale.endPoint),i.lineTo(l[0].x,this.scale.endPoint),i.fillStyle=t.fillColor,i.closePath(),i.fill()),e.helpers.each(l,function(e){e.draw()})},this)}})}),define("text",["module"],function(e){
"use strict";function t(e,t){return void 0===e||""===e?t:e}function a(e,a,i,n){if(a===n)return!0;if(e===i){if("http"===e)return t(a,"80")===t(n,"80");if("https"===e)return t(a,"443")===t(n,"443")}return!1}var i,n,o,s,l,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],d=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,c=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,p=u&&location.protocol&&location.protocol.replace(/\:/,""),m=u&&location.hostname,b=u&&(location.port||void 0),h={},g=e.config&&e.config()||{};return i={version:"2.0.15",strip:function(e){if(e){e=e.replace(d,"");var t=e.match(c);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:g.createXhr||function(){var e,t,a;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){a=r[t];try{e=new ActiveXObject(a)}catch(i){}if(e){r=[a];break}}return e},parseName:function(e){var t,a,i,n=!1,o=e.lastIndexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!s||o>1)?(t=e.substring(0,o),a=e.substring(o+1)):t=e,i=a||t,o=i.indexOf("!"),-1!==o&&(n="strip"===i.substring(o+1),i=i.substring(0,o),a?a=i:t=i),{moduleName:t,ext:a,strip:n}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,o){var s,l,r,d=i.xdRegExp.exec(e);return d?(s=d[2],l=d[3],l=l.split(":"),r=l[1],l=l[0],(!s||s===t)&&(!l||l.toLowerCase()===n.toLowerCase())&&(!r&&!l||a(s,r,t,o))):!0},finishLoad:function(e,t,a,n){a=t?i.strip(a):a,g.isBuild&&(h[e]=a),n(a)},load:function(e,t,a,n){if(n&&n.isBuild&&!n.inlineText)return void a();g.isBuild=n&&n.isBuild;var o=i.parseName(e),s=o.moduleName+(o.ext?"."+o.ext:""),l=t.toUrl(s),r=g.useXhr||i.useXhr;return 0===l.indexOf("empty:")?void a():void(!u||r(l,p,m,b)?i.get(l,function(t){i.finishLoad(e,o.strip,t,a)},function(e){a.error&&a.error(e)}):t([s],function(e){i.finishLoad(o.moduleName+"."+o.ext,o.strip,e,a)}))},write:function(e,t,a,n){if(h.hasOwnProperty(t)){var o=i.jsEscape(h[t]);a.asModule(e+"!"+t,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,t,a,n,o){var s=i.parseName(t),l=s.ext?"."+s.ext:"",r=s.moduleName+l,d=a.toUrl(s.moduleName+l)+".js";i.load(r,a,function(t){var a=function(e){return n(d,e)};a.asModule=function(e,t){return n.asModule(e,d,t)},i.write(e,r,a,o)},o)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(n=require.nodeRequire("fs"),i.get=function(e,t,a){try{var i=n.readFileSync(e,"utf8");"\ufeff"===i[0]&&(i=i.substring(1)),t(i)}catch(o){a&&a(o)}}):"xhr"===g.env||!g.env&&i.createXhr()?i.get=function(e,t,a,n){var o,s=i.createXhr();if(s.open("GET",e,!0),n)for(o in n)n.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),n[o]);g.onXhr&&g.onXhr(s,e),s.onreadystatechange=function(i){var n,o;4===s.readyState&&(n=s.status||0,n>399&&600>n?(o=new Error(e+" HTTP status: "+n),o.xhr=s,a&&a(o)):t(s.responseText),g.onXhrComplete&&g.onXhrComplete(s,e))},s.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?i.get=function(e,t){var a,i,n="utf-8",o=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),l=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),n)),r="";try{for(a=new java.lang.StringBuffer,i=l.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&a.append(i);null!==(i=l.readLine());)a.append(s),a.append(i);r=String(a.toString())}finally{l.close()}t(r)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(o=Components.classes,s=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),l="@mozilla.org/windows-registry-key;1"in o,i.get=function(e,t){var a,i,n,r={};l&&(e=e.replace(/\//g,"\\")),n=new FileUtils.File(e);try{a=o["@mozilla.org/network/file-input-stream;1"].createInstance(s.nsIFileInputStream),a.init(n,1,0,!1),i=o["@mozilla.org/intl/converter-input-stream;1"].createInstance(s.nsIConverterInputStream),i.init(a,"utf-8",a.available(),s.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),i.readString(a.available(),r),i.close(),a.close(),t(r.value)}catch(d){throw new Error((n&&n.path||"")+": "+d)}}),i}),define("text!components/hero-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-3">\n        <img class="img-rounded hero-image" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n    </div>\n    <div class="col-md-9">\n        <div class="row form-group">\n            <div class="col-md-6">\n                <label for="heroselect">Hero</label>\n                <select id="heroselect" class="form-control" data-bind="options: availableHeroes , optionsText: \'heroDisplayName\', value: selectedHero"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="herolevel">Level</label>\n                <input id="herolevel" data-bind="spinner: selectedHeroLevel, spinnerOptions: { min: 1, max: 25 }">\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-6">\n                <label for="enemyselect">Enemy</label>\n                <select id="enemyselect" class="form-control" data-bind="css: enemy().playerColorCss, options: availableEnemies , optionsText: \'heroDisplayName\', value: selectedEnemy, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-6">\n                <label for="enemyselect">Compare to</label>\n                <select id="enemyselect" class="form-control" data-bind="css: heroCompare().playerColorCss, options: availableCompare , optionsText: \'heroDisplayName\', value: selectedCompare, optionsAfterRender: setHeroOptionStyling"></select>\n            </div>\n            <div class="col-md-12 checkbox" style="margin-bottom:0px;padding-left:34px;" data-bind="visible: $root.layout() == 0">\n                <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: hero().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().hero().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a>\n                <div class="checkbox" style="margin-left:15px;display:inline;" data-bind="style: {\'display\': $root.layout() == 1 ? \'inline\' : \'none\'}">\n                    <label><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showDiff"><span style="font-size:12px">Show <abbr title="The difference between two adjacent hero tabs shown next to each stat.">delta values</abbr>. <span data-bind="visible: showDiff">Comparing level <span data-bind="text: selectedHeroLevel"></span> <span data-bind="text: hero().displayname, css: playerColorCss"></span> to level <span data-bind="text: heroCompare().selectedHeroLevel"></span> <span data-bind="text: heroCompare().hero().displayname, css: heroCompare().playerColorCss"></span>.</span></span></label>\n                    <label style="margin-left:25px;font-size:12px;"><input type="checkbox" style="float:none;margin-right:5px;" data-bind="checked: showUnitTab">Show unit tab</label>\n                </div>\n            </h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="visible: showDamageDetails()">\n            <div class="col-md-12">\n                <h3 style="display:block;" class="section_header" data-bind="toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }">Damage Details\n                    <span class="pull-right">\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'physical\')}">Physical</small>\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'magic\')}">Magical</small>\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'pure\')}">Pure</small>\n                    </span>\n                </h3>\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td></td>\n                            <td class="text-right"><strong>Unmitigated</strong></td>\n                            <td class="text-right"><strong><abbr data-bind="attr: {title: \'After reductions from \' + enemy().hero().displayname()}">After Reductions</abbr></strong></td>\n                        </tr>\n                        <tr>\n                            <td><abbr title="Sum of damage sources">Damage Per Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().total.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'total\'), diffStyle: $root.getDiffMagnitude($data, \'total\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalReduced.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalReduced\'), diffStyle: $root.getDiffMagnitude($data, \'totalReduced\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().geminateAttack.active">\n                            <td class="indent"><abbr title="Sum of damage sources + geminate attack damage">with Geminate Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalGeminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalGeminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'totalGeminateAttack\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalGeminateAttackReduced.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalGeminateAttackReduced\'), diffStyle: $root.getDiffMagnitude($data, \'totalGeminateAttackReduced\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                            <td class="indent"><abbr title="Sum of damage sources + average crit damage per attack">with Crit:</abbr></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().sumTotal.toFixed(2)"></span></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().sumTotalReduced.toFixed(2)"></span></td>\n                        </tr>\n                        <tr>\n                            <td><abbr title="Damage per attack * attacks per second">DPS:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.base.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.base\'), diffStyle: $root.getDiffMagnitude($data, \'dps.base\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.reduced.base.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.reduced.base\'), diffStyle: $root.getDiffMagnitude($data, \'dps.reduced.base\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().geminateAttack.active">\n                            <td class="indent"><abbr title="(Damage per attack * attacks per second) + average geminate attack dps">with Geminate Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.geminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.geminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'dps.geminateAttack\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.reduced.geminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.reduced.geminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'dps.reduced.geminateAttack\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                            <td class="indent"><abbr data-bind="attr: { title: damageTotalInfo().geminateAttack.active ? \'Damage per attack (including crit) * attacks per second + average geminate attack dps\' : \'Damage per attack (including crit) * attacks per second\' }, text: damageTotalInfo().geminateAttack.active ? \'with Crit and Geminate Attack\' : \'with Crit:\' "></abbr></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().dps.total.toFixed(2)"></span></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().dps.reduced.total.toFixed(2)"></span></td>\n                        </tr>\n                        <tr><td colspan=3><strong><abbr title="with %chance taken into account">Damage Sources</abbr></strong></td></tr>\n                        <tr>\n                            <td>Base Damage</td>\n                            <td class="text-right">\n                                <span data-bind="html: ((baseDamage()[0] + baseDamage()[1])/2).toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffText(((baseDamage()[0] + baseDamage()[1])/2).toFixed(2) - ((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2).toFixed(2)), diffStyle: (((baseDamage()[0] + baseDamage()[1])/2).toFixed(2) - ((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2).toFixed(2)), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffText(getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2) - getReducedDamage((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2, \'physical\').toFixed(2)), diffStyle: (getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2) - getReducedDamage((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2, \'physical\').toFixed(2)), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody data-bind="foreach: damageTotalInfo().sources">\n                        <tr>\n                            <td><span data-bind="text: $data.name"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                        </tr>\n                    </tbody>\n\n                    <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                        <td colspan=2><strong>Critical Strike</strong></td>\n                    </tr>\n                    \n                    <tbody data-bind="foreach: damageTotalInfo().sourcesCrit">\n                        <tr>\n                            <td><span data-bind="text: $data.name"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                        </tr>\n                    </tbody>\n                \n                    <tbody>\n                        <tr data-bind="visible: cleaveInfo().length > 0">\n                            <td colspan=3><strong>Cleave</strong></td>\n                        </tr>\n                    </tbody>    \n                    <tbody data-bind="foreach: cleaveInfo()">\n                        <tr><td>Radius:</td><td class="text-right"><span data-bind="html: $data.radius"></span></td></tr>\n                        <tr><td>Magnitude:</td><td class="text-right"><span data-bind="html: ($data.magnitude * 100).toFixed(2) + \'%\'"></span></td></tr>\n                        <tr>\n                            <td>Cleave Damage:</td>\n                            <td class="text-right"><span data-bind="html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)"></span></td>\n                        </tr>\n                    </tbody>\n                \n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12" data-bind="itemBuildTable: $data.buildExplorer">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities <small style="color:inherit" data-bind="text: availableSkillPoints() ? (availableSkillPoints() == 1 ? \'1 unspent skillpoint\' : availableSkillPoints() + \' unspent skillpoints\') : \'\'"></small></h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n                <div class="form-horizontal" data-bind="if: selectedHero().heroName == \'silencer\', visible: sectionDisplay().ability()">\n                    <div class="form-group">\n                            <div class="col-md-2 control-label">\n                                <label for="intelligencestolen">Intelligence Stolen</label>\n                            </div>\n                            <div class="col-md-2">\n                                <input class="form-control" id="intelligencestolen" data-bind="value: intStolen" />\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }">Buffs</h3>\n                <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <select id="buffselect" class="form-control" data-bind="options: buffs.availableBuffs , optionsText: \'buffDisplayName\', value: buffs.selectedBuff"></select>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: buffs.addBuff">Add</button>\n                            <button class="btn btn-default" data-bind="click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }">Remove</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="row" data-bind="foreach: buffs.buffs, visible: sectionDisplay().buff()">\n                    <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }">\n                        <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                            <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name()) } }"/>\n                            <div class="progress" style="position:relative">\n                                <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                            </div>\n                            <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                            </div>\n                            <div class="btn-group btn-group-justified">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                            </div>\n                        </div>\n                        <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                            <button type="button" class="close" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                            <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                            <div data-bind="if: $data.data.name() in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0">\n                                <div class="col-md-8">\n                                    <div data-bind="component: { name: \'buff-settings\', params: $parent.buffs.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <div class="input-group">\n                                <input class="form-control" id="auto2" data-bind="attr: {id: id() + \'-auto2\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                                <span class="input-group-btn">\n                                    <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto2\'"><span class="glyphicon glyphicon-search"></span></button>\n                                </span>\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: buffs.itemBuffs.addItemBuff">Add</button>\n                        </div>\n                    </div>\n                </div>\n                <div data-bind="foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()">\n                    <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-buff\', params: $data}"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }">Debuffs</h3>\n                <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <select id="buffselect" class="form-control" data-bind="options: debuffs.availableDebuffs , optionsText: \'buffDisplayName\', value: debuffs.selectedBuff"></select>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: debuffs.addBuff">Add</button>\n                            <button class="btn btn-default" data-bind="click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }">Remove</button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="row" data-bind="foreach: debuffs.buffs, visible: sectionDisplay().debuff()">\n                    <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }">\n                        <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                            <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name()) } }"/>\n                            <div class="progress" style="position:relative">\n                                <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                            </div>\n                            <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                            </div>\n                            <div class="btn-group btn-group-justified">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                            </div>\n                        </div>\n                        <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                            <button type="button" class="close" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                            <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                            <div data-bind="if: $data.data.name() in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0">\n                                <div class="col-md-8">\n                                    <div data-bind="component: { name: \'buff-settings\', params: $parent.debuffs.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <div class="input-group">\n                                <input class="form-control" id="auto3" data-bind="attr: {id: id() + \'-auto3\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                                <span class="input-group-btn">\n                                    <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto3\'"><span class="glyphicon glyphicon-search"></span></button>\n                                </span>\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: debuffs.itemBuffs.addItemDebuff">Add</button>\n                        </div>\n                    </div>\n                </div>\n                <div data-bind="foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()">\n                    <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-debuff\', params: $data}"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().illusion, css: { section_disabled: !sectionDisplay().illusion() }">Illusions</h3>\n                <div data-bind="visible: sectionDisplay().illusion(), lazyBinding: sectionDisplay().illusion">\n                    <h4 style="color:red">Under Construction</h4>\n                    <div class="form-horizontal">\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionSelect">Type</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionSelect" class="form-control" data-bind="options: availableIllusions , optionsText: \'illusionDisplayName\', value: selectedIllusion"></select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                                <div class="col-md-2 control-label">\n                                    <label for="illusionabilitylevel">Ability Level</label>\n                                </div>\n                                <div class="col-md-10">\n                                    <select id="illusionabilitylevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                                        <option data-bind="text: $index()+1"></option>\n                                    </select>\n                                </div>\n                        </div>\n                        <div class="form-group">\n                            <div class="col-md-offset-2 col-md-10">\n                                <button class="btn btn-default" data-bind="click: addIllusion">Add Illusion</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \n    <div class="col-md-12">\n        <h3 class="section_header" data-bind="toggle: sectionDisplay().skillbuild, css: { section_disabled: !sectionDisplay().skillbuild() }">Build Explorer</h3>\n        <div data-bind="visible: sectionDisplay().skillbuild(), attr: {id: \'section-build-explorer-\' + index() }, lazyBinding: sectionDisplay().skillbuild">\n            <div class="section-content">    \n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-skills\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-skills\']() }">Skill Build <small style="color:inherit" data-bind="text: buildExplorer.availableSkillBuildPoints() ? (buildExplorer.availableSkillBuildPoints() == 1 ? \'1 unspent skillpoint\' : buildExplorer.availableSkillBuildPoints() + \' unspent skillpoints\') : \'\'"></small></h4>\n                        <div data-bind="visible: sectionDisplay()[\'skillbuild-skills\']">\n                        <table>\n                            <tbody data-bind="template: { name: \'ability-3-template\', foreach: ability().abilities }"></tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetSkillBuild">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <h4 class="section_header" data-bind="toggle: sectionDisplay()[\'skillbuild-items\'], css: { section_disabled: !sectionDisplay()[\'skillbuild-items\']() }">Item Build</h4>\n                    <div data-bind="visible: sectionDisplay()[\'skillbuild-items\']">\n                        <table class="table">\n                            <thead>\n                                <tr>\n                                    <th>Level</th>\n                                    <th class="text-center">Inventory</th>\n                                    <th></th>\n                                    <th></th>\n                                    <th></th>\n                                </tr>\n                            </thead>\n                            <tbody data-bind="foreach: new Array(25), itemBuildTable: buildExplorer">\n                                <tr class="hover-cursor" data-bind="css: {\'row-highlight\': $parent.selectedInventory() == $index()}">\n                                    <td class="carry-over" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <strong data-bind="text: ($index() + 1)"></strong>\n                                        <a class="btn btn-default btn-xs glyphicon" data-bind="visible: $index() > 0, toggle: $parent.buildExplorer.itemBuild()[$index()].carryOver, preventBubble: \'click\', css: { \'glyphicon-arrow-down\': $parent.buildExplorer.itemBuild()[$index()].carryOver(), \'glyphicon-stop\': !$parent.buildExplorer.itemBuild()[$index()].carryOver() }" title="Carry over items to next level\'s inventory"></a>\n                                    </td>\n                                    <td class="col-md-10" data-bind="click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }">\n                                        <div class="itemBuild-inventory" data-bind="template: { name: \'itemBuild-item-template\', foreach: $parent.buildExplorer.itemBuild()[$index()].items }"></div>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.copyInventoryToClipBoard($index()); }" title="Copy items">Copy</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.pasteInventoryFromClipBoard($index()); }" title="Paste items">Paste</a>\n                                    </td>\n                                    <td>\n                                        <a class="btn btn-default btn-xs" data-bind="click: function (data, event) { $parent.buildExplorer.resetItemBuild($index()); }" title="Clear inventory">Clear</a>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        <div class="form-group">\n                            <button class="btn btn-default" data-bind="click: buildExplorer.resetAllItemBuilds">Clear</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="form-group">\n                    <label>Data set header label</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataHeader">\n                </div>\n                <div class="form-group">\n                    <label>Data set description</label>\n                    <input type="text" class="form-control" data-bind="value: buildExplorer.graphDataDescription">\n                </div>\n                <div class="form-group">\n                    <button class="btn btn-default" data-bind="click: buildExplorer.graph">Add data set</button>\n                </div>\n                <div class="form-group">\n                    <label>Hero Property</label>\n                    <select class="form-control" data-bind="options: buildExplorer.graphProperties, optionsText: \'label\', optionsValue: \'id\', value: buildExplorer.selectedGraphProperty"></select>\n                </div>\n                <!-- ko if: buildExplorer.graphData().length > 0 -->\n                <div class="form-group" data-bind="chart: buildExplorer.graphChartData, chartType: \'Scatter\', chartOptions: buildExplorer.graphChartOptions(), chartContext: buildExplorer.graphChartContext"></div>\n                <div class="form-group">\n                  <button class="btn btn-default" data-bind="click: buildExplorer.exportImage"><span class="glyphicon glyphicon-export"></span> Export Image</button>\n                </div>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphItemBuildRows, css: {\'toggled\': buildExplorer.showGraphItemBuildRows}">Show item build rows</button>\n                <button class="btn btn-default btn-xs" data-bind="toggle: buildExplorer.showGraphSkillBuildColumns, css: {\'toggled\': buildExplorer.showGraphSkillBuildColumns}">Show skill build columns</button>\n                <table class="table build-table">\n                    <thead>\n                        <tr>\n                            <th class="right-border">Level</th>\n                            <!-- ko foreach: buildExplorer.graphData -->\n                            <th class="text-center" data-bind="css: { \'right-border\': !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible() }">\n                                <span data-bind="css: { \'tooltip-underline\': $data.description }, tooltip: {title: $data.description, placement: \'bottom\'}, visible: $data.visible(), text: $data.header, style: { color: $parent.buildExplorer.graphDistinctColor($parent.buildExplorer.graphData().length, $index(), 1) }"></span>\n                                <span class="btn btn-xs glyphicon glyphicon-info-sign" data-bind="visible: $data.visible(), popover: {template: \'popover-graphData-template\', data: $data, options: {} }"></span>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <th class="text-left right-border" data-bind="visible: $data.visible() && $parent.buildExplorer.showGraphSkillBuildColumns()"><abbr title="Q-W-E-R-Stats">Skill Build</abbr>\n                                <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right" class="close" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }"></button>\n                                <button class="btn btn-default btn-xs shop-button glyphicon pull-right" data-bind="visible: $parent.buildExplorer.showGraphSkillBuildColumns(), toggle: $data.visible, css: { \'glyphicon-minus\': $data.visible(), \'glyphicon-plus\': !$data.visible()}"></button>\n                            </th>\n                            <!-- /ko -->\n                        </tr>\n                    </thead>\n                    <tbody data-bind="foreach: new Array(buildExplorer.graphData()[0].data.length)">\n                        <tr>\n                            <td class="right-border">\n                                <strong data-bind="text: ($index() + 1)"></strong>\n                            </td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="text-right" data-bind="css: { \'right-border\': !$parents[1].buildExplorer.showGraphSkillBuildColumns() || !$parents[1].buildExplorer.graphData()[$index()].visible() }">\n                                <span data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), text: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()][$parents[1].buildExplorer.selectedGraphProperty()]"></span>\n                            </td>\n                            <td class="text-left right-border" data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns(), text: $parents[1].buildExplorer.graphData()[$index()].cumulativeSkillBuild[$parentContext.$index()].join(\'-\')"></td>\n                            <!-- /ko -->\n                        </tr>\n                        <tr class="itemBuild-inventory" data-bind="visible: $parent.buildExplorer.showGraphItemBuildRows() && $parent.buildExplorer.graphRowHasItems($index())">\n                            <td class="right-border-itemrow no-top-border"></td>\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\n                            <td class="right-border-itemrow no-top-border" data-bind="attr: { colspan: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns() ? 2 : 1 }">\n                                <div data-bind="visible: $parents[1].buildExplorer.graphData()[$index()].visible(), foreach: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()].items">\n                                    <img class="itemBuild-img-sm img-rounded" data-bind="css: { item_disabled: !enabled, item_active: $parents[2].inventory.getActiveBorder($data) == 1, item_inactive: $parents[2].inventory.getActiveBorder($data) == 0 }, attr:{ src: $parents[2].inventory.getItemImage($data) }"/>\n                                    <div style="float:left" data-bind="visible: $parents[2].inventory.getItemSizeLabel($data) != \'\'">\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                                        <div data-bind="html: $parents[2].inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                                    </div>\n                                </div>\n                            </td>\n                            <!-- /ko -->\n                        </tr>\n                    </tbody>\n                </table>\n                <!-- /ko -->\n            </div>\n        </div>\n    </div>\n\n</div>';
}),define("components/hero-pane",["herocalc_knockout","text!./hero-pane.html"],function(e,t){return{template:t}}),define("text!components/unit-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: selectedUnit().image}"/>\n    </div>\n    <div class="col-md-4">\n        <label for="unitselect">Unit</label>\n        <select id="unitselect" class="form-control" data-bind="options: availableUnits , optionsText: \'heroDisplayName\', value: selectedUnit"></select>\n    </div>\n    <div class="col-md-4">\n        <label for="unitlevel">Level</label>\n        <p class="form-control-static" data-bind="visible: selectedUnit().levels == 0, text: hero().level"></p>\n        <select id="herolevel" class="form-control" data-bind="visible: selectedUnit().levels > 0, value: selectedUnitLevel, foreach: new Array(selectedUnit().levels)">\n            <option data-bind="text: $index()+1"></option>\n        </select>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-3" data-bind="visible: showStatDetails(), component: {name: \'stats-additional\', params: $data}"></div>\n            \n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Gold:</td><td class="text-right"><span data-bind="text: hero().bountygoldmin() == hero().bountygoldmax() ? hero().bountygoldmax() : hero().bountygoldmin() + \'-\' + hero().bountygoldmax()"></span></td></tr>\n                <tr><td>Experience:</td><td class="text-right"><span data-bind="text: hero().bountyxp()"></span></td></tr>\n                <tr><td>Level:</td><td class="text-right"><span data-bind="text: hero().level()"></span></td></tr>\n                <tr><td><abbr title="Movement Speed">MS</abbr>:</td><td class="text-right"><span data-bind="text: totalMovementSpeed"></span></td></tr>\n                <tr><td>Turn Rate:</td><td class="text-right"><span data-bind="text: totalTurnRate"></span></td></tr>\n                <tr><td>Sight Range:</td><td class="text-right"><span data-bind="html: \'<abbr title=\\\'Day\\\'>\' + visionrangeday() + \'</abbr>/<abbr title=\\\'Night\\\'>\' + visionrangenight() + \'</abbr>\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Health:</td><td class="text-right"><span data-bind="text: health"></span></td></tr>\n                <tr><td>Health Regen:</td><td class="text-right"><span data-bind="text: healthregen"></span></td></tr>\n                <tr><td>Mana:</td><td class="text-right"><span data-bind="text: mana"></span></td></tr>\n                <tr><td>Mana Regen:</td><td class="text-right"><span data-bind="text: manaregen"></span></td></tr>\n                <tr><td>Physical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpPhysical"></span></td></tr>\n                <tr><td>Magical <abbr title="Effective Hit Points">EHP</abbr>:</td><td class="text-right"><span data-bind="text: ehpMagical"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr><td>Armor:</td><td class="text-right"><span data-bind="text: totalArmorPhysical"></span></td></tr>\n                <tr><td>Magic Res:</td><td class="text-right"><span data-bind="html: totalMagicResistance().toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Lifesteal:</td><td class="text-right"><span data-bind="text: lifesteal"></span></td></tr>\n                <tr><td>Evasion:</td><td class="text-right"><span data-bind="text: evasion"></span></td></tr>\n                <tr><td>Bash:</td><td class="text-right"><span data-bind="text: bash"></span></td></tr>\n                <tr><td>Miss Chance:</td><td class="text-right"><span data-bind="text: missChance"></span></td></tr>\n                <tr><td colspan=2><a class="btn btn-default btn-block btn-xs" data-bind="css: {disabled: critInfo().sources.length == 0 ? \'disabled\' : \'\', \'toggled\': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails">Critical Strike Details</a></td></tr>\n                </tbody>\n                <tbody class="tabledropdown" style="border-top:0" data-bind="visible: showCriticalStrikeDetails(),foreach: critInfo().sources">\n                <tr><td colspan=2><strong data-bind="text: $data.name"></strong></td></tr>\n                <tr><td>Crit Chance:</td><td class="text-right"><span data-bind="text: ($data.totalchance * 100).toFixed(2) + \'%\'"></span></td></tr>\n                <tr><td>Crit Multiplier:</td><td class="text-right"><span data-bind="text: ($data.multiplier * 100).toFixed(2) + \'%\'"></span></td></tr>\n                </tbody>\n                </table>\n            </div>\n\n            <div class="col-md-12" data-bind="css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}">\n                <table class="table table-condensed">\n                <tbody>\n                <tr>\n                    <td>Damage:</td>\n                    <td class="text-right">\n                        <span data-bind="html: baseDamage()[0] + \'-\' + baseDamage()[1]"></span>\n                        <span style="color:green" data-bind="visible: bonusDamage() > 0, text: \' + \' + bonusDamage()"></span>\n                        <span style="color:red" data-bind="visible: bonusDamageReduction() != 0, text: \' - \' + bonusDamageReduction()"></span>\n                    </td>\n                </tr>\n                <tr><td><abbr title="Increased Attack Speed">IAS</abbr>:</td><td class="text-right"><span data-bind="text: ias"></span></td></tr>\n                <tr><td><abbr title="Base Attack Time">BAT</abbr>:</td><td class="text-right"><span data-bind="text: bat"></span></td></tr>\n                <tr><td>Attack Time:</td><td class="text-right"><span data-bind="text: attackTime"></span></td></tr>\n                <tr><td>Attack / Sec:</td><td class="text-right"><span data-bind="text: attacksPerSecond().toFixed(2)"></span></td></tr>\n                <tr><td>Attack Range:</td><td class="text-right"><span data-bind="text: totalattackrange"></span></td></tr>\n                <tr><td colspan=2><a class="btn btn-default btn-block btn-xs" data-bind="toggle: showDamageDetails, css: {\'toggled\': showDamageDetails}">Damage Details</a></td></tr>\n                </tbody>\n                </table>\n            </div>\n        </div>\n\n        <div class="row" data-bind="visible: showDamageDetails()">\n            <div class="col-md-12">\n                <h3 style="display:block;" class="section_header" data-bind="toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }">Damage Details\n                    <span class="pull-right">\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'physical\')}">Physical</small>\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'magic\')}">Magical</small>\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'pure\')}">Pure</small>\n                    </span>\n                </h3>\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td></td>\n                            <td class="text-right"><strong>Unmitigated</strong></td>\n                            <td class="text-right"><strong><abbr data-bind="attr: {title: \'After reductions from \' + enemy().hero().displayname()}">After Reductions</abbr></strong></td>\n                        </tr>\n                        <tr>\n                            <td><abbr title="Sum of damage sources">Damage Per Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().total.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'total\'), diffStyle: $root.getDiffMagnitude($data, \'total\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalReduced.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalReduced\'), diffStyle: $root.getDiffMagnitude($data, \'totalReduced\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().geminateAttack.active">\n                            <td class="indent"><abbr title="Sum of damage sources + geminate attack damage">with Geminate Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalGeminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalGeminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'totalGeminateAttack\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalGeminateAttackReduced.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalGeminateAttackReduced\'), diffStyle: $root.getDiffMagnitude($data, \'totalGeminateAttackReduced\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                            <td class="indent"><abbr title="Sum of damage sources + average crit damage per attack">with Crit:</abbr></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().sumTotal.toFixed(2)"></span></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().sumTotalReduced.toFixed(2)"></span></td>\n                        </tr>\n                        <tr>\n                            <td><abbr title="Damage per attack * attacks per second">DPS:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.base.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.base\'), diffStyle: $root.getDiffMagnitude($data, \'dps.base\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.reduced.base.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.reduced.base\'), diffStyle: $root.getDiffMagnitude($data, \'dps.reduced.base\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().geminateAttack.active">\n                            <td class="indent"><abbr title="(Damage per attack * attacks per second) + average geminate attack dps">with Geminate Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.geminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.geminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'dps.geminateAttack\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.reduced.geminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.reduced.geminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'dps.reduced.geminateAttack\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                            <td class="indent"><abbr data-bind="attr: { title: damageTotalInfo().geminateAttack.active ? \'Damage per attack (including crit) * attacks per second + average geminate attack dps\' : \'Damage per attack (including crit) * attacks per second\' }, text: damageTotalInfo().geminateAttack.active ? \'with Crit and Geminate Attack\' : \'with Crit:\' "></abbr></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().dps.total.toFixed(2)"></span></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().dps.reduced.total.toFixed(2)"></span></td>\n                        </tr>\n                        <tr><td colspan=3><strong><abbr title="with %chance taken into account">Damage Sources</abbr></strong></td></tr>\n                        <tr>\n                            <td>Base Damage</td>\n                            <td class="text-right">\n                                <span data-bind="html: ((baseDamage()[0] + baseDamage()[1])/2).toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffText(((baseDamage()[0] + baseDamage()[1])/2).toFixed(2) - ((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2).toFixed(2)), diffStyle: (((baseDamage()[0] + baseDamage()[1])/2).toFixed(2) - ((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2).toFixed(2)), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffText(getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2) - getReducedDamage((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2, \'physical\').toFixed(2)), diffStyle: (getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2) - getReducedDamage((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2, \'physical\').toFixed(2)), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody data-bind="foreach: damageTotalInfo().sources">\n                        <tr>\n                            <td><span data-bind="text: $data.name"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                        </tr>\n                    </tbody>\n\n                    <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                        <td colspan=2><strong>Critical Strike</strong></td>\n                    </tr>\n                    \n                    <tbody data-bind="foreach: damageTotalInfo().sourcesCrit">\n                        <tr>\n                            <td><span data-bind="text: $data.name"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                        </tr>\n                    </tbody>\n                \n                    <tbody>\n                        <tr data-bind="visible: cleaveInfo().length > 0">\n                            <td colspan=3><strong>Cleave</strong></td>\n                        </tr>\n                    </tbody>    \n                    <tbody data-bind="foreach: cleaveInfo()">\n                        <tr><td>Radius:</td><td class="text-right"><span data-bind="html: $data.radius"></span></td></tr>\n                        <tr><td>Magnitude:</td><td class="text-right"><span data-bind="html: ($data.magnitude * 100).toFixed(2) + \'%\'"></span></td></tr>\n                        <tr>\n                            <td>Cleave Damage:</td>\n                            <td class="text-right"><span data-bind="html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)"></span></td>\n                        </tr>\n                    </tbody>\n                \n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n        \n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }">Abilities <small style="color:inherit" data-bind="text: availableSkillPoints() ? (availableSkillPoints() == 1 ? \'1 unspent skillpoint\' : availableSkillPoints() + \' unspent skillpoints\') : \'\'"></small></h3>\n                <div class="row" data-bind="visible: sectionDisplay().ability(), foreach: ability().abilities">\n                    <div data-bind="component: { name: \'ability\', params: $data }"></div>\n                </div>\n                <div class="form-horizontal" data-bind="if: selectedHero().heroName == \'silencer\', visible: sectionDisplay().ability()">\n                    <div class="form-group">\n                            <div class="col-md-2 control-label">\n                                <label for="intelligencestolen">Intelligence Stolen</label>\n                            </div>\n                            <div class="col-md-2">\n                                <input class="form-control" id="intelligencestolen" data-bind="value: intStolen" />\n                            </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }">Buffs</h3>\n                <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <select id="buffselect" class="form-control" data-bind="options: buffs.availableBuffs , optionsText: \'buffDisplayName\', value: buffs.selectedBuff"></select>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: buffs.addBuff">Add</button>\n                            <button class="btn btn-default" data-bind="click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }">Remove</button>\n                        </div>\n                    </div>\n                </div>\n                <div class="row" data-bind="foreach: buffs.buffs, visible: sectionDisplay().buff()">\n                    <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }">\n                        <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                            <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name()) } }"/>\n                            <div class="progress" style="position:relative">\n                                <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                            </div>\n                            <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                            </div>\n                            <div class="btn-group btn-group-justified">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                            </div>\n                        </div>\n                        <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                            <button type="button" class="close" data-bind="click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                            <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                            <div data-bind="if: $data.data.name() in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0">\n                                <div class="col-md-8">\n                                    <div data-bind="component: { name: \'buff-settings\', params: $parent.buffs.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="form-horizontal" data-bind="visible: sectionDisplay().buff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <div class="input-group">\n                                <input class="form-control" id="auto2" data-bind="attr: {id: id() + \'-auto2\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                                <span class="input-group-btn">\n                                    <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto2\'"><span class="glyphicon glyphicon-search"></span></button>\n                                </span>\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: buffs.itemBuffs.addItemBuff">Add</button>\n                        </div>\n                    </div>\n                </div>\n                <div data-bind="foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()">\n                    <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-buff\', params: $data}"></div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }">Debuffs</h3>\n                <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <select id="buffselect" class="form-control" data-bind="options: debuffs.availableDebuffs , optionsText: \'buffDisplayName\', value: debuffs.selectedBuff"></select>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: debuffs.addBuff">Add</button>\n                            <button class="btn btn-default" data-bind="click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }">Remove</button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="row" data-bind="foreach: debuffs.buffs, visible: sectionDisplay().debuff()">\n                    <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }">\n                        <div class="col-md-3 text-center bottom-buffer2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                            <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name()) } }"/>\n                            <div class="progress" style="position:relative">\n                                <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                                <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                            </div>\n                            <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                            </div>\n                            <div class="btn-group btn-group-justified">\n                                <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                            </div>\n                        </div>\n                        <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                            <button type="button" class="close" data-bind="click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                            <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                            <div data-bind="if: $data.data.name() in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0">\n                                <div class="col-md-8">\n                                    <div data-bind="component: { name: \'buff-settings\', params: $parent.debuffs.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div class="form-horizontal" data-bind="visible: sectionDisplay().debuff()">\n                    <div class="form-group">\n                        <div class="col-md-6">\n                            <div class="input-group">\n                                <input class="form-control" id="auto3" data-bind="attr: {id: id() + \'-auto3\' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                                <span class="input-group-btn">\n                                    <button class="btn btn-default" data-bind="jqAutoCombo: id() + \'-auto3\'"><span class="glyphicon glyphicon-search"></span></button>\n                                </span>\n                            </div>\n                        </div>\n                        <div class="col-md-6">\n                            <button class="btn btn-default" data-bind="click: debuffs.itemBuffs.addItemDebuff">Add</button>\n                        </div>\n                    </div>\n                </div>\n                <div data-bind="foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()">\n                    <div class="pull-left" style="margin-right:10px" data-bind="component: { name: \'item-debuff\', params: $data}"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>';
}),define("components/unit-pane",["herocalc_knockout","text!./unit-pane.html"],function(e,t){return{template:t}}),define("text!components/clone-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-4">\n        <img class="img-rounded" data-bind="attr:{src: \'/media/images/heroes/meepo.png\'}"/>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}"></div>\n\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $root.heroes[$parentContext.$index()].clone()}"></div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="visible: showDamageDetails()">\n            <div class="col-md-12">\n                <h3 style="display:block;" class="section_header" data-bind="toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }">Damage Details\n                    <span class="pull-right">\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'physical\')}">Physical</small>\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'magic\')}">Magical</small>\n                        <small style="text-align:center" data-bind="style: {color: getDamageTypeColor(\'pure\')}">Pure</small>\n                    </span>\n                </h3>\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td></td>\n                            <td class="text-right"><strong>Unmitigated</strong></td>\n                            <td class="text-right"><strong><abbr data-bind="attr: {title: \'After reductions from \' + enemy().hero().displayname()}">After Reductions</abbr></strong></td>\n                        </tr>\n                        <tr>\n                            <td><abbr title="Sum of damage sources">Damage Per Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().total.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'total\'), diffStyle: $root.getDiffMagnitude($data, \'total\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalReduced.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalReduced\'), diffStyle: $root.getDiffMagnitude($data, \'totalReduced\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().geminateAttack.active">\n                            <td class="indent"><abbr title="Sum of damage sources + geminate attack damage">with Geminate Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalGeminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalGeminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'totalGeminateAttack\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().totalGeminateAttackReduced.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'totalGeminateAttackReduced\'), diffStyle: $root.getDiffMagnitude($data, \'totalGeminateAttackReduced\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                            <td class="indent"><abbr title="Sum of damage sources + average crit damage per attack">with Crit:</abbr></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().sumTotal.toFixed(2)"></span></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().sumTotalReduced.toFixed(2)"></span></td>\n                        </tr>\n                        <tr>\n                            <td><abbr title="Damage per attack * attacks per second">DPS:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.base.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.base\'), diffStyle: $root.getDiffMagnitude($data, \'dps.base\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.reduced.base.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.reduced.base\'), diffStyle: $root.getDiffMagnitude($data, \'dps.reduced.base\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().geminateAttack.active">\n                            <td class="indent"><abbr title="(Damage per attack * attacks per second) + average geminate attack dps">with Geminate Attack:</abbr></td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.geminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.geminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'dps.geminateAttack\'), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: damageTotalInfo().dps.reduced.geminateAttack.toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffTextWrapper($data, \'dps.reduced.geminateAttack\'), diffStyle: $root.getDiffMagnitude($data, \'dps.reduced.geminateAttack\'), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                        <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                            <td class="indent"><abbr data-bind="attr: { title: damageTotalInfo().geminateAttack.active ? \'Damage per attack (including crit) * attacks per second + average geminate attack dps\' : \'Damage per attack (including crit) * attacks per second\' }, text: damageTotalInfo().geminateAttack.active ? \'with Crit and Geminate Attack\' : \'with Crit:\' "></abbr></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().dps.total.toFixed(2)"></span></td>\n                            <td class="text-right"><span data-bind="html: damageTotalInfo().dps.reduced.total.toFixed(2)"></span></td>\n                        </tr>\n                        <tr><td colspan=3><strong><abbr title="with %chance taken into account">Damage Sources</abbr></strong></td></tr>\n                        <tr>\n                            <td>Base Damage</td>\n                            <td class="text-right">\n                                <span data-bind="html: ((baseDamage()[0] + baseDamage()[1])/2).toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffText(((baseDamage()[0] + baseDamage()[1])/2).toFixed(2) - ((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2).toFixed(2)), diffStyle: (((baseDamage()[0] + baseDamage()[1])/2).toFixed(2) - ((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2).toFixed(2)), visible: showDiff"></span>\n                            </td>\n                            <td class="text-right">\n                                <span data-bind="html: getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2)"></span>\n                                <span data-bind="html: $root.getDiffText(getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2) - getReducedDamage((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2, \'physical\').toFixed(2)), diffStyle: (getReducedDamage((baseDamage()[0] + baseDamage()[1])/2, \'physical\').toFixed(2) - getReducedDamage((heroCompare().baseDamage()[0] + heroCompare().baseDamage()[1])/2, \'physical\').toFixed(2)), visible: showDiff"></span>\n                            </td>\n                        </tr>\n                    </tbody>\n                    <tbody data-bind="foreach: damageTotalInfo().sources">\n                        <tr>\n                            <td><span data-bind="text: $data.name"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                        </tr>\n                    </tbody>\n\n                    <tr data-bind="visible: damageTotalInfo().sourcesCrit.length > 0">\n                        <td colspan=2><strong>Critical Strike</strong></td>\n                    </tr>\n                    \n                    <tbody data-bind="foreach: damageTotalInfo().sourcesCrit">\n                        <tr>\n                            <td><span data-bind="text: $data.name"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damage.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                            <td class="text-right"><span data-bind="html: $data.damageReduced.toFixed(2), style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                        </tr>\n                    </tbody>\n                \n                    <tbody>\n                        <tr data-bind="visible: cleaveInfo().length > 0">\n                            <td colspan=3><strong>Cleave</strong></td>\n                        </tr>\n                    </tbody>    \n                    <tbody data-bind="foreach: cleaveInfo()">\n                        <tr><td>Radius:</td><td class="text-right"><span data-bind="html: $data.radius"></span></td></tr>\n                        <tr><td>Magnitude:</td><td class="text-right"><span data-bind="html: ($data.magnitude * 100).toFixed(2) + \'%\'"></span></td></tr>\n                        <tr>\n                            <td>Cleave Damage:</td>\n                            <td class="text-right"><span data-bind="html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)"></span></td>\n                        </tr>\n                    </tbody>\n                \n                </table>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-8\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, template: { name: \'item-template\', foreach: inventory.items }, visible: sectionDisplay().inventory()"></div>\n            </div>\n        </div>\n\n        <div class="row" data-bind="component: { name: \'damage-amp\', params: $data}"></div>\n    </div>\n</div>'}),define("components/clone-pane",["herocalc_knockout","text!./clone-pane.html"],function(e,t){return{template:t}}),define("text!components/illusion-pane.html",[],function(){return'<div class="row">\n    <div class="col-md-4">\n        <div class="img-rounded" style="background-color:#428bca;display:inline-block">\n            <img class="img-rounded" style="opacity:.5" data-bind="attr:{src: \'/media/images/heroes/\' + selectedHero().heroName + \'.png\'}"/>\n        </div>\n    </div>\n    <div class="col-md-4">\n        <label for="illusionlevel" data-bind="text: illusionDisplayName"></label>\n        <table class="table">\n            <tbody>\n            <tr>\n                <td>Damage Dealt</td>\n                <td class="text-right" data-bind="text: (getOutgoingDamageMultiplier(illusionType(), false, hero().attacktype())*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            <tr>\n                <td>Damage Taken</td>\n                <td class="text-right" data-bind="text: (getIncomingDamageMultiplier(illusionType(), false, hero().attacktype())*100).toFixed(0)+\'%\'"></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="col-md-4">\n        <div data-bind="visible: illusionType() != \'item_manta\'">\n            <label for="illusionlevel">Ability Level</label>\n            <select id="illusionlevel" class="form-control" data-bind="value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())">\n                <option data-bind="text: $index()+1"></option>\n            </select>\n        </div>\n    </div>\n</div>\n\n<div class="row">\n    <div class="col-md-4" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <h3 class="col-md-12">Stats <a class="btn btn-default btn-xs" data-bind="toggle: showStatDetails, text: !showStatDetails() ? \'Show more\' : \'Show less\', attr: {title: !showStatDetails() ? \'Click to show base stats\' : \'Click to hide base stats\'}"></a></h3>\n\n            <div class="col-md-12" data-bind="visible: showStatDetails(), css: {\'col-md-12\': $root.layout() == 0, \'col-md-3\': $root.layout() == 1}, component: {name: \'stats-additional\', params: $data}">\n            </div>\n            <div class="statscontainer" data-bind="foreach: $root.allItems">\n                <div data-bind="component: { name: $data.value, params: $parentContext.$data}"></div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-8" data-bind="css: {\'col-md-4\': $root.layout() == 0, \'col-md-12\': $root.layout() == 1}">\n        <div class="row">\n            <div class="col-md-12">\n                <h3 class="section_header" data-bind="toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }">Inventory <small style="color:goldenrod" data-bind="html: inventory.totalCost() ? \'<img src=\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\'/> \' + inventory.totalCost() : \'\' "></small></h3>\n                <div id="inventory" class="inventory hover-cursor" data-bind="click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {\'row-highlight\': selectedInventory() == -1}, foreach: inventory.items, visible: sectionDisplay().inventory()">\n                    <div class="btn-group">\n                        <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parent.inventory.getActiveBorder($data) == 1, item_inactive: $parent.inventory.getActiveBorder($data) == 0 }, attr:{ src: $parent.inventory.getItemImage($data) }, click: function(data, event) { $parent.inventory.toggleItem($index, data, event); }, event: { dblclick: $parent.inventory.removeItem }"/>\n                        <div style="float:left" data-bind="visible: $parent.inventory.getItemSizeLabel($data) != \'\'">\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px"></div>\n                            <div data-bind="html: $parent.inventory.getItemSizeLabel($data)" style="position:absolute;left:0;bottom:0;color:white;padding:0px 2px"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("components/illusion-pane",["herocalc_knockout","text!./illusion-pane.html"],function(e,t){return{template:t}}),define("text!components/buff-settings.html",[],function(){return'<div class="form-horizontal">\n    <div data-bind="foreach: data">\n        <div class="form-group">\n            <label class="col-md-6 control-label" data-bind="css: {\'checkbox-label\': controlType == \'checkbox\'}, visible: (display == undefined || display == \'buff\'), attr: {\'for\': labelName}, html: labelName"></label>\n            <div data-bind="if: controlType == \'input\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6"><input class="form-control" data-bind="attr: {\'id\': labelName}, value: controlVal"></div>\n            </div>\n            <div data-bind="if: controlType == \'checkbox\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6">\n                    <div class="checkbox">\n                        <input type="checkbox" data-bind="attr: {\'id\': labelName}, checked: controlVal">\n                    </div>\n                </div>\n            </div>\n            <div data-bind="if: controlType == \'text\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6"><p class="form-control-static" data-bind="html: controlVal"></p></div>\n            </div>\n            <div data-bind="if: controlType == \'radio\' && (display == undefined || display == \'buff\')">\n                <div class="col-md-6">\n                    <!-- ko foreach: controlOptions -->\n                    <div class="radio">\n                        <label>\n                            <input type="radio" data-bind="attr: {\'id\': $parent.labelName + value, value: value}, checked: $parent.controlVal">\n                            <span data-bind="text: text"></span>\n                        </label>\n                    </div>\n                    <!-- /ko -->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("components/buff-settings",["herocalc_knockout","text!./buff-settings.html"],function(e,t){return{template:t}}),define("text!components/item-buff.html",[],function(){return'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="uniqueName: console.log($data, $parent, $parents, $parentContext), css: { item_disabled: !enabled(), item_active: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].buffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].buffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].buffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].buffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].buffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),define("components/item-buff",["herocalc_knockout","text!./item-buff.html"],function(e,t){return{template:t}}),define("text!components/item-debuff.html",[],function(){return'<div class="btn-group">\n    <img style="width:75px;" class="img-rounded" data-bind="css: { item_disabled: !enabled(), item_active: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].debuffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].debuffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].debuffs.itemBuffs.removeItem }"/>\n    <div class="btn-group-vertical">\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Remove Item" data-bind="click: $parents[1].debuffs.itemBuffs.removeItem">&times;</button>\n        <button style="padding:3px 10px;" class="btn btn-default btn-xs" title="Disable/Enable Item" data-bind="click: $parents[1].debuffs.itemBuffs.toggleMuteItem, html: enabled() ? \'o\' : \'-\', attr: {title: enabled() ? \'Disable Item\' : \'Enable Item\'}">o</button>\n    </div>\n</div>'}),define("components/item-debuff",["herocalc_knockout","text!./item-debuff.html"],function(e,t){return{template:t}}),define("text!components/damage-amp.html",[],function(){return'<div class="col-md-12">\n    <h3 class="section_header" data-bind="toggle: sectionDisplay().damageamp, css: { section_disabled: !sectionDisplay().damageamp() }">Damage Amplification & Reduction</h3>\n    <div data-bind="visible: sectionDisplay().damageamp(), lazyBinding: sectionDisplay().damageamp">\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="damageinput">Damage</label>\n                    </div>\n                    <div class="col-md-6">\n                        <input class="form-control" id="damageinput" data-bind="value: damageInputValue" />\n                    </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffampselect">Amplification</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffampselect" class="form-control" data-bind="options: damageAmplification.availableBuffs , optionsText: \'buffDisplayName\', value: damageAmplification.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageAmplification.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageAmplification.removeBuff(data, event, damageAmplification.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageAmplification.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.damageAmplification.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageAmplification.removeBuff(data, event, $data.data.name()) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                    <div data-bind="if: $data.data.name() in $parent.damageAmplification.abilityData && $parent.damageAmplification.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageAmplification.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="form-horizontal">\n            <div class="form-group">\n                    <div class="col-md-3 control-label">\n                        <label for="buffreductionselect">Reduction</label>\n                    </div>\n                    <div class="col-md-5">\n                        <select id="buffreductionselect" class="form-control" data-bind="options: damageReduction.availableDebuffs , optionsText: \'buffDisplayName\', value: damageReduction.selectedBuff"></select>\n                    </div>\n                    <div class="col-md-4">\n                        <button class="btn btn-default" data-bind="click: damageReduction.addBuff">Add</button>\n                        <button class="btn btn-default" data-bind="click: function(data,event) { damageReduction.removeBuff(data, event, damageReduction.selectedBuff().buffName) }">Remove</button>\n                    </div>\n            </div>\n        </div>\n        <div class="row" data-bind="foreach: damageReduction.buffs">\n            <div data-bind="css: {row: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()) }">\n                <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n                    <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.data.name() + \'.png\'}, click: function(data, event) { $parent.damageReduction.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageReduction.removeBuff(data, event, $data.data.name()) } }"/>\n                    <div class="progress" style="position:relative">\n                        <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + \'/\' + $parent.getAbilityLevelMax($data.data)"></div>\n                        <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + \'%\' }"></div>\n                    </div>\n                    <div class="btn-group btn-group-justified" data-bind="if: $data.data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelDownAbility($index, data.data, event, $parent); }">-</a>\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.levelUpAbility($index, data.data, event, $parent); }">+</a>\n                    </div>\n                    <div class="btn-group btn-group-justified">\n                        <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data, event); }, css: {\'toggled\': $data.data.isDetail}">Details</a>\n                    </div>\n                </div>\n                <div class="col-md-9 bottom-buffer" data-bind="visible: $data.data.isDetail()">\n                    <button type="button" class="close" data-bind="click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data.data, event); }">&times;</button>\n                    <div data-bind="html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())"></div>\n                    <div data-bind="if: $data.data.name() in $parent.damageReduction.abilityData && $parent.damageReduction.buffs()[$index()].data.level() > 0">\n                        <div class="col-md-8">\n                            <div data-bind="component: { name: \'buff-settings\', params: $parent.damageReduction.abilitySettingsData($data.data.name(), $parent, $index()) }"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <h4>Calculations <a class="btn btn-default btn-xs" data-bind="toggle: showDamageAmpCalcDetails, text: !showDamageAmpCalcDetails() ? \'Show details\' : \'Hide details\'"></a></h4>\n        <table class="table">\n            <tbody>\n                <!-- ko foreach: damageInputModified().data -->\n                <tr data-bind="visible: $parent.showDamageAmpCalcDetails()">\n                    <td><span style="text-decoration: underline;" data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                    <!-- ko foreach: $data.data -->\n                    <tr data-bind="visible: $parents[1].showDamageAmpCalcDetails()">\n                        <td><span data-bind="text: $data.label"></span></td>\n                        <td class="text-right"><span data-bind="html: Math.round($data.value * 100) / 100, diffStyle: $data.value"></span></td>\n                    </tr>\n                    <!-- /ko -->\n                <tr data-bind="css: {subtotal: $parent.showDamageAmpCalcDetails()}">\n                    <td data-bind="visible: $parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage subtotal\'"></span></td>\n                    <td data-bind="visible: !$parent.showDamageAmpCalcDetails()"><span data-bind="text: $data.label + \' damage\'"></span></td>\n                    <td class="text-right"><span data-bind="html: Math.round($data.total * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}"></span></td>\n                </tr>\n                <!-- /ko -->\n                <tr>\n                    <td><strong data-bind="text: damageInputModified().label + \' damage\'"></strong></td>\n                    <td class="text-right"><strong data-bind="html: Math.round(damageInputModified().total * 100) / 100, style: {color: getDamageTypeColor(damageInputModified().damageType)}"></strong></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>';
}),define("components/damage-amp",["herocalc_knockout","text!./damage-amp.html"],function(e,t){return{template:t}}),define("text!components/ability.html",[],function(){return'<div data-bind="if: $data.displayname() != \'Empty\' &&  ($data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_HIDDEN\') == -1 || $data.name().indexOf(\'invoker_\') != -1),\nstyle: {clear: $data.name() == \'invoker_cold_snap\' || $data.name() == \'invoker_chaos_meteor\' ? \'both\' : \'\'},\ncss: {row: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()), row3: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()) }">\n    <div class="col-md-3 text-center bottom-buffer row2" data-bind="css: {\'col-md-3\': $root.layout() == 0, \'col-md-2\': $root.layout() == 1}">\n        <img style="padding:0px;margin-bottom:1px;" class="img-rounded ability" data-bind="css: { ability_active: $data.isActive() || $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') != -1, ability_inactive: !$data.isActive() && $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, btn: $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1, \'btn-default\': $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_PASSIVE\') == -1}, attr:{src: \'/media/images/spellicons/\' + $data.name() + \'.png\'}, click: function(data, event) { $parents[1].ability().toggleAbility($index, data, event); }"/>\n        <div class="progress" style="position:relative">\n            <div style="position:absolute;width:100%;color:white;" class="text-center" data-bind="visible: $parents[1].getAbilityLevelMax($data) > 0, text: $data.level() + \'/\' + $parents[1].getAbilityLevelMax($data)"></div>\n            <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;" data-bind="attr: { \'aria-valuenow\': ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) }, style: { width: ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) + \'%\' }"></div>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') == -1">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelDownAbility($index, data, event, $parents[1]); }">-</a>\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().levelUpAbility($index, data, event, $parents[1]); }">+</a>\n        </div>\n        <div class="btn-group btn-group-justified">\n            <a class="btn btn-default btn-sm" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }, css: {\'toggled\': $data.isDetail}">Details</a>\n        </div>\n        <div class="btn-group btn-group-justified" data-bind="if: $data.behavior().indexOf(\'DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE\') != -1">\n            <a class="btn btn-default btn-sm btn-block" style="visibility:hidden;">&mdash;</a>\n        </div>\n    </div>\n    <div class="col-md-9 bottom-buffer2" data-bind="visible: $data.isDetail()">\n        <button type="button" class="close" data-bind="click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }">&times;</button>\n        <div data-bind="html: $parents[1].ability().getAbilityTooltipData($parents[1].hero().name(), $data.name())"></div>\n        <div data-bind="if: $data.name() in $parents[1].ability().abilityData && $parents[1].ability().abilities()[$index()].level() > 0">\n            <div class="col-md-12" style="margin-top: 10px" >\n                <div data-bind="template: { name: \'ability-settings-template\', data: $parents[1].ability().abilitySettingsData($data.name(), $parents[1], $index()) }"></div>\n            </div>\n        </div>\n    </div>\n</div>'}),define("components/ability",["herocalc_knockout","text!./ability.html"],function(e,t){return{template:t}}),define("text!components/shop.html",[],function(){return'        <div id="shop-container" class="col-md-12 col-lg-4" data-bind="shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {\'col-lg-4\': !shopPopout()}, style: { \'padding-top\': shopPopout() ? \'5px\' : \'0px\'}">\n              <button id="shop-minimize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShop, visible: displayShop()" title="Minimize shop"></button>\n              <button id="shop-maximize" class="btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShop, visible: !displayShop()" title="Maximize shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs" data-bind="click: shopPopout, visible: !shopPopout()" title="Popout shop"></button>\n              <button class="btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs" data-bind="toggle: shopDock, attr: { title: shopDock() ? \'Undock shop to right side of screen\' : \'Dock shop to right side of screen\' }" ></button>\n            <ul id="shoptabs" class="nav nav-tabs" data-bind="visible: displayShop()">\n              <li><a href="#shop_basic" data-toggle="tab">Basic</a></li>\n              <li><a href="#shop_upgrade" data-toggle="tab">Upgrade</a></li>\n              <li><a href="#shop_secret" data-toggle="tab">Secret</a></li>\n            </ul>\n            <div class="tab-content text-center bottom-buffer2" data-bind="visible: displayShop()">\n                <div class="tab-pane active" id="shop_basic">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-consumables" id="consumables"></div>\n  <div class="img-rounded hc-item hc-item-clarity" id="clarity" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-faerie_fire" id="faerie_fire" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-enchanted_mango" id="enchanted_mango" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tango" id="tango" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-flask" id="flask" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-smoke_of_deceit" id="smoke_of_deceit" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tpscroll" id="tpscroll" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dust" id="dust" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-courier" id="courier" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-flying_courier" id="flying_courier" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ward_observer" id="ward_observer" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ward_sentry" id="ward_sentry" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tome_of_knowledge" id="tome_of_knowledge" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bottle" id="bottle" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-attributes" id="attributes"></div>\n  <div class="img-rounded hc-item hc-item-branches" id="branches" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gauntlets" id="gauntlets" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-slippers" id="slippers" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mantle" id="mantle" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-circlet" id="circlet" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-belt_of_strength" id="belt_of_strength" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-boots_of_elves" id="boots_of_elves" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-robe" id="robe" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ogre_axe" id="ogre_axe" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blade_of_alacrity" id="blade_of_alacrity" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-staff_of_wizardry" id="staff_of_wizardry" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armaments" id="armaments"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_protection" id="ring_of_protection" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-stout_shield" id="stout_shield" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-quelling_blade" id="quelling_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-infused_raindrop" id="infused_raindrop" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blight_stone" id="blight_stone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-orb_of_venom" id="orb_of_venom" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blades_of_attack" id="blades_of_attack" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-chainmail" id="chainmail" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-quarterstaff" id="quarterstaff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-helm_of_iron_will" id="helm_of_iron_will" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-broadsword" id="broadsword" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-claymore" id="claymore" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-javelin" id="javelin" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mithril_hammer" id="mithril_hammer" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-arcane" id="arcane"></div>\n  <div class="img-rounded hc-item hc-item-wind_lace" id="wind_lace" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-magic_stick" id="magic_stick" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sobi_mask" id="sobi_mask" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_regen" id="ring_of_regen" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-boots" id="boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gloves" id="gloves" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-cloak" id="cloak" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_health" id="ring_of_health" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-void_stone" id="void_stone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-gem" id="gem" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-lifesteal" id="lifesteal" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-shadow_amulet" id="shadow_amulet" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ghost" id="ghost" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blink" id="blink" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n\n\n                </div>\n                <div class="tab-pane" id="shop_upgrade">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-common" id="common"></div>\n  <div class="img-rounded hc-item hc-item-magic_wand" id="magic_wand" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-null_talisman" id="null_talisman" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-wraith_band" id="wraith_band" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-poor_mans_shield" id="poor_mans_shield" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bracer" id="bracer" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-soul_ring" id="soul_ring" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-phase_boots" id="phase_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-power_treads" id="power_treads" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-oblivion_staff" id="oblivion_staff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-pers" id="pers" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hand_of_midas" id="hand_of_midas" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-travel_boots" id="travel_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-moon_shard" id="moon_shard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-emptyitembg" id="emptyitembg"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-support" id="support"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_basilius" id="ring_of_basilius" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-iron_talon" id="iron_talon" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-headdress" id="headdress" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-buckler" id="buckler" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-urn_of_shadows" id="urn_of_shadows" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-tranquil_boots" id="tranquil_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ring_of_aquila" id="ring_of_aquila" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-medallion_of_courage" id="medallion_of_courage" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-arcane_boots" id="arcane_boots" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ancient_janggo" id="ancient_janggo" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mekansm" id="mekansm" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vladmir" id="vladmir" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-pipe" id="pipe" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-guardian_greaves" id="guardian_greaves" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-caster" id="caster"></div>\n  <div class="img-rounded hc-item hc-item-glimmer_cape" id="glimmer_cape" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-force_staff" id="force_staff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-veil_of_discord" id="veil_of_discord" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-aether_lens" id="aether_lens" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-necronomicon" id="necronomicon" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dagon" id="dagon" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-cyclone" id="cyclone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-solar_crest" id="solar_crest" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-rod_of_atos" id="rod_of_atos" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-orchid" id="orchid" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ultimate_scepter" id="ultimate_scepter" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-refresher" id="refresher" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sheepstick" id="sheepstick" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-octarine_core" id="octarine_core" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-weapons" id="weapons"></div>\n  <div class="img-rounded hc-item hc-item-lesser_crit" id="lesser_crit" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-armlet" id="armlet" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-invis_sword" id="invis_sword" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-basher" id="basher" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bfury" id="bfury" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ethereal_blade" id="ethereal_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-silver_edge" id="silver_edge" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-radiance" id="radiance" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-monkey_king_bar" id="monkey_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-greater_crit" id="greater_crit" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-butterfly" id="butterfly" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-rapier" id="rapier" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-abyssal_blade" id="abyssal_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bloodthorn" id="bloodthorn" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-armor" id="armor"></div>\n  <div class="img-rounded hc-item hc-item-hood_of_defiance" id="hood_of_defiance" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vanguard" id="vanguard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-blade_mail" id="blade_mail" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-soul_booster" id="soul_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-crimson_guard" id="crimson_guard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-black_king_bar" id="black_king_bar" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-lotus_orb" id="lotus_orb" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-shivas_guard" id="shivas_guard" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-bloodstone" id="bloodstone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-manta" id="manta" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sphere" id="sphere" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hurricane_pike" id="hurricane_pike" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-assault" id="assault" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-heart" id="heart" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n<div class="shop-column">\n  <div class="hc-shop hc-shop-artifacts" id="artifacts"></div>\n  <div class="img-rounded hc-item hc-item-mask_of_madness" id="mask_of_madness" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-helm_of_the_dominator" id="helm_of_the_dominator" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-dragon_lance" id="dragon_lance" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sange" id="sange" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-yasha" id="yasha" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-echo_sabre" id="echo_sabre" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-maelstrom" id="maelstrom" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-diffusal_blade" id="diffusal_blade" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-desolator" id="desolator" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-heavens_halberd" id="heavens_halberd" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-sange_and_yasha" id="sange_and_yasha" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-skadi" id="skadi" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mjollnir" id="mjollnir" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-satanic" id="satanic" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n                </div>\n                <div class="tab-pane" id="shop_secret">\n<div class="shop-column">\n  <div class="hc-shop hc-shop-secret" id="secret"></div>\n  <div class="img-rounded hc-item hc-item-energy_booster" id="energy_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-vitality_booster" id="vitality_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-point_booster" id="point_booster" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-platemail" id="platemail" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-talisman_of_evasion" id="talisman_of_evasion" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-hyperstone" id="hyperstone" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-ultimate_orb" id="ultimate_orb" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-demon_edge" id="demon_edge" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-mystic_staff" id="mystic_staff" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-eagle" id="eagle" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-reaver" id="reaver" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n  <div class="img-rounded hc-item hc-item-relic" id="relic" data-bind="click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }"></div>\n</div>\n                </div>\n            </div>\n\n            <div class="form-group" data-bind="visible: displayShop()">\n                <div class="input-group">\n                    <input class="form-control" id="auto" data-bind="jqAuto: { autoFocus: true, html: true }, jqAutoSource: selectedTab().data.inventory.itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: \'displayname\', jqAutoSourceInputValue: \'name\', jqAutoSourceValue: \'value\'" />\n                    <span class="input-group-btn">\n                        <button class="btn btn-default" data-bind="jqAutoCombo: \'auto\'"><span class="glyphicon glyphicon-search"></span></button>\n                    </span>\n                </div>\n            </div>\n\n            <div data-bind="visible: selectedItem() && displayShop()">\n                <button class="btn btn-default btn-xs glyphicon glyphicon-minus pull-right" data-bind="toggle: displayShopItemTooltip, visible: displayShopItemTooltip()" title="Hide item description"></button>\n                <button class="btn btn-default btn-xs glyphicon glyphicon-plus pull-right" data-bind="toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()" title="Show item description"></button>\n                <div data-bind="html: getItemTooltipData, css: { \'hide-shop-item-details\': !displayShopItemTooltip() }"></div>\n                <div style="margin-top:10px;margin-bottom:10px;" class="form-inline" data-bind="visible: getItemInputLabel() != \'\'">\n                    <div class="form-group">\n                        <label for="iteminput" data-bind="text: getItemInputLabel"></label>\n                        <input class="form-control" id="iteminput" data-bind="value: itemInputValue" />\n                    </div>\n                </div>\n                <div class="form-group text-right">\n                    <button class="btn btn-default" data-bind="click: selectedTab().data.buildExplorer.getSelectedInventory().addItem">Add Item</button>\n                </div>\n            </div>\n        </div>';
}),define("components/shop",["herocalc_knockout","text!./shop.html"],function(e,t){return{template:t}}),define("text!components/stats/stat.html",[],function(){return'<span data-bind="text: parseFloat(hero[stat]()).toString()"></span><span data-bind="html: $root.getDiffText(hero.diff[stat]()), diffCss: hero.diff[stat], diffCssStat: stat, visible: hero.showDiff"></span>'}),define("components/stats/stat",["herocalc_knockout","text!./stat.html"],function(e,t){return{template:t}}),define("text!components/stats/stats0.html",[],function(){return"<div class=\"col-md-12 stats0\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Strength:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalStr' } }\"></td></tr>\n    <tr><td>Agility:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalAgi' } }\"></td></tr>\n    <tr><td>Intelligence:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalInt' } }\"></td></tr>\n    <tr><td><abbr title=\"Movement Speed\">MS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMovementSpeed' } }\"></td></tr>\n    <tr><td>Turn Rate:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalTurnRate' } }\"></td></tr>\n    <tr><td>Sight Range:</td><td class=\"text-right\"><span data-bind=\"html: '<abbr title=\\'Day\\'>' + visionrangeday() + '</abbr>/<abbr title=\\'Night\\'>' + visionrangenight() + '</abbr>'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats0",["herocalc_knockout","text!./stats0.html"],function(e,t){return{template:t}}),define("text!components/stats/stats1.html",[],function(){return"<div class=\"col-md-12 stats1\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>Armor:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysical' } }\"></td></tr>\n    <tr><td>Health:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'health' } }\"></td></tr>\n    <tr><td>Health Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'healthregen' } }\"></td></tr>\n    <tr><td>Mana:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'mana' } }\"></td></tr>\n    <tr><td>Mana Regen:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'manaregen' } }\"></td></tr>\n    <tr><td>Physical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpPhysical' } }\"></td></tr>\n    <tr><td>Magical <abbr title=\"Effective Hit Points\">EHP</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpMagical' } }\"></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats1",["herocalc_knockout","text!./stats1.html"],function(e,t){return{template:t}}),define("text!components/stats/stats2.html",[],function(){return"<div class=\"col-md-12 stats2\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr><td>%Phys Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysicalReduction' } }\"></td></tr>\n    <tr><td>%Magic Res:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMagicResistance' } }\"></td></tr>\n    <tr><td>%Lifesteal:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'lifesteal' } }\"></td></tr>\n    <tr><td>%Evasion:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'evasion' } }\"></td></tr>\n    <tr><td>%Bash:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bash' } }\"></td></tr>\n    <tr><td>%Miss Chance:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'missChance' } }\"></td></tr>\n    <tr><td colspan=2><a class=\"btn btn-default btn-block btn-xs\" data-bind=\"css: {disabled: critInfo().sources.length == 0 ? 'disabled' : '', 'toggled': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails\">Critical Strike Details</a></td></tr>\n    </tbody>\n    <tbody class=\"tabledropdown\" style=\"border-top:0\" data-bind=\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\">\n    <tr><td colspan=2><strong data-bind=\"text: $data.name\"></strong></td></tr>\n    <tr><td>Crit Chance:</td><td class=\"text-right\"><span data-bind=\"text: ($data.totalchance * 100).toFixed(2) + '%'\"></span></td></tr>\n    <tr><td>Crit Multiplier:</td><td class=\"text-right\"><span data-bind=\"text: ($data.multiplier * 100).toFixed(2) + '%'\"></span></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats2",["herocalc_knockout","text!./stats2.html"],function(e,t){return{template:t}}),define("text!components/stats/stats3.html",[],function(){return"<div class=\"col-md-12 stats3\" data-bind=\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\">\n    <table class=\"table table-condensed\">\n    <tbody>\n    <tr>\n        <td>Damage:</td>\n        <td class=\"text-right\">\n            <span data-bind=\"html: baseDamage()[0].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[0]), css: {'diffPos': diff['baseDamage']()[0] > 0, 'diffNeg': diff['baseDamage']()[0] < 0}, visible: showDiff\"></span>\n            <span>&ndash;</span>\n            <span data-bind=\"html: baseDamage()[1].toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['baseDamage']()[1]), css: {'diffPos': diff['baseDamage']()[1] > 0, 'diffNeg': diff['baseDamage']()[1] < 0}, visible: showDiff\"></span>\n            <span style=\"color:green\" data-bind=\"visible: bonusDamage() > 0, html: ' + ' + bonusDamage().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamage']()), css: {'diffPos': diff['bonusDamage']() > 0, 'diffNeg': diff['bonusDamage']() < 0}, visible: showDiff\"></span>\n            <span style=\"color:red\" data-bind=\"visible: bonusDamageReduction() != 0, html: ' - ' + bonusDamageReduction().toFixed(0)\"></span>\n            <span data-bind=\"html: $root.getDiffText(diff['bonusDamageReduction']()), css: {'diffPos': diff['bonusDamageReduction']() > 0, 'diffNeg': diff['bonusDamageReduction']() < 0}, visible: showDiff\"></span>\n        </td>\n    </tr>\n    <tr><td><abbr title=\"Increased Attack Speed\">IAS</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ias' } }\"></td></tr>\n    <tr><td><abbr title=\"Base Attack Time\">BAT</abbr>:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bat' } }\"></td></tr>\n    <tr><td>Attack Time:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attackTime' } }\"></td></tr>\n    <tr><td>Attack &frasl; Sec:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attacksPerSecond' } }\"></td></tr>\n    <tr><td>Attack Range:</td><td class=\"text-right\" data-bind=\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalattackrange' } }\"></td></tr>\n    <tr><td colspan=2><a class=\"btn btn-default btn-block btn-xs\" data-bind=\"toggle: showDamageDetails, css: {'toggled': showDamageDetails}\">Damage Details</a></td></tr>\n    </tbody>\n    </table>\n</div>"}),define("components/stats/stats3",["herocalc_knockout","text!./stats3.html"],function(e,t){return{template:t}}),define("text!components/stats/stats-additional.html",[],function(){return'<table class="table table-condensed">\n    <tbody>\n        <tr><td>Base Strength:</td><td class="text-right"><span data-bind="text: hero().attributebasestrength"></span></td></tr>\n        <tr><td>Strength Gain:</td><td class="text-right"><span data-bind="text: hero().attributestrengthgain"></span></td></tr>\n        <tr><td>Base Agility:</td><td class="text-right"><span data-bind="text: hero().attributebaseagility"></span></td></tr>\n        <tr><td>Agility Gain:</td><td class="text-right"><span data-bind="text: hero().attributeagilitygain"></span></td></tr>\n        <tr><td>Base Intelligence:</td><td class="text-right"><span data-bind="text: hero().attributebaseintelligence"></span></td></tr>\n        <tr><td>Intelligence Gain:</td><td class="text-right"><span data-bind="text: hero().attributeintelligencegain"></span></td></tr>\n        <tr><td>Base Armor:</td><td class="text-right"><span data-bind="text: hero().armorphysical"></span></td></tr>\n        <tr><td><abbr title="Base Armor + armor from base agility">Starting Armor:</abbr></td><td class="text-right"><span data-bind="text: parseFloat($data.startingArmor()).toString()"></span></td></tr>\n        <tr><td>Base Magic Res:</td><td class="text-right"><span data-bind="text: hero().magicalresistance() + \'%\'"></span></td></tr>\n        <tr><td>Base Attack Point:</td><td class="text-right"><span data-bind="text: hero().attackpoint"></span></td></tr>\n        <tr><td><abbr data-bind="attr: { title: \'Total experience required to reach level \' + $data.selectedHeroLevel() }">Total Exp:</abbr></td><td class="text-right"><span data-bind="text: $data.totalExp()"></span></span></td></tr>\n        <tr><td><abbr title="Experience required for next level">Next level exp:</abbr></td><td class="text-right"><span data-bind="html: $data.nextLevelExp()"></span></span></td></tr>\n        <tr><td>Respawn Time:</td><td class="text-right"><span data-bind="text: $data.respawnTime()"></span></td></tr>\n    </tbody>\n</table>'}),define("components/stats/stats-additional",["herocalc_knockout","text!./stats-additional.html"],function(e,t){return{template:t}}),define("components/main",["require","exports","module","./hero-pane","./unit-pane","./clone-pane","./illusion-pane","./buff-settings","./item-buff","./item-debuff","./damage-amp","./ability","./shop","./stats/stat","./stats/stats0","./stats/stats1","./stats/stats2","./stats/stats3","./stats/stats-additional"],function(e,t,a){"use strict";e("./hero-pane"),e("./unit-pane"),e("./clone-pane"),e("./illusion-pane"),e("./buff-settings"),e("./item-buff"),e("./item-debuff"),e("./damage-amp"),e("./ability"),e("./shop"),e("./stats/stat"),e("./stats/stats0"),e("./stats/stats1"),e("./stats/stats2"),e("./stats/stats3"),e("./stats/stats-additional")}),define("components",["components/main"],function(e){return e}),define("herocalc/herocalc_app",["require","exports","module","herocalc_knockout","jquery","bootstrap","jquery-ui.custom","chartjs","chartjs-scatter","components","./herocalc_core"],function(e,t,a){"use strict";var i=e("herocalc_knockout"),n=e("jquery");e("bootstrap"),e("jquery-ui.custom"),e("chartjs"),e("chartjs-scatter"),e("components"),i.components.register("hero-pane",{require:"components/hero-pane"}),i.components.register("unit-pane",{require:"components/unit-pane"}),i.components.register("clone-pane",{require:"components/clone-pane"}),i.components.register("illusion-pane",{require:"components/illusion-pane"}),i.components.register("buff-settings",{require:"components/buff-settings"}),i.components.register("item-buff",{require:"components/item-buff"}),i.components.register("item-debuff",{require:"components/item-debuff"}),i.components.register("damage-amp",{require:"components/damage-amp"}),i.components.register("ability",{require:"components/ability"}),i.components.register("shop",{require:"components/shop"}),i.components.register("stat",{require:"components/stats/stat"}),i.components.register("stats0",{require:"components/stats/stats0"}),i.components.register("stats1",{require:"components/stats/stats1"}),i.components.register("stats2",{require:"components/stats/stats2"}),i.components.register("stats3",{require:"components/stats/stats3"}),i.components.register("stats-additional",{require:"components/stats/stats-additional"});var o=e("./herocalc_core").HEROCALCULATOR;o.prototype.PlayerColors=["#2E6AE6","#5DE6AD","#AD00AD","#DCD90A","#E66200","#E67AB0","#92A440","#5CC5E0","#00771F","#956000"],o.prototype.Tab=function(e,t,a,n,o,s){var l=this;return l.id=e,l.href=t,l.color=o,l.data=a,l.data.id=i.observable(l.href),l.text=n,l.template=s,l},o.prototype.TabGroup=function(e,t,a){var n=this;return n.hero=e,n.unit=t,n.clone=a,n.illusions=i.observableArray([]),n},o.prototype.HeroCalculatorViewModel=function(){var e=this;e.heroes=[];for(var t=0;10>t;t++)e.heroes.push(new o.prototype.HeroCalculatorModel(t));for(var t=0;5>t;t++){for(var a=[],s=5;10>s;s++)a.push(e.heroes[s]);e.heroes[t].enemies.push.apply(e.heroes[t].enemies,a)}for(var t=5;10>t;t++){for(var a=[],s=0;5>s;s++)a.push(e.heroes[s]);e.heroes[t].enemies.push.apply(e.heroes[t].enemies,a)}for(var t=0;10>t;t++){for(var a=[],s=0;10>s;s++)t!==s&&a.push(e.heroes[s]);e.heroes[t].otherHeroes.push.apply(e.heroes[t].otherHeroes,a)}for(var t=0;10>t;t++)e.heroes[t].clone=i.observable(new o.prototype.CloneViewModel(0,e.heroes[t])),e.heroes[t].unit=i.observable(new o.prototype.UnitViewModel(0,e.heroes[t])),e.heroes[t].selectedCompare(e.heroes[t].availableCompare()[5>t?4+t:t-5]),e.heroes[t].selectedEnemy(e.heroes[t].availableEnemies()[t%5]),e.heroes[t].unit().enemy(e.heroes[t].enemy()),e.heroes[t].unit().selectedUnit(e.heroes[t].unit().availableUnits()[0]),e.heroes[t].illusions.subscribe(function(t){for(var a=0;a<t.length;a++)if("added"==t[a].status){var i=this.index<2?"#5cb85c":"#d9534f",n=o.prototype.uniqueId();e.tabs()[this.index].illusions.push(new o.prototype.Tab("illusionTab"+this.index+"-"+n,"illusionPane"+this.index+"-"+n,e.heroes[this.index].illusions()[e.tabs()[this.index].illusions().length](),"Illusion "+n,i,"illusion-pane"))}},{vm:this,index:t},"arrayChange");e.heroes[0].bound(!0),e.tabs=i.observableArray([]);for(var l=[],t=0;10>t;t++){var r=o.prototype.PlayerColors[t],d=new o.prototype.TabGroup(new o.prototype.Tab("heroTab"+t,"heroPane"+t,e.heroes[t],"Hero "+t,r,"hero-pane"),new o.prototype.Tab("unitTab"+t,"unitPane"+t,e.heroes[t].unit(),"Unit "+t,r,"unit-pane"),new o.prototype.Tab("cloneTab"+t,"clonePane"+t,e.heroes[t].clone(),"Meepo Clone "+t,r,"clone-pane"));l.push(d)}e.tabs.push.apply(e.tabs,l),e.selectedItem=i.observable(),e.layout=i.observable("1"),e.displayShop=i.observable(!0),e.displayShopItemTooltip=i.observable(!0),e.allItems=i.observableArray([{name:"Str, Agi, Int, MS, Turn, Sight",value:"stats0"},{name:"Armor, Health, Mana, Regen, EHP",value:"stats1"},{name:"Phys Res, Magic Res, Lifesteal, Evasion, Bash, Miss",value:"stats2"},{name:"Damage, IAS, BAT, Attack",value:"stats3"}]),e.selectedItems=i.observableArray([]),e.moveUp=function(){var t=e.allItems.indexOf(e.selectedItems()[0]),a=e.allItems.indexOf(e.selectedItems()[e.selectedItems().length-1]);if(t>0){var i=e.allItems.splice(t-1,1);e.allItems.splice(a,0,i[0])}},e.moveDown=function(){var t=e.allItems.indexOf(e.selectedItems()[0]),a=e.allItems.indexOf(e.selectedItems()[e.selectedItems().length-1]);if(a<e.allItems().length-1){var i=e.allItems.splice(a+1,1);e.allItems.splice(t,0,i[0])}},e.selectedTabId=i.observable("heroTab0"),e.getSelectedTab=function(t){var a=t.replace("heroTab","").replace("cloneTab","").replace("unitTab","").replace("illusionTab","").split("-"),i=a[0],n=e.tabs()[i];return n},e.selectedTab=i.computed(function(){var t=e.getSelectedTab(e.selectedTabId());return-1!=e.selectedTabId().indexOf("hero")?t.hero:-1!=e.selectedTabId().indexOf("unit")?t.unit:-1!=e.selectedTabId().indexOf("clone")?t.clone:-1!=e.selectedTabId().indexOf("illusion")?t.illusions().find(function(t){return t.id==e.selectedTabId()}):e.tabs()[0].hero}),e.selectedTabs=i.observableArray(["heroTab0","heroTab1"]),e.boundSettings=i.observable(!1),e.clickTab=function(t,a,i){e.selectedTabId(a.target.id),e.selectedTabs()[1]!=a.target.id&&(e.selectedTabs.shift(),e.selectedTabs.push(a.target.id)),e.selectedTab().data.hasOwnProperty("bound")&&(e.selectedTab().data.bound(!0),setTimeout(function(){e.selectedTab().data.buildExplorer.graphData.valueHasMutated()},0)),"settingsTab"===a.target.id&&e.boundSettings(!0)},e.isSecondTab=function(t){return e.selectedTabs().indexOf(t)>-1&&e.selectedTabId()!=t},e.showSideTabId=function(t){return e.selectedTabs().indexOf(t)>-1&&e.sideView()},e.removeTab=function(t,a,i,o){a.id==e.selectedTabId()&&(e.clickTab(null,{target:{id:"heroTab0"}}),n("#heroTab0").tab("show")),e.tabs()[o].illusions.remove(function(e){return e==a}),e.heroes[o].illusions.remove(function(e){return e()==a.data})},e.sideView=i.observable(!1),e.sideView.subscribe(function(t){if(t){e.shopPopout()||e.displayShop(!1);for(var a=0;a<e.selectedTabs().length;a++){var i=e.getSelectedTab(e.selectedTabs()[a]);i&&i.hero.data.hasOwnProperty("bound")&&i.hero.data.bound(!0)}e.layout("0")}});var c=n(window);e.windowWidth=i.observable(c.width()),e.windowHeight=i.observable(c.height()),c.resize(function(){e.windowWidth(c.width()),e.windowHeight(c.height())}),e.shopDock=i.observable(!1),e.shopDock.subscribe(function(e){}),e.shopDockTrigger=i.computed(function(){e.windowWidth(),e.shopDock()}),e.shopPopout=i.observable(!1),e.shopPopout.subscribe(function(t){t?(e.displayShop(!0),n("#shop-dialog").dialog({minWidth:380,minHeight:0,closeText:"",open:function(t,a){n(t.target.offsetParent).find(".ui-dialog-titlebar").find("button").addClass("close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right").removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close").css("margin-right","0px").parent().append(n("#shop-minimize")).append(n("#shop-maximize")),n(t.target.offsetParent).find(".ui-dialog-titlebar").dblclick(function(){e.displayShop(!e.displayShop())})},close:function(t,a){e.shopPopout(!1)}})):(n("#shop-container").prepend(n("#shop-minimize")).prepend(n("#shop-maximize")),n("#shop-dialog").dialog("destroy"))}),e.changeSelectedItem=function(t,a){e.itemInputValue(1),e.selectedItem(a.target.id)},e.getItemTooltipData=i.computed(function(){return o.prototype.getItemTooltipData(e.selectedItem())},this),e.getItemInputLabel=i.computed(function(){return-1!=o.prototype.stackableItems.indexOf(e.selectedItem())?"Stack Size":-1!=o.prototype.levelitems.indexOf(e.selectedItem())?"Upgrade Level":"bloodstone"==e.selectedItem()?"Charges":""},this),e.itemInputValue=i.observable(1),e.saveLink=i.observable(),e.save=function(){for(var t={version:"1.3.0",heroes:[]},a=0;10>a;a++){for(var o=e.heroes[a],s={hero:o.selectedHero().heroName,level:o.selectedHeroLevel(),items:[],abilities:[],skillPointHistory:o.skillPointHistory(),buffs:[],itemBuffs:[],debuffs:[],itemDebuffs:[],graphData:[],enemyIndex:o.enemy().index(),heroCompareIndex:o.heroCompare().index()},l=0;l<o.inventory.items().length;l++)s.items.push(i.toJS(o.inventory.items()[l]));for(var l=0;l<o.ability().abilities().length;l++)s.abilities.push({level:o.ability().abilities()[l].level(),isActive:o.ability().abilities()[l].isActive()});for(var l=0;l<o.buffs.buffs().length;l++)s.buffs.push({name:o.buffs.buffs()[l].name,level:o.buffs.buffs()[l].data.level(),isActive:o.buffs.buffs()[l].data.isActive()});for(var l=0;l<o.debuffs.buffs().length;l++)s.debuffs.push({name:o.debuffs.buffs()[l].name,level:o.debuffs.buffs()[l].data.level(),isActive:o.debuffs.buffs()[l].data.isActive()});for(var l=0;l<o.buffs.itemBuffs.items().length;l++)s.itemBuffs.push(i.toJS(o.buffs.itemBuffs.items()[l]));for(var l=0;l<o.debuffs.itemBuffs.items().length;l++)s.itemDebuffs.push(i.toJS(o.debuffs.itemBuffs.items()[l]));s.graphData=i.toJS(o.buildExplorer.graphData),t.heroes.push(s)}var r=JSON.stringify(t);n.ajax({type:"POST",url:"save.php",data:{data:r},dataType:"json",success:function(t){e.saveLink("http://devilesk.com/dota2/apps/hero-calculator?id="+t.file)},failure:function(e){alert("Save request failed.")}})},e.load=function(t){for(var a=0;a<t.heroes.length;a++){var n=e.heroes[a];if(n.selectedHero(o.prototype.findWhere(n.availableHeroes(),{heroName:t.heroes[a].hero})),n.selectedHeroLevel(t.heroes[a].level),n.inventory.items.removeAll(),n.inventory.activeItems.removeAll(),t.heroes[a].hasOwnProperty("heroCompareIndex")){var s=n.availableCompare().filter(function(e){return e.hero.index()==t.heroes[a].heroCompareIndex});s.length&&(n.selectedCompare(s[0]),n.heroCompare(s[0].hero))}if(t.heroes[a].hasOwnProperty("enemyIndex")){var s=n.availableEnemies().filter(function(e){return e.hero.index()==t.heroes[a].enemyIndex});s.length&&(n.selectedEnemy(s[0]),n.enemy(s[0].hero))}for(var l=0;l<t.heroes[a].items.length;l++){var r=t.heroes[a].items[l],d={item:r.item,state:i.observable(r.state),size:r.size,enabled:i.observable(r.enabled)};n.inventory.items.push(d)}for(var l=0;l<t.heroes[a].abilities.length;l++)n.ability().abilities()[l].level(t.heroes[a].abilities[l].level),n.ability().abilities()[l].isActive(t.heroes[a].abilities[l].isActive);n.skillPointHistory(t.heroes[a].skillPointHistory);for(var l=0;l<t.heroes[a].buffs.length;l++){n.buffs.selectedBuff(o.prototype.findWhere(n.buffs.availableBuffs(),{buffName:t.heroes[a].buffs[l].name})),n.buffs.addBuff(n,{});var c=o.prototype.findWhere(n.buffs.buffs(),{name:t.heroes[a].buffs[l].name});c.data.level(t.heroes[a].buffs[l].level),c.data.isActive(t.heroes[a].buffs[l].isActive)}for(var l=0;l<t.heroes[a].debuffs.length;l++){n.debuffs.selectedBuff(o.prototype.findWhere(n.debuffs.availableDebuffs(),{buffName:t.heroes[a].debuffs[l].name})),n.debuffs.addBuff(n,{});var c=o.prototype.findWhere(n.debuffs.buffs(),{name:t.heroes[a].debuffs[l].name});c.data.level(t.heroes[a].debuffs[l].level),c.data.isActive(t.heroes[a].debuffs[l].isActive)}if(t.heroes[a].itemBuffs)for(var l=0;l<t.heroes[a].itemBuffs.length;l++){var r=t.heroes[a].itemBuffs[l],d={item:r.item,state:i.observable(r.state),size:r.size,enabled:i.observable(r.enabled)};n.buffs.itemBuffs.items.push(d)}if(t.heroes[a].itemDebuffs)for(var l=0;l<t.heroes[a].itemDebuffs.length;l++){var r=t.heroes[a].itemDebuffs[l],d={item:r.item,state:i.observable(r.state),size:r.size,enabled:i.observable(r.enabled)};n.debuffs.itemBuffs.items.push(d)}t.heroes[a].graphData&&n.buildExplorer.loadGraphData(t.heroes[a].graphData)}},e.sendReport=function(){n("#BugReportFormText").val()?(n.post("report.php",{name:n("#BugReportFormName").val(),email:n("#BugReportFormEmail").val(),body:n("#BugReportFormText").val()}).done(function(e){"Success"==e?(alert("Report successfully sent. Thanks!"),n("#BugReportFormText").val("")):alert("Failed to send report. Try again later or email admin@devilesk.com")}),n("#myModal").modal("hide")):alert("Message is required.")},e.getProperty=function(e,t){for(var a=e,i=0;i<t.length;i++)a=a[t[i]];return a},e.getDiffTextWrapper=function(t,a){return e.getDiffText(e.getDiffMagnitude(t,a))},e.getDiffMagnitude=function(t,a){var i=a.split(".");return e.getProperty(t.damageTotalInfo(),i).toFixed(2)-e.getProperty(t.heroCompare().damageTotalInfo(),i).toFixed(2)},e.getDiffText=function(e){return e>0?"+"+parseFloat(e.toFixed(2)):0>e?"&minus;"+parseFloat(-1*e.toFixed(2)).toString():""},e.highlightedTabInternal=i.observable(""),e.highlightedTab=i.computed(function(){return e.highlightedTabInternal()}).extend({throttle:100}),e.highlightTab=function(t){e.highlightedTabInternal(t)},e.unhighlightTab=function(t){e.highlightedTabInternal("")}},o.prototype.heroCalculator={},o.prototype.theme=i.observable(n("#theme-select").val()),o.prototype.init=function(e,t,a){n.when(n.get("templates.html",function(e){n("body").append('<div style="display:none">'+e+"</div>")}),n.getJSON(e,function(e){o.prototype.heroData=e,o.prototype.heroData.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),o.prototype.heroData.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var t=o.prototype.heroData.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");o.prototype.heroData.npc_dota_hero_lone_druid.abilities[3].behavior.splice(t,1),t=o.prototype.heroData.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),o.prototype.heroData.npc_dota_hero_abaddon.abilities[2].behavior.splice(t,1),t=o.prototype.heroData.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),o.prototype.heroData.npc_dota_hero_riki.abilities[2].behavior.splice(t,1);for(var a in o.prototype.heroData)o.prototype.HeroOptions.push(new o.prototype.HeroOption(a.replace("npc_dota_hero_",""),o.prototype.heroData[a].displayname))}),n.getJSON(t,function(e){o.prototype.itemData=e}),n.getJSON(a,function(e){o.prototype.unitData=e})).done(function(e,t,a,i){o.prototype.run()})},o.prototype.run=function(){o.prototype.heroCalculator=new o.prototype.HeroCalculatorViewModel,i.applyBindings(o.prototype.heroCalculator),n("#theme-select").change(function(){o.prototype.theme(n(this).val())}),n("#spinner").hide(),n(".initial-hidden").css("display","inline-block"),n("#popHero0").addClass("active"),n("#heroPane0").addClass("active"),n('[data-toggle="tooltip"]').tooltip();var e=o.prototype.getParameterByName("id");e&&n.get("save/"+e+".json",function(e){o.prototype.heroCalculator.load(e)})},o.prototype.inventoryClipBoard={items:[],activeItems:[]},o.prototype.getParameterByName=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}),define("herocalc/main",["require","exports","module","./herocalc_core","./herocalc_inventory","./herocalc_tooltips","./herocalc_abilitydata","./herocalc_abilities","./herocalc_buffs","./herocalc_buffs.amplification.reduction","./herocalc_buildexplorer","./herocalc_hero","./herocalc_hero.illusion","./herocalc_hero.meepo","./herocalc_unit","./herocalc_app"],function(e,t,a){"use strict";var i=e("./herocalc_core");e("./herocalc_inventory"),e("./herocalc_tooltips"),e("./herocalc_abilitydata"),e("./herocalc_abilities"),e("./herocalc_buffs"),e("./herocalc_buffs.amplification.reduction"),e("./herocalc_buildexplorer"),e("./herocalc_hero"),e("./herocalc_hero.illusion"),e("./herocalc_hero.meepo"),e("./herocalc_unit"),e("./herocalc_app"),t.HEROCALCULATOR=i.HEROCALCULATOR}),define("herocalc",["herocalc/main"],function(e){return e}),require.config({packages:["herocalc","components"],paths:{knockout:"//cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min",underscore:"//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min",jquery:"//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min","knockout-mapping":"//cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.4.1/knockout.mapping",chartjs:"//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.1/Chart.min",bootstrap:"//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min","jquery-ui":"lib/jquery-ui","chartjs-scatter":"lib/Chart.scatter",text:"lib/text",herocalc_knockout:"herocalc/herocalc_knockout","jquery-ui.custom":"herocalc/jquery-ui.custom"},shim:{bootstrap:{deps:["jquery"]}}}),require(["jquery","herocalc"],function(e,t){function a(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}e(".top-nav-menu .dropdown-toggle").click(function(){if("none"==e(".mobile-only").css("display")){var t=e(this).attr("href");return window.location.href=t,!1}});var i="css/hero-calculator.theme";"light"==a("theme")?(e("#theme-css").attr("href","/media/css/site-light.css"),e("#hero-css").attr("href",i+".light.css"),e("#theme-select").val("light")):(e("#theme-css").attr("href","/media/css/site.css"),e("#hero-css").attr("href",i+".dark.css"),e("#theme-select").val("dark")),e("#theme-select").change(function(){var t=31536e6;if("light"==e(this).val()){e("#theme-css").attr("href","/media/css/site-light.css"),e("#hero-css").attr("href",i+".light.css");var a=new Date;a.setTime(a.getTime()+t),document.cookie="theme=light;path=/;expires="+a.toGMTString()+";max-age="+t+";"}else{e("#theme-css").attr("href","/media/css/site.css"),e("#hero-css").attr("href",i+".dark.css");var a=new Date;a.setTime(a.getTime()+t),document.cookie="theme=dark;path=/;expires="+a.toGMTString()+";max-age="+t+";"}}),hc=new t.HEROCALCULATOR;var n="Sat Jul 02 2016 20:22:38 GMT-0400 (EDT)";e("#last-update").text(n),hc.init("/media/js/herodata.json","/media/js/itemdata.json","/media/js/unitdata.json")}),define("main",function(){});