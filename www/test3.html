<html>
<head>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
<div class="form-group">
<input class="form-control" type="text" data-bind="value: selectedHeroLevel" />
</div>
<div data-bind="text: hero.heroData().displayname"></div>
<div data-bind="text: test"></div>
<!-- ko with: hero -->
<div data-bind="text: totalAgi"></div>
<!-- /ko -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
<script src="js/herocalc.js"></script>
<script type="text/javascript">
hc = new HeroCalc();
hc.init("/media/js/herodata.json","/media/js/itemdata.json","/media/js/unitdata.json", function () {
    console.log('HeroCalc', HeroCalc.prototype);
    
    function ViewModel() {
        var self = this;
        self.selectedHeroLevel = ko.observable(1);
        self.selectedHeroLevel.subscribe(function (newValue) {
                console.log('newValue', newValue);
                self.hero.selectedHeroLevel(parseInt(newValue));
        });
        self.hero = new HeroCalc.prototype.HeroModel('axe');
        console.log('hero', self.hero);
        self.test = ko.computed(function () {
            return 'test';
        });
        console.log('test', self.test);
        console.log('totalAgi', self.hero.totalAgi);
    }
    
    var vm = new ViewModel();
    console.log('vm', vm);
    ko.applyBindings(vm);
    console.log('done');
});

</script>
</body>
</html>