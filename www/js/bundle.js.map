{"version":3,"sources":["node_modules/browser-pack/_prelude.js","www/js/main.js","www/js/app/main.js","www/js/app/herocalc_knockout.js","www/js/app/jquery-ui.custom.js","www/js/lib/Chart.min.js","www/js/lib/Chart.scatter.js","www/js/herocalc/main.js","www/js/app/herocalc_tooltips.js","www/js/app/heroviewmodel.js","node_modules/bootstrap/dist/js/npm.js","node_modules/bootstrap/js/transition.js","node_modules/bootstrap/js/alert.js","node_modules/bootstrap/js/button.js","node_modules/bootstrap/js/carousel.js","node_modules/bootstrap/js/collapse.js","node_modules/bootstrap/js/dropdown.js","node_modules/bootstrap/js/modal.js","node_modules/bootstrap/js/tooltip.js","node_modules/bootstrap/js/popover.js","node_modules/bootstrap/js/scrollspy.js","node_modules/bootstrap/js/tab.js","node_modules/bootstrap/js/affix.js","node_modules/jquery-ui/ui/version.js","node_modules/jquery-ui/ui/widget.js","node_modules/jquery-ui/ui/unique-id.js","node_modules/jquery-ui/ui/safe-active-element.js","node_modules/jquery-ui/ui/keycode.js","node_modules/jquery-ui/ui/position.js","node_modules/jquery-ui/ui/focusable.js","node_modules/jquery-ui/ui/tabbable.js","node_modules/jquery-ui/ui/plugin.js","node_modules/jquery-ui/ui/ie.js","node_modules/jquery-ui/ui/data.js","node_modules/jquery-ui/ui/scroll-parent.js","node_modules/jquery-ui/ui/disable-selection.js","node_modules/jquery-ui/ui/safe-blur.js","www/js/herocalc/herocalc_core.js","www/js/herocalc/herocalc_inventory.js","www/js/herocalc/herocalc_abilitydata.js","www/js/herocalc/herocalc_abilities.js","www/js/herocalc/herocalc_buffs.js","www/js/herocalc/herocalc_hero.js","www/js/herocalc/herocalc_hero.illusion.js","www/js/herocalc/herocalc_hero.meepo.js","www/js/herocalc/herocalc_unit.js","www/js/app/herocalc_hero_damageamp.js","www/js/app/herocalc_buffs.amplification.reduction.js","www/js/app/herocalc_buildexplorer.js","node_modules/jquery-ui/ui/widgets/button.js","node_modules/jquery-ui/ui/widgets/spinner.js","node_modules/jquery-ui/ui/widgets/menu.js","node_modules/jquery-ui/ui/widgets/autocomplete.js","node_modules/jquery-ui/ui/widgets/mouse.js","node_modules/jquery-ui/ui/widgets/draggable.js","node_modules/jquery-ui/ui/widgets/resizable.js","node_modules/jquery-ui/ui/widgets/dialog.js","www/js/herocalc/polyfill.js","www/js/herocalc/herocalc_knockout.js","www/js/herocalc/herocalc_hero_damage.js","node_modules/knockout-mapping/dist/knockout.mapping.js"],"names":["$","window","global","HEROCALCULATOR","require","hc","lastUpdate","text","init","run","ko","jQuery","components","register","template","my","prototype","PlayerColors","Tab","id","href","data","color","self","this","observable","toJS","TabGroup","hero","unit","clone","illusions","observableArray","map","illusion","HeroCalculatorViewModel","heroes","i","push","HeroCalculatorModel","arr","j","enemies","apply","otherHeroes","CloneViewModel","UnitViewModel","selectedCompare","availableCompare","selectedEnemy","availableEnemies","enemy","selectedUnit","availableUnits","subscribe","changes","length","status","index","uniqueId","tabs","vm","bound","tabsArr","tabGroup","selectedItem","layout","displayShop","displayShopItemTooltip","allItems","name","value","selectedItems","moveUp","start","indexOf","end","e","splice","moveDown","selectedTabId","getSelectedTab","tabId","indices","replace","split","tab","selectedTab","computed","find","selectedTabs","boundSettings","clickTab","event","target","shift","hasOwnProperty","setTimeout","buildExplorer","graphData","valueHasMutated","isSecondTab","showSideTabId","sideView","removeTab","remove","newValue","shopPopout","$window","windowWidth","width","windowHeight","height","resize","shopDock","shopDockTrigger","dialog","minWidth","minHeight","closeText","open","ui","offsetParent","addClass","removeClass","css","parent","append","dblclick","close","prepend","changeSelectedItem","itemInputValue","getItemTooltipData","getItemInputLabel","stackableItems","levelitems","saveLink","getAppState","getSaveData","version","d","selectedHero","heroName","level","selectedHeroLevel","items","abilities","skillPointHistory","buffs","itemBuffs","debuffs","itemDebuffs","enemyIndex","heroCompareIndex","heroCompare","inventory","ability","isActive","save","serialized","JSON","stringify","ajax","type","url","dataType","success","location","protocol","host","pathname","join","file","failure","errMsg","alert","load","findWhere","availableHeroes","removeAll","activeItems","o","filter","option","item","new_item","state","size","enabled","selectedBuff","availableBuffs","buffName","addBuff","b","availableDebuffs","loadGraphData","sendReport","val","post","email","body","done","modal","getProperty","obj","properties","result","getDiffTextWrapper","property","getDiffText","getDiffMagnitude","damageTotalInfo","toFixed","parseFloat","toString","highlightedTabInternal","highlightedTab","extend","throttle","highlightTab","unhighlightTab","theme","heroCalculator","applyBindings","hide","tooltip","saveId","getParameterByName","get","inventoryClipBoard","regex","RegExp","results","exec","search","decodeURIComponent","module","exports","bindingHandlers","stopBinding","controlsDescendantBindings","virtualElements","allowedBindings","lazyBinding","element","valueAccessor","allBindingsAccessor","viewModel","bindingContext","utils","domData","set","update","unwrap","isBound","applyBindingsToDescendants","itemBuildTable","pressedKeys","keyDownHandler","which","keyUpHandler","$hoveredRows","copyInventoryToClipBoard","pasteInventoryFromClipBoard","fadeOut","fadeIn","document","bind","domNodeDisposal","addDisposeCallback","unbind","preventBubble","eventName","unwrapObservable","registerEventHandler","cancelBubble","stopPropagation","toggle","applyBindingsToNode","click","shopDockStyle","$data","style","position","right","top","overflow-y","logger","allBindings","count","console","log","$element","options","isObservable","title","isToolTipVisible","on","origAnimation","animation","popover","popoverBindingValues","content","html","popoverData","popoverEl","$tip","button","buttonPosition","buttonDimensions","x","outerWidth","y","outerHeight","popoverDimensions","placement","left","chart","newCanvas","ctx","getContext","chartType","chartOptions","chartContext","myChart","Chart","clear","destroy","$root","empty","datasets","spinner","spinnerOptions","current","secondTab","second-tab","hoverTab","hoverPaneStyle","opacity","diffStyle","diffPos","diffNeg","diffCss","stat","diffCssStat","jqAuto","writeValueToModel","valueToWrite","isWriteableObservable","modelValue","jqAutoValue","source","jqAutoSource","valueProp","jqAutoSourceValue","inputValueProp","jqAutoSourceInputValue","labelProp","jqAutoSourceLabel","select","actualValue","change","currentValue","matchingItem","arrayFirst","mappedSource","dependentObservable","mapped","arrayMap","label","autocomplete","minLength","jqAutoCombo","autoEl","is","focus","array","term","matcher","escapeRegex","grep","test","proto","initSource","_initSource","isArray","request","response","call","_renderItem","ul","appendTo","t","canvas","aspectRatio","s","retinaScale","defaults","animationSteps","animationEasing","showScale","scaleOverride","scaleSteps","scaleStepWidth","scaleStartValue","scaleLineColor","scaleLineWidth","scaleShowLabels","scaleLabel","scaleIntegersOnly","scaleBeginAtZero","scaleFontFamily","scaleFontSize","scaleFontStyle","scaleFontColor","responsive","maintainAspectRatio","showTooltips","customTooltips","tooltipEvents","tooltipFillColor","tooltipFontFamily","tooltipFontSize","tooltipFontStyle","tooltipFontColor","tooltipTitleFontFamily","tooltipTitleFontSize","tooltipTitleFontStyle","tooltipTitleFontColor","tooltipYPadding","tooltipXPadding","tooltipCaretSize","tooltipCornerRadius","tooltipXOffset","tooltipTemplate","multiTooltipTemplate","multiTooltipKeyBackground","onAnimationProgress","onAnimationComplete","types","helpers","n","each","Array","slice","arguments","concat","a","h","merge","unshift","l","r","where","findNextWhere","findPreviousWhere","inherits","constructor","__super__","c","noop","u","uid","warn","p","amd","define","f","isNumber","isNaN","isFinite","g","max","Math","m","min","v","cap","getDecimalPlaces","S","radians","PI","getAngleFromPoint","sqrt","atan2","angle","distance","aliasPixel","splineCurve","pow","inner","outer","calculateOrderOfMagnitude","floor","LN10","C","calculateScaleRange","abs","ceil","round","steps","stepValue","Function","w","generateLabels","labelTemplateString","easingEffects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","P","cancelAnimFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","animationLoop","animationFrame","getRelativePosition","originalEvent","currentTarget","srcElement","getBoundingClientRect","touches","clientX","clientY","addEvent","addEventListener","attachEvent","L","removeEvent","removeEventListener","detachEvent","k","bindEvents","events","unbindEvents","F","getMaximumWidth","parentNode","clientWidth","R","getMaximumHeight","clientHeight","T","getMaximumSize","devicePixelRatio","scale","A","clearRect","M","fontString","W","longestText","font","measureText","z","drawRoundedRectangle","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","instances","Type","initialize","stop","reflow","render","draw","generateLegend","legendTemplate","removeProperty","removeAttribute","showTooltip","activeElements","points","bars","segments","hasValue","fill","_saved","fillColor","stroke","strokeColor","MultiTooltip","xPadding","yPadding","xOffset","textColor","fontFamily","fontStyle","fontSize","titleTextColor","titleFontFamily","titleFontStyle","titleFontSize","cornerRadius","labels","legendColors","legendColorBackground","custom","tooltipPosition","Tooltip","caretHeight","toBase64Image","toDataURL","Element","restore","transition","Point","display","inRange","hitDetectionRadius","radius","arc","strokeStyle","lineWidth","strokeWidth","fillStyle","Arc","startAngle","endAngle","innerRadius","outerRadius","lineJoin","showStroke","Rectangle","base","xAlign","yAlign","caretPadding","textAlign","textBaseline","fillText","titleFont","getLineHeight","fillRect","Scale","fit","buildYLabels","yLabels","templateString","yLabelWidth","showLabels","addXLabel","xLabels","valuesCount","removeXLabel","startPoint","endPoint","padding","calculateYRange","calculateXLabelRotation","xScalePaddingRight","xScalePaddingLeft","xLabelRotation","xLabelWidth","calculateX","drawingArea","calculateY","offsetGridLines","showHorizontalLines","gridLineWidth","gridLineColor","lineColor","showVerticalLines","translate","rotate","RadialScale","backdropPaddingY","calculateCenterOffset","lineArc","setScaleSize","getCircumference","pointLabelFontSize","pointLabelFontStyle","pointLabelFontFamily","getPointPosition","getIndexAngle","setCenterPoint","xCenter","yCenter","showLabelBackdrop","backdropColor","backdropPaddingX","fontColor","angleLineWidth","angleLineColor","pointLabelFontColor","noConflict","scaleShowGridLines","scaleGridLineColor","scaleGridLineWidth","scaleShowHorizontalLines","scaleShowVerticalLines","barShowStroke","barStrokeWidth","barValueSpacing","barDatasetSpacing","ScaleClass","calculateBarX","calculateBaseWidth","calculateBarWidth","getBarsAtEvent","eachBars","highlightFill","highlightStroke","BarClass","datasetLabel","buildScale","beginAtZero","integersOnly","addData","removeData","segmentShowStroke","segmentStrokeColor","segmentStrokeWidth","percentageInnerCutout","animateRotate","animateScale","SegmentArc","getSegmentsAtEvent","highlightColor","calculateTotal","highlight","circumference","calculateCircumference","total","Doughnut","bezierCurve","bezierCurveTension","pointDot","pointDotRadius","pointDotStrokeWidth","pointHitDetectionRadius","datasetStroke","datasetStrokeWidth","datasetFill","PointClass","getPointsAtEvent","eachPoints","pointColor","pointStrokeColor","pointHighlightFill","pointHighlightStroke","controlPoints","bezierCurveTo","scaleShowLabelBackdrop","scaleBackdropColor","scaleBackdropPaddingY","scaleBackdropPaddingX","scaleShowLine","updateScaleRange","angleShowLineOut","Line","ease","easingDecimal","nextPoint","point","collection","previousPoint","dataset","pointsWithValues","tension","core","itemtooltipdata","ability_vars","$health","$mana","$armor","$damage","$str","$int","$agi","$all","$attack","$hp_regen","$mana_regen","$move_speed","$evasion","$spell_resist","$selected_attribute","$selected_attrib","$cast_range","$attack_range","abilityTooltipData","abilityDamageTypes","DAMAGE_TYPE_MAGICAL","DAMAGE_TYPE_PURE","DAMAGE_TYPE_PHYSICAL","DAMAGE_TYPE_COMPOSITE","DAMAGE_TYPE_HP_REMOVAL","getTooltipItemDescription","description","attributes","attributeName","attributeValue","regexp","getTooltipItemAttributes","attributeTooltip","trim","getTooltipItemCooldown","cooldown","getTooltipItemManaCost","manacost","el","undefined","itemData","displayname","itemcost","attributedata","cd","mana","cdmanacost","lore","getTooltipAbilityDescription","getTooltipAbilityAttributes","damage","reduce","memo","num","attributeValues","trimmedAttributeValues","getTooltipAbilityManaCost","every","getTooltipAbilityCooldown","getAbilityTooltipData","heroData","unitData","abilityunitdamagetype","AbilityModel","HeroOption2","heroDisplayName","HeroOptions","sort","HeroModel","heroId","playerColorCss","heroOption","setHeroOptionStyling","sectionDisplay","buff","debuff","damageamp","skillbuild","skillbuild-skills","skillbuild-items","sectionDisplayToggle","section","showUnitTab","showDiff","showCriticalStrikeDetails","showDamageDetails","showStatDetails","showDamageAmpCalcDetails","damageAmplification","DamageAmpViewModel","damageReduction","BuildExplorerViewModel","HeroDamageAmpMixin","Object","create","transitionEnd","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","fn","emulateTransitionEnd","duration","called","$el","one","callback","trigger","support","special","bsTransitionEnd","bindType","delegateType","handle","handleObj","handler","Plugin","$this","Alert","dismiss","VERSION","TRANSITION_DURATION","removeElement","$parent","detach","selector","attr","preventDefault","closest","Event","isDefaultPrevented","hasClass","old","Constructor","Button","setState","DEFAULTS","isLoading","loadingText","resetText","proxy","prop","removeAttr","changed","$input","toggleClass","$btn","first","Carousel","action","slide","to","interval","pause","cycle","$indicators","paused","sliding","$active","$items","keyboard","keydown","documentElement","wrap","tagName","prev","next","clearInterval","setInterval","getItemIndex","children","getItemForDirection","direction","active","activeIndex","willWrap","delta","itemIndex","eq","pos","that","$next","isCycling","relatedTarget","slideEvent","$nextIndicator","slidEvent","offsetWidth","carousel","clickHandler","$target","slideIndex","$carousel","getTargetFromTrigger","$trigger","Collapse","transitioning","getParent","addAriaAndCollapsedClass","dimension","hasWidth","show","activesData","actives","startEvent","complete","scrollSize","camelCase","offsetHeight","isOpen","collapse","clearMenus","backdrop","contains","Dropdown","insertAfter","desc","dropdown","_relatedTarget","Modal","$body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","BACKDROP_TRANSITION_DURATION","checkScrollbar","setScrollbar","escape","scrollTop","adjustDialog","enforceFocus","off","hideModal","has","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","animate","doAnimate","callbackRemove","modalIsOverflowing","scrollHeight","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","measureScrollbar","bodyPad","parseInt","scrollDiv","className","removeChild","showEvent","timeout","hoverState","inState","delay","container","viewport","getOptions","$viewport","isFunction","hover","Error","triggers","eventIn","eventOut","enter","leave","_options","fixTitle","getDefaults","getDelegateOptions","key","tip","isInStateTrue","hasContent","inDom","ownerDocument","tipId","getUID","setContent","autoToken","autoPlace","getPosition","actualWidth","actualHeight","orgPlacement","viewportDim","bottom","calculatedOffset","getCalculatedOffset","applyPlacement","prevHoverState","offset","marginTop","marginLeft","setOffset","using","props","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","arrow","getTitle","$e","isBody","elRect","isSvg","SVGElement","elOffset","scroll","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","prefix","random","getElementById","$arrow","enable","disable","toggleEnabled","Popover","getContent","ScrollSpy","$scrollElement","offsets","targets","activeTarget","process","refresh","getScrollHeight","offsetMethod","offsetBase","isWindow","$href","maxScroll","activate","parents","parentsUntil","scrollspy","$spy","$ul","$previous","hideEvent","Affix","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","offsetTop","offsetBottom","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","affix","affixType","factory","widgetUuid","widgetSlice","cleanData","orig","elems","elem","_data","triggerHandler","widget","existingConstructor","basePrototype","proxiedPrototype","namespace","fullName","Widget","expr","toLowerCase","_createWidget","_proto","_childConstructors","_super","_superApply","args","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","bridge","input","inputIndex","inputLength","isPlainObject","object","isMethodCall","methodValue","instance","charAt","jquery","pushStack","error","_init","defaultElement","classes","disabled","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","defaultView","parentWindow","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","_destroy","_removeClass","parts","curOption","pop","_setOptions","_setOption","_setOptionClasses","classKey","elements","currentElements","_classes","keys","add","_toggleClass","processClassString","checkOption","unique","not","full","match","extra","_addClass","suppressDisabledCheck","handlers","delegateElement","handlerProxy","guid","_off","_delay","_hoverable","mouseenter","mouseleave","_focusable","focusin","focusout","method","defaultEffect","effect","hasOptions","effectName","isEmptyObject","effects","easing","queue","removeUniqueId","safeActiveElement","activeElement","nodeName","keyCode","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","getOffsets","rpercent","parseCss","getDimensions","raw","nodeType","scrollLeft","pageY","pageX","cachedScrollbarWidth","supportsOffsetFractions","rhorizontal","rvertical","roffset","rposition","_position","w1","w2","div","innerDiv","getScrollInfo","within","overflowX","isDocument","overflowY","hasOverflowX","scrollWidth","hasOverflowY","getWithinInfo","withinElement","hasOffset","of","atOffset","targetWidth","targetOffset","basePosition","dimensions","scrollInfo","collision","at","horizontalOffset","verticalOffset","collisionPosition","elemWidth","elemHeight","collisionWidth","collisionHeight","myOffset","dir","feedback","horizontal","vertical","important","newOverRight","withinOffset","collisionPosLeft","overLeft","overRight","newOverBottom","collisionPosTop","overTop","overBottom","flip","newOverLeft","offsetLeft","newOverTop","flipfit","visible","visibility","hasTabindex","mapName","img","focusableIfVisible","fieldset","tabbable","tabIndex","plugin","plugins","allowDisconnected","ie","navigator","userAgent","createPseudo","dataName","scrollParent","includeHidden","excludeStaticParent","overflowRegex","disableSelection","eventType","enableSelection","safeBlur","abilityData","HeroOption","idCounter","arrLoop","uniques","union","totalResources","numResourcesLoaded","onResourceLoaded","HERODATA_PATH","ITEMDATA_PATH","UNITDATA_PATH","getJSON","behavior","out","deepExtend","successCallback","errorCallback","XMLHttpRequest","onload","parse","responseText","onerror","send","validItems","itemsWithActive","ItemInput","ItemAliases","itemAlias","BasicInventoryViewModel","addItem","toggleItem","removeItem","toggleMuteItem","getItemImage","getItemSizeLabel","getActiveBorder","InventoryViewModel","hasInventory","hasScepter","isEthereal","isSheeped","totalCost","addItemBuff","selectedItemBuff","addItemDebuff","selectedItemDebuff","getItemAttributeValue","getAttributes","attributetype","totalAttribute","attribute","getBash","attacktype","getCritChance","getCritSource","sources","chance","multiplier","getCleaveSource","magnitude","getBashSource","damageType","getOrbProcSource","getOrbSource","getHealth","getHealthRegen","health","getHealthRegenAura","excludeList","getMana","getManaRegen","getManaRegenPercent","getManaRegenBloodstone","getArmor","getArmorAura","aList","attributeList","getArmorReduction","getEvasion","getMovementSpeedFlat","hasBoots","hasEuls","hasWindLace","bootItems","getMovementSpeedPercent","hasYasha","hasDrums","hasDrumsActive","hasPhaseActive","hasShadowBladeActive","hasButterflyActive","hasMoMActive","yashaItems","getMovementSpeedPercentReduction","getBonusDamage","getBonusDamagePercent","getAttackSpeed","hasPowerTreads","getAttackSpeedReduction","getLifesteal","getLifestealAura","getMagicResist","getMagicResistReductionSelf","getMagicResistReduction","getVisionRangeNight","getAttackRange","getMissChance","getBaseDamageReductionPct","getBonusDamageReductionPct","itemOptions","itemOptionsArr","itemBuffOptions","itemDebuffOptions","alchemist_acid_spray","controlType","abilityModel","returnProperty","alchemist_unstable_concoction","ancient_apparition_cold_feet","ancient_apparition_ice_blast","getAbilityPropertyValue","antimage_mana_void","axe_battle_hunger","noLevel","bane_nightmare","bane_fiends_grip","controls","getAbilityAttributeValue","batrider_sticky_napalm","batrider_firefly","bloodseeker_rupture","ignoreTooltip","bristleback_viscous_nasal_goo","bristleback_quill_spray","damage_cap","bristleback_bristleback","controlValueType","controlOptions","bristleback_warpath","centaur_return","centaur_stampede","clinkz_death_pact","crystal_maiden_frostbite","dark_seer_ion_shell","dazzle_shadow_wave","dazzle_weave","death_prophet_exorcism","disruptor_static_storm","damagevalue","mult","doom_bringer_scorched_earth","doom_bringer_doom","dragon_knight_elder_dragon_form","drow_ranger_trueshot","earth_spirit_rolling_boulder","earthshaker_enchant_totem","earthshaker_echo_slam","elder_titan_ancestral_spirit","elder_titan_earth_splitter","enchantress_natures_attendants","enigma_malefice","enigma_midnight_pulse","enigma_black_hole","faceless_void_time_lock","gyrocopter_rocket_barrage","huskar_burning_spear","huskar_berserkers_blood","hp_threshold_max","huskar_life_break","invoker_quas","invoker_wex","invoker_exort","invoker_ghost_walk","invoker_alacrity","invoker_ice_wall","jakiro_dual_breath","jakiro_liquid_fire","jakiro_macropyre","juggernaut_blade_fury","juggernaut_healing_ward","juggernaut_omni_slash","keeper_of_the_light_illuminate","keeper_of_the_light_mana_leak","legion_commander_duel","leshrac_pulse_nova","lich_chain_frost","life_stealer_feast","life_stealer_open_wounds","lina_fiery_soul","lion_mana_drain","luna_moon_glaive","luna_eclipse","lucentBeamAbility","medusa_mystic_snake","snake_jumps","snake_scale","medusa_mana_shield","meepo_poof","meepo_geostrike","mirana_arrow","arrow_min_stun","arrow_max_stunrange","bonus_damage","morphling_morph_agi","morphling_morph_str","furion_wrath_of_nature","necrolyte_heartstopper_aura","necrolyte_sadist","hero_multiplier","night_stalker_crippling_fear","night_stalker_hunter_in_the_night","obsidian_destroyer_arcane_orb","ogre_magi_ignite","pudge_rot","pudge_flesh_heap","pudge_dismember","pugna_nether_ward","pugna_life_drain","queenofpain_shadow_strike","duration_damage","ticks","razor_plasma_field","max_radius","damage_min","damage_max","razor_static_link","tick_duration","drain_rate","razor_eye_of_the_storm","rubick_fade_bolt","sandking_sand_storm","sandking_epicenter","shadow_demon_shadow_poison","stackmult","nevermore_necromastery","nevermore_requiem","shadow_shaman_shackles","silencer_curse_of_the_silent","skywrath_mage_mystic_flare","slark_essence_shift","slark_shadow_dance","sniper_shrapnel","spectre_desolate","spectre_dispersion","storm_spirit_ball_lightning","distance_intervals","travel_cost_base","travel_cost_percent","templar_assassin_psionic_trap","max_slow","slow_per_tick","shredder_reactive_armor","shredder_chakram","spirit_breaker_greater_bash","techies_land_mines","phys_reduction","totalArmorPhysicalReduction","magic_reduction","totalMagicResistance","techies_suicide","respawnTime","techies_remote_mines","tinker_march_of_the_machines","treant_leech_seed","troll_warlord_fervor","undying_decay","str_steal_scepter","undying_soul_rip","undying_flesh_golem","min_speed_slow","full_power_radius","min_damage_amp","ursa_fury_swipes","enrageAbility","enrage_multiplier","ursa_enrage","venomancer_venomous_gale","venomancer_poison_sting","venomancer_poison_nova","viper_poison_attack","viper_corrosive_skin","viper_viper_strike","visage_soul_assumption","soul_base_damage","stack_limit","visage_gravekeepers_cloak","warlock_shadow_word","warlock_upheaval","weaver_the_swarm","windrunner_powershot","winter_wyvern_cold_embrace","base_heal","wisp_spirits","wisp_overcharge","witch_doctor_paralyzing_cask","bounces","witch_doctor_voodoo_restoration","heal_per_tick","mana_per_tick","witch_doctor_maledict","witch_doctor_death_ward","zuus_static_field","isShapeShiftActive","isDetail","baseDamage","baseDamageReductionPct","baseDamageMultiplier","bash","bashBonusDamage","bonusDamage","bonusDamageOrb","bonusDamagePct","bonusDamagePrecisionAura","bonusDamageReduction","bonusHealth","bonusStrength","bonusStrength2","bonusAgility","bonusAgility2","bonusInt","bonusAllStatsReduction","evasion","magicResist","manaregen","manaregenreduction","missChance","movementSpeedFlat","movementSpeedPct","movementSpeedPctReduction","turnRateReduction","attackrange","attackspeed","attackspeedreduction","armor","armorReduction","healthregen","lifesteal","visionnight","visionday","abilityControlData","abilitySettingsData","processAbility","v_list","numeric","labelName","toUpperCase","controlVal","_ability","getComputedFunction","getAbilityAttributeTooltip","clean","abilityName","pureComputed","inputValue","returnVal","getAbilityLevelByAbilityName","getAbilityByName","getAttributeBonusLevel","getAllStatsReduction","getStrengthReduction","getStrength","getAgility","getIntelligence","getArmorBaseReduction","isTrueFormActive","getManaRegenArcaneAura","getManaRegenReduction","getBaseDamage","totalMultiplier","getSelfBaseDamageReductionPct","getBAT","getBonusDamageBackstab","totalAttribute1","totalAttribute2","getBonusDamagePrecisionAura","getBonusDamageReduction","getDamageAmplification","getDamageReduction","getEvasionBacktrack","getTurnRateReduction","getVisionRangePctReduction","setEvasion","setMovementSpeed","MAX_MOVESPEED","MIN_MOVESPEED","totalInt","toggleAbility","toggleAbilityDetail","levelUpAbility","getAbilityLevelMax","availableSkillPoints","abilitytype","levelDownAbility","lastIndexOf","isQWER","BuffOption","buffDisplayName","ItemBuffOption","BuffViewModel","mapping","fromJS","removeBuff","dispose","toggleBuff","toggleBuffDetail","totalExp","nextLevelExp","diffProperties","IllusionOption","baseHero","illusionName","illusionDisplayName","createIllusionOptions","illusionData","displayName","selectedInventory","availableIllusions","selectedIllusion","illusionAbilityLevel","illusionAbilityMaxLevel","max_level","getIndex","primaryAttribute","attributeprimary","startingArmor","attributebaseagility","armorphysical","totalAgi","totalStr","attributeagilitygain","intStolen","attributebaseintelligence","attributeintelligencegain","attributebasestrength","attributestrengthgain","statushealth","healthRegenAura","statushealthregen","statusmana","statusmanaregen","totalArmorPhysical","armorAura","totalArmor","totalMovementSpeed","ms","movementSpeedPercent","movementSpeedPercentReduction","movementspeed","totalTurnRate","movementturnrate","abilityBaseDamage","minDamage","attackdamagemin","maxDamage","attackdamagemax","baseDamageAvg","baseDamageMin","baseDamageMax","damageAvg","damageMin","damageMax","totalMagicResistanceProduct","magicalresistance","bat","abilityBAT","attackrate","ias","attackSpeed","attackSpeedReduction","attackTime","attacksPerSecond","ehpPhysical","ehp","some","ehpMagical","critChance","HeroDamageMixin","critDamage","critInfo","missDebuff","totalattackrange","visionrangeday","visionrangenight","visionnighttimerange","lifestealAura","addIllusion","IllusionViewModel","diff","getDiffFunction","deferEvaluation","chaos_knight_phantasm","use_selected_hero","outgoing_damage","incoming_damage","naga_siren_mirror_image","dark_seer_wall_of_replica","outgoing_damage_scepter","morphling_replicate","phantom_lancer_doppelwalk","phantom_lancer_juxtapose","phantom_lancer_spirit_lance","shadow_demon_disruption","spectre_haunt","terrorblade_conjure_image","terrorblade_reflection","item_manta","is_item","outgoing_damage_melee","incoming_damage_melee","outgoing_damage_ranged","incoming_damage_ranged","abilityLevel","illusionType","abilityObj","getIncomingDamageMultiplier","attackType","getOutgoingDamageMultiplier","CloneOption","levels","image","UnitOption","selectedUnitLevel","DamageInstance","damageBrackets","getDamageAfterBracket","initialDamage","bracket","processDamageAmpReducBracket","getDamageAmpReducInstance","getDamageAmpReduc","sourcesAmp","getDamageMultiplierSources","sourcesReduc","b4","damageInputValue","damageInputModified","getAbilityDamageAmpValue","GraphPropertyOption","itemBuild","skillBuild","graphDataItemRows","carryOver","toggleItemBuildCarryOver","abilityMapData","abilityMapHero","abilityMap","newMap","abilityValue","abilityIndex","availableSkillBuildPoints","getSkillBuildAbilityLevel","toggleAbilitySkillBuild","skillBuildSlice","IsValidAbilityLevel","heroLevel","resetItemBuild","resetAllItemBuilds","resetSkillBuild","graphDataHeader","graphDataDescription","graphProperties","graph","savedAbilityLevels","savedLevel","savedItems","savedActiveItems","carryOverItems","carryOverActiveItems","skillBuildSubset","dataObj","totalRow","header","cumulativeSkillBuild","skillBuildAtLevel","removeGraphDataSet","selectedGraphProperty","graphChartOptions","graphChartData","graphDistinctColor","alpha","rgba","hslToRgb","getDistinctColor","hue2rgb","q","showGraphItemBuildRows","showGraphSkillBuildColumns","graphRowHasItems","selectInventory","getSelectedInventory","copyInventory","graphChartContext","exportImage","write","ui-button","icon","iconPosition","showLabel","isInput","originalLabel","hasTitle","_enhance","keyup","_updateIcon","_updateTooltip","displayBlock","_attachIcon","iconSpace","_attachIconSpace","newShowLabel","newIcon","blur","isDisabled","uiBackCompat","icons","primary","secondary","checkboxradio","buttonset","controlgroup","spinnerModifer","previous","_refresh","ui-spinner","ui-spinner-down","ui-spinner-up","culture","down","up","incremental","numberFormat","page","step","spin","_value","_draw","_events","beforeunload","_start","_keydown","cancelBlur","_stop","mousewheel","spinning","_spin","mousewheelTimer","mousedown .ui-spinner-button","checkFocus","_repeat","mouseup .ui-spinner-button","mouseenter .ui-spinner-button","mouseleave .ui-spinner-button","uiSpinner","buttons","last","counter","timer","_adjustValue","_increment","_precision","precision","_precisionOf","str","decimal","aboveMin","prevValue","_parse","_format","Globalize","format","aria-valuemin","aria-valuemax","aria-valuenow","isValid","allowAny","parsed","replaceWith","stepUp","_stepUp","stepDown","_stepDown","pageUp","pages","pageDown","newVal","_uiSpinnerHtml","_buttonHtml","submenu","menus","role","activeMenu","mouseHandled","mousedown .ui-menu-item","click .ui-menu-item","isPropagationStopped","expand","mouseenter .ui-menu-item","previousFilter","actualTarget","siblings","mouseleave .ui-menu","keepActiveItem","notContained","collapseAll","_closeOnDocumentClick","submenus","addBack","character","skip","previousPage","nextPage","_move","_activate","String","fromCharCode","filterTimer","_filterMenuItems","nextAll","newSubmenus","newItems","newWrappers","aria-hidden","aria-expanded","menu","submenuCaret","_isDivider","_itemRole","listbox","nested","focused","activeParent","_scrollIntoView","_close","_startOpening","borderTop","paddingTop","elementHeight","itemHeight","_hasScroll","fromFocus","_open","all","currentMenu","startMenu","newItem","isFirstItem","prevAll","isLastItem","escapedCharacter","autoFocus","requestIndex","pending","suppressKeyPress","suppressKeyPressRepeat","suppressInput","isTextarea","isMultiLine","_isContentEditable","valueMethod","isNewMenu","_keyEvent","_searchTimeout","keypress","searching","_change","_appendTo","mousedown","menufocus","liveRegion","menuselect","aria-live","aria-relevant","xhr","abort","_isEventTargetInWidget","menuElement","_closeOnClickOutside","equalValues","menuVisible","modifierKey","altKey","ctrlKey","metaKey","shiftKey","_search","cancelSearch","_response","__response","_normalize","_suggest","_renderMenu","_resizeMenu","_renderItemData","keyEvent","editable","messages","noResults","amount","message","cancel","_mouseInit","_mouseDown","stopImmediatePropagation","started","_mouseDestroy","_mouseMoveDelegate","_mouseUpDelegate","_mouseMoved","_mouseStarted","_mouseUp","_mouseDownEvent","btnIsLeft","elIsCancel","_mouseCapture","mouseDelayMet","_mouseDelayTimer","_mouseDistanceMet","_mouseDelayMet","_mouseStart","_mouseMove","documentMode","ignoreMissingWhich","_mouseDrag","_mouseStop","mouse","addClasses","axis","connectToSortable","containment","cursor","cursorAt","grid","helper","iframeFix","refreshPositions","revert","revertDuration","scope","scrollSensitivity","scrollSpeed","snap","snapMode","snapTolerance","stack","zIndex","drag","_setPositionRelative","_setHandleClassName","_removeHandleClassName","destroyOnClear","_blurActiveElement","_getHandle","_blockFrames","iframeBlocks","iframe","_unblockFrames","_createHelper","_cacheHelperProportions","ddmanager","_cacheMargins","cssPosition","hasFixedAncestor","positionAbs","_refreshOffsets","originalPosition","_generatePosition","originalPageX","originalPageY","_adjustOffsetFromHelper","_setContainment","_clear","dropBehaviour","prepareOffsets","dragStart","margins","_getParentOffset","relative","_getRelativeOffset","noPropagation","_convertPositionTo","_uiHash","dropped","drop","dragStop","handleElement","helperIsFunction","helperProportions","_isRootNode","po","scrollIsRootNode","isUserScrollable","ce","relativeContainer","mod","constrainPosition","co","cancelHelperRemoval","draggable","uiSortable","sortables","sortable","isOver","_storedCSS","placeholder","_helper","innermostIntersecting","_intersectsWith","containerCache","_parent","currentItem","fromOutside","_revert","_cursor","_opacity","scrollParentNotHidden","overflowOffset","scrolled","snapElements","$t","$o","inst","ts","bs","ls","rs","x1","x2","y1","y2","snapping","release","snapItem","group","makeArray","_zIndex","alsoResize","animateDuration","animateEasing","autoHide","ui-resizable-se","ghost","handles","maxHeight","maxWidth","_num","_isNumber","_aspectRatio","originalElement","_proportionallyResizeElements","resizable","elementIsWrapper","marginRight","marginBottom","originalResizeStyle","zoom","_proportionallyResize","_setupHandles","_handles","resizing","wrapper","exp","_removeHandles","hname","se","sw","ne","nw","_renderAxis","padPos","padWrapper","capture","curleft","curtop","_renderProxy","originalSize","sizeDiff","originalMousePosition","_propagate","smp","dx","dy","_updatePrevProperties","_updateVirtualBoundaries","_updateRatio","_respectSize","_updateCache","_applyChanges","pr","ista","soffseth","soffsetw","prevPosition","prevSize","forceAspectRatio","pMinWidth","pMaxWidth","pMinHeight","pMaxHeight","Infinity","_vBoundaries","cpos","csize","ismaxw","ismaxh","isminw","isminh","dw","dh","cw","ch","_getPaddingPlusBorderDimensions","widths","borders","paddings","prel","outerDimensions","elementOffset","cs","sp","oc","containerElement","containerOffset","containerPosition","parentData","containerSize","innerHeight","woset","hoset","isParent","isOffsetRelative","cp","pRatio","cop","continueResize","ho","os","op","sum","margin","gridX","gridY","ox","oy","newWidth","newHeight","isMaxWidth","isMaxHeight","isMinWidth","isMinHeight","autoOpen","ui-dialog","ui-dialog-titlebar","closeOnEscape","topOffset","beforeClose","resizeStart","resizeStop","sizeRelatedOptions","resizableRelatedOptions","originalCss","originalTitle","_createWrapper","uiDialog","_createTitlebar","_createButtonPane","_makeDraggable","_makeResizable","_isOpen","_trackFocus","_untrackInstance","_destroyOverlay","before","_focusedElement","opener","_hide","moveToTop","_moveToTop","silent","moved","zIndices","zIndexMax","_focusTabbable","_size","_createOverlay","overlay","_show","_makeFocusTarget","hasFocus","uiDialogButtonPane","uiDialogTitlebarClose","_keepFocus","tabbables","aria-describedby","uiDialogTitle","uiDialogTitlebar","prependTo","_title","aria-labelledby","uiButtonSet","_createButtons","buttonOptions","filteredUi","resizeHandles","_minHeight","_trackingInstances","exists","inArray","isVisible","resizableOptions","isDraggable","isResizable","nonContentHeight","minContentHeight","maxContentHeight","_allowInteraction","isOpening","overlays","dialogClass","predicate","TypeError","list","thisArg","extenders","read","roundingMultiplier","newValueAsNum","notifySubscribers","notify","DamageTypeColor","physical","pure","magic","default","compareByMultiplier","critSources","critSourcesArray","critTotal","total2","totalChance","cleaveInfo","compareByRadius","cleaveSources","cleaveSourcesArray","cleaveSourcesByRadius","bashInfo","bashSources","bashSourcesArray","bashTotal","orbProcInfo","compareByDamage","priority","damageSources","damageSourcesArray","damageTotal","getReducedDamage","bonusDamageArray","bonusDamagePctArray","itemBonusDamage","itemBonusDamagePct","abilityOrbSources","itemOrbSources","itemProcOrbSources","attackSources","item_echo_sabre","attacks","totalDamage","totalCritableDamage","totalCrit","geminateAttack","damageReduced","crits","dps","dpsReduced","orb","totalReduced","totalCritReduced","crit","reduced","forEach","totalCritChance","t1Crit","t2Crit","t3Crit","t4Crit","t1","t2","t3","t4","totalCritRow","sourcesCrit","totalGeminateAttack","totalGeminateAttackReduced","sumTotal","sumTotalReduced","getDamageTypeColor","unionArrays","res","extendObject","destination","destType","getType","bothArrays","obj1","obj2","merged","fillOptions","rawOptions","otherOptions","recognizedRootProperties","ignore","mergeArrays","include","copy","observe","defaultOptions","mappedProperties","copiedProperties","arrayGetDistinctValues","withProxyDependentObservable","dependentObservables","localDO","owner","realDeferEvaluation","realIsPure","isRemoved","DO","tmp","realKoDependentObservable","isWriteable","wrapped","arrayRemoveItem","DEBUG","_wrapper","__DO","realDependentObservable","updateViewModel","mappedRootObject","rootObject","parentName","parentPropertyName","mappedParent","isMapped","previousMapping","mappingProperty","callbackParams","hasCreateCallback","createCallback","emptyReturn","hasUpdateCallback","updateCallback","params","alreadyMapped","visitedObjects","hasKeyCallback","keyCallback","mappedRemove","valueOrPredicate","mappedRemoveAll","arrayOfValues","arrayOfKeys","filterArrayByKey","arrayIndexOf","mappedDestroy","mappedDestroyAll","mappedIndexOf","mappedGet","mappedCreate","currentArrayKeys","newArrayKeys","editScript","compareArrays","ignoreIndexOf","unwrappedRootObject","itemsByKey","optimizedKeys","newContents","passedOver","mappedItem","fullPropertyName","escapePropertyNameComponent","getItemByKey","ignorableIndexOf","arrayChanged","arrayForEach","canHaveProperties","visitPropertiesOrArrayEntries","indexer","prevMappedProperty","retval","hasCreateOrUpdateCallback","ignoreIndices","mapKey","visitorCallback","propertyName","getPropertyName","escapedIndexer","SimpleObjectLookup","values","existingIndex","ObjectLookup","buckets","findBucket","bucketKey","bucket","mappingNesting","_defaultOptions","unwrapped","jsObject","fromJSON","jsonString","parseJson","resetDefaultOptions","visitModel","toJSON","replacer","space","plainJavaScriptObject","stringifyJson","Date","propertyValue","unwrappedRootMappingProperty","previouslyMappedValue"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nvar HEROCALCULATOR = require('./app/main');\nhc = new HEROCALCULATOR();\nvar lastUpdate = \"#DEV_BUILD\";\n$('#last-update').text(lastUpdate);\nhc.init(\"/media/js/herodata.json\",\"/media/js/itemdata.json\",\"/media/js/unitdata.json\", hc.run);","'use strict';\nvar ko = require('./herocalc_knockout');\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nglobal.jQuery = $;\nrequire('bootstrap');\nrequire('./jquery-ui.custom');\nrequire('../lib/Chart.min');\nrequire('../lib/Chart.scatter');\n\nko.components.register('hero-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-3\\\">\\n        <img class=\\\"img-rounded hero-image\\\" data-bind=\\\"attr:{src: '/media/images/heroes/' + selectedHero().heroName + '.png'}\\\"/>\\n    </div>\\n    <div class=\\\"col-md-9\\\">\\n        <div class=\\\"row form-group\\\">\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"heroselect\\\">Hero</label>\\n                <select id=\\\"heroselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: availableHeroes , optionsText: 'heroDisplayName', value: selectedHero\\\"></select>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"herolevel\\\">Level</label>\\n                <input id=\\\"herolevel\\\" data-bind=\\\"spinner: selectedHeroLevel, spinnerOptions: { min: 1, max: 25 }\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"enemyselect\\\">Enemy</label>\\n                <select id=\\\"enemyselect\\\" class=\\\"form-control\\\" data-bind=\\\"css: enemy().playerColorCss, options: availableEnemies , optionsText: 'heroDisplayName', value: selectedEnemy, optionsAfterRender: setHeroOptionStyling\\\"></select>\\n            </div>\\n            <div class=\\\"col-md-6\\\">\\n                <label for=\\\"enemyselect\\\">Compare to</label>\\n                <select id=\\\"enemyselect\\\" class=\\\"form-control\\\" data-bind=\\\"css: heroCompare().playerColorCss, options: availableCompare , optionsText: 'heroDisplayName', value: selectedCompare, optionsAfterRender: setHeroOptionStyling\\\"></select>\\n            </div>\\n            <div class=\\\"col-md-12 checkbox\\\" style=\\\"margin-bottom:0px;padding-left:34px;\\\" data-bind=\\\"visible: $root.layout() == 0\\\">\\n                <label><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showDiff\\\"><span style=\\\"font-size:12px\\\">Show <abbr title=\\\"The difference between two adjacent hero tabs shown next to each stat.\\\">delta values</abbr>. <span data-bind=\\\"visible: showDiff\\\">Comparing level <span data-bind=\\\"text: selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroData().displayname, css: playerColorCss\\\"></span> to level <span data-bind=\\\"text: heroCompare().selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss\\\"></span>.</span></span></label>\\n                <label style=\\\"margin-left:25px;font-size:12px;\\\"><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showUnitTab\\\">Show unit tab</label>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a>\\n                <div style=\\\"margin-left:15px;display:inline;\\\" data-bind=\\\"style: {'display': $root.layout() == 1 ? 'inline' : 'none'}\\\">\\n                    <label><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showDiff\\\"><span style=\\\"font-size:12px\\\">Show <abbr title=\\\"The difference between two adjacent hero tabs shown next to each stat.\\\">delta values</abbr>. <span data-bind=\\\"visible: showDiff\\\">Comparing level <span data-bind=\\\"text: selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroData().displayname, css: playerColorCss\\\"></span> to level <span data-bind=\\\"text: heroCompare().selectedHeroLevel\\\"></span> <span data-bind=\\\"text: heroCompare().heroData().displayname, css: heroCompare().playerColorCss\\\"></span>.</span></span></label>\\n                    <label style=\\\"margin-left:25px;font-size:12px;\\\"><input type=\\\"checkbox\\\" style=\\\"float:none;margin-right:5px;\\\" data-bind=\\\"checked: showUnitTab\\\">Show unit tab</label>\\n                </div>\\n            </h3>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"visible: showStatDetails(), css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}, component: {name: 'stats-additional', params: $data}\\\"></div>\\n\\n            <div class=\\\"statscontainer\\\" data-bind=\\\"foreach: $root.allItems\\\">\\n                <div data-bind=\\\"component: { name: $data.value, params: $parentContext.$data}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-8': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div data-bind=\\\"component: { name: 'damage-details', params: $data}\\\"></div>\\n    \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"itemBuildTable: $data.buildExplorer\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, template: { name: 'item-template', foreach: inventory.items }, visible: sectionDisplay().inventory()\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }\\\">Abilities <small style=\\\"color:inherit\\\" data-bind=\\\"text: availableSkillPoints() ? (availableSkillPoints() == 1 ? '1 unspent skillpoint' : availableSkillPoints() + ' unspent skillpoints') : ''\\\"></small></h3>\\n                <div class=\\\"row\\\" data-bind=\\\"visible: sectionDisplay().ability(), foreach: ability().abilities\\\">\\n                    <div data-bind=\\\"component: { name: 'ability', params: $data }\\\"></div>\\n                </div>\\n                <div class=\\\"form-horizontal\\\" data-bind=\\\"if: selectedHero().heroName == 'silencer', visible: sectionDisplay().ability()\\\">\\n                    <div class=\\\"form-group\\\">\\n                            <div class=\\\"col-md-2 control-label\\\">\\n                                <label for=\\\"intelligencestolen\\\">Intelligence Stolen</label>\\n                            </div>\\n                            <div class=\\\"col-md-2\\\">\\n                                <input class=\\\"form-control\\\" id=\\\"intelligencestolen\\\" data-bind=\\\"value: intStolen\\\" />\\n                            </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div data-bind=\\\"component: { name: 'buff-section', params: $data}\\\"></div>\\n        \\n        <div class=\\\"row\\\" data-bind=\\\"component: { name: 'damage-amp', params: $data}\\\"></div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().illusion, css: { section_disabled: !sectionDisplay().illusion() }\\\">Illusions</h3>\\n                <div data-bind=\\\"visible: sectionDisplay().illusion(), lazyBinding: sectionDisplay().illusion\\\">\\n                    <h4 style=\\\"color:red\\\">Under Construction</h4>\\n                    <div class=\\\"form-horizontal\\\">\\n                        <div class=\\\"form-group\\\">\\n                                <div class=\\\"col-md-2 control-label\\\">\\n                                    <label for=\\\"illusionSelect\\\">Type</label>\\n                                </div>\\n                                <div class=\\\"col-md-10\\\">\\n                                    <select id=\\\"illusionSelect\\\" class=\\\"form-control\\\" data-bind=\\\"options: availableIllusions , optionsText: 'illusionDisplayName', value: selectedIllusion\\\"></select>\\n                                </div>\\n                        </div>\\n                        <div class=\\\"form-group\\\">\\n                                <div class=\\\"col-md-2 control-label\\\">\\n                                    <label for=\\\"illusionabilitylevel\\\">Ability Level</label>\\n                                </div>\\n                                <div class=\\\"col-md-10\\\">\\n                                    <select id=\\\"illusionabilitylevel\\\" class=\\\"form-control\\\" data-bind=\\\"value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())\\\">\\n                                        <option data-bind=\\\"text: $index()+1\\\"></option>\\n                                    </select>\\n                                </div>\\n                        </div>\\n                        <div class=\\\"form-group\\\">\\n                            <div class=\\\"col-md-offset-2 col-md-10\\\">\\n                                <button class=\\\"btn btn-default\\\" data-bind=\\\"click: addIllusion\\\">Add Illusion</button>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    \\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().skillbuild, css: { section_disabled: !sectionDisplay().skillbuild() }\\\">Build Explorer</h3>\\n        <div data-bind=\\\"visible: sectionDisplay().skillbuild(), attr: {id: 'section-build-explorer-' + index() }, lazyBinding: sectionDisplay().skillbuild\\\">\\n            <div class=\\\"section-content\\\">    \\n                <div class=\\\"col-md-12\\\">\\n                    <h4 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay()['skillbuild-skills'], css: { section_disabled: !sectionDisplay()['skillbuild-skills']() }\\\">Skill Build <small style=\\\"color:inherit\\\" data-bind=\\\"text: buildExplorer.availableSkillBuildPoints() ? (buildExplorer.availableSkillBuildPoints() == 1 ? '1 unspent skillpoint' : buildExplorer.availableSkillBuildPoints() + ' unspent skillpoints') : ''\\\"></small></h4>\\n                        <div data-bind=\\\"visible: sectionDisplay()['skillbuild-skills']\\\">\\n                        <table>\\n                            <tbody data-bind=\\\"template: { name: 'ability-3-template', foreach: ability().abilities }\\\"></tbody>\\n                        </table>\\n                        <div class=\\\"form-group\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.resetSkillBuild\\\">Clear</button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-12\\\">\\n                    <h4 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay()['skillbuild-items'], css: { section_disabled: !sectionDisplay()['skillbuild-items']() }\\\">Item Build</h4>\\n                    <div data-bind=\\\"visible: sectionDisplay()['skillbuild-items']\\\">\\n                        <table class=\\\"table\\\">\\n                            <thead>\\n                                <tr>\\n                                    <th>Level</th>\\n                                    <th class=\\\"text-center\\\">Inventory</th>\\n                                    <th></th>\\n                                    <th></th>\\n                                    <th></th>\\n                                </tr>\\n                            </thead>\\n                            <tbody data-bind=\\\"foreach: new Array(25), itemBuildTable: buildExplorer\\\">\\n                                <tr class=\\\"hover-cursor\\\" data-bind=\\\"css: {'row-highlight': $parent.selectedInventory() == $index()}\\\">\\n                                    <td class=\\\"carry-over\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }\\\">\\n                                        <strong data-bind=\\\"text: ($index() + 1)\\\"></strong>\\n                                        <a class=\\\"btn btn-default btn-xs glyphicon\\\" data-bind=\\\"visible: $index() > 0, toggle: $parent.buildExplorer.itemBuild()[$index()].carryOver, preventBubble: 'click', css: { 'glyphicon-arrow-down': $parent.buildExplorer.itemBuild()[$index()].carryOver(), 'glyphicon-stop': !$parent.buildExplorer.itemBuild()[$index()].carryOver() }\\\" title=\\\"Carry over items to next level's inventory\\\"></a>\\n                                    </td>\\n                                    <td class=\\\"col-md-10\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.selectInventory($index()); }\\\">\\n                                        <div class=\\\"itemBuild-inventory\\\" data-bind=\\\"template: { name: 'itemBuild-item-template', foreach: $parent.buildExplorer.itemBuild()[$index()].items }\\\"></div>\\n                                    </td>\\n                                    <td>\\n                                        <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.copyInventoryToClipBoard($index()); }\\\" title=\\\"Copy items\\\">Copy</a>\\n                                    </td>\\n                                    <td>\\n                                        <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.pasteInventoryFromClipBoard($index()); }\\\" title=\\\"Paste items\\\">Paste</a>\\n                                    </td>\\n                                    <td>\\n                                        <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"click: function (data, event) { $parent.buildExplorer.resetItemBuild($index()); }\\\" title=\\\"Clear inventory\\\">Clear</a>\\n                                    </td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                        <div class=\\\"form-group\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.resetAllItemBuilds\\\">Clear</button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label>Data set header label</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" data-bind=\\\"value: buildExplorer.graphDataHeader\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label>Data set description</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" data-bind=\\\"value: buildExplorer.graphDataDescription\\\">\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.graph\\\">Add data set</button>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label>Hero Property</label>\\n                    <select class=\\\"form-control\\\" data-bind=\\\"options: buildExplorer.graphProperties, optionsText: 'label', optionsValue: 'id', value: buildExplorer.selectedGraphProperty\\\"></select>\\n                </div>\\n                <!-- ko if: buildExplorer.graphData().length > 0 -->\\n                <div class=\\\"form-group\\\" data-bind=\\\"chart: buildExplorer.graphChartData, chartType: 'Scatter', chartOptions: buildExplorer.graphChartOptions(), chartContext: buildExplorer.graphChartContext\\\"></div>\\n                <div class=\\\"form-group\\\">\\n                  <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buildExplorer.exportImage\\\"><span class=\\\"glyphicon glyphicon-export\\\"></span> Export Image</button>\\n                </div>\\n                <button class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: buildExplorer.showGraphItemBuildRows, css: {'toggled': buildExplorer.showGraphItemBuildRows}\\\">Show item build rows</button>\\n                <button class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: buildExplorer.showGraphSkillBuildColumns, css: {'toggled': buildExplorer.showGraphSkillBuildColumns}\\\">Show skill build columns</button>\\n                <table class=\\\"table build-table\\\">\\n                    <thead>\\n                        <tr>\\n                            <th class=\\\"right-border\\\">Level</th>\\n                            <!-- ko foreach: buildExplorer.graphData -->\\n                            <th class=\\\"text-center\\\" data-bind=\\\"css: { 'right-border': !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible() }\\\">\\n                                <span data-bind=\\\"css: { 'tooltip-underline': $data.description }, tooltip: {title: $data.description, placement: 'bottom'}, visible: $data.visible(), text: $data.header, style: { color: $parent.buildExplorer.graphDistinctColor($parent.buildExplorer.graphData().length, $index(), 1) }\\\"></span>\\n                                <span class=\\\"btn btn-xs glyphicon glyphicon-info-sign\\\" data-bind=\\\"visible: $data.visible(), popover: {template: 'popover-graphData-template', data: $data, options: {} }\\\"></span>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right\\\" class=\\\"close\\\" data-bind=\\\"visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }\\\"></button>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon pull-right\\\" data-bind=\\\"visible: !$parent.buildExplorer.showGraphSkillBuildColumns() || !$data.visible(), toggle: $data.visible, css: { 'glyphicon-minus': $data.visible(), 'glyphicon-plus': !$data.visible()}\\\"></button>\\n                            </th>\\n                            <th class=\\\"text-left right-border\\\" data-bind=\\\"visible: $data.visible() && $parent.buildExplorer.showGraphSkillBuildColumns()\\\"><abbr title=\\\"Q-W-E-R-Stats\\\">Skill Build</abbr>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-remove pull-right\\\" class=\\\"close\\\" data-bind=\\\"visible: $parent.buildExplorer.showGraphSkillBuildColumns(), click: function(data, event) { $parent.buildExplorer.removeGraphDataSet($data); }\\\"></button>\\n                                <button class=\\\"btn btn-default btn-xs shop-button glyphicon pull-right\\\" data-bind=\\\"visible: $parent.buildExplorer.showGraphSkillBuildColumns(), toggle: $data.visible, css: { 'glyphicon-minus': $data.visible(), 'glyphicon-plus': !$data.visible()}\\\"></button>\\n                            </th>\\n                            <!-- /ko -->\\n                        </tr>\\n                    </thead>\\n                    <tbody data-bind=\\\"foreach: new Array(buildExplorer.graphData()[0].data.length)\\\">\\n                        <tr>\\n                            <td class=\\\"right-border\\\">\\n                                <strong data-bind=\\\"text: ($index() + 1)\\\"></strong>\\n                            </td>\\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\\n                            <td class=\\\"text-right\\\" data-bind=\\\"css: { 'right-border': !$parents[1].buildExplorer.showGraphSkillBuildColumns() || !$parents[1].buildExplorer.graphData()[$index()].visible() }\\\">\\n                                <span data-bind=\\\"visible: $parents[1].buildExplorer.graphData()[$index()].visible(), text: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()][$parents[1].buildExplorer.selectedGraphProperty()]\\\"></span>\\n                            </td>\\n                            <td class=\\\"text-left right-border\\\" data-bind=\\\"visible: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns(), text: $parents[1].buildExplorer.graphData()[$index()].cumulativeSkillBuild[$parentContext.$index()].join('-')\\\"></td>\\n                            <!-- /ko -->\\n                        </tr>\\n                        <tr class=\\\"itemBuild-inventory\\\" data-bind=\\\"visible: $parent.buildExplorer.showGraphItemBuildRows() && $parent.buildExplorer.graphRowHasItems($index())\\\">\\n                            <td class=\\\"right-border-itemrow no-top-border\\\"></td>\\n                            <!-- ko foreach: new Array($parent.buildExplorer.graphData().length) -->\\n                            <td class=\\\"right-border-itemrow no-top-border\\\" data-bind=\\\"attr: { colspan: $parents[1].buildExplorer.graphData()[$index()].visible() && $parents[1].buildExplorer.showGraphSkillBuildColumns() ? 2 : 1 }\\\">\\n                                <div data-bind=\\\"visible: $parents[1].buildExplorer.graphData()[$index()].visible(), foreach: $parents[1].buildExplorer.graphData()[$index()].data[$parentContext.$index()].items\\\">\\n                                    <img class=\\\"itemBuild-img-sm img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled, item_active: $parents[2].inventory.getActiveBorder($data) == 1, item_inactive: $parents[2].inventory.getActiveBorder($data) == 0 }, attr:{ src: $parents[2].inventory.getItemImage($data) }\\\"/>\\n                                    <div style=\\\"float:left\\\" data-bind=\\\"visible: $parents[2].inventory.getItemSizeLabel($data) != ''\\\">\\n                                        <div data-bind=\\\"html: $parents[2].inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px\\\"></div>\\n                                        <div data-bind=\\\"html: $parents[2].inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;padding:0px 2px\\\"></div>\\n                                    </div>\\n                                </div>\\n                            </td>\\n                            <!-- /ko -->\\n                        </tr>\\n                    </tbody>\\n                </table>\\n                <!-- /ko -->\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\" });\nko.components.register('unit-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n        <img class=\\\"img-rounded\\\" data-bind=\\\"attr:{src: selectedUnit().image}\\\"/>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <label for=\\\"unitselect\\\">Unit</label>\\n        <select id=\\\"unitselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: availableUnits , optionsText: 'heroDisplayName', value: selectedUnit\\\"></select>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <label for=\\\"unitlevel\\\">Level</label>\\n        <p class=\\\"form-control-static\\\" data-bind=\\\"visible: selectedUnit().levels == 0, text: hero().level\\\"></p>\\n        <select id=\\\"herolevel\\\" class=\\\"form-control\\\" data-bind=\\\"visible: selectedUnit().levels > 0, value: selectedUnitLevel, foreach: new Array(selectedUnit().levels)\\\">\\n            <option data-bind=\\\"text: $index()+1\\\"></option>\\n        </select>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a></h3>\\n\\n            <div class=\\\"col-md-3\\\" data-bind=\\\"visible: showStatDetails(), component: {name: 'stats-additional', params: $data}\\\"></div>\\n            \\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr><td>Gold:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: hero().bountygoldmin() == hero().bountygoldmax() ? hero().bountygoldmax() : hero().bountygoldmin() + '-' + hero().bountygoldmax()\\\"></span></td></tr>\\n                <tr><td>Experience:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: hero().bountyxp()\\\"></span></td></tr>\\n                <tr><td>Level:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: hero().level()\\\"></span></td></tr>\\n                <tr><td><abbr title=\\\"Movement Speed\\\">MS</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalMovementSpeed\\\"></span></td></tr>\\n                <tr><td>Turn Rate:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalTurnRate\\\"></span></td></tr>\\n                <tr><td>Sight Range:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: '<abbr title=\\\\'Day\\\\'>' + visionrangeday() + '</abbr>/<abbr title=\\\\'Night\\\\'>' + visionrangenight() + '</abbr>'\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr><td>Health:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: health\\\"></span></td></tr>\\n                <tr><td>Health Regen:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: healthregen\\\"></span></td></tr>\\n                <tr><td>Mana:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: mana\\\"></span></td></tr>\\n                <tr><td>Mana Regen:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: manaregen\\\"></span></td></tr>\\n                <tr><td>Physical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ehpPhysical\\\"></span></td></tr>\\n                <tr><td>Magical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ehpMagical\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr><td>Armor:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalArmorPhysical\\\"></span></td></tr>\\n                <tr><td>Magic Res:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: totalMagicResistance().toFixed(2) + '%'\\\"></span></td></tr>\\n                <tr><td>Lifesteal:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: lifesteal\\\"></span></td></tr>\\n                <tr><td>Evasion:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: evasion\\\"></span></td></tr>\\n                <tr><td>Bash:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: bash\\\"></span></td></tr>\\n                <tr><td>Miss Chance:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: missChance\\\"></span></td></tr>\\n                </tbody>\\n                <tbody class=\\\"tabledropdown\\\" style=\\\"border-top:0\\\" data-bind=\\\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\\\">\\n                <tr><td colspan=2><strong data-bind=\\\"text: $data.name\\\"></strong></td></tr>\\n                <tr><td>Crit Chance:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.totalchance * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n                <tr><td>Crit Multiplier:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.multiplier * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n                <table class=\\\"table table-condensed\\\">\\n                <tbody>\\n                <tr>\\n                    <td>Damage:</td>\\n                    <td class=\\\"text-right\\\">\\n                        <span data-bind=\\\"html: baseDamage()[0] + '-' + baseDamage()[1]\\\"></span>\\n                        <span style=\\\"color:green\\\" data-bind=\\\"visible: bonusDamage() > 0, text: ' + ' + bonusDamage()\\\"></span>\\n                        <span style=\\\"color:red\\\" data-bind=\\\"visible: bonusDamageReduction() != 0, text: ' - ' + bonusDamageReduction()\\\"></span>\\n                    </td>\\n                </tr>\\n                <tr><td><abbr title=\\\"Increased Attack Speed\\\">IAS</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ias\\\"></span></td></tr>\\n                <tr><td><abbr title=\\\"Base Attack Time\\\">BAT</abbr>:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: bat\\\"></span></td></tr>\\n                <tr><td>Attack Time:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: attackTime\\\"></span></td></tr>\\n                <tr><td>Attack / Sec:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: attacksPerSecond().toFixed(2)\\\"></span></td></tr>\\n                <tr><td>Attack Range:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: totalattackrange\\\"></span></td></tr>\\n                </tbody>\\n                </table>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-8': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div data-bind=\\\"component: { name: 'damage-details', params: $data}\\\"></div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, template: { name: 'item-template', foreach: inventory.items }, visible: sectionDisplay().inventory()\\\"></div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().ability, css: { section_disabled: !sectionDisplay().ability() }\\\">Abilities <small style=\\\"color:inherit\\\" data-bind=\\\"text: availableSkillPoints() ? (availableSkillPoints() == 1 ? '1 unspent skillpoint' : availableSkillPoints() + ' unspent skillpoints') : ''\\\"></small></h3>\\n                <div class=\\\"row\\\" data-bind=\\\"visible: sectionDisplay().ability(), foreach: ability().abilities\\\">\\n                    <div data-bind=\\\"component: { name: 'ability', params: $data }\\\"></div>\\n                </div>\\n                <div class=\\\"form-horizontal\\\" data-bind=\\\"if: selectedHero().heroName == 'silencer', visible: sectionDisplay().ability()\\\">\\n                    <div class=\\\"form-group\\\">\\n                            <div class=\\\"col-md-2 control-label\\\">\\n                                <label for=\\\"intelligencestolen\\\">Intelligence Stolen</label>\\n                            </div>\\n                            <div class=\\\"col-md-2\\\">\\n                                <input class=\\\"form-control\\\" id=\\\"intelligencestolen\\\" data-bind=\\\"value: intStolen\\\" />\\n                            </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div data-bind=\\\"component: { name: 'buff-section', params: $data}\\\"></div>\\n    </div>\\n</div>\" });\nko.components.register('clone-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n        <img class=\\\"img-rounded\\\" data-bind=\\\"attr:{src: '/media/images/heroes/meepo.png'}\\\"/>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a></h3>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"visible: showStatDetails(), css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}, component: {name: 'stats-additional', params: $data}\\\"></div>\\n\\n            <div class=\\\"statscontainer\\\" data-bind=\\\"foreach: $root.allItems\\\">\\n                <div data-bind=\\\"component: { name: $data.value, params: $root.heroes[$parentContext.$index()].clone()}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-8': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div data-bind=\\\"component: { name: 'damage-details', params: $data}\\\"></div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, template: { name: 'item-template', foreach: inventory.items }, visible: sectionDisplay().inventory()\\\"></div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\" data-bind=\\\"component: { name: 'damage-amp', params: $data}\\\"></div>\\n    </div>\\n</div>\" });\nko.components.register('illusion-pane', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\">\\n        <div class=\\\"img-rounded\\\" style=\\\"background-color:#428bca;display:inline-block\\\">\\n            <img class=\\\"img-rounded\\\" style=\\\"opacity:.5\\\" data-bind=\\\"attr:{src: '/media/images/heroes/' + selectedHero().heroName + '.png'}\\\"/>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <label for=\\\"illusionlevel\\\" data-bind=\\\"text: illusionDisplayName\\\"></label>\\n        <table class=\\\"table\\\">\\n            <tbody>\\n            <tr>\\n                <td>Damage Dealt</td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: (getOutgoingDamageMultiplier(illusionType(), false, hero().attacktype())*100).toFixed(0)+'%'\\\"></td>\\n            </tr>\\n            <tr>\\n                <td>Damage Taken</td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: (getIncomingDamageMultiplier(illusionType(), false, hero().attacktype())*100).toFixed(0)+'%'\\\"></td>\\n            </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n    <div class=\\\"col-md-4\\\">\\n        <div data-bind=\\\"visible: illusionType() != 'item_manta'\\\">\\n            <label for=\\\"illusionlevel\\\">Ability Level</label>\\n            <select id=\\\"illusionlevel\\\" class=\\\"form-control\\\" data-bind=\\\"value: illusionAbilityLevel, foreach: new Array(illusionAbilityMaxLevel())\\\">\\n                <option data-bind=\\\"text: $index()+1\\\"></option>\\n            </select>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <h3 class=\\\"col-md-12\\\">Stats <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showStatDetails, text: !showStatDetails() ? 'Show more' : 'Show less', attr: {title: !showStatDetails() ? 'Click to show base stats' : 'Click to hide base stats'}\\\"></a></h3>\\n\\n            <div class=\\\"col-md-12\\\" data-bind=\\\"visible: showStatDetails(), css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}, component: {name: 'stats-additional', params: $data}\\\">\\n            </div>\\n            <div class=\\\"statscontainer\\\" data-bind=\\\"foreach: $root.allItems\\\">\\n                <div data-bind=\\\"component: { name: $data.value, params: $parentContext.$data}\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-8\\\" data-bind=\\\"css: {'col-md-4': $root.layout() == 0, 'col-md-12': $root.layout() == 1}\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().inventory, css: { section_disabled: !sectionDisplay().inventory() }\\\">Inventory <small style=\\\"color:goldenrod\\\" data-bind=\\\"html: inventory.totalCost() ? '<img src=\\\\'http://cdn.dota2.com/apps/dota2/images/tooltips/gold.png\\\\'/> ' + inventory.totalCost() : '' \\\"></small></h3>\\n                <div id=\\\"inventory\\\" class=\\\"inventory hover-cursor\\\" data-bind=\\\"click: function (data, event) { buildExplorer.selectInventory(-1); }, css: {'row-highlight': selectedInventory() == -1}, foreach: inventory.items, visible: sectionDisplay().inventory()\\\">\\n                    <div class=\\\"btn-group\\\">\\n                        <img style=\\\"width:75px;\\\" class=\\\"img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled(), item_active: $parent.inventory.getActiveBorder($data) == 1, item_inactive: $parent.inventory.getActiveBorder($data) == 0 }, attr:{ src: $parent.inventory.getItemImage($data) }, click: function(data, event) { $parent.inventory.toggleItem($index, data, event); }, event: { dblclick: $parent.inventory.removeItem }\\\"/>\\n                        <div style=\\\"float:left\\\" data-bind=\\\"visible: $parent.inventory.getItemSizeLabel($data) != ''\\\">\\n                            <div data-bind=\\\"html: $parent.inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;opacity:.5;background-color:black;padding:0px 2px\\\"></div>\\n                            <div data-bind=\\\"html: $parent.inventory.getItemSizeLabel($data)\\\" style=\\\"position:absolute;left:0;bottom:0;color:white;padding:0px 2px\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('buff-settings', { template: \"<div class=\\\"form-horizontal\\\">\\n    <div data-bind=\\\"foreach: data\\\">\\n        <div class=\\\"form-group\\\" data-bind=\\\"visible: (display == undefined || display == 'buff')\\\">\\n            <label class=\\\"col-md-6 control-label\\\" data-bind=\\\"css: {'checkbox-label': controlType == 'checkbox'}, attr: {'for': labelName}, html: labelName\\\"></label>\\n            <div data-bind=\\\"if: controlType == 'input' && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\"><input class=\\\"form-control\\\" data-bind=\\\"attr: {'id': labelName}, value: controlVal\\\"></div>\\n            </div>\\n            <div data-bind=\\\"if: controlType == 'checkbox' && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <div class=\\\"checkbox\\\">\\n                        <input type=\\\"checkbox\\\" data-bind=\\\"attr: {'id': labelName}, checked: controlVal\\\">\\n                    </div>\\n                </div>\\n            </div>\\n            <div data-bind=\\\"if: (controlType == 'text' || controlType == 'method') && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\"><p class=\\\"form-control-static\\\" data-bind=\\\"html: controlVal\\\"></p></div>\\n            </div>\\n            <div data-bind=\\\"if: controlType == 'radio' && (display == undefined || display == 'buff' || display == 'hidden')\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <!-- ko foreach: controlOptions -->\\n                    <div class=\\\"radio\\\">\\n                        <label>\\n                            <input type=\\\"radio\\\" data-bind=\\\"attr: {'id': $parent.labelName + value, value: value}, checked: $parent.controlVal\\\">\\n                            <span data-bind=\\\"text: text\\\"></span>\\n                        </label>\\n                    </div>\\n                    <!-- /ko -->\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('item-buff', { template: \"<div class=\\\"btn-group\\\">\\n    <img style=\\\"width:75px;\\\" class=\\\"img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled(), item_active: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].buffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].buffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].buffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].buffs.itemBuffs.removeItem }\\\"/>\\n    <div class=\\\"btn-group-vertical\\\">\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Remove Item\\\" data-bind=\\\"click: $parents[1].buffs.itemBuffs.removeItem\\\">&times;</button>\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Disable/Enable Item\\\" data-bind=\\\"click: $parents[1].buffs.itemBuffs.toggleMuteItem, html: enabled() ? 'o' : '-', attr: {title: enabled() ? 'Disable Item' : 'Enable Item'}\\\">o</button>\\n    </div>\\n</div>\" });\nko.components.register('item-debuff', { template: \"<div class=\\\"btn-group\\\">\\n    <img style=\\\"width:75px;\\\" class=\\\"img-rounded\\\" data-bind=\\\"css: { item_disabled: !enabled(), item_active: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 1, item_inactive: $parents[1].debuffs.itemBuffs.getActiveBorder($data) == 0 }, attr:{ src: $parents[1].debuffs.itemBuffs.getItemImage($data) }, click: function(data, event) { $parents[1].debuffs.itemBuffs.toggleItem($index, data, event); }, event: { dblclick: $parents[1].debuffs.itemBuffs.removeItem }\\\"/>\\n    <div class=\\\"btn-group-vertical\\\">\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Remove Item\\\" data-bind=\\\"click: $parents[1].debuffs.itemBuffs.removeItem\\\">&times;</button>\\n        <button style=\\\"padding:3px 10px;\\\" class=\\\"btn btn-default btn-xs\\\" title=\\\"Disable/Enable Item\\\" data-bind=\\\"click: $parents[1].debuffs.itemBuffs.toggleMuteItem, html: enabled() ? 'o' : '-', attr: {title: enabled() ? 'Disable Item' : 'Enable Item'}\\\">o</button>\\n    </div>\\n</div>\" });\nko.components.register('buff-section', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().buff, css: { section_disabled: !sectionDisplay().buff() }\\\">Buffs</h3>\\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().buff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <select id=\\\"buffselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: buffs.availableBuffs , optionsText: 'buffDisplayName', value: buffs.selectedBuff\\\"></select>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buffs.addBuff\\\">Add</button>\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { buffs.removeBuff(data, event, buffs.selectedBuff().buffName) }\\\">Remove</button>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: buffs.buffs, visible: sectionDisplay().buff()\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.buffs.buffs().length-1 && $parent.buffs.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name() + '.png'}, click: function(data, event) { $parent.buffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.buffs.removeBuff(data, event, $data.data.name()) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.buffs.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name() in $parent.buffs.abilityData && $parent.buffs.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.buffs.abilitySettingsData($data.data.name(), $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().buff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <div class=\\\"input-group\\\">\\n                        <input class=\\\"form-control\\\" id=\\\"auto2\\\" data-bind=\\\"attr: {id: id() + '-auto2' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: buffs.itemBuffs.itemBuffOptions, jqAutoValue: buffs.itemBuffs.selectedItemBuff, jqAutoSourceLabel: 'displayname', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'value'\\\" />\\n                        <span class=\\\"input-group-btn\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"jqAutoCombo: id() + '-auto2'\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button>\\n                        </span>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: buffs.itemBuffs.addItemBuff\\\">Add</button>\\n                </div>\\n            </div>\\n        </div>\\n        <div data-bind=\\\"foreach: buffs.itemBuffs.items, visible: sectionDisplay().buff()\\\">\\n            <div class=\\\"pull-left\\\" style=\\\"margin-right:10px\\\" data-bind=\\\"component: { name: 'item-buff', params: $data}\\\"></div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().debuff, css: { section_disabled: !sectionDisplay().debuff() }\\\">Debuffs</h3>\\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().debuff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <select id=\\\"buffselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: debuffs.availableDebuffs , optionsText: 'buffDisplayName', value: debuffs.selectedBuff\\\"></select>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: debuffs.addBuff\\\">Add</button>\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { debuffs.removeBuff(data, event, debuffs.selectedBuff().buffName) }\\\">Remove</button>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: debuffs.buffs, visible: sectionDisplay().debuff()\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.debuffs.buffs().length-1 && $parent.debuffs.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name() + '.png'}, click: function(data, event) { $parent.debuffs.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.debuffs.removeBuff(data, event, $data.data.name()) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.debuffs.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name() in $parent.debuffs.abilityData && $parent.debuffs.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.debuffs.abilitySettingsData($data.data.name(), $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"form-horizontal\\\" data-bind=\\\"visible: sectionDisplay().debuff()\\\">\\n            <div class=\\\"form-group\\\">\\n                <div class=\\\"col-md-6\\\">\\n                    <div class=\\\"input-group\\\">\\n                        <input class=\\\"form-control\\\" id=\\\"auto3\\\" data-bind=\\\"attr: {id: id() + '-auto3' }, jqAuto: { autoFocus: true, html: true }, jqAutoSource: debuffs.itemBuffs.itemDebuffOptions, jqAutoValue: debuffs.itemBuffs.selectedItemDebuff, jqAutoSourceLabel: 'displayname', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'value'\\\" />\\n                        <span class=\\\"input-group-btn\\\">\\n                            <button class=\\\"btn btn-default\\\" data-bind=\\\"jqAutoCombo: id() + '-auto3'\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button>\\n                        </span>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-6\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: debuffs.itemBuffs.addItemDebuff\\\">Add</button>\\n                </div>\\n            </div>\\n        </div>\\n        <div data-bind=\\\"foreach: debuffs.itemBuffs.items, visible: sectionDisplay().debuff()\\\">\\n            <div class=\\\"pull-left\\\" style=\\\"margin-right:10px\\\" data-bind=\\\"component: { name: 'item-debuff', params: $data}\\\"></div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('damage-details', { template: \"<div class=\\\"row\\\">\\n    <div class=\\\"col-md-12\\\">\\n        <h3 style=\\\"display:block;\\\" class=\\\"section_header\\\" data-bind=\\\"toggle: showDamageDetails, css: { section_disabled: !showDamageDetails() }\\\">Damage Details\\n            <span class=\\\"pull-right\\\" data-bind=\\\"visible: showDamageDetails()\\\">\\n                <small style=\\\"text-align:center\\\" data-bind=\\\"style: {color: getDamageTypeColor('physical')}\\\">Physical</small>\\n                <small style=\\\"text-align:center\\\" data-bind=\\\"style: {color: getDamageTypeColor('magic')}\\\">Magical</small>\\n                <small style=\\\"text-align:center\\\" data-bind=\\\"style: {color: getDamageTypeColor('pure')}\\\">Pure</small>\\n            </span>\\n        </h3>\\n        <table class=\\\"table damage-details\\\" data-bind=\\\"visible: showDamageDetails()\\\">\\n            <thead>\\n                <tr class=\\\"damage-details-header-row\\\">\\n                    <td></td>\\n                    <td class=\\\"text-center\\\" colspan=\\\"2\\\"><strong>Attack Damage</strong><img src=\\\"img/reduc_icon.png\\\" class=\\\"pull-right\\\" data-bind=\\\"attr: {title: 'After reductions from ' + enemy().heroData().displayname}\\\"></td>\\n                    <td class=\\\"text-center\\\" colspan=\\\"2\\\"><strong>DPS</strong><img src=\\\"img/reduc_icon.png\\\" class=\\\"pull-right\\\" data-bind=\\\"attr: {title: 'After reductions from ' + enemy().heroData().displayname}\\\"></td>\\n                </tr>\\n                <tr class=\\\"damage-details-header-row-2 total-row\\\">\\n                    <td><strong>Total</strong></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[0]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[1]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[2]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: damageTotalInfo().totalRow[3]().toFixed(2)\\\"></td>\\n                </tr>\\n            </thead>\\n            <!-- ko foreach: damageTotalInfo().attacks -->\\n            <tbody>\\n                <tr class=\\\"indent subtotal-row\\\" data-bind=\\\"toggle: $data.enabled, css: { 'inactive': !$data.enabled() }\\\">\\n                    <td>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-left\\\" data-bind=\\\"toggle: $data.enabled, css: {'glyphicon-eye-open': $data.enabled(), 'glyphicon-eye-close': !$data.enabled()}, preventBubble: 'click'\\\"></button>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-right\\\" data-bind=\\\"toggle: $data.visible, css: {'glyphicon-minus': $data.visible(), 'glyphicon-plus': !$data.visible()}, preventBubble: 'click'\\\"></button>\\n                        <strong><span data-bind=\\\"text: $data.name\\\"></span></strong>\\n                    </td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[0]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[1]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[2]().toFixed(2)\\\"></td>\\n                    <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalRow[3]().toFixed(2)\\\"></td>\\n                </tr>\\n            </tbody>\\n            <tbody class=\\\"indent\\\" data-bind=\\\"foreach: $data.sources, visible: $data.visible\\\">\\n                <tr data-bind=\\\"toggle: $data.enabled, css: { 'inactive': !$data.enabled() }\\\">\\n                    <td class=\\\"indent\\\">\\n                        <span data-bind=\\\"text: $data.name\\\"></span>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-left\\\" data-bind=\\\"toggle: $data.enabled, css: {'glyphicon-eye-open': $data.enabled(), 'glyphicon-eye-close': !$data.enabled()}, preventBubble: 'click'\\\"></button>\\n                    </td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damage.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damageReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dps.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dpsReduced.toFixed(2), style: {color: $parents[1].getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                </tr>\\n            </tbody>\\n            <tr class=\\\"indent crit\\\" data-bind=\\\"visible: $data.visible() && $data.sourcesCrit.length > 0\\\">\\n                <td class=\\\"indent\\\">Critical Strike Proc, <span data-bind=\\\"text: ($data.totalCritChance * 100).toFixed(1) + '%'\\\"></span></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[0]().toFixed(2)\\\"></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[1]().toFixed(2)\\\"></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[2]().toFixed(2)\\\"></td>\\n                <td class=\\\"text-right\\\" data-bind=\\\"text: $data.totalCritRow[3]().toFixed(2)\\\"></td>\\n            </tr>\\n            <tbody class=\\\"indent\\\" data-bind=\\\"visible: $data.visible, foreach: $data.sourcesCrit\\\">\\n                <tr class=\\\"indent crit\\\" data-bind=\\\"toggle: $data.enabled, css: { 'inactive': !$data.enabled() }\\\">\\n                    <td class=\\\"indent\\\">\\n                        <span data-bind=\\\"text: $data.name\\\"></span>\\n                        <button class=\\\"btn btn-default btn-xs glyphicon pull-left\\\" data-bind=\\\"toggle: $data.enabled, css: {'glyphicon-eye-open': $data.enabled(), 'glyphicon-eye-close': !$data.enabled()}, preventBubble: 'click'\\\"></button>\\n                    </td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damage.toFixed(2)\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.damageReduced.toFixed(2)\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dps.toFixed(2)\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.dpsReduced.toFixed(2)\\\"></span></td>\\n                </tr>\\n            </tbody>\\n            <!-- /ko -->\\n            <tbody>\\n                <tr data-bind=\\\"visible: cleaveInfo().length > 0\\\">\\n                    <td colspan=3><strong>Cleave</strong></td>\\n                </tr>\\n            </tbody>    \\n            <tbody data-bind=\\\"foreach: cleaveInfo()\\\">\\n                <tr><td>Radius:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.radius\\\"></span></td></tr>\\n                <tr><td>Magnitude:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: ($data.magnitude * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n                <tr>\\n                    <td>Cleave Damage:</td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: ($data.magnitude * $parent.damageTotalInfo().total).toFixed(2)\\\"></span></td>\\n                </tr>\\n            </tbody>\\n        \\n        </table>\\n    </div>\\n</div>\" });\nko.components.register('damage-amp', { template: \"<div class=\\\"col-md-12\\\">\\n    <h3 class=\\\"section_header\\\" data-bind=\\\"toggle: sectionDisplay().damageamp, css: { section_disabled: !sectionDisplay().damageamp() }\\\">Damage Amplification & Reduction</h3>\\n    <div data-bind=\\\"visible: sectionDisplay().damageamp(), lazyBinding: sectionDisplay().damageamp\\\">\\n        <div class=\\\"form-horizontal\\\">\\n            <div class=\\\"form-group\\\">\\n                    <div class=\\\"col-md-3 control-label\\\">\\n                        <label for=\\\"damageinput\\\">Damage</label>\\n                    </div>\\n                    <div class=\\\"col-md-6\\\">\\n                        <input class=\\\"form-control\\\" id=\\\"damageinput\\\" data-bind=\\\"value: damageInputValue\\\" />\\n                    </div>\\n            </div>\\n        </div>\\n        <div class=\\\"form-horizontal\\\">\\n            <div class=\\\"form-group\\\">\\n                    <div class=\\\"col-md-3 control-label\\\">\\n                        <label for=\\\"buffampselect\\\">Amplification</label>\\n                    </div>\\n                    <div class=\\\"col-md-5\\\">\\n                        <select id=\\\"buffampselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: damageAmplification.availableBuffs , optionsText: 'buffDisplayName', value: damageAmplification.selectedBuff\\\"></select>\\n                    </div>\\n                    <div class=\\\"col-md-4\\\">\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: damageAmplification.addBuff\\\">Add</button>\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { damageAmplification.removeBuff(data, event, damageAmplification.selectedBuff().buffName) }\\\">Remove</button>\\n                    </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: damageAmplification.buffs\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageAmplification.buffs().length-1 && $parent.damageAmplification.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer row2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name() + '.png'}, click: function(data, event) { $parent.damageAmplification.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageAmplification.removeBuff(data, event, $data.data.name()) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.damageAmplification.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name() in $parent.damageAmplification.abilityData && $parent.damageAmplification.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.damageAmplification.abilitySettingsData($data.data.name(), $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"form-horizontal\\\">\\n            <div class=\\\"form-group\\\">\\n                    <div class=\\\"col-md-3 control-label\\\">\\n                        <label for=\\\"buffreductionselect\\\">Reduction</label>\\n                    </div>\\n                    <div class=\\\"col-md-5\\\">\\n                        <select id=\\\"buffreductionselect\\\" class=\\\"form-control\\\" data-bind=\\\"options: damageReduction.availableDebuffs , optionsText: 'buffDisplayName', value: damageReduction.selectedBuff\\\"></select>\\n                    </div>\\n                    <div class=\\\"col-md-4\\\">\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: damageReduction.addBuff\\\">Add</button>\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"click: function(data,event) { damageReduction.removeBuff(data, event, damageReduction.selectedBuff().buffName) }\\\">Remove</button>\\n                    </div>\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\" data-bind=\\\"foreach: damageReduction.buffs\\\">\\n            <div data-bind=\\\"css: {row: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()), row2: $data.data.isDetail() || ($index() < $parent.damageReduction.buffs().length-1 && $parent.damageReduction.buffs()[$index()+1].data.isDetail()) }\\\">\\n                <div class=\\\"col-md-3 text-center bottom-buffer row2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n                    <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.data.isActive() || $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.data.isActive() && $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.data.name() + '.png'}, click: function(data, event) { $parent.damageReduction.toggleBuff($index, data.data, event); }, event: { dblclick: function(data,event) { $parent.damageReduction.removeBuff(data, event, $data.data.name()) } }\\\"/>\\n                    <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n                        <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parent.getAbilityLevelMax($data.data) > 0, text: $data.data.level() + '/' + $parent.getAbilityLevelMax($data.data)\\\"></div>\\n                        <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) }, style: { width: ($parent.getAbilityLevelMax($data.data) > 0 ? $data.data.level()/$parent.getAbilityLevelMax($data.data)*100 : 0) + '%' }\\\"></div>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.levelDownAbility($index, data.data, event, $parent); }\\\">-</a>\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.levelUpAbility($index, data.data, event, $parent); }\\\">+</a>\\n                    </div>\\n                    <div class=\\\"btn-group btn-group-justified\\\">\\n                        <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data, event); }, css: {'toggled': $data.data.isDetail}\\\">Details</a>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-md-9 bottom-buffer\\\" data-bind=\\\"visible: $data.data.isDetail()\\\">\\n                    <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parent.damageReduction.toggleBuffDetail($index, data.data, event); }\\\">&times;</button>\\n                    <div data-bind=\\\"html: $parent.ability().getAbilityTooltipData($data.hero, $data.data.name())\\\"></div>\\n                    <div data-bind=\\\"if: $data.data.name() in $parent.damageReduction.abilityData && $parent.damageReduction.buffs()[$index()].data.level() > 0\\\">\\n                        <div class=\\\"col-md-8\\\">\\n                            <div data-bind=\\\"component: { name: 'buff-settings', params: $parent.damageReduction.abilitySettingsData($data.data.name(), $parent, $index()) }\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        \\n        <h4>Calculations <a class=\\\"btn btn-default btn-xs\\\" data-bind=\\\"toggle: showDamageAmpCalcDetails, text: !showDamageAmpCalcDetails() ? 'Show details' : 'Hide details'\\\"></a></h4>\\n        <table class=\\\"table\\\">\\n            <tbody>\\n                <!-- ko foreach: damageInputModified().data -->\\n                <tr data-bind=\\\"visible: $parent.showDamageAmpCalcDetails()\\\">\\n                    <td><span style=\\\"text-decoration: underline;\\\" data-bind=\\\"text: $data.label + ' damage'\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: Math.round($data.value * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                </tr>\\n                    <!-- ko foreach: $data.data -->\\n                    <tr data-bind=\\\"visible: $parents[1].showDamageAmpCalcDetails()\\\">\\n                        <td><span data-bind=\\\"text: $data.label\\\"></span></td>\\n                        <td class=\\\"text-right\\\"><span data-bind=\\\"html: Math.round($data.value * 100) / 100, diffStyle: $data.value\\\"></span></td>\\n                    </tr>\\n                    <!-- /ko -->\\n                <tr data-bind=\\\"css: {subtotal: $parent.showDamageAmpCalcDetails()}\\\">\\n                    <td data-bind=\\\"visible: $parent.showDamageAmpCalcDetails()\\\"><span data-bind=\\\"text: $data.label + ' damage subtotal'\\\"></span></td>\\n                    <td data-bind=\\\"visible: !$parent.showDamageAmpCalcDetails()\\\"><span data-bind=\\\"text: $data.label + ' damage'\\\"></span></td>\\n                    <td class=\\\"text-right\\\"><span data-bind=\\\"html: Math.round($data.total * 100) / 100, style: {color: $parent.getDamageTypeColor($data.damageType)}\\\"></span></td>\\n                </tr>\\n                <!-- /ko -->\\n                <tr>\\n                    <td><strong data-bind=\\\"text: damageInputModified().label + ' damage'\\\"></strong></td>\\n                    <td class=\\\"text-right\\\"><strong data-bind=\\\"html: Math.round(damageInputModified().total * 100) / 100, style: {color: getDamageTypeColor(damageInputModified().damageType)}\\\"></strong></td>\\n                </tr>\\n            </tbody>\\n        </table>\\n    </div>\\n</div>\" });\nko.components.register('ability', { template: \"<div data-bind=\\\"if: $data.displayname() != 'Empty' &&  ($data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_HIDDEN') == -1 || $data.name().indexOf('invoker_') != -1),\\nstyle: {clear: $data.name() == 'invoker_cold_snap' || $data.name() == 'invoker_chaos_meteor' ? 'both' : ''},\\ncss: {row: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()), row3: $data.isDetail() || ($index() < $parents[1].ability().abilities().length-1 && $parents[1].ability().abilities()[$index()+1].isDetail()) }\\\">\\n    <div class=\\\"col-md-3 text-center bottom-buffer row2\\\" data-bind=\\\"css: {'col-md-3': $root.layout() == 0, 'col-md-2': $root.layout() == 1}\\\">\\n        <img style=\\\"padding:0px;margin-bottom:1px;\\\" class=\\\"img-rounded ability\\\" data-bind=\\\"css: { ability_active: $data.isActive() || $data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1, ability_inactive: !$data.isActive() && $data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, btn: $data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1, 'btn-default': $data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') == -1}, attr:{src: '/media/images/spellicons/' + $data.name() + '.png'}, click: function(data, event) { $parents[1].ability().toggleAbility($index, data, event); }\\\"/>\\n        <div class=\\\"progress\\\" style=\\\"position:relative\\\">\\n            <div style=\\\"position:absolute;width:100%;color:white;\\\" class=\\\"text-center\\\" data-bind=\\\"visible: $parents[1].getAbilityLevelMax($data) > 0, text: $data.level() + '/' + $parents[1].getAbilityLevelMax($data)\\\"></div>\\n            <div class=\\\"progress-bar progress-bar-danger\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"60\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 60%;\\\" data-bind=\\\"attr: { 'aria-valuenow': ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) }, style: { width: ($parents[1].getAbilityLevelMax($data) > 0 ? $data.level()/$parents[1].getAbilityLevelMax($data)*100 : 0) + '%' }\\\"></div>\\n        </div>\\n        <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1\\\">\\n            <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().levelDownAbility($index, data, event, $parents[1]); }\\\">-</a>\\n            <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().levelUpAbility($index, data, event, $parents[1]); }\\\">+</a>\\n        </div>\\n        <div class=\\\"btn-group btn-group-justified\\\">\\n            <a class=\\\"btn btn-default btn-sm\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }, css: {'toggled': $data.isDetail}\\\">Details</a>\\n        </div>\\n        <div class=\\\"btn-group btn-group-justified\\\" data-bind=\\\"if: $data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') != -1\\\">\\n            <a class=\\\"btn btn-default btn-sm btn-block\\\" style=\\\"visibility:hidden;\\\">&mdash;</a>\\n        </div>\\n    </div>\\n    <div class=\\\"col-md-9 bottom-buffer2\\\" data-bind=\\\"visible: $data.isDetail()\\\">\\n        <button type=\\\"button\\\" class=\\\"close\\\" data-bind=\\\"click: function(data, event) { $parents[1].ability().toggleAbilityDetail($index, data, event); }\\\">&times;</button>\\n        <div data-bind=\\\"html: $parents[1].ability().getAbilityTooltipData('npc_dota_hero_' + $parents[1].heroId(), $data.name())\\\"></div>\\n        <div data-bind=\\\"if: $data.name() in $parents[1].ability().abilityData && $parents[1].ability().abilities()[$index()].level() > 0\\\">\\n            <div class=\\\"col-md-12\\\" style=\\\"margin-top: 10px\\\" >\\n                <div data-bind=\\\"template: { name: 'ability-settings-template', data: $parents[1].ability().abilitySettingsData($data.name(), $parents[1], $index()) }\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\" });\nko.components.register('shop', { template: \"        <div id=\\\"shop-container\\\" class=\\\"col-md-12 col-lg-4\\\" data-bind=\\\"shopDockStyle: shopDockTrigger, visible: displayShop() || shopPopout(), css: {'col-lg-4': !shopPopout()}, style: { 'padding-top': shopPopout() ? '5px' : '0px'}\\\">\\n              <button id=\\\"shop-minimize\\\" class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-minus pull-right\\\" data-bind=\\\"toggle: displayShop, visible: displayShop()\\\" title=\\\"Minimize shop\\\"></button>\\n              <button id=\\\"shop-maximize\\\" class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-plus pull-right\\\" data-bind=\\\"toggle: displayShop, visible: !displayShop()\\\" title=\\\"Maximize shop\\\"></button>\\n              <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-new-window pull-right hidden-xs\\\" data-bind=\\\"click: shopPopout, visible: !shopPopout()\\\" title=\\\"Popout shop\\\"></button>\\n              <button class=\\\"btn btn-default btn-xs shop-button glyphicon glyphicon-align-right pull-right hidden-xs\\\" data-bind=\\\"toggle: shopDock, attr: { title: shopDock() ? 'Undock shop to right side of screen' : 'Dock shop to right side of screen' }\\\" ></button>\\n            <ul id=\\\"shoptabs\\\" class=\\\"nav nav-tabs\\\" data-bind=\\\"visible: displayShop()\\\">\\n              <li><a href=\\\"#shop_basic\\\" data-toggle=\\\"tab\\\">Basic</a></li>\\n              <li><a href=\\\"#shop_upgrade\\\" data-toggle=\\\"tab\\\">Upgrade</a></li>\\n              <li><a href=\\\"#shop_secret\\\" data-toggle=\\\"tab\\\">Secret</a></li>\\n            </ul>\\n            <div class=\\\"tab-content text-center bottom-buffer2\\\" data-bind=\\\"visible: displayShop()\\\">\\n                <div class=\\\"tab-pane active\\\" id=\\\"shop_basic\\\">\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-consumables\\\" id=\\\"consumables\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-clarity\\\" id=\\\"clarity\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-faerie_fire\\\" id=\\\"faerie_fire\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-enchanted_mango\\\" id=\\\"enchanted_mango\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-tango\\\" id=\\\"tango\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-flask\\\" id=\\\"flask\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-smoke_of_deceit\\\" id=\\\"smoke_of_deceit\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-tpscroll\\\" id=\\\"tpscroll\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-dust\\\" id=\\\"dust\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-courier\\\" id=\\\"courier\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-flying_courier\\\" id=\\\"flying_courier\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ward_observer\\\" id=\\\"ward_observer\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ward_sentry\\\" id=\\\"ward_sentry\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-tome_of_knowledge\\\" id=\\\"tome_of_knowledge\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-bottle\\\" id=\\\"bottle\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-attributes\\\" id=\\\"attributes\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-branches\\\" id=\\\"branches\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-gauntlets\\\" id=\\\"gauntlets\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-slippers\\\" id=\\\"slippers\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-mantle\\\" id=\\\"mantle\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-circlet\\\" id=\\\"circlet\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-belt_of_strength\\\" id=\\\"belt_of_strength\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-boots_of_elves\\\" id=\\\"boots_of_elves\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-robe\\\" id=\\\"robe\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ogre_axe\\\" id=\\\"ogre_axe\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-blade_of_alacrity\\\" id=\\\"blade_of_alacrity\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-staff_of_wizardry\\\" id=\\\"staff_of_wizardry\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-armaments\\\" id=\\\"armaments\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ring_of_protection\\\" id=\\\"ring_of_protection\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-stout_shield\\\" id=\\\"stout_shield\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-quelling_blade\\\" id=\\\"quelling_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-infused_raindrop\\\" id=\\\"infused_raindrop\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-blight_stone\\\" id=\\\"blight_stone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-orb_of_venom\\\" id=\\\"orb_of_venom\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-blades_of_attack\\\" id=\\\"blades_of_attack\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-chainmail\\\" id=\\\"chainmail\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-quarterstaff\\\" id=\\\"quarterstaff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-helm_of_iron_will\\\" id=\\\"helm_of_iron_will\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-broadsword\\\" id=\\\"broadsword\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-claymore\\\" id=\\\"claymore\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-javelin\\\" id=\\\"javelin\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-mithril_hammer\\\" id=\\\"mithril_hammer\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-arcane\\\" id=\\\"arcane\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-wind_lace\\\" id=\\\"wind_lace\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-magic_stick\\\" id=\\\"magic_stick\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-sobi_mask\\\" id=\\\"sobi_mask\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ring_of_regen\\\" id=\\\"ring_of_regen\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-boots\\\" id=\\\"boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-gloves\\\" id=\\\"gloves\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-cloak\\\" id=\\\"cloak\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ring_of_health\\\" id=\\\"ring_of_health\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-void_stone\\\" id=\\\"void_stone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-gem\\\" id=\\\"gem\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-lifesteal\\\" id=\\\"lifesteal\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-shadow_amulet\\\" id=\\\"shadow_amulet\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ghost\\\" id=\\\"ghost\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-blink\\\" id=\\\"blink\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n\\n\\n                </div>\\n                <div class=\\\"tab-pane\\\" id=\\\"shop_upgrade\\\">\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-common\\\" id=\\\"common\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-magic_wand\\\" id=\\\"magic_wand\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-null_talisman\\\" id=\\\"null_talisman\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-wraith_band\\\" id=\\\"wraith_band\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-poor_mans_shield\\\" id=\\\"poor_mans_shield\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-bracer\\\" id=\\\"bracer\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-soul_ring\\\" id=\\\"soul_ring\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-phase_boots\\\" id=\\\"phase_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-power_treads\\\" id=\\\"power_treads\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-oblivion_staff\\\" id=\\\"oblivion_staff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-pers\\\" id=\\\"pers\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-hand_of_midas\\\" id=\\\"hand_of_midas\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-travel_boots\\\" id=\\\"travel_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-moon_shard\\\" id=\\\"moon_shard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-emptyitembg\\\" id=\\\"emptyitembg\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-support\\\" id=\\\"support\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ring_of_basilius\\\" id=\\\"ring_of_basilius\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-iron_talon\\\" id=\\\"iron_talon\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-headdress\\\" id=\\\"headdress\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-buckler\\\" id=\\\"buckler\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-urn_of_shadows\\\" id=\\\"urn_of_shadows\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-tranquil_boots\\\" id=\\\"tranquil_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ring_of_aquila\\\" id=\\\"ring_of_aquila\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-medallion_of_courage\\\" id=\\\"medallion_of_courage\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-arcane_boots\\\" id=\\\"arcane_boots\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ancient_janggo\\\" id=\\\"ancient_janggo\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-mekansm\\\" id=\\\"mekansm\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-vladmir\\\" id=\\\"vladmir\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-pipe\\\" id=\\\"pipe\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-guardian_greaves\\\" id=\\\"guardian_greaves\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-caster\\\" id=\\\"caster\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-glimmer_cape\\\" id=\\\"glimmer_cape\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-force_staff\\\" id=\\\"force_staff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-veil_of_discord\\\" id=\\\"veil_of_discord\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-aether_lens\\\" id=\\\"aether_lens\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-necronomicon\\\" id=\\\"necronomicon\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-dagon\\\" id=\\\"dagon\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-cyclone\\\" id=\\\"cyclone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-solar_crest\\\" id=\\\"solar_crest\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-rod_of_atos\\\" id=\\\"rod_of_atos\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-orchid\\\" id=\\\"orchid\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ultimate_scepter\\\" id=\\\"ultimate_scepter\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-refresher\\\" id=\\\"refresher\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-sheepstick\\\" id=\\\"sheepstick\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-octarine_core\\\" id=\\\"octarine_core\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-weapons\\\" id=\\\"weapons\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-lesser_crit\\\" id=\\\"lesser_crit\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-armlet\\\" id=\\\"armlet\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-invis_sword\\\" id=\\\"invis_sword\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-basher\\\" id=\\\"basher\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-bfury\\\" id=\\\"bfury\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ethereal_blade\\\" id=\\\"ethereal_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-silver_edge\\\" id=\\\"silver_edge\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-radiance\\\" id=\\\"radiance\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-monkey_king_bar\\\" id=\\\"monkey_king_bar\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-greater_crit\\\" id=\\\"greater_crit\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-butterfly\\\" id=\\\"butterfly\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-rapier\\\" id=\\\"rapier\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-abyssal_blade\\\" id=\\\"abyssal_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-bloodthorn\\\" id=\\\"bloodthorn\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-armor\\\" id=\\\"armor\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-hood_of_defiance\\\" id=\\\"hood_of_defiance\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-vanguard\\\" id=\\\"vanguard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-blade_mail\\\" id=\\\"blade_mail\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-soul_booster\\\" id=\\\"soul_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-crimson_guard\\\" id=\\\"crimson_guard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-black_king_bar\\\" id=\\\"black_king_bar\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-lotus_orb\\\" id=\\\"lotus_orb\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-shivas_guard\\\" id=\\\"shivas_guard\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-bloodstone\\\" id=\\\"bloodstone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-manta\\\" id=\\\"manta\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-sphere\\\" id=\\\"sphere\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-hurricane_pike\\\" id=\\\"hurricane_pike\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-assault\\\" id=\\\"assault\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-heart\\\" id=\\\"heart\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-artifacts\\\" id=\\\"artifacts\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-mask_of_madness\\\" id=\\\"mask_of_madness\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-helm_of_the_dominator\\\" id=\\\"helm_of_the_dominator\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-dragon_lance\\\" id=\\\"dragon_lance\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-sange\\\" id=\\\"sange\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-yasha\\\" id=\\\"yasha\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-echo_sabre\\\" id=\\\"echo_sabre\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-maelstrom\\\" id=\\\"maelstrom\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-diffusal_blade\\\" id=\\\"diffusal_blade\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-desolator\\\" id=\\\"desolator\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-heavens_halberd\\\" id=\\\"heavens_halberd\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-sange_and_yasha\\\" id=\\\"sange_and_yasha\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-skadi\\\" id=\\\"skadi\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-mjollnir\\\" id=\\\"mjollnir\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-satanic\\\" id=\\\"satanic\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n                </div>\\n                <div class=\\\"tab-pane\\\" id=\\\"shop_secret\\\">\\n<div class=\\\"shop-column\\\">\\n  <div class=\\\"hc-shop hc-shop-secret\\\" id=\\\"secret\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-energy_booster\\\" id=\\\"energy_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-vitality_booster\\\" id=\\\"vitality_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-point_booster\\\" id=\\\"point_booster\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-platemail\\\" id=\\\"platemail\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-talisman_of_evasion\\\" id=\\\"talisman_of_evasion\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-hyperstone\\\" id=\\\"hyperstone\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-ultimate_orb\\\" id=\\\"ultimate_orb\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-demon_edge\\\" id=\\\"demon_edge\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-mystic_staff\\\" id=\\\"mystic_staff\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-eagle\\\" id=\\\"eagle\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-reaver\\\" id=\\\"reaver\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n  <div class=\\\"img-rounded hc-item hc-item-relic\\\" id=\\\"relic\\\" data-bind=\\\"click: changeSelectedItem, event: { dblclick: selectedTab().data.buildExplorer.getSelectedInventory().addItem }\\\"></div>\\n</div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"form-group\\\" data-bind=\\\"visible: displayShop()\\\">\\n                <div class=\\\"input-group\\\">\\n                    <input class=\\\"form-control\\\" id=\\\"auto\\\" data-bind=\\\"jqAuto: { autoFocus: true, html: true }, jqAutoSource: selectedTab().data.inventory.itemOptions, jqAutoValue: selectedItem, jqAutoSourceLabel: 'displayname', jqAutoSourceInputValue: 'name', jqAutoSourceValue: 'value'\\\" />\\n                    <span class=\\\"input-group-btn\\\">\\n                        <button class=\\\"btn btn-default\\\" data-bind=\\\"jqAutoCombo: 'auto'\\\"><span class=\\\"glyphicon glyphicon-search\\\"></span></button>\\n                    </span>\\n                </div>\\n            </div>\\n\\n            <div data-bind=\\\"visible: selectedItem() && displayShop()\\\">\\n                <button class=\\\"btn btn-default btn-xs glyphicon glyphicon-minus pull-right\\\" data-bind=\\\"toggle: displayShopItemTooltip, visible: displayShopItemTooltip()\\\" title=\\\"Hide item description\\\"></button>\\n                <button class=\\\"btn btn-default btn-xs glyphicon glyphicon-plus pull-right\\\" data-bind=\\\"toggle: displayShopItemTooltip, visible: !displayShopItemTooltip()\\\" title=\\\"Show item description\\\"></button>\\n                <div data-bind=\\\"html: getItemTooltipData, css: { 'hide-shop-item-details': !displayShopItemTooltip() }\\\"></div>\\n                <div style=\\\"margin-top:10px;margin-bottom:10px;\\\" class=\\\"form-inline\\\" data-bind=\\\"visible: getItemInputLabel() != ''\\\">\\n                    <div class=\\\"form-group\\\">\\n                        <label for=\\\"iteminput\\\" data-bind=\\\"text: getItemInputLabel\\\"></label>\\n                        <input class=\\\"form-control\\\" id=\\\"iteminput\\\" data-bind=\\\"value: itemInputValue\\\" />\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group text-right\\\">\\n                    <button class=\\\"btn btn-default\\\" data-bind=\\\"click: selectedTab().data.buildExplorer.getSelectedInventory().addItem\\\">Add Item</button>\\n                </div>\\n            </div>\\n        </div>\" });\nko.components.register('stat', { template: \"<span data-bind=\\\"text: parseFloat(hero[stat]()).toString()\\\"></span><span data-bind=\\\"html: $root.getDiffText(hero.diff[stat]()), diffCss: hero.diff[stat], diffCssStat: stat, visible: hero.showDiff\\\"></span>\" });\nko.components.register('stats0', { template: \"<div class=\\\"col-md-12 stats0\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr><td>Strength:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalStr' } }\\\"></td></tr>\\n    <tr><td>Agility:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalAgi' } }\\\"></td></tr>\\n    <tr><td>Intelligence:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalInt' } }\\\"></td></tr>\\n    <tr><td><abbr title=\\\"Movement Speed\\\">MS</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMovementSpeed' } }\\\"></td></tr>\\n    <tr><td>Turn Rate:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalTurnRate' } }\\\"></td></tr>\\n    <tr><td>Sight Range:</td><td class=\\\"text-right\\\"><span data-bind=\\\"html: '<abbr title=\\\\'Day\\\\'>' + visionrangeday() + '</abbr>/<abbr title=\\\\'Night\\\\'>' + visionrangenight() + '</abbr>'\\\"></span></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats1', { template: \"<div class=\\\"col-md-12 stats1\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr><td>Armor:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysical' } }\\\"></td></tr>\\n    <tr><td>Health:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'health' } }\\\"></td></tr>\\n    <tr><td>Health Regen:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'healthregen' } }\\\"></td></tr>\\n    <tr><td>Mana:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'mana' } }\\\"></td></tr>\\n    <tr><td>Mana Regen:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'manaregen' } }\\\"></td></tr>\\n    <tr><td>Physical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpPhysical' } }\\\"></td></tr>\\n    <tr><td>Magical <abbr title=\\\"Effective Hit Points\\\">EHP</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ehpMagical' } }\\\"></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats2', { template: \"<div class=\\\"col-md-12 stats2\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr><td>%Phys Res:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalArmorPhysicalReduction' } }\\\"></td></tr>\\n    <tr><td>%Magic Res:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalMagicResistance' } }\\\"></td></tr>\\n    <tr><td>%Lifesteal:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'lifesteal' } }\\\"></td></tr>\\n    <tr><td>%Evasion:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'evasion' } }\\\"></td></tr>\\n    <tr><td>%Bash:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bash' } }\\\"></td></tr>\\n    <tr><td>%Miss Chance:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'missChance' } }\\\"></td></tr>\\n    <tr style=\\\"display: none\\\"><td colspan=2><a class=\\\"btn btn-default btn-block btn-xs\\\" data-bind=\\\"css: {disabled: critInfo().sources.length == 0 ? 'disabled' : '', 'toggled': showCriticalStrikeDetails}, toggle: showCriticalStrikeDetails\\\">Critical Strike Details</a></td></tr>\\n    </tbody>\\n    <tbody class=\\\"tabledropdown\\\" style=\\\"border-top:0\\\" data-bind=\\\"visible: showCriticalStrikeDetails(),foreach: critInfo().sources\\\">\\n    <tr><td colspan=2><strong data-bind=\\\"text: $data.name\\\"></strong></td></tr>\\n    <tr><td>Crit Chance:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.totalchance * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n    <tr><td>Crit Multiplier:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: ($data.multiplier * 100).toFixed(2) + '%'\\\"></span></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats3', { template: \"<div class=\\\"col-md-12 stats3\\\" data-bind=\\\"css: {'col-md-12': $root.layout() == 0, 'col-md-3': $root.layout() == 1}\\\">\\n    <table class=\\\"table table-condensed\\\">\\n    <tbody>\\n    <tr>\\n        <td>Damage:</td>\\n        <td class=\\\"text-right\\\">\\n            <span data-bind=\\\"html: baseDamage()[0].toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['baseDamage']()[0]), css: {'diffPos': diff['baseDamage']()[0] > 0, 'diffNeg': diff['baseDamage']()[0] < 0}, visible: showDiff\\\"></span>\\n            <span>&ndash;</span>\\n            <span data-bind=\\\"html: baseDamage()[1].toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['baseDamage']()[1]), css: {'diffPos': diff['baseDamage']()[1] > 0, 'diffNeg': diff['baseDamage']()[1] < 0}, visible: showDiff\\\"></span>\\n            <span style=\\\"color:green\\\" data-bind=\\\"visible: bonusDamage() > 0, html: ' + ' + bonusDamage().toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['bonusDamage']()), css: {'diffPos': diff['bonusDamage']() > 0, 'diffNeg': diff['bonusDamage']() < 0}, visible: showDiff\\\"></span>\\n            <span style=\\\"color:red\\\" data-bind=\\\"visible: bonusDamageReduction() != 0, html: ' - ' + bonusDamageReduction().toFixed(0)\\\"></span>\\n            <span data-bind=\\\"html: $root.getDiffText(diff['bonusDamageReduction']()), css: {'diffPos': diff['bonusDamageReduction']() > 0, 'diffNeg': diff['bonusDamageReduction']() < 0}, visible: showDiff\\\"></span>\\n        </td>\\n    </tr>\\n    <tr><td><abbr title=\\\"Increased Attack Speed\\\">IAS</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'ias' } }\\\"></td></tr>\\n    <tr><td><abbr title=\\\"Base Attack Time\\\">BAT</abbr>:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'bat' } }\\\"></td></tr>\\n    <tr><td>Attack Time:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attackTime' } }\\\"></td></tr>\\n    <tr><td>Attack &frasl; Sec:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'attacksPerSecond' } }\\\"></td></tr>\\n    <tr><td>Attack Range:</td><td class=\\\"text-right\\\" data-bind=\\\"component: { name: 'stat', params: {'hero': $data, 'stat': 'totalattackrange' } }\\\"></td></tr>\\n    </tbody>\\n    </table>\\n</div>\" });\nko.components.register('stats-additional', { template: \"<table class=\\\"table table-condensed\\\">\\n    <tbody>\\n        <tr><td>Base Strength:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributebasestrength\\\"></span></td></tr>\\n        <tr><td>Strength Gain:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributestrengthgain\\\"></span></td></tr>\\n        <tr><td>Base Agility:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributebaseagility\\\"></span></td></tr>\\n        <tr><td>Agility Gain:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributeagilitygain\\\"></span></td></tr>\\n        <tr><td>Base Intelligence:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributebaseintelligence\\\"></span></td></tr>\\n        <tr><td>Intelligence Gain:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attributeintelligencegain\\\"></span></td></tr>\\n        <tr><td>Base Armor:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().armorphysical\\\"></span></td></tr>\\n        <tr><td><abbr title=\\\"Base Armor + armor from base agility\\\">Starting Armor:</abbr></td><td class=\\\"text-right\\\"><span data-bind=\\\"text: parseFloat($data.startingArmor()).toString()\\\"></span></td></tr>\\n        <tr><td>Base Magic Res:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().magicalresistance + '%'\\\"></span></td></tr>\\n        <tr><td>Base Attack Point:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: heroData().attackpoint\\\"></span></td></tr>\\n        <tr><td><abbr data-bind=\\\"attr: { title: 'Total experience required to reach level ' + $data.selectedHeroLevel() }\\\">Total Exp:</abbr></td><td class=\\\"text-right\\\"><span data-bind=\\\"text: $data.totalExp()\\\"></span></span></td></tr>\\n        <tr><td><abbr title=\\\"Experience required for next level\\\">Next level exp:</abbr></td><td class=\\\"text-right\\\"><span data-bind=\\\"html: $data.nextLevelExp()\\\"></span></span></td></tr>\\n        <tr><td>Respawn Time:</td><td class=\\\"text-right\\\"><span data-bind=\\\"text: $data.respawnTime()\\\"></span></td></tr>\\n    </tbody>\\n</table>\" });\n\n// The app extends the herocalc library, provides a frontend\nvar my = require(\"../herocalc/main\");\nrequire(\"./herocalc_tooltips\");\nrequire(\"./heroviewmodel\");\n\nmy.prototype.PlayerColors = [\n    \"#2E6AE6\", //Blue\n    \"#5DE6AD\", //Teal\n    \"#AD00AD\", //Purple\n    \"#DCD90A\", //Yellow\n    \"#E66200\", //Orange\n    \"#E67AB0\", //Pink\n    \"#92A440\", //Pus Yellow\n    \"#5CC5E0\", //Light Blue\n    \"#00771F\", //Green\n    \"#956000\" //Brown\n];\n\nmy.prototype.Tab = function (id, href, data, text, color, template) {\n    var self = this;\n    self.id = id;\n    self.href = href;\n    self.color = color;\n    self.data = data;\n    self.data.id = ko.observable(self.href);\n    self.text = text;\n    self.template = template;\n    return self;\n}\nmy.prototype.Tab.prototype.toJS = function () {\n    return {\n        id: this.id,\n        href: this.href,\n        color: this.color,\n        text: this.text,\n        template: this.template\n    }\n}\n\nmy.prototype.TabGroup = function (hero, unit, clone) {\n    var self = this;\n    self.hero = hero;\n    self.unit = unit;\n    self.clone = clone;\n    self.illusions = ko.observableArray([]);\n    return self;\n}\nmy.prototype.TabGroup.prototype.toJS = function () {\n    return {\n        hero: this.hero.toJS(),\n        unit: this.unit.toJS(),\n        clone: this.clone.toJS(),\n        illusions: this.illusions().map(function (illusion) { return illusion.toJS(); })\n    }\n}\n\nmy.prototype.HeroCalculatorViewModel = function () {\n    var self = this;\n    self.heroes = [];\n\n    for (var i = 0; i < 10; i++) {\n        self.heroes.push(new my.prototype.HeroCalculatorModel(i));\n    }\n    \n    for (var i = 0; i < 5; i++) {\n        var arr = [];\n        for (var j = 5; j < 10; j++) {\n            arr.push(self.heroes[j]);\n        }\n        self.heroes[i].enemies.push.apply(self.heroes[i].enemies, arr);\n    }\n    for (var i = 5; i < 10; i++) {\n        var arr = [];\n        for (var j = 0; j < 5; j++) {\n            arr.push(self.heroes[j]);\n        }\n        self.heroes[i].enemies.push.apply(self.heroes[i].enemies, arr);\n    }\n    for (var i = 0; i < 10; i++) {\n        var arr = [];\n        for (var j = 0; j < 10; j++) {\n            if (i !== j) arr.push(self.heroes[j]);\n        }\n        self.heroes[i].otherHeroes.push.apply(self.heroes[i].otherHeroes, arr);\n    }\n    \n    for (var i = 0; i < 10; i++) {\n        self.heroes[i].clone = ko.observable(new my.prototype.CloneViewModel(0, self.heroes[i]));\n        self.heroes[i].unit = ko.observable(new my.prototype.UnitViewModel(0, self.heroes[i]));\n        \n        self.heroes[i].selectedCompare(self.heroes[i].availableCompare()[i < 5 ? 4 + i : i - 5]);\n        self.heroes[i].selectedEnemy(self.heroes[i].availableEnemies()[i % 5]);\n        //self.heroes[i].enemy = ko.observable(self.heroes[i < 2 ? 2 : 0]);\n        self.heroes[i].unit().enemy(self.heroes[i].enemy());\n        //self.heroes[i].unit().enemy = ko.observable(self.heroes[i < 2 ? 2 : 0]);\n        //self.heroes[i].heroCompare = ko.observable(self.heroes[1 - (i % 2) + (i < 2 ? 0 : 2)]);\n        \n        self.heroes[i].unit().selectedUnit(self.heroes[i].unit().availableUnits()[0]);\n        //self.heroes[i].selectedHero(self.heroes[i].availableHeroes()[i < 2 ? 0 : 2]);\n        self.heroes[i].illusions.subscribe(function (changes) {\n            for (var i = 0; i < changes.length; i++) {\n                if (changes[i].status == 'added') {\n                    var color = this.index < 2 ? '#5cb85c' : '#d9534f',\n                        j = my.prototype.uniqueId();\n                    self.tabs()[this.index].illusions.push(\n                        new my.prototype.Tab(\n                            'illusionTab' + this.index + '-' + j,\n                            'illusionPane' + this.index + '-' + j,\n                            self.heroes[this.index].illusions()[self.tabs()[this.index].illusions().length](),\n                            'Illusion ' + j,\n                            color,\n                            'illusion-pane')\n                    );\n                }\n            }\n        }, {vm: this, index: i}, \"arrayChange\");\n    }\n    //self.heroes[0].showUnitTab(true);\n    self.heroes[0].bound(true);\n    self.tabs = ko.observableArray([]);\n    var tabsArr = [];\n    for (var i = 0; i < 10; i++) {\n        //var color = i < 5 ? '#5cb85c' : '#d9534f';\n        var color = my.prototype.PlayerColors[i];\n        var tabGroup = new my.prototype.TabGroup(\n            new my.prototype.Tab('heroTab' + i, 'heroPane' + i, self.heroes[i], 'Hero ' + i, color, 'hero-pane'),\n            new my.prototype.Tab('unitTab' + i, 'unitPane' + i, self.heroes[i].unit(), 'Unit ' + i, color, 'unit-pane'),\n            new my.prototype.Tab('cloneTab' + i, 'clonePane' + i, self.heroes[i].clone(), 'Meepo Clone ' + i, color, 'clone-pane')\n        );\n        //self.tabs.push(tabGroup);\n        tabsArr.push(tabGroup);\n    }\n    self.tabs.push.apply(self.tabs, tabsArr);//.slice(0, 1));\n\n    self.selectedItem = ko.observable();\n    self.layout = ko.observable(\"1\");\n    self.displayShop = ko.observable(true);\n    self.displayShopItemTooltip = ko.observable(true);\n    self.allItems = ko.observableArray([\n        {name: 'Str, Agi, Int, MS, Turn, Sight', value: 'stats0'},\n        {name: 'Armor, Health, Mana, Regen, EHP', value: 'stats1'},\n        {name: 'Phys Res, Magic Res, Lifesteal, Evasion, Bash, Miss', value: 'stats2'},\n        {name: 'Damage, IAS, BAT, Attack', value: 'stats3'}\n    ]); // Initial items\n    self.selectedItems = ko.observableArray([]); \n    self.moveUp = function () {\n        var start = self.allItems.indexOf(self.selectedItems()[0]),\n            end = self.allItems.indexOf(self.selectedItems()[self.selectedItems().length - 1]);\n        if (start > 0) {\n            var e = self.allItems.splice(start - 1, 1);\n            self.allItems.splice(end, 0, e[0]);            \n        }\n    };\n    self.moveDown = function () {\n        var start = self.allItems.indexOf(self.selectedItems()[0]),\n            end = self.allItems.indexOf(self.selectedItems()[self.selectedItems().length - 1]);        \n        if (end < self.allItems().length - 1) {\n            var e = self.allItems.splice(end + 1, 1);\n            self.allItems.splice(start, 0, e[0]);\n        }\n    };\n    self.selectedTabId = ko.observable('heroTab0');\n    self.getSelectedTab = function (tabId) {\n        var indices = tabId.replace('heroTab', '').replace('cloneTab', '').replace('unitTab', '').replace('illusionTab', '').split('-'),\n            index = indices[0],\n            tab = self.tabs()[index];\n        return tab;\n    }\n    self.selectedTab = ko.computed(function () {\n        /*var indices = self.selectedTabId().replace('heroTab', '').replace('cloneTab', '').replace('unitTab', '').replace('illusionTab', '').split('-'),\n            index = indices[0],\n            tab = self.tabs()[index];*/\n        var tab = self.getSelectedTab(self.selectedTabId());\n        if (self.selectedTabId().indexOf('hero') != -1) {\n            return tab.hero;\n        }\n        else if (self.selectedTabId().indexOf('unit') != -1) {\n            return tab.unit;\n        }\n        else if (self.selectedTabId().indexOf('clone') != -1) {\n            return tab.clone;\n        }\n        else if (self.selectedTabId().indexOf('illusion') != -1) {\n            return tab.illusions().find(function (tab) {\n                return tab.id == self.selectedTabId();\n            });\n        }\n        else {\n            return self.tabs()[0].hero;\n        }\n    });\n    self.selectedTabs = ko.observableArray(['heroTab0', 'heroTab1']);\n    //self.selectedTabs.push('heroTab0');\n    //self.selectedTabs.push('heroTab1');\n    self.boundSettings = ko.observable(false);\n    self.clickTab = function (data, event, index) {\n        /*if (event.target.id != 'settingsTab') {\n            self.selectedTabId(event.target.id);\n        }*/\n        self.selectedTabId(event.target.id);\n        if (self.selectedTabs()[1] != event.target.id) {\n            self.selectedTabs.shift();\n            self.selectedTabs.push(event.target.id);\n        }\n        if (self.selectedTab().data.hasOwnProperty('bound')) {\n            self.selectedTab().data.bound(true);\n\n            // make sure build explorer graph renders\n            setTimeout(function () {\n                self.selectedTab().data.buildExplorer.graphData.valueHasMutated();\n            }, 0);\n        }\n        if (event.target.id === 'settingsTab') self.boundSettings(true);\n    };\n    self.isSecondTab = function (id) {\n        return self.selectedTabs().indexOf(id) > -1 && self.selectedTabId() != id;\n    }\n    \n    self.showSideTabId = function (id) {\n        return self.selectedTabs().indexOf(id) > -1 && self.sideView();\n    };\n    \n    self.removeTab = function (index, data, event, tab) {\n        if (data.id == self.selectedTabId()) {\n            //self.selectedTabId('heroTab0');\n            self.clickTab(null, {target: {id: 'heroTab0'}});\n            $('#heroTab0').tab('show');\n        }\n        self.tabs()[tab].illusions.remove(function (illusion) {\n            return illusion == data;\n        });\n        self.heroes[tab].illusions.remove(function (illusion) {\n            return illusion() == data.data;\n        });\n    };\n    \n    self.sideView = ko.observable(false);\n    self.sideView.subscribe(function (newValue) {\n        if (newValue) {\n            if (!self.shopPopout()) {\n                self.displayShop(false);\n            }\n            for (var i = 0; i < self.selectedTabs().length; i++) {\n                var tab = self.getSelectedTab(self.selectedTabs()[i]);\n                if (tab && tab.hero.data.hasOwnProperty('bound')) {\n                    tab.hero.data.bound(true);\n                }\n            }\n            self.layout(\"0\");\n        }\n    });\n    var $window = $(window);\n    self.windowWidth = ko.observable($window.width());\n    self.windowHeight = ko.observable($window.height());\n    $window.resize(function () { \n        self.windowWidth($window.width());\n        self.windowHeight($window.height());\n    });\n    self.shopDock = ko.observable(false);\n    self.shopDock.subscribe(function (newValue) {\n        if (newValue) {\n\n        }\n        else {\n        }\n    });\n\n    self.shopDockTrigger = ko.computed(function () {\n        self.windowWidth();\n        self.shopDock();\n    });\n    self.shopPopout = ko.observable(false);\n    self.shopPopout.subscribe(function (newValue) {\n        if (newValue) {\n            self.displayShop(true);\n            $( \"#shop-dialog\" ).dialog({\n                minWidth: 380,\n                minHeight: 0,\n                closeText: \"\",\n                open: function ( event, ui ) {\n                    $(event.target.offsetParent).find('.ui-dialog-titlebar').find('button')\n                        .addClass('close glyphicon glyphicon-remove shop-button btn btn-default btn-xs pull-right')\n                        .removeClass('ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close close')\n                        .css('margin-right','0px')\n                        .parent()\n                            .append($('#shop-minimize'))\n                            .append($('#shop-maximize'));\n                    $(event.target.offsetParent).find('.ui-dialog-titlebar').dblclick(function () {\n                        self.displayShop(!self.displayShop());\n                    });\n                },\n                close: function ( event, ui ) {\n                    self.shopPopout(false);\n                }\n            });\n        }\n        else {\n            $('#shop-container').prepend($('#shop-minimize')).prepend($('#shop-maximize'));\n            $( \"#shop-dialog\" ).dialog(\"destroy\");\n        }\n    });\n\n    \n    self.changeSelectedItem = function (data, event) {\n        self.itemInputValue(1);\n        self.selectedItem(event.target.id);\n    }\n    \n    self.getItemTooltipData = ko.computed(function () {\n        return my.prototype.getItemTooltipData(self.selectedItem());\n    }, this);\n    self.getItemInputLabel = ko.computed(function () {\n        if (my.prototype.stackableItems.indexOf(self.selectedItem()) != -1) {\n            return 'Stack Size'\n        }\n        else if (my.prototype.levelitems.indexOf(self.selectedItem()) != -1) {\n            return 'Upgrade Level'\n        }\n        else if (self.selectedItem() == 'bloodstone') {\n            return 'Charges'\n        }\n        else {\n            return ''\n        }\n    }, this);\n    self.itemInputValue = ko.observable(1);\n    self.saveLink = ko.observable();\n    self.getAppState = function () {\n        var data = {\n            selectedItem: self.selectedItem,\n            layout: self.layout,\n            displayShop: self.displayShop,\n            displayShopItemTooltip: self.displayShopItemTooltip,\n            allItems: self.allItems,\n            selectedItems: self.selectedItems,\n            selectedTabId: self.selectedTabId,\n            selectedTabs: self.selectedTabs,\n            boundSettings: self.boundSettings,\n            sideView: self.sideView,\n            windowWidth: self.windowWidth,\n            windowHeight: self.windowHeight,\n            shopDock: self.shopDock,\n            shopPopout: self.shopPopout,\n            itemInputValue: self.itemInputValue,\n            saveLink: self.saveLink\n        }\n        data.tabs = self.tabs().map(function (tab) { return tab.toJS() });\n        return ko.toJS(data);\n    }\n    self.getSaveData = function () {\n        var data = {\n            version: \"1.3.0\",\n            heroes: []\n        }\n        for (var i = 0; i < 10; i++) {\n            var hero = self.heroes[i];\n            var d = {\n                hero: hero.selectedHero().heroName,\n                level: hero.selectedHeroLevel(),\n                items: [],\n                abilities: [],\n                skillPointHistory: hero.skillPointHistory(),\n                buffs: [],\n                itemBuffs: [],\n                debuffs: [],\n                itemDebuffs: [],\n                graphData: [],\n                enemyIndex: hero.enemy().index(),\n                heroCompareIndex: hero.heroCompare().index()\n            }\n            // items\n            for (var j = 0; j < hero.inventory.items().length; j++) {\n                d.items.push(ko.toJS(hero.inventory.items()[j]));\n            }\n            // abilities\n            for (var j = 0; j < hero.ability().abilities().length; j++) {\n                d.abilities.push({\n                    level: hero.ability().abilities()[j].level(),\n                    isActive: hero.ability().abilities()[j].isActive()\n                });\n            }\n            // buffs\n            for (var j = 0; j < hero.buffs.buffs().length; j++) {\n                d.buffs.push({\n                    name: hero.buffs.buffs()[j].name,\n                    level: hero.buffs.buffs()[j].data.level(),\n                    isActive: hero.buffs.buffs()[j].data.isActive()\n                });\n            }\n            \n            // debuffs\n            for (var j = 0; j < hero.debuffs.buffs().length; j++) {\n                d.debuffs.push({\n                    name: hero.debuffs.buffs()[j].name,\n                    level: hero.debuffs.buffs()[j].data.level(),\n                    isActive: hero.debuffs.buffs()[j].data.isActive()\n                });\n            }\n\n            // item buffs\n            for (var j = 0; j < hero.buffs.itemBuffs.items().length; j++) {\n                d.itemBuffs.push(ko.toJS(hero.buffs.itemBuffs.items()[j]));\n            }\n            \n            // item debuffs\n            for (var j = 0; j < hero.debuffs.itemBuffs.items().length; j++) {\n                d.itemDebuffs.push(ko.toJS(hero.debuffs.itemBuffs.items()[j]));\n            }\n            \n            // graph data\n            d.graphData = ko.toJS(hero.buildExplorer.graphData);\n            \n            data.heroes.push(d);\n        }\n        return data;\n    }\n    self.save = function () {\n        var data = self.getSaveData();\n        var serialized = JSON.stringify(data);\n        $.ajax({\n            type: \"POST\",\n            url: \"save.php\",\n            data: {'data': serialized},\n            dataType: \"json\",\n            success: function (data){\n                self.saveLink([location.protocol, '//', location.host, location.pathname].join('') + '?id=' + data.file);\n            },\n            failure: function (errMsg) {\n                alert(\"Save request failed.\");\n            }\n        });\n    }\n    self.load = function (data) {\n        for (var i = 0; i < data.heroes.length; i++) {\n            var hero = self.heroes[i];\n            hero.selectedHero(my.prototype.findWhere(hero.availableHeroes(), {'heroName': data.heroes[i].hero}));\n            hero.selectedHeroLevel(data.heroes[i].level);\n            hero.inventory.items.removeAll();\n            hero.inventory.activeItems.removeAll();\n            \n            // load hero compare\n            if (data.heroes[i].hasOwnProperty('heroCompareIndex')) {\n                var o = hero.availableCompare().filter(function (option) {\n                    return option.hero.index() == data.heroes[i].heroCompareIndex;\n                });\n                if (o.length) {\n                    hero.selectedCompare(o[0]);\n                    hero.heroCompare(o[0].hero);\n                }\n            }\n            \n            // load enemy\n            if (data.heroes[i].hasOwnProperty('enemyIndex')) {\n                var o = hero.availableEnemies().filter(function (option) {\n                    return option.hero.index() == data.heroes[i].enemyIndex;\n                });\n                if (o.length) {\n                    hero.selectedEnemy(o[0]);\n                    hero.enemy(o[0].hero);\n                }\n            }\n            \n            // load items\n            for (var j = 0; j < data.heroes[i].items.length; j++) {\n                var item = data.heroes[i].items[j];\n                var new_item = {\n                    item: item.item,\n                    state: ko.observable(item.state),\n                    size: item.size,\n                    enabled: ko.observable(item.enabled)\n                }\n                hero.inventory.items.push(new_item);\n            }\n\n            // load abilities\n            for (var j = 0; j < data.heroes[i].abilities.length; j++) {\n                hero.ability().abilities()[j].level(data.heroes[i].abilities[j].level);\n                hero.ability().abilities()[j].isActive(data.heroes[i].abilities[j].isActive);\n            }\n            hero.skillPointHistory(data.heroes[i].skillPointHistory);\n\n            // load buffs\n            for (var j = 0; j < data.heroes[i].buffs.length; j++) {\n                hero.buffs.selectedBuff(my.prototype.findWhere(hero.buffs.availableBuffs(), {buffName: data.heroes[i].buffs[j].name}));\n                hero.buffs.addBuff(hero, {});\n                var b = my.prototype.findWhere(hero.buffs.buffs(), { name: data.heroes[i].buffs[j].name });\n                b.data.level(data.heroes[i].buffs[j].level);\n                b.data.isActive(data.heroes[i].buffs[j].isActive);\n            }\n\n            // load debuffs\n            for (var j = 0; j < data.heroes[i].debuffs.length; j++) {\n                hero.debuffs.selectedBuff(my.prototype.findWhere(hero.debuffs.availableDebuffs(), {buffName: data.heroes[i].debuffs[j].name}));\n                hero.debuffs.addBuff(hero, {});\n                var b = my.prototype.findWhere(hero.debuffs.buffs(), { name: data.heroes[i].debuffs[j].name });\n                b.data.level(data.heroes[i].debuffs[j].level);\n                b.data.isActive(data.heroes[i].debuffs[j].isActive);\n            }\n\n            // load item buffs\n            if (data.heroes[i].itemBuffs) {\n                for (var j = 0; j < data.heroes[i].itemBuffs.length; j++) {\n                    var item = data.heroes[i].itemBuffs[j];\n                    var new_item = {\n                        item: item.item,\n                        state: ko.observable(item.state),\n                        size: item.size,\n                        enabled: ko.observable(item.enabled)\n                    }\n                    hero.buffs.itemBuffs.items.push(new_item);\n                }\n            }\n\n            // load item debuffs\n            if (data.heroes[i].itemDebuffs) {\n                for (var j = 0; j < data.heroes[i].itemDebuffs.length; j++) {\n                    var item = data.heroes[i].itemDebuffs[j];\n                    var new_item = {\n                        item: item.item,\n                        state: ko.observable(item.state),\n                        size: item.size,\n                        enabled: ko.observable(item.enabled)\n                    }\n                    hero.debuffs.itemBuffs.items.push(new_item);\n                }\n            }\n            \n            // load graph data\n            if (data.heroes[i].graphData) {\n                hero.buildExplorer.loadGraphData(data.heroes[i].graphData);\n            }\n        }\n    }\n    \n    self.sendReport = function () {\n        if ($('#BugReportFormText').val()) {\n            $.post( \"report.php\", { name: $('#BugReportFormName').val(), email: $('#BugReportFormEmail').val(), body: $('#BugReportFormText').val() })\n            .done(function (data) {\n                if (data == 'Success') {\n                    alert('Report successfully sent. Thanks!');\n                    $('#BugReportFormText').val('');\n                }\n                else {\n                    alert('Failed to send report. Try again later or email admin@devilesk.com');\n                }\n            });\n            $('#myModal').modal('hide');\n        }\n        else {\n            alert('Message is required.');\n        }\n    }\n    \n    self.getProperty = function (obj, properties) {\n        var result = obj;\n        for (var i = 0; i < properties.length; i++) {\n            result = result[properties[i]];\n        }\n        return result;\n    };\n    \n    self.getDiffTextWrapper = function (hero, property) {\n        return self.getDiffText(self.getDiffMagnitude(hero, property));\n    }\n    \n    self.getDiffMagnitude = function (hero, property) {\n        var properties = property.split('.');\n        return self.getProperty(hero.damageTotalInfo(), properties).toFixed(2) - self.getProperty(hero.heroCompare().damageTotalInfo(), properties).toFixed(2);\n    }\n    \n    self.getDiffText = function (value) {\n        if (value > 0) {\n            return '+' + parseFloat(value.toFixed(2));\n        }\n        else if (value < 0) {\n            return '&minus;' + parseFloat(value.toFixed(2)*-1).toString();\n        }\n        else {\n            return '';\n        }\n    }\n    self.highlightedTabInternal = ko.observable('');\n    self.highlightedTab = ko.computed(function () {\n        return self.highlightedTabInternal();\n    }).extend({ throttle: 100 });\n    self.highlightTab = function (data) {\n        self.highlightedTabInternal(data);\n    }\n    self.unhighlightTab = function (data) {\n        self.highlightedTabInternal('');\n    }\n}\n\nmy.prototype.theme = ko.observable('dark'); //ko.observable($('#theme-select').val());\nmy.prototype.heroCalculator = {};\n\nmy.prototype.run = function () {\n    my.prototype.heroCalculator = new my.prototype.HeroCalculatorViewModel();\n    ko.applyBindings(my.prototype.heroCalculator);\n    /*$('#theme-select').change(function () {\n        my.prototype.theme($(this).val());\n    });*/\n    $('#spinner').hide();\n    $('.initial-hidden').css('display', 'inline-block');\n    $('#popHero0').addClass('active');\n    $('#heroPane0').addClass('active');\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    var saveId = my.prototype.getParameterByName('id');\n    if (saveId) {\n        $.get('save/' + saveId + '.json', function (data) {\n            my.prototype.heroCalculator.load(data);\n        });\n    }\n}\n\nmy.prototype.inventoryClipBoard = {\n    items: [],\n    activeItems: []\n};\n\nmy.prototype.getParameterByName = function (name) {\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n        results = regex.exec(location.search);\n    return results == null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n}\n\nmodule.exports = my;","'use strict';\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nko.bindingHandlers.stopBinding = {\n    init: function() {\n        return { controlsDescendantBindings: true };\n    }\n};\n\nko.virtualElements.allowedBindings.stopBinding = true;\n\nko.bindingHandlers.lazyBinding = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        ko.utils.domData.set(element, 'isBound', false)\n        \n        // Also tell KO *not* to bind the descendants itself, otherwise they will be bound twice\n        return { controlsDescendantBindings: true };\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var val = ko.unwrap(valueAccessor()),\n            isBound = ko.utils.domData.get(element, 'isBound');\n        if (val && !isBound) {\n            ko.utils.domData.set(element, 'isBound', true);\n            ko.applyBindingsToDescendants(bindingContext, element);\n        }\n    }\n};\n\nko.virtualElements.allowedBindings.lazyBinding = true;\n\nko.bindingHandlers.itemBuildTable = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var buildExplorer = ko.unwrap(valueAccessor()),\n            $el = $(element);\n\n        var pressedKeys = {};\n        ko.utils.domData.set(element, 'pressedKeys', pressedKeys);\n        \n        var keyDownHandler = function(e) {\n            var pressedKeys = ko.utils.domData.get(element, 'pressedKeys');\n            pressedKeys[e.which] = true;\n            ko.utils.domData.set(element, 'pressedKeys', pressedKeys);\n        }\n        ko.utils.domData.set(element, 'keyDownHandler', keyDownHandler);\n        \n        var keyUpHandler = function(e) {\n            var pressedKeys = ko.utils.domData.get(element, 'pressedKeys');\n            if ((pressedKeys[17] && pressedKeys[67]) || (pressedKeys[17] && pressedKeys[86])) { // ctrl + c\n                var $hoveredRows = $(element).find('.hover-cursor:hover');\n                if ($hoveredRows.length == 1) {\n                    if (pressedKeys[67]) {\n                        buildExplorer.copyInventoryToClipBoard($(\"tr\", $(element)).index($hoveredRows[0]));\n                    }\n                    else {\n                        buildExplorer.pasteInventoryFromClipBoard($(\"tr\", $(element)).index($hoveredRows[0]));\n                    }\n                    $hoveredRows.fadeOut(50).fadeIn(50);\n                }\n            }\n            delete pressedKeys[e.which];\n            ko.utils.domData.set(element, 'pressedKeys', pressedKeys);\n        }\n        ko.utils.domData.set(element, 'keyUpHandler', keyUpHandler);\n        \n        $(document).bind( \"keydown\", keyDownHandler );\n        $(document).bind( \"keyup\", keyUpHandler );\n\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n            var keyDownHandler = ko.utils.domData.get(element, 'keyDownHandler');\n            var keyUpHandler = ko.utils.domData.get(element, 'keyUpHandler');\n            $(document).unbind( \"keydown\", keyDownHandler );\n            $(document).unbind( \"keyup\", keyUpHandler );\n        });\n    }\n};\n\nko.bindingHandlers.preventBubble = {\n    init: function(element, valueAccessor) {\n        var eventName = ko.utils.unwrapObservable(valueAccessor());\n        ko.utils.registerEventHandler(element, eventName, function(event) {\n           event.cancelBubble = true;\n           if (event.stopPropagation) {\n                event.stopPropagation();\n           }                \n        });\n    }        \n};\n\nko.bindingHandlers.toggle = {\n    init: function (element, valueAccessor) {\n        var value = valueAccessor();\n        ko.applyBindingsToNode(element, {\n            click: function () {\n                value(!value());\n            }\n        });\n    }\n};\n\nko.bindingHandlers.shopDockStyle = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (bindingContext.$data.shopDock() && !bindingContext.$data.shopPopout()) {\n            ko.applyBindingsToNode(element, { style: { height: (bindingContext.$data.windowHeight() - 52) + 'px', position: 'fixed', right: 0, top: '52px', 'overflow-y': 'auto' } });\n        }\n        else {\n            ko.applyBindingsToNode(element, { style: { height: 'auto', position: 'relative', right: 'initial', top: 'initial', 'overflow-y': 'initial' } });\n        }\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        if (bindingContext.$data.shopDock() && !bindingContext.$data.shopPopout()) {\n            ko.applyBindingsToNode(element, { style: { height: (bindingContext.$data.windowHeight() - 52) + 'px', position: 'fixed', right: 0, top: '52px', 'overflow-y': 'auto' } });\n        }\n        else {\n            ko.applyBindingsToNode(element, { style: { height: 'auto', position: 'relative', right: 'initial', top: 'initial', 'overflow-y': 'initial' } });\n        }\n    }\n};\n\nko.bindingHandlers.logger = {\n    update: function(element, valueAccessor, allBindings) {\n        //store a counter with this element\n        var count = ko.utils.domData.get(element, \"_ko_logger\") || 0,\n            data = ko.toJS(valueAccessor() || allBindings());\n\n        ko.utils.domData.set(element, \"_ko_logger\", ++count);\n\n        if (window.console && console.log) {\n            console.log(count, element, data);\n        }\n    }\n};\n\nko.bindingHandlers.tooltip = {\n    update: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $element, options, tooltip;\n        options = ko.utils.unwrapObservable(valueAccessor());\n        $element = $(element);\n\n        // If the title is an observable, make it auto-updating.\n        if (ko.isObservable(options.title)) {\n            var isToolTipVisible = false;\n\n            $element.on('show.bs.tooltip', function () {\n                isToolTipVisible = true;\n            });\n            $element.on('hide.bs.tooltip', function () {\n                isToolTipVisible = false;\n            });\n\n            // \"true\" is the bootstrap default.\n            var origAnimation = options.animation || true;\n            options.title.subscribe(function () {\n                if (isToolTipVisible) {\n                    $element.data('bs.tooltip').options.animation = false; // temporarily disable animation to avoid flickering of the tooltip\n                    $element.tooltip('fixTitle') // call this method to update the title\n                        .tooltip('show');\n                    $element.data('bs.tooltip').options.animation = origAnimation;\n                }\n            });\n        }\n\n        tooltip = $element.data('bs.tooltip');\n        if (tooltip) {\n            $.extend(tooltip.options, options);\n        } else {\n            $element.tooltip(options);\n        }\n    }\n};\n\nko.bindingHandlers.popover = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $element = $(element);\n        var popoverBindingValues = ko.utils.unwrapObservable(valueAccessor());\n        var template = popoverBindingValues.template || false;\n        var options = popoverBindingValues.options || {title: 'popover'};\n        var data = popoverBindingValues.data || false;\n        if (template !== false) {\n            if (data) {\n                options.content = \"<!-- ko template: { name: template, if: data, data: data } --><!-- /ko -->\";\n            }\n            else {\n                options.content = $('#' + template).html();\n            }\n            options.html = true;\n        }\n        $element.on('shown.bs.popover', function(event) {\n\n            var popoverData = $(event.target).data();\n            var popoverEl = popoverData['bs.popover'].$tip;\n            var options = popoverData['bs.popover'].options || {};\n            var button = $(event.target);\n            var buttonPosition = button.position();\n            var buttonDimensions = {\n                x: button.outerWidth(),\n                y: button.outerHeight()\n            };\n\n            if (data) {\n                ko.applyBindingsToNode(popoverEl[0], { template: { name: template, data: data } }, bindingContext);\n                //ko.applyBindings({template: template, data: data}, popoverEl[0]);\n                //ko.renderTemplate(template, data, {}, popoverEl[0], 'replaceChildren');\n            }\n            else {\n                //ko.renderTemplate(template, data, {}, popoverEl[0], 'replaceChildren');\n                //ko.applyBindings(viewModel, popoverEl[0]);\n            }\n\n            var popoverDimensions = {\n                x: popoverEl.outerWidth(),\n                y: popoverEl.outerHeight()\n            };\n\n            popoverEl.find('button[data-dismiss=\"popover\"]').click(function() {\n                button.popover('hide');\n            });\n\n            switch (options.placement) {\n                case 'right':\n                    popoverEl.css({\n                        left: buttonDimensions.x + buttonPosition.left,\n                        top: (buttonDimensions.y / 2 + buttonPosition.top) - popoverDimensions.y / 2\n                    });\n                    break;\n                case 'left':\n                    popoverEl.css({\n                        left: buttonPosition.left - popoverDimensions.x,\n                        top: (buttonDimensions.y / 2 + buttonPosition.top) - popoverDimensions.y / 2\n                    });\n                    break;\n                case 'top':\n                    popoverEl.css({\n                        left: buttonPosition.left + (buttonDimensions.x / 2 - popoverDimensions.x / 2),\n                        top: buttonPosition.top - popoverDimensions.y\n                    });\n                    break;\n                case 'bottom':\n                    popoverEl.css({\n                        left: buttonPosition.left + (buttonDimensions.x / 2 - popoverDimensions.x / 2),\n                        top: buttonPosition.top + buttonDimensions.y\n                    });\n                    break;\n            }\n        });\n\n        $element.popover(options);\n\n        return { controlsDescendantBindings: true };\n\n    }\n};\n\nko.bindingHandlers.chart = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var newCanvas = $('<canvas/>'),\n      data = ko.utils.unwrapObservable(valueAccessor()),\n      ctx = newCanvas[0].getContext(\"2d\"),\n      chartType = allBindingsAccessor().chartType,\n      options = allBindingsAccessor().chartOptions || {},\n      chartContext = allBindingsAccessor().chartContext;\n            \n        $(element).append(newCanvas);\n        var myChart = new Chart(ctx)[chartType](data, options);\n        ko.utils.domData.set(element, 'myChart', myChart);\n        \n  //handle disposal (if KO removes by the template binding)\n  ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n    var myChart = ko.utils.domData.get(element, 'myChart');\n    myChart.clear();\n    myChart.destroy();\n  });\n        \n  if (chartContext) {\n    chartContext(ctx);\n  }\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var newCanvas = $('<canvas/>').width(730).height(365),\n      data = ko.utils.unwrapObservable(valueAccessor()),\n      ctx = newCanvas[0].getContext(\"2d\"),\n      chartType = allBindingsAccessor().chartType,\n      options = allBindingsAccessor().chartOptions || {},\n      chartContext = allBindingsAccessor().chartContext,\n      myChart = ko.utils.domData.get(element, 'myChart');\n        \n  if (myChart) {\n    myChart.clear();\n    myChart.destroy();\n  }\n        bindingContext.$root.displayShop();\n        bindingContext.$root.sideView();\n        bindingContext.$root.shopDock();\n        $(element).empty();\n        $(element).append(newCanvas);\n  if (data.datasets.length > 0) {\n            myChart = new Chart(ctx)[chartType](data, options);\n            ko.utils.domData.set(element, 'myChart', myChart);\n  }\n  \n  if (chartContext) {\n    chartContext(ctx);\n  }\n    }\n};\n\nko.bindingHandlers.spinner = {\n    init: function(element, valueAccessor, allBindingsAccessor) {\n        //initialize datepicker with some optional options\n        var options = allBindingsAccessor().spinnerOptions || {};\n        $(element).spinner(options);\n\n        //handle the field changing\n        ko.utils.registerEventHandler(element, \"spinchange\", function () {\n            var observable = valueAccessor();\n            observable($(element).spinner(\"value\"));\n        });\n\n        //handle disposal (if KO removes by the template binding)\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function() {\n            $(element).spinner(\"destroy\");\n        });\n\n    },\n    update: function(element, valueAccessor) {\n        var value = ko.utils.unwrapObservable(valueAccessor()),\n            current = $(element).spinner(\"value\");\n\n        if (value !== current) {\n            $(element).spinner(\"value\", value);\n        }\n    }\n};\n\nko.bindingHandlers.secondTab = {\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { css: {'second-tab': $root.isSecondTab(value) && $root.sideView()} });\n    }\n};\n\nko.bindingHandlers.hoverTab = {\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n            \n        ko.utils.registerEventHandler(element, \"mouseover\", function() {\n            $root.highlightTab(value);\n        });  \n\n        ko.utils.registerEventHandler(element, \"mouseout\", function() {\n            $root.unhighlightTab(value);\n        });      \n    }\n};\n\nko.bindingHandlers.hoverPaneStyle = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { style: { opacity: !($root.sideView()) || $root.highlightedTab() == value || $root.highlightedTab() == '' ? 1 : .5 } });\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $root = bindingContext.$root,\n            value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { style: { opacity: !($root.sideView()) || $root.highlightedTab() == value || $root.highlightedTab() == '' ? 1 : .5 } });\n    }\n};\n\nko.bindingHandlers.diffStyle = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    }\n};\n\nko.bindingHandlers.diffCss = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor()),\n            stat = allBindingsAccessor().diffCssStat;\n        if (stat == 'attackTime' || stat == 'bat') {\n            value = -value;\n        }\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var value = ko.utils.unwrapObservable(valueAccessor()),\n            stat = allBindingsAccessor().diffCssStat;\n        if (stat == 'attackTime' || stat == 'bat') {\n            value = -value;\n        }\n        ko.applyBindingsToNode(element, { css: {'diffPos': value > 0, 'diffNeg': value < 0} });\n    }\n};\n\nko.bindingHandlers.jqAuto = {\n    init: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n        var options = valueAccessor() || {},\n            allBindings = allBindingsAccessor(),\n            unwrap = ko.utils.unwrapObservable,\n            modelValue = allBindings.jqAutoValue,\n            source = allBindings.jqAutoSource,\n            valueProp = allBindings.jqAutoSourceValue,\n            inputValueProp = allBindings.jqAutoSourceInputValue || valueProp,\n            labelProp = allBindings.jqAutoSourceLabel || valueProp;\n\n        //function that is shared by both select and change event handlers\n        function writeValueToModel(valueToWrite) {\n            if (ko.isWriteableObservable(modelValue)) {\n               modelValue(valueToWrite );  \n            } else {  //write to non-observable\n               if (allBindings['_ko_property_writers'] && allBindings['_ko_property_writers']['jqAutoValue'])\n                        allBindings['_ko_property_writers']['jqAutoValue'](valueToWrite );    \n            }\n        }\n        \n        //on a selection write the proper value to the model\n        options.select = function(event, ui) {\n            writeValueToModel(ui.item ? ui.item.actualValue : null);\n        };\n            \n        //on a change, make sure that it is a valid value or clear out the model value\n        options.change = function(event, ui) {\n            var currentValue = $(element).val();\n            var matchingItem =  ko.utils.arrayFirst(unwrap(source), function(item) {\n               return unwrap(item[inputValueProp]) === currentValue;  \n            });\n            \n            if (!matchingItem) {\n               writeValueToModel(null);\n            }    \n        }\n        \n        \n        //handle the choices being updated in a DO, to decouple value updates from source (options) updates\n        var mappedSource = ko.dependentObservable(function() {\n            var mapped = ko.utils.arrayMap(unwrap(source), function(item) {\n                var result = {};\n                result.label = labelProp ? unwrap(item[labelProp]) : unwrap(item).toString();  //show in pop-up choices\n                result.value = inputValueProp ? unwrap(item[inputValueProp]) : unwrap(item).toString();  //show in input box\n                result.actualValue = valueProp ? unwrap(item[valueProp]) : item;  //store in model\n                return result;\n            });\n            return mapped;                \n        });\n        \n        //whenever the items that make up the source are updated, make sure that autocomplete knows it\n        mappedSource.subscribe(function(newValue) {\n           $(element).autocomplete(\"option\", \"source\", newValue); \n        });\n        \n        options.source = mappedSource();\n        \n        options.minLength = 1;\n        //initialize autocomplete\n        $(element).autocomplete(options);\n    },\n    update: function(element, valueAccessor, allBindingsAccessor, viewModel) {\n       //update value based on a model change\n       var allBindings = allBindingsAccessor(),\n           unwrap = ko.utils.unwrapObservable,\n           modelValue = unwrap(allBindings.jqAutoValue) || '', \n           valueProp = allBindings.jqAutoSourceValue,\n           inputValueProp = allBindings.jqAutoSourceInputValue || valueProp;\n        \n       //if we are writing a different property to the input than we are writing to the model, then locate the object\n       if (valueProp && inputValueProp !== valueProp) {\n           var source = unwrap(allBindings.jqAutoSource) || [];\n           var modelValue = ko.utils.arrayFirst(source, function(item) {\n                 return unwrap(item[valueProp]) === modelValue;\n           }) || {};  //probably don't need the || {}, but just protect against a bad value          \n       } \n\n       //update the element with the value that should be shown in the input\n       $(element).val(modelValue && inputValueProp !== valueProp ? unwrap(modelValue[inputValueProp]) : modelValue.toString());    \n    }\n};\n\nko.bindingHandlers.jqAutoCombo = {\n    init: function(element, valueAccessor) {\n       var autoEl = $(\"#\" + valueAccessor());\n       \n        $(element).click(function() {\n           // close if already visible\n            if (autoEl.autocomplete(\"widget\").is(\":visible\")) {\n                autoEl.autocomplete( \"close\" );\n                return;\n            }\n\n           //autoEl.blur();\n            autoEl.autocomplete(\"search\", \" \");\n            autoEl.focus(); \n            \n        });\n        \n    }  \n}\n\nmodule.exports = ko;","'use strict';\nvar $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\nrequire('jquery-ui');\nrequire('../../../node_modules/jquery-ui/ui/version');\nrequire('../../../node_modules/jquery-ui/ui/widget');\nrequire('../../../node_modules/jquery-ui/ui/unique-id');\nrequire('../../../node_modules/jquery-ui/ui/safe-active-element');\nrequire('../../../node_modules/jquery-ui/ui/keycode');\nrequire('../../../node_modules/jquery-ui/ui/position');\nrequire('../../../node_modules/jquery-ui/ui/focusable');\nrequire('../../../node_modules/jquery-ui/ui/tabbable');\nrequire('../../../node_modules/jquery-ui/ui/plugin');\nrequire('../../../node_modules/jquery-ui/ui/ie');\nrequire('../../../node_modules/jquery-ui/ui/data');\nrequire('../../../node_modules/jquery-ui/ui/scroll-parent');\nrequire('../../../node_modules/jquery-ui/ui/disable-selection');\nrequire('../../../node_modules/jquery-ui/ui/safe-blur');\nrequire('../../../node_modules/jquery-ui/ui/widgets/button');\nrequire('../../../node_modules/jquery-ui/ui/widgets/spinner');\nrequire('../../../node_modules/jquery-ui/ui/widgets/menu');\nrequire('../../../node_modules/jquery-ui/ui/widgets/autocomplete');\nrequire('../../../node_modules/jquery-ui/ui/widgets/mouse');\nrequire('../../../node_modules/jquery-ui/ui/widgets/draggable');\nrequire('../../../node_modules/jquery-ui/ui/widgets/resizable');\nrequire('../../../node_modules/jquery-ui/ui/widgets/dialog');\n\nvar proto = $.ui.autocomplete.prototype,\n    initSource = proto._initSource;\n\nfunction filter( array, term ) {\n    var matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), \"i\" );\n    return $.grep( array, function(value) {\n        return matcher.test( $( \"<div>\" ).html( value.label || value.value || value ).text() );\n    });\n}\n\n$.extend( proto, {\n    _initSource: function() {\n        if ( this.options.html && $.isArray(this.options.source) ) {\n            this.source = function( request, response ) {\n                response( filter( this.options.source, request.term ) );\n            };\n        } else {\n            initSource.call( this );\n        }\n    },\n\n    _renderItem: function( ul, item) {\n        return $( \"<li></li>\" )\n            .data( \"item.autocomplete\", item )\n            .append( $( \"<a></a>\" )[ this.options.html ? \"html\" : \"text\" ]( item.label ) )\n            .appendTo( ul );\n    }\n});","/*!\n * Chart.js\n * http://chartjs.org/\n * Version: 1.0.1\n *\n * Copyright 2015 Nick Downie\n * Released under the MIT license\n * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md\n */\n(function(){\"use strict\";var t=this,i=t.Chart,e=function(t){this.canvas=t.canvas,this.ctx=t;this.width=t.canvas.width,this.height=t.canvas.height;return this.aspectRatio=this.width/this.height,s.retinaScale(this),this};e.defaults={global:{animation:!0,animationSteps:60,animationEasing:\"easeOutQuart\",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:\"rgba(0,0,0,.1)\",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:\"<%=value%>\",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",scaleFontSize:12,scaleFontStyle:\"normal\",scaleFontColor:\"#666\",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:[\"mousemove\",\"touchstart\",\"touchmove\",\"mouseout\"],tooltipFillColor:\"rgba(0,0,0,0.8)\",tooltipFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",tooltipFontSize:14,tooltipFontStyle:\"normal\",tooltipFontColor:\"#fff\",tooltipTitleFontFamily:\"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",tooltipTitleFontSize:14,tooltipTitleFontStyle:\"bold\",tooltipTitleFontColor:\"#fff\",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:\"<%if (label){%><%=label%>: <%}%><%= value %>\",multiTooltipTemplate:\"<%= value %>\",multiTooltipKeyBackground:\"#fff\",onAnimationProgress:function(){},onAnimationComplete:function(){}}},e.types={};var s=e.helpers={},n=s.each=function(t,i,e){var s=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var n;for(n=0;n<t.length;n++)i.apply(e,[t[n],n].concat(s))}else for(var o in t)i.apply(e,[t[o],o].concat(s))},o=s.clone=function(t){var i={};return n(t,function(e,s){t.hasOwnProperty(s)&&(i[s]=e)}),i},a=s.extend=function(t){return n(Array.prototype.slice.call(arguments,1),function(i){n(i,function(e,s){i.hasOwnProperty(s)&&(t[s]=e)})}),t},h=s.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),a.apply(null,t)},l=s.indexOf=function(t,i){if(Array.prototype.indexOf)return t.indexOf(i);for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1},r=(s.where=function(t,i){var e=[];return s.each(t,function(t){i(t)&&e.push(t)}),e},s.findNextWhere=function(t,i,e){e||(e=-1);for(var s=e+1;s<t.length;s++){var n=t[s];if(i(n))return n}},s.findPreviousWhere=function(t,i,e){e||(e=t.length);for(var s=e-1;s>=0;s--){var n=t[s];if(i(n))return n}},s.inherits=function(t){var i=this,e=t&&t.hasOwnProperty(\"constructor\")?t.constructor:function(){return i.apply(this,arguments)},s=function(){this.constructor=e};return s.prototype=i.prototype,e.prototype=new s,e.extend=r,t&&a(e.prototype,t),e.__super__=i.prototype,e}),c=s.noop=function(){},u=s.uid=function(){var t=0;return function(){return\"chart-\"+t++}}(),d=s.warn=function(t){window.console&&\"function\"==typeof window.console.warn&&console.warn(t)},p=s.amd=\"function\"==typeof define&&define.amd,f=s.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},g=s.max=function(t){return Math.max.apply(Math,t)},m=s.min=function(t){return Math.min.apply(Math,t)},v=(s.cap=function(t,i,e){if(f(i)){if(t>i)return i}else if(f(e)&&e>t)return e;return t},s.getDecimalPlaces=function(t){return t%1!==0&&f(t)?t.toString().split(\".\")[1].length:0}),S=s.radians=function(t){return t*(Math.PI/180)},x=(s.getAngleFromPoint=function(t,i){var e=i.x-t.x,s=i.y-t.y,n=Math.sqrt(e*e+s*s),o=2*Math.PI+Math.atan2(s,e);return 0>e&&0>s&&(o+=2*Math.PI),{angle:o,distance:n}},s.aliasPixel=function(t){return t%2===0?0:.5}),y=(s.splineCurve=function(t,i,e,s){var n=Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2)),o=Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)),a=s*n/(n+o),h=s*o/(n+o);return{inner:{x:i.x-a*(e.x-t.x),y:i.y-a*(e.y-t.y)},outer:{x:i.x+h*(e.x-t.x),y:i.y+h*(e.y-t.y)}}},s.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),C=(s.calculateScaleRange=function(t,i,e,s,n){var o=2,a=Math.floor(i/(1.5*e)),h=o>=a,l=g(t),r=m(t);l===r&&(l+=.5,r>=.5&&!s?r-=.5:l+=.5);for(var c=Math.abs(l-r),u=y(c),d=Math.ceil(l/(1*Math.pow(10,u)))*Math.pow(10,u),p=s?0:Math.floor(r/(1*Math.pow(10,u)))*Math.pow(10,u),f=d-p,v=Math.pow(10,u),S=Math.round(f/v);(S>a||a>2*S)&&!h;)if(S>a)v*=2,S=Math.round(f/v),S%1!==0&&(h=!0);else if(n&&u>=0){if(v/2%1!==0)break;v/=2,S=Math.round(f/v)}else v/=2,S=Math.round(f/v);return h&&(S=o,v=f/S),{steps:S,stepValue:v,min:p,max:p+S*v}},s.template=function(t,i){function e(t,i){var e=/\\W/.test(t)?new Function(\"obj\",\"var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('\"+t.replace(/[\\r\\t\\n]/g,\" \").split(\"<%\").join(\"\t\").replace(/((^|%>)[^\\t]*)'/g,\"$1\\r\").replace(/\\t=(.*?)%>/g,\"',$1,'\").split(\"\t\").join(\"');\").split(\"%>\").join(\"p.push('\").split(\"\\r\").join(\"\\\\'\")+\"');}return p.join('');\"):s[t]=s[t];return i?e(i):e}if(t instanceof Function)return t(i);var s={};return e(t,i)}),w=(s.generateLabels=function(t,i,e,s){var o=new Array(i);return labelTemplateString&&n(o,function(i,n){o[n]=C(t,{value:e+s*(n+1)})}),o},s.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)))},easeOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:1==(t/=1)?1:(e||(e=.3),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),s*Math.pow(2,-10*t)*Math.sin(2*(1*t-i)*Math.PI/e)+1)},easeInOutElastic:function(t){var i=1.70158,e=0,s=1;return 0===t?0:2==(t/=.5)?1:(e||(e=.3*1.5),s<Math.abs(1)?(s=1,i=e/4):i=e/(2*Math.PI)*Math.asin(1/s),1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e):s*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-i)*Math.PI/e)*.5+1)},easeInBack:function(t){var i=1.70158;return 1*(t/=1)*t*((i+1)*t-i)},easeOutBack:function(t){var i=1.70158;return 1*((t=t/1-1)*t*((i+1)*t+i)+1)},easeInOutBack:function(t){var i=1.70158;return(t/=.5)<1?.5*t*t*(((i*=1.525)+1)*t-i):.5*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)},easeInBounce:function(t){return 1-w.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*w.easeInBounce(2*t):.5*w.easeOutBounce(2*t-1)+.5}}),b=s.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),P=(s.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),s.animationLoop=function(t,i,e,s,n,o){var a=0,h=w[e]||w.linear,l=function(){a++;var e=a/i,r=h(e);t.call(o,r,e,a),s.call(o,r,e),i>a?o.animationFrame=b(l):n.apply(o)};b(l)},s.getRelativePosition=function(t){var i,e,s=t.originalEvent||t,n=t.currentTarget||t.srcElement,o=n.getBoundingClientRect();return s.touches?(i=s.touches[0].clientX-o.left,e=s.touches[0].clientY-o.top):(i=s.clientX-o.left,e=s.clientY-o.top),{x:i,y:e}},s.addEvent=function(t,i,e){t.addEventListener?t.addEventListener(i,e):t.attachEvent?t.attachEvent(\"on\"+i,e):t[\"on\"+i]=e}),L=s.removeEvent=function(t,i,e){t.removeEventListener?t.removeEventListener(i,e,!1):t.detachEvent?t.detachEvent(\"on\"+i,e):t[\"on\"+i]=c},k=(s.bindEvents=function(t,i,e){t.events||(t.events={}),n(i,function(i){t.events[i]=function(){e.apply(t,arguments)},P(t.chart.canvas,i,t.events[i])})},s.unbindEvents=function(t,i){n(i,function(i,e){L(t.chart.canvas,e,i)})}),F=s.getMaximumWidth=function(t){var i=t.parentNode;return i.clientWidth},R=s.getMaximumHeight=function(t){var i=t.parentNode;return i.clientHeight},T=(s.getMaximumSize=s.getMaximumWidth,s.retinaScale=function(t){var i=t.ctx,e=t.canvas.width,s=t.canvas.height;window.devicePixelRatio&&(i.canvas.style.width=e+\"px\",i.canvas.style.height=s+\"px\",i.canvas.height=s*window.devicePixelRatio,i.canvas.width=e*window.devicePixelRatio,i.scale(window.devicePixelRatio,window.devicePixelRatio))}),A=s.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},M=s.fontString=function(t,i,e){return i+\" \"+t+\"px \"+e},W=s.longestText=function(t,i,e){t.font=i;var s=0;return n(e,function(i){var e=t.measureText(i).width;s=e>s?e:s}),s},z=s.drawRoundedRectangle=function(t,i,e,s,n,o){t.beginPath(),t.moveTo(i+o,e),t.lineTo(i+s-o,e),t.quadraticCurveTo(i+s,e,i+s,e+o),t.lineTo(i+s,e+n-o),t.quadraticCurveTo(i+s,e+n,i+s-o,e+n),t.lineTo(i+o,e+n),t.quadraticCurveTo(i,e+n,i,e+n-o),t.lineTo(i,e+o),t.quadraticCurveTo(i,e,i+o,e),t.closePath()};e.instances={},e.Type=function(t,i,s){this.options=i,this.chart=s,this.id=u(),e.instances[this.id]=this,i.responsive&&this.resize(),this.initialize.call(this,t)},a(e.Type.prototype,{initialize:function(){return this},clear:function(){return A(this.chart),this},stop:function(){return s.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var i=this.chart.canvas,e=F(this.chart.canvas),s=this.options.maintainAspectRatio?e/this.chart.aspectRatio:R(this.chart.canvas);return i.width=this.chart.width=e,i.height=this.chart.height=s,T(this.chart),\"function\"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:c,render:function(t){return t&&this.reflow(),this.options.animation&&!t?s.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return C(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events);var t=this.chart.canvas;t.width=this.chart.width,t.height=this.chart.height,t.style.removeProperty?(t.style.removeProperty(\"width\"),t.style.removeProperty(\"height\")):(t.style.removeAttribute(\"width\"),t.style.removeAttribute(\"height\")),delete e.instances[this.id]},showTooltip:function(t,i){\"undefined\"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var i=!1;return t.length!==this.activeElements.length?i=!0:(n(t,function(t,e){t!==this.activeElements[e]&&(i=!0)},this),i)}.call(this,t);if(o||i){if(this.activeElements=t,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),t.length>0)if(this.datasets&&this.datasets.length>1){for(var a,h,r=this.datasets.length-1;r>=0&&(a=this.datasets[r].points||this.datasets[r].bars||this.datasets[r].segments,h=l(a,t[0]),-1===h);r--);var c=[],u=[],d=function(){var t,i,e,n,o,a=[],l=[],r=[];return s.each(this.datasets,function(i){t=i.points||i.bars||i.segments,t[h]&&t[h].hasValue()&&a.push(t[h])}),s.each(a,function(t){l.push(t.x),r.push(t.y),c.push(s.template(this.options.multiTooltipTemplate,t)),u.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(r),e=g(r),n=m(l),i=g(l),{x:n>this.chart.width/2?n:i,y:(o+e)/2}}.call(this,h);new e.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:c,legendColors:u,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else n(t,function(t){var i=t.tooltipPosition();new e.Tooltip({x:Math.round(i.x),y:Math.round(i.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:C(this.options.tooltipTemplate,t),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),e.Type.extend=function(t){var i=this,s=function(){return i.apply(this,arguments)};if(s.prototype=o(i.prototype),a(s.prototype,t),s.extend=e.Type.extend,t.name||i.prototype.name){var n=t.name||i.prototype.name,l=e.defaults[i.prototype.name]?o(e.defaults[i.prototype.name]):{};e.defaults[n]=a(l,t.defaults),e.types[n]=s,e.prototype[n]=function(t,i){var o=h(e.defaults.global,e.defaults[n],i||{});return new s(t,o,this)}}else d(\"Name not provided for this chart, so it hasn't been registered\");return i},e.Element=function(t){a(this,t),this.initialize.apply(this,arguments),this.save()},a(e.Element.prototype,{initialize:function(){},restore:function(t){return t?n(t,function(t){this[t]=this._saved[t]},this):a(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return n(t,function(t,i){this._saved[i]=this[i],this[i]=t},this),this},transition:function(t,i){return n(t,function(t,e){this[e]=(t-this._saved[e])*i+this._saved[e]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return f(this.value)}}),e.Element.extend=r,e.Point=e.Element.extend({display:!0,inRange:function(t,i){var e=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(i-this.y,2)<Math.pow(e,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),e.Arc=e.Element.extend({inRange:function(t,i){var e=s.getAngleFromPoint(this,{x:t,y:i}),n=e.angle>=this.startAngle&&e.angle<=this.endAngle,o=e.distance>=this.innerRadius&&e.distance<=this.outerRadius;return n&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,i=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*i,y:this.y+Math.sin(t)*i}},draw:function(t){var i=this.ctx;i.beginPath(),i.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),i.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),i.closePath(),i.strokeStyle=this.strokeColor,i.lineWidth=this.strokeWidth,i.fillStyle=this.fillColor,i.fill(),i.lineJoin=\"bevel\",this.showStroke&&i.stroke()}}),e.Rectangle=e.Element.extend({draw:function(){var t=this.ctx,i=this.width/2,e=this.x-i,s=this.x+i,n=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(e+=o,s-=o,n+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(e,this.base),t.lineTo(e,n),t.lineTo(s,n),t.lineTo(s,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,i){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&i>=this.y&&i<=this.base}}),e.Tooltip=e.Element.extend({draw:function(){var t=this.chart.ctx;t.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign=\"center\",this.yAlign=\"above\";var i=this.caretPadding=2,e=t.measureText(this.text).width+2*this.xPadding,s=this.fontSize+2*this.yPadding,n=s+this.caretHeight+i;this.x+e/2>this.chart.width?this.xAlign=\"left\":this.x-e/2<0&&(this.xAlign=\"right\"),this.y-n<0&&(this.yAlign=\"below\");var o=this.x-e/2,a=this.y-n;if(t.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case\"above\":t.beginPath(),t.moveTo(this.x,this.y-i),t.lineTo(this.x+this.caretHeight,this.y-(i+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(i+this.caretHeight)),t.closePath(),t.fill();break;case\"below\":a=this.y+i+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+i),t.lineTo(this.x+this.caretHeight,this.y+i+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+i+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case\"left\":o=this.x-e+(this.cornerRadius+this.caretHeight);break;case\"right\":o=this.x-(this.cornerRadius+this.caretHeight)}z(t,o,a,e,s,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign=\"center\",t.textBaseline=\"middle\",t.fillText(this.text,o+e/2,a+s/2)}}}),e.MultiTooltip=e.Element.extend({initialize:function(){this.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=M(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,i=W(this.ctx,this.font,this.labels)+this.fontSize+3,e=g([i,t]);this.width=e+2*this.xPadding;var s=this.height/2;this.y-s<0?this.y=s:this.y+s>this.chart.height&&(this.y=this.chart.height-s),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var i=this.y-this.height/2+this.yPadding,e=t-1;return 0===t?i+this.titleFontSize/2:i+(1.5*this.fontSize*e+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{z(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign=\"left\",t.textBaseline=\"middle\",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,s.each(this.labels,function(i,e){t.fillStyle=this.textColor,t.fillText(i,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(e+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[e].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(e+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),e.Scale=e.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?W(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,i=this.endPoint-this.startPoint;for(this.calculateYRange(i),this.buildYLabels(),this.calculateXLabelRotation();i>this.endPoint-this.startPoint;)i=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(i),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,i,e=this.ctx.measureText(this.xLabels[0]).width,s=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=s/2+3,this.xScalePaddingLeft=e/2>this.yLabelWidth+10?e/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var n,o=W(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var a=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>a&&0===this.xLabelRotation||this.xLabelWidth>a&&this.xLabelRotation<=90&&this.xLabelRotation>0;)n=Math.cos(S(this.xLabelRotation)),t=n*e,i=n*s,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=n*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(S(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:c,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var i=this.drawingArea()/(this.min-this.max);return this.endPoint-i*(t-this.min)},calculateX:function(t){var i=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),e=i/(this.valuesCount-(this.offsetGridLines?0:1)),s=e*t+this.xScalePaddingLeft;return this.offsetGridLines&&(s+=e/2),Math.round(s)},update:function(t){s.extend(this,t),this.fit()},draw:function(){var t=this.ctx,i=(this.endPoint-this.startPoint)/this.steps,e=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,n(this.yLabels,function(n,o){var a=this.endPoint-i*o,h=Math.round(a),l=this.showHorizontalLines;t.textAlign=\"right\",t.textBaseline=\"middle\",this.showLabels&&t.fillText(n,e-10,a),0!==o||l||(l=!0),l&&t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),h+=s.aliasPixel(t.lineWidth),l&&(t.moveTo(e,h),t.lineTo(this.width,h),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(e-5,h),t.lineTo(e,h),t.stroke(),t.closePath()},this),n(this.xLabels,function(i,e){var s=this.calculateX(e)+x(this.lineWidth),n=this.calculateX(e-(this.offsetGridLines?.5:0))+x(this.lineWidth),o=this.xLabelRotation>0,a=this.showVerticalLines;0!==e||a||(a=!0),a&&t.beginPath(),e>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a&&(t.moveTo(n,this.endPoint),t.lineTo(n,this.startPoint-3),t.stroke(),t.closePath()),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n,this.endPoint),t.lineTo(n,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(s,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*S(this.xLabelRotation)),t.font=this.font,t.textAlign=o?\"right\":\"center\",t.textBaseline=o?\"middle\":\"top\",t.fillText(i,0,0),t.restore()},this))}}),e.RadialScale=e.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var i=this.drawingArea/(this.max-this.min);return(t-this.min)*i},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=v(this.stepValue),i=0;i<=this.steps;i++)this.yLabels.push(C(this.templateString,{value:(this.min+i*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,i,e,s,n,o,a,h,l,r,c,u,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),p=this.width,g=0;for(this.ctx.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),i=0;i<this.valuesCount;i++)t=this.getPointPosition(i,d),e=this.ctx.measureText(C(this.templateString,{value:this.labels[i]})).width+5,0===i||i===this.valuesCount/2?(s=e/2,t.x+s>p&&(p=t.x+s,n=i),t.x-s<g&&(g=t.x-s,a=i)):i<this.valuesCount/2?t.x+e>p&&(p=t.x+e,n=i):i>this.valuesCount/2&&t.x-e<g&&(g=t.x-e,a=i);l=g,r=Math.ceil(p-this.width),o=this.getIndexAngle(n),h=this.getIndexAngle(a),c=r/Math.sin(o+Math.PI/2),u=l/Math.sin(h+Math.PI/2),c=f(c)?c:0,u=f(u)?u:0,this.drawingArea=d-(u+c)/2,this.setCenterPoint(u,c)},setCenterPoint:function(t,i){var e=this.width-i-this.drawingArea,s=t+this.drawingArea;this.xCenter=(s+e)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var i=2*Math.PI/this.valuesCount;return t*i-Math.PI/2},getPointPosition:function(t,i){var e=this.getIndexAngle(t);return{x:Math.cos(e)*i+this.xCenter,y:Math.sin(e)*i+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(n(this.yLabels,function(i,e){if(e>0){var s,n=e*(this.drawingArea/this.steps),o=this.yCenter-n;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,n,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var a=0;a<this.valuesCount;a++)s=this.getPointPosition(a,this.calculateCenterOffset(this.min+e*this.stepValue)),0===a?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=M(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var h=t.measureText(i).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-h/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,h+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign=\"center\",t.textBaseline=\"middle\",t.fillStyle=this.fontColor,t.fillText(i,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var i=this.valuesCount-1;i>=0;i--){if(this.angleLineWidth>0){var e=this.getPointPosition(i,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(e.x,e.y),t.stroke(),t.closePath()}var s=this.getPointPosition(i,this.calculateCenterOffset(this.max)+5);t.font=M(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,a=this.labels.length/2,h=a/2,l=h>i||i>o-h,r=i===h||i===o-h;t.textAlign=0===i?\"center\":i===a?\"center\":a>i?\"left\":\"right\",t.textBaseline=r?\"middle\":l?\"bottom\":\"top\",t.fillText(this.labels[i],s.x,s.y)}}}}}),s.addEvent(window,\"resize\",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){n(e.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),p?define(function(){return e}):\"object\"==typeof module&&module.exports&&(module.exports=e),t.Chart=e,e.noConflict=function(){return t.Chart=i,e}}).call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:\"rgba(0,0,0,.05)\",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].fillColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"Bar\",defaults:s,initialize:function(t){var s=this.options;this.ScaleClass=i.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,i,e){var n=this.calculateBaseWidth(),o=this.calculateX(e)-n/2,a=this.calculateBarWidth(t);return o+a*i+i*s.barDatasetSpacing+a/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*s.barValueSpacing},calculateBarWidth:function(t){var i=this.calculateBaseWidth()-(t-1)*s.barDatasetSpacing;return i/t}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore([\"fillColor\",\"strokeColor\"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),this.BarClass=i.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,bars:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.bars.push(new this.BarClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.strokeColor,fillColor:i.fillColor,highlightFill:i.highlightFill||i.fillColor,highlightStroke:i.highlightStroke||i.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,i,s){e.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,s,i),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore([\"fillColor\",\"strokeColor\"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){e.each(this.datasets,function(i,s){e.each(i.bars,t,this,s)},this)},getBarsAtEvent:function(t){for(var i,s=[],n=e.getRelativePosition(t),o=function(t){s.push(t.bars[i])},a=0;a<this.datasets.length;a++)for(i=0;i<this.datasets[a].bars.length;i++)if(this.datasets[a].bars[i].inRange(n.x,n.y))return e.each(this.datasets,o),s;return s},buildScale:function(t){var i=this,s=function(){var t=[];return i.eachBars(function(i){t.push(i.value)}),t},n={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(s(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:\"rgba(0,0,0,0)\",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(n,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(n)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].bars.push(new this.BarClass({value:t,label:i,x:this.scale.calculateBarX(this.datasets.length,e,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[e].strokeColor,fillColor:this.datasets[e].fillColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){e.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});\nvar t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();this.chart.ctx;this.scale.draw(i),e.each(this.datasets,function(t,s){e.each(t.bars,function(t,e){t.hasValue()&&(t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,s,e),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},i).draw())},this)},this)}})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={segmentShowStroke:!0,segmentStrokeColor:\"#fff\",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:\"easeOutBounce\",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"Doughnut\",defaults:s,initialize:function(t){this.segments=[],this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=i.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore([\"fillColor\"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.calculateTotal(t),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),e||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),e.each(this.activeElements,function(t){t.restore([\"fillColor\"])}),e.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(e.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,e.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var i=t?t:1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},i),t.endAngle=t.startAngle+t.circumference,t.draw(),0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle)},this)}}),i.types.Doughnut.extend({name:\"Pie\",defaults:e.merge(s,{percentageInnerCutout:0})})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={scaleShowGridLines:!0,scaleGridLineColor:\"rgba(0,0,0,.05)\",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"Line\",defaults:s,initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore([\"fillColor\",\"strokeColor\"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,i){e.extend(t,{x:this.scale.calculateX(i),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),e.each(this.activeElements,function(t){t.restore([\"fillColor\",\"strokeColor\"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.datasets,function(t){e.each(t.points,function(t){t.inRange(s.x,s.y)&&i.push(t)})},this),i},buildScale:function(t){var s=this,n=function(){var t=[];return s.eachPoints(function(i){t.push(i.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var i=e.calculateScaleRange(n(),t,this.fontSize,this.beginAtZero,this.integersOnly);e.extend(this,i)},xLabels:t,font:e.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:\"rgba(0,0,0,0)\",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&e.extend(o,{calculateYRange:e.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new i.Scale(o)},addData:function(t,i){e.each(t,function(t,e){this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.addXLabel(i),this.update()},removeData:function(){this.scale.removeXLabel(),e.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=e.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var i=t||1;this.clear();var s=this.chart.ctx,n=function(t){return null!==t.value},o=function(t,i,s){return e.findNextWhere(i,n,s)||t},a=function(t,i,s){return e.findPreviousWhere(i,n,s)||t};this.scale.draw(i),e.each(this.datasets,function(t){var h=e.where(t.points,n);e.each(t.points,function(t,e){t.hasValue()&&t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(e)},i)},this),this.options.bezierCurve&&e.each(h,function(t,i){var s=i>0&&i<h.length-1?this.options.bezierCurveTension:0;t.controlPoints=e.splineCurve(a(t,h,i),t,o(t,h,i),s),t.controlPoints.outer.y>this.scale.endPoint?t.controlPoints.outer.y=this.scale.endPoint:t.controlPoints.outer.y<this.scale.startPoint&&(t.controlPoints.outer.y=this.scale.startPoint),t.controlPoints.inner.y>this.scale.endPoint?t.controlPoints.inner.y=this.scale.endPoint:t.controlPoints.inner.y<this.scale.startPoint&&(t.controlPoints.inner.y=this.scale.startPoint)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(h,function(t,i){if(0===i)s.moveTo(t.x,t.y);else if(this.options.bezierCurve){var e=a(t,h,i);s.bezierCurveTo(e.controlPoints.outer.x,e.controlPoints.outer.y,t.controlPoints.inner.x,t.controlPoints.inner.y,t.x,t.y)}else s.lineTo(t.x,t.y)},this),s.stroke(),this.options.datasetFill&&h.length>0&&(s.lineTo(h[h.length-1].x,this.scale.endPoint),s.lineTo(h[0].x,this.scale.endPoint),s.fillStyle=t.fillColor,s.closePath(),s.fill()),e.each(h,function(t){t.draw()})},this)}})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers,s={scaleShowLabelBackdrop:!0,scaleBackdropColor:\"rgba(255,255,255,0.75)\",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:\"#fff\",segmentStrokeWidth:2,animationSteps:100,animationEasing:\"easeOutBounce\",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};i.Type.extend({name:\"PolarArea\",defaults:s,initialize:function(t){this.segments=[],this.SegmentArc=i.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),e.each(t,function(t,i){this.addData(t,i,!0)},this),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getSegmentsAtEvent(t):[];e.each(this.segments,function(t){t.restore([\"fillColor\"])}),e.each(i,function(t){t.fillColor=t.highlightColor}),this.showTooltip(i)}),this.render()},getSegmentsAtEvent:function(t){var i=[],s=e.getRelativePosition(t);return e.each(this.segments,function(t){t.inRange(s.x,s.y)&&i.push(t)},this),i},addData:function(t,i,e){var s=i||this.segments.length;this.segments.splice(s,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),e||(this.reflow(),this.update())},removeData:function(t){var i=e.isNumber(t)?t:this.segments.length-1;this.segments.splice(i,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,e.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var i=[];e.each(t,function(t){i.push(t.value)});var s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s,{size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),e.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){e.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),e.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),e.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var i=t||1;this.clear(),e.each(this.segments,function(t,e){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},i),t.endAngle=t.startAngle+t.circumference,0===e&&(t.startAngle=1.5*Math.PI),e<this.segments.length-1&&(this.segments[e+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){\"use strict\";var t=this,i=t.Chart,e=i.helpers;i.Type.extend({name:\"Radar\",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:\"rgba(0,0,0,.1)\",angleLineWidth:1,pointLabelFontFamily:\"'Arial'\",pointLabelFontStyle:\"normal\",pointLabelFontSize:10,pointLabelFontColor:\"#666\",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<datasets.length; i++){%><li><span style=\"background-color:<%=datasets[i].strokeColor%>\"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=i.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&e.bindEvents(this,this.options.tooltipEvents,function(t){var i=\"mouseout\"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore([\"fillColor\",\"strokeColor\"])}),e.each(i,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(i)}),e.each(t.datasets,function(i){var s={label:i.label||null,fillColor:i.fillColor,strokeColor:i.strokeColor,pointColor:i.pointColor,pointStrokeColor:i.pointStrokeColor,points:[]};this.datasets.push(s),e.each(i.data,function(e,n){var o;this.scale.animation||(o=this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e))),s.points.push(new this.PointClass({value:e,label:t.labels[n],datasetLabel:i.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:i.pointStrokeColor,fillColor:i.pointColor,highlightFill:i.pointHighlightFill||i.pointColor,highlightStroke:i.pointHighlightStroke||i.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(t){e.each(this.datasets,function(i){e.each(i.points,t,this)},this)},getPointsAtEvent:function(t){var i=e.getRelativePosition(t),s=e.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},i),n=2*Math.PI/this.scale.valuesCount,o=Math.round((s.angle-1.5*Math.PI)/n),a=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),s.distance<=this.scale.drawingArea&&e.each(this.datasets,function(t){a.push(t.points[o])}),a},buildScale:function(t){this.scale=new i.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var i=function(){var i=[];return e.each(t,function(t){t.data?i=i.concat(t.data):e.each(t.points,function(t){i.push(t.value)})}),i}(),s=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:e.calculateScaleRange(i,e.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);e.extend(this.scale,s)},addData:function(t,i){this.scale.valuesCount++,e.each(t,function(t,e){var s=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[e].points.push(new this.PointClass({value:t,label:i,x:s.x,y:s.y,strokeColor:this.datasets[e].pointStrokeColor,fillColor:this.datasets[e].pointColor}))},this),this.scale.labels.push(i),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),e.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){e.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:e.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var i=t||1,s=this.chart.ctx;this.clear(),this.scale.draw(),e.each(this.datasets,function(t){e.each(t.points,function(t,e){t.hasValue()&&t.transition(this.scale.getPointPosition(e,this.scale.calculateCenterOffset(t.value)),i)},this),s.lineWidth=this.options.datasetStrokeWidth,s.strokeStyle=t.strokeColor,s.beginPath(),e.each(t.points,function(t,i){0===i?s.moveTo(t.x,t.y):s.lineTo(t.x,t.y)},this),s.closePath(),s.stroke(),s.fillStyle=t.fillColor,s.fill(),e.each(t.points,function(t){t.hasValue()&&t.draw()})},this)}})}.call(this);","var Chart = require('./Chart.min');\nChart.types.Line.extend({\n    // Passing in a name registers this chart in the Chart namespace in the same way\n    name: \"Scatter\",\n    draw : function(ease){\n            var easingDecimal = ease || 1;\n            this.clear();\n\n            var ctx = this.chart.ctx;\n\n            // Some helper methods for getting the next/prev points\n            var hasValue = function(item){\n                return item.value !== null;\n            },\n            nextPoint = function(point, collection, index){\n                return Chart.helpers.findNextWhere(collection, hasValue, index) || point;\n            },\n            previousPoint = function(point, collection, index){\n                return Chart.helpers.findPreviousWhere(collection, hasValue, index) || point;\n            };\n\n            this.scale.draw(easingDecimal);\n\n\n            Chart.helpers.each(this.datasets,function(dataset){\n                var pointsWithValues = Chart.helpers.where(dataset.points, hasValue);\n\n                //Transition each point first so that the line and point drawing isn't out of sync\n                //We can use this extra loop to calculate the control points of this dataset also in this loop\n\n                Chart.helpers.each(dataset.points, function(point, index){\n                    if (point.hasValue()){\n                        point.transition({\n                            y : this.scale.calculateY(point.value),\n                            x : this.scale.calculateX(index)\n                        }, easingDecimal);\n                    }\n                },this);\n\n\n                // Control points need to be calculated in a seperate loop, because we need to know the current x/y of the point\n                // This would cause issues when there is no animation, because the y of the next point would be 0, so beziers would be skewed\n                if (this.options.bezierCurve){\n                    Chart.helpers.each(pointsWithValues, function(point, index){\n                        var tension = (index > 0 && index < pointsWithValues.length - 1) ? this.options.bezierCurveTension : 0;\n                        point.controlPoints = Chart.helpers.splineCurve(\n                            previousPoint(point, pointsWithValues, index),\n                            point,\n                            nextPoint(point, pointsWithValues, index),\n                            tension\n                        );\n\n                        // Prevent the bezier going outside of the bounds of the graph\n\n                        // Cap puter bezier handles to the upper/lower scale bounds\n                        if (point.controlPoints.outer.y > this.scale.endPoint){\n                            point.controlPoints.outer.y = this.scale.endPoint;\n                        }\n                        else if (point.controlPoints.outer.y < this.scale.startPoint){\n                            point.controlPoints.outer.y = this.scale.startPoint;\n                        }\n\n                        // Cap inner bezier handles to the upper/lower scale bounds\n                        if (point.controlPoints.inner.y > this.scale.endPoint){\n                            point.controlPoints.inner.y = this.scale.endPoint;\n                        }\n                        else if (point.controlPoints.inner.y < this.scale.startPoint){\n                            point.controlPoints.inner.y = this.scale.startPoint;\n                        }\n                    },this);\n                }\n\n                if (this.options.datasetFill && pointsWithValues.length > 0){\n                    //Round off the line by going to the base of the chart, back to the start, then fill.\n                    ctx.lineTo(pointsWithValues[pointsWithValues.length - 1].x, this.scale.endPoint);\n                    ctx.lineTo(pointsWithValues[0].x, this.scale.endPoint);\n                    ctx.fillStyle = dataset.fillColor;\n                    ctx.closePath();\n                    ctx.fill();\n                }\n\n                //Now draw the points over the line\n                //A little inefficient double looping, but better than the line\n                //lagging behind the point positions\n                Chart.helpers.each(pointsWithValues,function(point){\n                    point.draw();\n                });\n            },this);\n        }\n});","'use strict';\n\nvar core = require(\"./herocalc_core\");\nrequire(\"./herocalc_inventory\");\nrequire(\"./herocalc_abilitydata\");\nrequire(\"./herocalc_abilities\");\nrequire(\"./herocalc_buffs\");\nrequire(\"./herocalc_hero\");\nrequire(\"./herocalc_hero.illusion\");\nrequire(\"./herocalc_hero.meepo\");\nrequire(\"./herocalc_unit\");\n\nmodule.exports = core;","'use strict';\n    var $ = (typeof window !== \"undefined\" ? window['$'] : typeof global !== \"undefined\" ? global['$'] : null);\n\nvar my = require(\"../herocalc/main\");\n\nmy.prototype.itemtooltipdata = {};\nmy.prototype.ability_vars = {\n    '$health': 'Health',\n    '$mana': 'Mana',\n    '$armor': 'Armor',\n    '$damage': 'Damage',\n    '$str': 'Strength',\n    '$int': 'Intelligence',\n    '$agi': 'Agility',\n    '$all': 'All Attributes',\n    '$attack': 'Attack Speed',\n    '$hp_regen': 'HP Regeneration',\n    '$mana_regen': 'Mana Regeneration',\n    '$move_speed': 'Movement Speed',\n    '$evasion': 'Evasion',\n    '$spell_resist': 'Spell Resistance',\n    '$selected_attribute': 'Selected Attribute',\n    '$selected_attrib': 'Selected Attribute',\n    '$cast_range': 'Cast Range',\n    '$attack_range': 'Attack Range'\n}\nmy.prototype.abilityTooltipData = {};\nmy.prototype.abilityDamageTypes = {\n    'DAMAGE_TYPE_MAGICAL': 'Magical',\n    'DAMAGE_TYPE_PURE': 'Pure',\n    'DAMAGE_TYPE_PHYSICAL': 'Physical',\n    'DAMAGE_TYPE_COMPOSITE': 'Composite',\n    'DAMAGE_TYPE_HP_REMOVAL': 'HP Removal'\n}\n\nmy.prototype.getTooltipItemDescription = function (item) {\n    var d = item.description;\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].name != null) {\n            var attributeName = item.attributes[i].name;\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            var regexp = new RegExp('%' + attributeName + '%', 'gi');\n            d = d.replace(regexp, attributeValue );\n        }\n    }\n    var regexp = new RegExp('%%', 'gi');\n    d = d.replace(regexp,'%');\n    regexp = new RegExp('\\n', 'gi');\n    d = d.replace(/\\\\n/g, '<br>');\n    return d;\n}\n\nmy.prototype.getTooltipItemAttributes = function (item) {\n    var a = '';\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].tooltip != null) {\n            var attributeTooltip = item.attributes[i].tooltip;\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            var p = attributeTooltip.indexOf('%');\n            if (p == 0) {\n                attributeValue = attributeValue + '%';\n                attributeTooltip = attributeTooltip.slice(1);\n            }\n            var d = attributeTooltip.indexOf('$');\n            if (d != -1) {\n                a = a + attributeTooltip.slice(0, d) + ' ' + attributeValue + ' ' + my.prototype.ability_vars[attributeTooltip.slice(d)] + '<br>';\n            }\n            else {\n                a = a + attributeTooltip + ' ' + attributeValue + '<br>';\n            }\n        }\n    }\n    return a.trim('<br>');\n}\n\nmy.prototype.getTooltipItemCooldown = function (item) {\n    var c = '';\n    for (var i = 0; i < item.cooldown.length; i++) {\n        c = c + ' ' + item.cooldown[i];\n    }\n    return c;\n}\n\nmy.prototype.getTooltipItemManaCost = function (item) {\n    var c = '';\n    for (var i = 0; i < item.manacost.length; i++) {\n        if (item.manacost[i] > 0) {\n            c = c + ' ' + item.manacost[i];\n        }\n    }\n    return c;\n}\n\nmy.prototype.getItemTooltipData = function(el) {\n    if (my.prototype.itemData['item_' + el] == undefined) {\n        return undefined;\n    }\n    if (my.prototype.itemtooltipdata[el] == undefined) {\n        var item = my.prototype.itemData['item_' + el];\n        var data = $('<div>');\n        data.append($('<span>').html(item.displayname).addClass('item_field item_name'));\n        data.append($('<span>').html(item.itemcost).addClass('item_field item_cost'));\n        data.append($('<hr>'));\n        if (item.description != null) {\n            data.append($('<div>').html(my.prototype.getTooltipItemDescription(item)).addClass('item_field item_description'));\n        }\n        var attributedata = my.prototype.getTooltipItemAttributes(item);\n        if (attributedata != '') {\n            data.append($('<div>').html(attributedata).addClass('item_field item_attributes'));\n        }\n        var cd = my.prototype.getTooltipItemCooldown(item);\n        var mana = my.prototype.getTooltipItemManaCost(item);\n        if (cd != '' || mana != '') {\n            var cdmanacost = $('<div>').addClass('item_cdmana');\n            if (cd != '') {\n                cdmanacost.append($('<span>').html(cd).addClass('item_field item_cooldown'));\n            }\n            if (mana != '') {\n                cdmanacost.append($('<span>').html(mana).addClass('item_field item_manacost'));\n            }\n            data.append(cdmanacost);\n        }\n        if (item.lore != null) {\n            data.append($('<div>').html(item.lore).addClass('item_field item_lore'));\n        }\n        my.prototype.itemtooltipdata[el] = data.html();\n        return data.html();\n    }\n    else {\n        return my.prototype.itemtooltipdata[el];\n    }\n}\n\nmy.prototype.getTooltipAbilityDescription = function (item) {\n    var d = item.description;\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].name != null) {\n            var attributeName = item.attributes[i].name;\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            regexp = new RegExp('%' + attributeName + '%', 'gi');\n            d = d.replace(regexp, attributeValue);\n        }\n    }\n    var regexp = new RegExp('%%', 'gi');\n    d = d.replace(regexp, '%');\n    regexp = new RegExp('\\n', 'gi');\n    d = d.replace(/\\\\n/g, '<br>');\n    return d;\n}\n\nmy.prototype.getTooltipAbilityAttributes = function (item) {\n    var a = '';\n    if (item.damage.length > 0 && item.damage.reduce(function(memo, num){ return memo + num; }, 0) > 0) {\n        var attributeTooltip = 'DAMAGE: ';\n        var attributeValue = item.damage[0];\n        for (var j = 1; j < item.damage.length; j++) {\n            attributeValue += ' / ' + item.damage[j];\n        }\n        a = a + attributeTooltip + ' ' + attributeValue + '<br>';\n    }\n    for (var i = 0; i < item.attributes.length; i++) {\n        if (item.attributes[i].tooltip != null) {\n            var attributeTooltip = item.attributes[i].tooltip;\n            attributeTooltip = attributeTooltip.replace(/\\\\n/g, '');\n            var attributeValue = item.attributes[i].value[0];\n            for (var j = 1; j < item.attributes[i].value.length; j++) {\n                attributeValue += ' / ' + item.attributes[i].value[j];\n            }\n            var p = attributeTooltip.indexOf('%');\n            if (p == 0) {\n                if (attributeValue.toString().indexOf('/') == -1) {\n                    attributeValue = attributeValue.toString().trim() + '%';\n                } else {\n                    //var regexp2 = new RegExp('/', 'gi');\n                    //attributeValue = attributeValue.replace(regexp2, '%/') + '%';\n                    var attributeValues = attributeValue.split('/');\n                    var trimmedAttributeValues = attributeValues.map(function(v) {\n                        return v.trim();\n                    });\n                    attributeValue = trimmedAttributeValues.join('% / ') + '%';\n                }\n                attributeTooltip = attributeTooltip.slice(1);\n            }\n            var d = attributeTooltip.indexOf('$');\n            a = a + attributeTooltip + ' ' + attributeValue + '<br>';\n        }\n    }\n    return a.trim('<br>');\n}\n\nmy.prototype.getTooltipAbilityManaCost = function (item) {\n    var c = '';\n    if (item.manacost.reduce(function(memo, num){ return memo + num; }, 0) == 0) {\n        return c;\n    }\n    if (item.manacost.every(function(num) { return num == item.manacost[0]; })) {\n        return item.manacost[0].toString();\n    }\n    for (var i = 0; i < 4; i++) {\n        if (item.manacost[i] != null) {\n            c = c + ' ' + item.manacost[i];\n        }\n    }\n    return c;\n}\n\nmy.prototype.getTooltipAbilityCooldown = function (item) {\n    var c = '';\n    if (item.cooldown.reduce(function(memo, num){ return memo + num; }, 0) == 0) {\n        return c;\n    }\n    if (item.cooldown.every(function(num) { return num == item.cooldown[0]; })) {\n        return item.cooldown[0].toString();\n    }\n    for (var i = 0; i < 4; i++) {\n        if (item.cooldown[i] != null) {\n            c = c + ' ' + item.cooldown[i];\n        }\n    }\n    return c;\n}\n    \nmy.prototype.getAbilityTooltipData = function(hero, el) {\n    if (my.prototype.abilityTooltipData[el] == undefined) {\n        var abilityName = el\n        var ability = {};\n        if (my.prototype.heroData[hero] == undefined) {\n            for (var i = 0; i < my.prototype.unitData[hero].abilities.length; i++) {\n                if (my.prototype.unitData[hero].abilities[i].name == el) {\n                    ability = my.prototype.unitData[hero].abilities[i];\n                }\n            }            \n        }\n        else {\n            for (var i = 0; i < my.prototype.heroData[hero].abilities.length; i++) {\n                if (my.prototype.heroData[hero].abilities[i].name == el) {\n                    ability = my.prototype.heroData[hero].abilities[i];\n                }\n            }\n        }\n        var data = $('<div>')\n        data.append($('<span>').html(ability.displayname).addClass('item_field pull-left item_name'));\n        if (ability.abilityunitdamagetype) {\n            data.append($('<span>').html(my.prototype.abilityDamageTypes[ability.abilityunitdamagetype]).addClass('item_field pull-right item_ability_damage_type').css('margin-right','10px'));\n        }\n        data.append($('<hr>').css('clear', 'both'));\n        if (ability.description != null) {\n            data.append($('<div>').html(my.prototype.getTooltipAbilityDescription(ability)).addClass('item_field item_description'));\n        }\n        var attributedata = my.prototype.getTooltipAbilityAttributes(ability);\n        if (attributedata != '') {\n            data.append($('<div>').html(attributedata).addClass('item_field item_attributes'));\n        }\n        var cd = my.prototype.getTooltipAbilityCooldown(ability);\n        var mana = my.prototype.getTooltipAbilityManaCost(ability);\n        if (cd != '' || mana != '') {\n            var cdmanacost = $('<div>').addClass('item_cdmana');\n            if (mana != '') {\n                cdmanacost.append($('<span>').html(mana.trim()).addClass('item_field item_manacost'));\n            }\n            if (cd != '') {\n                cdmanacost.append($('<span>').html(cd.trim()).addClass('item_field item_cooldown'));\n            }\n            data.append(cdmanacost);\n        }\n        if (ability.lore != null) {\n            data.append($('<div>').html(ability.lore).addClass('item_field item_lore'));\n        }\n        my.prototype.abilityTooltipData[el] = data.html();\n        return data.html();\n    }\n    else {\n        return my.prototype.abilityTooltipData[el];\n    }\n}\n\nmy.prototype.AbilityModel.prototype.getAbilityTooltipData = my.prototype.getAbilityTooltipData;","var ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\nvar my = require(\"../herocalc/main\");\nrequire(\"./herocalc_hero_damageamp\");\nrequire(\"./herocalc_buffs.amplification.reduction\");\nrequire(\"./herocalc_buildexplorer\");\n\nmy.prototype.HeroOption2 = function (hero) {\n    this.heroName = ko.computed(function () {\n        return hero.selectedHero().heroName;\n    });\n    this.heroDisplayName = ko.computed(function () {\n        return hero.selectedHero().heroDisplayName;\n    });\n    this.hero = hero;\n};\n\nmy.prototype.HeroCalculatorModel = function (h) {\n    var self = this;\n    self.index = ko.observable(h);\n    self.availableHeroes = ko.observableArray(my.prototype.HeroOptions);\n    self.availableHeroes.sort(function (left, right) {\n        return left.heroDisplayName == right.heroDisplayName ? 0 : (left.heroDisplayName < right.heroDisplayName ? -1 : 1);\n    });\n    self.selectedHero = ko.observable(self.availableHeroes()[h]);\n    \n    my.prototype.HeroModel.call(this, self.selectedHero().heroName);\n    \n    self.selectedHero.subscribe(function (newValue) {\n        self.heroId(newValue.heroName);\n    });\n    \n    \n    self.bound = ko.observable(false);\n    self.playerColorCss = ko.computed(function () {\n        return 'player-color-' + self.index();\n    });\n    self.heroOption = new my.prototype.HeroOption2(self);\n    self.otherHeroes = ko.observableArray([]);\n    self.availableCompare = ko.computed(function () {\n        return self.otherHeroes().map(function (o) {\n            return o.heroOption;\n        });\n    });\n    self.selectedCompare = ko.observable();\n    self.selectedCompare.subscribe(function (newValue) {\n        self.heroCompare(newValue.hero);\n    });\n    self.enemies = ko.observableArray([]);\n    self.availableEnemies = ko.computed(function () {\n        return self.enemies().map(function (o) {\n            return o.heroOption;\n        });\n    });\n    self.selectedEnemy = ko.observable();\n    self.selectedEnemy.subscribe(function (newValue) {\n        self.enemy(newValue.hero);\n    });\n    self.setHeroOptionStyling = function(option, item) {\n        ko.applyBindingsToNode(option, {css: item.hero.playerColorCss() }, item);\n    }\n    self.sectionDisplay = ko.observable({\n        'inventory': ko.observable(true),\n        'ability': ko.observable(true),\n        'buff': ko.observable(true),\n        'debuff': ko.observable(true),\n        'damageamp': ko.observable(false),\n        'illusion': ko.observable(false),\n        'skillbuild': ko.observable(false),\n        'skillbuild-skills': ko.observable(true),\n        'skillbuild-items': ko.observable(true)\n    });\n    self.sectionDisplayToggle = function (section) {\n        self.sectionDisplay()[section](!self.sectionDisplay()[section]());\n    }\n    self.showUnitTab = ko.observable(false);\n    self.showDiff = ko.observable(false);\n    self.showCriticalStrikeDetails = ko.observable(false);\n    self.showDamageDetails = ko.observable(false);\n    self.showStatDetails = ko.observable(false);\n    self.showDamageAmpCalcDetails = ko.observable(false);\n    \n    self.damageAmplification = new my.prototype.DamageAmpViewModel();\n    self.damageReduction = new my.prototype.DamageAmpViewModel();\n    self.buildExplorer = new my.prototype.BuildExplorerViewModel(self);\n    my.prototype.HeroDamageAmpMixin(self);\n}\nmy.prototype.HeroCalculatorModel.prototype = Object.create(my.prototype.HeroModel.prototype);\nmy.prototype.HeroCalculatorModel.prototype.constructor = my.prototype.HeroCalculatorModel;","// This file is autogenerated via the `commonjs` Grunt task. You can require() this file in a CommonJS environment.\nrequire('../../js/transition.js')\nrequire('../../js/alert.js')\nrequire('../../js/button.js')\nrequire('../../js/carousel.js')\nrequire('../../js/collapse.js')\nrequire('../../js/dropdown.js')\nrequire('../../js/modal.js')\nrequire('../../js/tooltip.js')\nrequire('../../js/popover.js')\nrequire('../../js/scrollspy.js')\nrequire('../../js/tab.js')\nrequire('../../js/affix.js')","/* ========================================================================\n * Bootstrap: transition.js v3.3.7\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: alert.js v3.3.7\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.7'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector === '#' ? [] : selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: button.js v3.3.7\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.7'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state += 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d).prop(d, true)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d).prop(d, false)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked')) changed = false\n        $parent.find('.active').removeClass('active')\n        this.$element.addClass('active')\n      } else if ($input.prop('type') == 'checkbox') {\n        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false\n        this.$element.toggleClass('active')\n      }\n      $input.prop('checked', this.$element.hasClass('active'))\n      if (changed) $input.trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n      this.$element.toggleClass('active')\n    }\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target).closest('.btn')\n      Plugin.call($btn, 'toggle')\n      if (!($(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]'))) {\n        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes\n        e.preventDefault()\n        // The target component still receive the focus\n        if ($btn.is('input,button')) $btn.trigger('focus')\n        else $btn.find('input:visible,button:visible').first().trigger('focus')\n      }\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: carousel.js v3.3.7\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.7'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: collapse.js v3.3.7\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n/* jshint latedef: false */\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.7'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: dropdown.js v3.3.7\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.7'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: modal.js v3.3.7\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.7'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element.addClass('in')\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (document !== e.target &&\n            this.$element[0] !== e.target &&\n            !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $(document.createElement('div'))\n        .addClass('modal-backdrop ' + animate)\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: tooltip.js v3.3.7\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n    this.inState    = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.7'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\n    this.inState   = { click: false, hover: false, focus: false }\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\n    }\n\n    if (self.tip().hasClass('in') || self.hoverState == 'in') {\n      self.hoverState = 'in'\n      return\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.isInStateTrue = function () {\n    for (var key in this.inState) {\n      if (this.inState[key]) return true\n    }\n\n    return false\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\n    }\n\n    if (self.isInStateTrue()) return\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n      this.$element.trigger('inserted.bs.' + this.type)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var viewportDim = this.getPosition(this.$viewport)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  += marginTop\n    offset.left += marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\n        that.$element\n          .removeAttr('aria-describedby')\n          .trigger('hidden.bs.' + that.type)\n      }\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var isSvg = window.SVGElement && el instanceof window.SVGElement\n    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n    // See https://github.com/twbs/bootstrap/issues/20280\n    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    if (!this.$tip) {\n      this.$tip = $(this.options.template)\n      if (this.$tip.length != 1) {\n        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\n      }\n    }\n    return this.$tip\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    if (e) {\n      self.inState.click = !self.inState.click\n      if (self.isInStateTrue()) self.enter(self)\n      else self.leave(self)\n    } else {\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n    }\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n      if (that.$tip) {\n        that.$tip.detach()\n      }\n      that.$tip = null\n      that.$arrow = null\n      that.$viewport = null\n      that.$element = null\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: popover.js v3.3.7\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.7'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.7\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.7'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: tab.js v3.3.7\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    // jscs:disable requireDollarBeforejQueryAssignment\n    this.element = $(element)\n    // jscs:enable requireDollarBeforejQueryAssignment\n  }\n\n  Tab.VERSION = '3.3.7'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n","/* ========================================================================\n * Bootstrap: affix.js v3.3.7\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.7'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = Math.max($(document).height(), $(document.body).height())\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n$.ui = $.ui || {};\n\nreturn $.ui.version = \"1.12.0\";\n\n} ) );\n","/*!\n * jQuery UI Widget 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Widget\n//>>group: Core\n//>>description: Provides a factory for creating stateful widgets with a common API.\n//>>docs: http://api.jqueryui.com/jQuery.widget/\n//>>demos: http://jqueryui.com/widget/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar widgetUuid = 0;\nvar widgetSlice = Array.prototype.slice;\n\n$.cleanData = ( function( orig ) {\n\treturn function( elems ) {\n\t\tvar events, elem, i;\n\t\tfor ( i = 0; ( elem = elems[ i ] ) != null; i++ ) {\n\t\t\ttry {\n\n\t\t\t\t// Only trigger remove when necessary to save time\n\t\t\t\tevents = $._data( elem, \"events\" );\n\t\t\t\tif ( events && events.remove ) {\n\t\t\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t\t\t}\n\n\t\t\t// Http://bugs.jquery.com/ticket/8235\n\t\t\t} catch ( e ) {}\n\t\t}\n\t\torig( elems );\n\t};\n} )( $.cleanData );\n\n$.widget = function( name, base, prototype ) {\n\tvar existingConstructor, constructor, basePrototype;\n\n\t// ProxiedPrototype allows the provided prototype to remain unmodified\n\t// so that it can be used as a mixin for multiple widgets (#8876)\n\tvar proxiedPrototype = {};\n\n\tvar namespace = name.split( \".\" )[ 0 ];\n\tname = name.split( \".\" )[ 1 ];\n\tvar fullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\tif ( $.isArray( prototype ) ) {\n\t\tprototype = $.extend.apply( null, [ {} ].concat( prototype ) );\n\t}\n\n\t// Create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\n\t\t// Allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// Allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\n\t// Extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\n\t\t// Copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\n\t\t// Track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t} );\n\n\tbasePrototype = new base();\n\n\t// We need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = ( function() {\n\t\t\tfunction _super() {\n\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t}\n\n\t\t\tfunction _superApply( args ) {\n\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t}\n\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super;\n\t\t\t\tvar __superApply = this._superApply;\n\t\t\t\tvar returnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t} )();\n\t} );\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? ( basePrototype.widgetEventPrefix || name ) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t} );\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// Redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor,\n\t\t\t\tchild._proto );\n\t\t} );\n\n\t\t// Remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n\n\treturn constructor;\n};\n\n$.widget.extend = function( target ) {\n\tvar input = widgetSlice.call( arguments, 1 );\n\tvar inputIndex = 0;\n\tvar inputLength = input.length;\n\tvar key;\n\tvar value;\n\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\";\n\t\tvar args = widgetSlice.call( arguments, 1 );\n\t\tvar returnValue = this;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each( function() {\n\t\t\t\tvar methodValue;\n\t\t\t\tvar instance = $.data( this, fullName );\n\n\t\t\t\tif ( options === \"instance\" ) {\n\t\t\t\t\treturnValue = instance;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name +\n\t\t\t\t\t\t\" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\n\t\t\t\tif ( !$.isFunction( instance[ options ] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name +\n\t\t\t\t\t\t\" widget instance\" );\n\t\t\t\t}\n\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t} else {\n\n\t\t\t// Allow multiple hashes to be passed on init\n\t\t\tif ( args.length ) {\n\t\t\t\toptions = $.widget.extend.apply( null, [ options ].concat( args ) );\n\t\t\t}\n\n\t\t\tthis.each( function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} );\n\t\t\t\t\tif ( instance._init ) {\n\t\t\t\t\t\tinstance._init();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\n\toptions: {\n\t\tclasses: {},\n\t\tdisabled: false,\n\n\t\t// Callbacks\n\t\tcreate: null\n\t},\n\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = widgetUuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\t\tthis.classesElementLookup = {};\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t\tthis.document = $( element.style ?\n\n\t\t\t\t// Element within the document\n\t\t\t\telement.ownerDocument :\n\n\t\t\t\t// Element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[ 0 ].defaultView || this.document[ 0 ].parentWindow );\n\t\t}\n\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis._create();\n\n\t\tif ( this.options.disabled ) {\n\t\t\tthis._setOptionDisabled( this.options.disabled );\n\t\t}\n\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\n\t_getCreateOptions: function() {\n\t\treturn {};\n\t},\n\n\t_getCreateEventData: $.noop,\n\n\t_create: $.noop,\n\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tvar that = this;\n\n\t\tthis._destroy();\n\t\t$.each( this.classesElementLookup, function( key, value ) {\n\t\t\tthat._removeClass( value, key );\n\t\t} );\n\n\t\t// We can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeData( this.widgetFullName );\n\t\tthis.widget()\n\t\t\t.off( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" );\n\n\t\t// Clean up events and states\n\t\tthis.bindings.off( this.eventNamespace );\n\t},\n\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key;\n\t\tvar parts;\n\t\tvar curOption;\n\t\tvar i;\n\n\t\tif ( arguments.length === 0 ) {\n\n\t\t\t// Don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\n\t\t\t// Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"classes\" ) {\n\t\t\tthis._setOptionClasses( value );\n\t\t}\n\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._setOptionDisabled( value );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t_setOptionClasses: function( value ) {\n\t\tvar classKey, elements, currentElements;\n\n\t\tfor ( classKey in value ) {\n\t\t\tcurrentElements = this.classesElementLookup[ classKey ];\n\t\t\tif ( value[ classKey ] === this.options.classes[ classKey ] ||\n\t\t\t\t\t!currentElements ||\n\t\t\t\t\t!currentElements.length ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// We are doing this to create a new jQuery object because the _removeClass() call\n\t\t\t// on the next line is going to destroy the reference to the current elements being\n\t\t\t// tracked. We need to save a copy of this collection so that we can add the new classes\n\t\t\t// below.\n\t\t\telements = $( currentElements.get() );\n\t\t\tthis._removeClass( currentElements, classKey );\n\n\t\t\t// We don't use _addClass() here, because that uses this.options.classes\n\t\t\t// for generating the string of classes. We want to use the value passed in from\n\t\t\t// _setOption(), this is the new value of the classes option which was passed to\n\t\t\t// _setOption(). We pass this value directly to _classes().\n\t\t\telements.addClass( this._classes( {\n\t\t\t\telement: elements,\n\t\t\t\tkeys: classKey,\n\t\t\t\tclasses: value,\n\t\t\t\tadd: true\n\t\t\t} ) );\n\t\t}\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._toggleClass( this.widget(), this.widgetFullName + \"-disabled\", null, !!value );\n\n\t\t// If the widget is becoming disabled, then nothing is interactive\n\t\tif ( value ) {\n\t\t\tthis._removeClass( this.hoverable, null, \"ui-state-hover\" );\n\t\t\tthis._removeClass( this.focusable, null, \"ui-state-focus\" );\n\t\t}\n\t},\n\n\tenable: function() {\n\t\treturn this._setOptions( { disabled: false } );\n\t},\n\n\tdisable: function() {\n\t\treturn this._setOptions( { disabled: true } );\n\t},\n\n\t_classes: function( options ) {\n\t\tvar full = [];\n\t\tvar that = this;\n\n\t\toptions = $.extend( {\n\t\t\telement: this.element,\n\t\t\tclasses: this.options.classes || {}\n\t\t}, options );\n\n\t\tfunction processClassString( classes, checkOption ) {\n\t\t\tvar current, i;\n\t\t\tfor ( i = 0; i < classes.length; i++ ) {\n\t\t\t\tcurrent = that.classesElementLookup[ classes[ i ] ] || $();\n\t\t\t\tif ( options.add ) {\n\t\t\t\t\tcurrent = $( $.unique( current.get().concat( options.element.get() ) ) );\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = $( current.not( options.element ).get() );\n\t\t\t\t}\n\t\t\t\tthat.classesElementLookup[ classes[ i ] ] = current;\n\t\t\t\tfull.push( classes[ i ] );\n\t\t\t\tif ( checkOption && options.classes[ classes[ i ] ] ) {\n\t\t\t\t\tfull.push( options.classes[ classes[ i ] ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( options.keys ) {\n\t\t\tprocessClassString( options.keys.match( /\\S+/g ) || [], true );\n\t\t}\n\t\tif ( options.extra ) {\n\t\t\tprocessClassString( options.extra.match( /\\S+/g ) || [] );\n\t\t}\n\n\t\treturn full.join( \" \" );\n\t},\n\n\t_removeClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, false );\n\t},\n\n\t_addClass: function( element, keys, extra ) {\n\t\treturn this._toggleClass( element, keys, extra, true );\n\t},\n\n\t_toggleClass: function( element, keys, extra, add ) {\n\t\tadd = ( typeof add === \"boolean\" ) ? add : extra;\n\t\tvar shift = ( typeof element === \"string\" || element === null ),\n\t\t\toptions = {\n\t\t\t\textra: shift ? keys : extra,\n\t\t\t\tkeys: shift ? element : keys,\n\t\t\t\telement: shift ? this.element : element,\n\t\t\t\tadd: add\n\t\t\t};\n\t\toptions.element.toggleClass( this._classes( options ), add );\n\t\treturn this;\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement;\n\t\tvar instance = this;\n\n\t\t// No suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// No element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\n\t\t\t\t// Allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// Copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^([\\w:-]*)\\s*(.*)$/ );\n\t\t\tvar eventName = match[ 1 ] + instance.eventNamespace;\n\t\t\tvar selector = match[ 2 ];\n\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.on( eventName, selector, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.on( eventName, handlerProxy );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = ( eventName || \"\" ).split( \" \" ).join( this.eventNamespace + \" \" ) +\n\t\t\tthis.eventNamespace;\n\t\telement.off( eventName ).off( eventName );\n\n\t\t// Clear the stack to avoid memory leaks (#10056)\n\t\tthis.bindings = $( this.bindings.not( element ).get() );\n\t\tthis.focusable = $( this.focusable.not( element ).get() );\n\t\tthis.hoverable = $( this.hoverable.not( element ).get() );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-hover\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._addClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\tthis._removeClass( $( event.currentTarget ), null, \"ui-state-focus\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig;\n\t\tvar callback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\n\t\t// The original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// Copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[ 0 ], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\n\t\tvar hasOptions;\n\t\tvar effectName = !options ?\n\t\t\tmethod :\n\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\tdefaultEffect :\n\t\t\t\toptions.effect || defaultEffect;\n\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue( function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t} );\n\t\t}\n\t};\n} );\n\nreturn $.widget;\n\n} ) );\n","/*!\n * jQuery UI Unique ID 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: uniqueId\n//>>group: Core\n//>>description: Functions to generate and remove uniqueId's\n//>>docs: http://api.jqueryui.com/uniqueId/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.extend( {\n\tuniqueId: ( function() {\n\t\tvar uuid = 0;\n\n\t\treturn function() {\n\t\t\treturn this.each( function() {\n\t\t\t\tif ( !this.id ) {\n\t\t\t\t\tthis.id = \"ui-id-\" + ( ++uuid );\n\t\t\t\t}\n\t\t\t} );\n\t\t};\n\t} )(),\n\n\tremoveUniqueId: function() {\n\t\treturn this.each( function() {\n\t\t\tif ( /^ui-id-\\d+$/.test( this.id ) ) {\n\t\t\t\t$( this ).removeAttr( \"id\" );\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.safeActiveElement = function( document ) {\n\tvar activeElement;\n\n\t// Support: IE 9 only\n\t// IE9 throws an \"Unspecified error\" accessing document.activeElement from an <iframe>\n\ttry {\n\t\tactiveElement = document.activeElement;\n\t} catch ( error ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE may return null instead of an element\n\t// Interestingly, this only seems to occur when NOT in an iframe\n\tif ( !activeElement ) {\n\t\tactiveElement = document.body;\n\t}\n\n\t// Support: IE 11 only\n\t// IE11 returns a seemingly empty object in some cases when accessing\n\t// document.activeElement from an <iframe>\n\tif ( !activeElement.nodeName ) {\n\t\tactiveElement = document.body;\n\t}\n\n\treturn activeElement;\n};\n\n} ) );\n","/*!\n * jQuery UI Keycode 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Keycode\n//>>group: Core\n//>>description: Provide keycodes as keynames\n//>>docs: http://api.jqueryui.com/jQuery.ui.keyCode/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.keyCode = {\n\tBACKSPACE: 8,\n\tCOMMA: 188,\n\tDELETE: 46,\n\tDOWN: 40,\n\tEND: 35,\n\tENTER: 13,\n\tESCAPE: 27,\n\tHOME: 36,\n\tLEFT: 37,\n\tPAGE_DOWN: 34,\n\tPAGE_UP: 33,\n\tPERIOD: 190,\n\tRIGHT: 39,\n\tSPACE: 32,\n\tTAB: 9,\n\tUP: 38\n};\n\n} ) );\n","/*!\n * jQuery UI Position 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/position/\n */\n\n//>>label: Position\n//>>group: Core\n//>>description: Positions elements relative to other elements.\n//>>docs: http://api.jqueryui.com/position/\n//>>demos: http://jqueryui.com/position/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n( function() {\nvar cachedScrollbarWidth, supportsOffsetFractions,\n\tmax = Math.max,\n\tabs = Math.abs,\n\tround = Math.round,\n\trhorizontal = /left|center|right/,\n\trvertical = /top|center|bottom/,\n\troffset = /[\\+\\-]\\d+(\\.[\\d]+)?%?/,\n\trposition = /^\\w+/,\n\trpercent = /%$/,\n\t_position = $.fn.position;\n\n// Support: IE <=9 only\nsupportsOffsetFractions = function() {\n\tvar element = $( \"<div>\" )\n\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t.appendTo( \"body\" )\n\t\t\t.offset( {\n\t\t\t\ttop: 1.5,\n\t\t\t\tleft: 1.5\n\t\t\t} ),\n\t\tsupport = element.offset().top === 1.5;\n\n\telement.remove();\n\n\tsupportsOffsetFractions = function() {\n\t\treturn support;\n\t};\n\n\treturn support;\n};\n\nfunction getOffsets( offsets, width, height ) {\n\treturn [\n\t\tparseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),\n\t\tparseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )\n\t];\n}\n\nfunction parseCss( element, property ) {\n\treturn parseInt( $.css( element, property ), 10 ) || 0;\n}\n\nfunction getDimensions( elem ) {\n\tvar raw = elem[ 0 ];\n\tif ( raw.nodeType === 9 ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: 0, left: 0 }\n\t\t};\n\t}\n\tif ( $.isWindow( raw ) ) {\n\t\treturn {\n\t\t\twidth: elem.width(),\n\t\t\theight: elem.height(),\n\t\t\toffset: { top: elem.scrollTop(), left: elem.scrollLeft() }\n\t\t};\n\t}\n\tif ( raw.preventDefault ) {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\toffset: { top: raw.pageY, left: raw.pageX }\n\t\t};\n\t}\n\treturn {\n\t\twidth: elem.outerWidth(),\n\t\theight: elem.outerHeight(),\n\t\toffset: elem.offset()\n\t};\n}\n\n$.position = {\n\tscrollbarWidth: function() {\n\t\tif ( cachedScrollbarWidth !== undefined ) {\n\t\t\treturn cachedScrollbarWidth;\n\t\t}\n\t\tvar w1, w2,\n\t\t\tdiv = $( \"<div \" +\n\t\t\t\t\"style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'>\" +\n\t\t\t\t\"<div style='height:100px;width:auto;'></div></div>\" ),\n\t\t\tinnerDiv = div.children()[ 0 ];\n\n\t\t$( \"body\" ).append( div );\n\t\tw1 = innerDiv.offsetWidth;\n\t\tdiv.css( \"overflow\", \"scroll\" );\n\n\t\tw2 = innerDiv.offsetWidth;\n\n\t\tif ( w1 === w2 ) {\n\t\t\tw2 = div[ 0 ].clientWidth;\n\t\t}\n\n\t\tdiv.remove();\n\n\t\treturn ( cachedScrollbarWidth = w1 - w2 );\n\t},\n\tgetScrollInfo: function( within ) {\n\t\tvar overflowX = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-x\" ),\n\t\t\toverflowY = within.isWindow || within.isDocument ? \"\" :\n\t\t\t\twithin.element.css( \"overflow-y\" ),\n\t\t\thasOverflowX = overflowX === \"scroll\" ||\n\t\t\t\t( overflowX === \"auto\" && within.width < within.element[ 0 ].scrollWidth ),\n\t\t\thasOverflowY = overflowY === \"scroll\" ||\n\t\t\t\t( overflowY === \"auto\" && within.height < within.element[ 0 ].scrollHeight );\n\t\treturn {\n\t\t\twidth: hasOverflowY ? $.position.scrollbarWidth() : 0,\n\t\t\theight: hasOverflowX ? $.position.scrollbarWidth() : 0\n\t\t};\n\t},\n\tgetWithinInfo: function( element ) {\n\t\tvar withinElement = $( element || window ),\n\t\t\tisWindow = $.isWindow( withinElement[ 0 ] ),\n\t\t\tisDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9,\n\t\t\thasOffset = !isWindow && !isDocument;\n\t\treturn {\n\t\t\telement: withinElement,\n\t\t\tisWindow: isWindow,\n\t\t\tisDocument: isDocument,\n\t\t\toffset: hasOffset ? $( element ).offset() : { left: 0, top: 0 },\n\t\t\tscrollLeft: withinElement.scrollLeft(),\n\t\t\tscrollTop: withinElement.scrollTop(),\n\t\t\twidth: withinElement.outerWidth(),\n\t\t\theight: withinElement.outerHeight()\n\t\t};\n\t}\n};\n\n$.fn.position = function( options ) {\n\tif ( !options || !options.of ) {\n\t\treturn _position.apply( this, arguments );\n\t}\n\n\t// Make a copy, we don't want to modify arguments\n\toptions = $.extend( {}, options );\n\n\tvar atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,\n\t\ttarget = $( options.of ),\n\t\twithin = $.position.getWithinInfo( options.within ),\n\t\tscrollInfo = $.position.getScrollInfo( within ),\n\t\tcollision = ( options.collision || \"flip\" ).split( \" \" ),\n\t\toffsets = {};\n\n\tdimensions = getDimensions( target );\n\tif ( target[ 0 ].preventDefault ) {\n\n\t\t// Force left top to allow flipping\n\t\toptions.at = \"left top\";\n\t}\n\ttargetWidth = dimensions.width;\n\ttargetHeight = dimensions.height;\n\ttargetOffset = dimensions.offset;\n\n\t// Clone to reuse original targetOffset later\n\tbasePosition = $.extend( {}, targetOffset );\n\n\t// Force my and at to have valid horizontal and vertical positions\n\t// if a value is missing or invalid, it will be converted to center\n\t$.each( [ \"my\", \"at\" ], function() {\n\t\tvar pos = ( options[ this ] || \"\" ).split( \" \" ),\n\t\t\thorizontalOffset,\n\t\t\tverticalOffset;\n\n\t\tif ( pos.length === 1 ) {\n\t\t\tpos = rhorizontal.test( pos[ 0 ] ) ?\n\t\t\t\tpos.concat( [ \"center\" ] ) :\n\t\t\t\trvertical.test( pos[ 0 ] ) ?\n\t\t\t\t\t[ \"center\" ].concat( pos ) :\n\t\t\t\t\t[ \"center\", \"center\" ];\n\t\t}\n\t\tpos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : \"center\";\n\t\tpos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : \"center\";\n\n\t\t// Calculate offsets\n\t\thorizontalOffset = roffset.exec( pos[ 0 ] );\n\t\tverticalOffset = roffset.exec( pos[ 1 ] );\n\t\toffsets[ this ] = [\n\t\t\thorizontalOffset ? horizontalOffset[ 0 ] : 0,\n\t\t\tverticalOffset ? verticalOffset[ 0 ] : 0\n\t\t];\n\n\t\t// Reduce to just the positions without the offsets\n\t\toptions[ this ] = [\n\t\t\trposition.exec( pos[ 0 ] )[ 0 ],\n\t\t\trposition.exec( pos[ 1 ] )[ 0 ]\n\t\t];\n\t} );\n\n\t// Normalize collision option\n\tif ( collision.length === 1 ) {\n\t\tcollision[ 1 ] = collision[ 0 ];\n\t}\n\n\tif ( options.at[ 0 ] === \"right\" ) {\n\t\tbasePosition.left += targetWidth;\n\t} else if ( options.at[ 0 ] === \"center\" ) {\n\t\tbasePosition.left += targetWidth / 2;\n\t}\n\n\tif ( options.at[ 1 ] === \"bottom\" ) {\n\t\tbasePosition.top += targetHeight;\n\t} else if ( options.at[ 1 ] === \"center\" ) {\n\t\tbasePosition.top += targetHeight / 2;\n\t}\n\n\tatOffset = getOffsets( offsets.at, targetWidth, targetHeight );\n\tbasePosition.left += atOffset[ 0 ];\n\tbasePosition.top += atOffset[ 1 ];\n\n\treturn this.each( function() {\n\t\tvar collisionPosition, using,\n\t\t\telem = $( this ),\n\t\t\telemWidth = elem.outerWidth(),\n\t\t\telemHeight = elem.outerHeight(),\n\t\t\tmarginLeft = parseCss( this, \"marginLeft\" ),\n\t\t\tmarginTop = parseCss( this, \"marginTop\" ),\n\t\t\tcollisionWidth = elemWidth + marginLeft + parseCss( this, \"marginRight\" ) +\n\t\t\t\tscrollInfo.width,\n\t\t\tcollisionHeight = elemHeight + marginTop + parseCss( this, \"marginBottom\" ) +\n\t\t\t\tscrollInfo.height,\n\t\t\tposition = $.extend( {}, basePosition ),\n\t\t\tmyOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );\n\n\t\tif ( options.my[ 0 ] === \"right\" ) {\n\t\t\tposition.left -= elemWidth;\n\t\t} else if ( options.my[ 0 ] === \"center\" ) {\n\t\t\tposition.left -= elemWidth / 2;\n\t\t}\n\n\t\tif ( options.my[ 1 ] === \"bottom\" ) {\n\t\t\tposition.top -= elemHeight;\n\t\t} else if ( options.my[ 1 ] === \"center\" ) {\n\t\t\tposition.top -= elemHeight / 2;\n\t\t}\n\n\t\tposition.left += myOffset[ 0 ];\n\t\tposition.top += myOffset[ 1 ];\n\n\t\t// If the browser doesn't support fractions, then round for consistent results\n\t\tif ( !supportsOffsetFractions() ) {\n\t\t\tposition.left = round( position.left );\n\t\t\tposition.top = round( position.top );\n\t\t}\n\n\t\tcollisionPosition = {\n\t\t\tmarginLeft: marginLeft,\n\t\t\tmarginTop: marginTop\n\t\t};\n\n\t\t$.each( [ \"left\", \"top\" ], function( i, dir ) {\n\t\t\tif ( $.ui.position[ collision[ i ] ] ) {\n\t\t\t\t$.ui.position[ collision[ i ] ][ dir ]( position, {\n\t\t\t\t\ttargetWidth: targetWidth,\n\t\t\t\t\ttargetHeight: targetHeight,\n\t\t\t\t\telemWidth: elemWidth,\n\t\t\t\t\telemHeight: elemHeight,\n\t\t\t\t\tcollisionPosition: collisionPosition,\n\t\t\t\t\tcollisionWidth: collisionWidth,\n\t\t\t\t\tcollisionHeight: collisionHeight,\n\t\t\t\t\toffset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],\n\t\t\t\t\tmy: options.my,\n\t\t\t\t\tat: options.at,\n\t\t\t\t\twithin: within,\n\t\t\t\t\telem: elem\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\n\t\tif ( options.using ) {\n\n\t\t\t// Adds feedback as second argument to using callback, if present\n\t\t\tusing = function( props ) {\n\t\t\t\tvar left = targetOffset.left - position.left,\n\t\t\t\t\tright = left + targetWidth - elemWidth,\n\t\t\t\t\ttop = targetOffset.top - position.top,\n\t\t\t\t\tbottom = top + targetHeight - elemHeight,\n\t\t\t\t\tfeedback = {\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\telement: target,\n\t\t\t\t\t\t\tleft: targetOffset.left,\n\t\t\t\t\t\t\ttop: targetOffset.top,\n\t\t\t\t\t\t\twidth: targetWidth,\n\t\t\t\t\t\t\theight: targetHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\telement: {\n\t\t\t\t\t\t\telement: elem,\n\t\t\t\t\t\t\tleft: position.left,\n\t\t\t\t\t\t\ttop: position.top,\n\t\t\t\t\t\t\twidth: elemWidth,\n\t\t\t\t\t\t\theight: elemHeight\n\t\t\t\t\t\t},\n\t\t\t\t\t\thorizontal: right < 0 ? \"left\" : left > 0 ? \"right\" : \"center\",\n\t\t\t\t\t\tvertical: bottom < 0 ? \"top\" : top > 0 ? \"bottom\" : \"middle\"\n\t\t\t\t\t};\n\t\t\t\tif ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {\n\t\t\t\t\tfeedback.horizontal = \"center\";\n\t\t\t\t}\n\t\t\t\tif ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {\n\t\t\t\t\tfeedback.vertical = \"middle\";\n\t\t\t\t}\n\t\t\t\tif ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {\n\t\t\t\t\tfeedback.important = \"horizontal\";\n\t\t\t\t} else {\n\t\t\t\t\tfeedback.important = \"vertical\";\n\t\t\t\t}\n\t\t\t\toptions.using.call( this, props, feedback );\n\t\t\t};\n\t\t}\n\n\t\telem.offset( $.extend( position, { using: using } ) );\n\t} );\n};\n\n$.ui.position = {\n\tfit: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\touterWidth = within.width,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = withinOffset - collisionPosLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,\n\t\t\t\tnewOverRight;\n\n\t\t\t// Element is wider than within\n\t\t\tif ( data.collisionWidth > outerWidth ) {\n\n\t\t\t\t// Element is initially over the left side of within\n\t\t\t\tif ( overLeft > 0 && overRight <= 0 ) {\n\t\t\t\t\tnewOverRight = position.left + overLeft + data.collisionWidth - outerWidth -\n\t\t\t\t\t\twithinOffset;\n\t\t\t\t\tposition.left += overLeft - newOverRight;\n\n\t\t\t\t// Element is initially over right side of within\n\t\t\t\t} else if ( overRight > 0 && overLeft <= 0 ) {\n\t\t\t\t\tposition.left = withinOffset;\n\n\t\t\t\t// Element is initially over both left and right sides of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overLeft > overRight ) {\n\t\t\t\t\t\tposition.left = withinOffset + outerWidth - data.collisionWidth;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.left = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Too far left -> align with left edge\n\t\t\t} else if ( overLeft > 0 ) {\n\t\t\t\tposition.left += overLeft;\n\n\t\t\t// Too far right -> align with right edge\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tposition.left -= overRight;\n\n\t\t\t// Adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.left = max( position.left - collisionPosLeft, position.left );\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\touterHeight = data.within.height,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = withinOffset - collisionPosTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,\n\t\t\t\tnewOverBottom;\n\n\t\t\t// Element is taller than within\n\t\t\tif ( data.collisionHeight > outerHeight ) {\n\n\t\t\t\t// Element is initially over the top of within\n\t\t\t\tif ( overTop > 0 && overBottom <= 0 ) {\n\t\t\t\t\tnewOverBottom = position.top + overTop + data.collisionHeight - outerHeight -\n\t\t\t\t\t\twithinOffset;\n\t\t\t\t\tposition.top += overTop - newOverBottom;\n\n\t\t\t\t// Element is initially over bottom of within\n\t\t\t\t} else if ( overBottom > 0 && overTop <= 0 ) {\n\t\t\t\t\tposition.top = withinOffset;\n\n\t\t\t\t// Element is initially over both top and bottom of within\n\t\t\t\t} else {\n\t\t\t\t\tif ( overTop > overBottom ) {\n\t\t\t\t\t\tposition.top = withinOffset + outerHeight - data.collisionHeight;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition.top = withinOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Too far up -> align with top\n\t\t\t} else if ( overTop > 0 ) {\n\t\t\t\tposition.top += overTop;\n\n\t\t\t// Too far down -> align with bottom edge\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tposition.top -= overBottom;\n\n\t\t\t// Adjust based on position and margin\n\t\t\t} else {\n\t\t\t\tposition.top = max( position.top - collisionPosTop, position.top );\n\t\t\t}\n\t\t}\n\t},\n\tflip: {\n\t\tleft: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.left + within.scrollLeft,\n\t\t\t\touterWidth = within.width,\n\t\t\t\toffsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,\n\t\t\t\tcollisionPosLeft = position.left - data.collisionPosition.marginLeft,\n\t\t\t\toverLeft = collisionPosLeft - offsetLeft,\n\t\t\t\toverRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,\n\t\t\t\tmyOffset = data.my[ 0 ] === \"left\" ?\n\t\t\t\t\t-data.elemWidth :\n\t\t\t\t\tdata.my[ 0 ] === \"right\" ?\n\t\t\t\t\t\tdata.elemWidth :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 0 ] === \"left\" ?\n\t\t\t\t\tdata.targetWidth :\n\t\t\t\t\tdata.at[ 0 ] === \"right\" ?\n\t\t\t\t\t\t-data.targetWidth :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 0 ],\n\t\t\t\tnewOverRight,\n\t\t\t\tnewOverLeft;\n\n\t\t\tif ( overLeft < 0 ) {\n\t\t\t\tnewOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth -\n\t\t\t\t\touterWidth - withinOffset;\n\t\t\t\tif ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overRight > 0 ) {\n\t\t\t\tnewOverLeft = position.left - data.collisionPosition.marginLeft + myOffset +\n\t\t\t\t\tatOffset + offset - offsetLeft;\n\t\t\t\tif ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {\n\t\t\t\t\tposition.left += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttop: function( position, data ) {\n\t\t\tvar within = data.within,\n\t\t\t\twithinOffset = within.offset.top + within.scrollTop,\n\t\t\t\touterHeight = within.height,\n\t\t\t\toffsetTop = within.isWindow ? within.scrollTop : within.offset.top,\n\t\t\t\tcollisionPosTop = position.top - data.collisionPosition.marginTop,\n\t\t\t\toverTop = collisionPosTop - offsetTop,\n\t\t\t\toverBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,\n\t\t\t\ttop = data.my[ 1 ] === \"top\",\n\t\t\t\tmyOffset = top ?\n\t\t\t\t\t-data.elemHeight :\n\t\t\t\t\tdata.my[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\tdata.elemHeight :\n\t\t\t\t\t\t0,\n\t\t\t\tatOffset = data.at[ 1 ] === \"top\" ?\n\t\t\t\t\tdata.targetHeight :\n\t\t\t\t\tdata.at[ 1 ] === \"bottom\" ?\n\t\t\t\t\t\t-data.targetHeight :\n\t\t\t\t\t\t0,\n\t\t\t\toffset = -2 * data.offset[ 1 ],\n\t\t\t\tnewOverTop,\n\t\t\t\tnewOverBottom;\n\t\t\tif ( overTop < 0 ) {\n\t\t\t\tnewOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight -\n\t\t\t\t\touterHeight - withinOffset;\n\t\t\t\tif ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t} else if ( overBottom > 0 ) {\n\t\t\t\tnewOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset +\n\t\t\t\t\toffset - offsetTop;\n\t\t\t\tif ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {\n\t\t\t\t\tposition.top += myOffset + atOffset + offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tflipfit: {\n\t\tleft: function() {\n\t\t\t$.ui.position.flip.left.apply( this, arguments );\n\t\t\t$.ui.position.fit.left.apply( this, arguments );\n\t\t},\n\t\ttop: function() {\n\t\t\t$.ui.position.flip.top.apply( this, arguments );\n\t\t\t$.ui.position.fit.top.apply( this, arguments );\n\t\t}\n\t}\n};\n\n} )();\n\nreturn $.ui.position;\n\n} ) );\n","/*!\n * jQuery UI Focusable 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :focusable Selector\n//>>group: Core\n//>>description: Selects elements which can be focused.\n//>>docs: http://api.jqueryui.com/focusable-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// Selectors\n$.ui.focusable = function( element, hasTabindex ) {\n\tvar map, mapName, img, focusableIfVisible, fieldset,\n\t\tnodeName = element.nodeName.toLowerCase();\n\n\tif ( \"area\" === nodeName ) {\n\t\tmap = element.parentNode;\n\t\tmapName = map.name;\n\t\tif ( !element.href || !mapName || map.nodeName.toLowerCase() !== \"map\" ) {\n\t\t\treturn false;\n\t\t}\n\t\timg = $( \"img[usemap='#\" + mapName + \"']\" );\n\t\treturn img.length > 0 && img.is( \":visible\" );\n\t}\n\n\tif ( /^(input|select|textarea|button|object)$/.test( nodeName ) ) {\n\t\tfocusableIfVisible = !element.disabled;\n\n\t\tif ( focusableIfVisible ) {\n\n\t\t\t// Form controls within a disabled fieldset are disabled.\n\t\t\t// However, controls within the fieldset's legend do not get disabled.\n\t\t\t// Since controls generally aren't placed inside legends, we skip\n\t\t\t// this portion of the check.\n\t\t\tfieldset = $( element ).closest( \"fieldset\" )[ 0 ];\n\t\t\tif ( fieldset ) {\n\t\t\t\tfocusableIfVisible = !fieldset.disabled;\n\t\t\t}\n\t\t}\n\t} else if ( \"a\" === nodeName ) {\n\t\tfocusableIfVisible = element.href || hasTabindex;\n\t} else {\n\t\tfocusableIfVisible = hasTabindex;\n\t}\n\n\treturn focusableIfVisible && $( element ).is( \":visible\" ) && visible( $( element ) );\n};\n\n// Support: IE 8 only\n// IE 8 doesn't resolve inherit to visible/hidden for computed values\nfunction visible( element ) {\n\tvar visibility = element.css( \"visibility\" );\n\twhile ( visibility === \"inherit\" ) {\n\t\telement = element.parent();\n\t\tvisibility = element.css( \"visibility\" );\n\t}\n\treturn visibility !== \"hidden\";\n}\n\n$.extend( $.expr[ \":\" ], {\n\tfocusable: function( element ) {\n\t\treturn $.ui.focusable( element, $.attr( element, \"tabindex\" ) != null );\n\t}\n} );\n\nreturn $.ui.focusable;\n\n} ) );\n","/*!\n * jQuery UI Tabbable 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :tabbable Selector\n//>>group: Core\n//>>description: Selects elements which can be tabbed to.\n//>>docs: http://api.jqueryui.com/tabbable-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\", \"./focusable\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.extend( $.expr[ \":\" ], {\n\ttabbable: function( element ) {\n\t\tvar tabIndex = $.attr( element, \"tabindex\" ),\n\t\t\thasTabindex = tabIndex != null;\n\t\treturn ( !hasTabindex || tabIndex >= 0 ) && $.ui.focusable( element, hasTabindex );\n\t}\n} );\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// $.ui.plugin is deprecated. Use $.widget() extensions instead.\nreturn $.ui.plugin = {\n\tadd: function( module, option, set ) {\n\t\tvar i,\n\t\t\tproto = $.ui[ module ].prototype;\n\t\tfor ( i in set ) {\n\t\t\tproto.plugins[ i ] = proto.plugins[ i ] || [];\n\t\t\tproto.plugins[ i ].push( [ option, set[ i ] ] );\n\t\t}\n\t},\n\tcall: function( instance, name, args, allowDisconnected ) {\n\t\tvar i,\n\t\t\tset = instance.plugins[ name ];\n\n\t\tif ( !set ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !allowDisconnected && ( !instance.element[ 0 ].parentNode ||\n\t\t\t\tinstance.element[ 0 ].parentNode.nodeType === 11 ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( i = 0; i < set.length; i++ ) {\n\t\t\tif ( instance.options[ set[ i ][ 0 ] ] ) {\n\t\t\t\tset[ i ][ 1 ].apply( instance.element, args );\n\t\t\t}\n\t\t}\n\t}\n};\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\n// This file is deprecated\nreturn $.ui.ie = !!/msie [\\w.]+/.exec( navigator.userAgent.toLowerCase() );\n} ) );\n","/*!\n * jQuery UI :data 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: :data Selector\n//>>group: Core\n//>>description: Selects elements which have data stored under the specified key.\n//>>docs: http://api.jqueryui.com/data-selector/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.extend( $.expr[ \":\" ], {\n\tdata: $.expr.createPseudo ?\n\t\t$.expr.createPseudo( function( dataName ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn !!$.data( elem, dataName );\n\t\t\t};\n\t\t} ) :\n\n\t\t// Support: jQuery <1.8\n\t\tfunction( elem, i, match ) {\n\t\t\treturn !!$.data( elem, match[ 3 ] );\n\t\t}\n} );\n} ) );\n","/*!\n * jQuery UI Scroll Parent 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: scrollParent\n//>>group: Core\n//>>description: Get the closest ancestor element that is scrollable.\n//>>docs: http://api.jqueryui.com/scrollParent/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.scrollParent = function( includeHidden ) {\n\tvar position = this.css( \"position\" ),\n\t\texcludeStaticParent = position === \"absolute\",\n\t\toverflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,\n\t\tscrollParent = this.parents().filter( function() {\n\t\t\tvar parent = $( this );\n\t\t\tif ( excludeStaticParent && parent.css( \"position\" ) === \"static\" ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn overflowRegex.test( parent.css( \"overflow\" ) + parent.css( \"overflow-y\" ) +\n\t\t\t\tparent.css( \"overflow-x\" ) );\n\t\t} ).eq( 0 );\n\n\treturn position === \"fixed\" || !scrollParent.length ?\n\t\t$( this[ 0 ].ownerDocument || document ) :\n\t\tscrollParent;\n};\n\n} ) );\n","/*!\n * jQuery UI Disable Selection 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: disableSelection\n//>>group: Core\n//>>description: Disable selection of text content within the set of matched elements.\n//>>docs: http://api.jqueryui.com/disableSelection/\n\n// This file is deprecated\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\n\nreturn $.fn.extend( {\n\tdisableSelection: ( function() {\n\t\tvar eventType = \"onselectstart\" in document.createElement( \"div\" ) ?\n\t\t\t\"selectstart\" :\n\t\t\t\"mousedown\";\n\n\t\treturn function() {\n\t\t\treturn this.on( eventType + \".ui-disableSelection\", function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t} );\n\t\t};\n\t} )(),\n\n\tenableSelection: function() {\n\t\treturn this.off( \".ui-disableSelection\" );\n\t}\n} );\n\n} ) );\n","( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [ \"jquery\", \"./version\" ], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n} ( function( $ ) {\nreturn $.ui.safeBlur = function( element ) {\n\n\t// Support: IE9 - 10 only\n\t// If the <body> is blurred, IE will switch windows, see #9420\n\tif ( element && element.nodeName.toLowerCase() !== \"body\" ) {\n\t\t$( element ).trigger( \"blur\" );\n\t}\n};\n\n} ) );\n","'use strict';\nrequire('./polyfill');\n\nfunction HEROCALCULATOR () {\n   // ...\n}\n\nvar my = HEROCALCULATOR;\n\nmy.prototype.heroData = {};\nmy.prototype.itemData = {};\nmy.prototype.unitData = {};\nmy.prototype.abilityData = {};\n\nmy.prototype.HeroOptions = [];\n\nmy.prototype.HeroOption = function (name, displayname, hero) {\n    this.heroName = name;\n    this.heroDisplayName = displayname;\n    this.hero = hero;\n};\n\nmy.prototype.idCounter = 0;\nmy.prototype.uniqueId = function (prefix) {\n    var id = ++my.prototype.idCounter + '';\n    return prefix ? prefix + id : id;\n};\nmy.prototype.findWhere = function (arr, obj) {\n    arrLoop: for (var i = 0; i < arr.length; i++) {\n        objLoop: for (var key in obj) {\n            if (arr[i][key] != obj[key]) {\n                continue arrLoop;\n            }\n        }\n        return arr[i];\n    }\n}\nmy.prototype.uniques = function (arr) {\n    var a = [];\n    for (var i=0, l=arr.length; i<l; i++)\n        if (a.indexOf(arr[i]) === -1 && arr[i] !== '')\n            a.push(arr[i]);\n    return a;\n}\nmy.prototype.union = function (a, b) {\n    var arr = a.concat(b);\n    return my.prototype.uniques(arr);\n}\n\nmy.prototype.totalResources = 3;\nmy.prototype.numResourcesLoaded = 0;\nmy.prototype.onResourceLoaded = function (callback) {\n    my.prototype.numResourcesLoaded++;\n    if (my.prototype.numResourcesLoaded == my.prototype.totalResources) {\n        if (callback) callback();\n    }\n}\n\nmy.prototype.init = function (HERODATA_PATH,ITEMDATA_PATH,UNITDATA_PATH, callback) {\n    my.prototype.numResourcesLoaded = 0;\n    my.prototype.getJSON(HERODATA_PATH, function (data) {\n        my.prototype.heroData = data;\n        my.prototype.heroData['npc_dota_hero_chen'].abilities[2].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        my.prototype.heroData['npc_dota_hero_nevermore'].abilities[1].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        my.prototype.heroData['npc_dota_hero_nevermore'].abilities[2].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        my.prototype.heroData['npc_dota_hero_morphling'].abilities[3].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        my.prototype.heroData['npc_dota_hero_ogre_magi'].abilities[3].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        my.prototype.heroData['npc_dota_hero_techies'].abilities[4].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        my.prototype.heroData['npc_dota_hero_beastmaster'].abilities[2].behavior.push('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE');\n        var index = my.prototype.heroData['npc_dota_hero_lone_druid'].abilities[3].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_HIDDEN');\n        my.prototype.heroData['npc_dota_hero_lone_druid'].abilities[3].behavior.splice(index, 1);\n        \n        index = my.prototype.heroData['npc_dota_hero_abaddon'].abilities[2].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE');\n        my.prototype.heroData['npc_dota_hero_abaddon'].abilities[2].behavior.splice(index, 1);\n        \n        index = my.prototype.heroData['npc_dota_hero_riki'].abilities[2].behavior.indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE');\n        my.prototype.heroData['npc_dota_hero_riki'].abilities[2].behavior.splice(index, 1);\n        \n        for (var h in my.prototype.heroData) {\n            my.prototype.HeroOptions.push(new my.prototype.HeroOption(h.replace('npc_dota_hero_', ''), my.prototype.heroData[h].displayname));\n        }\n            \n        my.prototype.onResourceLoaded(callback);\n    });\n    my.prototype.getJSON(ITEMDATA_PATH, function (data) {\n        my.prototype.itemData = data;\n        my.prototype.onResourceLoaded(callback);\n    });\n    my.prototype.getJSON(UNITDATA_PATH, function (data) {\n        my.prototype.unitData = data;\n        my.prototype.onResourceLoaded(callback);\n    });\n}\n\nmy.prototype.extend = function (out) {\n    out = out || {};\n\n    for (var i = 1; i < arguments.length; i++) {\n        var obj = arguments[i];\n\n        if (!obj)\n            continue;\n\n        for (var key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                if (typeof obj[key] === 'object')\n                    out[key] = deepExtend(out[key], obj[key]);\n                else\n                    out[key] = obj[key];\n            }\n        }\n    }\n\n    return out;\n};\n\nmy.prototype.getJSON = function (url, successCallback, errorCallback) {\n    var request = new XMLHttpRequest();\n    request.open('GET', url, true);\n\n    request.onload = function() {\n        if (request.status >= 200 && request.status < 400) {\n            // Success!\n            var data = JSON.parse(request.responseText);\n            successCallback(data);\n        } else {\n            // We reached our target server, but it returned an error\n            errorCallback();\n        }\n    };\n\n    request.onerror = function() {\n        // There was a connection error of some sort\n        errorCallback();\n    };\n\n    request.send();\n}\nmodule.exports = HEROCALCULATOR;","'use strict';\nvar ko = require('./herocalc_knockout');\nvar my = require(\"./herocalc_core\");\n\nmy.prototype.stackableItems = ['clarity','flask','dust','ward_observer','ward_sentry','tango','tpscroll','smoke_of_deceit'],\nmy.prototype.levelitems = ['necronomicon','dagon','diffusal_blade','travel_boots'],\nmy.prototype.validItems = [\"abyssal_blade\",\"ultimate_scepter\",\"courier\",\"arcane_boots\",\"armlet\",\"assault\",\"boots_of_elves\",\"bfury\",\"belt_of_strength\",\"black_king_bar\",\"blade_mail\",\"blade_of_alacrity\",\"blades_of_attack\",\"blink\",\"bloodstone\",\"boots\",\"travel_boots\",\"bottle\",\"bracer\",\"broadsword\",\"buckler\",\"butterfly\",\"chainmail\",\"circlet\",\"clarity\",\"claymore\",\"cloak\",\"lesser_crit\",\"greater_crit\",\"dagon\",\"demon_edge\",\"desolator\",\"diffusal_blade\",\"rapier\",\"ancient_janggo\",\"dust\",\"eagle\",\"energy_booster\",\"ethereal_blade\",\"cyclone\",\"skadi\",\"flying_courier\",\"force_staff\",\"gauntlets\",\"gem\",\"ghost\",\"gloves\",\"hand_of_midas\",\"headdress\",\"flask\",\"heart\",\"heavens_halberd\",\"helm_of_iron_will\",\"helm_of_the_dominator\",\"hood_of_defiance\",\"hyperstone\",\"branches\",\"javelin\",\"sphere\",\"maelstrom\",\"magic_stick\",\"magic_wand\",\"manta\",\"mantle\",\"mask_of_madness\",\"medallion_of_courage\",\"mekansm\",\"mithril_hammer\",\"mjollnir\",\"monkey_king_bar\",\"lifesteal\",\"mystic_staff\",\"necronomicon\",\"null_talisman\",\"oblivion_staff\",\"ward_observer\",\"ogre_axe\",\"orb_of_venom\",\"orchid\",\"pers\",\"phase_boots\",\"pipe\",\"platemail\",\"point_booster\",\"poor_mans_shield\",\"power_treads\",\"quarterstaff\",\"quelling_blade\",\"radiance\",\"reaver\",\"refresher\",\"ring_of_aquila\",\"ring_of_basilius\",\"ring_of_health\",\"ring_of_protection\",\"ring_of_regen\",\"robe\",\"rod_of_atos\",\"relic\",\"sobi_mask\",\"sange\",\"sange_and_yasha\",\"satanic\",\"sheepstick\",\"ward_sentry\",\"shadow_amulet\",\"invis_sword\",\"shivas_guard\",\"basher\",\"slippers\",\"smoke_of_deceit\",\"soul_booster\",\"soul_ring\",\"staff_of_wizardry\",\"stout_shield\",\"talisman_of_evasion\",\"tango\",\"tpscroll\",\"tranquil_boots\",\"ultimate_orb\",\"urn_of_shadows\",\"vanguard\",\"veil_of_discord\",\"vitality_booster\",\"vladmir\",\"void_stone\",\"wraith_band\",\"yasha\",\"crimson_guard\",\"enchanted_mango\",\"lotus_orb\",\"glimmer_cape\",\"guardian_greaves\",\"moon_shard\",\"silver_edge\",\"solar_crest\",\"octarine_core\",\"aether_lens\",\"faerie_fire\",\"iron_talon\",\"dragon_lance\",\"echo_sabre\",\"infused_raindrop\",\"blight_stone\",\"wind_lace\",\"tome_of_knowledge\",\"bloodthorn\",\"hurricane_pike\"],\nmy.prototype.itemsWithActive = ['heart','smoke_of_deceit','dust','ghost','tranquil_boots','phase_boots','power_treads','buckler','medallion_of_courage','ancient_janggo','mekansm','pipe','veil_of_discord','rod_of_atos','orchid','sheepstick','armlet','invis_sword','ethereal_blade','shivas_guard','manta','mask_of_madness','diffusal_blade','mjollnir','satanic','ring_of_basilius','ring_of_aquila', 'butterfly', 'moon_shard', 'silver_edge','bloodthorn'];\n\nmy.prototype.ItemInput = function (value, name, debuff) {\n    if (my.prototype.itemData['item_' + value].ItemAliases instanceof Array) {\n        var itemAlias = my.prototype.itemData['item_' + value].ItemAliases.join(' ');\n    }\n    else {\n        var itemAlias = my.prototype.itemData['item_' + value].ItemAliases;\n    }\n    this.value = ko.observable(value);\n    this.debuff = ko.observable(debuff);\n    if (this.debuff()) {\n        this.value = ko.observable(value + '|' + debuff.id);\n        this.name = ko.observable(name + ' (' + debuff.name + ')');\n        this.displayname = ko.observable(name + ' (' + debuff.name + ') <span style=\"display:none\">' + ';' + itemAlias + '</span>');\n    }\n    else {\n        this.value = ko.observable(value);\n        this.name = ko.observable(name);\n        this.displayname = ko.observable(name + ' <span style=\"display:none\">' + ';' + itemAlias + '</span>');\n    }\n};\n\nmy.prototype.BasicInventoryViewModel = function (h) {\n    var self = this;\n    self.items = ko.observableArray([]);\n    self.activeItems = ko.observableArray([]);\n    self.addItem = function (data, event) {\n        if (data.selectedItem() != undefined) {\n            var new_item = {\n                item: data.selectedItem().split('|')[0],\n                state: ko.observable(0),\n                size: data.itemInputValue(),\n                enabled: ko.observable(true)\n            }\n            switch (new_item.item) {\n                case 'dagon':\n                    new_item.size = Math.min(new_item.size, 5);\n                break;\n                break;\n                case 'travel_boots':\n                case 'diffusal_blade':\n                    new_item.size = Math.min(new_item.size, 2);\n                break;\n                case 'necronomicon':\n                    new_item.size = Math.min(new_item.size, 3);\n                break;\n            }\n            self.items.push(new_item);\n            if (data.selectedItem() === 'ring_of_aquila' || data.selectedItem() === 'ring_of_basilius' || data.selectedItem() === 'heart') {\n                self.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    };\n    self.toggleItem = function (index, data, event) {\n        if (my.prototype.itemsWithActive.indexOf(data.item) >= 0) {\n            if (self.activeItems.indexOf(data) < 0) {\n                self.activeItems.push(data);\n            }\n            else {\n                self.activeItems.remove(data);\n            }\n            switch (data.item) {\n                case 'power_treads':\n                    if (data.state() < 2) {\n                        data.state(data.state() + 1);\n                    }\n                    else {\n                        data.state(0);\n                    }                \n                break;\n                default:\n                    if (data.state() == 0) {\n                        data.state(1);\n                    }\n                    else {\n                        data.state(0);\n                    }                \n                break;\n            }\n        }\n    }.bind(this);\n    self.removeItem = function (item) {\n        self.activeItems.remove(item);\n        self.items.remove(item);\n    }.bind(this);\n    self.toggleMuteItem = function (item) {\n        item.enabled(!item.enabled());\n    }.bind(this);      \n\n    self.getItemImage = function (data) {\n        var state = ko.utils.unwrapObservable(data.state);\n        switch (data.item) {\n            case 'power_treads':\n                if (state == 0) {\n                    return '/media/images/items/' + data.item + '_str.png';\n                }\n                else if (state == 1) {\n                    return '/media/images/items/' + data.item + '_int.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '_agi.png';\n                }\n            break;\n            case 'tranquil_boots':\n            case 'ring_of_basilius':\n                if (state == 0) {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '_active.png';\n                }\n            break;\n            case 'armlet':\n                if (state == 0) {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '_active.png';\n                }\n            break;\n            case 'ring_of_aquila':\n                if (state == 0) {\n                    return '/media/images/items/' + data.item + '_active.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n            break;\n            case 'dagon':\n            case 'diffusal_blade':\n            case 'travel_boots':\n            case 'necronomicon':\n                if (data.size > 1) {\n                    return '/media/images/items/' + data.item + '_' + data.size + '.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n            break;\n            default:\n                return '/media/images/items/' + data.item + '.png';            \n            break;\n        }\n    };\n    self.getItemSizeLabel = function (data) {\n        if (my.prototype.stackableItems.indexOf(data.item) != -1) {\n            return '<span style=\"font-size:10px\">Qty: </span>' + data.size;\n        }\n        else if (my.prototype.levelitems.indexOf(data.item) != -1) {\n            return '<span style=\"font-size:10px\">Lvl: </span>' + data.size;\n        }\n        else if (data.item == 'bloodstone') {\n            return '<span style=\"font-size:10px\">Charges: </span>' + data.size;\n        }\n        else {\n            return '';\n        }\n    };\n    self.getActiveBorder = function (data) {\n        switch (data.item) {\n            case 'power_treads':\n            case 'tranquil_boots':\n            case 'ring_of_basilius':\n            case 'ring_of_aquila':\n            case 'armlet':\n                return 0;\n            break;\n            default:\n                return ko.utils.unwrapObservable(data.state);    \n            break;\n        }\n    }\n    self.removeAll = function () {\n        self.activeItems.removeAll();\n        self.items.removeAll();\n    }.bind(this);\n}\n\nmy.prototype.InventoryViewModel = function (h) {\n    var self = new my.prototype.BasicInventoryViewModel();\n    self.hero = h;\n    self.hasInventory = ko.observable(true);\n    self.items = ko.observableArray([]);\n    self.activeItems = ko.observableArray([]);\n    self.hasScepter = ko.computed(function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (item === 'ultimate_scepter' && self.items()[i].enabled()) {\n                return true;\n            }\n            \n        }\n        return false;\n    }, this);\n    self.isEthereal = ko.computed(function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if ((item === 'ghost' || item === 'ethereal_blade') && self.items()[i].enabled() && isActive) {\n                return true;\n            }\n        }\n        return false;\n    }, this);\n    self.isSheeped = ko.computed(function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (item === 'sheepstick' && self.items()[i].enabled() && isActive) {\n                return true;\n            }\n        }\n        return false;\n    }, this);\n    self.totalCost = ko.computed(function () {\n        var c = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            if (my.prototype.stackableItems.indexOf(item) != -1) {\n                c += my.prototype.itemData['item_' + item].itemcost * self.items()[i].size;\n            }\n            else if (my.prototype.levelitems.indexOf(item) != -1) {\n                switch(item) {\n                    case 'diffusal_blade':\n                        c += my.prototype.itemData['item_' + item].itemcost + (self.items()[i].size - 1) * 700;\n                    break;\n                    case 'necronomicon':\n                    case 'dagon':\n                        c += my.prototype.itemData['item_' + item].itemcost + (self.items()[i].size - 1) * 1250;\n                    break;\n                    default:\n                        c += my.prototype.itemData['item_' + item].itemcost;\n                    break;\n                }\n            }\n            else {\n                c += my.prototype.itemData['item_' + item].itemcost;\n            }\n            \n        }\n        return c;\n    }, this);\n    /*self.addItem = function (data, event) {\n        if (self.hasInventory() && data.selectedItem() != undefined) {\n            var new_item = {\n                item: data.selectedItem(),\n                state: ko.observable(0),\n                size: data.itemInputValue(),\n                enabled: ko.observable(true)\n            }\n            self.items.push(new_item);\n            if (data.selectedItem() === 'ring_of_aquila' || data.selectedItem() === 'ring_of_basilius' || data.selectedItem() === 'heart') {\n                self.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    };*/\n    self.addItemBuff = function (data, event) {\n        if (self.hasInventory() && self.selectedItemBuff() != undefined) {\n            var new_item = {\n                item: self.selectedItemBuff(),\n                state: ko.observable(0),\n                size: 1,\n                enabled: ko.observable(true)\n            }\n            self.items.push(new_item);\n            if (self.selectedItemBuff() === 'ring_of_aquila' || self.selectedItemBuff() === 'ring_of_basilius') {\n                self.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    };\n    self.addItemDebuff = function (data, event) {\n        if (self.hasInventory() && self.selectedItemDebuff() != undefined) {\n            var new_item = {\n                item: self.selectedItemDebuff().split('|')[0],\n                state: ko.observable(0),\n                size: 1,\n                enabled: ko.observable(true)\n            }\n            if (self.selectedItemDebuff().split('|').length == 2) {\n                new_item.debuff = self.selectedItemDebuff().split('|')[1]\n            }\n            self.items.push(new_item);\n            if (self.selectedItemDebuff() === 'ring_of_aquila' || self.selectedItemDebuff() === 'ring_of_basilius') {\n                self.toggleItem(undefined, new_item, undefined);\n            }\n        }\n    };\n    /*self.toggleItem = function (index, data, event) {\n        if (my.prototype.itemsWithActive.indexOf(data.item) >= 0) {\n            if (self.activeItems.indexOf(data) < 0) {\n                self.activeItems.push(data);\n            }\n            else {\n                self.activeItems.remove(data);\n            }\n            switch (data.item) {\n                case 'power_treads':\n                    if (data.state() < 2) {\n                        data.state(data.state() + 1);\n                    }\n                    else {\n                        data.state(0);\n                    }                \n                break;\n                default:\n                    if (data.state() == 0) {\n                        data.state(1);\n                    }\n                    else {\n                        data.state(0);\n                    }                \n                break;\n            }\n        }\n    }.bind(this);\n    self.removeItem = function (item) {\n        self.activeItems.remove(item);\n        self.items.remove(item);\n    }.bind(this);\n    self.toggleMuteItem = function (item) {\n        item.enabled(!item.enabled());\n    }.bind(this);\n    self.getItemImage = function (data) {\n        switch (data.item) {\n            case 'power_treads':\n                if (data.state() == 0) {\n                    return '/media/images/items/' + data.item + '_str.png';\n                }\n                else if (data.state() == 1) {\n                    return '/media/images/items/' + data.item + '_int.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '_agi.png';\n                }\n            break;\n            case 'tranquil_boots':\n            case 'ring_of_basilius':\n                if (data.state() == 0) {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '_active.png';\n                }\n            break;\n            case 'armlet':\n                if (data.state() == 0) {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '_active.png';\n                }\n            break;\n            case 'ring_of_aquila':\n                if (data.state() == 0) {\n                    return '/media/images/items/' + data.item + '_active.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n            break;\n            case 'dagon':\n            case 'diffusal_blade':\n            case 'necronomicon':\n                if (data.size > 1) {\n                    return '/media/images/items/' + data.item + '_' + data.size + '.png';\n                }\n                else {\n                    return '/media/images/items/' + data.item + '.png';\n                }\n            break;\n            default:\n                return '/media/images/items/' + data.item + '.png';            \n            break;\n        }\n    };\n    self.getItemSizeLabel = function (data) {\n        if (my.prototype.stackableItems.indexOf(data.item) != -1) {\n            return '<span style=\"font-size:10px\">Qty: </span>' + data.size;\n        }\n        else if (my.prototype.levelitems.indexOf(data.item) != -1) {\n            return '<span style=\"font-size:10px\">Lvl: </span>' + data.size;\n        }\n        else if (data.item == 'bloodstone') {\n            return '<span style=\"font-size:10px\">Charges: </span>' + data.size;\n        }\n        else {\n            return '';\n        }\n    };\n    self.getActiveBorder = function (data) {\n        switch (data.item) {\n            case 'power_treads':\n            case 'tranquil_boots':\n            case 'ring_of_basilius':\n            case 'ring_of_aquila':\n            case 'armlet':\n                return 0;\n            break;\n            default:\n                return ko.utils.unwrapObservable(data.state);    \n            break;\n        }\n        \n    }*/\n\n    self.getItemAttributeValue = function (attributes, attributeName, level) {\n        for (var i = 0; i < attributes.length; i++) {\n            if (attributes[i].name == attributeName) {\n                if (level == 0) {\n                    return parseFloat(attributes[i].value[0]);\n                }\n                else if (level > attributes[i].value.length) {\n                    return parseFloat(attributes[i].value[0]);\n                }\n                else {\n                    return parseFloat(attributes[i].value[level - 1]);\n                }\n            }\n        }\n    }\n    \n    self.getAttributes = function (attributetype) {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            var size = self.items()[i].size;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_all_stats':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'bonus_stats':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                }\n                switch(attributetype) {\n                    case 'agi':\n                        if (attribute.name == 'bonus_agility') {\n                            if (item == 'diffusal_blade') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        if (attribute.name == 'bonus_stat' && self.items()[i].state() == 2) {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_agi') {totalAttribute += parseInt(attribute.value[0]);};\n                    break;\n                    case 'int':\n                        if (attribute.name == 'bonus_intellect') {\n                            if (item == 'necronomicon') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else if (item == 'diffusal_blade') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else if (item == 'dagon') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        if (attribute.name == 'bonus_intelligence') {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_int') {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_stat' && self.items()[i].state() == 1) {totalAttribute += parseInt(attribute.value[0]);};\n                    break;\n                    case 'str':\n                        if (attribute.name == 'bonus_strength') {\n                            if (item == 'necronomicon') {\n                                totalAttribute += parseInt(attribute.value[size-1]);\n                            }\n                            else {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        if (attribute.name == 'bonus_stat' && self.items()[i].state() == 0) {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'bonus_str') {totalAttribute += parseInt(attribute.value[0]);};\n                        if (attribute.name == 'unholy_bonus_strength' && isActive) {totalAttribute += parseInt(attribute.value[0]);};\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getBash = function (attacktype) {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bash_chance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                    case 'bash_chance_melee':\n                        if (attacktype == 'DOTA_UNIT_CAP_MELEE_ATTACK') { totalAttribute *= (1 - parseInt(attribute.value[0]) / 100); };\n                    break;\n                    case 'bash_chance_ranged':\n                        if (attacktype == 'DOTA_UNIT_CAP_RANGED_ATTACK') { totalAttribute *= (1 - parseInt(attribute.value[0]) / 100); };\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getCritChance = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'crit_chance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getCritSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'lesser_crit':\n                case 'greater_crit':\n                case 'bloodthorn':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'chance': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'crit_chance', 0) / 100,\n                            'multiplier': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'crit_multiplier', 0) / 100,\n                            'count': 1,\n                            'displayname': my.prototype.itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n            if (item === 'bloodthorn' && isActive) {\n                if (sources['soul_rend'] == undefined) {\n                    sources['soul_rend'] = {\n                        'chance': 1,\n                        'multiplier': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'target_crit_multiplier', 0) / 100,\n                        'count': 1,\n                        'displayname': 'Soul Rend'\n                    }\n                }\n                else {\n                    sources['soul_rend'].count += 1;\n                }\n            }\n        }\n        return sources;\n    };\n\n    self.getCleaveSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'bfury':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'radius': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'cleave_radius', 0),\n                            'magnitude': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'cleave_damage_percent', 0) / 100,\n                            'count': 1,\n                            'displayname': my.prototype.itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n    \n    self.getBashSource = function (attacktype) {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'javelin':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'damage': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bonus_chance_damage', 1),\n                            'damageType': 'magic',\n                            'count': 1,\n                            'chance': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bonus_chance', 1) / 100,\n                            'displayname': my.prototype.itemData['item_' + item].displayname + ' Pierce'\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n                case 'monkey_king_bar':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'item': item,\n                            'chance': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bash_chance', 0) / 100,\n                            'damage': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bash_damage', 0),\n                            'duration': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bash_stun', 0),\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': 'Mini-Bash' //my.prototype.itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n                case 'abyssal_blade':\n                case 'basher':\n                    if (!sources.hasOwnProperty('bash')) {\n                        sources['bash'] = {\n                            'item': item,\n                            'chance': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, (attacktype == 'DOTA_UNIT_CAP_MELEE_ATTACK') ?'bash_chance_melee' : 'bash_chance_ranged', 0) / 100,\n                            'damage': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bonus_chance_damage', 0),\n                            'duration': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'bash_duration', 0),\n                            'count': 1,\n                            'damageType': 'physical',\n                            'displayname': 'Bash' //my.prototype.itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        //sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n    \n    self.getOrbProcSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'maelstrom':\n                case 'mjollnir':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'chance': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'chain_chance', 0) / 100,\n                            'damage': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'chain_damage', 0),\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': my.prototype.itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n\n    self.getOrbSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            switch (item) {\n                case 'diffusal_blade':\n                    if (sources[item] == undefined) {\n                        sources[item] = {\n                            'chance': 1,\n                            'damage': self.getItemAttributeValue(my.prototype.itemData['item_' + item].attributes, 'feedback_mana_burn', self.items()[i].size),\n                            'count': 1,\n                            'damageType': 'physical',\n                            'displayname': my.prototype.itemData['item_' + item].displayname\n                        }\n                    }\n                    else {\n                        sources[item].count += 1;\n                    }\n                break;\n            }\n\n        }\n        return sources;\n    };\n    \n    self.getHealth = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_health':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getHealthRegen = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'health_regen':\n                    case 'bonus_regen':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'bonus_health_regen':\n                        if (item == 'tranquil_boots' && !isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                        else if (item != 'tranquil_boots') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'hp_regen':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'health_regen_rate':\n                        if (item == 'heart' && isActive) {\n                            totalAttribute += (parseInt(attribute.value[0]) / 100) * self.hero.health();\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getHealthRegenAura = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(item + attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'aura_health_regen':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(item + attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    \n    self.getMana = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_mana':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getManaRegen = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'aura_mana_regen':\n                    case 'mana_regen_aura':\n                        totalAttribute += parseFloat(attribute.value[0]);\n                    break;\n                    case 'mana_regen':\n                        if (item == 'infused_raindrop') totalAttribute += parseFloat(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;    \n    };\n    self.getManaRegenPercent = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_mana_regen':\n                    case 'mana_regen':\n                    case 'bonus_mana_regen_pct':\n                        if (item != 'infused_raindrop') totalAttribute += parseFloat(attribute.value[0]);\n                    break;\n                }\n            }\n        }\n        return totalAttribute / 100;    \n    };\n    self.getManaRegenBloodstone = function () {\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            if (!self.items()[i].enabled()) continue;\n            if (item.indexOf('bloodstone') != -1) {\n                return parseInt(self.items()[i].size);\n            }\n        }\n        return 0;\n    };\n    \n    self.getArmor = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_armor':\n                        if (!isActive || item != 'medallion_of_courage') { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                    case 'unholy_bonus_armor':\n                        if (isActive && item == 'armlet') { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    \n    self.getArmorAura = function (aList) {\n        var totalAttribute = 0,\n            attributeList = aList || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0;j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (attributeList.find(function (a) { return attribute.name == a.name; })) continue;\n                switch(attribute.name) {\n                    // buckler\n                    case 'bonus_aoe_armor':\n                        if (isActive) {\n                            attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                        }\n                    break;\n                    // assault\n                    case 'aura_positive_armor':\n                        attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                    break;\n                    // ring_of_aquila,ring_of_basilius\n                    case 'aura_bonus_armor':\n                        if (isActive) {\n                            attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                        }\n                    break;\n                    // vladmir\n                    case 'armor_aura':\n                        attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                    break;\n                    // mekansm\n                    case 'heal_bonus_armor':\n                        if (isActive) {\n                            attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                        }\n                    break;\n                }\n            }\n        }\n        // remove buckler if there is a mekansm\n        if (attributeList.find(function (attribute) { return attribute.name == 'heal_bonus_armor'; })) {\n            attributeList = attributeList.filter(function (attribute) {\n                return attribute.name !== 'bonus_aoe_armor';\n            });\n        }\n        // remove ring_of_aquila,ring_of_basilius if there is a vladmir\n        if (attributeList.find(function (attribute) { return attribute.name == 'armor_aura'; })) {\n            attributeList = attributeList.filter(function (attribute) {\n                return attribute.name !== 'aura_bonus_armor';\n            });\n        }\n        \n        totalAttribute = attributeList.reduce(function (memo, attribute) {\n            return memo += attribute.value;\n        }, 0);\n        return {value: totalAttribute, attributes: attributeList};\n    };\n    self.getArmorReduction = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1 || excludeList.indexOf(item + '_' + attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'armor_reduction':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(item + '_' + attribute.name);\n                    break;\n                    case 'aura_negative_armor':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                    case 'corruption_armor':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getEvasion = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_evasion':\n                        if (item != 'butterfly' || !isActive) totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getMovementSpeedFlat = function () {\n        var totalAttribute = 0,\n        hasBoots = false,\n        hasEuls = false,\n        hasWindLace = false,\n        bootItems = ['boots','phase_boots','arcane_boots','travel_boots','power_treads','tranquil_boots','guardian_greaves'];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_movement_speed':\n                        if (!hasBoots && bootItems.indexOf(item) >= 0) {\n                            if (item != 'tranquil_boots' || (item == 'tranquil_boots' && !isActive)) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                                hasBoots = true;\n                            }\n                        }\n                        //else if (!hasEuls && item == 'cyclone') {\n                        else if (item == 'cyclone') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasEuls = true;\n                        }\n                    break;\n                    case 'broken_movement_speed':\n                        if (!hasBoots && bootItems.indexOf(item) >= 0) {\n                            if (item == 'tranquil_boots' && isActive) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                                hasBoots = true;\n                            }\n                        }\n                    break;\n                    case 'bonus_movement':\n                        if (!hasBoots && bootItems.indexOf(item) >= 0) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasBoots = true;\n                        }\n                    break;\n                    case 'movement_speed':\n                        if (!hasWindLace && item == 'wind_lace') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasWindLace = true;\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getMovementSpeedPercent = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [],\n            hasYasha = false,\n            hasDrums = false,\n            hasDrumsActive = false,\n            hasPhaseActive = false,\n            hasShadowBladeActive = false,\n            hasButterflyActive = false,\n            hasMoMActive = false,\n            yashaItems = ['manta','yasha','sange_and_yasha'];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'movement_speed_percent_bonus':\n                        if (!hasYasha && yashaItems.indexOf(item) >= 0) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasYasha = true;\n                        }\n                    break;\n                    case 'bonus_aura_movement_speed_pct':\n                        if (!hasDrums && item == 'ancient_janggo') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasDrums = true;\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'phase_movement_speed':\n                        if (isActive && !hasPhaseActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasPhaseActive = true;\n                        }\n                    break;\n                    case 'bonus_movement_speed_pct':\n                        if (isActive && !hasDrumsActive && item == 'ancient_janggo') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasDrumsActive = true;\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'windwalk_movement_speed':\n                        if (isActive && !hasShadowBladeActive && (item == 'invis_sword' || item == 'silver_edge')) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasShadowBladeActive = true;\n                        }\n                    break;\n                    case 'berserk_bonus_movement_speed':\n                        if (isActive && !hasMoMActive && item == 'mask_of_madness') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasMoMActive = true;\n                        }\n                    break;\n                    case 'bonus_movement_speed': //manta\n                        if (!hasYasha && item == 'manta') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasYasha = true;\n                        }\n                        else if (item == 'smoke_of_deceit' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'bonus_move_speed':\n                        if (isActive && !hasButterflyActive && item == 'butterfly') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            hasButterflyActive = true;\n                        }\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute/100, excludeList: excludeList};\n    };\n    \n    self.getMovementSpeedPercentReduction = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'movespeed':\n                        if (item == 'dust' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    case 'blast_movement_speed':\n                        if (item == 'shivas_guard' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    case 'cold_movement_speed':\n                        if (item == 'skadi') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'maim_movement_speed':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'maim') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute/100, excludeList: excludeList};\n    };\n    \n    self.getBonusDamage = function () {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_damage':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        if (sources[item] == undefined) {\n                            sources[item] = {\n                                'damage': parseInt(attribute.value[0]),\n                                'damageType': 'physical',\n                                'count':1,\n                                'displayname': my.prototype.itemData['item_' + item].displayname\n                            }                            \n                        }\n                        else {\n                            sources[item].count += 1;\n                        }\n                    break;\n                    case 'unholy_bonus_damage':\n                        if (isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            if (sources[item + '_active'] == undefined) {\n                                sources[item + '_active'] = {\n                                    'damage': parseInt(attribute.value[0]),\n                                    'damageType': 'physical',\n                                    'count':1,\n                                    'displayname': my.prototype.itemData['item_' + item].displayname + ' Unholy Strength'\n                                }                            \n                            }\n                            else {\n                                sources[item].count += 1;\n                            }\n                        }\n                    break;\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    };\n    self.getBonusDamagePercent = function (s) {\n        s = s || {sources:{},total:0};\n        var totalAttribute = s.total || 0;\n        var sources = s.sources || {};\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'damage_aura':\n                        if (sources[item] == undefined) {\n                            totalAttribute += parseInt(attribute.value[0]) / 100;\n                            sources[item] = {\n                                'damage': parseInt(attribute.value[0]) / 100,\n                                'damageType': 'physical',\n                                'count':1,\n                                'displayname': my.prototype.itemData['item_' + item].displayname\n                            }\n                        }\n                        // else {\n                            // sources[item].count += 1;\n                        // }\n                    break;\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    };\n    self.getAttackSpeed = function (e) {\n        var totalAttribute = 0,\n            hasPowerTreads = false,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'bonus_attack_speed':\n                        if (item == 'power_treads') {\n                            if (!hasPowerTreads) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                                hasPowerTreads = true;\n                            }\n                        }\n                        else if (item == 'moon_shard') {\n                            if (!isActive) {\n                                totalAttribute += parseInt(attribute.value[0]);\n                            }\n                        }\n                        else {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'consumed_bonus':\n                        if (item == 'moon_shard' && isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                    break;\n                    case 'bonus_speed':\n                        totalAttribute += parseInt(attribute.value[0]);\n                    break;\n                    case 'aura_attack_speed':\n                        if (item != 'shivas_guard') { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                    // ancient_janggo\n                    case 'bonus_aura_attack_speed_pct':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                    // ancient_janggo\n                    case 'bonus_attack_speed_pct':\n                        if (isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'unholy_bonus_attack_speed':\n                        if (isActive) { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                    case 'berserk_bonus_attack_speed':\n                        if (isActive) { totalAttribute += parseInt(attribute.value[0]); };\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getAttackSpeedReduction = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'aura_attack_speed':\n                        if (item == 'shivas_guard') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'cold_attack_speed':\n                        if (item == 'skadi') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                    case 'maim_attack_speed':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'maim') {\n                            totalAttribute += parseInt(attribute.value[0]);\n                            excludeList.push(attribute.name);\n                        }\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getLifesteal = function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'lifesteal_percent':\n                        if (item == 'satanic') {\n                            if (!isActive) { return parseInt(attribute.value[0]); };\n                        }\n                        else {\n                            return parseInt(attribute.value[0]);\n                        }\n                    break;\n                    case 'unholy_lifesteal_percent':\n                        if (isActive) { return parseInt(attribute.value[0]); };\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getLifestealAura = function (e) {\n        var totalAttribute = 0,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'vampiric_aura':\n                        totalAttribute += parseInt(attribute.value[0]);\n                        excludeList.push(attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    self.getMagicResist = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_magical_armor':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                    case 'bonus_spell_resist':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                    case 'magic_resistance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };\n    self.getMagicResistReductionSelf = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            if (isActive) {\n                for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                    var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                    switch(attribute.name) {\n                        case 'extra_spell_damage_percent':\n                        case 'ethereal_damage_bonus':\n                            return (1 - parseInt(attribute.value[0]) / 100);\n                        break;\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    };   \n    self.getMagicResistReduction = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            if (isActive) {\n                for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                    var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                    switch(attribute.name) {\n                        case 'ethereal_damage_bonus':\n                            if (!self.isEthereal()) totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        case 'resist_debuff':\n                            totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        break;\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    };        \n\n    self.getVisionRangeNight = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'bonus_night_vision':\n                        if (item != 'moon_shard' || !isActive) {\n                            totalAttribute += parseInt(attribute.value[0]);\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAttackRange = function (attacktype, aList) {\n        var totalAttribute = 0,\n            attributeList = aList || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0;j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (attributeList.find(function (a) { return attribute.name == a.name; })) continue;\n                switch(attribute.name) {\n                    // dragon_lance\n                    case 'base_attack_range':\n                        if (attacktype == 'DOTA_UNIT_CAP_RANGED_ATTACK') attributeList.push({'name':attribute.name, 'value': parseInt(attribute.value[0])});\n                    break;\n                }\n            }\n        }\n        \n        totalAttribute = attributeList.reduce(function (memo, attribute) {\n            return memo += attribute.value;\n        }, 0);\n        return {value: totalAttribute, attributes: attributeList};\n    };\n    \n    self.getMissChance = function (e) {\n        var totalAttribute = 1,\n            excludeList = e || [];\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                if (excludeList.indexOf(attribute.name) > -1) continue;\n                switch(attribute.name) {\n                    case 'miss_chance':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        excludeList.push(attribute.name);\n                    break;\n                    case 'blind_pct':\n                        totalAttribute *= (1 - parseInt(attribute.value[0]) / 100);\n                        excludeList.push(attribute.name);\n                    break;\n                }\n            }\n        }\n        return {value: totalAttribute, excludeList: excludeList};\n    };\n    \n    self.getBaseDamageReductionPct = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'backstab_reduction':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'shadow_walk') {\n                            totalAttribute *= (1 + parseInt(attribute.value[0]) / 100);\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };    \n    self.getBonusDamageReductionPct = function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.items().length; i++) {\n            var item = self.items()[i].item;\n            var isActive = self.activeItems.indexOf(self.items()[i]) >= 0 ? true : false;\n            if (!self.items()[i].enabled()) continue;\n            for (var j = 0; j < my.prototype.itemData['item_' + item].attributes.length; j++) {\n                var attribute = my.prototype.itemData['item_' + item].attributes[j];\n                switch(attribute.name) {\n                    case 'backstab_reduction':\n                        if (self.items()[i].debuff && self.items()[i].debuff == 'shadow_walk') {\n                            totalAttribute *= (1 + parseInt(attribute.value[0]) / 100);\n                        }\n                    break;\n                }\n            }\n        }\n        return totalAttribute;\n    };    \n    \n    self.itemOptions = ko.observableArray([]);\n    var itemOptionsArr = [];\n    for (var i = 0; i < my.prototype.validItems.length; i++) {\n        itemOptionsArr.push(new my.prototype.ItemInput(my.prototype.validItems[i], my.prototype.itemData['item_' + my.prototype.validItems[i]].displayname));\n    }\n    self.itemOptions.push.apply(self.itemOptions, itemOptionsArr);\n    /*for (i in my.prototype.itemData) {\n        self.itemOptions.push(new my.prototype.ItemInput(i.replace('item_',''),my.prototype.itemData[i].displayname));\n    }*/\n    \n    var itemBuffs = ['assault', 'ancient_janggo', 'headdress', 'mekansm', 'pipe', 'ring_of_aquila', 'vladmir', 'ring_of_basilius', 'buckler', 'solar_crest'];\n    self.itemBuffOptions = ko.observableArray(itemBuffs.map(function(item) { return new my.prototype.ItemInput(item, my.prototype.itemData['item_' + item].displayname); }));\n    self.selectedItemBuff = ko.observable('assault');\n\n    var itemDebuffs = [\n        {item: 'assault', debuff: null},\n        {item: 'shivas_guard', debuff: null},\n        {item: 'desolator', debuff: null},\n        {item: 'medallion_of_courage', debuff: null},\n        {item: 'radiance', debuff: null},\n        {item: 'sheepstick', debuff: null},\n        {item: 'veil_of_discord', debuff: null},\n        {item: 'solar_crest', debuff: null},\n        {item: 'silver_edge', debuff: {id: 'shadow_walk', name: 'Shadow Walk'}},\n        {item: 'silver_edge', debuff: {id: 'maim', name: 'Lesser Maim'}}\n    ]\n    self.itemDebuffOptions = ko.observableArray(itemDebuffs.map(function(item) {\n        return new my.prototype.ItemInput(item.item, my.prototype.itemData['item_' + item.item].displayname, item.debuff);\n    }));\n    self.selectedItemDebuff = ko.observable('assault');\n    \n    return self;\n};","'use strict';\n    \nvar my = require(\"./herocalc_core\");\n\nmy.prototype.abilityData = {\n    'alchemist_acid_spray': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'armor_reduction',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'armorReduction'\n        }\n    ],\n    'alchemist_unstable_concoction': [\n        {\n            label: 'Brew Time',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'max_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/5;\n            }\n        },\n        {\n            attributeName: 'max_stun',\n            label: 'Total Stun',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/5;\n            }\n        }\n    ],\n    'ancient_apparition_cold_feet': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'stun_duration',\n            label: 'Total Stun',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        }\n    ],\n    'ancient_apparition_ice_blast': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'dot_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')+v*a;\n            }\n        }\n    ],\n    'antimage_mana_void': [\n        {\n            label: 'Enemy Missing Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_void_damage_per_mana',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'axe_battle_hunger': [\n        {\n            label: 'Battle Hungered Enemies',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'speed_bonus',\n            label: 'Movement Speed Bonus',\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'slow',\n            label: 'Movement Speed Bonus',\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'bane_nightmare': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'bane_fiends_grip': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'fiend_grip_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    return v[0]*abilityModel.getAbilityAttributeValue(ability.attributes(), 'fiend_grip_damage_scepter',ability.level());\n                }\n                else {\n                    return v[0]*a;\n                }\n            }\n        },\n        {\n            attributeName: 'fiend_grip_mana_drain',\n            label: 'Total Mana Drain',\n            controlType: 'text',\n            controls: [0,1],\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    return v[0]*v[1]*abilityModel.getAbilityAttributeValue(ability.attributes(), 'fiend_grip_mana_drain_scepter',ability.level())/100;\n                }\n                else {\n                    return v[0]*v[1]*a/100;\n                }\n            }\n        }\n    ],\n    'batrider_sticky_napalm': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Bonus Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        },\n        {\n            attributeName: 'movement_speed_pct',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'turn_rate_pct',\n            label: 'Enemy Turn Rate Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'turnRateReduction'\n        }\n    ],\n    'batrider_firefly': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'bloodseeker_rupture': [\n        {\n            label: 'Enemy Distance Traveled',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'movement_damage_pct',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage') + v*a/100;\n            }\n        }\n    ],\n    'bristleback_viscous_nasal_goo': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'armor_per_stack',\n            label: 'Enemy Armor Reduction',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'armorReduction'\n        },\n        {\n            attributeName: 'move_slow_per_stack',\n            label: '%SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -(abilityModel.getAbilityAttributeValue(ability.attributes(), 'base_move_slow',0)+v*a);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'bristleback_quill_spray': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'quill_stack_damage',\n            label: 'DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var total = abilityModel.getAbilityAttributeValue(ability.attributes(), 'quill_base_damage',ability.level())+v*a,\n                damage_cap = abilityModel.getAbilityAttributeValue(ability.attributes(), 'max_damage',0);\n                if (total > damage_cap) {\n                    total = damage_cap;\n                }\n                return total;\n            }\n        }\n    ],\n    'bristleback_bristleback': [\n        {\n            label: 'Damage From',\n            controlType: 'radio',\n            controlValueType: 'string',\n            controlOptions: [\n                {text: 'Back', value: 'back'},\n                {text: 'Side', value: 'side'}\n            ]\n        },\n        {\n            attributeName: 'back_damage_reduction',\n            label: '%DAMAGE REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var ability = abilityModel.abilities().find(function(b) {\n                    return b.name() == 'bristleback_bristleback';\n                });\n                if (v == 'back') {\n                    var total = abilityModel.getAbilityAttributeValue(ability.attributes(), 'back_damage_reduction', ability.level());\n                }\n                else {\n                    var total = abilityModel.getAbilityAttributeValue(ability.attributes(), 'side_damage_reduction', ability.level());\n                }\n                return -total;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'bristleback_warpath': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_stack',\n            label: 'BONUS DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v < 1) {\n                    return 0;\n                }\n                else {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes(), 'base_damage',ability.level())+(v-1)*a;\n                }\n            }\n        },\n        {\n            attributeName: 'move_speed_per_stack',\n            label: '%MOVEMENT:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v < 1) {\n                    return 0;\n                }\n                else {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes(), 'base_move_speed',ability.level())+(v-1)*a;\n                }\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'centaur_return': [\n        {\n            label: 'Strength',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'strength_pct',\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'return_damage',ability.level()) + v*a/100;\n            }\n        }\n    ],\n    'centaur_stampede': [\n        {\n            label: 'Strength',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'strength_damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'clinkz_death_pact': [\n        {\n            label: 'Consumed Unit HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_gain_pct',\n            label: 'BASE DAMAGE GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'baseDamage'\n        },\n        {\n            attributeName: 'health_gain_pct',\n            label: 'HEALTH GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusHealth'\n        }\n    ],\n    'crystal_maiden_frostbite': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'dark_seer_ion_shell': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'dazzle_shadow_wave': [\n        {\n            label: 'Targets',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'dazzle_weave': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'armor_per_second',\n            label: 'ARMOR',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'armor'\n        },\n        {\n            attributeName: 'armor_per_second',\n            label: 'ARMOR REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'armorReduction'\n        }\n    ],\n    'death_prophet_exorcism': [\n        {\n            label: 'Damage Dealt',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal_percent',\n            label: 'Total Armor',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        }\n    ],\n    'disruptor_static_storm': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damagevalue = 0.25 * (130 + 40 * ability.level()) * (1/20),\n                mult = (v*4)*((v*4)+1)/2;\n                return damagevalue * mult;\n            }\n        }\n    ],\n    'doom_bringer_scorched_earth': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'HP REGEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'healthregen'\n        }\n    ],\n    'doom_bringer_doom': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    return v*abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_scepter',ability.level());\n                }\n                else {\n                    return v*a;\n                }\n            }\n        }\n    ],\n    'dragon_knight_elder_dragon_form': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_attack_range',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackrange'\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedFlat'\n        }\n    ],\n    'drow_ranger_trueshot': [\n        {\n            label: 'Drow\\'s Agility',\n            controlType: 'input',\n            display: 'buff'\n        },\n        {\n            attributeName: 'trueshot_ranged_damage',\n            label: 'DAMAGE BONUS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            display: 'buff',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusDamagePrecisionAura'\n        }\n    ],\n    'earth_spirit_rolling_boulder': [\n        {\n            label: 'Using Stone',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'move_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return -a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'earthshaker_enchant_totem': [\n        {\n            label: 'Activated',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'totem_damage_percentage',\n            label: 'DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'baseDamageMultiplier'\n        }\n    ],\n    'earthshaker_echo_slam': [\n        {\n            label: 'Enemies in Range',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'echo_slam_echo_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'elder_titan_ancestral_spirit': [\n        {\n            label: 'HEROES PASSED THROUGH',\n            controlType: 'input'\n        },\n        {\n            label: 'CREEPS PASSED THROUGH',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_creeps',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_heroes',ability.level()) + v[1]*a;\n            },\n            returnProperty: 'bonusDamage'\n        },\n        {\n            attributeName: 'move_pct_creeps',\n            label: '%BONUS SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*abilityModel.getAbilityAttributeValue(ability.attributes(), 'move_pct_heroes',ability.level()) + v[1]*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'elder_titan_earth_splitter': [\n        {\n            label: 'Enemy Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        },\n        {\n            attributeName: 'slow_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'enchantress_natures_attendants': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal',\n            label: 'HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'wisp_count',ability.level())*v*a;\n            }\n        }\n    ],\n    'enigma_malefice': [\n        {\n            label: 'Hits',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'stun_duration',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'enigma_midnight_pulse': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_percent',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        }\n    ],\n    'enigma_black_hole': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'far_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'near_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'faceless_void_time_lock': [\n        {\n            label: 'In Chronosphere',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: '%MOVESPEED AS DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a*2;\n                }\n                else {\n                    return a;\n                }\n            },\n            returnProperty: 'bashBonusDamage'\n        },\n        {\n            attributeName: 'duration',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        },\n        {\n            attributeName: 'chance_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bash'\n        }\n    ],\n    'gyrocopter_rocket_barrage': [\n        {\n            label: 'Rockets',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'rockets_per_second',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n/*        'gyrocopter_homing_missile': [\n        {\n            label: 'Distance Traveled',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'gyrocopter_flak_cannon': [\n        {\n            label: 'Attacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],*/\n    'huskar_burning_spear': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_cost',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'huskar_berserkers_blood': [\n        {\n            label: '%HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hp_threshold_max',\n            label: 'Health at given %HP:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return parent.health()*v/100;\n            }\n        },\n        {\n            attributeName: 'hp_threshold_max',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            }\n        },\n        {\n            attributeName: 'maximum_resistance',\n            label: 'MAGIC RESISTANCE BONUS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var v = Math.min(v, 100);\n                v = Math.max(v, 10);\n                var hp_threshold_max = abilityModel.getAbilityAttributeValue(ability.attributes(), 'hp_threshold_max',0);\n                var d = 100 - hp_threshold_max;\n                var c = (v - hp_threshold_max) / d;\n                c = 1 - c;\n                return c*a;\n            },\n            returnProperty: 'magicResist'\n        },\n        {\n            attributeName: 'maximum_attack_speed',\n            label: 'ATTACK SPEED BONUS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var v = Math.min(v, 100);\n                v = Math.max(v, 10);\n                var hp_threshold_max = abilityModel.getAbilityAttributeValue(ability.attributes(), 'hp_threshold_max',0);\n                var d = 100 - hp_threshold_max;\n                var c = (v - hp_threshold_max) / d;\n                c = 1 - c;\n                return c*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'huskar_life_break': [\n        {\n            label: 'Enemy Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            label: 'Huskar Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_cost_percent',\n            label: 'DAMAGE TAKEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'movespeed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'invoker_quas': [\n        {\n            label: 'Instances',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_strength',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'health_regen_per_instance',\n            label: 'HP REGEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'healthregen'\n        }\n    ],\n    'invoker_wex': [\n        {\n            label: 'Instances',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_agility',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'move_speed_per_instance',\n            label: '%MOVE SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'attack_speed_per_instance',\n            label: '%ATTACK SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'invoker_exort': [\n        {\n            label: 'Instances',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_intelligence',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusInt'\n        },\n        {\n            attributeName: 'bonus_damage_per_instance',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'invoker_ghost_walk': [\n        {\n            label: 'Quas Level',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'enemy_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'enemy_slow',v);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            label: 'Wex Level',\n            controlType: 'input',\n            display: 'ability'\n        },\n        {\n            attributeName: 'self_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            display: 'ability',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'self_slow',v);\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'invoker_alacrity': [\n        {\n            label: 'Wex Level',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'bonus_attack_speed',v);\n            },\n            returnProperty: 'attackspeed'\n        },\n        {\n            label: 'Exort Level',\n            controlType: 'input',\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'bonus_damage',v);\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'invoker_ice_wall': [\n        {\n            label: 'Quas Level',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'slow',v);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            label: 'Exort Level',\n            controlType: 'input',\n            display: 'ability'\n        },\n        {\n            label: 'Duration',\n            controlType: 'input',\n            display: 'ability'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            display: 'ability',\n            controls: [1,2],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v[0] == 0) {\n                    return 0;\n                }\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_per_second',v[0])*v[1];\n            }\n        }\n    ],\n    'jakiro_dual_breath': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*2 + \n                abilityModel.getAbilityAttributeValue(ability.attributes(), 'burn_damage',ability.level())*v;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'slow_attack_speed_pct',\n            label: '%ATTACK SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'jakiro_liquid_fire': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_attack_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'jakiro_macropyre': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'juggernaut_blade_fury': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'juggernaut_healing_ward': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'healing_ward_heal_amount',\n            label: 'HEAL OVER TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        }\n    ],\n    'juggernaut_omni_slash': [\n        {\n            label: 'Jumps',\n            controlType: 'input'\n        },\n        {\n            label: 'MIN DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'omni_slash_damage',1)*v;\n            }\n        },\n        {\n            label: 'MAX DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'omni_slash_damage',2)*v;\n            }\n        }\n    ],\n    'keeper_of_the_light_illuminate': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'keeper_of_the_light_mana_leak': [\n        {\n            label: 'Distance Moved',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_leak_pct',\n            label: 'MANA LEAKED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]/100*v[1]*a/100;\n            }\n        }\n    ],\n    'legion_commander_duel': [\n        {\n            label: 'Duel Wins',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'reward_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'leshrac_pulse_nova': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_cost_per_second',\n            label: 'MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'lich_chain_frost': [\n        {\n            label: 'Bounce Hits',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'slow_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'life_stealer_feast': [\n        {\n            label: 'Enemy Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hp_leech_percent',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'life_stealer_open_wounds': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal_percent',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'lifesteal'\n        },\n        {\n            attributeName: 'slow_steps',\n            label: '%SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'slow_steps',v+1);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'lina_fiery_soul': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'fiery_soul_move_speed_bonus',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'fiery_soul_attack_speed_bonus',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'lion_mana_drain': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_per_second',\n            label: 'MANA DRAINED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'luna_moon_glaive': [\n        {\n            label: 'Damage',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_reduction_percent',\n            label: 'BOUNCE DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var result = [];\n                for (var i = 1; i < 6; i++) {\n                    result.push((v*Math.pow(a/100,i)).toFixed(2))\n                }\n                return result.join('<br>');\n            }\n        }\n    ],\n    'luna_eclipse': [\n        {\n            label: 'Beam Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'beams',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var lucentBeamAbility = abilityModel.abilities().find(function(b) {\n                    return b.name() == 'luna_lucent_beam';\n                });\n                if (lucentBeamAbility.level() == 0) return 0;\n                var damage = abilityModel.getAbilityPropertyValue(lucentBeamAbility, 'damage');\n                return v*damage;\n            }\n        }\n    ],\n    'medusa_mystic_snake': [\n        {\n            label: 'Jump Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Damage Per Jump:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            display: 'none',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var snake_jumps = abilityModel.getAbilityAttributeValue(ability.attributes(), 'snake_jumps',ability.level());\n                var snake_scale = abilityModel.getAbilityAttributeValue(ability.attributes(), 'snake_scale',0);\n                var damage = [];\n                for (var i = 0; i < snake_jumps; i++) {\n                    damage.push(a + a * i * snake_scale/100);\n                }\n                return damage;\n            }\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Damage Per Jump:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[1].join(' / ');\n            }\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[1].slice(0, v[0]).reduce(function (memo, o) { return memo + o }, 0);\n            }\n        },\n        {\n            attributeName: 'snake_damage',\n            label: 'Max Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[1].reduce(function (memo, o) { return memo + o }, 0);\n            }\n        }\n    ],\n    'medusa_mana_shield': [\n        {\n            label: 'Damage',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_mana',\n            label: 'MANA USED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return (v/a).toFixed(2);\n            }\n        },\n        {\n            attributeName: 'absorption_tooltip',\n            label: '%DAMAGE REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'meepo_poof': [\n        {\n            label: 'Meepo Count',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'meepo_geostrike': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            attributeName: 'slow',\n            label: '%SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'slow',ability.level())*v;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'mirana_arrow': [\n        {\n            label: 'Arrow Travel Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'arrow_max_stun',\n            label: 'STUN DURATION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var arrow_min_stun = abilityModel.getAbilityAttributeValue(ability.attributes(), 'arrow_min_stun',0);\n                var arrow_max_stunrange = abilityModel.getAbilityAttributeValue(ability.attributes(), 'arrow_max_stunrange',0);\n                var scale = Math.min(v, arrow_max_stunrange) / arrow_max_stunrange;\n                return Math.max(arrow_min_stun, Math.floor(a * scale / 0.1) * 0.1);\n            }\n        },\n        {\n            attributeName: 'arrow_bonus_damage',\n            label: 'TOTAL DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var ability = ability;\n                var damage = ability.damage()[ability.level()-1];\n                var arrow_max_stunrange = abilityModel.getAbilityAttributeValue(ability.attributes(), 'arrow_max_stunrange',0);\n                var scale = Math.min(v, arrow_max_stunrange) / arrow_max_stunrange;\n                var bonus_damage = Math.floor(a * scale / 2.8) * 2.8;\n                return damage + ' + ' + bonus_damage + ' = ' + (damage + bonus_damage);\n            }\n        }\n    ],\n    'morphling_morph_agi': [\n        {\n            label: 'Shifts',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'AGI SHIFT GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'STR SHIFT LOSS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'bonus_attributes',\n            label: 'SHIFT TIME:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusAgility2'\n        },\n        {\n            attributeName: 'morph_cooldown',\n            label: 'SHIFT TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_cost',\n            label: 'SHIFT MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a*abilityModel.getAbilityAttributeValue(ability.attributes(), 'morph_cooldown',ability.level());\n            }\n        }\n    ],\n    'morphling_morph_str': [\n        {\n            label: 'Shifts',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'STR SHIFT GAIN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'points_per_tick',\n            label: 'AGI SHIFT LOSS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'bonus_attributes',\n            label: 'SHIFT TIME:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusStrength2'\n        },\n        {\n            attributeName: 'morph_cooldown',\n            label: 'SHIFT TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_cost',\n            label: 'SHIFT MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a*abilityModel.getAbilityAttributeValue(ability.attributes(), 'morph_cooldown',ability.level());\n            }\n        }\n    ],\n    'furion_wrath_of_nature': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'necrolyte_heartstopper_aura': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Enemy Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'aura_damage',\n            label: 'HEALTH LOST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        }\n    ],\n    'necrolyte_sadist': [\n        {\n            label: 'Unit Kills',\n            controlType: 'input'\n        },\n        {\n            label: 'Hero Kills',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_regen',\n            label: 'Total Damage',\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var hero_multiplier = abilityModel.getAbilityAttributeValue(ability.attributes(), 'hero_multiplier',0)\n                return (v[0]+v[1]*hero_multiplier)*a;\n            },\n            returnProperty: 'healthregen'\n        },\n        {\n            attributeName: 'mana_regen',\n            label: 'Total Damage',\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var hero_multiplier = abilityModel.getAbilityAttributeValue(ability.attributes(), 'hero_multiplier',0)\n                return (v[0]+v[1]*hero_multiplier)*a;\n            },\n            returnProperty: 'manaregen'\n        }\n    ],\n    'night_stalker_crippling_fear': [\n        {\n            label: 'Is Night',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'miss_rate_night',\n            label: '%CHANCE TO MISS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes(), 'miss_rate_night',ability.level());\n                }\n                else {\n                    return abilityModel.getAbilityAttributeValue(ability.attributes(), 'miss_rate_day',ability.level());\n                }\n            },\n            returnProperty: 'missChance'\n        }\n    ],    \n    'night_stalker_hunter_in_the_night': [\n        {\n            label: 'Is Night',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'bonus_attack_speed_night',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'attackspeed'\n        },\n        {\n            attributeName: 'bonus_movement_speed_pct_night',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],    \n    'obsidian_destroyer_arcane_orb': [\n        {\n            label: 'Current Mana',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_pool_damage_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            },\n            returnProperty: 'bonusDamageOrb'\n        }\n    ],\n    'ogre_magi_ignite': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'burn_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'pudge_rot': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            attributeName: 'rot_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'pudge_flesh_heap': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'flesh_heap_strength_buff_amount',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusStrength'\n        },\n        {\n            attributeName: 'flesh_heap_magic_resist',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'magicResist'\n        }\n    ],\n    'pudge_dismember': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'dismember_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'pugna_nether_ward': [\n        {\n            label: 'Enemy Mana Spent',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'mana_multiplier',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'mana_regen',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'manaregenreduction'\n        }\n    ],\n    'pugna_life_drain': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'health_drain',\n            label: 'HEALTH DRAINED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'queenofpain_shadow_strike': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'movement_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'strike_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var duration_damage = abilityModel.getAbilityAttributeValue(ability.attributes(), 'duration_damage',ability.level());\n                var ticks = Math.floor(v/3);\n                return a + duration_damage * ticks;\n            }\n        }\n    ],\n    'razor_plasma_field': [\n        {\n            label: 'Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'radius',\n            label: 'MIN DISTANCE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return 200;\n            }\n        },\n        {\n            attributeName: 'radius',\n            label: 'MAX DISTANCE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return 200 + a;\n            }\n        },\n        {\n            attributeName: 'radius',\n            label: 'Instance Damage',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var max_radius = a + 200;\n                var scale = (Math.min(Math.max(v, 200), max_radius) - 200) / (max_radius - 200);\n                var damage_min = abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_min',ability.level());\n                var damage_max = abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_max',ability.level());\n                return damage_min + (damage_max - damage_min) * scale;\n            }\n        }\n    ],\n    'razor_static_link': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'drain_length',\n            label: 'Damage Drained:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var tick_duration = Math.floor(v * 4) + 1;\n                var ticks = Math.min(a * 4 + 1, tick_duration);\n                var drain_rate = abilityModel.getAbilityAttributeValue(ability.attributes(), 'drain_rate',ability.level());\n                return ticks * drain_rate/4;\n            },\n            returnProperty: 'bonusDamage'\n        },\n        {\n            attributeName: 'drain_length',\n            label: 'Enemy Damage Lost:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            display: 'hidden',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var tick_duration = Math.floor(v * 4) + 1;\n                var ticks = Math.min(a * 4 + 1, tick_duration);\n                var drain_rate = abilityModel.getAbilityAttributeValue(ability.attributes(), 'drain_rate',ability.level());\n                return ticks * drain_rate/4;\n            },\n            returnProperty: 'bonusDamageReduction'\n        }\n    ],\n    'razor_eye_of_the_storm': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'rubick_fade_bolt': [\n        {\n            label: 'Jumps',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a * (1 - v*abilityModel.getAbilityAttributeValue(ability.attributes(), 'jump_damage_reduction_pct',ability.level())/100);\n            }\n        },\n        {\n            attributeName: 'hero_attack_damage_reduction',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'bonusDamageReduction'\n        }\n    ],\n    'sandking_sand_storm': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'sandking_epicenter': [\n        {\n            label: 'Pulses',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'epicenter_damage',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'epicenter_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'epicenter_slow_as',\n            label: '%ATTACK SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'shadow_demon_shadow_poison': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'stack_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var stackmult = [1,2,4,8];\n                if (v > 4) {\n                    return a * stackmult[3] + 50 * (v - 4);\n                }\n                else if (v <= 0) {\n                    return 0\n                }\n                else {\n                    return a * stackmult[v-1]\n                }\n            }\n        }\n    ],\n    'nevermore_necromastery': [\n        {\n            label: 'Souls',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'necromastery_damage_per_soul',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'nevermore_requiem': [\n        {\n            label: 'Line Hit Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'requiem_reduction_damage',\n            label: 'Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            label: 'Return Line Hit Count (Scepter)',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'requiem_damage_pct_scepter',\n            label: 'Damage/Heal:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v*a/100;\n            }\n        },\n        {\n            attributeName: 'requiem_damage_pct_scepter',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return damage*v[0] + damage*v[1]*a/100;\n            }\n        },\n        {\n            attributeName: 'requiem_reduction_damage',\n            label: '%DAMAGE REDUCTION:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'baseDamageReductionPct'\n        },\n        {\n            attributeName: 'requiem_reduction_ms',\n            label: '%DAMAGE REDUCTION:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'shadow_shaman_shackles': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'silencer_curse_of_the_silent': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return Math.floor(v)*a;\n            }\n        },\n        {\n            attributeName: 'movespeed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n/*        'silencer_glaives_of_wisdom': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],*/\n    'skywrath_mage_mystic_flare': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'slark_essence_shift': [\n        {\n            label: 'Attacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'agi_gain',\n            label: 'Total Damage',\n            controlType: 'text',\n            display: 'ability',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'bonusAgility'\n        },\n        {\n            attributeName: 'stat_loss',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'bonusAllStatsReduction'\n        }\n    ],\n    'slark_shadow_dance': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_regen_pct',\n            label: 'TOTAL HEALTH REGENERATED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*parent.health()*a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_regen_pct',\n            label: 'HEALTH GAINED PER SECOND:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return parent.health()*a/100;\n            },\n            returnProperty: 'healthregen'\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: '%MOVE SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPct'\n        }\n    ],\n    'sniper_shrapnel': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        },\n        {\n            attributeName: 'building_damage',\n            label: 'BUILDING DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'slow_movement_speed',\n            label: 'Enemy Movement Speed Slow',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'spectre_desolate': [\n        {\n            label: 'Enemy Alone',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'spectre_dispersion': [\n        {\n            label: 'Damage Taken',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_reflection_pct',\n            label: 'DAMAGE REFLECTED:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'damageReduction'\n        },\n        {\n            attributeName: 'damage_reflection_pct',\n            label: 'DAMAGE REFLECTED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        }\n    ],\n    'storm_spirit_ball_lightning': [\n        {\n            label: 'MAX MANA',\n            controlType: 'input'\n        },\n        {\n            label: 'Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_base',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0, 1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')/100*v[1];\n            }\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_base',\n            label: 'FLAT MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var distance_intervals = Math.floor(v[1]/100);\n                var travel_cost_base = abilityModel.getAbilityAttributeValue(ability.attributes(), 'ball_lightning_travel_cost_base',0);\n                return a + distance_intervals * travel_cost_base;\n            }\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_percentage',\n            label: '%MAX MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var distance_intervals = Math.floor(v[1]/100);\n                var travel_cost_percent = abilityModel.getAbilityAttributeValue(ability.attributes(), 'ball_lightning_travel_cost_percent',0);\n                return a + distance_intervals * travel_cost_percent;\n            }\n        },\n        {\n            attributeName: 'ball_lightning_initial_mana_base',\n            label: 'TOTAL MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0, 1, 2, 3],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[2] + ' + ' + (v[3]/100 * v[0]) + ' (' + v[3] + '% of max) = ' + (v[2] + v[3]/100 * v[0]);\n            }\n        }\n    ],\n    'templar_assassin_psionic_trap': [\n        {\n            label: 'Charge Time',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'movement_speed_min_tooltip',\n            label: '%MOVE SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var max_slow = abilityModel.getAbilityAttributeValue(ability.attributes(), 'movement_speed_max_tooltip',0);\n                var slow_per_tick = (max_slow - a)/40;\n                return -(a + slow_per_tick * Math.min(Math.max(0, v), 4) * 10);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'shredder_reactive_armor': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_armor',\n            label: 'Total Armor Bonus',\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'armor'\n        },\n        {\n            attributeName: 'bonus_hp_regen',\n            label: 'Total HP Regen Bonus',\n            controlType: 'text',\n            noLevel: true,\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'healthregen'\n        }\n    ],\n    'shredder_chakram': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_second',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_interval',0);\n                var ticks = Math.floor(v / interval);\n                return a*interval*ticks;\n            }\n        },\n        {\n            attributeName: 'mana_per_second',\n            label: 'MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes(), 'damage_interval',0);\n                var ticks = Math.floor(v / interval);\n                return a*interval*ticks;\n            }\n        },\n        {\n            label: 'ENEMY %HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'slow',\n            label: 'MANA COST:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var ticks = 20 - Math.floor(Math.min(Math.max(v-1, 0), 99) / 5);\n                return -a*ticks;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'spirit_breaker_greater_bash': [\n        {\n            label: 'Bash Proc',\n            controlType: 'checkbox'\n        },\n        {\n            attributeName: 'damage',\n            label: '%MOVESPEED AS DAMAGE',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'bashBonusDamage'\n        },\n        {\n            attributeName: 'bonus_movespeed_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (v) {\n                    return a;\n                }\n                else {\n                    return 0;\n                }\n            },\n            returnProperty: 'movementSpeedPct'\n        },\n        {\n            attributeName: 'chance_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a\n            },\n            returnProperty: 'bash'\n        }\n    ],\n    'techies_land_mines': [\n        {\n            label: 'Number of Mines',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'damage',\n            label: 'AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var phys_reduction = parent.enemy().totalArmorPhysicalReduction(),\n                    magic_reduction = parent.enemy().totalMagicResistance();\n                return (v * a * (1 - phys_reduction / 100) * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        }\n    ],\n    'techies_suicide': [\n        {\n            attributeName: 'damage',\n            label: 'FULL DAMAGE AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var phys_reduction = parent.enemy().totalArmorPhysicalReduction(),\n                    magic_reduction = parent.enemy().totalMagicResistance();\n                return (a * (1 - phys_reduction / 100) * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        },\n        {\n            attributeName: 'partial_damage',\n            label: 'PARTIAL DAMAGE AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var phys_reduction = parent.enemy().totalArmorPhysicalReduction(),\n                    magic_reduction = parent.enemy().totalMagicResistance();\n                return (a * (1 - phys_reduction / 100) * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        },\n        {\n            attributeName: 'damage',\n            label: 'RESPAWN TIME:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return (parent.respawnTime() / 2).toFixed(0) + ' seconds';\n            }\n        }\n    ],\n    'techies_remote_mines': [\n        {\n            label: 'Number of Mines',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'damage',\n            label: 'AFTER REDUCTIONS:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var magic_reduction = parent.enemy().totalMagicResistance();\n                return (v * a * (1 - magic_reduction / 100)).toFixed(2);\n            }\n        }\n    ],\n    'tinker_march_of_the_machines': [\n        {\n            label: 'Robot Explosions',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'machines_per_sec',\n            label: 'TOTAL DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'treant_leech_seed': [\n        {\n            label: 'Pulses',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'leech_damage',\n            label: 'DAMAGE/HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'movement_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'troll_warlord_fervor': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'attack_speed',\n            label: 'ATTACK SPEED:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'attackspeed'\n        }\n    ],\n    'undying_decay': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'str_steal',\n            label: 'STRENGTH STOLEN:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                if (parent.inventory.hasScepter()) {\n                    var str_steal_scepter = abilityModel.getAbilityAttributeValue(ability.attributes(), 'str_steal_scepter',0);\n                    return v*str_steal_scepter;\n                }\n                else {\n                    return v*a;\n                }\n            },\n            returnProperty: 'bonusStrength'\n        },\n    ],\n    'undying_soul_rip': [\n        {\n            label: 'Units',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_unit',\n            label: 'DAMAGE/HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'undying_flesh_golem': [\n        {\n            label: 'Distance',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'max_speed_slow',\n            label: '%MOVE SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var min_speed_slow = abilityModel.getAbilityAttributeValue(ability.attributes(), 'min_speed_slow', 0);\n                var radius = abilityModel.getAbilityAttributeValue(ability.attributes(), 'radius', 0);\n                var full_power_radius = abilityModel.getAbilityAttributeValue(ability.attributes(), 'full_power_radius', 0);\n                var distance = Math.min(Math.max(v, full_power_radius), radius);\n                var scale = 1 - (distance - full_power_radius) / (radius - full_power_radius);\n                return -Math.max(scale * a, min_speed_slow);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'max_damage_amp',\n            label: '%DAMAGE AMP:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var min_damage_amp = abilityModel.getAbilityAttributeValue(ability.attributes(), 'min_damage_amp', 0);\n                var radius = abilityModel.getAbilityAttributeValue(ability.attributes(), 'radius', 0);\n                var full_power_radius = abilityModel.getAbilityAttributeValue(ability.attributes(), 'full_power_radius', 0);\n                var distance = Math.min(Math.max(v, full_power_radius), radius);\n                var scale = 1 - (distance - full_power_radius) / (radius - full_power_radius);\n                return Math.max(scale * a, min_damage_amp);\n            },\n            returnProperty: 'damageAmplification'\n        },\n        {\n            label: 'MAX HP',\n            controlType: 'input'\n        },\n        {\n            label: 'Hero Death Count',\n            controlType: 'input'\n        },\n        {\n            label: 'Creep Death Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'death_heal',\n            label: 'DEATH HEAL (HEROES):',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [1, 2],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        },\n        {\n            attributeName: 'death_heal_creep',\n            label: 'DEATH HEAL (CREEPS):',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [1, 3],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]*v[1]*a/100;\n            }\n        },\n        {\n            attributeName: 'death_heal_creep',\n            label: 'TOTAL DEATH HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [4, 5],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v[0]+v[1];\n            }\n        }\n    ],\n    'ursa_fury_swipes': [\n        {\n            label: 'Stacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_per_stack',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var enrageAbility = abilityModel.abilities().find(function(b) {\n                    return b.name() == 'ursa_enrage';\n                });\n                if (enrageAbility.isActive() && enrageAbility.level() > 0) {\n                    var enrage_multiplier = abilityModel.getAbilityAttributeValue(enrageAbility.attributes(), 'enrage_multiplier', enrageAbility.level());\n                    return v*a*enrage_multiplier;\n                }\n                return v*a;\n            },\n            returnProperty: 'bonusDamage'\n        }\n    ],\n    'ursa_enrage': [\n        {\n            attributeName: 'damage_reduction',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -a;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'venomancer_venomous_gale': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'tick_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityAttributeValue(ability.attributes(), 'strike_damage',ability.level()) + Math.floor(v/3)*a;\n            }\n        },\n        {\n            attributeName: 'movement_slow',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'venomancer_poison_sting': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'venomancer_poison_nova': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'viper_poison_attack': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'viper_corrosive_skin': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        },\n        {\n            attributeName: 'bonus_magic_resistance',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'magicResist'\n        }\n    ],\n    'viper_viper_strike': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_movement_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeedreduction'\n        }\n    ],\n    'visage_soul_assumption': [\n        {\n            label: 'Charges',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'soul_charge_damage',\n            label: 'Total Damage:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var soul_base_damage = abilityModel.getAbilityAttributeValue(ability.attributes(), 'soul_base_damage',0);\n                var stack_limit = abilityModel.getAbilityAttributeValue(ability.attributes(), 'stack_limit', ability.level());\n                stack_limit = Math.max(Math.min(v, stack_limit), 0);\n                return soul_base_damage + stack_limit*a;\n            }\n        }\n    ],\n    'visage_gravekeepers_cloak': [\n        {\n            label: 'Layers',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_armor',\n            label: 'ARMOR:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'armor'\n        },\n        {\n            attributeName: 'bonus_resist',\n            label: '%RESIST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            },\n            returnProperty: 'magicResist'\n        }\n    ],\n    'warlock_shadow_word': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'warlock_upheaval': [\n        {\n            label: 'Channel Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'slow_rate_duration',\n            label: '%MOVE SLOW:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var max_slow = abilityModel.getAbilityAttributeValue(ability.attributes(), 'max_slow',0);\n                var slow_per_tick = max_slow / (a - 0.5) / 2;\n                var ticks = Math.max(Math.floor(v * 2) - 1, 0);\n                return -Math.min(ticks * slow_per_tick, max_slow);\n            },\n            returnProperty: 'movementSpeedPctReduction'\n        }\n    ],\n    'weaver_the_swarm': [\n        {\n            label: 'Attacks',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'armor_reduction',\n            label: 'DAMAGE:',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return -v*a;\n            },\n            returnProperty: 'armorReduction'\n        }\n    ],\n    'windrunner_powershot': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*v;\n            }\n        }\n    ],\n    'winter_wyvern_cold_embrace': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            label: 'Ally Max Health',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal_percentage',\n            label: 'TOTAL HEAL:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            controls: [0,1],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var base_heal = abilityModel.getAbilityAttributeValue(ability.attributes(), 'heal_additive',ability.level());\n                return (base_heal + v[1] * a/100) * v[0];\n            }\n        }\n    ],\n    'wisp_spirits': [\n        {\n            label: 'Collision Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hero_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'creep_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'wisp_overcharge': [\n        {\n            label: 'Current HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'drain_pct',\n            label: 'HP DRAINED:',\n            ignoreTooltip: true, \n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            label: 'Current MP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'drain_pct',\n            label: 'MP DRAINED:',\n            ignoreTooltip: true, \n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        },\n        {\n            attributeName: 'bonus_attack_speed',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'attackspeed'\n        },\n        {\n            attributeName: 'bonus_damage_pct',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return a;\n            },\n            returnProperty: 'damageReduction'\n        }\n    ],\n    'witch_doctor_paralyzing_cask': [\n        {\n            label: 'Hero Bounce Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hero_damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var bounces = abilityModel.getAbilityAttributeValue(ability.attributes(), 'bounces',ability.level());\n                return Math.min(Math.max(v, 0), bounces)*a;\n            }\n        },\n        {\n            label: 'Creep Bounce Count',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'hero_damage',\n            label: 'CREEP DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var bounces = abilityModel.getAbilityAttributeValue(ability.attributes(), 'bounces',ability.level());\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return Math.min(Math.max(v, 0), bounces)*damage;\n            }\n        }\n    ],\n    'witch_doctor_voodoo_restoration': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'heal',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes(), 'heal_interval',ability.level());\n                var heal_per_tick = a * interval;\n                var ticks = Math.max(Math.floor(v / interval) - 1, 0);\n                return heal_per_tick * ticks;\n            }\n        },\n        {\n            attributeName: 'mana_per_second',\n            label: 'MANA COST:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var interval = abilityModel.getAbilityAttributeValue(ability.attributes(), 'heal_interval',ability.level());\n                var mana_per_tick = a * interval;\n                var ticks = Math.max(Math.floor(v / interval) - 1, 0);\n                return mana_per_tick * ticks;\n            }\n        }\n    ],\n    'witch_doctor_maledict': [\n        {\n            label: 'damage 0-4s',\n            controlType: 'input'\n        },\n        {\n            label: 'damage 4-8s',\n            controlType: 'input'\n        },\n        {\n            label: 'damage 8-12s',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Dot Damage after 3s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return 3*damage;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Burst Damage at 4s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 3],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                var d = v.reduce(function (memo, o) { return memo + o }, 0);\n                return Math.max(d, 0) * a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Dot Damage after 7s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return 7*damage;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Burst Damage at 8s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1, 4, 5],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                var d = v.reduce(function (memo, o) { return memo + o }, 0);\n                return Math.max(d, 0) * a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Dot Damage after 11s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return 11*damage;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Burst Damage at 12s:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [0, 1, 2, 4, 6, 7],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                var d = v.reduce(function (memo, o) { return memo + o }, 0);\n                return Math.max(d, 0) * a/100;\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Burst Damage:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [4, 6, 8],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v.reduce(function (memo, o) { return memo + o }, 0);\n            }\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'Total Maledict Damage:',\n            ignoreTooltip: true,\n            controlType: 'method',\n            controls: [9],\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var duration = abilityModel.getAbilityAttributeValue(ability.attributes(), 'duration_tooltip',0);\n                var damage = abilityModel.getAbilityPropertyValue(ability, 'damage');\n                return damage * duration + v[0];\n            }\n        },\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'bonus_damage',\n            label: 'DOT Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                var duration = abilityModel.getAbilityAttributeValue(ability.attributes(), 'duration_tooltip',0);\n                return abilityModel.getAbilityPropertyValue(ability, 'damage')*Math.min(Math.max(v, 0), duration);\n            }\n        }\n    ],\n    'witch_doctor_death_ward': [\n        {\n            label: 'Duration',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage',\n            label: 'Total Damage',\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a;\n            }\n        }\n    ],\n    'zuus_static_field': [\n        {\n            label: 'Enemy HP',\n            controlType: 'input'\n        },\n        {\n            attributeName: 'damage_health_pct',\n            label: 'DAMAGE:',\n            ignoreTooltip: true,\n            controlType: 'text',\n            fn: function (v, a, parent, index, abilityModel, ability) {\n                return v*a/100;\n            }\n        }\n    ]\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"./herocalc_core\");\n\nmy.prototype.AbilityModel = function (a, h) {\n    var self = this;\n    self.hero = h;\n    self.abilityData = my.prototype.abilityData;\n    self.hasScepter = ko.observable(false);\n    self.isShapeShiftActive = ko.observable(false);\n    self.abilities = a;\n    for (var i = 0; i < self.abilities().length; i++) {\n        self.abilities()[i].isActive = ko.observable(false);\n        self.abilities()[i].isDetail = ko.observable(false);\n        self.abilities()[i].baseDamage = ko.observable(0);\n        self.abilities()[i].baseDamageReductionPct = ko.observable(0);\n        self.abilities()[i].baseDamageMultiplier = ko.observable(0);\n        self.abilities()[i].bash = ko.observable(0);\n        self.abilities()[i].bashBonusDamage = ko.observable(0);\n        self.abilities()[i].bonusDamage = ko.observable(0);\n        self.abilities()[i].bonusDamageOrb = ko.observable(0);\n        self.abilities()[i].bonusDamagePct = ko.observable(0);\n        self.abilities()[i].bonusDamagePrecisionAura = ko.observable(0);\n        self.abilities()[i].bonusDamageReduction = ko.observable(0);\n        self.abilities()[i].bonusHealth = ko.observable(0);\n        self.abilities()[i].bonusStrength = ko.observable(0);\n        self.abilities()[i].bonusStrength2 = ko.observable(0);\n        self.abilities()[i].bonusAgility = ko.observable(0);\n        self.abilities()[i].bonusAgility2 = ko.observable(0);\n        self.abilities()[i].bonusInt = ko.observable(0);\n        self.abilities()[i].bonusAllStatsReduction = ko.observable(0);\n        self.abilities()[i].damageAmplification = ko.observable(0);\n        self.abilities()[i].damageReduction = ko.observable(0);\n        self.abilities()[i].evasion = ko.observable(0);\n        self.abilities()[i].magicResist = ko.observable(0);\n        self.abilities()[i].manaregen = ko.observable(0);\n        self.abilities()[i].manaregenreduction = ko.observable(0);\n        self.abilities()[i].missChance = ko.observable(0);\n        self.abilities()[i].movementSpeedFlat = ko.observable(0);\n        self.abilities()[i].movementSpeedPct = ko.observable(0);\n        self.abilities()[i].movementSpeedPctReduction = ko.observable(0);\n        self.abilities()[i].turnRateReduction = ko.observable(0);\n        self.abilities()[i].attackrange = ko.observable(0);\n        self.abilities()[i].attackspeed = ko.observable(0);\n        self.abilities()[i].attackspeedreduction = ko.observable(0);\n        self.abilities()[i].armor = ko.observable(0);\n        self.abilities()[i].armorReduction = ko.observable(0);\n        self.abilities()[i].healthregen = ko.observable(0);\n        self.abilities()[i].lifesteal = ko.observable(0);\n        self.abilities()[i].visionnight = ko.observable(0);\n        self.abilities()[i].visionday = ko.observable(0);\n    }\n    self.abilityControlData = {};\n    self.abilitySettingsData = function (data, parent, index) {\n        if (self.abilityControlData[data] == undefined) {\n            return self.processAbility(data, parent, index, self.abilityData[data]);\n        }\n        else {\n            return self.abilityControlData[data];\n        }\n    }\n    \n    self.processAbility = function (data, parent, index, args) {\n        var result = {};\n        result.data = [];\n        var v;\n        var v_list = [];\n        for (var i=0; i < args.length; i++) {\n            switch (args[i].controlType) {\n                case 'input':\n                    v = ko.observable(0).extend({ numeric: 2 });\n                    v.controlValueType = args[i].controlValueType;\n                    v_list.push(v);\n                    result.data.push({ labelName: args[i].label.toUpperCase() + ':', controlVal: v, controlType: args[i].controlType, display: args[i].display });\n                break;\n                case 'checkbox':\n                    v = ko.observable(false);\n                    v.controlValueType = args[i].controlValueType;\n                    v_list.push(v);\n                    result.data.push({ labelName: args[i].label.toUpperCase() + '?', controlVal: v, controlType: args[i].controlType, display: args[i].display });\n                break;\n                case 'radio':\n                    v = ko.observable(args[i].controlOptions[0].value);\n                    v.controlValueType = args[i].controlValueType;\n                    v_list.push(v);\n                    result.data.push({ labelName: args[i].label.toUpperCase() + '?', controlVal: v, controlType: args[i].controlType, display: args[i].display, controlOptions: args[i].controlOptions });\n                break;\n                case 'method':\n                case 'text':\n                    // single input abilities\n                    if (args[i].controls == undefined) {\n                        if (args[i].noLevel) {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    var _ability = self.abilities().find(function(b) {\n                                        return b.name() == data;\n                                    });\n                                    return self.getAbilityAttributeValue(_ability.attributes(), attributeName, 0);\n                                })};\n                            };\n                        }\n                        else {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    var _ability = self.abilities().find(function(b) {\n                                        return b.name() == data;\n                                    });\n                                    return self.getAbilityAttributeValue(_ability.attributes(), attributeName, _ability.level());\n                                })};\n                            };\n                        }\n                        var g = attributeValue(args[i].attributeName)\n                        var r = self.getComputedFunction(v, g.fn, args[i].fn, parent, index, self, args[i].returnProperty, undefined, data);\n                        if (args[i].ignoreTooltip) {\n                            var tooltip = args[i].label || args[i].attributeName;\n                        }\n                        else {\n                            var tooltip = self.getAbilityAttributeTooltip(self.abilities()[index].attributes(), args[i].attributeName) || args[i].label || args[i].attributeName;\n                        }\n                        result.data.push({ labelName: tooltip.toUpperCase(), controlVal: r, controlType: args[i].controlType, display: args[i].display, clean: g.fn });\n                    }\n                    // multi input abilities\n                    else {\n                        if (args[i].noLevel) {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    return self.getAbilityAttributeValue(self.abilities()[index].attributes(), attributeName, 0);\n                                })};\n                            };\n                        }\n                        else {\n                            var attributeValue = function (attributeName) {\n                                return {fn: ko.computed(function () {\n                                    return self.getAbilityAttributeValue(self.abilities()[index].attributes(), attributeName, self.abilities()[index].level());\n                                })};\n                            };\n                        }\n                        var g = attributeValue(args[i].attributeName)\n                        var r = self.getComputedFunction(v_list, g.fn, args[i].fn, parent, index, self, args[i].returnProperty, args[i].controls, data);\n                        if (args[i].ignoreTooltip) {\n                            var tooltip = args[i].label || args[i].attributeName;\n                        }\n                        else {\n                            var tooltip = self.getAbilityAttributeTooltip(self.abilities()[index].attributes(), args[i].attributeName) || args[i].label || args[i].attributeName;\n                        }\n                        result.data.push({ labelName: tooltip.toUpperCase(), controlVal: r, controlType: args[i].controlType, display: args[i].display, clean: g.fn });\n                    }\n                    \n                    if (args[i].controlType == 'method') {\n                        v_list.push(r);\n                    }\n                break;\n            }\n        }\n        self.abilityControlData[data] = result;\n        return result;\n    }\n\n    self.getComputedFunction = function (v, attributeValue, fn, parent, index, abilityModel, returnProperty, controls, abilityName) {\n        var _ability = abilityModel.abilities().find(function(b) {\n            return b.name() == abilityName;\n        });\n        return ko.pureComputed(function () {                \n            var inputValue;\n            if (controls == undefined) {\n                if (v == undefined) {\n                    inputValue = v;\n                }\n                else if (typeof v() == 'boolean') {\n                    inputValue = v();\n                }\n                else if (v.controlValueType == undefined) {\n                    inputValue = parseFloat(v());\n                }\n                else if (v.controlValueType == 'string') {\n                    inputValue = v();\n                }\n                else {\n                    inputValue = parseFloat(v());\n                }\n            }\n            else {\n                var v_list = [];\n                for (var i=0;i<controls.length;i++) {\n                    switch (typeof v[controls[i]]()) {\n                        case 'boolean':\n                        case 'object':\n                            v_list.push(v[controls[i]]());\n                        break;\n                        default:\n                            v_list.push(parseFloat(v[controls[i]]()));\n                        break;\n                    }\n                }\n                inputValue = v_list;\n            }\n            \n            var returnVal = fn.call(this, inputValue, attributeValue(), parent, index, abilityModel, _ability);\n            if (returnProperty != undefined) {\n                _ability[returnProperty](returnVal);\n            }\n            return returnVal;\n        }, this);\n    }\n\n    self.getAbilityAttributeValue = function (attributes, attributeName, level) {\n        for (var i=0; i < attributes.length; i++) {\n            if (attributes[i].name() == attributeName) {\n                if (level == 0) {\n                    return parseFloat(attributes[i].value()[0]);\n                }\n                else if (level > attributes[i].value().length) {\n                    return parseFloat(attributes[i].value()[0]);\n                }\n                else {\n                    return parseFloat(attributes[i].value()[level-1]);\n                }\n            }\n        }\n    }\n\n    self.getAbilityAttributeTooltip = function (attributes, attributeName) {\n        for (var i=0; i<attributes.length; i++) {\n            if (attributes[i].name() == attributeName) {\n                if (attributes[i].hasOwnProperty('tooltip')) {\n                    var d = attributes[i].tooltip().replace(/\\\\n/g, '');\n                    return d;\n                }\n                else {\n                    return '';\n                }\n            }\n        }\n        return '';\n    }\n    \n    self.getAbilityLevelByAbilityName = function (abilityName) {\n        for (var i = 0; i < self.abilities().length; i++) {\n            if (self.abilities()[i].name() == abilityName) {\n                return self.abilities()[i].level();\n            }\n        }\n        return -1;\n    }\n\n    self.getAbilityByName = function (abilityName) {\n        for (var i = 0; i < self.abilities().length; i++) {\n            if (self.abilities()[i].name() == abilityName) {\n                return self.abilities()[i];\n            }\n        }\n        return undefined;\n    }\n\n    self.getAbilityPropertyValue = function (ability, property) {\n        return parseFloat(ability[property]()[ability.level()-1]);\n    }\n    \n    self.getAttributeBonusLevel = function () {\n        for (var i = 0; i < self.abilities().length; i++) {\n            if (self.abilities()[i].name() == 'attribute_bonus') {\n                return self.abilities()[i].level();\n            }\n        }\n        return 0;        \n    }\n    \n    self.getAllStatsReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        /*switch(attribute.name()) {\n                            // invoker_quas\n                            case 'bonus_strength':\n                                totalAttribute += parseInt(attribute.value()[ability.level()-1]);\n                            break;\n                        }*/\n                    }\n                }\n            }\n            else if (ability.bonusAllStatsReduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // slark_essence_shift\n                    totalAttribute+=ability.bonusAllStatsReduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getStrengthReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        /*switch(attribute.name()) {\n                            // invoker_quas\n                            case 'bonus_strength':\n                                totalAttribute += parseInt(attribute.value()[ability.level()-1]);\n                            break;\n                        }*/\n                    }\n                }\n            }\n            else if (ability.bonusStrength != undefined && ability.name() == 'undying_decay') {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // undying_decay\n                    totalAttribute-=ability.bonusStrength();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getStrength = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        /*switch(attribute.name()) {\n                            // invoker_quas\n                            case 'bonus_strength':\n                                totalAttribute += parseInt(attribute.value()[ability.level()-1]);\n                            break;\n                        }*/\n                    }\n                }\n            }\n            else {\n                if (ability.bonusStrength != undefined) {\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1) || ability.name() == 'invoker_quas')) {\n                        // pudge_flesh_heap,invoker_quas,morphling_morph_str,morphling_morph_agi,undying_decay\n                        totalAttribute+=ability.bonusStrength();\n                    }\n                }\n                if (ability.bonusStrength2 != undefined) {\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                        // morphling_morph_str\n                        totalAttribute+=ability.bonusStrength2();\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAgility = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // drow_ranger_marksmanship\n                            case 'marksmanship_agility_bonus':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                if (ability.bonusAgility != undefined) {\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1) || ability.name() == 'invoker_wex')) {\n                        // invoker_wex,morphling_morph_agi,morphling_morph_str\n                        totalAttribute+=ability.bonusAgility();\n                    }\n                }\n                if (ability.bonusAgility2 != undefined) {\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                        // invoker_wex,morphling_morph_agi,morphling_morph_str\n                        totalAttribute+=ability.bonusAgility2();\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getIntelligence = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // invoker_exort\n                        /*    case 'bonus_intelligence':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;*/\n                        }\n                    }\n                }\n            }\n            else if (ability.bonusInt != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1) || ability.name() == 'invoker_exort')) {\n                    // invoker_exort\n                    totalAttribute+=ability.bonusInt();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getArmor = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // axe_berserkers_call,dragon_knight_dragon_blood,troll_warlord_berserkers_rage,lycan_shapeshift,enraged_wildkin_toughness_aura\n                            case 'bonus_armor':\n                                if (ability.name() != 'templar_assassin_meld') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // sven_warcry\n                            case 'warcry_armor':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // lich_frost_armor,ogre_magi_frost_armor\n                            case 'armor_bonus':\n                                if (ability.name() == 'lich_frost_armor' || ability.name() == 'ogre_magi_frost_armor') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.armor != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // shredder_reactive_armor,visage_gravekeepers_cloak\n                    totalAttribute+=ability.armor();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getArmorBaseReduction = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    switch(ability.name()) {\n                        //elder_titan_natural_order\n                        case 'elder_titan_natural_order':\n                            totalAttribute *= (1-self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'armor_reduction_pct', ability.level())/100);\n                        break;\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getArmorReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    switch(ability.name()) {\n                        //templar_assassin_meld\n                        case 'templar_assassin_meld':\n                            totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'bonus_armor', ability.level());\n                        break;\n                        // tidehunter_gush\n                        case 'tidehunter_gush':\n                            totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'armor_bonus', ability.level());\n                        break;\n                        // naga_siren_rip_tide\n                        case 'naga_siren_rip_tide':\n                        // slardar_amplify_damage\n                        case 'slardar_amplify_damage':\n                        // vengefulspirit_wave_of_terror\n                        case 'vengefulspirit_wave_of_terror':\n                            totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'armor_reduction', ability.level());\n                        break;\n                        // nevermore_dark_lord\n                        case 'nevermore_dark_lord':\n                            totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'presence_armor_reduction', ability.level());\n                        break;\n                    }\n                }\n            }\n            else if (ability.armorReduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // alchemist_acid_spray\n                    totalAttribute+=ability.armorReduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getHealth = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // lone_druid_true_form,lycan_shapeshift,troll_warlord_berserkers_rage\n                            case 'bonus_hp':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // lone_druid_synergy\n                            case 'true_form_hp_bonus':\n                                if (self.isTrueFormActive()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.bonusHealth != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // clinkz_death_pact\n                    totalAttribute+=ability.bonusHealth();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.isTrueFormActive = function () {\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (ability.isActive() && ability.name() == 'lone_druid_true_form') {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    self.getHealthRegen = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // alchemist_chemical_rage, dragon_knight_dragon_blood\n                            case 'bonus_health_regen':\n                            // broodmother_spin_web\n                            case 'heath_regen':\n                            // omniknight_guardian_angel,treant_living_armor,satyr_hellcaller_unholy_aura\n                            case 'health_regen':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // legion_commander_press_the_attack\n                            case 'hp_regen':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.healthregen != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // shredder_reactive_armor,invoker_quas,necrolyte_sadist\n                    totalAttribute+=ability.healthregen();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getMana = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // obsidian_destroyer_essence_aura\n                            case 'bonus_mana':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getManaRegen = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // alchemist_chemical_rage\n                            case 'bonus_mana_regen':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.manaregen != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // necrolyte_sadist\n                    totalAttribute+=ability.manaregen();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getManaRegenArcaneAura = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // crystal_maiden_brilliance_aura\n                            case 'mana_regen':\n                                if (ability.name() == 'crystal_maiden_brilliance_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getManaRegenReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        //switch(attribute.name()) {\n                        //    // \n                        //    case '':\n                        //        totalAttribute += parseInt(attribute.value()[ability.level()-1]);\n                        //    break;\n                        //}\n                    }\n                }\n            }\n            else if (ability.manaregenreduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // pugna_nether_ward\n                    totalAttribute+=ability.manaregenreduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAttackRange = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // winter_wyvern_arctic_burn\n                            case 'attack_range_bonus':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // templar_assassin_psi_blades,sniper_take_aim\n                            case 'bonus_attack_range':\n                            // terrorblade_metamorphosis,troll_warlord_berserkers_rage\n                            case 'bonus_range':\n                                if (ability.name() == 'terrorblade_metamorphosis') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                                if (ability.name() == 'troll_warlord_berserkers_rage') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // tiny_grow\n                            case 'bonus_range_scepter':\n                                if (ability.name() == 'tiny_grow' && self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // enchantress_impetus\n                            case 'bonus_attack_range_scepter':\n                                if (ability.name() == 'enchantress_impetus' && self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                        }\n                    }\n                    // lone_druid_true_form\n                    if (ability.name() == 'lone_druid_true_form') {\n                        totalAttribute -= 422;\n                    }\n                }\n                else if (ability.level() > 0 && ability.name() == 'enchantress_impetus' && self.hasScepter()) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                          case 'bonus_attack_range_scepter':\n                            totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                          break;\n                        }\n                    }\n                }\n            }\n            else if (ability.attackrange != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // dragon_knight_elder_dragon_form\n                    totalAttribute+=ability.attackrange();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getAttackSpeed = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // abaddon_frostmourne,troll_warlord_battle_trance\n                            case 'attack_speed':\n                            // visage_grave_chill\n                            case 'attackspeed_bonus':\n                            // mirana_leap\n                            case 'leap_speedbonus_as':\n                            // life_stealer\n                            case 'attack_speed_bonus':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // clinkz_strafe,ursa_overpower\n                            case 'attack_speed_bonus_pct':\n                                if (ability.name() == 'clinkz_strafe' || ability.name() == 'ursa_overpower') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // axe_culling_blade,necronomicon_archer_aoe\n                            case 'speed_bonus':\n                                if (ability.name() == 'axe_culling_blade' || ability.name() == 'necronomicon_archer_aoe') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // ancient_apparition_chilling_touch\n                            case 'attack_speed_pct':\n                                if (ability.name() == 'ancient_apparition_chilling_touch') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // beastmaster_inner_beast,lycan_feral_impulse,lone_druid_rabid,tiny_grow,phantom_assassin_phantom_strike,windrunner_focusfire,ogre_magi_bloodlust,centaur_khan_endurance_aura\n                            case 'bonus_attack_speed':\n                                if (ability.name() == 'beastmaster_inner_beast' \n                                 || ability.name() == 'lycan_feral_impulse' \n                                 || ability.name() == 'lone_druid_rabid' \n                                 || ability.name() == 'tiny_grow' \n                                 || ability.name() == 'phantom_assassin_phantom_strike' \n                                 || ability.name() == 'windrunner_focusfire' \n                                 || ability.name() == 'ogre_magi_bloodlust'\n                                 || ability.name() == 'centaur_khan_endurance_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.attackspeed != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // troll_warlord_fervor,wisp_overcharge,lina_fiery_soul,invoker_alacrity,invoker_wex,huskar_berserkers_blood\n                    totalAttribute+=ability.attackspeed();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getAttackSpeedReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // night_stalker_void,crystal_maiden_crystal_nova,ghost_frost_attack,ogre_magi_frost_armor,polar_furbolg_ursa_warrior_thunder_clap\n                            case 'attackspeed_slow':\n                            // lich_frost_armor,lich_frost_nova,enchantress_untouchable\n                            case 'slow_attack_speed':\n                            // beastmaster_primal_roar\n                            case 'slow_attack_speed_pct':\n                            // storm_spirit_overload\n                            case 'overload_attack_slow':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // omniknight_degen_aura\n                            case 'speed_bonus':\n                                if (ability.name() == 'omniknight_degen_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // tusk_frozen_sigil,crystal_maiden_freezing_field\n                            case 'attack_slow':\n                                if (ability.name() == 'crystal_maiden_freezing_field' && !self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                                else if (ability.name() == 'tusk_frozen_sigil') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            case 'attack_slow_scepter':\n                                if (ability.name() == 'crystal_maiden_freezing_field' && self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // faceless_void_time_walk\n                            case 'attack_speed_pct':\n                                if (ability.name() == 'faceless_void_time_walk') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // bounty_hunter_jinada\n                            case 'bonus_attackspeed':\n                                if (ability.name() == 'bounty_hunter_jinada') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // brewmaster_thunder_clap\n                            case 'attack_speed_slow':\n                                if (ability.name() == 'brewmaster_thunder_clap') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // medusa_stone_gaze\n                            case 'slow':\n                                if (ability.name() == 'medusa_stone_gaze') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // visage_grave_chill\n                            case 'attackspeed_bonus':\n                                totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                            // abaddon_frostmourne\n                            case 'attack_slow_tooltip':\n                                if (ability.name() == 'abaddon_frostmourne') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                        }\n                    }\n                    if (ability.name() == 'enraged_wildkin_tornado') {\n                        totalAttribute -= 15;\n                    }\n                }\n            }\n            else if (ability.attackspeedreduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // viper_viper_strike,viper_corrosive_skin,jakiro_liquid_fire,lich_chain_frost,sandking_epicenter,earth_spirit_rolling_boulder\n                    totalAttribute+=ability.attackspeedreduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    self.getBash = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // slardar_bash\n                            case 'chance':\n                            // sniper_headshot\n                            case 'proc_chance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.bash != undefined) {\n                // spirit_breaker_greater_bash,faceless_void_time_lock\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    totalAttribute *= (1 - ability.bash()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });    \n    self.getBaseDamage = ko.computed(function () {\n        var totalAttribute = 0;\n        var totalMultiplier = 1;\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // tiny_grow,terrorblade_metamorphosis\n                            case 'bonus_damage':\n                                if (ability.name() == 'tiny_grow' || ability.name() == 'terrorblade_metamorphosis') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                if (ability.baseDamageMultiplier != undefined) {\n                    // earthshaker_enchant_totem\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                        totalMultiplier += ability.baseDamageMultiplier()/100;\n                        /*totalAttribute += ability.baseDamage();\n                        sources[ability.name()] = {\n                            'damage': ability.baseDamage(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname()\n                        }*/\n                    }\n                }\n                if (ability.baseDamage != undefined) {\n                    // clinkz_death_pact\n                    if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                        totalAttribute += ability.baseDamage();\n                        sources[ability.name()] = {\n                            'damage': ability.baseDamage(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname()\n                        }\n                    }\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute, multiplier: totalMultiplier };\n    });\n    \n    self.getSelfBaseDamageReductionPct = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // medusa_split_shot\n                            case 'damage_modifier':\n                                totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                            // windrunner_focusfire\n                            case 'focusfire_damage_reduction':\n                                if (!self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                            case 'focusfire_damage_reduction_scepter':\n                                if (self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getBaseDamageReductionPct = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // vengefulspirit_command_aura\n                            case 'bonus_damage_pct':\n                                if (ability.name() == 'vengefulspirit_command_aura') {\n                                    totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.baseDamageReductionPct != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // nevermore_requiem\n                    totalAttribute *= (1 + ability.baseDamageReductionPct()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getBAT = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // troll_warlord_berserkers_rage,alchemist_chemical_rage,lone_druid_true_form,lycan_shapeshift\n                            case 'base_attack_time':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    self.getBonusDamage = ko.computed(function () {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // broodmother_insatiable_hunger,luna_lunar_blessing,templar_assassin_refraction,templar_assassin_meld,troll_warlord_berserkers_rage,lone_druid_true_form_battle_cry\n                            case 'bonus_damage':\n                                if (ability.name() == 'broodmother_insatiable_hunger' || ability.name() == 'luna_lunar_blessing'\n                                 || ability.name() == 'templar_assassin_refraction' || ability.name() == 'templar_assassin_meld'\n                                 || ability.name() == 'troll_warlord_berserkers_rage' || ability.name() == 'lone_druid_true_form_battle_cry') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                            // lycan_howl\n                            case 'hero_bonus_damage':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                sources[ability.name()] = {\n                                    'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level()),\n                                    'damageType': 'physical',\n                                    'displayname': ability.displayname()\n                                }\n                            break;\n                        }\n                    }\n                    if (ability.name() == 'storm_spirit_overload') {\n                        totalAttribute += self.getAbilityPropertyValue(ability, 'damage');\n                        sources[ability.name()] = {\n                            'damage': self.getAbilityPropertyValue(ability, 'damage'),\n                            'damageType': 'magic',\n                            'displayname': ability.displayname()\n                        }                        \n                    }\n                }\n            }\n            else if (ability.bonusDamage != undefined && ability.bonusDamage() != 0) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // nevermore_necromastery,ursa_fury_swipes,ursa_enrage,invoker_alacrity,invoker_exort,elder_titan_ancestral_spirit,spectre_desolate,razor_static_link\n                    totalAttribute+=ability.bonusDamage();\n                    sources[ability.name()] = {\n                        'damage': ability.bonusDamage(),\n                        'damageType': ability.name() == 'spectre_desolate' ? 'pure' : 'physical',\n                        'displayname': ability.displayname()\n                    }\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    });\n\n    self.getBonusDamagePercent = ko.computed(function () {\n        var totalAttribute = 0;\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // bloodseeker_bloodrage\n                            case 'damage_increase_pct':\n                                if (ability.name() == 'bloodseeker_bloodrage') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                            // magnataur_empower,vengefulspirit_command_aura,alpha_wolf_command_aura\n                            case 'bonus_damage_pct':\n                                if (ability.name() == 'magnataur_empower' || ability.name() == 'vengefulspirit_command_aura' || ability.name() == 'alpha_wolf_command_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                            // sven_gods_strength\n                            case 'gods_strength_damage':\n                                if (ability.name() == 'sven_gods_strength' && self.hero != undefined && self.hero.heroId() == 'sven') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                            case 'gods_strength_damage_scepter':\n                                if (ability.name() == 'sven_gods_strength' && self.hero == undefined) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.bonusDamagePct != undefined && ability.bonusDamagePct() != 0) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // bloodseeker_bloodrage\n                    /*totalAttribute+=ability.bonusDamagePct()/100;\n                    sources[ability.name()] = {\n                        'damage': ability.bonusDamagePct()/100,\n                        'damageType': 'physical',\n                        'displayname': ability.displayname()\n                    }*/\n                }\n            }\n        }\n        return { sources: sources, total: totalAttribute };\n    });\n\n    self.getBonusDamageBackstab = ko.computed(function () {\n        var totalAttribute1 = 0;\n        var totalAttribute2 = 0;\n        var sources = [];\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (ability.name() == 'riki_backstab') {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // riki_backstab\n                            case 'damage_multiplier':\n                                totalAttribute1 += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                sources.push({\n                                    'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level()),\n                                    'damageType': 'physical',\n                                    'displayname': ability.displayname()\n                                });\n                            break;\n                        }\n                    }/*\n                    if (ability.bonusDamageBackstab != undefined) {\n                        console.log('bonusDamageBackstab');\n                        // damage_multiplier\n                        totalAttribute2+=ability.bonusDamageBackstab();\n                        sources.push({\n                            'damage': ability.bonusDamageBackstab(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname()\n                        });\n                    }\n                    */\n                }\n            }\n        }\n        return { sources: sources, total: [totalAttribute1,totalAttribute2] };\n    });\n    \n    self.getBonusDamagePrecisionAura = ko.computed(function () {\n        var totalAttribute1 = 0;\n        var totalAttribute2 = 0;\n        var sources = [];\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (ability.name() == 'drow_ranger_trueshot') {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // drow_ranger_trueshot\n                            case 'trueshot_ranged_damage':\n                                totalAttribute1 += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                sources.push({\n                                    'damage': self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100,\n                                    'damageType': 'physical',\n                                    'displayname': ability.displayname()\n                                });\n                            break;\n                        }\n                    }\n                    if (ability.bonusDamagePrecisionAura != undefined) {\n                        // drow_ranger_trueshot\n                        totalAttribute2+=ability.bonusDamagePrecisionAura();\n                        sources.push({\n                            'damage': ability.bonusDamagePrecisionAura(),\n                            'damageType': 'physical',\n                            'displayname': ability.displayname()\n                        });\n                    }\n                }\n            }\n        }\n        return { sources: sources, total: [totalAttribute1,totalAttribute2] };\n    });\n    \n    self.getBonusDamageReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // bane_enfeeble\n                            case 'enfeeble_attack_reduction':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.bonusDamageReduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // rubick_fade_bolt,razor_static_link\n                    totalAttribute+=ability.bonusDamageReduction();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getBonusDamageReductionPct = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // medusa_split_shot\n                            case 'damage_modifier':\n                                totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                            // windrunner_focusfire\n                            case 'focusfire_damage_reduction':\n                                if (!self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                            case 'focusfire_damage_reduction_scepter':\n                                if (self.hasScepter()) {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getDamageAmplification = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                /*if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // bane_enfeeble\n                            case 'enfeeble_attack_reduction':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }*/\n            }\n            else if (ability.damageAmplification != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // undying_flesh_golem\n                    totalAttribute *= (1 + ability.damageAmplification()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getDamageReduction = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // bloodseeker_bloodrage\n                            case 'damage_increase_pct':\n                                if (ability.name() == 'bloodseeker_bloodrage') {\n                                    totalAttribute *= (1 + self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                    // kunkka_ghostship\n                    if (ability.name() == 'kunkka_ghostship') {\n                        totalAttribute *= (1 - 50/100);\n                    }\n                }\n            }\n            else if (ability.damageReduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // wisp_overcharge,bristleback_bristleback,spectre_dispersion,medusa_mana_shield,ursa_enrage\n                    totalAttribute *= (1 + ability.damageReduction()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getCritSource = ko.computed(function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    switch(ability.name()) {\n                        // phantom_assassin_coup_de_grace,brewmaster_drunken_brawler,chaos_knight_chaos_strike,lycan_shapeshift,skeleton_king_mortal_strike,juggernaut_blade_dance,alpha_wolf_critical_strike,giant_wolf_critical_strike\n                        case 'phantom_assassin_coup_de_grace':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'chance': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_bonus', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        case 'brewmaster_drunken_brawler':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'chance': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_multiplier', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        case 'chaos_knight_chaos_strike':\n                        case 'lycan_shapeshift':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'chance': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_multiplier', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        case 'skeleton_king_mortal_strike':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'chance': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_mult', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        case 'juggernaut_blade_dance':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'chance': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'blade_dance_crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'blade_dance_crit_mult', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        case 'alpha_wolf_critical_strike':\n                        case 'giant_wolf_critical_strike':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'chance': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_chance', ability.level())/100,\n                                    'multiplier': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'crit_mult', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                    }\n                }\n            }\n        }\n        return sources;\n    });    \n\n    self.getCleaveSource = ko.computed(function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    switch(ability.name()) {\n                        // magnataur_empower\n                        case 'magnataur_empower':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'radius': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'cleave_radius', ability.level()),\n                                    'magnitude': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'cleave_damage_pct', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        // sven_great_cleave\n                        case 'sven_great_cleave':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'radius': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'great_cleave_radius', ability.level()),\n                                    'magnitude': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'great_cleave_damage', ability.level())/100,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        // kunkka_tidebringer\n                        case 'kunkka_tidebringer':\n                            if (sources[ability.name()] == undefined) {\n                                sources[ability.name()] = {\n                                    'radius': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'radius', ability.level()),\n                                    'magnitude': 1,\n                                    'count': 1,\n                                    'displayname': ability.displayname()\n                                }\n                            }\n                            else {\n                                sources[ability.name()].count += 1;\n                            }\n                        break;\n                        // tiny_grow\n                        case 'tiny_grow':\n                            if (self.hasScepter()) {\n                                if (sources[ability.name()] == undefined) {\n                                    sources[ability.name()] = {\n                                        'radius': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'bonus_cleave_radius_scepter', ability.level()),\n                                        'magnitude': self.getAbilityAttributeValue(self.abilities()[i].attributes(), 'bonus_cleave_damage_scepter', ability.level())/100,\n                                        'count': 1,\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                                else {\n                                    sources[ability.name()].count += 1;\n                                }\n                            }\n                        break;\n                    }\n                }\n            }\n        }\n        return sources;\n    });    \n    \n    self.getCritChance = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // phantom_assassin_coup_de_grace,brewmaster_drunken_brawler,chaos_knight_chaos_strike,lycan_shapeshift,skeleton_king_mortal_strike\n                            case 'crit_chance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });            \n    \n    self.getEvasion = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // phantom_assassin_blur\n                            case 'bonus_evasion':\n                            // brewmaster_drunken_brawler\n                            case 'dodge_chance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getEvasionBacktrack = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // faceless_void_backtrack\n                            case 'dodge_chance_pct':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMissChance = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // broodmother_incapacitating_bite,brewmaster_drunken_haze\n                            case 'miss_chance':\n                            // riki_smoke_screen,keeper_of_the_light_blinding_light,tinker_laser\n                            case 'miss_rate':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.missChance != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // night_stalker_crippling_fear\n                    totalAttribute*=(1-ability.missChance()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getLifesteal = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // skeleton_king_vampiric_aura\n                            case 'vampiric_aura':\n                            // broodmother_insatiable_hunger\n                            case 'lifesteal_pct':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.lifesteal != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // life_stealer_open_wounds\n                    totalAttribute+=ability.lifesteal();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMagicResist = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // antimage_spell_shield\n                            case 'spell_shield_resistance':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                            // phantom_lancer_phantom_edge\n                            case 'magic_resistance_pct':\n                                if (ability.name() == 'phantom_lancer_phantom_edge') {\n                                    totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                            // rubick_null_field\n                            case 'magic_damage_reduction_pct':\n                                if (ability.name() == 'rubick_null_field') {\n                                    totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.magicResist != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // huskar_berserkers_blood,viper_corrosive_skin,visage_gravekeepers_cloak\n                    totalAttribute *= (1 - ability.magicResist()/100);\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getMagicResistReduction = ko.computed(function () {\n        var totalAttribute = 1;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // ancient_apparition_ice_vortex\n                            case 'spell_resist_pct':\n                            // pugna_decrepify\n                            case 'bonus_spell_damage_pct':\n                            // skywrath_mage_ancient_seal\n                            case 'resist_debuff':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                            // elder_titan_natural_order\n                            case 'magic_resistance_pct':\n                                totalAttribute *= (1 - self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMovementSpeedFlat = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // alchemist_chemical_rage\n                            case 'bonus_movespeed':\n                                if (ability.name() == 'alchemist_chemical_rage') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // tiny_grow\n                            case 'bonus_movement_speed':\n                                if (ability.name() == 'tiny_grow') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }\n                            break;\n                            // troll_warlord_berserkers_rage\n                            case 'bonus_move_speed':\n                                if (ability.name() == 'troll_warlord_berserkers_rage') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                                }                                \n                            break;\n                            // lone_druid_true_form\n                            case 'speed_loss':\n                                totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.movementSpeedFlat != undefined) {\n                // dragon_knight_elder_dragon_form\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    totalAttribute+=ability.movementSpeedFlat();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getMovementSpeedPercent = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // abaddon_frostmourne \n                            case 'move_speed_pct':\n                            // bounty_hunter_track \n                            case 'bonus_move_speed_pct':\n                            // mirana_leap \n                            case 'leap_speedbonus':\n                            // sven_warcry \n                            case 'warcry_movespeed':\n                            // clinkz_wind_walk\n                            case 'move_speed_bonus_pct':\n                            // windrunner_windrun\n                            case 'movespeed_bonus_pct':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                            break;\n                            // broodmother_spin_web,spectre_spectral_dagger\n                            case 'bonus_movespeed':\n                                if (ability.name() == 'broodmother_spin_web' || ability.name() == 'spectre_spectral_dagger') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // axe_culling_blade,necronomicon_archer_aoe\n                            case 'speed_bonus':\n                                if (ability.name() == 'axe_culling_blade' || ability.name() == 'necronomicon_archer_aoe') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // nyx_assassin_vendetta \n                            case 'movement_speed':\n                                if (ability.name() == 'nyx_assassin_vendetta') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // spirit_breaker_empowering_haste\n                            case 'bonus_movespeed_pct':\n                                if (ability.name() == 'spirit_breaker_empowering_haste') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // ogre_magi_bloodlust,death_prophet_witchcraft,kobold_taskmaster_speed_aura\n                            case 'bonus_movement_speed':\n                                if (ability.name() == 'ogre_magi_bloodlust' || ability.name() == 'death_prophet_witchcraft' || ability.name() == 'kobold_taskmaster_speed_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // razor_unstable_current,phantom_lancer_doppelwalk\n                            case 'movement_speed_pct':\n                                if (ability.name() == 'razor_unstable_current' || ability.name() == 'phantom_lancer_doppelwalk') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // treant_natures_guise,lone_druid_rabid\n                            case 'bonus_move_speed':\n                                if (ability.name() == 'treant_natures_guise' || ability.name() == 'lone_druid_rabid') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // wisp_tether\n                            case 'movespeed':\n                                if (ability.name() == 'wisp_tether') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // kunkka_ghostship,visage_grave_chill\n                            case 'movespeed_bonus':\n                                if (ability.name() == 'kunkka_ghostship' || ability.name() == 'visage_grave_chill') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }                                \n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.movementSpeedPct != undefined) {\n                // axe_battle_hunger,bristleback_warpath,spirit_breaker_greater_bash,lina_fiery_soul,invoker_ghost_walk,invoker_wex,elder_titan_ancestral_spirit\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    totalAttribute+=ability.movementSpeedPct()/100;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getMovementSpeedPercentReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // crystal_maiden_freezing_field\n                            case 'movespeed_slow':\n                                if (ability.name() == 'crystal_maiden_freezing_field' && !self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            case 'movespeed_slow_scepter':\n                                if (ability.name() == 'crystal_maiden_freezing_field' && self.hasScepter()) {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // elder_titan_earth_splitter,magnataur_skewer,abaddon_frostmourne \n                            case 'slow_pct':\n                                totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                            break;\n                            // night_stalker_void,crystal_maiden_crystal_nova,ghost_frost_attack,ogre_magi_frost_armor,polar_furbolg_ursa_warrior_thunder_clap\n                            case 'movespeed_slow':\n                                if (ability.name() != 'crystal_maiden_freezing_field') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // lich_frost_armor,lich_frost_nova,enchantress_enchant\n                            case 'slow_movement_speed':\n                            // beastmaster_primal_roar\n                            case 'slow_movement_speed_pct':\n                            // drow_ranger_frost_arrows\n                            case 'frost_arrows_movement_speed':\n                            // skeleton_king_hellfire_blast\n                            case 'blast_slow':\n                            // slardar_slithereen_crush\n                            case 'crush_extra_slow':\n                            // storm_spirit_overload:\n                            case 'overload_move_slow':\n                            // windrunner_windrun\n                            case 'enemy_movespeed_bonus_pct':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                            break;\n                            // phantom_assassin_stifling_dagger,tusk_frozen_sigil\n                            case 'move_slow':\n                                if (ability.name() == 'phantom_assassin_stifling_dagger') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                                else if (ability.name() == 'tusk_frozen_sigil') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // invoker_ice_wall,medusa_stone_gaze,wisp_tether\n                            case 'slow':\n                                if (ability.name() == 'medusa_stone_gaze') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                                else {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // broodmother_incapacitating_bite,bounty_hunter_jinada,spectre_spectral_dagger,winter_wyvern_arctic_burn\n                            case 'bonus_movespeed':\n                                if (ability.name() == 'broodmother_incapacitating_bite' || ability.name() == 'bounty_hunter_jinada' || ability.name() == 'winter_wyvern_arctic_burn' || ability.name() == 'winter_wyvern_splinter_blast') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                                else if (ability.name() == 'spectre_spectral_dagger') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // omniknight_degen_aura\n                            case 'speed_bonus':\n                                if (ability.name() == 'omniknight_degen_aura') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // tidehunter_gush\n                            case 'movement_speed':\n                                if (ability.name() == 'tidehunter_gush') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // pugna_decrepify,chen_penitence\n                            case 'bonus_movement_speed':\n                                if (ability.name() == 'pugna_decrepify' || ability.name() == 'chen_penitence') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // ancient_apparition_ice_vortex,phantom_lancer_spirit_lance,skywrath_mage_concussive_shot,faceless_void_time_walk\n                            case 'movement_speed_pct':\n                                if (ability.name() == 'ancient_apparition_ice_vortex' || ability.name() == 'phantom_lancer_spirit_lance' || ability.name() == 'faceless_void_time_walk') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                                else if (ability.name() == 'skywrath_mage_concussive_shot') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // razor_unstable_current\n                            case 'slow_amount':\n                                if (ability.name() == 'razor_unstable_current') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // brewmaster_drunken_haze,brewmaster_thunder_clap,treant_leech_seed\n                            case 'movement_slow':\n                                if (ability.name() == 'brewmaster_drunken_haze' || ability.name() == 'brewmaster_thunder_clap') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                                else if (ability.name() == 'ursa_earthshock' || ability.name() == 'treant_leech_seed') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // skeleton_king_reincarnation\n                            case 'movespeed':\n                                if (ability.name() == 'skeleton_king_reincarnation') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                            // kunkka_torrent,visage_grave_chill\n                            case 'movespeed_bonus':\n                                if (ability.name() == 'kunkka_torrent') {\n                                    totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                                else if (ability.name() == 'visage_grave_chill') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                        }\n                    }\n                    if (ability.name() == 'satyr_trickster_purge') {\n                        totalAttribute -= 80/100;\n                    }\n                    else if (ability.name() == 'enraged_wildkin_tornado') {\n                        totalAttribute -= 15/100;\n                    }\n                }\n            }\n            else if (ability.movementSpeedPctReduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // axe_battle_hunger,batrider_sticky_napalm,shredder_chakram,meepo_geostrike,life_stealer_open_wounds,\n                    // venomancer_poison_sting,viper_viper_strike,viper_corrosive_skin,viper_poison_attack,venomancer_venomous_gale,treant_leech_seed\n                    // lich_chain_frost,sniper_shrapnel,centaur_stampede,huskar_life_break,jakiro_dual_breath,meepo_geostrike,sandking_epicenter\n                    // earth_spirit_rolling_boulder,invoker_ghost_walk,invoker_ice_wall,elder_titan_earth_splitter\n                    // undying_flesh_golem,templar_assassin_psionic_trap,nevermore_requiem,queenofpain_shadow_strike\n                    totalAttribute+=ability.movementSpeedPctReduction()/100;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getTurnRateReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // medusa_stone_gaze\n                            case 'slow':\n                                if (ability.name() == 'medusa_stone_gaze') {\n                                    totalAttribute -= self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.turnRateReduction != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // batrider_sticky_napalm\n                    totalAttribute+=ability.turnRateReduction()/100;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.getVisionRangeNight = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // winter_wyvern_arctic_burn\n                            case 'night_vision_bonus':\n                            // lycan_shapeshift,luna_lunar_blessing\n                            case 'bonus_night_vision':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level());\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.visionnight != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // \n                    totalAttribute+=ability.visionnight();\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getVisionRangePctReduction = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // night_stalker_darkness\n                            case 'blind_percentage':\n                                totalAttribute += self.getAbilityAttributeValue(self.abilities()[i].attributes(), attribute.name(), ability.level())/100;\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.setEvasion = ko.computed(function () {\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (ability.name() == 'windrunner_windrun') {\n                    return 1;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n    \n    self.setMovementSpeed = ko.computed(function () {\n        var MAX_MOVESPEED = 522;\n        var MIN_MOVESPEED = 100;\n        var totalAttribute = 0;\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                if (ability.name() == 'spirit_breaker_charge_of_darkness') {\n                    return self.getAbilityAttributeValue(ability.attributes(), 'movement_speed', ability.level());\n                }\n                if (ability.name() == 'dark_seer_surge') {\n                    return MAX_MOVESPEED;\n                }\n                if (ability.name() == 'centaur_stampede') {\n                    return MAX_MOVESPEED;\n                }\n                if (ability.name() == 'lycan_shapeshift') {\n                    return MAX_MOVESPEED;\n                }\n                if (ability.name() == 'lion_voodoo' || ability.name() == 'shadow_shaman_voodoo') {\n                    return MIN_MOVESPEED;\n                }\n            }\n        }\n        return totalAttribute;\n    });\n\n    self.getBashSource = function (attacktype) {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // sniper_headshot\n                            case 'proc_chance':\n                                if (sources[ability.name()] == undefined && ability.name() == 'sniper_headshot') {\n                                    sources[ability.name()] = {\n                                        'chance': self.getAbilityAttributeValue(ability.attributes(), attribute.name(), ability.level())/100,\n                                        'damage': self.getAbilityPropertyValue(ability, 'damage'),\n                                        'count': 1,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                            // slardar_bash\n                            case 'chance':\n                                if (sources[ability.name()] == undefined && ability.name() == 'slardar_bash') {\n                                    sources[ability.name()] = {\n                                        'chance': self.getAbilityAttributeValue(ability.attributes(), attribute.name(), ability.level())/100,\n                                        'damage': self.getAbilityAttributeValue(ability.attributes(), 'bonus_damage', ability.level()),\n                                        'count': 1,\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.bashBonusDamage != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // faceless_void_time_lock\n                    if (sources[ability.name()] == undefined && ability.name() == 'faceless_void_time_lock') {\n                        sources[ability.name()] = {\n                            'chance': ability.bash()/100,\n                            'damage': ability.bashBonusDamage(),\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': ability.displayname()\n                        }\n                    }\n                    // spirit_breaker_greater_bash\n                    if (sources[ability.name()] == undefined && ability.name() == 'spirit_breaker_greater_bash') {\n                        sources[ability.name()] = {\n                            'chance': ability.bash()/100,\n                            'damage': ability.bashBonusDamage()/100,\n                            'count': 1,\n                            'damageType': 'magic',\n                            'displayname': ability.displayname()\n                        }\n                    }\n                }\n            }\n        }\n\n        return sources;\n    };\n    \n    self.getOrbSource = function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n            if (!(ability.name() in self.abilityData)) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    for (var j = 0; j < self.abilities()[i].attributes().length; j++) {\n                        var attribute = self.abilities()[i].attributes()[j];\n                        switch(attribute.name()) {\n                            // antimage_mana_break\n                            case 'mana_per_hit':\n                                if (sources[ability.name()] == undefined && ability.name() == 'antimage_mana_break') {\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(ability.attributes(), attribute.name(), ability.level()) \n                                                * self.getAbilityAttributeValue(ability.attributes(), 'damage_per_burn', ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                            // clinkz_searing_arrows\n                            case 'damage_bonus':\n                                if (sources[ability.name()] == undefined && ability.name() == 'clinkz_searing_arrows') {\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(ability.attributes(), attribute.name(), ability.level()),\n                                        'damageType': 'physical',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            // silencer_glaives_of_wisdom\n                            case 'intellect_damage_pct':\n                                if (sources[ability.name()] == undefined && ability.name() == 'silencer_glaives_of_wisdom') {\n                                    sources[ability.name()] = {\n                                        'damage': self.getAbilityAttributeValue(ability.attributes(), attribute.name(), ability.level())/100 * self.hero.totalInt(),\n                                        'damageType': 'pure',\n                                        'displayname': ability.displayname()\n                                    }\n                                }\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (ability.bonusDamageOrb != undefined) {\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    // obsidian_destroyer_arcane_orb\n                    if (sources[ability.name()] == undefined && ability.name() == 'obsidian_destroyer_arcane_orb') {\n                        sources[ability.name()] = {\n                            'damage': ability.bonusDamageOrb(),\n                            'damageType': 'pure',\n                            'displayname': ability.displayname()\n                        }\n                    }\n                }\n            }\n        }\n        \n        return sources;\n    };\n    \n    self.toggleAbility = function (index, data, event) {\n        if (self.abilities()[index()].behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') < 0) {\n            if (self.abilities()[index()].isActive()) {\n                self.abilities()[index()].isActive(false);\n            }\n            else {\n                self.abilities()[index()].isActive(true);\n            }\n            \n            if (self.abilities()[index()].name() == 'lycan_shapeshift') {\n                self.isShapeShiftActive(self.abilities()[index()].isActive());\n            }\n        }\n    }.bind(this);\n\n    self.toggleAbilityDetail = function (index, data, event) {\n        if (self.abilities()[index()].isDetail()) {\n            self.abilities()[index()].isDetail(false);\n        }\n        else {\n            self.abilities()[index()].isDetail(true);\n        }\n    }.bind(this);\n\n    self.levelUpAbility = function (index, data, event, hero) {\n        if (self.abilities()[index()].level() < hero.getAbilityLevelMax(data) && hero.availableSkillPoints() > 0 ) {\n            switch(self.abilities()[index()].abilitytype()) {\n                case 'DOTA_ABILITY_TYPE_ULTIMATE':\n                    if (hero.heroId() == 'invoker') {\n                        if (\n                            (self.abilities()[index()].level() == 0) && (parseInt(hero.selectedHeroLevel()) >= 2) ||\n                            (self.abilities()[index()].level() == 1) && (parseInt(hero.selectedHeroLevel()) >= 7) ||\n                            (self.abilities()[index()].level() == 2) && (parseInt(hero.selectedHeroLevel()) >= 11) ||\n                            (self.abilities()[index()].level() == 3) && (parseInt(hero.selectedHeroLevel()) >= 17)\n                        ) {\n                            self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                            hero.skillPointHistory.push(index());\n                        }\n                    }\n                    else if (hero.heroId() == 'meepo') {\n                        if (self.abilities()[index()].level() * 7 + 3 <= parseInt(hero.selectedHeroLevel())) {\n                            self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                            hero.skillPointHistory.push(index());\n                        }\n                    }\n                    else {\n                        if ((self.abilities()[index()].level()+1) * 5 + 1 <= parseInt(hero.selectedHeroLevel())) {\n                            self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                            hero.skillPointHistory.push(index());\n                        }\n                    }\n                break;\n                default:\n                    if (self.abilities()[index()].level() * 2 + 1 <= parseInt(hero.selectedHeroLevel())) {\n                        self.abilities()[index()].level(self.abilities()[index()].level()+1);\n                        hero.skillPointHistory.push(index());\n                    }\n                break;\n            }\n            switch (self.abilities()[index()].name()) {\n                case 'beastmaster_call_of_the_wild':\n                case 'chen_test_of_faith':\n                case 'morphling_morph_agi':\n                case 'shadow_demon_shadow_poison':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'morphling_morph_str':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'keeper_of_the_light_spirit_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                case 'nevermore_shadowraze1':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 2].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze2':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze3':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                break;\n                case 'ember_spirit_fire_remnant':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'lone_druid_true_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n            }\n        }\n    };\n    self.levelDownAbility = function (index, data, event, hero) {\n        if (self.abilities()[index()].level() > 0) {\n            self.abilities()[index()].level(self.abilities()[index()].level() - 1);\n            hero.skillPointHistory.splice(hero.skillPointHistory().lastIndexOf(index()), 1);\n            switch (self.abilities()[index()].name()) {\n                case 'beastmaster_call_of_the_wild':\n                case 'chen_test_of_faith':\n                case 'morphling_morph_agi':\n                case 'shadow_demon_shadow_poison':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'morphling_morph_str':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'keeper_of_the_light_spirit_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                case 'nevermore_shadowraze1':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 2].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze2':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze3':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                break;\n                case 'ember_spirit_fire_remnant':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'lone_druid_true_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n            }\n        }\n    };\n    \n    self.isQWER = function (ability) {\n        return (ability.displayname() != 'Empty' &&  (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_HIDDEN') == -1 || ability.name().indexOf('invoker_') != -1) && ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE') == -1)\n    }\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"./herocalc_core\");\n\nmy.prototype.BuffOption = function (hero, ability) {\n    this.buffName = ability;\n    if (my.prototype.heroData['npc_dota_hero_' + hero] == undefined) {\n        this.hero = hero;\n        this.abilityData = my.prototype.findWhere(my.prototype.unitData[hero].abilities, {name: ability})\n        this.buffDisplayName = my.prototype.unitData[hero].displayname + ' - ' + this.abilityData.displayname;\n    }\n    else {\n        this.hero = 'npc_dota_hero_' + hero;\n        this.abilityData = my.prototype.findWhere(my.prototype.heroData['npc_dota_hero_' + hero].abilities, {name: ability})\n        this.buffDisplayName = my.prototype.heroData['npc_dota_hero_' + hero].displayname + ' - ' + this.abilityData.displayname;        \n        if (ability == 'sven_gods_strength') {\n            this.buffDisplayName += ' (Aura for allies)';\n        }\n    }\n\n};\n\nmy.prototype.ItemBuffOption = function (item) {\n    this.buffName = item;\n    if (my.prototype.heroData['npc_dota_hero_' + hero] == undefined) {\n        this.hero = hero;\n        this.abilityData = my.prototype.findWhere(my.prototype.unitData[hero].abilities, {name: item})\n        this.buffDisplayName = my.prototype.unitData[hero].displayname + ' - ' + this.abilityData.displayname;        \n    }\n    else {\n        this.hero = 'npc_dota_hero_' + hero;\n        this.abilityData = my.prototype.findWhere(my.prototype.heroData['npc_dota_hero_' + hero].abilities, {name: item})\n        this.buffDisplayName = my.prototype.heroData['npc_dota_hero_' + hero].displayname + ' - ' + this.abilityData.displayname;        \n    }\n\n};\n\nmy.prototype.BuffViewModel = function (a) {\n    var self = new my.prototype.AbilityModel(ko.observableArray([]));\n    self.availableBuffs = ko.observableArray([\n        new my.prototype.BuffOption('abaddon', 'abaddon_frostmourne'),\n        new my.prototype.BuffOption('axe', 'axe_culling_blade'),\n        new my.prototype.BuffOption('beastmaster', 'beastmaster_inner_beast'),\n        new my.prototype.BuffOption('bloodseeker', 'bloodseeker_bloodrage'),\n        new my.prototype.BuffOption('bounty_hunter', 'bounty_hunter_track'),\n        new my.prototype.BuffOption('centaur', 'centaur_stampede'),\n        new my.prototype.BuffOption('crystal_maiden', 'crystal_maiden_brilliance_aura'),\n        new my.prototype.BuffOption('dark_seer', 'dark_seer_surge'),\n        new my.prototype.BuffOption('dazzle', 'dazzle_weave'),\n        new my.prototype.BuffOption('drow_ranger', 'drow_ranger_trueshot'),\n        new my.prototype.BuffOption('invoker', 'invoker_alacrity'),\n        new my.prototype.BuffOption('wisp', 'wisp_tether'),\n        new my.prototype.BuffOption('wisp', 'wisp_overcharge'),\n        new my.prototype.BuffOption('kunkka', 'kunkka_ghostship'),\n        new my.prototype.BuffOption('lich', 'lich_frost_armor'),\n        new my.prototype.BuffOption('life_stealer', 'life_stealer_open_wounds'),\n        new my.prototype.BuffOption('luna', 'luna_lunar_blessing'),\n        new my.prototype.BuffOption('lycan', 'lycan_howl'),\n        new my.prototype.BuffOption('magnataur', 'magnataur_empower'),\n        new my.prototype.BuffOption('mirana', 'mirana_leap'),\n        new my.prototype.BuffOption('ogre_magi', 'ogre_magi_bloodlust'),\n        new my.prototype.BuffOption('omniknight', 'omniknight_guardian_angel'),\n        new my.prototype.BuffOption('rubick', 'rubick_null_field'),\n        new my.prototype.BuffOption('skeleton_king', 'skeleton_king_vampiric_aura'),\n        new my.prototype.BuffOption('spirit_breaker', 'spirit_breaker_empowering_haste'),\n        new my.prototype.BuffOption('sven', 'sven_warcry'),\n        new my.prototype.BuffOption('sven', 'sven_gods_strength'),\n        new my.prototype.BuffOption('treant', 'treant_living_armor'),\n        new my.prototype.BuffOption('troll_warlord', 'troll_warlord_battle_trance'),\n        new my.prototype.BuffOption('vengefulspirit', 'vengefulspirit_command_aura'),\n        new my.prototype.BuffOption('npc_dota_neutral_alpha_wolf', 'alpha_wolf_critical_strike'),\n        new my.prototype.BuffOption('npc_dota_neutral_alpha_wolf', 'alpha_wolf_command_aura'),\n        new my.prototype.BuffOption('npc_dota_neutral_polar_furbolg_ursa_warrior', 'centaur_khan_endurance_aura'),\n        new my.prototype.BuffOption('npc_dota_neutral_giant_wolf', 'giant_wolf_critical_strike'),\n        new my.prototype.BuffOption('npc_dota_neutral_kobold_taskmaster', 'kobold_taskmaster_speed_aura'),\n        new my.prototype.BuffOption('npc_dota_neutral_ogre_magi', 'ogre_magi_frost_armor'),\n        new my.prototype.BuffOption('npc_dota_neutral_satyr_hellcaller', 'satyr_hellcaller_unholy_aura'),\n        new my.prototype.BuffOption('npc_dota_neutral_enraged_wildkin', 'enraged_wildkin_toughness_aura'),\n        new my.prototype.BuffOption('npc_dota_necronomicon_archer_1', 'necronomicon_archer_aoe')\n    ]);\n    self.availableDebuffs = ko.observableArray([\n        new my.prototype.BuffOption('abaddon', 'abaddon_frostmourne'),\n        new my.prototype.BuffOption('alchemist', 'alchemist_acid_spray'),\n        new my.prototype.BuffOption('ancient_apparition', 'ancient_apparition_ice_vortex'),\n        new my.prototype.BuffOption('axe', 'axe_battle_hunger'),\n        new my.prototype.BuffOption('bane', 'bane_enfeeble'),\n        new my.prototype.BuffOption('batrider', 'batrider_sticky_napalm'),\n        new my.prototype.BuffOption('beastmaster', 'beastmaster_primal_roar'),\n        new my.prototype.BuffOption('bounty_hunter', 'bounty_hunter_jinada'),\n        new my.prototype.BuffOption('brewmaster', 'brewmaster_thunder_clap'),\n        new my.prototype.BuffOption('brewmaster', 'brewmaster_drunken_haze'),\n        new my.prototype.BuffOption('bristleback', 'bristleback_viscous_nasal_goo'),\n        new my.prototype.BuffOption('broodmother', 'broodmother_incapacitating_bite'),\n        new my.prototype.BuffOption('centaur', 'centaur_stampede'),\n        new my.prototype.BuffOption('chen', 'chen_penitence'),\n        new my.prototype.BuffOption('crystal_maiden', 'crystal_maiden_crystal_nova'),\n        new my.prototype.BuffOption('crystal_maiden', 'crystal_maiden_freezing_field'),\n        new my.prototype.BuffOption('dazzle', 'dazzle_weave'),\n        new my.prototype.BuffOption('drow_ranger', 'drow_ranger_frost_arrows'),\n        new my.prototype.BuffOption('earth_spirit', 'earth_spirit_rolling_boulder'),\n        new my.prototype.BuffOption('elder_titan', 'elder_titan_natural_order'),\n        new my.prototype.BuffOption('elder_titan', 'elder_titan_earth_splitter'),\n        new my.prototype.BuffOption('enchantress', 'enchantress_untouchable'),\n        new my.prototype.BuffOption('enchantress', 'enchantress_enchant'),\n        new my.prototype.BuffOption('faceless_void', 'faceless_void_time_walk'),\n        new my.prototype.BuffOption('huskar', 'huskar_life_break'),\n        new my.prototype.BuffOption('invoker', 'invoker_ghost_walk'),\n        new my.prototype.BuffOption('invoker', 'invoker_ice_wall'),\n        new my.prototype.BuffOption('wisp', 'wisp_tether'),\n        new my.prototype.BuffOption('jakiro', 'jakiro_dual_breath'),\n        new my.prototype.BuffOption('jakiro', 'jakiro_liquid_fire'),\n        new my.prototype.BuffOption('keeper_of_the_light', 'keeper_of_the_light_blinding_light'),\n        new my.prototype.BuffOption('kunkka', 'kunkka_torrent'),\n        new my.prototype.BuffOption('lich', 'lich_frost_nova'),\n        new my.prototype.BuffOption('lich', 'lich_frost_armor'),\n        new my.prototype.BuffOption('lich', 'lich_chain_frost'),\n        new my.prototype.BuffOption('life_stealer', 'life_stealer_open_wounds'),\n        new my.prototype.BuffOption('lion', 'lion_voodoo'),\n        new my.prototype.BuffOption('magnataur', 'magnataur_skewer'),\n        new my.prototype.BuffOption('medusa', 'medusa_stone_gaze'),\n        new my.prototype.BuffOption('meepo', 'meepo_geostrike'),\n        new my.prototype.BuffOption('naga_siren', 'naga_siren_rip_tide'),\n        new my.prototype.BuffOption('night_stalker', 'night_stalker_void'),\n        new my.prototype.BuffOption('night_stalker', 'night_stalker_crippling_fear'),\n        new my.prototype.BuffOption('night_stalker', 'night_stalker_darkness'),\n        new my.prototype.BuffOption('ogre_magi', 'ogre_magi_ignite'),\n        new my.prototype.BuffOption('omniknight', 'omniknight_degen_aura'),\n        new my.prototype.BuffOption('phantom_assassin', 'phantom_assassin_stifling_dagger'),\n        new my.prototype.BuffOption('phantom_lancer', 'phantom_lancer_spirit_lance'),\n        new my.prototype.BuffOption('pudge', 'pudge_rot'),\n        new my.prototype.BuffOption('pugna', 'pugna_decrepify'),\n        new my.prototype.BuffOption('queenofpain', 'queenofpain_shadow_strike'),\n        new my.prototype.BuffOption('riki', 'riki_smoke_screen'),\n        new my.prototype.BuffOption('rubick', 'rubick_fade_bolt'),\n        new my.prototype.BuffOption('sand_king', 'sandking_epicenter'),\n        new my.prototype.BuffOption('nevermore', 'nevermore_dark_lord'),\n        new my.prototype.BuffOption('shadow_shaman', 'shadow_shaman_voodoo'),\n        new my.prototype.BuffOption('skeleton_king', 'skeleton_king_hellfire_blast'),\n        new my.prototype.BuffOption('skeleton_king', 'skeleton_king_reincarnation'),\n        new my.prototype.BuffOption('skywrath_mage', 'skywrath_mage_concussive_shot'),\n        new my.prototype.BuffOption('skywrath_mage', 'skywrath_mage_ancient_seal'),\n        new my.prototype.BuffOption('slardar', 'slardar_slithereen_crush'),\n        new my.prototype.BuffOption('slardar', 'slardar_amplify_damage'),\n        new my.prototype.BuffOption('slark', 'slark_essence_shift'),\n        new my.prototype.BuffOption('sniper', 'sniper_shrapnel'),\n        new my.prototype.BuffOption('spectre', 'spectre_spectral_dagger'),\n        new my.prototype.BuffOption('storm_spirit', 'storm_spirit_overload'),\n        new my.prototype.BuffOption('templar_assassin', 'templar_assassin_meld'),\n        new my.prototype.BuffOption('tidehunter', 'tidehunter_gush'),\n        new my.prototype.BuffOption('tinker', 'tinker_laser'),\n        new my.prototype.BuffOption('treant', 'treant_leech_seed'),\n        new my.prototype.BuffOption('tusk', 'tusk_frozen_sigil'),\n        new my.prototype.BuffOption('undying', 'undying_flesh_golem'),\n        new my.prototype.BuffOption('ursa', 'ursa_earthshock'),\n        new my.prototype.BuffOption('vengefulspirit', 'vengefulspirit_wave_of_terror'),\n        new my.prototype.BuffOption('vengefulspirit', 'vengefulspirit_command_aura'),\n        new my.prototype.BuffOption('venomancer', 'venomancer_venomous_gale'),\n        new my.prototype.BuffOption('venomancer', 'venomancer_poison_sting'),\n        new my.prototype.BuffOption('viper', 'viper_poison_attack'),\n        new my.prototype.BuffOption('viper', 'viper_corrosive_skin'),\n        new my.prototype.BuffOption('viper', 'viper_viper_strike'),\n        new my.prototype.BuffOption('visage', 'visage_grave_chill'),\n        new my.prototype.BuffOption('warlock', 'warlock_upheaval'),\n        new my.prototype.BuffOption('weaver', 'weaver_the_swarm'),\n        new my.prototype.BuffOption('windrunner', 'windrunner_windrun'),\n        new my.prototype.BuffOption('winter_wyvern', 'winter_wyvern_arctic_burn'),\n        new my.prototype.BuffOption('winter_wyvern', 'winter_wyvern_splinter_blast'),\n        new my.prototype.BuffOption('npc_dota_neutral_ghost', 'ghost_frost_attack'),\n        new my.prototype.BuffOption('npc_dota_neutral_polar_furbolg_ursa_warrior', 'polar_furbolg_ursa_warrior_thunder_clap'),\n        new my.prototype.BuffOption('npc_dota_neutral_ogre_magi', 'ogre_magi_frost_armor'),\n        new my.prototype.BuffOption('npc_dota_neutral_satyr_trickster', 'satyr_trickster_purge'),\n        new my.prototype.BuffOption('npc_dota_neutral_enraged_wildkin', 'enraged_wildkin_tornado')\n    ]);\n    self.selectedBuff = ko.observable(self.availableBuffs()[0]);\n    \n    self.buffs = ko.observableArray([]);\n    self.itemBuffs = new my.prototype.InventoryViewModel();\n    \n    self.addBuff = function (data, event) {\n        if (my.prototype.findWhere(self.buffs(), { name: self.selectedBuff().buffName })  == undefined) {\n            var a = ko.mapping.fromJS(self.selectedBuff().abilityData);\n            a.isActive = ko.observable(false);\n            a.isDetail = ko.observable(false);\n            a.baseDamage = ko.observable(0);\n            a.bash = ko.observable(0);\n            a.bashBonusDamage = ko.observable(0);\n            a.bonusDamage = ko.observable(0);\n            a.bonusDamageOrb = ko.observable(0);\n            a.bonusDamagePct = ko.observable(0);\n            a.bonusDamagePrecisionAura = ko.observable(0);\n            a.bonusDamageReduction = ko.observable(0);\n            a.bonusHealth = ko.observable(0);\n            a.bonusStrength = ko.observable(0);\n            a.bonusStrength2 = ko.observable(0);\n            a.bonusAgility = ko.observable(0);\n            a.bonusAgility2 = ko.observable(0);\n            a.bonusInt = ko.observable(0);\n            a.bonusAllStatsReduction = ko.observable(0);\n            a.damageAmplification = ko.observable(0);\n            a.damageReduction = ko.observable(0);\n            a.evasion = ko.observable(0);\n            a.magicResist = ko.observable(0);\n            a.manaregen = ko.observable(0);\n            a.manaregenreduction = ko.observable(0);\n            a.missChance = ko.observable(0);\n            a.movementSpeedFlat = ko.observable(0);\n            a.movementSpeedPct = ko.observable(0);\n            a.movementSpeedPctReduction = ko.observable(0);\n            a.turnRateReduction = ko.observable(0);\n            a.attackrange = ko.observable(0);\n            a.attackspeed = ko.observable(0);\n            a.attackspeedreduction = ko.observable(0);\n            a.armor = ko.observable(0);\n            a.armorReduction = ko.observable(0);\n            a.healthregen = ko.observable(0);\n            a.lifesteal = ko.observable(0);\n            a.visionnight = ko.observable(0);\n            a.visionday = ko.observable(0);\n            switch (a.name()) {\n                case 'invoker_cold_snap':\n                case 'invoker_ghost_walk':\n                case 'invoker_tornado':\n                case 'invoker_emp':\n                case 'invoker_alacrity':\n                case 'invoker_chaos_meteor':\n                case 'invoker_sun_strike':\n                case 'invoker_forge_spirit':\n                case 'invoker_ice_wall':\n                case 'invoker_deafening_blast':\n                    a.level(1);\n                break;\n            }\n            self.abilities.push(a);\n            self.buffs.push({ name: self.selectedBuff().buffName, hero: self.selectedBuff().hero, data: a });\n        }\n    };\n    \n    self.removeBuff = function (data, event, abilityName) {\n        if (my.prototype.findWhere(self.buffs(), { name: abilityName })  != undefined) {\n                self.buffs.remove(my.prototype.findWhere(self.buffs(), { name: abilityName }));\n                if (self.abilityControlData[abilityName] != undefined) {\n                    for (var i = 0; i < self.abilityControlData[abilityName].data.length; i++) {\n                        if (self.abilityControlData[abilityName].data[i].controlVal.dispose != undefined) {\n                            self.abilityControlData[abilityName].data[i].controlVal.dispose();\n                        }\n                        if (self.abilityControlData[abilityName].data[i].clean != undefined) {\n                            self.abilityControlData[abilityName].data[i].clean.dispose();\n                        }\n                    }\n                    self.abilityControlData[abilityName] = undefined;\n                }\n                for (var i = 0; i < self.abilities().length; i++) {\n                    if (self.abilities()[i].name() == abilityName) {\n                        self.abilities()[i].level(0);\n                        self.abilities.remove(self.abilities()[i]);\n                        break;\n                    }\n                }\n        }\n    };\n    self.toggleBuff = function (index, data, event) {\n        if (self.buffs()[index()].data.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') < 0) {\n            if (self.buffs()[index()].data.isActive()) {\n                self.buffs()[index()].data.isActive(false);\n                self.abilities()[index()].isActive(false);\n            }\n            else {\n                self.buffs()[index()].data.isActive(true);\n                self.abilities()[index()].isActive(true);\n            }\n        }\n    }.bind(this);\n\n    self.toggleBuffDetail = function (index, data, event) {\n        if (self.buffs()[index()].data.isDetail()) {\n            self.buffs()[index()].data.isDetail(false);\n        }\n        else {\n            self.buffs()[index()].data.isDetail(true);\n        }\n    }.bind(this);\n\n    // Overrides the ability module function to remove available skill point check\n    self.levelUpAbility = function (index, data, event, hero) {\n        if (self.abilities()[index()].level() < hero.getAbilityLevelMax(data)) {\n            switch(self.abilities()[index()].abilitytype()) {\n                case 'DOTA_ABILITY_TYPE_ULTIMATE':\n                    self.abilities()[index()].level(self.abilities()[index()].level() + 1);\n                break;\n                default:\n                    self.abilities()[index()].level(self.abilities()[index()].level() + 1);\n                break;\n            }\n            switch (self.abilities()[index()].name()) {\n                case 'beastmaster_call_of_the_wild':\n                case 'chen_test_of_faith':\n                case 'morphling_morph_agi':\n                case 'shadow_demon_shadow_poison':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'morphling_morph_str':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'keeper_of_the_light_spirit_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                case 'nevermore_shadowraze1':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 2].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze2':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze3':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                break;\n            }\n        }\n    };\n    self.levelDownAbility = function (index, data, event, hero) {\n        if (self.abilities()[index()].level() > 0) {\n            self.abilities()[index()].level(self.abilities()[index()].level() - 1);\n            switch (self.abilities()[index()].name()) {\n                case 'beastmaster_call_of_the_wild':\n                case 'chen_test_of_faith':\n                case 'morphling_morph_agi':\n                case 'shadow_demon_shadow_poison':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'morphling_morph_str':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'keeper_of_the_light_spirit_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                case 'nevermore_shadowraze1':\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 2].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze2':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() + 1].level(self.abilities()[index()].level());\n                break;\n                case 'nevermore_shadowraze3':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                    self.abilities()[index() - 2].level(self.abilities()[index()].level());\n                break;\n                case 'ember_spirit_fire_remnant':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n                case 'lone_druid_true_form':\n                    self.abilities()[index() - 1].level(self.abilities()[index()].level());\n                break;\n            }\n        }\n    };\n    \n    return self;\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n\nvar my = require(\"./herocalc_core\");\nrequire(\"./herocalc_hero_damage\");\n\nmy.prototype.totalExp = [0, 200, 500, 900, 1400, 2000, 2600, 3400, 4400, 5400, 6000, 8200, 9000, 10400, 11900, 13500, 15200, 17000, 18900, 20900, 23000, 25200, 27500, 29900, 32400];\nmy.prototype.nextLevelExp = [200, 300, 400, 500, 600, 600, 800, 1000, 1000, 600, 2200, 800, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400, 2500, '&mdash;'];\nmy.prototype.diffProperties = [\n    'totalAgi',\n    'totalInt',\n    'totalStr',\n    'health',\n    'healthregen',\n    'mana',\n    'manaregen',\n    'totalArmorPhysical',\n    'totalArmorPhysicalReduction',\n    'totalMovementSpeed',\n    'totalTurnRate',\n    'baseDamage',\n    'bonusDamage',\n    'bonusDamageReduction',\n    'damage',\n    'totalMagicResistanceProduct',\n    'totalMagicResistance',\n    'bat',\n    'ias',\n    'attackTime',\n    'attacksPerSecond',\n    'evasion',\n    'ehpPhysical',\n    'ehpMagical',\n    'bash',\n    'critChance',\n    'critDamage',\n    'missChance',\n    'totalattackrange',\n    'visionrangeday',\n    'visionrangenight',\n    'lifesteal'\n];\n\nmy.prototype.IllusionOption = function (name, displayname, baseHero) {\n    this.illusionName = name;\n    this.illusionDisplayName = displayname;\n    this.baseHero = baseHero;\n};\n\nmy.prototype.createIllusionOptions = function () {\n    var options = [];\n    for (var h in my.prototype.illusionData) {\n        options.push(new my.prototype.IllusionOption(h, my.prototype.illusionData[h].displayName, my.prototype.illusionData[h].hero));\n    }\n    return options;\n}\n\nmy.prototype.HeroModel = function (h) {\n    var self = this;\n    self.heroId = ko.observable(h);\n    self.selectedHeroLevel = ko.observable(1);\n    self.inventory = new my.prototype.InventoryViewModel(self);\n    self.selectedInventory = ko.observable(-1);\n    self.buffs = new my.prototype.BuffViewModel();\n    self.buffs.hasScepter = self.inventory.hasScepter;\n    self.debuffs = new my.prototype.BuffViewModel();\n    /*self.hero = ko.computed(function () {\n        return ko.mapping.fromJS(my.prototype.heroData['npc_dota_hero_' + self.heroId()]);\n    });*/\n    self.heroData = ko.computed(function () {\n      return my.prototype.heroData['npc_dota_hero_' + self.heroId()];\n    });\n    self.heroCompare = ko.observable(self);\n    self.enemy = ko.observable(self);\n    self.unit = ko.observable(self);\n    self.clone = ko.observable(self);\n    self.illusions = ko.observableArray([]);\n    self.availableIllusions = ko.observableArray(my.prototype.createIllusionOptions());\n    self.selectedIllusion = ko.observable(self.availableIllusions()[0]);\n    self.illusionAbilityLevel = ko.observable(1);\n    self.illusionAbilityMaxLevel = ko.computed(function () {\n        return my.prototype.illusionData[self.selectedIllusion().illusionName].max_level;\n    });\n    self.getAbilityLevelMax = function (data) {\n        if (data.abilitytype() === 'DOTA_ABILITY_TYPE_ATTRIBUTES') {\n            return 10;\n        }\n        else if (data.name() === 'invoker_quas' || data.name() === 'invoker_wex' || data.name() === 'invoker_exort') {\n            return 7;\n        }\n        else if (data.name() === 'invoker_invoke') {\n            return 4;\n        }\n        else if (data.name() === 'earth_spirit_stone_caller' || data.name() === 'ogre_magi_unrefined_fireblast') {\n            return 1;\n        }\n        else if (data.abilitytype() === 'DOTA_ABILITY_TYPE_ULTIMATE' || data.name() === 'keeper_of_the_light_recall' ||\n                 data.name() === 'keeper_of_the_light_blinding_light' || data.name() === 'ember_spirit_activate_fire_remnant' ||\n                 data.name() === 'lone_druid_true_form_battle_cry') {\n            return 3;\n        }\n        else if (data.name() === 'puck_ethereal_jaunt'  || data.name() === 'shadow_demon_shadow_poison_release' ||\n                 data.name() === 'templar_assassin_trap' || data.name() === 'spectre_reality') {\n            return 0;\n        }\n        else if (data.name() === 'invoker_cold_snap'  || data.name() === 'invoker_ghost_walk' || data.name() === 'invoker_tornado' || \n                 data.name() === 'invoker_emp' || data.name() === 'invoker_alacrity' || data.name() === 'invoker_chaos_meteor' || \n                 data.name() === 'invoker_sun_strike' || data.name() === 'invoker_forge_spirit' || data.name() === 'invoker_ice_wall' || \n                 data.name() === 'invoker_deafening_blast') {\n            return 0;\n        }\n        else if (data.name() === 'techies_minefield_sign' || data.name() === 'techies_focused_detonate') {\n            return 0;\n        }\n        else {\n            return 4;\n        }\n    };\n    \n    self.skillPointHistory = ko.observableArray();\n    \n    self.ability = ko.computed(function () {\n        var a = new my.prototype.AbilityModel(ko.mapping.fromJS(self.heroData().abilities), self);\n        if (self.heroId() === 'earth_spirit' || self.heroId() === 'ogre_magi') {\n            a.abilities()[3].level(1);\n        }\n        else if (self.heroId() === 'invoker') {\n            for (var i = 6; i < 16; i++) {\n                a.abilities()[i].level(1);\n            }\n        }\n        self.skillPointHistory.removeAll();\n        a.hasScepter = self.inventory.hasScepter\n        return a;\n    });\n\n    self.availableSkillPoints = ko.computed(function () {\n        var c = self.selectedHeroLevel();\n        for (var i = 0; i < self.ability().abilities().length; i++) {\n            var getIndex = function () {\n                return i;\n            };\n            switch(self.ability().abilities()[i].abilitytype()) {\n                case 'DOTA_ABILITY_TYPE_ULTIMATE':\n                    if (self.heroId() === 'invoker') {\n                        while (\n                            ((self.ability().abilities()[i].level() == 1) && (parseInt(self.selectedHeroLevel()) < 2)) ||\n                            ((self.ability().abilities()[i].level() == 2) && (parseInt(self.selectedHeroLevel()) < 7)) ||\n                            ((self.ability().abilities()[i].level() == 3) && (parseInt(self.selectedHeroLevel()) < 11)) ||\n                            ((self.ability().abilities()[i].level() == 4) && (parseInt(self.selectedHeroLevel()) < 17))\n                        ) {\n                            self.ability().levelDownAbility(getIndex, null, null, self);\n                        }\n                    }\n                    else if (self.heroId() === 'meepo') {\n                        while ((self.ability().abilities()[i].level()-1) * 7 + 3 > parseInt(self.selectedHeroLevel())) {\n                            self.ability().levelDownAbility(getIndex, null, null, self);\n                        }\n                    }\n                    else {\n                        while (self.ability().abilities()[i].level() * 5 + 1 > parseInt(self.selectedHeroLevel())) {\n                            self.ability().levelDownAbility(getIndex, null, null, self);\n                        }\n                    }\n                break;\n                default:\n                    while (self.ability().abilities()[i].level() * 2 - 1 > parseInt(self.selectedHeroLevel())) {\n                        self.ability().levelDownAbility(getIndex, null, null, self);\n                    }\n                break;\n            }\n        }\n        var getIndex = function () {\n            return self.skillPointHistory()[self.skillPointHistory().length-1];\n        };\n        while (self.skillPointHistory().length > c) {\n            self.ability().levelDownAbility(getIndex, null, null, self);\n        }\n        return c-self.skillPointHistory().length;\n    }, this);\n    self.primaryAttribute = ko.pureComputed(function () {\n        var v = self.heroData().attributeprimary;\n        if (v === 'DOTA_ATTRIBUTE_AGILITY') return 'agi';\n        if (v === 'DOTA_ATTRIBUTE_INTELLECT') return 'int';\n        if (v === 'DOTA_ATTRIBUTE_STRENGTH') return 'str';\n        return '';\n    });\n    self.totalExp = ko.pureComputed(function () {\n        return my.prototype.totalExp[self.selectedHeroLevel() - 1];\n    });\n    self.nextLevelExp = ko.pureComputed(function () {\n        return my.prototype.nextLevelExp[self.selectedHeroLevel() - 1];\n    });\n    self.startingArmor = ko.pureComputed(function () {\n        return (self.heroData().attributebaseagility * .14 + self.heroData().armorphysical).toFixed(2);\n    });\n    self.respawnTime = ko.pureComputed(function () {\n        return 5 + 3.8 * self.selectedHeroLevel();\n    });\n    self.totalAttribute = function (a) {\n        if (a === 'agi') return parseFloat(self.totalAgi());\n        if (a === 'int') return parseFloat(self.totalInt());\n        if (a === 'str') return parseFloat(self.totalStr());\n        return 0;\n    };\n    self.totalAgi = ko.pureComputed(function () {\n        return (self.heroData().attributebaseagility\n                + self.heroData().attributeagilitygain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('agi') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getAgility()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.intStolen = ko.observable(0).extend({ numeric: 0 });\n    self.totalInt = ko.pureComputed(function () {\n        return (self.heroData().attributebaseintelligence \n                + self.heroData().attributeintelligencegain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('int') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getIntelligence()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction() + self.intStolen()\n               ).toFixed(2);\n    });\n    self.totalStr = ko.pureComputed(function () {\n        return (self.heroData().attributebasestrength \n                + self.heroData().attributestrengthgain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('str') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getStrength()\n                + self.enemy().ability().getStrengthReduction()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.health = ko.pureComputed(function () {\n        return (self.heroData().statushealth + Math.floor(self.totalStr()) * 20 \n                + self.inventory.getHealth()\n                + self.ability().getHealth()).toFixed(2);\n    });\n    self.healthregen = ko.pureComputed(function () {\n        var healthRegenAura = [self.inventory.getHealthRegenAura, self.buffs.itemBuffs.getHealthRegenAura].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value: 0, excludeList: []});\n        return (self.heroData().statushealthregen + self.totalStr() * .03 \n                + self.inventory.getHealthRegen() \n                + self.ability().getHealthRegen()\n                + self.buffs.getHealthRegen()\n                + healthRegenAura.value\n                ).toFixed(2);\n    });\n    self.mana = ko.pureComputed(function () {\n        return (self.heroData().statusmana\n                + self.totalInt() * 12\n                + self.inventory.getMana()\n                + self.ability().getMana()).toFixed(2);\n    });\n    self.manaregen = ko.pureComputed(function () {\n        return ((self.heroData().statusmanaregen \n                + self.totalInt() * .04 \n                + self.ability().getManaRegen()) \n                * (1 + self.inventory.getManaRegenPercent()) \n                + (self.heroId() === 'crystal_maiden' ? self.ability().getManaRegenArcaneAura() * 2 : self.buffs.getManaRegenArcaneAura())\n                + self.inventory.getManaRegenBloodstone()\n                + self.inventory.getManaRegen()\n                - self.enemy().ability().getManaRegenReduction()).toFixed(2);\n    });\n    self.totalArmorPhysical = ko.pureComputed(function () {\n        var armorAura = [self.inventory.getArmorAura, self.buffs.itemBuffs.getArmorAura].reduce(function (memo, fn) {\n            var obj = fn(memo.attributes);\n            return obj;\n        }, {value:0, attributes:[]});\n        var armorReduction = [self.enemy().inventory.getArmorReduction, self.debuffs.itemBuffs.getArmorReduction].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value: 0, excludeList: []});\n        return (self.enemy().ability().getArmorBaseReduction() * self.debuffs.getArmorBaseReduction() * (self.heroData().armorphysical + self.totalAgi() * .14)\n                + self.inventory.getArmor()\n                //+ self.inventory.getArmorAura().value\n                //+ self.enemy().inventory.getArmorReduction()\n                + self.ability().getArmor()\n                + self.enemy().ability().getArmorReduction()\n                + self.buffs.getArmor()\n                + self.buffs.itemBuffs.getArmor()\n                + self.debuffs.getArmorReduction()\n                //+ self.buffs.itemBuffs.getArmorAura().value\n                + armorAura.value\n                + armorReduction.value\n                //+ self.debuffs.getArmorReduction()\n                ).toFixed(2);\n    });\n    self.totalArmorPhysicalReduction = ko.pureComputed(function () {\n        var totalArmor = self.totalArmorPhysical();\n        if (totalArmor >= 0) {\n            return ((0.06 * self.totalArmorPhysical()) / (1 + 0.06 * self.totalArmorPhysical()) * 100).toFixed(2);\n        }\n        else {\n            return -((0.06 * -self.totalArmorPhysical()) / (1 + 0.06 * -self.totalArmorPhysical()) * 100).toFixed(2);\n        }\n    });\n    self.totalMovementSpeed = ko.pureComputed(function () {\n        var MIN_MOVESPEED = 100;\n        var ms = (self.ability().setMovementSpeed() > 0 ? self.ability().setMovementSpeed() : self.buffs.setMovementSpeed());\n        if (ms > 0) {\n            return ms;\n        }\n        else {\n            var movementSpeedPercent = [self.inventory.getMovementSpeedPercent, self.buffs.itemBuffs.getMovementSpeedPercent].reduce(function (memo, fn) {\n                var obj = fn(memo.excludeList);\n                obj.value += memo.value;\n                return obj;\n            }, {value:0, excludeList:[]});\n            var movementSpeedPercentReduction = [self.enemy().inventory.getMovementSpeedPercentReduction, self.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function (memo, fn) {\n                var obj = fn(memo.excludeList);\n                obj.value += memo.value;\n                return obj;\n            }, {value:0, excludeList:[]});\n            return Math.max(\n                self.enemy().inventory.isSheeped() || self.debuffs.itemBuffs.isSheeped() ? 140 :\n                (self.heroData().movementspeed + self.inventory.getMovementSpeedFlat()+ self.ability().getMovementSpeedFlat()) * \n                (1 //+ self.inventory.getMovementSpeedPercent() \n                   + movementSpeedPercent.value\n                   + movementSpeedPercentReduction.value\n                   + self.ability().getMovementSpeedPercent() \n                   //+ self.enemy().inventory.getMovementSpeedPercentReduction() \n                   + self.enemy().ability().getMovementSpeedPercentReduction() \n                   + self.buffs.getMovementSpeedPercent() \n                   + self.debuffs.getMovementSpeedPercentReduction()\n                   + self.unit().ability().getMovementSpeedPercent() \n                )\n            , MIN_MOVESPEED).toFixed(2);\n        }\n    });\n    self.totalTurnRate = ko.pureComputed(function () {\n        return (self.heroData().movementturnrate \n                * (1 + self.enemy().ability().getTurnRateReduction()\n                     + self.debuffs.getTurnRateReduction())).toFixed(2);\n    });\n    self.baseDamage = ko.pureComputed(function () {\n        var totalAttribute = self.totalAttribute(self.primaryAttribute()),\n            abilityBaseDamage = self.ability().getBaseDamage(),\n            minDamage = self.heroData().attackdamagemin,\n            maxDamage = self.heroData().attackdamagemax;\n        return [Math.floor((minDamage + totalAttribute + abilityBaseDamage.total) * self.ability().getSelfBaseDamageReductionPct() * self.enemy().ability().getBaseDamageReductionPct() * self.debuffs.getBaseDamageReductionPct() * self.debuffs.itemBuffs.getBaseDamageReductionPct() * abilityBaseDamage.multiplier),\n                Math.floor((maxDamage + totalAttribute + abilityBaseDamage.total) * self.ability().getSelfBaseDamageReductionPct() * self.enemy().ability().getBaseDamageReductionPct() * self.debuffs.getBaseDamageReductionPct() * self.debuffs.itemBuffs.getBaseDamageReductionPct() * abilityBaseDamage.multiplier)];\n    });\n    self.baseDamageAvg = ko.pureComputed(function () {\n        return (self.baseDamage()[0] + self.baseDamage()[1]) / 2;\n    });\n    self.baseDamageMin = ko.pureComputed(function () {\n        return self.baseDamage()[0];\n    });\n    self.baseDamageMax = ko.pureComputed(function () {\n        return self.baseDamage()[1];\n    });\n    self.bonusDamage = ko.pureComputed(function () {\n        return ((self.inventory.getBonusDamage().total\n                + self.ability().getBonusDamage().total\n                + self.buffs.getBonusDamage().total\n                + Math.floor((self.baseDamage()[0] + self.baseDamage()[1]) / 2 \n                              * (self.buffs.itemBuffs.getBonusDamagePercent(self.inventory.getBonusDamagePercent()).total\n                                 + self.ability().getBonusDamagePercent().total\n                                 + self.buffs.getBonusDamagePercent().total\n                                )\n                            )\n                + Math.floor(\n                    (self.heroData().attacktype == 'DOTA_UNIT_CAP_RANGED_ATTACK' \n                        ? ((self.heroId() == 'drow_ranger') ? self.ability().getBonusDamagePrecisionAura().total[0] * self.totalAgi() : self.buffs.getBonusDamagePrecisionAura().total[1])\n                        : 0)\n                  )\n                + Math.floor(\n                    ((self.heroId() == 'riki') ? self.ability().getBonusDamageBackstab().total[0] * self.totalAgi() : 0)\n                  )\n                ) * self.ability().getSelfBaseDamageReductionPct()\n                  * self.enemy().ability().getBaseDamageReductionPct()\n                  * self.debuffs.itemBuffs.getBaseDamageReductionPct());\n    });\n    self.bonusDamageReduction = ko.pureComputed(function () {\n        return Math.abs(self.enemy().ability().getBonusDamageReduction() + self.debuffs.getBonusDamageReduction());\n    });\n    self.damageAvg = ko.pureComputed(function () {\n        return (self.baseDamage()[0] + self.baseDamage()[1]) / 2 + self.bonusDamage();\n    });\n    self.damageMin = ko.pureComputed(function () {\n        return self.baseDamage()[0] + self.bonusDamage();\n    });\n    self.damageMax = ko.pureComputed(function () {\n        return self.baseDamage()[1] + self.bonusDamage();\n    });\n    self.damage = ko.pureComputed(function () {\n        return [self.baseDamage()[0] + self.bonusDamage(),\n                self.baseDamage()[1] + self.bonusDamage()];\n    });\n    self.totalMagicResistanceProduct = ko.pureComputed(function () {\n        return (1 - self.heroData().magicalresistance / 100) \n                * self.inventory.getMagicResist()\n                * self.ability().getMagicResist()\n                * self.buffs.getMagicResist()\n                * self.inventory.getMagicResistReductionSelf()\n                * self.enemy().inventory.getMagicResistReduction()\n                * self.enemy().ability().getMagicResistReduction()\n                * self.debuffs.getMagicResistReduction()\n                * self.debuffs.itemBuffs.getMagicResistReduction();\n    });\n    self.totalMagicResistance = ko.pureComputed(function () {\n        return ((1 - self.totalMagicResistanceProduct()) * 100).toFixed(2);\n    });\n    self.bat = ko.pureComputed(function () {\n        var abilityBAT = self.ability().getBAT();\n        if (abilityBAT > 0) {\n            return abilityBAT;\n        }\n        return self.heroData().attackrate;\n    });\n    self.ias = ko.pureComputed(function () {\n        var attackSpeed = [self.inventory.getAttackSpeed, self.buffs.itemBuffs.getAttackSpeed].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value:0, excludeList:[]});\n        var attackSpeedReduction = [self.enemy().inventory.getAttackSpeedReduction, self.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value += memo.value;\n            return obj;\n        }, {value:0, excludeList: []});\n        var val = parseFloat(self.totalAgi()) \n                //+ self.inventory.getAttackSpeed() \n                + attackSpeed.value\n                + attackSpeedReduction.value\n                //+ self.enemy().inventory.getAttackSpeedReduction() \n                + self.ability().getAttackSpeed() \n                + self.enemy().ability().getAttackSpeedReduction() \n                + self.buffs.getAttackSpeed() \n                + self.debuffs.getAttackSpeedReduction()\n                + self.unit().ability().getAttackSpeed(); \n        if (val < -80) {\n            return -80;\n        }\n        else if (val > 500) {\n            return 500;\n        }\n        return val.toFixed(2);\n    });\n    self.attackTime = ko.pureComputed(function () {\n        return (self.bat() / (1 + self.ias() / 100)).toFixed(2);\n    });\n    self.attacksPerSecond = ko.pureComputed(function () {\n        return ((1 + self.ias() / 100) / self.bat()).toFixed(2);\n    });\n    self.evasion = ko.pureComputed(function () {\n        if (self.enemy().inventory.isSheeped() || self.debuffs.itemBuffs.isSheeped()) return 0;\n        var e = self.ability().setEvasion();\n        if (e) {\n            return (e * 100).toFixed(2);\n        }\n        else {\n            return ((1-(self.inventory.getEvasion() * self.ability().getEvasion() * self.ability().getEvasionBacktrack() * self.buffs.itemBuffs.getEvasion())) * 100).toFixed(2);\n        }\n    });\n    self.ehpPhysical = ko.pureComputed(function () {\n        var evasion = self.enemy().inventory.isSheeped() || self.debuffs.itemBuffs.isSheeped() ? 1 : self.inventory.getEvasion() * self.ability().getEvasion() * self.buffs.itemBuffs.getEvasion();\n        if (self.totalArmorPhysical() >= 0) {\n            var ehp = self.health() * (1 + .06 * self.totalArmorPhysical());\n        }\n        else {\n            var ehp = self.health() * (1 - .06 * self.totalArmorPhysical()) / (1 - .12 * self.totalArmorPhysical());\n        }\n        ehp /= (1 - (1 - (evasion * self.ability().getEvasionBacktrack())));\n        ehp /= (1 - parseFloat(self.enemy().missChance()) / 100);\n        ehp *= (self.inventory.activeItems().some(function (item) {return item.item == 'mask_of_madness';}) ? (1 / 1.3) : 1);\n        ehp *= (1 / self.ability().getDamageReduction());\n        ehp *= (1 / self.buffs.getDamageReduction());\n        ehp *= (1 / self.enemy().ability().getDamageAmplification());\n        ehp *= (1 / self.debuffs.getDamageAmplification());\n        return ehp.toFixed(2);\n    });\n    self.ehpMagical = ko.pureComputed(function () {\n        var ehp = self.health() / self.totalMagicResistanceProduct();\n        ehp *= (self.inventory.activeItems().some(function (item) {return item.item == 'mask_of_madness';}) ? (1 / 1.3) : 1);\n        ehp *= (1 / self.ability().getDamageReduction());\n        ehp *= (1 / self.buffs.getDamageReduction());\n        ehp *= (1 / self.ability().getEvasionBacktrack());\n        ehp *= (1 / self.enemy().ability().getDamageAmplification());\n        ehp *= (1 / self.debuffs.getDamageAmplification());\n        return ehp.toFixed(2);\n    });\n    self.bash = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        return ((1 - (self.inventory.getBash(attacktype) * self.ability().getBash())) * 100).toFixed(2);\n    });\n    \n    self.critChance = ko.pureComputed(function () {\n        return ((1 - (self.inventory.getCritChance() * self.ability().getCritChance())) * 100).toFixed(2);\n    });\n\n    my.prototype.HeroDamageMixin(self);\n    \n    self.critDamage = ko.computed(function () {\n        self.critInfo();\n        return 0;\n    });\n    self.missChance = ko.pureComputed(function () {\n        var missDebuff = [self.enemy().inventory.getMissChance, self.debuffs.itemBuffs.getMissChance].reduce(function (memo, fn) {\n            var obj = fn(memo.excludeList);\n            obj.value *= memo.value;\n            return obj;\n        }, {value:1, excludeList:[]});\n        return ((1 - (self.enemy().ability().getMissChance() * self.debuffs.getMissChance() * missDebuff.value)) * 100).toFixed(2);\n    });\n    self.totalattackrange = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        return self.heroData().attackrange + self.ability().getAttackRange() + self.inventory.getAttackRange(attacktype).value;\n    });\n    self.visionrangeday = ko.pureComputed(function () {\n        return (self.heroData().visiondaytimerange) * (1 + self.enemy().ability().getVisionRangePctReduction() + self.debuffs.getVisionRangePctReduction());\n    });\n    self.visionrangenight = ko.pureComputed(function () {\n        return (self.heroData().visionnighttimerange + self.inventory.getVisionRangeNight() + self.ability().getVisionRangeNight()) * (1 + self.enemy().ability().getVisionRangePctReduction() + self.debuffs.getVisionRangePctReduction());\n    });\n    self.lifesteal = ko.pureComputed(function () {\n        var total = self.inventory.getLifesteal() + self.ability().getLifesteal() + self.buffs.getLifesteal();\n        if (self.heroData().attacktype == 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n            var lifestealAura = [self.inventory.getLifestealAura, self.buffs.itemBuffs.getLifestealAura].reduce(function (memo, fn) {\n                var obj = fn(memo.excludeList);\n                obj.value += memo.value;\n                return obj;\n            }, {value: 0, excludeList: []});\n            total += lifestealAura.value;\n        }\n        return (total).toFixed(2);\n    });\n    \n    self.addIllusion = function (data, event) {\n        self.illusions.push(ko.observable(new my.prototype.IllusionViewModel(0, self, self.illusionAbilityLevel())));\n    };\n    \n    self.diffProperties = my.prototype.diffProperties;\n    self.diff = {};\n    self.getDiffFunction = function (prop) {\n        return ko.computed(function () {\n            if (prop == 'baseDamage') {\n                return [self[prop]()[0] - self.heroCompare()[prop]()[0], self[prop]()[1] - self.heroCompare()[prop]()[1]];\n            }\n            else {\n                return self[prop]() - self.heroCompare()[prop]();\n            }\n        }, this, { deferEvaluation: true });\n    }\n    for (var i = 0; i < self.diffProperties.length; i++) {\n        var index = i;\n        self.diff[self.diffProperties[index]] = self.getDiffFunction(self.diffProperties[index]);\n    }\n\n};\n\n","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"./herocalc_core\");\n\nmy.prototype.illusionData = {\n    chaos_knight_phantasm: {\n        hero: 'chaos_knight',\n        displayName: 'Chaos Knight Phantasm',\n        use_selected_hero: false,\n        max_level: 3,\n        outgoing_damage: 'outgoing_damage',\n        incoming_damage: 'incoming_damage'\n    },\n    naga_siren_mirror_image: {\n        hero: 'naga_siren',\n        displayName: 'Naga Siren Mirror Image',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'outgoing_damage',\n        incoming_damage: 'incoming_damage'\n    },\n    dark_seer_wall_of_replica: {\n        hero: 'dark_seer',\n        displayName: 'Dark Seer Wall of Replica',\n        use_selected_hero: true,\n        max_level: 3,\n        outgoing_damage: 'replica_damage_outgoing',\n        incoming_damage: 'replica_damage_incoming',\n        outgoing_damage_scepter: 'replica_damage_outgoing_scepter'\n    },\n    morphling_replicate: {\n        hero: 'morphling',\n        displayName: 'Morphling Replicate',\n        use_selected_hero: true,\n        max_level: 3,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'\n    },\n    phantom_lancer_doppelwalk: {\n        hero: 'phantom_lancer',\n        displayName: 'Phantom Lancer Doppelwalk',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'        \n    },\n    phantom_lancer_juxtapose: {\n        hero: 'phantom_lancer',\n        displayName: 'Phantom Lancer Juxtapose',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'        \n    },\n    phantom_lancer_spirit_lance: {\n        hero: 'phantom_lancer',\n        displayName: 'Phantom Lancer Spirit Lance',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_damage_out_pct',\n        incoming_damage: 'illusion_damage_in_pct'        \n    },\n    shadow_demon_disruption: {\n        hero: 'shadow_demon',\n        displayName: 'Shadow Demon Disruption',\n        use_selected_hero: true,\n        max_level: 4,\n        outgoing_damage: 'illusion_outgoing_damage',\n        incoming_damage: 'illusion_incoming_damage'        \n    },\n    spectre_haunt: {\n        hero: 'spectre',\n        displayName: 'Spectre Haunt',\n        use_selected_hero: false,\n        max_level: 3,\n        outgoing_damage: 'illusion_damage_outgoing',\n        incoming_damage: 'illusion_damage_incoming'        \n    },\n    terrorblade_conjure_image: {\n        hero: 'terrorblade',\n        displayName: 'Terrorblade Conjure Image',\n        use_selected_hero: false,\n        max_level: 4,\n        outgoing_damage: 'illusion_outgoing_damage',\n        incoming_damage: 'illusion_incoming_damage'        \n    },\n    terrorblade_reflection: {\n        hero: 'terrorblade',\n        displayName: 'Terrorblade Reflection',\n        use_selected_hero: true,\n        max_level: 4,\n        outgoing_damage: 'illusion_outgoing_damage'     \n    },\n    item_manta: {\n        hero: '',\n        is_item: true,\n        displayName: 'Manta Style Illusion',\n        use_selected_hero: true,\n        max_level: 1,\n        outgoing_damage_melee: 'images_do_damage_percent_melee',\n        incoming_damage_melee: 'images_take_damage_percent_melee',\n        outgoing_damage_ranged: 'images_do_damage_percent_ranged',\n        incoming_damage_ranged: 'images_take_damage_percent_ranged'\n    }\n}\n\nmy.prototype.IllusionViewModel = function (h, p, abilityLevel) {\n    var self = new my.prototype.HeroCalculatorModel(0);\n    self.parent = p;\n    self.inventory = self.parent.inventory;\n    self.illusionType = ko.observable(self.parent.selectedIllusion().illusionName);\n    self.illusionDisplayName = ko.observable(self.parent.selectedIllusion().illusionDisplayName);\n    self.illusionAbilityLevel(abilityLevel);\n    self.illusionAbilityMaxLevel = ko.observable(my.prototype.illusionData[self.parent.selectedIllusion().illusionName].max_level);\n    if (!my.prototype.illusionData[self.illusionType()].use_selected_hero) {\n        self.selectedHero(my.prototype.findWhere(self.availableHeroes(), {heroName: self.parent.selectedIllusion().baseHero}));\n    }\n    else {\n        self.selectedHero(self.parent.selectedHero());\n    }\n    self.selectedHeroLevel(self.parent.selectedHeroLevel());\n    self.hero = ko.computed(function() {\n        return ko.mapping.fromJS(my.prototype.heroData['npc_dota_hero_' + self.selectedHero().heroName]);\n    });\n    \n    self.ability().getAttributeBonusLevel = self.parent.ability().getAttributeBonusLevel;\n    self.totalAgi = ko.computed(function () {\n        return (self.heroData().attributebaseagility\n                + self.heroData().attributeagilitygain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('agi') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getAgility()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.intStolen = ko.observable(0).extend({ numeric: 0 });\n    self.totalInt = ko.computed(function () {\n        return (self.heroData().attributebaseintelligence \n                + self.heroData().attributeintelligencegain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('int') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getIntelligence()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction() + self.intStolen()\n               ).toFixed(2);\n    });\n    self.totalStr = ko.computed(function () {\n        return (self.heroData().attributebasestrength \n                + self.heroData().attributestrengthgain * (self.selectedHeroLevel() - 1) \n                + self.inventory.getAttributes('str') \n                + self.ability().getAttributeBonusLevel() * 2\n                + self.ability().getStrength()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    \n    self.getAbilityAttributeValue = function(hero, ability, attributeName, level) {\n        if (ability == 'item_manta') {\n            var abilityObj = my.prototype.itemData[ability];\n        }\n        else {\n            var abilityObj = my.prototype.findWhere(my.prototype.heroData['npc_dota_hero_' + hero].abilities, {name: ability});\n        }\n        var attribute = my.prototype.findWhere(abilityObj.attributes, {name: attributeName});\n        if (level == 0) {\n            return parseFloat(attribute.value[0]);\n        }\n        else if (level > attribute.length) {\n            return parseFloat(attribute.value[0]);\n        }\n        else {\n            return parseFloat(attribute.value[level - 1]);\n        }\n    }\n    \n    self.getIncomingDamageMultiplier = function(illusionType, hasScepter, attackType) {\n        if (illusionType == 'item_manta') {\n            if (attackType == 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n                return (1 + self.getAbilityAttributeValue(my.prototype.illusionData[self.illusionType()].hero, self.illusionType(), my.prototype.illusionData[illusionType].incoming_damage_melee, self.illusionAbilityLevel())/100)\n            }\n            else {\n                return (1 + self.getAbilityAttributeValue(my.prototype.illusionData[self.illusionType()].hero, self.illusionType(), my.prototype.illusionData[illusionType].incoming_damage_ranged, self.illusionAbilityLevel())/100)\n            }\n        }\n        else {\n            return (1 + self.getAbilityAttributeValue(my.prototype.illusionData[self.illusionType()].hero, self.illusionType(), my.prototype.illusionData[illusionType].incoming_damage, self.illusionAbilityLevel())/100)\n        }\n    }\n    self.getOutgoingDamageMultiplier = function(illusionType, hasScepter, attackType) {\n        if (illusionType == 'item_manta') {\n            if (attackType == 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n                return (1 + self.getAbilityAttributeValue(my.prototype.illusionData[self.illusionType()].hero, self.illusionType(), my.prototype.illusionData[illusionType].outgoing_damage_melee, self.illusionAbilityLevel())/100);\n            }\n            else {\n                return (1 + self.getAbilityAttributeValue(my.prototype.illusionData[self.illusionType()].hero, self.illusionType(), my.prototype.illusionData[illusionType].outgoing_damage_ranged, self.illusionAbilityLevel())/100);\n            }\n        }\n        else {\n            return (1 + self.getAbilityAttributeValue(my.prototype.illusionData[self.illusionType()].hero, self.illusionType(), my.prototype.illusionData[illusionType].outgoing_damage, self.illusionAbilityLevel())/100);\n        }\n    }\n\n    self.baseDamage = ko.computed(function() {\n        return [Math.floor(my.prototype.heroData['npc_dota_hero_' + self.selectedHero().heroName].attackdamagemin + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total)\n                * self.getOutgoingDamageMultiplier(self.illusionType(), false, self.hero().attacktype()),\n                Math.floor(my.prototype.heroData['npc_dota_hero_' + self.selectedHero().heroName].attackdamagemax + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total)\n                * self.getOutgoingDamageMultiplier(self.illusionType(), false, self.hero().attacktype())];\n    });\n    \n    self.damage = ko.computed(function() {\n        return [self.baseDamage()[0],\n                self.baseDamage()[1]];\n    });\n    \n    self.ehpPhysical = ko.computed(function() {\n        var ehp = (self.health() * (1 + .06 * self.totalArmorPhysical())) / (1 - (1 - (self.inventory.getEvasion() * self.ability().getEvasion())))\n        ehp *= (self.inventory.activeItems().some(function(item) {return item.item == 'mask_of_madness';}) ? (1 / 1.3) : 1);\n        ehp *= (1 / self.getIncomingDamageMultiplier(self.illusionType(), false, self.hero().attacktype()));\n        return ehp.toFixed(2);\n    });\n    self.ehpMagical = ko.computed(function() {\n        var ehp = self.health() / self.totalMagicResistanceProduct();\n        ehp *= (1 / self.getIncomingDamageMultiplier(self.illusionType(), false, self.hero().attacktype()));\n        return ehp.toFixed(2);\n    });\n    \n    self.totalArmorPhysical = ko.computed(function() {\n        return (self.enemy().ability().getArmorBaseReduction() * self.debuffs.getArmorBaseReduction() * (my.prototype.heroData['npc_dota_hero_' + self.selectedHero().heroName].armorphysical + self.totalAgi() * .14)\n                + self.ability().getArmor() + self.enemy().ability().getArmorReduction() + self.buffs.getArmor() + self.debuffs.getArmorReduction()).toFixed(2);\n    });\n    \n    self.ias = ko.computed(function() {\n        var val = parseFloat(self.totalAgi()) \n                + self.ability().getAttackSpeed() \n                + self.enemy().ability().getAttackSpeedReduction() \n                + self.buffs.getAttackSpeed() \n                + self.debuffs.getAttackSpeedReduction()\n                + self.unit().ability().getAttackSpeed(); \n        if (val < -80) {\n            return -80;\n        }\n        else if (val > 400) {\n            return 400;\n        }\n        return val.toFixed(2);\n    });\n    \n    return self;\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n\nvar my = require(\"./herocalc_core\");\n\nmy.prototype.CloneOption = function (name, displayname, levels, image, level) {\n    this.heroName = ko.computed(function() {\n        return (levels > 0) ? name + (level() <= levels ? level() : 1) : name;\n    });\n    this.heroDisplayName = displayname;\n    this.image = image;\n    this.levels = levels;\n};\n\nmy.prototype.CloneViewModel = function (h,p) {\n    var self = new my.prototype.HeroCalculatorModel(0);\n    self.parent = p;\n    self.selectedHero(my.prototype.findWhere(self.availableHeroes(), {heroName: 'meepo'}));\n    self.hero = ko.computed(function() {\n        return ko.mapping.fromJS(my.prototype.heroData['npc_dota_hero_meepo']);\n    });\n    return self;\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"./herocalc_core\");\n\nmy.prototype.UnitOption = function (name, displayname, levels, image, level) {\n    this.heroName = ko.computed(function() {\n        return (levels > 0) ? name + (level() <= levels ? level() : 1) : name;\n    });\n    this.heroDisplayName = displayname;\n    this.image = image;\n    this.levels = levels;\n};\n\nmy.prototype.UnitViewModel = function (h,p) {\n    var self = new my.prototype.HeroCalculatorModel(0);\n    self.parent = p;\n    self.selectedUnitLevel = ko.observable(1);\n    self.availableUnits = ko.observableArray([\n        new my.prototype.UnitOption('npc_dota_lone_druid_bear', 'Lone Druid Spirit Bear',4,'/media/images/units/spirit_bear.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_brewmaster_earth_','Brewmaster Earth Warrior',3,'/media/images/units/npc_dota_brewmaster_earth.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_brewmaster_fire_','Brewmaster Fire Warrior',3,'/media/images/units/npc_dota_brewmaster_fire.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_brewmaster_storm_','Brewmaster Storm Warrior',3,'/media/images/units/npc_dota_brewmaster_storm.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_necronomicon_archer_','Necronomicon Archer',3,'/media/images/units/npc_dota_necronomicon_archer.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_necronomicon_warrior_','Necronomicon Warrior',3,'/media/images/units/npc_dota_necronomicon_warrior.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_lycan_wolf','Lycan Wolf',4,'/media/images/units/npc_dota_lycan_wolf.png', self.selectedUnitLevel),\n        new my.prototype.UnitOption('npc_dota_visage_familiar','Visage Familiar',3,'/media/images/units/npc_dota_visage_familiar.png', self.selectedUnitLevel)\n    ]);\n    self.selectedUnit = ko.observable(self.availableUnits()[h]);\n    self.selectedUnit.subscribe(function(newValue) {\n        if (newValue.heroName().indexOf('npc_dota_lone_druid_bear') != -1) {\n            self.inventory.hasInventory(true);\n            self.inventory.items.removeAll();\n            self.inventory.activeItems.removeAll();\n        }\n        else {\n            self.inventory.hasInventory(false);\n            self.inventory.items.removeAll();\n            self.inventory.activeItems.removeAll();\n        }\n    });\n    self.hero = ko.computed(function() {\n        return ko.mapping.fromJS(my.prototype.unitData[self.selectedUnit().heroName()]);\n    });\n    self.heroData = ko.computed(function() {\n        return my.prototype.unitData[self.selectedUnit().heroName()];\n    });\n    self.getAbilityLevelMax = function(data) {\n        if (data.abilitytype() == 'DOTA_ABILITY_TYPE_ATTRIBUTES') {\n            return 10;\n        }\n        else if (data.name() == 'necronomicon_archer_mana_burn' || data.name() == 'necronomicon_archer_aoe'\n            || data.name() == 'necronomicon_warrior_mana_burn' || data.name() == 'necronomicon_warrior_last_will') {\n            return 3;\n        }\n        else if (data.name() == 'necronomicon_warrior_sight') {\n            return 1;\n        }\n        else {\n            return 4;\n        }\n    };\n    self.ability = ko.computed(function() {\n        var a = new my.prototype.AbilityModel(ko.mapping.fromJS(my.prototype.unitData[self.selectedUnit().heroName()].abilities));\n        a.hasScepter = self.inventory.hasScepter\n        switch (self.selectedUnit().heroName()) {\n            case 'npc_dota_necronomicon_archer_1':\n            case 'npc_dota_necronomicon_warrior_1':\n                a.abilities()[0].level(1);\n                a.abilities()[1].level(1);\n            break;\n            case 'npc_dota_necronomicon_archer_2':\n            case 'npc_dota_necronomicon_warrior_2':\n                a.abilities()[0].level(2);\n                a.abilities()[1].level(2);\n            break;\n            case 'npc_dota_necronomicon_archer_3':\n                a.abilities()[0].level(3);\n                a.abilities()[1].level(3);\n            break;\n            case 'npc_dota_necronomicon_warrior_3':\n                a.abilities()[0].level(3);\n                a.abilities()[1].level(3);\n                a.abilities()[2].level(1);\n            break;\n        }\n        a.levelUpAbility = function(index, data, event, hero) {\n            switch (a.abilities()[index()].name()) {\n                case 'necronomicon_archer_mana_burn':\n                case 'necronomicon_archer_aoe':\n                case 'necronomicon_warrior_mana_burn':\n                case 'necronomicon_warrior_last_will':\n                case 'necronomicon_warrior_sight':\n                break;\n                default:\n                    if (a.abilities()[index()].level() < hero.getAbilityLevelMax(data)) {\n                        a.abilities()[index()].level(a.abilities()[index()].level()+1);\n                    }                    \n                break;\n            }\n\n        };\n        a.levelDownAbility = function(index, data, event, hero) {            \n            switch (a.abilities()[index()].name()) {\n                case 'necronomicon_archer_mana_burn':\n                case 'necronomicon_archer_aoe':\n                case 'necronomicon_warrior_mana_burn':\n                case 'necronomicon_warrior_last_will':\n                case 'necronomicon_warrior_sight':\n                break;\n                default:\n                    if (a.abilities()[index()].level()>0) {\n                        a.abilities()[index()].level(a.abilities()[index()].level()-1);\n                    }\n                break;\n            }\n        };\n        return a;\n    });        \n    self.primaryAttribute = ko.computed(function() {\n        //var v = my.prototype.unitData[self.selectedUnit().heroName()].attributeprimary;\n        var v = 0;\n        if (v == 'DOTA_ATTRIBUTE_AGILITY') {\n            return 'agi'\n        }\n        else if (v == 'DOTA_ATTRIBUTE_INTELLECT') {\n            return 'int'\n        }\n        else if (v == 'DOTA_ATTRIBUTE_STRENGTH') {\n            return 'str'\n        }\n        else {\n            return ''\n        }\n    });\n    self.totalAttribute = function(a) {\n        if (a == 'agi') {\n            return parseFloat(self.totalAgi());\n        }\n        if (a == 'int') {\n            return parseFloat(self.totalInt());\n        }\n        if (a == 'str') {\n            return parseFloat(self.totalStr());\n        }\n        return 0;\n    };\n    self.totalAgi = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].attributebaseagility\n                + my.prototype.unitData[self.selectedUnit().heroName()].attributeagilitygain * (self.selectedHeroLevel() - 1) \n                //+ self.inventory.getAttributes('agi') \n                + self.ability().getAttributeBonusLevel()*2\n                + self.ability().getAgility()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.totalInt = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].attributebaseintelligence \n                + my.prototype.unitData[self.selectedUnit().heroName()].attributeintelligencegain * (self.selectedHeroLevel() - 1) \n                //+ self.inventory.getAttributes('int') \n                + self.ability().getAttributeBonusLevel()*2\n                + self.ability().getIntelligence()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    self.totalStr = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].attributebasestrength \n                + my.prototype.unitData[self.selectedUnit().heroName()].attributestrengthgain * (self.selectedHeroLevel() - 1) \n                //+ self.inventory.getAttributes('str') \n                + self.ability().getAttributeBonusLevel()*2\n                + self.ability().getStrength()\n                + self.enemy().ability().getAllStatsReduction()\n                + self.debuffs.getAllStatsReduction()\n               ).toFixed(2);\n    });\n    /*self.health = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].statushealth + self.totalStr()*19 \n                + self.inventory.getHealth()\n                + self.ability().getHealth()).toFixed(2);\n    });\n    self.healthregen = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].statushealthregen + self.totalStr()*.03 \n                + self.inventory.getHealthRegen() \n                + self.ability().getHealthRegen()\n                + self.buffs.getHealthRegen()).toFixed(2);\n    });\n    self.mana = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].statusmana + self.totalInt()*13 + self.inventory.getMana()).toFixed(2);\n    });\n    self.manaregen = ko.computed(function() {\n        return ((my.prototype.unitData[self.selectedUnit().heroName()].statusmanaregen \n                + self.totalInt()*.04 \n                + self.ability().getManaRegen()) \n                * (1 + self.inventory.getManaRegenPercent()) \n                + (self.selectedHero().heroName == 'crystal_maiden' ? self.ability().getManaRegenArcaneAura() * 2 : self.buffs.getManaRegenArcaneAura())\n                + self.inventory.getManaRegenBloodstone()\n                - self.enemy().ability().getManaRegenReduction()).toFixed(2);\n    });\n    self.totalArmorPhysical = ko.computed(function() {\n        return (self.enemy().ability().getArmorBaseReduction() * self.debuffs.getArmorBaseReduction() * (my.prototype.unitData[self.selectedUnit().heroName()].armorphysical + self.totalAgi()*.14)\n                + self.inventory.getArmor() + self.ability().getArmor() + self.enemy().ability().getArmorReduction() + self.buffs.getArmor() + self.debuffs.getArmorReduction()).toFixed(2);\n    });\n    self.totalArmorPhysicalReduction = ko.computed(function() {\n        return ((0.06 * self.totalArmorPhysical()) / (1 + 0.06 * self.totalArmorPhysical()) * 100).toFixed(2);\n    });\n    self.totalMovementSpeed = ko.computed(function() {\n        if (self.parent.ability().isShapeShiftActive()) {\n            return 522;\n        }\n        var ms = (self.ability().setMovementSpeed() > 0 ? self.ability().setMovementSpeed() : self.buffs.setMovementSpeed());\n        if (ms > 0) {\n            return ms;\n        }\n        else {\n            return ((my.prototype.unitData[self.selectedUnit().heroName()].movementspeed + self.inventory.getMovementSpeedFlat()+ self.ability().getMovementSpeedFlat()) * \n                    (1 + self.inventory.getMovementSpeedPercent() \n                       + self.ability().getMovementSpeedPercent() \n                       + self.enemy().inventory.getMovementSpeedPercentReduction() \n                       + self.enemy().ability().getMovementSpeedPercentReduction() \n                       + self.buffs.getMovementSpeedPercent() \n                       + self.debuffs.getMovementSpeedPercentReduction()\n                    )).toFixed(2);\n        }\n    });\n    self.totalTurnRate = ko.computed(function() {\n        return (my.prototype.unitData[self.selectedUnit().heroName()].movementturnrate \n                * (1 + self.enemy().ability().getTurnRateReduction()\n                     + self.debuffs.getTurnRateReduction())).toFixed(2);\n    });\n    */\n    self.baseDamage = ko.computed(function() {\n        return [Math.floor(my.prototype.unitData[self.selectedUnit().heroName()].attackdamagemin + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total),\n                Math.floor(my.prototype.unitData[self.selectedUnit().heroName()].attackdamagemax + self.totalAttribute(self.primaryAttribute()) + self.ability().getBaseDamage().total)];\n    });\n    /*self.bonusDamage = ko.computed(function() {\n        return self.inventory.getBonusDamage().total\n                + self.ability().getBonusDamage().total\n                + self.buffs.getBonusDamage().total\n                + Math.floor((self.baseDamage()[0] + self.baseDamage()[1])/2 \n                              * (self.inventory.getBonusDamagePercent().total\n                                 + self.ability().getBonusDamagePercent().total\n                                 + self.buffs.getBonusDamagePercent().total\n                                )\n                            )\n                + Math.floor(\n                    (self.hero().attacktype() == 'DOTA_UNIT_CAP_RANGED_ATTACK' \n                        ? ((self.selectedHero().heroName == 'drow_ranger') ? self.ability().getBonusDamagePrecisionAura().total[0] * self.totalAgi() : self.buffs.getBonusDamagePrecisionAura().total[1])\n                        : 0)\n                  );\n    });*/\n    /*self.bonusDamageReduction = ko.computed(function() {\n        return Math.abs(self.enemy().ability().getBonusDamageReduction() + self.debuffs.getBonusDamageReduction());\n    });\n    self.damage = ko.computed(function() {\n        return [self.baseDamage()[0] + self.bonusDamage()[0],\n                self.baseDamage()[1] + self.bonusDamage()[1]];\n    });*/\n    self.totalMagicResistanceProduct = ko.computed(function() {\n        return (1 - my.prototype.unitData[self.selectedUnit().heroName()].magicalresistance / 100) \n                   * (1 - self.inventory.getMagicResist() / 100) \n                   * (1 - self.ability().getMagicResist() / 100) \n                   * (1 - self.buffs.getMagicResist() / 100) \n                   * self.enemy().inventory.getMagicResistReduction()\n                   * self.enemy().ability().getMagicResistReduction() \n                   * self.debuffs.getMagicResistReduction();\n    });\n    self.totalMagicResistance = ko.computed(function() {\n        return (1 - self.totalMagicResistanceProduct());\n    });\n    self.bat = ko.computed(function() {\n        var abilityBAT = self.ability().getBAT();\n        if (abilityBAT > 0) {\n            return abilityBAT;\n        }\n        return my.prototype.unitData[self.selectedUnit().heroName()].attackrate;\n    });\n    /*\n    self.ias = ko.computed(function() {\n        var val = parseFloat(self.totalAgi()) \n                + self.inventory.getAttackSpeed() \n                + self.ability().getAttackSpeed() \n                + self.enemy().ability().getAttackSpeedReduction() \n                + self.buffs.getAttackSpeed() \n                + self.debuffs.getAttackSpeedReduction();\n        if (val < -80) {\n            return -80;\n        }\n        else if (val > 400) {\n            return 400;\n        }\n        return (val).toFixed(2);\n    });*/\n    self.attackTime = ko.computed(function() {\n        return (self.bat() / (1 + self.ias() / 100)).toFixed(2);\n    });\n    self.attacksPerSecond = ko.computed(function() {\n        return (1 + self.ias() / 100) / self.bat();\n    });\n    self.evasion = ko.computed(function() {\n        var e = self.ability().setEvasion();\n        if (e) {\n            return (e * 100).toFixed(2) + '%';\n        }\n        else {\n            return ((1-(self.inventory.getEvasion() * self.ability().getEvasion())) * 100).toFixed(2) + '%';\n        }\n    });\n    self.ehpPhysical = ko.computed(function() {\n        return ((self.health() * (1 + .06 * self.totalArmorPhysical())) / (1-(1-(self.inventory.getEvasion() * self.ability().getEvasion())))).toFixed(2);\n    });\n    self.ehpMagical = ko.computed(function() {\n        return (self.health() / self.totalMagicResistanceProduct()).toFixed(2);\n    });\n    \n    return self;\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"../herocalc/main\");\n\nmy.prototype.DamageInstance = function (label, damageType, value, data, total) {\n    this.label = label || '';\n    this.damageType = damageType || '';\n    this.value = parseFloat(value) || 0;\n    this.data = data || [];\n    this.total = parseFloat(total) || 0;\n}\n\nmy.prototype.HeroDamageAmpMixin = function (self) {\n    self.damageBrackets = [\n        ['medusa_mana_shield', 'templar_assassin_refraction', 'faceless_void_backtrack', 'nyx_assassin_spiked_carapace'],\n        ['spectre_dispersion', 'wisp_overcharge', 'slardar_sprint','bristleback_bristleback', 'undying_flesh_golem'],\n        ['abaddon_borrowed_time', 'abaddon_aphotic_shield', 'kunkka_ghostship', 'treant_living_armor'],\n        ['chen_penitence', 'medusa_stone_gaze', 'shadow_demon_soul_catcher'],\n        ['dazzle_shallow_grave']\n    ];\n    \n    self.getDamageAfterBracket = function (initialDamage,index) {\n        var bracket = self.damageBrackets[index];\n        var multiplier = 1;\n        for (var i = 0; i < bracket.length; i++) {\n            if (my.prototype.findWhere(self.damageAmplification.buffs, {name: bracket[i].name}) != undefined || my.prototype.findWhere(self.damageReduction.buffs, {name: bracket[i].name}) != undefined) {\n                multiplier += bracket[i].value;\n            }\n        };\n        return initialDamage * multiplier;\n    };\n    \n    self.processDamageAmpReducBracket = function (index, sources, damage) {\n        var multiplier = 1,\n            data = [],\n            damage = parseFloat(damage),\n            total = parseFloat(damage);\n            \n        for (var i = 0; i < self.damageBrackets[index].length; i++) {\n            if (sources[self.damageBrackets[index][i]] != undefined) {\n                multiplier = 1 + parseFloat(sources[self.damageBrackets[index][i]].multiplier);\n                total += (damage * multiplier) - damage;\n                data.push(new my.prototype.DamageInstance(\n                    sources[self.damageBrackets[index][i]].displayname,\n                    sources[self.damageBrackets[index][i]].damageType,\n                    (damage * multiplier) - damage,\n                    [],\n                    total\n                ));\n            }\n        }\n        return data;\n    }\n    \n    self.getDamageAmpReducInstance = function(sources, initialDamage, ability, damageType) {\n        var data = [],\n            damage = parseFloat(initialDamage),\n            prevDamage = damage,\n            label = ability == 'initial' ? 'Initial' : sources[ability].displayname;\n\n        // Bracket 0\n        data = data.concat(self.processDamageAmpReducBracket(0, sources, damage));\n        damage = data[data.length - 1] ? data[data.length - 1].total : damage;\n\n        // Bracket 1\n        data = data.concat(self.processDamageAmpReducBracket(1, sources, damage));\n        damage = data[data.length - 1] ? data[data.length - 1].total : damage;\n        \n        // Bracket 2\n        data = data.concat(self.processDamageAmpReducBracket(2, sources, damage));\n        damage = data[data.length - 1] ? data[data.length - 1].total : damage;\n\n        return new my.prototype.DamageInstance(label, damageType, initialDamage, data, data[data.length - 1] ? data[data.length - 1].total : damage);\n    }\n    \n    self.getDamageAmpReduc = function (initialDamage) {\n        var instances = [],\n            sources = {},\n            sourcesAmp = self.damageReduction.getDamageMultiplierSources(),\n            sourcesReduc = self.damageAmplification.getDamageMultiplierSources();\n        my.prototype.extend(sources, sourcesAmp);\n        my.prototype.extend(sources, sourcesReduc);\n        // Initial damage instance\n        instances.push(self.getDamageAmpReducInstance(sources, initialDamage, 'initial', 'physical'));\n        \n        // Bracket 4 damage instances\n        var b4 = ['shadow_demon_soul_catcher', 'medusa_stone_gaze', 'chen_penitence'];\n        for (var i = 0; i < b4.length; i++) {\n            if (sources[b4[i]] != undefined) {\n                instances.push(self.getDamageAmpReducInstance(sources, initialDamage * sources[b4[i]].multiplier, b4[i], sources[b4[i]].damageType));\n            }\n        }\n    \n        return new my.prototype.DamageInstance('Total', 'physical', initialDamage, instances, instances.reduce(function(memo, i) {return parseFloat(memo) + parseFloat(i.total);}, 0));\n    };\n    \n    self.damageInputValue = ko.observable(0);\n    self.damageInputModified = ko.computed(function () {\n        return self.getDamageAmpReduc(self.damageInputValue());\n    });\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"../herocalc/main\");\n\nmy.prototype.DamageAmpViewModel = function (a) {\n    var self = new my.prototype.BuffViewModel(ko.observableArray([]));\n    self.availableBuffs = ko.observableArray([\n        new my.prototype.BuffOption('slardar', 'slardar_sprint'),\n        new my.prototype.BuffOption('undying', 'undying_flesh_golem'),\n        new my.prototype.BuffOption('chen', 'chen_penitence'),\n        new my.prototype.BuffOption('medusa', 'medusa_stone_gaze'),\n        new my.prototype.BuffOption('shadow_demon', 'shadow_demon_soul_catcher')\n    ]);\n    self.availableDebuffs = ko.observableArray([\n        new my.prototype.BuffOption('medusa', 'medusa_mana_shield'),\n        //new my.prototype.BuffOption('templar_assassin', 'templar_assassin_refraction'),\n        //new my.prototype.BuffOption('faceless_void', 'faceless_void_backtrack'),\n        //new my.prototype.BuffOption('nyx_assassin', 'nyx_assassin_spiked_carapace'),\n        new my.prototype.BuffOption('spectre', 'spectre_dispersion'),\n        new my.prototype.BuffOption('wisp', 'wisp_overcharge'),\n        new my.prototype.BuffOption('bristleback', 'bristleback_bristleback'),\n        //new my.prototype.BuffOption('abaddon', 'abaddon_borrowed_time'),\n        //new my.prototype.BuffOption('abaddon', 'abaddon_aphotic_shield'),\n        //new my.prototype.BuffOption('dazzle', 'dazzle_shallow_grave'),\n        //new my.prototype.BuffOption('treant', 'treant_living_armor'),\n        new my.prototype.BuffOption('kunkka', 'kunkka_ghostship')\n    ]);\n    self.selectedBuff = ko.observable(self.availableBuffs()[0]);\n    \n    self.buffs = ko.observableArray([]);\n\n    self.getAbilityDamageAmpValue = function (abilityName, attributeName) {\n        var a = my.prototype.findWhere(self.buffs(), {name: abilityName});\n        if (a == undefined) {\n            return 0;\n        }\n        else {\n            var ability = a.data;\n            return self.getAbilityAttributeValue(ability.attributes(), attributeName, ability.level());\n        }\n    }\n    \n    self.getDamageMultiplierSources = ko.computed(function () {\n        var sources = {};\n        for (var i = 0; i < self.abilities().length; i++) {\n            var ability = self.abilities()[i];\n                if (ability.level() > 0 && (ability.isActive() || (ability.behavior().indexOf('DOTA_ABILITY_BEHAVIOR_PASSIVE') != -1))) {\n                    switch (ability.name()) {\n                        case 'bristleback_bristleback':\n                            sources[ability.name()] = {\n                                'multiplier': ability.damageReduction() / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname()\n                            }\n                        break;\n                        case 'slardar_sprint':\n                            sources[ability.name()] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes(), 'bonus_damage', ability.level()) / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname()\n                            }\n                        break;\n                        case 'undying_flesh_golem':\n                            sources[ability.name()] = {\n                                'multiplier': ability.damageAmplification() / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname()\n                            }\n                        break;\n                        case 'medusa_stone_gaze':\n                            sources[ability.name()] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes(), 'bonus_physical_damage', ability.level()) / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname()\n                            }\n                        break;\n                        case 'chen_penitence':\n                            sources[ability.name()] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes(), 'bonus_damage_taken', ability.level()) / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname()\n                            }\n                        break;\n                        case 'shadow_demon_soul_catcher':\n                            sources[ability.name()] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes(), 'bonus_damage_taken', ability.level()) / 100,\n                                'damageType': 'pure',\n                                'displayname': ability.displayname()\n                            }\n                        break;\n                        case 'medusa_mana_shield':\n                            sources[ability.name()] = {\n                                'multiplier': ability.damageReduction() / 100,\n                                'damageType': 'physical',\n                                'displayname': ability.displayname()\n                            }                            \n                        break;\n                        case 'spectre_dispersion':\n                            sources[ability.name()] = {\n                                'multiplier': -self.getAbilityAttributeValue(ability.attributes(), 'damage_reflection_pct', ability.level()) / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname()\n                            }                                \n                        break;\n                        case 'abaddon_aphotic_shield':\n                            sources[ability.name()] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes(), 'damage_absorb', ability.level()),\n                                'damageType': 'flatreduction',\n                                'displayname': ability.displayname()\n                            }                                \n                        break;\n                        case 'kunkka_ghostship':\n                            sources[ability.name()] = {\n                                'multiplier': -50 / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname()\n                            }                                \n                        break;\n                        case 'wisp_overcharge':\n                            sources[ability.name()] = {\n                                'multiplier': self.getAbilityAttributeValue(ability.attributes(), 'bonus_damage_pct', ability.level()) / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname()\n                            }                                \n                        break;\n                        /*case 'faceless_void_backtrack':\n                            sources[ability.name()] = {\n                                'multiplier': -self.getAbilityAttributeValue(ability.attributes(), 'dodge_chance_pct', ability.level()) / 100,\n                                'damageType': 'percentreduction',\n                                'displayname': ability.displayname()\n                            }                                \n                        break;*/\n                    }\n                }\n        }\n        return sources;\n    });\n    \n    return self;\n}","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"../herocalc/main\");\n\nmy.prototype.GraphPropertyOption = function (id, label) {\n    this.id = id;\n    this.label = label;\n};\n\nmy.prototype.BuildExplorerViewModel = function (h) {\nvar self = this;\n    self.parent = h;\n\n    self.itemBuild = ko.observableArray([]);\n    self.skillBuild = ko.observableArray([]);\n    self.graphDataItemRows = [];\n    for (var i = 0; i < 25; i++) {\n        self.itemBuild.push(new my.prototype.BasicInventoryViewModel());\n        self.itemBuild()[i].carryOver = ko.observable(true);\n        self.skillBuild.push(ko.observable(-1));\n        self.graphDataItemRows.push(ko.observable(false));\n    }\n    self.toggleItemBuildCarryOver = function (index) {\n        self.itemBuild()[index].carryOver(!self.itemBuild()[index].carryOver());\n    }\n    \n    self.abilityMapData = [0,1,2,3,4];\n    self.abilityMapHero = self.parent.selectedHero().heroName;\n    self.abilityMap = ko.computed(function () {\n        if (self.abilityMapHero == self.parent.selectedHero().heroName) return;\n        self.abilityMapHero = self.parent.selectedHero().heroName;\n        var newMap = self.parent.ability().abilities().map(function(ability, index) {\n            if (self.parent.ability().isQWER(ability)) {\n                return index;\n            }\n            else {\n                return -1;\n            }\n        }).filter(function(element) { return element != -1; });\n        for (var i = 0; i < 25; i++) {\n            var abilityValue = self.skillBuild()[i]();\n            if (abilityValue == -1) continue;\n            \n            var abilityIndex = self.abilityMapData.indexOf(abilityValue);\n            var newValue = newMap[abilityIndex];\n            if (newValue != abilityValue) {\n                self.skillBuild()[i](newValue);\n            }\n        }\n        self.abilityMapData = newMap;\n    });\n    \n    self.availableSkillBuildPoints = ko.computed(function () {\n        return self.skillBuild().reduce(function(memo, num){ return memo + (num() == -1); }, 0);\n    });\n    self.getSkillBuildAbilityLevel = function (index) {\n        return self.skillBuild().reduce(function(memo, num){ return memo + (num() == index); }, 0);\n    };\n    self.toggleAbilitySkillBuild = function (index, abilityIndex, data, event) {\n        if (self.skillBuild()[index]() != abilityIndex) {\n            var ability = self.parent.ability().abilities()[abilityIndex],\n                abilityType = ability.abilitytype(),\n                skillBuildSlice = self.skillBuild().slice(0, index),\n                currentAbilityLevel = self.skillBuild().reduce(function(memo, num){ return memo + (num() == abilityIndex); }, 0),\n                n = skillBuildSlice.reduce(function(memo, num){ return memo + (num() == abilityIndex); }, 0);\n            \n            if (self.IsValidAbilityLevel(ability, self.parent.selectedHero().heroName, index + 1, n)) {\n                self.skillBuild()[index](abilityIndex);\n                for (var i = index + 1; i < 25; i++) {\n                    if (self.skillBuild()[i]() == abilityIndex) {\n                        n++;\n                        if (!self.IsValidAbilityLevel(ability, self.parent.selectedHero().heroName, i + 1, n)) {\n                            self.skillBuild()[i](-1);\n                            n--;\n                        }\n                    }\n                }\n            }\n            else if (n > 0 && self.IsValidAbilityLevel(ability, self.parent.selectedHero().heroName, index + 1, n - 1)) {\n                for (var i = skillBuildSlice.length - 1; i >= 0; i--) {\n                    if (skillBuildSlice[i]() == abilityIndex) {\n                        self.skillBuild()[i](-1);\n                        self.skillBuild()[index](abilityIndex);\n                        break;\n                    }\n                }\n            }\n        }\n        else {\n            self.skillBuild()[index](-1);\n        }\n    };\n    self.IsValidAbilityLevel = function (ability, heroName, heroLevel, abilityLevel) {\n        var a = 1, b = 2, m = 4;\n        if (ability.name() == 'attribute_bonus') {\n            m = 10;\n        }\n        else {\n            if (ability.abilitytype() == 'DOTA_ABILITY_TYPE_ULTIMATE') {\n                if (heroName == 'invoker') {\n                    a = 2;\n                    b = 5;\n                }\n                else if (heroName == 'meepo') {\n                    a = 3;\n                    b = 7;\n                    m = 3;\n                }\n                else {\n                    a = 6;\n                    b = 5;\n                    m = 3;\n                }\n            }\n            else {\n                if (heroName == 'invoker') {\n                    m = 7;\n                }\n            }                \n        }\n        \n        return heroLevel >= a + b * abilityLevel && abilityLevel < m;\n    }\n    \n    self.resetItemBuild = function (index) {\n        self.itemBuild()[index].removeAll();\n    };        \n    self.resetAllItemBuilds = function () {\n        for (var i = 0; i < 25; i++) {\n            self.itemBuild()[i].removeAll();\n            self.itemBuild()[i].carryOver(true);\n        }\n    };\n    self.resetSkillBuild = function () {\n        for (var i = 0; i < 25; i++) {\n            self.skillBuild()[i](-1);\n        }\n    };\n    self.graphData = ko.observableArray([]);\n    self.graphDataHeader = ko.observable(self.parent.selectedHero().heroDisplayName);\n    self.parent.selectedHero.subscribe(function (newValue) {\n        self.graphDataHeader(self.parent.selectedHero().heroDisplayName);\n    });\n    self.graphDataDescription = ko.observable('');\n    self.graphProperties = ko.observableArray([\n        new my.prototype.GraphPropertyOption('totalArmorPhysical', 'Armor'),\n        new my.prototype.GraphPropertyOption('totalArmorPhysicalReduction', 'Physical Damage Reduction'),\n        new my.prototype.GraphPropertyOption('totalMagicResistance', 'Magical Resistance'),\n        new my.prototype.GraphPropertyOption('health', 'Health'),\n        new my.prototype.GraphPropertyOption('healthregen', 'Health Regeneration'),\n        new my.prototype.GraphPropertyOption('mana', 'Mana'),\n        new my.prototype.GraphPropertyOption('manaregen', 'Mana Regeneration'),\n        new my.prototype.GraphPropertyOption('ehpPhysical', 'EHP Physical'),\n        new my.prototype.GraphPropertyOption('ehpMagical', 'EHP Magical'),\n        new my.prototype.GraphPropertyOption('damage', 'Damage per attack'),\n        new my.prototype.GraphPropertyOption('dps', 'Damage per second'),\n        new my.prototype.GraphPropertyOption('attacksPerSecond', 'Attacks per second'),\n        new my.prototype.GraphPropertyOption('attackTime', 'Time per attack')\n    ]);\n    self.graph = function() {\n        var savedAbilityLevels = [],\n            savedLevel = self.parent.selectedHeroLevel(),\n            savedItems = self.parent.inventory.items(),\n            savedActiveItems = self.parent.inventory.activeItems(),\n            s = ko.toJS(self.skillBuild),\n            carryOverItems = [],\n            carryOverActiveItems = [],\n            dataset = [];\n        for (var i = 0; i < self.parent.ability().abilities().length; i++) {\n            savedAbilityLevels.push(self.parent.ability().abilities()[i].level());\n        }\n        for (var i = 1; i < 26; i++) {\n            self.parent.selectedHeroLevel(i);\n            var skillBuildSubset = s.slice(0, i);\n            for (var j = 0; j < self.parent.ability().abilities().length; j++) {\n                var a = self.parent.ability().abilities()[j],\n                    count = skillBuildSubset.reduce(function(memo, num) {\n                        return memo + (num == j);\n                    }, 0);\n                a.level(count);\n            }\n\n            if (!self.itemBuild()[i - 1].carryOver()) {\n                carryOverItems = [];\n                carryOverActiveItems = [];\n            }\n            carryOverItems = carryOverItems.concat(self.itemBuild()[i - 1].items());\n            carryOverActiveItems = carryOverActiveItems.concat(self.itemBuild()[i - 1].activeItems());\n\n            self.parent.inventory.items(carryOverItems);\n            self.parent.inventory.activeItems(carryOverActiveItems);\n            var dataObj = {};\n            for (var j = 0; j < self.graphProperties().length; j++) {\n                var prop = self.graphProperties()[j];\n                switch (prop.id) {\n                    case 'dps':\n                        dataObj[prop.id] = self.parent['damageTotalInfo']().totalRow[2]().toFixed(2);\n                        break;\n                    case 'damage':\n                        dataObj[prop.id] = self.parent['damageTotalInfo']().totalRow[0]().toFixed(2);\n                        break;\n                    default:\n                        dataObj[prop.id] = self.parent[prop.id]();\n                        break;\n                }\n            }\n\n            dataObj.items = carryOverItems.map(function(item) {\n                return ko.toJS(item);\n            });\n            dataset.push(dataObj);\n            if (carryOverItems > 0) {\n                self.graphDataItemRows[i - 1](true);\n            }\n        }\n        var data = {\n            header: self.graphDataHeader(),\n            description: self.graphDataDescription(),\n            items: self.parent.inventory.items().map(function(item) {\n                return ko.toJS(item);\n            }),\n            skillBuild: ko.toJS(self.skillBuild),\n            data: dataset,\n            abilityMap: self.abilityMapData.slice(0),\n            cumulativeSkillBuild: [],\n            visible: ko.observable(true)\n        }\n        for (var i = 0; i < 25; i++) {\n            var skillBuildAtLevel = [],\n                skillBuildSlice = data.skillBuild.slice(0, i + 1);\n            for (var j = 0; j < data.abilityMap.length; j++) {\n                var abilityIndex = data.abilityMap[j];\n                skillBuildAtLevel.push(skillBuildSlice.reduce(function(memo, num) {\n                    return memo + (num == abilityIndex);\n                }, 0));\n            }\n            data.cumulativeSkillBuild.push(skillBuildAtLevel);\n        }\n\n        self.graphData.push(data);\n        self.parent.selectedHeroLevel(savedLevel);\n        for (var i = 0; i < self.parent.ability().abilities().length; i++) {\n            self.parent.ability().abilities()[i].level(savedAbilityLevels[i]);\n        }\n        self.parent.inventory.items(savedItems);\n        self.parent.inventory.activeItems(savedActiveItems);\n    };\n    self.removeGraphDataSet = function (data) {\n        self.graphData.remove(data);\n    }\n    self.selectedGraphProperty = ko.observable(self.graphProperties()[0].id);\n    \n    self.graphChartOptions = ko.computed(function () {\n        //var color = my.prototype.theme() == 'dark' ? 'rgb(151, 154, 162)' : 'rgb(51, 51, 51)';\n        var color = 'rgb(151, 154, 162)';\n        return {\n            responsive: true,\n            datasetStroke: false,\n            datasetStrokeWidth: -1,\n            datasetFill: false,\n            pointHitDetectionRadius : 10,\n            scaleFontColor: color,\n            scaleLineColor: color.replace('rgb', 'rgba').replace(')', ', .1)'),\n            scaleGridLineColor: color.replace('rgb', 'rgba').replace(')', ', .1)')\n        }\n    });\n    self.graphChartData = ko.computed(function () {\n        var data = {\n            labels: [],\n            datasets: []\n        }\n        for (var i = 0; i < 25; i++) {\n            data.labels.push((i+1).toString());\n        }\n        for (var i = 0; i < self.graphData().length; i++) {\n            var dataObj = self.graphData()[i],\n                dataset = {\n                    label: dataObj.header,\n                    fillColor: self.graphDistinctColor(self.graphData().length, i, .1),\n                    strokeColor: self.graphDistinctColor(self.graphData().length, i, 1),\n                    pointColor: self.graphDistinctColor(self.graphData().length, i, 1),\n                    pointStrokeColor: self.graphDistinctColor(self.graphData().length, i, 1),\n                    pointHighlightFill: self.graphDistinctColor(self.graphData().length, i, .1),\n                    pointHighlightStroke: self.graphDistinctColor(self.graphData().length, i, .5),\n                    data: dataObj.data.map(function (o) {\n                        return o[self.selectedGraphProperty()]\n                    })\n                };\n            data.datasets.push(dataset);\n        }\n        return data;\n    });\n    self.graphDistinctColor = function (max, index, alpha) {\n        var alpha = alpha || 1,\n            rgba = self.hslToRgb((1 / max) * index % 1, 1, .5);\n        rgba.push(alpha);\n        return \"rgba(\" + rgba.join() + \")\";\n    }\n    self.getDistinctColor = function (max, index, alpha) {\n        var alpha = alpha || 1;\n        rgba = self.hslToRgb((1 / max) * index % 1, 1, .5);\n        rgba.push(alpha);\n        return rgba;\n    }\n    self.hslToRgb = function(h, s, l) {\n        var r, g, b;\n        if (s == 0) {\n            r = g = b = l; // achromatic\n        }\n        else {\n            var hue2rgb = function hue2rgb(p, q, t) {\n                if (t < 0) t += 1;\n                if (t > 1) t -= 1;\n                if (t < 1 / 6) return p + (q - p) * 6 * t;\n                if (t < 1 / 2) return q;\n                if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n                return p;\n            }\n\n            var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            var p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1 / 3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1 / 3);\n        }\n\n        return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n    }\n    \n    self.showGraphItemBuildRows = ko.observable(false);\n    self.showGraphSkillBuildColumns = ko.observable(false);\n    self.graphRowHasItems = function (index) {\n        return self.graphData().some(function (dataset) {\n            return dataset.visible() && dataset.data[index].items.length > 0;\n        });\n    }\n\n    self.selectInventory = function (index) {\n        self.parent.selectedInventory(self.parent.selectedInventory() == index ? -1 : index);\n    }\n    self.getSelectedInventory = ko.pureComputed(function () {\n        if (self.parent.selectedInventory() == -1) {\n            return self.parent.inventory;\n        }\n        else {\n            return self.itemBuild()[self.parent.selectedInventory()];\n        }\n    });\n    self.copyInventory = function (index) {\n        if (self.parent.selectedInventory() != -1 && self.parent.selectedInventory() != index) {\n            self.itemBuild()[self.parent.selectedInventory()].items(self.itemBuild()[self.parent.selectedInventory()].items().concat(self.itemBuild()[index].items()));\n            self.itemBuild()[self.parent.selectedInventory()].activeItems(my.prototype.union(self.itemBuild()[self.parent.selectedInventory()].activeItems(), self.itemBuild()[index].activeItems()));\n        }\n    }\n    self.copyInventoryToClipBoard = function (index) {\n        if (index == -1) {\n            my.prototype.inventoryClipBoard.items = self.parent.inventory.items.slice(0);\n            my.prototype.inventoryClipBoard.activeItems = self.parent.inventory.activeItems.slice(0);            \n        }\n        else {\n            my.prototype.inventoryClipBoard.items = self.itemBuild()[index].items.slice(0);\n            my.prototype.inventoryClipBoard.activeItems = self.itemBuild()[index].activeItems.slice(0);\n        }\n    }\n    self.pasteInventoryFromClipBoard = function (index) {\n        if (my.prototype.inventoryClipBoard.items.length > 0) {\n            if (index == -1) {\n                self.parent.inventory.items(self.parent.inventory.items().concat(my.prototype.inventoryClipBoard.items));\n                self.parent.inventory.activeItems(my.prototype.union(self.parent.inventory.activeItems(), my.prototype.inventoryClipBoard.activeItems));    \n            }\n            else {\n                self.itemBuild()[index].items(self.itemBuild()[index].items().concat(my.prototype.inventoryClipBoard.items));\n                self.itemBuild()[index].activeItems(my.prototype.union(self.itemBuild()[index].activeItems(), my.prototype.inventoryClipBoard.activeItems));\n            }\n        }\n    }\n    self.loadGraphData = function (data) {\n        self.parent.sectionDisplay()['skillbuild'](true);\n        for (var i = 0; i < data.length; i++) {\n            data[i].visible = ko.observable(data[i].visible);\n        }\n        self.graphData(data);\n    }\n    self.graphChartContext = ko.observable();\n    self.exportImage = function () {\n        var w = window.open();\n        w.document.write('<img src=\"'+ self.graphChartContext().canvas.toDataURL() +'\"/>');\n    }\n    return self;\n}","/*!\n * jQuery UI Button 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Button\n//>>group: Widgets\n//>>description: Enhances a form with themeable buttons.\n//>>docs: http://api.jqueryui.com/button/\n//>>demos: http://jqueryui.com/button/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/button.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\n\t\t\t// These are only for backcompat\n\t\t\t// TODO: Remove after 1.12\n\t\t\t\"./controlgroup\",\n\t\t\t\"./checkboxradio\",\n\n\t\t\t\"../keycode\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.button\", {\n\tversion: \"1.12.0\",\n\tdefaultElement: \"<button>\",\n\toptions: {\n\t\tclasses: {\n\t\t\t\"ui-button\": \"ui-corner-all\"\n\t\t},\n\t\tdisabled: null,\n\t\ticon: null,\n\t\ticonPosition: \"beginning\",\n\t\tlabel: null,\n\t\tshowLabel: true\n\t},\n\n\t_getCreateOptions: function() {\n\t\tvar disabled,\n\n\t\t\t// This is to support cases like in jQuery Mobile where the base widget does have\n\t\t\t// an implementation of _getCreateOptions\n\t\t\toptions = this._super() || {};\n\n\t\tthis.isInput = this.element.is( \"input\" );\n\n\t\tdisabled = this.element[ 0 ].disabled;\n\t\tif ( disabled != null ) {\n\t\t\toptions.disabled = disabled;\n\t\t}\n\n\t\tthis.originalLabel = this.isInput ? this.element.val() : this.element.html();\n\t\tif ( this.originalLabel ) {\n\t\t\toptions.label = this.originalLabel;\n\t\t}\n\n\t\treturn options;\n\t},\n\n\t_create: function() {\n\t\tif ( !this.option.showLabel & !this.options.icon ) {\n\t\t\tthis.options.showLabel = true;\n\t\t}\n\n\t\t// We have to check the option again here even though we did in _getCreateOptions,\n\t\t// because null may have been passed on init which would override what was set in\n\t\t// _getCreateOptions\n\t\tif ( this.options.disabled == null ) {\n\t\t\tthis.options.disabled = this.element[ 0 ].disabled || false;\n\t\t}\n\n\t\tthis.hasTitle = !!this.element.attr( \"title\" );\n\n\t\t// Check to see if the label needs to be set or if its already correct\n\t\tif ( this.options.label && this.options.label !== this.originalLabel ) {\n\t\t\tif ( this.isInput ) {\n\t\t\t\tthis.element.val( this.options.label );\n\t\t\t} else {\n\t\t\t\tthis.element.html( this.options.label );\n\t\t\t}\n\t\t}\n\t\tthis._addClass( \"ui-button\", \"ui-widget\" );\n\t\tthis._setOption( \"disabled\", this.options.disabled );\n\t\tthis._enhance();\n\n\t\tif ( this.element.is( \"a\" ) ) {\n\t\t\tthis._on( {\n\t\t\t\t\"keyup\": function( event ) {\n\t\t\t\t\tif ( event.keyCode === $.ui.keyCode.SPACE ) {\n\t\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t\t// Support: PhantomJS <= 1.9, IE 8 Only\n\t\t\t\t\t\t// If a native click is available use it so we actually cause navigation\n\t\t\t\t\t\t// otherwise just trigger a click event\n\t\t\t\t\t\tif ( this.element[ 0 ].click ) {\n\t\t\t\t\t\t\tthis.element[ 0 ].click();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.element.trigger( \"click\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t},\n\n\t_enhance: function() {\n\t\tif ( !this.element.is( \"button\" ) ) {\n\t\t\tthis.element.attr( \"role\", \"button\" );\n\t\t}\n\n\t\tif ( this.options.icon ) {\n\t\t\tthis._updateIcon( \"icon\", this.options.icon );\n\t\t\tthis._updateTooltip();\n\t\t}\n\t},\n\n\t_updateTooltip: function() {\n\t\tthis.title = this.element.attr( \"title\" );\n\n\t\tif ( !this.options.showLabel && !this.title ) {\n\t\t\tthis.element.attr( \"title\", this.options.label );\n\t\t}\n\t},\n\n\t_updateIcon: function( option, value ) {\n\t\tvar icon = option !== \"iconPosition\",\n\t\t\tposition = icon ? this.options.iconPosition : value,\n\t\t\tdisplayBlock = position === \"top\" || position === \"bottom\";\n\n\t\t// Create icon\n\t\tif ( !this.icon ) {\n\t\t\tthis.icon = $( \"<span>\" );\n\n\t\t\tthis._addClass( this.icon, \"ui-button-icon\", \"ui-icon\" );\n\n\t\t\tif ( !this.options.showLabel ) {\n\t\t\t\tthis._addClass( \"ui-button-icon-only\" );\n\t\t\t}\n\t\t} else if ( icon ) {\n\n\t\t\t// If we are updating the icon remove the old icon class\n\t\t\tthis._removeClass( this.icon, null, this.options.icon );\n\t\t}\n\n\t\t// If we are updating the icon add the new icon class\n\t\tif ( icon ) {\n\t\t\tthis._addClass( this.icon, null, value );\n\t\t}\n\n\t\tthis._attachIcon( position );\n\n\t\t// If the icon is on top or bottom we need to add the ui-widget-icon-block class and remove\n\t\t// the iconSpace if there is one.\n\t\tif ( displayBlock ) {\n\t\t\tthis._addClass( this.icon, null, \"ui-widget-icon-block\" );\n\t\t\tif ( this.iconSpace ) {\n\t\t\t\tthis.iconSpace.remove();\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Position is beginning or end so remove the ui-widget-icon-block class and add the\n\t\t\t// space if it does not exist\n\t\t\tif ( !this.iconSpace ) {\n\t\t\t\tthis.iconSpace = $( \"<span> </span>\" );\n\t\t\t\tthis._addClass( this.iconSpace, \"ui-button-icon-space\" );\n\t\t\t}\n\t\t\tthis._removeClass( this.icon, null, \"ui-wiget-icon-block\" );\n\t\t\tthis._attachIconSpace( position );\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tthis.element.removeAttr( \"role\" );\n\n\t\tif ( this.icon ) {\n\t\t\tthis.icon.remove();\n\t\t}\n\t\tif ( this.iconSpace ) {\n\t\t\tthis.iconSpace.remove();\n\t\t}\n\t\tif ( !this.hasTitle ) {\n\t\t\tthis.element.removeAttr( \"title\" );\n\t\t}\n\t},\n\n\t_attachIconSpace: function( iconPosition ) {\n\t\tthis.icon[ /^(?:end|bottom)/.test( iconPosition ) ? \"before\" : \"after\" ]( this.iconSpace );\n\t},\n\n\t_attachIcon: function( iconPosition ) {\n\t\tthis.element[ /^(?:end|bottom)/.test( iconPosition ) ? \"append\" : \"prepend\" ]( this.icon );\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar newShowLabel = options.showLabel === undefined ?\n\t\t\t\tthis.options.showLabel :\n\t\t\t\toptions.showLabel,\n\t\t\tnewIcon = options.icon === undefined ? this.options.icon : options.icon;\n\n\t\tif ( !newShowLabel && !newIcon ) {\n\t\t\toptions.showLabel = true;\n\t\t}\n\t\tthis._super( options );\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icon\" ) {\n\t\t\tif ( value ) {\n\t\t\t\tthis._updateIcon( key, value );\n\t\t\t} else if ( this.icon ) {\n\t\t\t\tthis.icon.remove();\n\t\t\t\tif ( this.iconSpace ) {\n\t\t\t\t\tthis.iconSpace.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"iconPosition\" ) {\n\t\t\tthis._updateIcon( key, value );\n\t\t}\n\n\t\t// Make sure we can't end up with a button that has neither text nor icon\n\t\tif ( key === \"showLabel\" ) {\n\t\t\t\tthis._toggleClass( \"ui-button-icon-only\", null, !value );\n\t\t\t\tthis._updateTooltip();\n\t\t}\n\n\t\tif ( key === \"label\" ) {\n\t\t\tif ( this.isInput ) {\n\t\t\t\tthis.element.val( value );\n\t\t\t} else {\n\n\t\t\t\t// If there is an icon, append it, else nothing then append the value\n\t\t\t\t// this avoids removal of the icon when setting label text\n\t\t\t\tthis.element.html( value );\n\t\t\t\tif ( this.icon ) {\n\t\t\t\t\tthis._attachIcon( this.options.iconPosition );\n\t\t\t\t\tthis._attachIconSpace( this.options.iconPosition );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis._toggleClass( null, \"ui-state-disabled\", value );\n\t\t\tthis.element[ 0 ].disabled = value;\n\t\t\tif ( value ) {\n\t\t\t\tthis.element.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\n\t\t// Make sure to only check disabled if its an element that supports this otherwise\n\t\t// check for the disabled class to determine state\n\t\tvar isDisabled = this.element.is( \"input, button\" ) ?\n\t\t\tthis.element[ 0 ].disabled : this.element.hasClass( \"ui-button-disabled\" );\n\n\t\tif ( isDisabled !== this.options.disabled ) {\n\t\t\tthis._setOptions( { disabled: isDisabled } );\n\t\t}\n\n\t\tthis._updateTooltip();\n\t}\n} );\n\n// DEPRECATED\nif ( $.uiBackCompat !== false ) {\n\n\t// Text and Icons options\n\t$.widget( \"ui.button\", $.ui.button, {\n\t\toptions: {\n\t\t\ttext: true,\n\t\t\ticons: {\n\t\t\t\tprimary: null,\n\t\t\t\tsecondary: null\n\t\t\t}\n\t\t},\n\n\t\t_create: function() {\n\t\t\tif ( this.options.showLabel && !this.options.text ) {\n\t\t\t\tthis.options.showLabel = this.options.text;\n\t\t\t}\n\t\t\tif ( !this.options.showLabel && this.options.text ) {\n\t\t\t\tthis.options.text = this.options.showLabel;\n\t\t\t}\n\t\t\tif ( !this.options.icon && ( this.options.icons.primary ||\n\t\t\t\t\tthis.options.icons.secondary ) ) {\n\t\t\t\tif ( this.options.icons.primary ) {\n\t\t\t\t\tthis.options.icon = this.options.icons.primary;\n\t\t\t\t} else {\n\t\t\t\t\tthis.options.icon = this.options.icons.secondary;\n\t\t\t\t\tthis.options.iconPosition = \"end\";\n\t\t\t\t}\n\t\t\t} else if ( this.options.icon ) {\n\t\t\t\tthis.options.icons.primary = this.options.icon;\n\t\t\t}\n\t\t\tthis._super();\n\t\t},\n\n\t\t_setOption: function( key, value ) {\n\t\t\tif ( key === \"text\" ) {\n\t\t\t\tthis._super( \"showLabel\", value );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( key === \"showLabel\" ) {\n\t\t\t\tthis.options.text = value;\n\t\t\t}\n\t\t\tif ( key === \"icon\" ) {\n\t\t\t\tthis.options.icons.primary = value;\n\t\t\t}\n\t\t\tif ( key === \"icons\" ) {\n\t\t\t\tif ( value.primary ) {\n\t\t\t\t\tthis._super( \"icon\", value.primary );\n\t\t\t\t\tthis._super( \"iconPosition\", \"beginning\" );\n\t\t\t\t} else if ( value.secondary ) {\n\t\t\t\t\tthis._super( \"icon\", value.secondary );\n\t\t\t\t\tthis._super( \"iconPosition\", \"end\" );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._superApply( arguments );\n\t\t}\n\t} );\n\n\t$.fn.button = ( function( orig ) {\n\t\treturn function() {\n\t\t\tif ( !this.length || ( this.length && this[ 0 ].tagName !== \"INPUT\" ) ||\n\t\t\t\t\t( this.length && this[ 0 ].tagName === \"INPUT\" && (\n\t\t\t\t\t\tthis.attr( \"type\" ) !== \"checkbox\" && this.attr( \"type\" ) !== \"radio\"\n\t\t\t\t\t) ) ) {\n\t\t\t\treturn orig.apply( this, arguments );\n\t\t\t}\n\t\t\tif ( !$.ui.checkboxradio ) {\n\t\t\t\t$.error( \"Checkboxradio widget missing\" );\n\t\t\t}\n\t\t\tif ( arguments.length === 0 ) {\n\t\t\t\treturn this.checkboxradio( {\n\t\t\t\t\t\"icon\": false\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn this.checkboxradio.apply( this, arguments );\n\t\t};\n\t} )( $.fn.button );\n\n\t$.fn.buttonset = function() {\n\t\tif ( !$.ui.controlgroup ) {\n\t\t\t$.error( \"Controlgroup widget missing\" );\n\t\t}\n\t\tif ( arguments[ 0 ] === \"option\" && arguments[ 1 ] === \"items\" && arguments[ 2 ] ) {\n\t\t\treturn this.controlgroup.apply( this,\n\t\t\t\t[ arguments[ 0 ], \"items.button\", arguments[ 2 ] ] );\n\t\t}\n\t\tif ( arguments[ 0 ] === \"option\" && arguments[ 1 ] === \"items\" ) {\n\t\t\treturn this.controlgroup.apply( this, [ arguments[ 0 ], \"items.button\" ] );\n\t\t}\n\t\tif ( typeof arguments[ 0 ] === \"object\" && arguments[ 0 ].items ) {\n\t\t\targuments[ 0 ].items = {\n\t\t\t\tbutton: arguments[ 0 ].items\n\t\t\t};\n\t\t}\n\t\treturn this.controlgroup.apply( this, arguments );\n\t};\n}\n\nreturn $.ui.button;\n\n} ) );\n","/*!\n * jQuery UI Spinner 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Spinner\n//>>group: Widgets\n//>>description: Displays buttons to easily input numbers via the keyboard or mouse.\n//>>docs: http://api.jqueryui.com/spinner/\n//>>demos: http://jqueryui.com/spinner/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/spinner.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./button\",\n\t\t\t\"../version\",\n\t\t\t\"../keycode\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nfunction spinnerModifer( fn ) {\n\treturn function() {\n\t\tvar previous = this.element.val();\n\t\tfn.apply( this, arguments );\n\t\tthis._refresh();\n\t\tif ( previous !== this.element.val() ) {\n\t\t\tthis._trigger( \"change\" );\n\t\t}\n\t};\n}\n\n$.widget( \"ui.spinner\", {\n\tversion: \"1.12.0\",\n\tdefaultElement: \"<input>\",\n\twidgetEventPrefix: \"spin\",\n\toptions: {\n\t\tclasses: {\n\t\t\t\"ui-spinner\": \"ui-corner-all\",\n\t\t\t\"ui-spinner-down\": \"ui-corner-br\",\n\t\t\t\"ui-spinner-up\": \"ui-corner-tr\"\n\t\t},\n\t\tculture: null,\n\t\ticons: {\n\t\t\tdown: \"ui-icon-triangle-1-s\",\n\t\t\tup: \"ui-icon-triangle-1-n\"\n\t\t},\n\t\tincremental: true,\n\t\tmax: null,\n\t\tmin: null,\n\t\tnumberFormat: null,\n\t\tpage: 10,\n\t\tstep: 1,\n\n\t\tchange: null,\n\t\tspin: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\n\t_create: function() {\n\n\t\t// handle string values that need to be parsed\n\t\tthis._setOption( \"max\", this.options.max );\n\t\tthis._setOption( \"min\", this.options.min );\n\t\tthis._setOption( \"step\", this.options.step );\n\n\t\t// Only format if there is a value, prevents the field from being marked\n\t\t// as invalid in Firefox, see #9573.\n\t\tif ( this.value() !== \"\" ) {\n\n\t\t\t// Format the value, but don't constrain.\n\t\t\tthis._value( this.element.val(), true );\n\t\t}\n\n\t\tthis._draw();\n\t\tthis._on( this._events );\n\t\tthis._refresh();\n\n\t\t// Turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_getCreateOptions: function() {\n\t\tvar options = this._super();\n\t\tvar element = this.element;\n\n\t\t$.each( [ \"min\", \"max\", \"step\" ], function( i, option ) {\n\t\t\tvar value = element.attr( option );\n\t\t\tif ( value != null && value.length ) {\n\t\t\t\toptions[ option ] = value;\n\t\t\t}\n\t\t} );\n\n\t\treturn options;\n\t},\n\n\t_events: {\n\t\tkeydown: function( event ) {\n\t\t\tif ( this._start( event ) && this._keydown( event ) ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\t\tkeyup: \"_stop\",\n\t\tfocus: function() {\n\t\t\tthis.previous = this.element.val();\n\t\t},\n\t\tblur: function( event ) {\n\t\t\tif ( this.cancelBlur ) {\n\t\t\t\tdelete this.cancelBlur;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._stop();\n\t\t\tthis._refresh();\n\t\t\tif ( this.previous !== this.element.val() ) {\n\t\t\t\tthis._trigger( \"change\", event );\n\t\t\t}\n\t\t},\n\t\tmousewheel: function( event, delta ) {\n\t\t\tif ( !delta ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( !this.spinning && !this._start( event ) ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis._spin( ( delta > 0 ? 1 : -1 ) * this.options.step, event );\n\t\t\tclearTimeout( this.mousewheelTimer );\n\t\t\tthis.mousewheelTimer = this._delay( function() {\n\t\t\t\tif ( this.spinning ) {\n\t\t\t\t\tthis._stop( event );\n\t\t\t\t}\n\t\t\t}, 100 );\n\t\t\tevent.preventDefault();\n\t\t},\n\t\t\"mousedown .ui-spinner-button\": function( event ) {\n\t\t\tvar previous;\n\n\t\t\t// We never want the buttons to have focus; whenever the user is\n\t\t\t// interacting with the spinner, the focus should be on the input.\n\t\t\t// If the input is focused then this.previous is properly set from\n\t\t\t// when the input first received focus. If the input is not focused\n\t\t\t// then we need to set this.previous based on the value before spinning.\n\t\t\tprevious = this.element[ 0 ] === $.ui.safeActiveElement( this.document[ 0 ] ) ?\n\t\t\t\tthis.previous : this.element.val();\n\t\t\tfunction checkFocus() {\n\t\t\t\tvar isActive = this.element[ 0 ] === $.ui.safeActiveElement( this.document[ 0 ] );\n\t\t\t\tif ( !isActive ) {\n\t\t\t\t\tthis.element.trigger( \"focus\" );\n\t\t\t\t\tthis.previous = previous;\n\n\t\t\t\t\t// support: IE\n\t\t\t\t\t// IE sets focus asynchronously, so we need to check if focus\n\t\t\t\t\t// moved off of the input because the user clicked on the button.\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Ensure focus is on (or stays on) the text field\n\t\t\tevent.preventDefault();\n\t\t\tcheckFocus.call( this );\n\n\t\t\t// Support: IE\n\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t// and check (again) if focus moved off of the input.\n\t\t\tthis.cancelBlur = true;\n\t\t\tthis._delay( function() {\n\t\t\t\tdelete this.cancelBlur;\n\t\t\t\tcheckFocus.call( this );\n\t\t\t} );\n\n\t\t\tif ( this._start( event ) === false ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._repeat( null, $( event.currentTarget )\n\t\t\t\t.hasClass( \"ui-spinner-up\" ) ? 1 : -1, event );\n\t\t},\n\t\t\"mouseup .ui-spinner-button\": \"_stop\",\n\t\t\"mouseenter .ui-spinner-button\": function( event ) {\n\n\t\t\t// button will add ui-state-active if mouse was down while mouseleave and kept down\n\t\t\tif ( !$( event.currentTarget ).hasClass( \"ui-state-active\" ) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( this._start( event ) === false ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis._repeat( null, $( event.currentTarget )\n\t\t\t\t.hasClass( \"ui-spinner-up\" ) ? 1 : -1, event );\n\t\t},\n\n\t\t// TODO: do we really want to consider this a stop?\n\t\t// shouldn't we just stop the repeater and wait until mouseup before\n\t\t// we trigger the stop event?\n\t\t\"mouseleave .ui-spinner-button\": \"_stop\"\n\t},\n\n\t// Support mobile enhanced option and make backcompat more sane\n\t_enhance: function() {\n\t\tthis.uiSpinner = this.element\n\t\t\t.attr( \"autocomplete\", \"off\" )\n\t\t\t.wrap( \"<span>\" )\n\t\t\t.parent()\n\n\t\t\t\t// Add buttons\n\t\t\t\t.append(\n\t\t\t\t\t\"<a></a><a></a>\"\n\t\t\t\t);\n\t},\n\n\t_draw: function() {\n\t\tthis._enhance();\n\n\t\tthis._addClass( this.uiSpinner, \"ui-spinner\", \"ui-widget ui-widget-content\" );\n\t\tthis._addClass( \"ui-spinner-input\" );\n\n\t\tthis.element.attr( \"role\", \"spinbutton\" );\n\n\t\t// Button bindings\n\t\tthis.buttons = this.uiSpinner.children( \"a\" )\n\t\t\t.attr( \"tabIndex\", -1 )\n\t\t\t.attr( \"aria-hidden\", true )\n\t\t\t.button( {\n\t\t\t\tclasses: {\n\t\t\t\t\t\"ui-button\": \"\"\n\t\t\t\t}\n\t\t\t} );\n\n\t\t// TODO: Right now button does not support classes this is already updated in button PR\n\t\tthis._removeClass( this.buttons, \"ui-corner-all\" );\n\n\t\tthis._addClass( this.buttons.first(), \"ui-spinner-button ui-spinner-up\" );\n\t\tthis._addClass( this.buttons.last(), \"ui-spinner-button ui-spinner-down\" );\n\t\tthis.buttons.first().button( {\n\t\t\t\"icon\": this.options.icons.up,\n\t\t\t\"showLabel\": false\n\t\t} );\n\t\tthis.buttons.last().button( {\n\t\t\t\"icon\": this.options.icons.down,\n\t\t\t\"showLabel\": false\n\t\t} );\n\n\t\t// IE 6 doesn't understand height: 50% for the buttons\n\t\t// unless the wrapper has an explicit height\n\t\tif ( this.buttons.height() > Math.ceil( this.uiSpinner.height() * 0.5 ) &&\n\t\t\t\tthis.uiSpinner.height() > 0 ) {\n\t\t\tthis.uiSpinner.height( this.uiSpinner.height() );\n\t\t}\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar options = this.options,\n\t\t\tkeyCode = $.ui.keyCode;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase keyCode.UP:\n\t\t\tthis._repeat( null, 1, event );\n\t\t\treturn true;\n\t\tcase keyCode.DOWN:\n\t\t\tthis._repeat( null, -1, event );\n\t\t\treturn true;\n\t\tcase keyCode.PAGE_UP:\n\t\t\tthis._repeat( null, options.page, event );\n\t\t\treturn true;\n\t\tcase keyCode.PAGE_DOWN:\n\t\t\tthis._repeat( null, -options.page, event );\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_start: function( event ) {\n\t\tif ( !this.spinning && this._trigger( \"start\", event ) === false ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( !this.counter ) {\n\t\t\tthis.counter = 1;\n\t\t}\n\t\tthis.spinning = true;\n\t\treturn true;\n\t},\n\n\t_repeat: function( i, steps, event ) {\n\t\ti = i || 500;\n\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay( function() {\n\t\t\tthis._repeat( 40, steps, event );\n\t\t}, i );\n\n\t\tthis._spin( steps * this.options.step, event );\n\t},\n\n\t_spin: function( step, event ) {\n\t\tvar value = this.value() || 0;\n\n\t\tif ( !this.counter ) {\n\t\t\tthis.counter = 1;\n\t\t}\n\n\t\tvalue = this._adjustValue( value + step * this._increment( this.counter ) );\n\n\t\tif ( !this.spinning || this._trigger( \"spin\", event, { value: value } ) !== false ) {\n\t\t\tthis._value( value );\n\t\t\tthis.counter++;\n\t\t}\n\t},\n\n\t_increment: function( i ) {\n\t\tvar incremental = this.options.incremental;\n\n\t\tif ( incremental ) {\n\t\t\treturn $.isFunction( incremental ) ?\n\t\t\t\tincremental( i ) :\n\t\t\t\tMath.floor( i * i * i / 50000 - i * i / 500 + 17 * i / 200 + 1 );\n\t\t}\n\n\t\treturn 1;\n\t},\n\n\t_precision: function() {\n\t\tvar precision = this._precisionOf( this.options.step );\n\t\tif ( this.options.min !== null ) {\n\t\t\tprecision = Math.max( precision, this._precisionOf( this.options.min ) );\n\t\t}\n\t\treturn precision;\n\t},\n\n\t_precisionOf: function( num ) {\n\t\tvar str = num.toString(),\n\t\t\tdecimal = str.indexOf( \".\" );\n\t\treturn decimal === -1 ? 0 : str.length - decimal - 1;\n\t},\n\n\t_adjustValue: function( value ) {\n\t\tvar base, aboveMin,\n\t\t\toptions = this.options;\n\n\t\t// Make sure we're at a valid step\n\t\t// - find out where we are relative to the base (min or 0)\n\t\tbase = options.min !== null ? options.min : 0;\n\t\taboveMin = value - base;\n\n\t\t// - round to the nearest step\n\t\taboveMin = Math.round( aboveMin / options.step ) * options.step;\n\n\t\t// - rounding is based on 0, so adjust back to our base\n\t\tvalue = base + aboveMin;\n\n\t\t// Fix precision from bad JS floating point math\n\t\tvalue = parseFloat( value.toFixed( this._precision() ) );\n\n\t\t// Clamp the value\n\t\tif ( options.max !== null && value > options.max ) {\n\t\t\treturn options.max;\n\t\t}\n\t\tif ( options.min !== null && value < options.min ) {\n\t\t\treturn options.min;\n\t\t}\n\n\t\treturn value;\n\t},\n\n\t_stop: function( event ) {\n\t\tif ( !this.spinning ) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout( this.timer );\n\t\tclearTimeout( this.mousewheelTimer );\n\t\tthis.counter = 0;\n\t\tthis.spinning = false;\n\t\tthis._trigger( \"stop\", event );\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar prevValue, first, last;\n\n\t\tif ( key === \"culture\" || key === \"numberFormat\" ) {\n\t\t\tprevValue = this._parse( this.element.val() );\n\t\t\tthis.options[ key ] = value;\n\t\t\tthis.element.val( this._format( prevValue ) );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key === \"max\" || key === \"min\" || key === \"step\" ) {\n\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\tvalue = this._parse( value );\n\t\t\t}\n\t\t}\n\t\tif ( key === \"icons\" ) {\n\t\t\tfirst = this.buttons.first().find( \".ui-icon\" );\n\t\t\tthis._removeClass( first, null, this.options.icons.up );\n\t\t\tthis._addClass( first, null, value.up );\n\t\t\tlast = this.buttons.last().find( \".ui-icon\" );\n\t\t\tthis._removeClass( last, null, this.options.icons.down );\n\t\t\tthis._addClass( last, null, value.down );\n\t\t}\n\n\t\tthis._super( key, value );\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._super( value );\n\n\t\tthis._toggleClass( this.uiSpinner, null, \"ui-state-disabled\", !!value );\n\t\tthis.element.prop( \"disabled\", !!value );\n\t\tthis.buttons.button( value ? \"disable\" : \"enable\" );\n\t},\n\n\t_setOptions: spinnerModifer( function( options ) {\n\t\tthis._super( options );\n\t} ),\n\n\t_parse: function( val ) {\n\t\tif ( typeof val === \"string\" && val !== \"\" ) {\n\t\t\tval = window.Globalize && this.options.numberFormat ?\n\t\t\t\tGlobalize.parseFloat( val, 10, this.options.culture ) : +val;\n\t\t}\n\t\treturn val === \"\" || isNaN( val ) ? null : val;\n\t},\n\n\t_format: function( value ) {\n\t\tif ( value === \"\" ) {\n\t\t\treturn \"\";\n\t\t}\n\t\treturn window.Globalize && this.options.numberFormat ?\n\t\t\tGlobalize.format( value, this.options.numberFormat, this.options.culture ) :\n\t\t\tvalue;\n\t},\n\n\t_refresh: function() {\n\t\tthis.element.attr( {\n\t\t\t\"aria-valuemin\": this.options.min,\n\t\t\t\"aria-valuemax\": this.options.max,\n\n\t\t\t// TODO: what should we do with values that can't be parsed?\n\t\t\t\"aria-valuenow\": this._parse( this.element.val() )\n\t\t} );\n\t},\n\n\tisValid: function() {\n\t\tvar value = this.value();\n\n\t\t// Null is invalid\n\t\tif ( value === null ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If value gets adjusted, it's invalid\n\t\treturn value === this._adjustValue( value );\n\t},\n\n\t// Update the value without triggering change\n\t_value: function( value, allowAny ) {\n\t\tvar parsed;\n\t\tif ( value !== \"\" ) {\n\t\t\tparsed = this._parse( value );\n\t\t\tif ( parsed !== null ) {\n\t\t\t\tif ( !allowAny ) {\n\t\t\t\t\tparsed = this._adjustValue( parsed );\n\t\t\t\t}\n\t\t\t\tvalue = this._format( parsed );\n\t\t\t}\n\t\t}\n\t\tthis.element.val( value );\n\t\tthis._refresh();\n\t},\n\n\t_destroy: function() {\n\t\tthis.element\n\t\t\t.prop( \"disabled\", false )\n\t\t\t.removeAttr( \"autocomplete role aria-valuemin aria-valuemax aria-valuenow\" );\n\n\t\tthis.uiSpinner.replaceWith( this.element );\n\t},\n\n\tstepUp: spinnerModifer( function( steps ) {\n\t\tthis._stepUp( steps );\n\t} ),\n\t_stepUp: function( steps ) {\n\t\tif ( this._start() ) {\n\t\t\tthis._spin( ( steps || 1 ) * this.options.step );\n\t\t\tthis._stop();\n\t\t}\n\t},\n\n\tstepDown: spinnerModifer( function( steps ) {\n\t\tthis._stepDown( steps );\n\t} ),\n\t_stepDown: function( steps ) {\n\t\tif ( this._start() ) {\n\t\t\tthis._spin( ( steps || 1 ) * -this.options.step );\n\t\t\tthis._stop();\n\t\t}\n\t},\n\n\tpageUp: spinnerModifer( function( pages ) {\n\t\tthis._stepUp( ( pages || 1 ) * this.options.page );\n\t} ),\n\n\tpageDown: spinnerModifer( function( pages ) {\n\t\tthis._stepDown( ( pages || 1 ) * this.options.page );\n\t} ),\n\n\tvalue: function( newVal ) {\n\t\tif ( !arguments.length ) {\n\t\t\treturn this._parse( this.element.val() );\n\t\t}\n\t\tspinnerModifer( this._value ).call( this, newVal );\n\t},\n\n\twidget: function() {\n\t\treturn this.uiSpinner;\n\t}\n} );\n\n// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif ( $.uiBackCompat !== false ) {\n\n\t// Backcompat for spinner html extension points\n\t$.widget( \"ui.spinner\", $.ui.spinner, {\n\t\t_enhance: function() {\n\t\t\tthis.uiSpinner = this.element\n\t\t\t\t.attr( \"autocomplete\", \"off\" )\n\t\t\t\t.wrap( this._uiSpinnerHtml() )\n\t\t\t\t.parent()\n\n\t\t\t\t\t// Add buttons\n\t\t\t\t\t.append( this._buttonHtml() );\n\t\t},\n\t\t_uiSpinnerHtml: function() {\n\t\t\treturn \"<span>\";\n\t\t},\n\n\t\t_buttonHtml: function() {\n\t\t\treturn \"<a></a><a></a>\";\n\t\t}\n\t} );\n}\n\nreturn $.ui.spinner;\n\n} ) );\n","/*!\n * jQuery UI Menu 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Menu\n//>>group: Widgets\n//>>description: Creates nestable menus.\n//>>docs: http://api.jqueryui.com/menu/\n//>>demos: http://jqueryui.com/menu/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/menu.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../unique-id\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nreturn $.widget( \"ui.menu\", {\n\tversion: \"1.12.0\",\n\tdefaultElement: \"<ul>\",\n\tdelay: 300,\n\toptions: {\n\t\ticons: {\n\t\t\tsubmenu: \"ui-icon-caret-1-e\"\n\t\t},\n\t\titems: \"> *\",\n\t\tmenus: \"ul\",\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"right top\"\n\t\t},\n\t\trole: \"menu\",\n\n\t\t// Callbacks\n\t\tblur: null,\n\t\tfocus: null,\n\t\tselect: null\n\t},\n\n\t_create: function() {\n\t\tthis.activeMenu = this.element;\n\n\t\t// Flag used to prevent firing of the click handler\n\t\t// as the event bubbles up through nested menus\n\t\tthis.mouseHandled = false;\n\t\tthis.element\n\t\t\t.uniqueId()\n\t\t\t.attr( {\n\t\t\t\trole: this.options.role,\n\t\t\t\ttabIndex: 0\n\t\t\t} );\n\n\t\tthis._addClass( \"ui-menu\", \"ui-widget ui-widget-content\" );\n\t\tthis._on( {\n\n\t\t\t// Prevent focus from sticking to links inside menu after clicking\n\t\t\t// them (focus should always stay on UL during navigation).\n\t\t\t\"mousedown .ui-menu-item\": function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t},\n\t\t\t\"click .ui-menu-item\": function( event ) {\n\t\t\t\tvar target = $( event.target );\n\t\t\t\tvar active = $( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\t\t\t\tif ( !this.mouseHandled && target.not( \".ui-state-disabled\" ).length ) {\n\t\t\t\t\tthis.select( event );\n\n\t\t\t\t\t// Only set the mouseHandled flag if the event will bubble, see #9469.\n\t\t\t\t\tif ( !event.isPropagationStopped() ) {\n\t\t\t\t\t\tthis.mouseHandled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Open submenu on click\n\t\t\t\t\tif ( target.has( \".ui-menu\" ).length ) {\n\t\t\t\t\t\tthis.expand( event );\n\t\t\t\t\t} else if ( !this.element.is( \":focus\" ) &&\n\t\t\t\t\t\t\tactive.closest( \".ui-menu\" ).length ) {\n\n\t\t\t\t\t\t// Redirect focus to the menu\n\t\t\t\t\t\tthis.element.trigger( \"focus\", [ true ] );\n\n\t\t\t\t\t\t// If the active item is on the top level, let it stay active.\n\t\t\t\t\t\t// Otherwise, blur the active item since it is no longer visible.\n\t\t\t\t\t\tif ( this.active && this.active.parents( \".ui-menu\" ).length === 1 ) {\n\t\t\t\t\t\t\tclearTimeout( this.timer );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"mouseenter .ui-menu-item\": function( event ) {\n\n\t\t\t\t// Ignore mouse events while typeahead is active, see #10458.\n\t\t\t\t// Prevents focusing the wrong item when typeahead causes a scroll while the mouse\n\t\t\t\t// is over an item in the menu\n\t\t\t\tif ( this.previousFilter ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar actualTarget = $( event.target ).closest( \".ui-menu-item\" ),\n\t\t\t\t\ttarget = $( event.currentTarget );\n\n\t\t\t\t// Ignore bubbled events on parent items, see #11641\n\t\t\t\tif ( actualTarget[ 0 ] !== target[ 0 ] ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Remove ui-state-active class from siblings of the newly focused menu item\n\t\t\t\t// to avoid a jump caused by adjacent elements both having a class with a border\n\t\t\t\tthis._removeClass( target.siblings().children( \".ui-state-active\" ),\n\t\t\t\t\tnull, \"ui-state-active\" );\n\t\t\t\tthis.focus( event, target );\n\t\t\t},\n\t\t\tmouseleave: \"collapseAll\",\n\t\t\t\"mouseleave .ui-menu\": \"collapseAll\",\n\t\t\tfocus: function( event, keepActiveItem ) {\n\n\t\t\t\t// If there's already an active item, keep it active\n\t\t\t\t// If not, activate the first item\n\t\t\t\tvar item = this.active || this.element.find( this.options.items ).eq( 0 );\n\n\t\t\t\tif ( !keepActiveItem ) {\n\t\t\t\t\tthis.focus( event, item );\n\t\t\t\t}\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tthis._delay( function() {\n\t\t\t\t\tvar notContained = !$.contains(\n\t\t\t\t\t\tthis.element[ 0 ],\n\t\t\t\t\t\t$.ui.safeActiveElement( this.document[ 0 ] )\n\t\t\t\t\t);\n\t\t\t\t\tif ( notContained ) {\n\t\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t\tkeydown: \"_keydown\"\n\t\t} );\n\n\t\tthis.refresh();\n\n\t\t// Clicks outside of a menu collapse any open menus\n\t\tthis._on( this.document, {\n\t\t\tclick: function( event ) {\n\t\t\t\tif ( this._closeOnDocumentClick( event ) ) {\n\t\t\t\t\tthis.collapseAll( event );\n\t\t\t\t}\n\n\t\t\t\t// Reset the mouseHandled flag\n\t\t\t\tthis.mouseHandled = false;\n\t\t\t}\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tvar items = this.element.find( \".ui-menu-item\" )\n\t\t\t\t.removeAttr( \"role aria-disabled\" ),\n\t\t\tsubmenus = items.children( \".ui-menu-item-wrapper\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.removeAttr( \"tabIndex role aria-haspopup\" );\n\n\t\t// Destroy (sub)menus\n\t\tthis.element\n\t\t\t.removeAttr( \"aria-activedescendant\" )\n\t\t\t.find( \".ui-menu\" ).addBack()\n\t\t\t\t.removeAttr( \"role aria-labelledby aria-expanded aria-hidden aria-disabled \" +\n\t\t\t\t\t\"tabIndex\" )\n\t\t\t\t.removeUniqueId()\n\t\t\t\t.show();\n\n\t\tsubmenus.children().each( function() {\n\t\t\tvar elem = $( this );\n\t\t\tif ( elem.data( \"ui-menu-submenu-caret\" ) ) {\n\t\t\t\telem.remove();\n\t\t\t}\n\t\t} );\n\t},\n\n\t_keydown: function( event ) {\n\t\tvar match, prev, character, skip,\n\t\t\tpreventDefault = true;\n\n\t\tswitch ( event.keyCode ) {\n\t\tcase $.ui.keyCode.PAGE_UP:\n\t\t\tthis.previousPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.PAGE_DOWN:\n\t\t\tthis.nextPage( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.HOME:\n\t\t\tthis._move( \"first\", \"first\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.END:\n\t\t\tthis._move( \"last\", \"last\", event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.UP:\n\t\t\tthis.previous( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.DOWN:\n\t\t\tthis.next( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.LEFT:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.RIGHT:\n\t\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\t\tthis.expand( event );\n\t\t\t}\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ENTER:\n\t\tcase $.ui.keyCode.SPACE:\n\t\t\tthis._activate( event );\n\t\t\tbreak;\n\t\tcase $.ui.keyCode.ESCAPE:\n\t\t\tthis.collapse( event );\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tpreventDefault = false;\n\t\t\tprev = this.previousFilter || \"\";\n\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\tskip = false;\n\n\t\t\tclearTimeout( this.filterTimer );\n\n\t\t\tif ( character === prev ) {\n\t\t\t\tskip = true;\n\t\t\t} else {\n\t\t\t\tcharacter = prev + character;\n\t\t\t}\n\n\t\t\tmatch = this._filterMenuItems( character );\n\t\t\tmatch = skip && match.index( this.active.next() ) !== -1 ?\n\t\t\t\tthis.active.nextAll( \".ui-menu-item\" ) :\n\t\t\t\tmatch;\n\n\t\t\t// If no matches on the current filter, reset to the last character pressed\n\t\t\t// to move down the menu to the first item that starts with that character\n\t\t\tif ( !match.length ) {\n\t\t\t\tcharacter = String.fromCharCode( event.keyCode );\n\t\t\t\tmatch = this._filterMenuItems( character );\n\t\t\t}\n\n\t\t\tif ( match.length ) {\n\t\t\t\tthis.focus( event, match );\n\t\t\t\tthis.previousFilter = character;\n\t\t\t\tthis.filterTimer = this._delay( function() {\n\t\t\t\t\tdelete this.previousFilter;\n\t\t\t\t}, 1000 );\n\t\t\t} else {\n\t\t\t\tdelete this.previousFilter;\n\t\t\t}\n\t\t}\n\n\t\tif ( preventDefault ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t_activate: function( event ) {\n\t\tif ( this.active && !this.active.is( \".ui-state-disabled\" ) ) {\n\t\t\tif ( this.active.children( \"[aria-haspopup='true']\" ).length ) {\n\t\t\t\tthis.expand( event );\n\t\t\t} else {\n\t\t\t\tthis.select( event );\n\t\t\t}\n\t\t}\n\t},\n\n\trefresh: function() {\n\t\tvar menus, items, newSubmenus, newItems, newWrappers,\n\t\t\tthat = this,\n\t\t\ticon = this.options.icons.submenu,\n\t\t\tsubmenus = this.element.find( this.options.menus );\n\n\t\tthis._toggleClass( \"ui-menu-icons\", null, !!this.element.find( \".ui-icon\" ).length );\n\n\t\t// Initialize nested menus\n\t\tnewSubmenus = submenus.filter( \":not(.ui-menu)\" )\n\t\t\t.hide()\n\t\t\t.attr( {\n\t\t\t\trole: this.options.role,\n\t\t\t\t\"aria-hidden\": \"true\",\n\t\t\t\t\"aria-expanded\": \"false\"\n\t\t\t} )\n\t\t\t.each( function() {\n\t\t\t\tvar menu = $( this ),\n\t\t\t\t\titem = menu.prev(),\n\t\t\t\t\tsubmenuCaret = $( \"<span>\" ).data( \"ui-menu-submenu-caret\", true );\n\n\t\t\t\tthat._addClass( submenuCaret, \"ui-menu-icon\", \"ui-icon \" + icon );\n\t\t\t\titem\n\t\t\t\t\t.attr( \"aria-haspopup\", \"true\" )\n\t\t\t\t\t.prepend( submenuCaret );\n\t\t\t\tmenu.attr( \"aria-labelledby\", item.attr( \"id\" ) );\n\t\t\t} );\n\n\t\tthis._addClass( newSubmenus, \"ui-menu\", \"ui-widget ui-widget-content ui-front\" );\n\n\t\tmenus = submenus.add( this.element );\n\t\titems = menus.find( this.options.items );\n\n\t\t// Initialize menu-items containing spaces and/or dashes only as dividers\n\t\titems.not( \".ui-menu-item\" ).each( function() {\n\t\t\tvar item = $( this );\n\t\t\tif ( that._isDivider( item ) ) {\n\t\t\t\tthat._addClass( item, \"ui-menu-divider\", \"ui-widget-content\" );\n\t\t\t}\n\t\t} );\n\n\t\t// Don't refresh list items that are already adapted\n\t\tnewItems = items.not( \".ui-menu-item, .ui-menu-divider\" );\n\t\tnewWrappers = newItems.children()\n\t\t\t.not( \".ui-menu\" )\n\t\t\t\t.uniqueId()\n\t\t\t\t.attr( {\n\t\t\t\t\ttabIndex: -1,\n\t\t\t\t\trole: this._itemRole()\n\t\t\t\t} );\n\t\tthis._addClass( newItems, \"ui-menu-item\" )\n\t\t\t._addClass( newWrappers, \"ui-menu-item-wrapper\" );\n\n\t\t// Add aria-disabled attribute to any disabled menu item\n\t\titems.filter( \".ui-state-disabled\" ).attr( \"aria-disabled\", \"true\" );\n\n\t\t// If the active item has been removed, blur the menu\n\t\tif ( this.active && !$.contains( this.element[ 0 ], this.active[ 0 ] ) ) {\n\t\t\tthis.blur();\n\t\t}\n\t},\n\n\t_itemRole: function() {\n\t\treturn {\n\t\t\tmenu: \"menuitem\",\n\t\t\tlistbox: \"option\"\n\t\t}[ this.options.role ];\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tif ( key === \"icons\" ) {\n\t\t\tvar icons = this.element.find( \".ui-menu-icon\" );\n\t\t\tthis._removeClass( icons, null, this.options.icons.submenu )\n\t\t\t\t._addClass( icons, null, value.submenu );\n\t\t}\n\t\tthis._super( key, value );\n\t},\n\n\t_setOptionDisabled: function( value ) {\n\t\tthis._super( value );\n\n\t\tthis.element.attr( \"aria-disabled\", String( value ) );\n\t\tthis._toggleClass( null, \"ui-state-disabled\", !!value );\n\t},\n\n\tfocus: function( event, item ) {\n\t\tvar nested, focused, activeParent;\n\t\tthis.blur( event, event && event.type === \"focus\" );\n\n\t\tthis._scrollIntoView( item );\n\n\t\tthis.active = item.first();\n\n\t\tfocused = this.active.children( \".ui-menu-item-wrapper\" );\n\t\tthis._addClass( focused, null, \"ui-state-active\" );\n\n\t\t// Only update aria-activedescendant if there's a role\n\t\t// otherwise we assume focus is managed elsewhere\n\t\tif ( this.options.role ) {\n\t\t\tthis.element.attr( \"aria-activedescendant\", focused.attr( \"id\" ) );\n\t\t}\n\n\t\t// Highlight active parent menu item, if any\n\t\tactiveParent = this.active\n\t\t\t.parent()\n\t\t\t\t.closest( \".ui-menu-item\" )\n\t\t\t\t\t.children( \".ui-menu-item-wrapper\" );\n\t\tthis._addClass( activeParent, null, \"ui-state-active\" );\n\n\t\tif ( event && event.type === \"keydown\" ) {\n\t\t\tthis._close();\n\t\t} else {\n\t\t\tthis.timer = this._delay( function() {\n\t\t\t\tthis._close();\n\t\t\t}, this.delay );\n\t\t}\n\n\t\tnested = item.children( \".ui-menu\" );\n\t\tif ( nested.length && event && ( /^mouse/.test( event.type ) ) ) {\n\t\t\tthis._startOpening( nested );\n\t\t}\n\t\tthis.activeMenu = item.parent();\n\n\t\tthis._trigger( \"focus\", event, { item: item } );\n\t},\n\n\t_scrollIntoView: function( item ) {\n\t\tvar borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;\n\t\tif ( this._hasScroll() ) {\n\t\t\tborderTop = parseFloat( $.css( this.activeMenu[ 0 ], \"borderTopWidth\" ) ) || 0;\n\t\t\tpaddingTop = parseFloat( $.css( this.activeMenu[ 0 ], \"paddingTop\" ) ) || 0;\n\t\t\toffset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;\n\t\t\tscroll = this.activeMenu.scrollTop();\n\t\t\telementHeight = this.activeMenu.height();\n\t\t\titemHeight = item.outerHeight();\n\n\t\t\tif ( offset < 0 ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset );\n\t\t\t} else if ( offset + itemHeight > elementHeight ) {\n\t\t\t\tthis.activeMenu.scrollTop( scroll + offset - elementHeight + itemHeight );\n\t\t\t}\n\t\t}\n\t},\n\n\tblur: function( event, fromFocus ) {\n\t\tif ( !fromFocus ) {\n\t\t\tclearTimeout( this.timer );\n\t\t}\n\n\t\tif ( !this.active ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._removeClass( this.active.children( \".ui-menu-item-wrapper\" ),\n\t\t\tnull, \"ui-state-active\" );\n\n\t\tthis._trigger( \"blur\", event, { item: this.active } );\n\t\tthis.active = null;\n\t},\n\n\t_startOpening: function( submenu ) {\n\t\tclearTimeout( this.timer );\n\n\t\t// Don't open if already open fixes a Firefox bug that caused a .5 pixel\n\t\t// shift in the submenu position when mousing over the caret icon\n\t\tif ( submenu.attr( \"aria-hidden\" ) !== \"true\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.timer = this._delay( function() {\n\t\t\tthis._close();\n\t\t\tthis._open( submenu );\n\t\t}, this.delay );\n\t},\n\n\t_open: function( submenu ) {\n\t\tvar position = $.extend( {\n\t\t\tof: this.active\n\t\t}, this.options.position );\n\n\t\tclearTimeout( this.timer );\n\t\tthis.element.find( \".ui-menu\" ).not( submenu.parents( \".ui-menu\" ) )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" );\n\n\t\tsubmenu\n\t\t\t.show()\n\t\t\t.removeAttr( \"aria-hidden\" )\n\t\t\t.attr( \"aria-expanded\", \"true\" )\n\t\t\t.position( position );\n\t},\n\n\tcollapseAll: function( event, all ) {\n\t\tclearTimeout( this.timer );\n\t\tthis.timer = this._delay( function() {\n\n\t\t\t// If we were passed an event, look for the submenu that contains the event\n\t\t\tvar currentMenu = all ? this.element :\n\t\t\t\t$( event && event.target ).closest( this.element.find( \".ui-menu\" ) );\n\n\t\t\t// If we found no valid submenu ancestor, use the main menu to close all\n\t\t\t// sub menus anyway\n\t\t\tif ( !currentMenu.length ) {\n\t\t\t\tcurrentMenu = this.element;\n\t\t\t}\n\n\t\t\tthis._close( currentMenu );\n\n\t\t\tthis.blur( event );\n\n\t\t\t// Work around active item staying active after menu is blurred\n\t\t\tthis._removeClass( currentMenu.find( \".ui-state-active\" ), null, \"ui-state-active\" );\n\n\t\t\tthis.activeMenu = currentMenu;\n\t\t}, this.delay );\n\t},\n\n\t// With no arguments, closes the currently active menu - if nothing is active\n\t// it closes all menus.  If passed an argument, it will search for menus BELOW\n\t_close: function( startMenu ) {\n\t\tif ( !startMenu ) {\n\t\t\tstartMenu = this.active ? this.active.parent() : this.element;\n\t\t}\n\n\t\tstartMenu.find( \".ui-menu\" )\n\t\t\t.hide()\n\t\t\t.attr( \"aria-hidden\", \"true\" )\n\t\t\t.attr( \"aria-expanded\", \"false\" );\n\t},\n\n\t_closeOnDocumentClick: function( event ) {\n\t\treturn !$( event.target ).closest( \".ui-menu\" ).length;\n\t},\n\n\t_isDivider: function( item ) {\n\n\t\t// Match hyphen, em dash, en dash\n\t\treturn !/[^\\-\\u2014\\u2013\\s]/.test( item.text() );\n\t},\n\n\tcollapse: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active.parent().closest( \".ui-menu-item\", this.element );\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._close();\n\t\t\tthis.focus( event, newItem );\n\t\t}\n\t},\n\n\texpand: function( event ) {\n\t\tvar newItem = this.active &&\n\t\t\tthis.active\n\t\t\t\t.children( \".ui-menu \" )\n\t\t\t\t\t.find( this.options.items )\n\t\t\t\t\t\t.first();\n\n\t\tif ( newItem && newItem.length ) {\n\t\t\tthis._open( newItem.parent() );\n\n\t\t\t// Delay so Firefox will not hide activedescendant change in expanding submenu from AT\n\t\t\tthis._delay( function() {\n\t\t\t\tthis.focus( event, newItem );\n\t\t\t} );\n\t\t}\n\t},\n\n\tnext: function( event ) {\n\t\tthis._move( \"next\", \"first\", event );\n\t},\n\n\tprevious: function( event ) {\n\t\tthis._move( \"prev\", \"last\", event );\n\t},\n\n\tisFirstItem: function() {\n\t\treturn this.active && !this.active.prevAll( \".ui-menu-item\" ).length;\n\t},\n\n\tisLastItem: function() {\n\t\treturn this.active && !this.active.nextAll( \".ui-menu-item\" ).length;\n\t},\n\n\t_move: function( direction, filter, event ) {\n\t\tvar next;\n\t\tif ( this.active ) {\n\t\t\tif ( direction === \"first\" || direction === \"last\" ) {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction === \"first\" ? \"prevAll\" : \"nextAll\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( -1 );\n\t\t\t} else {\n\t\t\t\tnext = this.active\n\t\t\t\t\t[ direction + \"All\" ]( \".ui-menu-item\" )\n\t\t\t\t\t.eq( 0 );\n\t\t\t}\n\t\t}\n\t\tif ( !next || !next.length || !this.active ) {\n\t\t\tnext = this.activeMenu.find( this.options.items )[ filter ]();\n\t\t}\n\n\t\tthis.focus( event, next );\n\t},\n\n\tnextPage: function( event ) {\n\t\tvar item, base, height;\n\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isLastItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.nextAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base - height < 0;\n\t\t\t} );\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items )\n\t\t\t\t[ !this.active ? \"first\" : \"last\" ]() );\n\t\t}\n\t},\n\n\tpreviousPage: function( event ) {\n\t\tvar item, base, height;\n\t\tif ( !this.active ) {\n\t\t\tthis.next( event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.isFirstItem() ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( this._hasScroll() ) {\n\t\t\tbase = this.active.offset().top;\n\t\t\theight = this.element.height();\n\t\t\tthis.active.prevAll( \".ui-menu-item\" ).each( function() {\n\t\t\t\titem = $( this );\n\t\t\t\treturn item.offset().top - base + height > 0;\n\t\t\t} );\n\n\t\t\tthis.focus( event, item );\n\t\t} else {\n\t\t\tthis.focus( event, this.activeMenu.find( this.options.items ).first() );\n\t\t}\n\t},\n\n\t_hasScroll: function() {\n\t\treturn this.element.outerHeight() < this.element.prop( \"scrollHeight\" );\n\t},\n\n\tselect: function( event ) {\n\n\t\t// TODO: It should never be possible to not have an active item at this\n\t\t// point, but the tests don't trigger mouseenter before click.\n\t\tthis.active = this.active || $( event.target ).closest( \".ui-menu-item\" );\n\t\tvar ui = { item: this.active };\n\t\tif ( !this.active.has( \".ui-menu\" ).length ) {\n\t\t\tthis.collapseAll( event, true );\n\t\t}\n\t\tthis._trigger( \"select\", event, ui );\n\t},\n\n\t_filterMenuItems: function( character ) {\n\t\tvar escapedCharacter = character.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" ),\n\t\t\tregex = new RegExp( \"^\" + escapedCharacter, \"i\" );\n\n\t\treturn this.activeMenu\n\t\t\t.find( this.options.items )\n\n\t\t\t\t// Only match on items, not dividers or other content (#10571)\n\t\t\t\t.filter( \".ui-menu-item\" )\n\t\t\t\t\t.filter( function() {\n\t\t\t\t\t\treturn regex.test(\n\t\t\t\t\t\t\t$.trim( $( this ).children( \".ui-menu-item-wrapper\" ).text() ) );\n\t\t\t\t\t} );\n\t}\n} );\n\n} ) );\n","/*!\n * jQuery UI Autocomplete 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Autocomplete\n//>>group: Widgets\n//>>description: Lists suggested words as the user is typing.\n//>>docs: http://api.jqueryui.com/autocomplete/\n//>>demos: http://jqueryui.com/autocomplete/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/autocomplete.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./menu\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.autocomplete\", {\n\tversion: \"1.12.0\",\n\tdefaultElement: \"<input>\",\n\toptions: {\n\t\tappendTo: null,\n\t\tautoFocus: false,\n\t\tdelay: 300,\n\t\tminLength: 1,\n\t\tposition: {\n\t\t\tmy: \"left top\",\n\t\t\tat: \"left bottom\",\n\t\t\tcollision: \"none\"\n\t\t},\n\t\tsource: null,\n\n\t\t// Callbacks\n\t\tchange: null,\n\t\tclose: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresponse: null,\n\t\tsearch: null,\n\t\tselect: null\n\t},\n\n\trequestIndex: 0,\n\tpending: 0,\n\n\t_create: function() {\n\n\t\t// Some browsers only repeat keydown events, not keypress events,\n\t\t// so we use the suppressKeyPress flag to determine if we've already\n\t\t// handled the keydown event. #7269\n\t\t// Unfortunately the code for & in keypress is the same as the up arrow,\n\t\t// so we use the suppressKeyPressRepeat flag to avoid handling keypress\n\t\t// events when we know the keydown event was used to modify the\n\t\t// search term. #7799\n\t\tvar suppressKeyPress, suppressKeyPressRepeat, suppressInput,\n\t\t\tnodeName = this.element[ 0 ].nodeName.toLowerCase(),\n\t\t\tisTextarea = nodeName === \"textarea\",\n\t\t\tisInput = nodeName === \"input\";\n\n\t\t// Textareas are always multi-line\n\t\t// Inputs are always single-line, even if inside a contentEditable element\n\t\t// IE also treats inputs as contentEditable\n\t\t// All other element types are determined by whether or not they're contentEditable\n\t\tthis.isMultiLine = isTextarea || !isInput && this._isContentEditable( this.element );\n\n\t\tthis.valueMethod = this.element[ isTextarea || isInput ? \"val\" : \"text\" ];\n\t\tthis.isNewMenu = true;\n\n\t\tthis._addClass( \"ui-autocomplete-input\" );\n\t\tthis.element.attr( \"autocomplete\", \"off\" );\n\n\t\tthis._on( this.element, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\tif ( this.element.prop( \"readOnly\" ) ) {\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tsuppressInput = true;\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsuppressKeyPress = false;\n\t\t\t\tsuppressInput = false;\n\t\t\t\tsuppressKeyPressRepeat = false;\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ENTER:\n\n\t\t\t\t\t// when menu is open and has focus\n\t\t\t\t\tif ( this.menu.active ) {\n\n\t\t\t\t\t\t// #6055 - Opera still allows the keypress to occur\n\t\t\t\t\t\t// which causes forms to submit\n\t\t\t\t\t\tsuppressKeyPress = true;\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.TAB:\n\t\t\t\t\tif ( this.menu.active ) {\n\t\t\t\t\t\tthis.menu.select( event );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.ESCAPE:\n\t\t\t\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tif ( !this.isMultiLine ) {\n\t\t\t\t\t\t\tthis._value( this.term );\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.close( event );\n\n\t\t\t\t\t\t// Different browsers have different default behavior for escape\n\t\t\t\t\t\t// Single press can mean undo or clear\n\t\t\t\t\t\t// Double press in IE means clear the whole form\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tsuppressKeyPressRepeat = true;\n\n\t\t\t\t\t// search timeout should be triggered before the input value is changed\n\t\t\t\t\tthis._searchTimeout( event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeypress: function( event ) {\n\t\t\t\tif ( suppressKeyPress ) {\n\t\t\t\t\tsuppressKeyPress = false;\n\t\t\t\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif ( suppressKeyPressRepeat ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Replicate some key handlers to allow them to repeat in Firefox and Opera\n\t\t\t\tvar keyCode = $.ui.keyCode;\n\t\t\t\tswitch ( event.keyCode ) {\n\t\t\t\tcase keyCode.PAGE_UP:\n\t\t\t\t\tthis._move( \"previousPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.PAGE_DOWN:\n\t\t\t\t\tthis._move( \"nextPage\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.UP:\n\t\t\t\t\tthis._keyEvent( \"previous\", event );\n\t\t\t\t\tbreak;\n\t\t\t\tcase keyCode.DOWN:\n\t\t\t\t\tthis._keyEvent( \"next\", event );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t},\n\t\t\tinput: function( event ) {\n\t\t\t\tif ( suppressInput ) {\n\t\t\t\t\tsuppressInput = false;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._searchTimeout( event );\n\t\t\t},\n\t\t\tfocus: function() {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.previous = this._value();\n\t\t\t},\n\t\t\tblur: function( event ) {\n\t\t\t\tif ( this.cancelBlur ) {\n\t\t\t\t\tdelete this.cancelBlur;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tclearTimeout( this.searching );\n\t\t\t\tthis.close( event );\n\t\t\t\tthis._change( event );\n\t\t\t}\n\t\t} );\n\n\t\tthis._initSource();\n\t\tthis.menu = $( \"<ul>\" )\n\t\t\t.appendTo( this._appendTo() )\n\t\t\t.menu( {\n\n\t\t\t\t// disable ARIA support, the live region takes care of that\n\t\t\t\trole: null\n\t\t\t} )\n\t\t\t.hide()\n\t\t\t.menu( \"instance\" );\n\n\t\tthis._addClass( this.menu.element, \"ui-autocomplete\", \"ui-front\" );\n\t\tthis._on( this.menu.element, {\n\t\t\tmousedown: function( event ) {\n\n\t\t\t\t// prevent moving focus out of the text field\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// IE doesn't prevent moving focus even with event.preventDefault()\n\t\t\t\t// so we set a flag to know when we should ignore the blur event\n\t\t\t\tthis.cancelBlur = true;\n\t\t\t\tthis._delay( function() {\n\t\t\t\t\tdelete this.cancelBlur;\n\n\t\t\t\t\t// Support: IE 8 only\n\t\t\t\t\t// Right clicking a menu item or selecting text from the menu items will\n\t\t\t\t\t// result in focus moving out of the input. However, we've already received\n\t\t\t\t\t// and ignored the blur event because of the cancelBlur flag set above. So\n\t\t\t\t\t// we restore focus to ensure that the menu closes properly based on the user's\n\t\t\t\t\t// next actions.\n\t\t\t\t\tif ( this.element[ 0 ] !== $.ui.safeActiveElement( this.document[ 0 ] ) ) {\n\t\t\t\t\t\tthis.element.trigger( \"focus\" );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t},\n\t\t\tmenufocus: function( event, ui ) {\n\t\t\t\tvar label, item;\n\n\t\t\t\t// support: Firefox\n\t\t\t\t// Prevent accidental activation of menu items in Firefox (#7024 #9118)\n\t\t\t\tif ( this.isNewMenu ) {\n\t\t\t\t\tthis.isNewMenu = false;\n\t\t\t\t\tif ( event.originalEvent && /^mouse/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis.menu.blur();\n\n\t\t\t\t\t\tthis.document.one( \"mousemove\", function() {\n\t\t\t\t\t\t\t$( event.target ).trigger( event.originalEvent );\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\titem = ui.item.data( \"ui-autocomplete-item\" );\n\t\t\t\tif ( false !== this._trigger( \"focus\", event, { item: item } ) ) {\n\n\t\t\t\t\t// use value to match what will end up in the input, if it was a key event\n\t\t\t\t\tif ( event.originalEvent && /^key/.test( event.originalEvent.type ) ) {\n\t\t\t\t\t\tthis._value( item.value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Announce the value in the liveRegion\n\t\t\t\tlabel = ui.item.attr( \"aria-label\" ) || item.value;\n\t\t\t\tif ( label && $.trim( label ).length ) {\n\t\t\t\t\tthis.liveRegion.children().hide();\n\t\t\t\t\t$( \"<div>\" ).text( label ).appendTo( this.liveRegion );\n\t\t\t\t}\n\t\t\t},\n\t\t\tmenuselect: function( event, ui ) {\n\t\t\t\tvar item = ui.item.data( \"ui-autocomplete-item\" ),\n\t\t\t\t\tprevious = this.previous;\n\n\t\t\t\t// Only trigger when focus was lost (click on menu)\n\t\t\t\tif ( this.element[ 0 ] !== $.ui.safeActiveElement( this.document[ 0 ] ) ) {\n\t\t\t\t\tthis.element.trigger( \"focus\" );\n\t\t\t\t\tthis.previous = previous;\n\n\t\t\t\t\t// #6109 - IE triggers two focus events and the second\n\t\t\t\t\t// is asynchronous, so we need to reset the previous\n\t\t\t\t\t// term synchronously and asynchronously :-(\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tthis.previous = previous;\n\t\t\t\t\t\tthis.selectedItem = item;\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\tif ( false !== this._trigger( \"select\", event, { item: item } ) ) {\n\t\t\t\t\tthis._value( item.value );\n\t\t\t\t}\n\n\t\t\t\t// reset the term after the select event\n\t\t\t\t// this allows custom select handling to work properly\n\t\t\t\tthis.term = this._value();\n\n\t\t\t\tthis.close( event );\n\t\t\t\tthis.selectedItem = item;\n\t\t\t}\n\t\t} );\n\n\t\tthis.liveRegion = $( \"<div>\", {\n\t\t\trole: \"status\",\n\t\t\t\"aria-live\": \"assertive\",\n\t\t\t\"aria-relevant\": \"additions\"\n\t\t} )\n\t\t\t.appendTo( this.document[ 0 ].body );\n\n\t\tthis._addClass( this.liveRegion, null, \"ui-helper-hidden-accessible\" );\n\n\t\t// Turning off autocomplete prevents the browser from remembering the\n\t\t// value when navigating through history, so we re-enable autocomplete\n\t\t// if the page is unloaded before the widget is destroyed. #7790\n\t\tthis._on( this.window, {\n\t\t\tbeforeunload: function() {\n\t\t\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_destroy: function() {\n\t\tclearTimeout( this.searching );\n\t\tthis.element.removeAttr( \"autocomplete\" );\n\t\tthis.menu.element.remove();\n\t\tthis.liveRegion.remove();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"source\" ) {\n\t\t\tthis._initSource();\n\t\t}\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.menu.element.appendTo( this._appendTo() );\n\t\t}\n\t\tif ( key === \"disabled\" && value && this.xhr ) {\n\t\t\tthis.xhr.abort();\n\t\t}\n\t},\n\n\t_isEventTargetInWidget: function( event ) {\n\t\tvar menuElement = this.menu.element[ 0 ];\n\n\t\treturn event.target === this.element[ 0 ] ||\n\t\t\tevent.target === menuElement ||\n\t\t\t$.contains( menuElement, event.target );\n\t},\n\n\t_closeOnClickOutside: function( event ) {\n\t\tif ( !this._isEventTargetInWidget( event ) ) {\n\t\t\tthis.close();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\n\t\tif ( element ) {\n\t\t\telement = element.jquery || element.nodeType ?\n\t\t\t\t$( element ) :\n\t\t\t\tthis.document.find( element ).eq( 0 );\n\t\t}\n\n\t\tif ( !element || !element[ 0 ] ) {\n\t\t\telement = this.element.closest( \".ui-front, dialog\" );\n\t\t}\n\n\t\tif ( !element.length ) {\n\t\t\telement = this.document[ 0 ].body;\n\t\t}\n\n\t\treturn element;\n\t},\n\n\t_initSource: function() {\n\t\tvar array, url,\n\t\t\tthat = this;\n\t\tif ( $.isArray( this.options.source ) ) {\n\t\t\tarray = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tresponse( $.ui.autocomplete.filter( array, request.term ) );\n\t\t\t};\n\t\t} else if ( typeof this.options.source === \"string\" ) {\n\t\t\turl = this.options.source;\n\t\t\tthis.source = function( request, response ) {\n\t\t\t\tif ( that.xhr ) {\n\t\t\t\t\tthat.xhr.abort();\n\t\t\t\t}\n\t\t\t\tthat.xhr = $.ajax( {\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: request,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: function( data ) {\n\t\t\t\t\t\tresponse( data );\n\t\t\t\t\t},\n\t\t\t\t\terror: function() {\n\t\t\t\t\t\tresponse( [] );\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t};\n\t\t} else {\n\t\t\tthis.source = this.options.source;\n\t\t}\n\t},\n\n\t_searchTimeout: function( event ) {\n\t\tclearTimeout( this.searching );\n\t\tthis.searching = this._delay( function() {\n\n\t\t\t// Search if the value has changed, or if the user retypes the same value (see #7434)\n\t\t\tvar equalValues = this.term === this._value(),\n\t\t\t\tmenuVisible = this.menu.element.is( \":visible\" ),\n\t\t\t\tmodifierKey = event.altKey || event.ctrlKey || event.metaKey || event.shiftKey;\n\n\t\t\tif ( !equalValues || ( equalValues && !menuVisible && !modifierKey ) ) {\n\t\t\t\tthis.selectedItem = null;\n\t\t\t\tthis.search( null, event );\n\t\t\t}\n\t\t}, this.options.delay );\n\t},\n\n\tsearch: function( value, event ) {\n\t\tvalue = value != null ? value : this._value();\n\n\t\t// Always save the actual value, not the one passed as an argument\n\t\tthis.term = this._value();\n\n\t\tif ( value.length < this.options.minLength ) {\n\t\t\treturn this.close( event );\n\t\t}\n\n\t\tif ( this._trigger( \"search\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn this._search( value );\n\t},\n\n\t_search: function( value ) {\n\t\tthis.pending++;\n\t\tthis._addClass( \"ui-autocomplete-loading\" );\n\t\tthis.cancelSearch = false;\n\n\t\tthis.source( { term: value }, this._response() );\n\t},\n\n\t_response: function() {\n\t\tvar index = ++this.requestIndex;\n\n\t\treturn $.proxy( function( content ) {\n\t\t\tif ( index === this.requestIndex ) {\n\t\t\t\tthis.__response( content );\n\t\t\t}\n\n\t\t\tthis.pending--;\n\t\t\tif ( !this.pending ) {\n\t\t\t\tthis._removeClass( \"ui-autocomplete-loading\" );\n\t\t\t}\n\t\t}, this );\n\t},\n\n\t__response: function( content ) {\n\t\tif ( content ) {\n\t\t\tcontent = this._normalize( content );\n\t\t}\n\t\tthis._trigger( \"response\", null, { content: content } );\n\t\tif ( !this.options.disabled && content && content.length && !this.cancelSearch ) {\n\t\t\tthis._suggest( content );\n\t\t\tthis._trigger( \"open\" );\n\t\t} else {\n\n\t\t\t// use ._close() instead of .close() so we don't cancel future searches\n\t\t\tthis._close();\n\t\t}\n\t},\n\n\tclose: function( event ) {\n\t\tthis.cancelSearch = true;\n\t\tthis._close( event );\n\t},\n\n\t_close: function( event ) {\n\n\t\t// Remove the handler that closes the menu on outside clicks\n\t\tthis._off( this.document, \"mousedown\" );\n\n\t\tif ( this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.menu.element.hide();\n\t\t\tthis.menu.blur();\n\t\t\tthis.isNewMenu = true;\n\t\t\tthis._trigger( \"close\", event );\n\t\t}\n\t},\n\n\t_change: function( event ) {\n\t\tif ( this.previous !== this._value() ) {\n\t\t\tthis._trigger( \"change\", event, { item: this.selectedItem } );\n\t\t}\n\t},\n\n\t_normalize: function( items ) {\n\n\t\t// assume all items have the right format when the first item is complete\n\t\tif ( items.length && items[ 0 ].label && items[ 0 ].value ) {\n\t\t\treturn items;\n\t\t}\n\t\treturn $.map( items, function( item ) {\n\t\t\tif ( typeof item === \"string\" ) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: item,\n\t\t\t\t\tvalue: item\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn $.extend( {}, item, {\n\t\t\t\tlabel: item.label || item.value,\n\t\t\t\tvalue: item.value || item.label\n\t\t\t} );\n\t\t} );\n\t},\n\n\t_suggest: function( items ) {\n\t\tvar ul = this.menu.element.empty();\n\t\tthis._renderMenu( ul, items );\n\t\tthis.isNewMenu = true;\n\t\tthis.menu.refresh();\n\n\t\t// Size and position menu\n\t\tul.show();\n\t\tthis._resizeMenu();\n\t\tul.position( $.extend( {\n\t\t\tof: this.element\n\t\t}, this.options.position ) );\n\n\t\tif ( this.options.autoFocus ) {\n\t\t\tthis.menu.next();\n\t\t}\n\n\t\t// Listen for interactions outside of the widget (#6642)\n\t\tthis._on( this.document, {\n\t\t\tmousedown: \"_closeOnClickOutside\"\n\t\t} );\n\t},\n\n\t_resizeMenu: function() {\n\t\tvar ul = this.menu.element;\n\t\tul.outerWidth( Math.max(\n\n\t\t\t// Firefox wraps long text (possibly a rounding bug)\n\t\t\t// so we add 1px to avoid the wrapping (#7513)\n\t\t\tul.width( \"\" ).outerWidth() + 1,\n\t\t\tthis.element.outerWidth()\n\t\t) );\n\t},\n\n\t_renderMenu: function( ul, items ) {\n\t\tvar that = this;\n\t\t$.each( items, function( index, item ) {\n\t\t\tthat._renderItemData( ul, item );\n\t\t} );\n\t},\n\n\t_renderItemData: function( ul, item ) {\n\t\treturn this._renderItem( ul, item ).data( \"ui-autocomplete-item\", item );\n\t},\n\n\t_renderItem: function( ul, item ) {\n\t\treturn $( \"<li>\" )\n\t\t\t.append( $( \"<div>\" ).text( item.label ) )\n\t\t\t.appendTo( ul );\n\t},\n\n\t_move: function( direction, event ) {\n\t\tif ( !this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis.search( null, event );\n\t\t\treturn;\n\t\t}\n\t\tif ( this.menu.isFirstItem() && /^previous/.test( direction ) ||\n\t\t\t\tthis.menu.isLastItem() && /^next/.test( direction ) ) {\n\n\t\t\tif ( !this.isMultiLine ) {\n\t\t\t\tthis._value( this.term );\n\t\t\t}\n\n\t\t\tthis.menu.blur();\n\t\t\treturn;\n\t\t}\n\t\tthis.menu[ direction ]( event );\n\t},\n\n\twidget: function() {\n\t\treturn this.menu.element;\n\t},\n\n\t_value: function() {\n\t\treturn this.valueMethod.apply( this.element, arguments );\n\t},\n\n\t_keyEvent: function( keyEvent, event ) {\n\t\tif ( !this.isMultiLine || this.menu.element.is( \":visible\" ) ) {\n\t\t\tthis._move( keyEvent, event );\n\n\t\t\t// Prevents moving cursor to beginning/end of the text field in some browsers\n\t\t\tevent.preventDefault();\n\t\t}\n\t},\n\n\t// Support: Chrome <=50\n\t// We should be able to just use this.element.prop( \"isContentEditable\" )\n\t// but hidden elements always report false in Chrome.\n\t// https://code.google.com/p/chromium/issues/detail?id=313082\n\t_isContentEditable: function( element ) {\n\t\tif ( !element.length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar editable = element.prop( \"contentEditable\" );\n\n\t\tif ( editable === \"inherit\" ) {\n\t\t  return this._isContentEditable( element.parent() );\n\t\t}\n\n\t\treturn editable === \"true\";\n\t}\n} );\n\n$.extend( $.ui.autocomplete, {\n\tescapeRegex: function( value ) {\n\t\treturn value.replace( /[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\" );\n\t},\n\tfilter: function( array, term ) {\n\t\tvar matcher = new RegExp( $.ui.autocomplete.escapeRegex( term ), \"i\" );\n\t\treturn $.grep( array, function( value ) {\n\t\t\treturn matcher.test( value.label || value.value || value );\n\t\t} );\n\t}\n} );\n\n// Live region extension, adding a `messages` option\n// NOTE: This is an experimental API. We are still investigating\n// a full solution for string manipulation and internationalization.\n$.widget( \"ui.autocomplete\", $.ui.autocomplete, {\n\toptions: {\n\t\tmessages: {\n\t\t\tnoResults: \"No search results.\",\n\t\t\tresults: function( amount ) {\n\t\t\t\treturn amount + ( amount > 1 ? \" results are\" : \" result is\" ) +\n\t\t\t\t\t\" available, use up and down arrow keys to navigate.\";\n\t\t\t}\n\t\t}\n\t},\n\n\t__response: function( content ) {\n\t\tvar message;\n\t\tthis._superApply( arguments );\n\t\tif ( this.options.disabled || this.cancelSearch ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( content && content.length ) {\n\t\t\tmessage = this.options.messages.results( content.length );\n\t\t} else {\n\t\t\tmessage = this.options.messages.noResults;\n\t\t}\n\t\tthis.liveRegion.children().hide();\n\t\t$( \"<div>\" ).text( message ).appendTo( this.liveRegion );\n\t}\n} );\n\nreturn $.ui.autocomplete;\n\n} ) );\n","/*!\n * jQuery UI Mouse 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Mouse\n//>>group: Widgets\n//>>description: Abstracts mouse-based interactions to assist in creating certain widgets.\n//>>docs: http://api.jqueryui.com/mouse/\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"../ie\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\nvar mouseHandled = false;\n$( document ).on( \"mouseup\", function() {\n\tmouseHandled = false;\n} );\n\nreturn $.widget( \"ui.mouse\", {\n\tversion: \"1.12.0\",\n\toptions: {\n\t\tcancel: \"input, textarea, button, select, option\",\n\t\tdistance: 1,\n\t\tdelay: 0\n\t},\n\t_mouseInit: function() {\n\t\tvar that = this;\n\n\t\tthis.element\n\t\t\t.on( \"mousedown.\" + this.widgetName, function( event ) {\n\t\t\t\treturn that._mouseDown( event );\n\t\t\t} )\n\t\t\t.on( \"click.\" + this.widgetName, function( event ) {\n\t\t\t\tif ( true === $.data( event.target, that.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t\t\t$.removeData( event.target, that.widgetName + \".preventClickEvent\" );\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\n\t\tthis.started = false;\n\t},\n\n\t// TODO: make sure destroying one instance of mouse doesn't mess with\n\t// other instances of mouse\n\t_mouseDestroy: function() {\n\t\tthis.element.off( \".\" + this.widgetName );\n\t\tif ( this._mouseMoveDelegate ) {\n\t\t\tthis.document\n\t\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\t\t}\n\t},\n\n\t_mouseDown: function( event ) {\n\n\t\t// don't let more than one widget handle mouseStart\n\t\tif ( mouseHandled ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._mouseMoved = false;\n\n\t\t// We may have missed mouseup (out of window)\n\t\t( this._mouseStarted && this._mouseUp( event ) );\n\n\t\tthis._mouseDownEvent = event;\n\n\t\tvar that = this,\n\t\t\tbtnIsLeft = ( event.which === 1 ),\n\n\t\t\t// event.target.nodeName works around a bug in IE 8 with\n\t\t\t// disabled inputs (#7620)\n\t\t\telIsCancel = ( typeof this.options.cancel === \"string\" && event.target.nodeName ?\n\t\t\t\t$( event.target ).closest( this.options.cancel ).length : false );\n\t\tif ( !btnIsLeft || elIsCancel || !this._mouseCapture( event ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\tthis.mouseDelayMet = !this.options.delay;\n\t\tif ( !this.mouseDelayMet ) {\n\t\t\tthis._mouseDelayTimer = setTimeout( function() {\n\t\t\t\tthat.mouseDelayMet = true;\n\t\t\t}, this.options.delay );\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted = ( this._mouseStart( event ) !== false );\n\t\t\tif ( !this._mouseStarted ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Click event may never have fired (Gecko & Opera)\n\t\tif ( true === $.data( event.target, this.widgetName + \".preventClickEvent\" ) ) {\n\t\t\t$.removeData( event.target, this.widgetName + \".preventClickEvent\" );\n\t\t}\n\n\t\t// These delegates are required to keep context\n\t\tthis._mouseMoveDelegate = function( event ) {\n\t\t\treturn that._mouseMove( event );\n\t\t};\n\t\tthis._mouseUpDelegate = function( event ) {\n\t\t\treturn that._mouseUp( event );\n\t\t};\n\n\t\tthis.document\n\t\t\t.on( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.on( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tevent.preventDefault();\n\n\t\tmouseHandled = true;\n\t\treturn true;\n\t},\n\n\t_mouseMove: function( event ) {\n\n\t\t// Only check for mouseups outside the document if you've moved inside the document\n\t\t// at least once. This prevents the firing of mouseup in the case of IE<9, which will\n\t\t// fire a mousemove event if content is placed under the cursor. See #7778\n\t\t// Support: IE <9\n\t\tif ( this._mouseMoved ) {\n\n\t\t\t// IE mouseup check - mouseup happened when mouse was out of window\n\t\t\tif ( $.ui.ie && ( !document.documentMode || document.documentMode < 9 ) &&\n\t\t\t\t\t!event.button ) {\n\t\t\t\treturn this._mouseUp( event );\n\n\t\t\t// Iframe mouseup check - mouseup occurred in another document\n\t\t\t} else if ( !event.which ) {\n\n\t\t\t\t// Support: Safari <=8 - 9\n\t\t\t\t// Safari sets which to 0 if you press any of the following keys\n\t\t\t\t// during a drag (#14461)\n\t\t\t\tif ( event.originalEvent.altKey || event.originalEvent.ctrlKey ||\n\t\t\t\t\t\tevent.originalEvent.metaKey || event.originalEvent.shiftKey ) {\n\t\t\t\t\tthis.ignoreMissingWhich = true;\n\t\t\t\t} else if ( !this.ignoreMissingWhich ) {\n\t\t\t\t\treturn this._mouseUp( event );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( event.which || event.button ) {\n\t\t\tthis._mouseMoved = true;\n\t\t}\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseDrag( event );\n\t\t\treturn event.preventDefault();\n\t\t}\n\n\t\tif ( this._mouseDistanceMet( event ) && this._mouseDelayMet( event ) ) {\n\t\t\tthis._mouseStarted =\n\t\t\t\t( this._mouseStart( this._mouseDownEvent, event ) !== false );\n\t\t\t( this._mouseStarted ? this._mouseDrag( event ) : this._mouseUp( event ) );\n\t\t}\n\n\t\treturn !this._mouseStarted;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis.document\n\t\t\t.off( \"mousemove.\" + this.widgetName, this._mouseMoveDelegate )\n\t\t\t.off( \"mouseup.\" + this.widgetName, this._mouseUpDelegate );\n\n\t\tif ( this._mouseStarted ) {\n\t\t\tthis._mouseStarted = false;\n\n\t\t\tif ( event.target === this._mouseDownEvent.target ) {\n\t\t\t\t$.data( event.target, this.widgetName + \".preventClickEvent\", true );\n\t\t\t}\n\n\t\t\tthis._mouseStop( event );\n\t\t}\n\n\t\tif ( this._mouseDelayTimer ) {\n\t\t\tclearTimeout( this._mouseDelayTimer );\n\t\t\tdelete this._mouseDelayTimer;\n\t\t}\n\n\t\tthis.ignoreMissingWhich = false;\n\t\tmouseHandled = false;\n\t\tevent.preventDefault();\n\t},\n\n\t_mouseDistanceMet: function( event ) {\n\t\treturn ( Math.max(\n\t\t\t\tMath.abs( this._mouseDownEvent.pageX - event.pageX ),\n\t\t\t\tMath.abs( this._mouseDownEvent.pageY - event.pageY )\n\t\t\t) >= this.options.distance\n\t\t);\n\t},\n\n\t_mouseDelayMet: function( /* event */ ) {\n\t\treturn this.mouseDelayMet;\n\t},\n\n\t// These are placeholder methods, to be overriden by extending plugin\n\t_mouseStart: function( /* event */ ) {},\n\t_mouseDrag: function( /* event */ ) {},\n\t_mouseStop: function( /* event */ ) {},\n\t_mouseCapture: function( /* event */ ) { return true; }\n} );\n\n} ) );\n","/*!\n * jQuery UI Draggable 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Draggable\n//>>group: Interactions\n//>>description: Enables dragging functionality for any element.\n//>>docs: http://api.jqueryui.com/draggable/\n//>>demos: http://jqueryui.com/draggable/\n//>>css.structure: ../../themes/base/draggable.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../data\",\n\t\t\t\"../plugin\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../scroll-parent\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.draggable\", $.ui.mouse, {\n\tversion: \"1.12.0\",\n\twidgetEventPrefix: \"drag\",\n\toptions: {\n\t\taddClasses: true,\n\t\tappendTo: \"parent\",\n\t\taxis: false,\n\t\tconnectToSortable: false,\n\t\tcontainment: false,\n\t\tcursor: \"auto\",\n\t\tcursorAt: false,\n\t\tgrid: false,\n\t\thandle: false,\n\t\thelper: \"original\",\n\t\tiframeFix: false,\n\t\topacity: false,\n\t\trefreshPositions: false,\n\t\trevert: false,\n\t\trevertDuration: 500,\n\t\tscope: \"default\",\n\t\tscroll: true,\n\t\tscrollSensitivity: 20,\n\t\tscrollSpeed: 20,\n\t\tsnap: false,\n\t\tsnapMode: \"both\",\n\t\tsnapTolerance: 20,\n\t\tstack: false,\n\t\tzIndex: false,\n\n\t\t// Callbacks\n\t\tdrag: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\t_create: function() {\n\n\t\tif ( this.options.helper === \"original\" ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\t\tif ( this.options.addClasses ) {\n\t\t\tthis._addClass( \"ui-draggable\" );\n\t\t}\n\t\tthis._setHandleClassName();\n\n\t\tthis._mouseInit();\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\t\tif ( key === \"handle\" ) {\n\t\t\tthis._removeHandleClassName();\n\t\t\tthis._setHandleClassName();\n\t\t}\n\t},\n\n\t_destroy: function() {\n\t\tif ( ( this.helper || this.element ).is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis.destroyOnClear = true;\n\t\t\treturn;\n\t\t}\n\t\tthis._removeHandleClassName();\n\t\tthis._mouseDestroy();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar o = this.options;\n\n\t\tthis._blurActiveElement( event );\n\n\t\t// Among others, prevent a drag on a resizable-handle\n\t\tif ( this.helper || o.disabled ||\n\t\t\t\t$( event.target ).closest( \".ui-resizable-handle\" ).length > 0 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t//Quit if we're not on a valid handle\n\t\tthis.handle = this._getHandle( event );\n\t\tif ( !this.handle ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis._blockFrames( o.iframeFix === true ? \"iframe\" : o.iframeFix );\n\n\t\treturn true;\n\n\t},\n\n\t_blockFrames: function( selector ) {\n\t\tthis.iframeBlocks = this.document.find( selector ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( \"position\", \"absolute\" )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.outerWidth( iframe.outerWidth() )\n\t\t\t\t.outerHeight( iframe.outerHeight() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_blurActiveElement: function( event ) {\n\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\ttarget = $( event.target );\n\n\t\t// Only blur if the event occurred on an element that is:\n\t\t// 1) within the draggable handle\n\t\t// 2) but not within the currently focused element\n\t\t// See #10527, #12472\n\t\tif ( this._getHandle( event ) && target.closest( activeElement ).length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Blur any element that currently has focus, see #4261\n\t\t$.ui.safeBlur( activeElement );\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar o = this.options;\n\n\t\t//Create and append the visible helper\n\t\tthis.helper = this._createHelper( event );\n\n\t\tthis._addClass( this.helper, \"ui-draggable-dragging\" );\n\n\t\t//Cache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//If ddmanager is used for droppables, set the global draggable\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.current = this;\n\t\t}\n\n\t\t/*\n\t\t * - Position generation -\n\t\t * This block generates everything position related - it's the core of draggables.\n\t\t */\n\n\t\t//Cache the margins of the original element\n\t\tthis._cacheMargins();\n\n\t\t//Store the helper's css position\n\t\tthis.cssPosition = this.helper.css( \"position\" );\n\t\tthis.scrollParent = this.helper.scrollParent( true );\n\t\tthis.offsetParent = this.helper.offsetParent();\n\t\tthis.hasFixedAncestor = this.helper.parents().filter( function() {\n\t\t\t\treturn $( this ).css( \"position\" ) === \"fixed\";\n\t\t\t} ).length > 0;\n\n\t\t//The element's absolute position on the page minus margins\n\t\tthis.positionAbs = this.element.offset();\n\t\tthis._refreshOffsets( event );\n\n\t\t//Generate the original position\n\t\tthis.originalPosition = this.position = this._generatePosition( event, false );\n\t\tthis.originalPageX = event.pageX;\n\t\tthis.originalPageY = event.pageY;\n\n\t\t//Adjust the mouse offset relative to the helper if \"cursorAt\" is supplied\n\t\t( o.cursorAt && this._adjustOffsetFromHelper( o.cursorAt ) );\n\n\t\t//Set a containment if given in the options\n\t\tthis._setContainment();\n\n\t\t//Trigger event + callbacks\n\t\tif ( this._trigger( \"start\", event ) === false ) {\n\t\t\tthis._clear();\n\t\t\treturn false;\n\t\t}\n\n\t\t//Recache the helper size\n\t\tthis._cacheHelperProportions();\n\n\t\t//Prepare the droppable offsets\n\t\tif ( $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( this, event );\n\t\t}\n\n\t\t// Execute the drag once - this causes the helper not to be visible before getting its\n\t\t// correct position\n\t\tthis._mouseDrag( event, true );\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has started\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStart( this, event );\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t_refreshOffsets: function( event ) {\n\t\tthis.offset = {\n\t\t\ttop: this.positionAbs.top - this.margins.top,\n\t\t\tleft: this.positionAbs.left - this.margins.left,\n\t\t\tscroll: false,\n\t\t\tparent: this._getParentOffset(),\n\t\t\trelative: this._getRelativeOffset()\n\t\t};\n\n\t\tthis.offset.click = {\n\t\t\tleft: event.pageX - this.offset.left,\n\t\t\ttop: event.pageY - this.offset.top\n\t\t};\n\t},\n\n\t_mouseDrag: function( event, noPropagation ) {\n\n\t\t// reset any necessary cached properties (see #5009)\n\t\tif ( this.hasFixedAncestor ) {\n\t\t\tthis.offset.parent = this._getParentOffset();\n\t\t}\n\n\t\t//Compute the helpers position\n\t\tthis.position = this._generatePosition( event, true );\n\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\n\t\t//Call plugins and callbacks and use the resulting position if something is returned\n\t\tif ( !noPropagation ) {\n\t\t\tvar ui = this._uiHash();\n\t\t\tif ( this._trigger( \"drag\", event, ui ) === false ) {\n\t\t\t\tthis._mouseUp( new $.Event( \"mouseup\", event ) );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.position = ui.position;\n\t\t}\n\n\t\tthis.helper[ 0 ].style.left = this.position.left + \"px\";\n\t\tthis.helper[ 0 ].style.top = this.position.top + \"px\";\n\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.drag( this, event );\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\t//If we are using droppables, inform the manager about the drop\n\t\tvar that = this,\n\t\t\tdropped = false;\n\t\tif ( $.ui.ddmanager && !this.options.dropBehaviour ) {\n\t\t\tdropped = $.ui.ddmanager.drop( this, event );\n\t\t}\n\n\t\t//if a drop comes from outside (a sortable)\n\t\tif ( this.dropped ) {\n\t\t\tdropped = this.dropped;\n\t\t\tthis.dropped = false;\n\t\t}\n\n\t\tif ( ( this.options.revert === \"invalid\" && !dropped ) ||\n\t\t\t\t( this.options.revert === \"valid\" && dropped ) ||\n\t\t\t\tthis.options.revert === true || ( $.isFunction( this.options.revert ) &&\n\t\t\t\tthis.options.revert.call( this.element, dropped ) )\n\t\t) {\n\t\t\t$( this.helper ).animate(\n\t\t\t\tthis.originalPosition,\n\t\t\t\tparseInt( this.options.revertDuration, 10 ),\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( that._trigger( \"stop\", event ) !== false ) {\n\t\t\t\t\t\tthat._clear();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tif ( this._trigger( \"stop\", event ) !== false ) {\n\t\t\t\tthis._clear();\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseUp: function( event ) {\n\t\tthis._unblockFrames();\n\n\t\t// If the ddmanager is used for droppables, inform the manager that dragging has stopped\n\t\t// (see #5003)\n\t\tif ( $.ui.ddmanager ) {\n\t\t\t$.ui.ddmanager.dragStop( this, event );\n\t\t}\n\n\t\t// Only need to focus if the event occurred on the draggable itself, see #10527\n\t\tif ( this.handleElement.is( event.target ) ) {\n\n\t\t\t// The interaction is over; whether or not the click resulted in a drag,\n\t\t\t// focus the element\n\t\t\tthis.element.trigger( \"focus\" );\n\t\t}\n\n\t\treturn $.ui.mouse.prototype._mouseUp.call( this, event );\n\t},\n\n\tcancel: function() {\n\n\t\tif ( this.helper.is( \".ui-draggable-dragging\" ) ) {\n\t\t\tthis._mouseUp( new $.Event( \"mouseup\", { target: this.element[ 0 ] } ) );\n\t\t} else {\n\t\t\tthis._clear();\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t_getHandle: function( event ) {\n\t\treturn this.options.handle ?\n\t\t\t!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :\n\t\t\ttrue;\n\t},\n\n\t_setHandleClassName: function() {\n\t\tthis.handleElement = this.options.handle ?\n\t\t\tthis.element.find( this.options.handle ) : this.element;\n\t\tthis._addClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_removeHandleClassName: function() {\n\t\tthis._removeClass( this.handleElement, \"ui-draggable-handle\" );\n\t},\n\n\t_createHelper: function( event ) {\n\n\t\tvar o = this.options,\n\t\t\thelperIsFunction = $.isFunction( o.helper ),\n\t\t\thelper = helperIsFunction ?\n\t\t\t\t$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :\n\t\t\t\t( o.helper === \"clone\" ?\n\t\t\t\t\tthis.element.clone().removeAttr( \"id\" ) :\n\t\t\t\t\tthis.element );\n\n\t\tif ( !helper.parents( \"body\" ).length ) {\n\t\t\thelper.appendTo( ( o.appendTo === \"parent\" ?\n\t\t\t\tthis.element[ 0 ].parentNode :\n\t\t\t\to.appendTo ) );\n\t\t}\n\n\t\t// Http://bugs.jqueryui.com/ticket/9446\n\t\t// a helper function can return the original element\n\t\t// which wouldn't have been set to relative in _create\n\t\tif ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {\n\t\t\tthis._setPositionRelative();\n\t\t}\n\n\t\tif ( helper[ 0 ] !== this.element[ 0 ] &&\n\t\t\t\t!( /(fixed|absolute)/ ).test( helper.css( \"position\" ) ) ) {\n\t\t\thelper.css( \"position\", \"absolute\" );\n\t\t}\n\n\t\treturn helper;\n\n\t},\n\n\t_setPositionRelative: function() {\n\t\tif ( !( /^(?:r|a|f)/ ).test( this.element.css( \"position\" ) ) ) {\n\t\t\tthis.element[ 0 ].style.position = \"relative\";\n\t\t}\n\t},\n\n\t_adjustOffsetFromHelper: function( obj ) {\n\t\tif ( typeof obj === \"string\" ) {\n\t\t\tobj = obj.split( \" \" );\n\t\t}\n\t\tif ( $.isArray( obj ) ) {\n\t\t\tobj = { left: +obj[ 0 ], top: +obj[ 1 ] || 0 };\n\t\t}\n\t\tif ( \"left\" in obj ) {\n\t\t\tthis.offset.click.left = obj.left + this.margins.left;\n\t\t}\n\t\tif ( \"right\" in obj ) {\n\t\t\tthis.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;\n\t\t}\n\t\tif ( \"top\" in obj ) {\n\t\t\tthis.offset.click.top = obj.top + this.margins.top;\n\t\t}\n\t\tif ( \"bottom\" in obj ) {\n\t\t\tthis.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;\n\t\t}\n\t},\n\n\t_isRootNode: function( element ) {\n\t\treturn ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];\n\t},\n\n\t_getParentOffset: function() {\n\n\t\t//Get the offsetParent and cache its position\n\t\tvar po = this.offsetParent.offset(),\n\t\t\tdocument = this.document[ 0 ];\n\n\t\t// This is a special case where we need to modify a offset calculated on start, since the\n\t\t// following happened:\n\t\t// 1. The position of the helper is absolute, so it's position is calculated based on the\n\t\t// next positioned parent\n\t\t// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't\n\t\t// the document, which means that the scroll is included in the initial calculation of the\n\t\t// offset of the parent, and never recalculated upon drag\n\t\tif ( this.cssPosition === \"absolute\" && this.scrollParent[ 0 ] !== document &&\n\t\t\t\t$.contains( this.scrollParent[ 0 ], this.offsetParent[ 0 ] ) ) {\n\t\t\tpo.left += this.scrollParent.scrollLeft();\n\t\t\tpo.top += this.scrollParent.scrollTop();\n\t\t}\n\n\t\tif ( this._isRootNode( this.offsetParent[ 0 ] ) ) {\n\t\t\tpo = { top: 0, left: 0 };\n\t\t}\n\n\t\treturn {\n\t\t\ttop: po.top + ( parseInt( this.offsetParent.css( \"borderTopWidth\" ), 10 ) || 0 ),\n\t\t\tleft: po.left + ( parseInt( this.offsetParent.css( \"borderLeftWidth\" ), 10 ) || 0 )\n\t\t};\n\n\t},\n\n\t_getRelativeOffset: function() {\n\t\tif ( this.cssPosition !== \"relative\" ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\tvar p = this.element.position(),\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: p.top - ( parseInt( this.helper.css( \"top\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),\n\t\t\tleft: p.left - ( parseInt( this.helper.css( \"left\" ), 10 ) || 0 ) +\n\t\t\t\t( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )\n\t\t};\n\n\t},\n\n\t_cacheMargins: function() {\n\t\tthis.margins = {\n\t\t\tleft: ( parseInt( this.element.css( \"marginLeft\" ), 10 ) || 0 ),\n\t\t\ttop: ( parseInt( this.element.css( \"marginTop\" ), 10 ) || 0 ),\n\t\t\tright: ( parseInt( this.element.css( \"marginRight\" ), 10 ) || 0 ),\n\t\t\tbottom: ( parseInt( this.element.css( \"marginBottom\" ), 10 ) || 0 )\n\t\t};\n\t},\n\n\t_cacheHelperProportions: function() {\n\t\tthis.helperProportions = {\n\t\t\twidth: this.helper.outerWidth(),\n\t\t\theight: this.helper.outerHeight()\n\t\t};\n\t},\n\n\t_setContainment: function() {\n\n\t\tvar isUserScrollable, c, ce,\n\t\t\to = this.options,\n\t\t\tdocument = this.document[ 0 ];\n\n\t\tthis.relativeContainer = null;\n\n\t\tif ( !o.containment ) {\n\t\t\tthis.containment = null;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"window\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,\n\t\t\t\t$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,\n\t\t\t\t$( window ).scrollLeft() + $( window ).width() -\n\t\t\t\t\tthis.helperProportions.width - this.margins.left,\n\t\t\t\t$( window ).scrollTop() +\n\t\t\t\t\t( $( window ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"document\" ) {\n\t\t\tthis.containment = [\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\t$( document ).width() - this.helperProportions.width - this.margins.left,\n\t\t\t\t( $( document ).height() || document.body.parentNode.scrollHeight ) -\n\t\t\t\t\tthis.helperProportions.height - this.margins.top\n\t\t\t];\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment.constructor === Array ) {\n\t\t\tthis.containment = o.containment;\n\t\t\treturn;\n\t\t}\n\n\t\tif ( o.containment === \"parent\" ) {\n\t\t\to.containment = this.helper[ 0 ].parentNode;\n\t\t}\n\n\t\tc = $( o.containment );\n\t\tce = c[ 0 ];\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tisUserScrollable = /(scroll|auto)/.test( c.css( \"overflow\" ) );\n\n\t\tthis.containment = [\n\t\t\t( parseInt( c.css( \"borderLeftWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingLeft\" ), 10 ) || 0 ),\n\t\t\t( parseInt( c.css( \"borderTopWidth\" ), 10 ) || 0 ) +\n\t\t\t\t( parseInt( c.css( \"paddingTop\" ), 10 ) || 0 ),\n\t\t\t( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -\n\t\t\t\t( parseInt( c.css( \"borderRightWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingRight\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.width -\n\t\t\t\tthis.margins.left -\n\t\t\t\tthis.margins.right,\n\t\t\t( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -\n\t\t\t\t( parseInt( c.css( \"borderBottomWidth\" ), 10 ) || 0 ) -\n\t\t\t\t( parseInt( c.css( \"paddingBottom\" ), 10 ) || 0 ) -\n\t\t\t\tthis.helperProportions.height -\n\t\t\t\tthis.margins.top -\n\t\t\t\tthis.margins.bottom\n\t\t];\n\t\tthis.relativeContainer = c;\n\t},\n\n\t_convertPositionTo: function( d, pos ) {\n\n\t\tif ( !pos ) {\n\t\t\tpos = this.position;\n\t\t}\n\n\t\tvar mod = d === \"absolute\" ? 1 : -1,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.top\t+\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top * mod -\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpos.left +\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left * mod +\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left * mod\t-\n\t\t\t\t( ( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_generatePosition: function( event, constrainPosition ) {\n\n\t\tvar containment, co, top, left,\n\t\t\to = this.options,\n\t\t\tscrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),\n\t\t\tpageX = event.pageX,\n\t\t\tpageY = event.pageY;\n\n\t\t// Cache the scroll\n\t\tif ( !scrollIsRootNode || !this.offset.scroll ) {\n\t\t\tthis.offset.scroll = {\n\t\t\t\ttop: this.scrollParent.scrollTop(),\n\t\t\t\tleft: this.scrollParent.scrollLeft()\n\t\t\t};\n\t\t}\n\n\t\t/*\n\t\t * - Position constraining -\n\t\t * Constrain the position to a mix of grid, containment.\n\t\t */\n\n\t\t// If we are not dragging yet, we won't check for options\n\t\tif ( constrainPosition ) {\n\t\t\tif ( this.containment ) {\n\t\t\t\tif ( this.relativeContainer ) {\n\t\t\t\t\tco = this.relativeContainer.offset();\n\t\t\t\t\tcontainment = [\n\t\t\t\t\t\tthis.containment[ 0 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 1 ] + co.top,\n\t\t\t\t\t\tthis.containment[ 2 ] + co.left,\n\t\t\t\t\t\tthis.containment[ 3 ] + co.top\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcontainment = this.containment;\n\t\t\t\t}\n\n\t\t\t\tif ( event.pageX - this.offset.click.left < containment[ 0 ] ) {\n\t\t\t\t\tpageX = containment[ 0 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top < containment[ 1 ] ) {\n\t\t\t\t\tpageY = containment[ 1 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t\tif ( event.pageX - this.offset.click.left > containment[ 2 ] ) {\n\t\t\t\t\tpageX = containment[ 2 ] + this.offset.click.left;\n\t\t\t\t}\n\t\t\t\tif ( event.pageY - this.offset.click.top > containment[ 3 ] ) {\n\t\t\t\t\tpageY = containment[ 3 ] + this.offset.click.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( o.grid ) {\n\n\t\t\t\t//Check for grid elements set to 0 to prevent divide by 0 error causing invalid\n\t\t\t\t// argument errors in IE (see ticket #6950)\n\t\t\t\ttop = o.grid[ 1 ] ? this.originalPageY + Math.round( ( pageY -\n\t\t\t\t\tthis.originalPageY ) / o.grid[ 1 ] ) * o.grid[ 1 ] : this.originalPageY;\n\t\t\t\tpageY = containment ? ( ( top - this.offset.click.top >= containment[ 1 ] ||\n\t\t\t\t\ttop - this.offset.click.top > containment[ 3 ] ) ?\n\t\t\t\t\t\ttop :\n\t\t\t\t\t\t( ( top - this.offset.click.top >= containment[ 1 ] ) ?\n\t\t\t\t\t\t\ttop - o.grid[ 1 ] : top + o.grid[ 1 ] ) ) : top;\n\n\t\t\t\tleft = o.grid[ 0 ] ? this.originalPageX +\n\t\t\t\t\tMath.round( ( pageX - this.originalPageX ) / o.grid[ 0 ] ) * o.grid[ 0 ] :\n\t\t\t\t\tthis.originalPageX;\n\t\t\t\tpageX = containment ? ( ( left - this.offset.click.left >= containment[ 0 ] ||\n\t\t\t\t\tleft - this.offset.click.left > containment[ 2 ] ) ?\n\t\t\t\t\t\tleft :\n\t\t\t\t\t\t( ( left - this.offset.click.left >= containment[ 0 ] ) ?\n\t\t\t\t\t\t\tleft - o.grid[ 0 ] : left + o.grid[ 0 ] ) ) : left;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"y\" ) {\n\t\t\t\tpageX = this.originalPageX;\n\t\t\t}\n\n\t\t\tif ( o.axis === \"x\" ) {\n\t\t\t\tpageY = this.originalPageY;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttop: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageY -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.top -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.top -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.top +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.top :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.top ) )\n\t\t\t),\n\t\t\tleft: (\n\n\t\t\t\t// The absolute mouse position\n\t\t\t\tpageX -\n\n\t\t\t\t// Click offset (relative to the element)\n\t\t\t\tthis.offset.click.left -\n\n\t\t\t\t// Only for relative positioned nodes: Relative offset from element to offset parent\n\t\t\t\tthis.offset.relative.left -\n\n\t\t\t\t// The offsetParent's offset without borders (offset + border)\n\t\t\t\tthis.offset.parent.left +\n\t\t\t\t( this.cssPosition === \"fixed\" ?\n\t\t\t\t\t-this.offset.scroll.left :\n\t\t\t\t\t( scrollIsRootNode ? 0 : this.offset.scroll.left ) )\n\t\t\t)\n\t\t};\n\n\t},\n\n\t_clear: function() {\n\t\tthis._removeClass( this.helper, \"ui-draggable-dragging\" );\n\t\tif ( this.helper[ 0 ] !== this.element[ 0 ] && !this.cancelHelperRemoval ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\t\tthis.helper = null;\n\t\tthis.cancelHelperRemoval = false;\n\t\tif ( this.destroyOnClear ) {\n\t\t\tthis.destroy();\n\t\t}\n\t},\n\n\t// From now on bulk stuff - mainly helpers\n\n\t_trigger: function( type, event, ui ) {\n\t\tui = ui || this._uiHash();\n\t\t$.ui.plugin.call( this, type, [ event, ui, this ], true );\n\n\t\t// Absolute position and offset (see #6884 ) have to be recalculated after plugins\n\t\tif ( /^(drag|start|stop)/.test( type ) ) {\n\t\t\tthis.positionAbs = this._convertPositionTo( \"absolute\" );\n\t\t\tui.offset = this.positionAbs;\n\t\t}\n\t\treturn $.Widget.prototype._trigger.call( this, type, event, ui );\n\t},\n\n\tplugins: {},\n\n\t_uiHash: function() {\n\t\treturn {\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\toriginalPosition: this.originalPosition,\n\t\t\toffset: this.positionAbs\n\t\t};\n\t}\n\n} );\n\n$.ui.plugin.add( \"draggable\", \"connectToSortable\", {\n\tstart: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.sortables = [];\n\t\t$( draggable.options.connectToSortable ).each( function() {\n\t\t\tvar sortable = $( this ).sortable( \"instance\" );\n\n\t\t\tif ( sortable && !sortable.options.disabled ) {\n\t\t\t\tdraggable.sortables.push( sortable );\n\n\t\t\t\t// RefreshPositions is called at drag start to refresh the containerCache\n\t\t\t\t// which is used in drag. This ensures it's initialized and synchronized\n\t\t\t\t// with any changes that might have happened on the page since initialization.\n\t\t\t\tsortable.refreshPositions();\n\t\t\t\tsortable._trigger( \"activate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tstop: function( event, ui, draggable ) {\n\t\tvar uiSortable = $.extend( {}, ui, {\n\t\t\titem: draggable.element\n\t\t} );\n\n\t\tdraggable.cancelHelperRemoval = false;\n\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar sortable = this;\n\n\t\t\tif ( sortable.isOver ) {\n\t\t\t\tsortable.isOver = 0;\n\n\t\t\t\t// Allow this sortable to handle removing the helper\n\t\t\t\tdraggable.cancelHelperRemoval = true;\n\t\t\t\tsortable.cancelHelperRemoval = false;\n\n\t\t\t\t// Use _storedCSS To restore properties in the sortable,\n\t\t\t\t// as this also handles revert (#9675) since the draggable\n\t\t\t\t// may have modified them in unexpected ways (#8809)\n\t\t\t\tsortable._storedCSS = {\n\t\t\t\t\tposition: sortable.placeholder.css( \"position\" ),\n\t\t\t\t\ttop: sortable.placeholder.css( \"top\" ),\n\t\t\t\t\tleft: sortable.placeholder.css( \"left\" )\n\t\t\t\t};\n\n\t\t\t\tsortable._mouseStop( event );\n\n\t\t\t\t// Once drag has ended, the sortable should return to using\n\t\t\t\t// its original helper, not the shared helper from draggable\n\t\t\t\tsortable.options.helper = sortable.options._helper;\n\t\t\t} else {\n\n\t\t\t\t// Prevent this Sortable from removing the helper.\n\t\t\t\t// However, don't set the draggable to remove the helper\n\t\t\t\t// either as another connected Sortable may yet handle the removal.\n\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\tsortable._trigger( \"deactivate\", event, uiSortable );\n\t\t\t}\n\t\t} );\n\t},\n\tdrag: function( event, ui, draggable ) {\n\t\t$.each( draggable.sortables, function() {\n\t\t\tvar innermostIntersecting = false,\n\t\t\t\tsortable = this;\n\n\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\tsortable.positionAbs = draggable.positionAbs;\n\t\t\tsortable.helperProportions = draggable.helperProportions;\n\t\t\tsortable.offset.click = draggable.offset.click;\n\n\t\t\tif ( sortable._intersectsWith( sortable.containerCache ) ) {\n\t\t\t\tinnermostIntersecting = true;\n\n\t\t\t\t$.each( draggable.sortables, function() {\n\n\t\t\t\t\t// Copy over variables that sortable's _intersectsWith uses\n\t\t\t\t\tthis.positionAbs = draggable.positionAbs;\n\t\t\t\t\tthis.helperProportions = draggable.helperProportions;\n\t\t\t\t\tthis.offset.click = draggable.offset.click;\n\n\t\t\t\t\tif ( this !== sortable &&\n\t\t\t\t\t\t\tthis._intersectsWith( this.containerCache ) &&\n\t\t\t\t\t\t\t$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {\n\t\t\t\t\t\tinnermostIntersecting = false;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn innermostIntersecting;\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( innermostIntersecting ) {\n\n\t\t\t\t// If it intersects, we use a little isOver variable and set it once,\n\t\t\t\t// so that the move-in stuff gets fired only once.\n\t\t\t\tif ( !sortable.isOver ) {\n\t\t\t\t\tsortable.isOver = 1;\n\n\t\t\t\t\t// Store draggable's parent in case we need to reappend to it later.\n\t\t\t\t\tdraggable._parent = ui.helper.parent();\n\n\t\t\t\t\tsortable.currentItem = ui.helper\n\t\t\t\t\t\t.appendTo( sortable.element )\n\t\t\t\t\t\t.data( \"ui-sortable-item\", true );\n\n\t\t\t\t\t// Store helper option to later restore it\n\t\t\t\t\tsortable.options._helper = sortable.options.helper;\n\n\t\t\t\t\tsortable.options.helper = function() {\n\t\t\t\t\t\treturn ui.helper[ 0 ];\n\t\t\t\t\t};\n\n\t\t\t\t\t// Fire the start events of the sortable with our passed browser event,\n\t\t\t\t\t// and our own helper (so it doesn't create a new one)\n\t\t\t\t\tevent.target = sortable.currentItem[ 0 ];\n\t\t\t\t\tsortable._mouseCapture( event, true );\n\t\t\t\t\tsortable._mouseStart( event, true, true );\n\n\t\t\t\t\t// Because the browser event is way off the new appended portlet,\n\t\t\t\t\t// modify necessary variables to reflect the changes\n\t\t\t\t\tsortable.offset.click.top = draggable.offset.click.top;\n\t\t\t\t\tsortable.offset.click.left = draggable.offset.click.left;\n\t\t\t\t\tsortable.offset.parent.left -= draggable.offset.parent.left -\n\t\t\t\t\t\tsortable.offset.parent.left;\n\t\t\t\t\tsortable.offset.parent.top -= draggable.offset.parent.top -\n\t\t\t\t\t\tsortable.offset.parent.top;\n\n\t\t\t\t\tdraggable._trigger( \"toSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is in a valid drop zone,\n\t\t\t\t\t// used solely in the revert option to handle \"valid/invalid\".\n\t\t\t\t\tdraggable.dropped = sortable.element;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables in the case that\n\t\t\t\t\t// adding to one sortable changes the location of the other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\n\t\t\t\t\t// Hack so receive/update callbacks work (mostly)\n\t\t\t\t\tdraggable.currentItem = draggable.element;\n\t\t\t\t\tsortable.fromOutside = draggable;\n\t\t\t\t}\n\n\t\t\t\tif ( sortable.currentItem ) {\n\t\t\t\t\tsortable._mouseDrag( event );\n\n\t\t\t\t\t// Copy the sortable's position because the draggable's can potentially reflect\n\t\t\t\t\t// a relative position, while sortable is always absolute, which the dragged\n\t\t\t\t\t// element has now become. (#8809)\n\t\t\t\t\tui.position = sortable.position;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// If it doesn't intersect with the sortable, and it intersected before,\n\t\t\t\t// we fake the drag stop of the sortable, but make sure it doesn't remove\n\t\t\t\t// the helper by using cancelHelperRemoval.\n\t\t\t\tif ( sortable.isOver ) {\n\n\t\t\t\t\tsortable.isOver = 0;\n\t\t\t\t\tsortable.cancelHelperRemoval = true;\n\n\t\t\t\t\t// Calling sortable's mouseStop would trigger a revert,\n\t\t\t\t\t// so revert must be temporarily false until after mouseStop is called.\n\t\t\t\t\tsortable.options._revert = sortable.options.revert;\n\t\t\t\t\tsortable.options.revert = false;\n\n\t\t\t\t\tsortable._trigger( \"out\", event, sortable._uiHash( sortable ) );\n\t\t\t\t\tsortable._mouseStop( event, true );\n\n\t\t\t\t\t// Restore sortable behaviors that were modfied\n\t\t\t\t\t// when the draggable entered the sortable area (#9481)\n\t\t\t\t\tsortable.options.revert = sortable.options._revert;\n\t\t\t\t\tsortable.options.helper = sortable.options._helper;\n\n\t\t\t\t\tif ( sortable.placeholder ) {\n\t\t\t\t\t\tsortable.placeholder.remove();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore and recalculate the draggable's offset considering the sortable\n\t\t\t\t\t// may have modified them in unexpected ways. (#8809, #10669)\n\t\t\t\t\tui.helper.appendTo( draggable._parent );\n\t\t\t\t\tdraggable._refreshOffsets( event );\n\t\t\t\t\tui.position = draggable._generatePosition( event, true );\n\n\t\t\t\t\tdraggable._trigger( \"fromSortable\", event );\n\n\t\t\t\t\t// Inform draggable that the helper is no longer in a valid drop zone\n\t\t\t\t\tdraggable.dropped = false;\n\n\t\t\t\t\t// Need to refreshPositions of all sortables just in case removing\n\t\t\t\t\t// from one sortable changes the location of other sortables (#9675)\n\t\t\t\t\t$.each( draggable.sortables, function() {\n\t\t\t\t\t\tthis.refreshPositions();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"cursor\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( \"body\" ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"cursor\" ) ) {\n\t\t\to._cursor = t.css( \"cursor\" );\n\t\t}\n\t\tt.css( \"cursor\", o.cursor );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._cursor ) {\n\t\t\t$( \"body\" ).css( \"cursor\", o._cursor );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"opacity\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\t\tif ( t.css( \"opacity\" ) ) {\n\t\t\to._opacity = t.css( \"opacity\" );\n\t\t}\n\t\tt.css( \"opacity\", o.opacity );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\t\tif ( o._opacity ) {\n\t\t\t$( ui.helper ).css( \"opacity\", o._opacity );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"scroll\", {\n\tstart: function( event, ui, i ) {\n\t\tif ( !i.scrollParentNotHidden ) {\n\t\t\ti.scrollParentNotHidden = i.helper.scrollParent( false );\n\t\t}\n\n\t\tif ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] &&\n\t\t\t\ti.scrollParentNotHidden[ 0 ].tagName !== \"HTML\" ) {\n\t\t\ti.overflowOffset = i.scrollParentNotHidden.offset();\n\t\t}\n\t},\n\tdrag: function( event, ui, i  ) {\n\n\t\tvar o = i.options,\n\t\t\tscrolled = false,\n\t\t\tscrollParent = i.scrollParentNotHidden[ 0 ],\n\t\t\tdocument = i.document[ 0 ];\n\n\t\tif ( scrollParent !== document && scrollParent.tagName !== \"HTML\" ) {\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;\n\t\t\t\t} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {\n\t\t\t\t\tscrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( !o.axis || o.axis !== \"x\" ) {\n\t\t\t\tif ( event.pageY - $( document ).scrollTop() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() - o.scrollSpeed );\n\t\t\t\t} else if ( $( window ).height() - ( event.pageY - $( document ).scrollTop() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollTop( $( document ).scrollTop() + o.scrollSpeed );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !o.axis || o.axis !== \"y\" ) {\n\t\t\t\tif ( event.pageX - $( document ).scrollLeft() < o.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() - o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t} else if ( $( window ).width() - ( event.pageX - $( document ).scrollLeft() ) <\n\t\t\t\t\t\to.scrollSensitivity ) {\n\t\t\t\t\tscrolled = $( document ).scrollLeft(\n\t\t\t\t\t\t$( document ).scrollLeft() + o.scrollSpeed\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\n\t\tif ( scrolled !== false && $.ui.ddmanager && !o.dropBehaviour ) {\n\t\t\t$.ui.ddmanager.prepareOffsets( i, event );\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"snap\", {\n\tstart: function( event, ui, i ) {\n\n\t\tvar o = i.options;\n\n\t\ti.snapElements = [];\n\n\t\t$( o.snap.constructor !== String ? ( o.snap.items || \":data(ui-draggable)\" ) : o.snap )\n\t\t\t.each( function() {\n\t\t\t\tvar $t = $( this ),\n\t\t\t\t\t$o = $t.offset();\n\t\t\t\tif ( this !== i.element[ 0 ] ) {\n\t\t\t\t\ti.snapElements.push( {\n\t\t\t\t\t\titem: this,\n\t\t\t\t\t\twidth: $t.outerWidth(), height: $t.outerHeight(),\n\t\t\t\t\t\ttop: $o.top, left: $o.left\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t} );\n\n\t},\n\tdrag: function( event, ui, inst ) {\n\n\t\tvar ts, bs, ls, rs, l, r, t, b, i, first,\n\t\t\to = inst.options,\n\t\t\td = o.snapTolerance,\n\t\t\tx1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,\n\t\t\ty1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;\n\n\t\tfor ( i = inst.snapElements.length - 1; i >= 0; i-- ) {\n\n\t\t\tl = inst.snapElements[ i ].left - inst.margins.left;\n\t\t\tr = l + inst.snapElements[ i ].width;\n\t\t\tt = inst.snapElements[ i ].top - inst.margins.top;\n\t\t\tb = t + inst.snapElements[ i ].height;\n\n\t\t\tif ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d ||\n\t\t\t\t\t!$.contains( inst.snapElements[ i ].item.ownerDocument,\n\t\t\t\t\tinst.snapElements[ i ].item ) ) {\n\t\t\t\tif ( inst.snapElements[ i ].snapping ) {\n\t\t\t\t\t( inst.options.snap.release &&\n\t\t\t\t\t\tinst.options.snap.release.call(\n\t\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t$.extend( inst._uiHash(), { snapItem: inst.snapElements[ i ].item } )\n\t\t\t\t\t\t) );\n\t\t\t\t}\n\t\t\t\tinst.snapElements[ i ].snapping = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( o.snapMode !== \"inner\" ) {\n\t\t\t\tts = Math.abs( t - y2 ) <= d;\n\t\t\t\tbs = Math.abs( b - y1 ) <= d;\n\t\t\t\tls = Math.abs( l - x2 ) <= d;\n\t\t\t\trs = Math.abs( r - x1 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirst = ( ts || bs || ls || rs );\n\n\t\t\tif ( o.snapMode !== \"outer\" ) {\n\t\t\t\tts = Math.abs( t - y1 ) <= d;\n\t\t\t\tbs = Math.abs( b - y2 ) <= d;\n\t\t\t\tls = Math.abs( l - x1 ) <= d;\n\t\t\t\trs = Math.abs( r - x2 ) <= d;\n\t\t\t\tif ( ts ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: t,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( bs ) {\n\t\t\t\t\tui.position.top = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: b - inst.helperProportions.height,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t} ).top;\n\t\t\t\t}\n\t\t\t\tif ( ls ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: l\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tui.position.left = inst._convertPositionTo( \"relative\", {\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: r - inst.helperProportions.width\n\t\t\t\t\t} ).left;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( !inst.snapElements[ i ].snapping && ( ts || bs || ls || rs || first ) ) {\n\t\t\t\t( inst.options.snap.snap &&\n\t\t\t\t\tinst.options.snap.snap.call(\n\t\t\t\t\t\tinst.element,\n\t\t\t\t\t\tevent,\n\t\t\t\t\t\t$.extend( inst._uiHash(), {\n\t\t\t\t\t\t\tsnapItem: inst.snapElements[ i ].item\n\t\t\t\t\t\t} ) ) );\n\t\t\t}\n\t\t\tinst.snapElements[ i ].snapping = ( ts || bs || ls || rs || first );\n\n\t\t}\n\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"stack\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar min,\n\t\t\to = instance.options,\n\t\t\tgroup = $.makeArray( $( o.stack ) ).sort( function( a, b ) {\n\t\t\t\treturn ( parseInt( $( a ).css( \"zIndex\" ), 10 ) || 0 ) -\n\t\t\t\t\t( parseInt( $( b ).css( \"zIndex\" ), 10 ) || 0 );\n\t\t\t} );\n\n\t\tif ( !group.length ) { return; }\n\n\t\tmin = parseInt( $( group[ 0 ] ).css( \"zIndex\" ), 10 ) || 0;\n\t\t$( group ).each( function( i ) {\n\t\t\t$( this ).css( \"zIndex\", min + i );\n\t\t} );\n\t\tthis.css( \"zIndex\", ( min + group.length ) );\n\t}\n} );\n\n$.ui.plugin.add( \"draggable\", \"zIndex\", {\n\tstart: function( event, ui, instance ) {\n\t\tvar t = $( ui.helper ),\n\t\t\to = instance.options;\n\n\t\tif ( t.css( \"zIndex\" ) ) {\n\t\t\to._zIndex = t.css( \"zIndex\" );\n\t\t}\n\t\tt.css( \"zIndex\", o.zIndex );\n\t},\n\tstop: function( event, ui, instance ) {\n\t\tvar o = instance.options;\n\n\t\tif ( o._zIndex ) {\n\t\t\t$( ui.helper ).css( \"zIndex\", o._zIndex );\n\t\t}\n\t}\n} );\n\nreturn $.ui.draggable;\n\n} ) );\n","/*!\n * jQuery UI Resizable 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Resizable\n//>>group: Interactions\n//>>description: Enables resize functionality for any element.\n//>>docs: http://api.jqueryui.com/resizable/\n//>>demos: http://jqueryui.com/resizable/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/resizable.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./mouse\",\n\t\t\t\"../disable-selection\",\n\t\t\t\"../plugin\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.resizable\", $.ui.mouse, {\n\tversion: \"1.12.0\",\n\twidgetEventPrefix: \"resize\",\n\toptions: {\n\t\talsoResize: false,\n\t\tanimate: false,\n\t\tanimateDuration: \"slow\",\n\t\tanimateEasing: \"swing\",\n\t\taspectRatio: false,\n\t\tautoHide: false,\n\t\tclasses: {\n\t\t\t\"ui-resizable-se\": \"ui-icon ui-icon-gripsmall-diagonal-se\"\n\t\t},\n\t\tcontainment: false,\n\t\tghost: false,\n\t\tgrid: false,\n\t\thandles: \"e,s,se\",\n\t\thelper: false,\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 10,\n\t\tminWidth: 10,\n\n\t\t// See #7960\n\t\tzIndex: 90,\n\n\t\t// Callbacks\n\t\tresize: null,\n\t\tstart: null,\n\t\tstop: null\n\t},\n\n\t_num: function( value ) {\n\t\treturn parseFloat( value ) || 0;\n\t},\n\n\t_isNumber: function( value ) {\n\t\treturn !isNaN( parseFloat( value ) );\n\t},\n\n\t_hasScroll: function( el, a ) {\n\n\t\tif ( $( el ).css( \"overflow\" ) === \"hidden\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tvar scroll = ( a && a === \"left\" ) ? \"scrollLeft\" : \"scrollTop\",\n\t\t\thas = false;\n\n\t\tif ( el[ scroll ] > 0 ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: determine which cases actually cause this to happen\n\t\t// if the element doesn't have the scroll set, see if it's possible to\n\t\t// set the scroll\n\t\tel[ scroll ] = 1;\n\t\thas = ( el[ scroll ] > 0 );\n\t\tel[ scroll ] = 0;\n\t\treturn has;\n\t},\n\n\t_create: function() {\n\n\t\tvar margins,\n\t\t\to = this.options,\n\t\t\tthat = this;\n\t\tthis._addClass( \"ui-resizable\" );\n\n\t\t$.extend( this, {\n\t\t\t_aspectRatio: !!( o.aspectRatio ),\n\t\t\taspectRatio: o.aspectRatio,\n\t\t\toriginalElement: this.element,\n\t\t\t_proportionallyResizeElements: [],\n\t\t\t_helper: o.helper || o.ghost || o.animate ? o.helper || \"ui-resizable-helper\" : null\n\t\t} );\n\n\t\t// Wrap the element if it cannot hold child nodes\n\t\tif ( this.element[ 0 ].nodeName.match( /^(canvas|textarea|input|select|button|img)$/i ) ) {\n\n\t\t\tthis.element.wrap(\n\t\t\t\t$( \"<div class='ui-wrapper' style='overflow: hidden;'></div>\" ).css( {\n\t\t\t\t\tposition: this.element.css( \"position\" ),\n\t\t\t\t\twidth: this.element.outerWidth(),\n\t\t\t\t\theight: this.element.outerHeight(),\n\t\t\t\t\ttop: this.element.css( \"top\" ),\n\t\t\t\t\tleft: this.element.css( \"left\" )\n\t\t\t\t} )\n\t\t\t);\n\n\t\t\tthis.element = this.element.parent().data(\n\t\t\t\t\"ui-resizable\", this.element.resizable( \"instance\" )\n\t\t\t);\n\n\t\t\tthis.elementIsWrapper = true;\n\n\t\t\tmargins = {\n\t\t\t\tmarginTop: this.originalElement.css( \"marginTop\" ),\n\t\t\t\tmarginRight: this.originalElement.css( \"marginRight\" ),\n\t\t\t\tmarginBottom: this.originalElement.css( \"marginBottom\" ),\n\t\t\t\tmarginLeft: this.originalElement.css( \"marginLeft\" )\n\t\t\t};\n\n\t\t\tthis.element.css( margins );\n\t\t\tthis.originalElement.css( \"margin\", 0 );\n\n\t\t\t// support: Safari\n\t\t\t// Prevent Safari textarea resize\n\t\t\tthis.originalResizeStyle = this.originalElement.css( \"resize\" );\n\t\t\tthis.originalElement.css( \"resize\", \"none\" );\n\n\t\t\tthis._proportionallyResizeElements.push( this.originalElement.css( {\n\t\t\t\tposition: \"static\",\n\t\t\t\tzoom: 1,\n\t\t\t\tdisplay: \"block\"\n\t\t\t} ) );\n\n\t\t\t// Support: IE9\n\t\t\t// avoid IE jump (hard set the margin)\n\t\t\tthis.originalElement.css( margins );\n\n\t\t\tthis._proportionallyResize();\n\t\t}\n\n\t\tthis._setupHandles();\n\n\t\tif ( o.autoHide ) {\n\t\t\t$( this.element )\n\t\t\t\t.on( \"mouseenter\", function() {\n\t\t\t\t\tif ( o.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthat._removeClass( \"ui-resizable-autohide\" );\n\t\t\t\t\tthat._handles.show();\n\t\t\t\t} )\n\t\t\t\t.on( \"mouseleave\", function() {\n\t\t\t\t\tif ( o.disabled ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( !that.resizing ) {\n\t\t\t\t\t\tthat._addClass( \"ui-resizable-autohide\" );\n\t\t\t\t\t\tthat._handles.hide();\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}\n\n\t\tthis._mouseInit();\n\t},\n\n\t_destroy: function() {\n\n\t\tthis._mouseDestroy();\n\n\t\tvar wrapper,\n\t\t\t_destroy = function( exp ) {\n\t\t\t\t$( exp )\n\t\t\t\t\t.removeData( \"resizable\" )\n\t\t\t\t\t.removeData( \"ui-resizable\" )\n\t\t\t\t\t.off( \".resizable\" )\n\t\t\t\t\t.find( \".ui-resizable-handle\" )\n\t\t\t\t\t\t.remove();\n\t\t\t};\n\n\t\t// TODO: Unwrap at same DOM position\n\t\tif ( this.elementIsWrapper ) {\n\t\t\t_destroy( this.element );\n\t\t\twrapper = this.element;\n\t\t\tthis.originalElement.css( {\n\t\t\t\tposition: wrapper.css( \"position\" ),\n\t\t\t\twidth: wrapper.outerWidth(),\n\t\t\t\theight: wrapper.outerHeight(),\n\t\t\t\ttop: wrapper.css( \"top\" ),\n\t\t\t\tleft: wrapper.css( \"left\" )\n\t\t\t} ).insertAfter( wrapper );\n\t\t\twrapper.remove();\n\t\t}\n\n\t\tthis.originalElement.css( \"resize\", this.originalResizeStyle );\n\t\t_destroy( this.originalElement );\n\n\t\treturn this;\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tthis._super( key, value );\n\n\t\tswitch ( key ) {\n\t\tcase \"handles\":\n\t\t\tthis._removeHandles();\n\t\t\tthis._setupHandles();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t_setupHandles: function() {\n\t\tvar o = this.options, handle, i, n, hname, axis, that = this;\n\t\tthis.handles = o.handles ||\n\t\t\t( !$( \".ui-resizable-handle\", this.element ).length ?\n\t\t\t\t\"e,s,se\" : {\n\t\t\t\t\tn: \".ui-resizable-n\",\n\t\t\t\t\te: \".ui-resizable-e\",\n\t\t\t\t\ts: \".ui-resizable-s\",\n\t\t\t\t\tw: \".ui-resizable-w\",\n\t\t\t\t\tse: \".ui-resizable-se\",\n\t\t\t\t\tsw: \".ui-resizable-sw\",\n\t\t\t\t\tne: \".ui-resizable-ne\",\n\t\t\t\t\tnw: \".ui-resizable-nw\"\n\t\t\t\t} );\n\n\t\tthis._handles = $();\n\t\tif ( this.handles.constructor === String ) {\n\n\t\t\tif ( this.handles === \"all\" ) {\n\t\t\t\tthis.handles = \"n,e,s,w,se,sw,ne,nw\";\n\t\t\t}\n\n\t\t\tn = this.handles.split( \",\" );\n\t\t\tthis.handles = {};\n\n\t\t\tfor ( i = 0; i < n.length; i++ ) {\n\n\t\t\t\thandle = $.trim( n[ i ] );\n\t\t\t\thname = \"ui-resizable-\" + handle;\n\t\t\t\taxis = $( \"<div>\" );\n\t\t\t\tthis._addClass( axis, \"ui-resizable-handle \" + hname );\n\n\t\t\t\taxis.css( { zIndex: o.zIndex } );\n\n\t\t\t\tthis.handles[ handle ] = \".ui-resizable-\" + handle;\n\t\t\t\tthis.element.append( axis );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._renderAxis = function( target ) {\n\n\t\t\tvar i, axis, padPos, padWrapper;\n\n\t\t\ttarget = target || this.element;\n\n\t\t\tfor ( i in this.handles ) {\n\n\t\t\t\tif ( this.handles[ i ].constructor === String ) {\n\t\t\t\t\tthis.handles[ i ] = this.element.children( this.handles[ i ] ).first().show();\n\t\t\t\t} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {\n\t\t\t\t\tthis.handles[ i ] = $( this.handles[ i ] );\n\t\t\t\t\tthis._on( this.handles[ i ], { \"mousedown\": that._mouseDown } );\n\t\t\t\t}\n\n\t\t\t\tif ( this.elementIsWrapper &&\n\t\t\t\t\t\tthis.originalElement[ 0 ]\n\t\t\t\t\t\t\t.nodeName\n\t\t\t\t\t\t\t.match( /^(textarea|input|select|button)$/i ) ) {\n\t\t\t\t\taxis = $( this.handles[ i ], this.element );\n\n\t\t\t\t\tpadWrapper = /sw|ne|nw|se|n|s/.test( i ) ?\n\t\t\t\t\t\taxis.outerHeight() :\n\t\t\t\t\t\taxis.outerWidth();\n\n\t\t\t\t\tpadPos = [ \"padding\",\n\t\t\t\t\t\t/ne|nw|n/.test( i ) ? \"Top\" :\n\t\t\t\t\t\t/se|sw|s/.test( i ) ? \"Bottom\" :\n\t\t\t\t\t\t/^e$/.test( i ) ? \"Right\" : \"Left\" ].join( \"\" );\n\n\t\t\t\t\ttarget.css( padPos, padWrapper );\n\n\t\t\t\t\tthis._proportionallyResize();\n\t\t\t\t}\n\n\t\t\t\tthis._handles = this._handles.add( this.handles[ i ] );\n\t\t\t}\n\t\t};\n\n\t\t// TODO: make renderAxis a prototype function\n\t\tthis._renderAxis( this.element );\n\n\t\tthis._handles = this._handles.add( this.element.find( \".ui-resizable-handle\" ) );\n\t\tthis._handles.disableSelection();\n\n\t\tthis._handles.on( \"mouseover\", function() {\n\t\t\tif ( !that.resizing ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\taxis = this.className.match( /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i );\n\t\t\t\t}\n\t\t\t\tthat.axis = axis && axis[ 1 ] ? axis[ 1 ] : \"se\";\n\t\t\t}\n\t\t} );\n\n\t\tif ( o.autoHide ) {\n\t\t\tthis._handles.hide();\n\t\t\tthis._addClass( \"ui-resizable-autohide\" );\n\t\t}\n\t},\n\n\t_removeHandles: function() {\n\t\tthis._handles.remove();\n\t},\n\n\t_mouseCapture: function( event ) {\n\t\tvar i, handle,\n\t\t\tcapture = false;\n\n\t\tfor ( i in this.handles ) {\n\t\t\thandle = $( this.handles[ i ] )[ 0 ];\n\t\t\tif ( handle === event.target || $.contains( handle, event.target ) ) {\n\t\t\t\tcapture = true;\n\t\t\t}\n\t\t}\n\n\t\treturn !this.options.disabled && capture;\n\t},\n\n\t_mouseStart: function( event ) {\n\n\t\tvar curleft, curtop, cursor,\n\t\t\to = this.options,\n\t\t\tel = this.element;\n\n\t\tthis.resizing = true;\n\n\t\tthis._renderProxy();\n\n\t\tcurleft = this._num( this.helper.css( \"left\" ) );\n\t\tcurtop = this._num( this.helper.css( \"top\" ) );\n\n\t\tif ( o.containment ) {\n\t\t\tcurleft += $( o.containment ).scrollLeft() || 0;\n\t\t\tcurtop += $( o.containment ).scrollTop() || 0;\n\t\t}\n\n\t\tthis.offset = this.helper.offset();\n\t\tthis.position = { left: curleft, top: curtop };\n\n\t\tthis.size = this._helper ? {\n\t\t\t\twidth: this.helper.width(),\n\t\t\t\theight: this.helper.height()\n\t\t\t} : {\n\t\t\t\twidth: el.width(),\n\t\t\t\theight: el.height()\n\t\t\t};\n\n\t\tthis.originalSize = this._helper ? {\n\t\t\t\twidth: el.outerWidth(),\n\t\t\t\theight: el.outerHeight()\n\t\t\t} : {\n\t\t\t\twidth: el.width(),\n\t\t\t\theight: el.height()\n\t\t\t};\n\n\t\tthis.sizeDiff = {\n\t\t\twidth: el.outerWidth() - el.width(),\n\t\t\theight: el.outerHeight() - el.height()\n\t\t};\n\n\t\tthis.originalPosition = { left: curleft, top: curtop };\n\t\tthis.originalMousePosition = { left: event.pageX, top: event.pageY };\n\n\t\tthis.aspectRatio = ( typeof o.aspectRatio === \"number\" ) ?\n\t\t\to.aspectRatio :\n\t\t\t( ( this.originalSize.width / this.originalSize.height ) || 1 );\n\n\t\tcursor = $( \".ui-resizable-\" + this.axis ).css( \"cursor\" );\n\t\t$( \"body\" ).css( \"cursor\", cursor === \"auto\" ? this.axis + \"-resize\" : cursor );\n\n\t\tthis._addClass( \"ui-resizable-resizing\" );\n\t\tthis._propagate( \"start\", event );\n\t\treturn true;\n\t},\n\n\t_mouseDrag: function( event ) {\n\n\t\tvar data, props,\n\t\t\tsmp = this.originalMousePosition,\n\t\t\ta = this.axis,\n\t\t\tdx = ( event.pageX - smp.left ) || 0,\n\t\t\tdy = ( event.pageY - smp.top ) || 0,\n\t\t\ttrigger = this._change[ a ];\n\n\t\tthis._updatePrevProperties();\n\n\t\tif ( !trigger ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tdata = trigger.apply( this, [ event, dx, dy ] );\n\n\t\tthis._updateVirtualBoundaries( event.shiftKey );\n\t\tif ( this._aspectRatio || event.shiftKey ) {\n\t\t\tdata = this._updateRatio( data, event );\n\t\t}\n\n\t\tdata = this._respectSize( data, event );\n\n\t\tthis._updateCache( data );\n\n\t\tthis._propagate( \"resize\", event );\n\n\t\tprops = this._applyChanges();\n\n\t\tif ( !this._helper && this._proportionallyResizeElements.length ) {\n\t\t\tthis._proportionallyResize();\n\t\t}\n\n\t\tif ( !$.isEmptyObject( props ) ) {\n\t\t\tthis._updatePrevProperties();\n\t\t\tthis._trigger( \"resize\", event, this.ui() );\n\t\t\tthis._applyChanges();\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t_mouseStop: function( event ) {\n\n\t\tthis.resizing = false;\n\t\tvar pr, ista, soffseth, soffsetw, s, left, top,\n\t\t\to = this.options, that = this;\n\n\t\tif ( this._helper ) {\n\n\t\t\tpr = this._proportionallyResizeElements;\n\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName );\n\t\t\tsoffseth = ista && this._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height;\n\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width;\n\n\t\t\ts = {\n\t\t\t\twidth: ( that.helper.width()  - soffsetw ),\n\t\t\t\theight: ( that.helper.height() - soffseth )\n\t\t\t};\n\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\n\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null;\n\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\n\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\n\n\t\t\tif ( !o.animate ) {\n\t\t\t\tthis.element.css( $.extend( s, { top: top, left: left } ) );\n\t\t\t}\n\n\t\t\tthat.helper.height( that.size.height );\n\t\t\tthat.helper.width( that.size.width );\n\n\t\t\tif ( this._helper && !o.animate ) {\n\t\t\t\tthis._proportionallyResize();\n\t\t\t}\n\t\t}\n\n\t\t$( \"body\" ).css( \"cursor\", \"auto\" );\n\n\t\tthis._removeClass( \"ui-resizable-resizing\" );\n\n\t\tthis._propagate( \"stop\", event );\n\n\t\tif ( this._helper ) {\n\t\t\tthis.helper.remove();\n\t\t}\n\n\t\treturn false;\n\n\t},\n\n\t_updatePrevProperties: function() {\n\t\tthis.prevPosition = {\n\t\t\ttop: this.position.top,\n\t\t\tleft: this.position.left\n\t\t};\n\t\tthis.prevSize = {\n\t\t\twidth: this.size.width,\n\t\t\theight: this.size.height\n\t\t};\n\t},\n\n\t_applyChanges: function() {\n\t\tvar props = {};\n\n\t\tif ( this.position.top !== this.prevPosition.top ) {\n\t\t\tprops.top = this.position.top + \"px\";\n\t\t}\n\t\tif ( this.position.left !== this.prevPosition.left ) {\n\t\t\tprops.left = this.position.left + \"px\";\n\t\t}\n\t\tif ( this.size.width !== this.prevSize.width ) {\n\t\t\tprops.width = this.size.width + \"px\";\n\t\t}\n\t\tif ( this.size.height !== this.prevSize.height ) {\n\t\t\tprops.height = this.size.height + \"px\";\n\t\t}\n\n\t\tthis.helper.css( props );\n\n\t\treturn props;\n\t},\n\n\t_updateVirtualBoundaries: function( forceAspectRatio ) {\n\t\tvar pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,\n\t\t\to = this.options;\n\n\t\tb = {\n\t\t\tminWidth: this._isNumber( o.minWidth ) ? o.minWidth : 0,\n\t\t\tmaxWidth: this._isNumber( o.maxWidth ) ? o.maxWidth : Infinity,\n\t\t\tminHeight: this._isNumber( o.minHeight ) ? o.minHeight : 0,\n\t\t\tmaxHeight: this._isNumber( o.maxHeight ) ? o.maxHeight : Infinity\n\t\t};\n\n\t\tif ( this._aspectRatio || forceAspectRatio ) {\n\t\t\tpMinWidth = b.minHeight * this.aspectRatio;\n\t\t\tpMinHeight = b.minWidth / this.aspectRatio;\n\t\t\tpMaxWidth = b.maxHeight * this.aspectRatio;\n\t\t\tpMaxHeight = b.maxWidth / this.aspectRatio;\n\n\t\t\tif ( pMinWidth > b.minWidth ) {\n\t\t\t\tb.minWidth = pMinWidth;\n\t\t\t}\n\t\t\tif ( pMinHeight > b.minHeight ) {\n\t\t\t\tb.minHeight = pMinHeight;\n\t\t\t}\n\t\t\tif ( pMaxWidth < b.maxWidth ) {\n\t\t\t\tb.maxWidth = pMaxWidth;\n\t\t\t}\n\t\t\tif ( pMaxHeight < b.maxHeight ) {\n\t\t\t\tb.maxHeight = pMaxHeight;\n\t\t\t}\n\t\t}\n\t\tthis._vBoundaries = b;\n\t},\n\n\t_updateCache: function( data ) {\n\t\tthis.offset = this.helper.offset();\n\t\tif ( this._isNumber( data.left ) ) {\n\t\t\tthis.position.left = data.left;\n\t\t}\n\t\tif ( this._isNumber( data.top ) ) {\n\t\t\tthis.position.top = data.top;\n\t\t}\n\t\tif ( this._isNumber( data.height ) ) {\n\t\t\tthis.size.height = data.height;\n\t\t}\n\t\tif ( this._isNumber( data.width ) ) {\n\t\t\tthis.size.width = data.width;\n\t\t}\n\t},\n\n\t_updateRatio: function( data ) {\n\n\t\tvar cpos = this.position,\n\t\t\tcsize = this.size,\n\t\t\ta = this.axis;\n\n\t\tif ( this._isNumber( data.height ) ) {\n\t\t\tdata.width = ( data.height * this.aspectRatio );\n\t\t} else if ( this._isNumber( data.width ) ) {\n\t\t\tdata.height = ( data.width / this.aspectRatio );\n\t\t}\n\n\t\tif ( a === \"sw\" ) {\n\t\t\tdata.left = cpos.left + ( csize.width - data.width );\n\t\t\tdata.top = null;\n\t\t}\n\t\tif ( a === \"nw\" ) {\n\t\t\tdata.top = cpos.top + ( csize.height - data.height );\n\t\t\tdata.left = cpos.left + ( csize.width - data.width );\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_respectSize: function( data ) {\n\n\t\tvar o = this._vBoundaries,\n\t\t\ta = this.axis,\n\t\t\tismaxw = this._isNumber( data.width ) && o.maxWidth && ( o.maxWidth < data.width ),\n\t\t\tismaxh = this._isNumber( data.height ) && o.maxHeight && ( o.maxHeight < data.height ),\n\t\t\tisminw = this._isNumber( data.width ) && o.minWidth && ( o.minWidth > data.width ),\n\t\t\tisminh = this._isNumber( data.height ) && o.minHeight && ( o.minHeight > data.height ),\n\t\t\tdw = this.originalPosition.left + this.originalSize.width,\n\t\t\tdh = this.originalPosition.top + this.originalSize.height,\n\t\t\tcw = /sw|nw|w/.test( a ), ch = /nw|ne|n/.test( a );\n\t\tif ( isminw ) {\n\t\t\tdata.width = o.minWidth;\n\t\t}\n\t\tif ( isminh ) {\n\t\t\tdata.height = o.minHeight;\n\t\t}\n\t\tif ( ismaxw ) {\n\t\t\tdata.width = o.maxWidth;\n\t\t}\n\t\tif ( ismaxh ) {\n\t\t\tdata.height = o.maxHeight;\n\t\t}\n\n\t\tif ( isminw && cw ) {\n\t\t\tdata.left = dw - o.minWidth;\n\t\t}\n\t\tif ( ismaxw && cw ) {\n\t\t\tdata.left = dw - o.maxWidth;\n\t\t}\n\t\tif ( isminh && ch ) {\n\t\t\tdata.top = dh - o.minHeight;\n\t\t}\n\t\tif ( ismaxh && ch ) {\n\t\t\tdata.top = dh - o.maxHeight;\n\t\t}\n\n\t\t// Fixing jump error on top/left - bug #2330\n\t\tif ( !data.width && !data.height && !data.left && data.top ) {\n\t\t\tdata.top = null;\n\t\t} else if ( !data.width && !data.height && !data.top && data.left ) {\n\t\t\tdata.left = null;\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t_getPaddingPlusBorderDimensions: function( element ) {\n\t\tvar i = 0,\n\t\t\twidths = [],\n\t\t\tborders = [\n\t\t\t\telement.css( \"borderTopWidth\" ),\n\t\t\t\telement.css( \"borderRightWidth\" ),\n\t\t\t\telement.css( \"borderBottomWidth\" ),\n\t\t\t\telement.css( \"borderLeftWidth\" )\n\t\t\t],\n\t\t\tpaddings = [\n\t\t\t\telement.css( \"paddingTop\" ),\n\t\t\t\telement.css( \"paddingRight\" ),\n\t\t\t\telement.css( \"paddingBottom\" ),\n\t\t\t\telement.css( \"paddingLeft\" )\n\t\t\t];\n\n\t\tfor ( ; i < 4; i++ ) {\n\t\t\twidths[ i ] = ( parseFloat( borders[ i ] ) || 0 );\n\t\t\twidths[ i ] += ( parseFloat( paddings[ i ] ) || 0 );\n\t\t}\n\n\t\treturn {\n\t\t\theight: widths[ 0 ] + widths[ 2 ],\n\t\t\twidth: widths[ 1 ] + widths[ 3 ]\n\t\t};\n\t},\n\n\t_proportionallyResize: function() {\n\n\t\tif ( !this._proportionallyResizeElements.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar prel,\n\t\t\ti = 0,\n\t\t\telement = this.helper || this.element;\n\n\t\tfor ( ; i < this._proportionallyResizeElements.length; i++ ) {\n\n\t\t\tprel = this._proportionallyResizeElements[ i ];\n\n\t\t\t// TODO: Seems like a bug to cache this.outerDimensions\n\t\t\t// considering that we are in a loop.\n\t\t\tif ( !this.outerDimensions ) {\n\t\t\t\tthis.outerDimensions = this._getPaddingPlusBorderDimensions( prel );\n\t\t\t}\n\n\t\t\tprel.css( {\n\t\t\t\theight: ( element.height() - this.outerDimensions.height ) || 0,\n\t\t\t\twidth: ( element.width() - this.outerDimensions.width ) || 0\n\t\t\t} );\n\n\t\t}\n\n\t},\n\n\t_renderProxy: function() {\n\n\t\tvar el = this.element, o = this.options;\n\t\tthis.elementOffset = el.offset();\n\n\t\tif ( this._helper ) {\n\n\t\t\tthis.helper = this.helper || $( \"<div style='overflow:hidden;'></div>\" );\n\n\t\t\tthis._addClass( this.helper, this._helper );\n\t\t\tthis.helper.css( {\n\t\t\t\twidth: this.element.outerWidth(),\n\t\t\t\theight: this.element.outerHeight(),\n\t\t\t\tposition: \"absolute\",\n\t\t\t\tleft: this.elementOffset.left + \"px\",\n\t\t\t\ttop: this.elementOffset.top + \"px\",\n\t\t\t\tzIndex: ++o.zIndex //TODO: Don't modify option\n\t\t\t} );\n\n\t\t\tthis.helper\n\t\t\t\t.appendTo( \"body\" )\n\t\t\t\t.disableSelection();\n\n\t\t} else {\n\t\t\tthis.helper = this.element;\n\t\t}\n\n\t},\n\n\t_change: {\n\t\te: function( event, dx ) {\n\t\t\treturn { width: this.originalSize.width + dx };\n\t\t},\n\t\tw: function( event, dx ) {\n\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { left: sp.left + dx, width: cs.width - dx };\n\t\t},\n\t\tn: function( event, dx, dy ) {\n\t\t\tvar cs = this.originalSize, sp = this.originalPosition;\n\t\t\treturn { top: sp.top + dy, height: cs.height - dy };\n\t\t},\n\t\ts: function( event, dx, dy ) {\n\t\t\treturn { height: this.originalSize.height + dy };\n\t\t},\n\t\tse: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.s.apply( this, arguments ),\n\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\n\t\t},\n\t\tsw: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.s.apply( this, arguments ),\n\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\n\t\t},\n\t\tne: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.n.apply( this, arguments ),\n\t\t\t\tthis._change.e.apply( this, [ event, dx, dy ] ) );\n\t\t},\n\t\tnw: function( event, dx, dy ) {\n\t\t\treturn $.extend( this._change.n.apply( this, arguments ),\n\t\t\t\tthis._change.w.apply( this, [ event, dx, dy ] ) );\n\t\t}\n\t},\n\n\t_propagate: function( n, event ) {\n\t\t$.ui.plugin.call( this, n, [ event, this.ui() ] );\n\t\t( n !== \"resize\" && this._trigger( n, event, this.ui() ) );\n\t},\n\n\tplugins: {},\n\n\tui: function() {\n\t\treturn {\n\t\t\toriginalElement: this.originalElement,\n\t\t\telement: this.element,\n\t\t\thelper: this.helper,\n\t\t\tposition: this.position,\n\t\t\tsize: this.size,\n\t\t\toriginalSize: this.originalSize,\n\t\t\toriginalPosition: this.originalPosition\n\t\t};\n\t}\n\n} );\n\n/*\n * Resizable Extensions\n */\n\n$.ui.plugin.add( \"resizable\", \"animate\", {\n\n\tstop: function( event ) {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tpr = that._proportionallyResizeElements,\n\t\t\tista = pr.length && ( /textarea/i ).test( pr[ 0 ].nodeName ),\n\t\t\tsoffseth = ista && that._hasScroll( pr[ 0 ], \"left\" ) ? 0 : that.sizeDiff.height,\n\t\t\tsoffsetw = ista ? 0 : that.sizeDiff.width,\n\t\t\tstyle = {\n\t\t\t\twidth: ( that.size.width - soffsetw ),\n\t\t\t\theight: ( that.size.height - soffseth )\n\t\t\t},\n\t\t\tleft = ( parseFloat( that.element.css( \"left\" ) ) +\n\t\t\t\t( that.position.left - that.originalPosition.left ) ) || null,\n\t\t\ttop = ( parseFloat( that.element.css( \"top\" ) ) +\n\t\t\t\t( that.position.top - that.originalPosition.top ) ) || null;\n\n\t\tthat.element.animate(\n\t\t\t$.extend( style, top && left ? { top: top, left: left } : {} ), {\n\t\t\t\tduration: o.animateDuration,\n\t\t\t\teasing: o.animateEasing,\n\t\t\t\tstep: function() {\n\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\twidth: parseFloat( that.element.css( \"width\" ) ),\n\t\t\t\t\t\theight: parseFloat( that.element.css( \"height\" ) ),\n\t\t\t\t\t\ttop: parseFloat( that.element.css( \"top\" ) ),\n\t\t\t\t\t\tleft: parseFloat( that.element.css( \"left\" ) )\n\t\t\t\t\t};\n\n\t\t\t\t\tif ( pr && pr.length ) {\n\t\t\t\t\t\t$( pr[ 0 ] ).css( { width: data.width, height: data.height } );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Propagating resize, and updating values for each animation step\n\t\t\t\t\tthat._updateCache( data );\n\t\t\t\t\tthat._propagate( \"resize\", event );\n\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n} );\n\n$.ui.plugin.add( \"resizable\", \"containment\", {\n\n\tstart: function() {\n\t\tvar element, p, co, ch, cw, width, height,\n\t\t\tthat = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tel = that.element,\n\t\t\toc = o.containment,\n\t\t\tce = ( oc instanceof $ ) ?\n\t\t\t\toc.get( 0 ) :\n\t\t\t\t( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;\n\n\t\tif ( !ce ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthat.containerElement = $( ce );\n\n\t\tif ( /document/.test( oc ) || oc === document ) {\n\t\t\tthat.containerOffset = {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t};\n\t\t\tthat.containerPosition = {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0\n\t\t\t};\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: $( document ),\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: $( document ).width(),\n\t\t\t\theight: $( document ).height() || document.body.parentNode.scrollHeight\n\t\t\t};\n\t\t} else {\n\t\t\telement = $( ce );\n\t\t\tp = [];\n\t\t\t$( [ \"Top\", \"Right\", \"Left\", \"Bottom\" ] ).each( function( i, name ) {\n\t\t\t\tp[ i ] = that._num( element.css( \"padding\" + name ) );\n\t\t\t} );\n\n\t\t\tthat.containerOffset = element.offset();\n\t\t\tthat.containerPosition = element.position();\n\t\t\tthat.containerSize = {\n\t\t\t\theight: ( element.innerHeight() - p[ 3 ] ),\n\t\t\t\twidth: ( element.innerWidth() - p[ 1 ] )\n\t\t\t};\n\n\t\t\tco = that.containerOffset;\n\t\t\tch = that.containerSize.height;\n\t\t\tcw = that.containerSize.width;\n\t\t\twidth = ( that._hasScroll ( ce, \"left\" ) ? ce.scrollWidth : cw );\n\t\t\theight = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;\n\n\t\t\tthat.parentData = {\n\t\t\t\telement: ce,\n\t\t\t\tleft: co.left,\n\t\t\t\ttop: co.top,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t}\n\t},\n\n\tresize: function( event ) {\n\t\tvar woset, hoset, isParent, isOffsetRelative,\n\t\t\tthat = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tco = that.containerOffset,\n\t\t\tcp = that.position,\n\t\t\tpRatio = that._aspectRatio || event.shiftKey,\n\t\t\tcop = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0\n\t\t\t},\n\t\t\tce = that.containerElement,\n\t\t\tcontinueResize = true;\n\n\t\tif ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( \"position\" ) ) ) {\n\t\t\tcop = co;\n\t\t}\n\n\t\tif ( cp.left < ( that._helper ? co.left : 0 ) ) {\n\t\t\tthat.size.width = that.size.width +\n\t\t\t\t( that._helper ?\n\t\t\t\t\t( that.position.left - co.left ) :\n\t\t\t\t\t( that.position.left - cop.left ) );\n\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t\tthat.position.left = o.helper ? co.left : 0;\n\t\t}\n\n\t\tif ( cp.top < ( that._helper ? co.top : 0 ) ) {\n\t\t\tthat.size.height = that.size.height +\n\t\t\t\t( that._helper ?\n\t\t\t\t\t( that.position.top - co.top ) :\n\t\t\t\t\tthat.position.top );\n\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t\tthat.position.top = that._helper ? co.top : 0;\n\t\t}\n\n\t\tisParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );\n\t\tisOffsetRelative = /relative|absolute/.test( that.containerElement.css( \"position\" ) );\n\n\t\tif ( isParent && isOffsetRelative ) {\n\t\t\tthat.offset.left = that.parentData.left + that.position.left;\n\t\t\tthat.offset.top = that.parentData.top + that.position.top;\n\t\t} else {\n\t\t\tthat.offset.left = that.element.offset().left;\n\t\t\tthat.offset.top = that.element.offset().top;\n\t\t}\n\n\t\twoset = Math.abs( that.sizeDiff.width +\n\t\t\t( that._helper ?\n\t\t\t\tthat.offset.left - cop.left :\n\t\t\t\t( that.offset.left - co.left ) ) );\n\n\t\thoset = Math.abs( that.sizeDiff.height +\n\t\t\t( that._helper ?\n\t\t\t\tthat.offset.top - cop.top :\n\t\t\t\t( that.offset.top - co.top ) ) );\n\n\t\tif ( woset + that.size.width >= that.parentData.width ) {\n\t\t\tthat.size.width = that.parentData.width - woset;\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.height = that.size.width / that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( hoset + that.size.height >= that.parentData.height ) {\n\t\t\tthat.size.height = that.parentData.height - hoset;\n\t\t\tif ( pRatio ) {\n\t\t\t\tthat.size.width = that.size.height * that.aspectRatio;\n\t\t\t\tcontinueResize = false;\n\t\t\t}\n\t\t}\n\n\t\tif ( !continueResize ) {\n\t\t\tthat.position.left = that.prevPosition.left;\n\t\t\tthat.position.top = that.prevPosition.top;\n\t\t\tthat.size.width = that.prevSize.width;\n\t\t\tthat.size.height = that.prevSize.height;\n\t\t}\n\t},\n\n\tstop: function() {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tco = that.containerOffset,\n\t\t\tcop = that.containerPosition,\n\t\t\tce = that.containerElement,\n\t\t\thelper = $( that.helper ),\n\t\t\tho = helper.offset(),\n\t\t\tw = helper.outerWidth() - that.sizeDiff.width,\n\t\t\th = helper.outerHeight() - that.sizeDiff.height;\n\n\t\tif ( that._helper && !o.animate && ( /relative/ ).test( ce.css( \"position\" ) ) ) {\n\t\t\t$( this ).css( {\n\t\t\t\tleft: ho.left - cop.left - co.left,\n\t\t\t\twidth: w,\n\t\t\t\theight: h\n\t\t\t} );\n\t\t}\n\n\t\tif ( that._helper && !o.animate && ( /static/ ).test( ce.css( \"position\" ) ) ) {\n\t\t\t$( this ).css( {\n\t\t\t\tleft: ho.left - cop.left - co.left,\n\t\t\t\twidth: w,\n\t\t\t\theight: h\n\t\t\t} );\n\t\t}\n\t}\n} );\n\n$.ui.plugin.add( \"resizable\", \"alsoResize\", {\n\n\tstart: function() {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options;\n\n\t\t$( o.alsoResize ).each( function() {\n\t\t\tvar el = $( this );\n\t\t\tel.data( \"ui-resizable-alsoresize\", {\n\t\t\t\twidth: parseFloat( el.width() ), height: parseFloat( el.height() ),\n\t\t\t\tleft: parseFloat( el.css( \"left\" ) ), top: parseFloat( el.css( \"top\" ) )\n\t\t\t} );\n\t\t} );\n\t},\n\n\tresize: function( event, ui ) {\n\t\tvar that = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tos = that.originalSize,\n\t\t\top = that.originalPosition,\n\t\t\tdelta = {\n\t\t\t\theight: ( that.size.height - os.height ) || 0,\n\t\t\t\twidth: ( that.size.width - os.width ) || 0,\n\t\t\t\ttop: ( that.position.top - op.top ) || 0,\n\t\t\t\tleft: ( that.position.left - op.left ) || 0\n\t\t\t};\n\n\t\t\t$( o.alsoResize ).each( function() {\n\t\t\t\tvar el = $( this ), start = $( this ).data( \"ui-resizable-alsoresize\" ), style = {},\n\t\t\t\t\tcss = el.parents( ui.originalElement[ 0 ] ).length ?\n\t\t\t\t\t\t\t[ \"width\", \"height\" ] :\n\t\t\t\t\t\t\t[ \"width\", \"height\", \"top\", \"left\" ];\n\n\t\t\t\t$.each( css, function( i, prop ) {\n\t\t\t\t\tvar sum = ( start[ prop ] || 0 ) + ( delta[ prop ] || 0 );\n\t\t\t\t\tif ( sum && sum >= 0 ) {\n\t\t\t\t\t\tstyle[ prop ] = sum || null;\n\t\t\t\t\t}\n\t\t\t\t} );\n\n\t\t\t\tel.css( style );\n\t\t\t} );\n\t},\n\n\tstop: function() {\n\t\t$( this ).removeData( \"ui-resizable-alsoresize\" );\n\t}\n} );\n\n$.ui.plugin.add( \"resizable\", \"ghost\", {\n\n\tstart: function() {\n\n\t\tvar that = $( this ).resizable( \"instance\" ), cs = that.size;\n\n\t\tthat.ghost = that.originalElement.clone();\n\t\tthat.ghost.css( {\n\t\t\topacity: 0.25,\n\t\t\tdisplay: \"block\",\n\t\t\tposition: \"relative\",\n\t\t\theight: cs.height,\n\t\t\twidth: cs.width,\n\t\t\tmargin: 0,\n\t\t\tleft: 0,\n\t\t\ttop: 0\n\t\t} );\n\n\t\tthat._addClass( that.ghost, \"ui-resizable-ghost\" );\n\n\t\t// DEPRECATED\n\t\t// TODO: remove after 1.12\n\t\tif ( $.uiBackCompat !== false && typeof that.options.ghost === \"string\" ) {\n\n\t\t\t// Ghost option\n\t\t\tthat.ghost.addClass( this.options.ghost );\n\t\t}\n\n\t\tthat.ghost.appendTo( that.helper );\n\n\t},\n\n\tresize: function() {\n\t\tvar that = $( this ).resizable( \"instance\" );\n\t\tif ( that.ghost ) {\n\t\t\tthat.ghost.css( {\n\t\t\t\tposition: \"relative\",\n\t\t\t\theight: that.size.height,\n\t\t\t\twidth: that.size.width\n\t\t\t} );\n\t\t}\n\t},\n\n\tstop: function() {\n\t\tvar that = $( this ).resizable( \"instance\" );\n\t\tif ( that.ghost && that.helper ) {\n\t\t\tthat.helper.get( 0 ).removeChild( that.ghost.get( 0 ) );\n\t\t}\n\t}\n\n} );\n\n$.ui.plugin.add( \"resizable\", \"grid\", {\n\n\tresize: function() {\n\t\tvar outerDimensions,\n\t\t\tthat = $( this ).resizable( \"instance\" ),\n\t\t\to = that.options,\n\t\t\tcs = that.size,\n\t\t\tos = that.originalSize,\n\t\t\top = that.originalPosition,\n\t\t\ta = that.axis,\n\t\t\tgrid = typeof o.grid === \"number\" ? [ o.grid, o.grid ] : o.grid,\n\t\t\tgridX = ( grid[ 0 ] || 1 ),\n\t\t\tgridY = ( grid[ 1 ] || 1 ),\n\t\t\tox = Math.round( ( cs.width - os.width ) / gridX ) * gridX,\n\t\t\toy = Math.round( ( cs.height - os.height ) / gridY ) * gridY,\n\t\t\tnewWidth = os.width + ox,\n\t\t\tnewHeight = os.height + oy,\n\t\t\tisMaxWidth = o.maxWidth && ( o.maxWidth < newWidth ),\n\t\t\tisMaxHeight = o.maxHeight && ( o.maxHeight < newHeight ),\n\t\t\tisMinWidth = o.minWidth && ( o.minWidth > newWidth ),\n\t\t\tisMinHeight = o.minHeight && ( o.minHeight > newHeight );\n\n\t\to.grid = grid;\n\n\t\tif ( isMinWidth ) {\n\t\t\tnewWidth += gridX;\n\t\t}\n\t\tif ( isMinHeight ) {\n\t\t\tnewHeight += gridY;\n\t\t}\n\t\tif ( isMaxWidth ) {\n\t\t\tnewWidth -= gridX;\n\t\t}\n\t\tif ( isMaxHeight ) {\n\t\t\tnewHeight -= gridY;\n\t\t}\n\n\t\tif ( /^(se|s|e)$/.test( a ) ) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t} else if ( /^(ne)$/.test( a ) ) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.top = op.top - oy;\n\t\t} else if ( /^(sw)$/.test( a ) ) {\n\t\t\tthat.size.width = newWidth;\n\t\t\tthat.size.height = newHeight;\n\t\t\tthat.position.left = op.left - ox;\n\t\t} else {\n\t\t\tif ( newHeight - gridY <= 0 || newWidth - gridX <= 0 ) {\n\t\t\t\touterDimensions = that._getPaddingPlusBorderDimensions( this );\n\t\t\t}\n\n\t\t\tif ( newHeight - gridY > 0 ) {\n\t\t\t\tthat.size.height = newHeight;\n\t\t\t\tthat.position.top = op.top - oy;\n\t\t\t} else {\n\t\t\t\tnewHeight = gridY - outerDimensions.height;\n\t\t\t\tthat.size.height = newHeight;\n\t\t\t\tthat.position.top = op.top + os.height - newHeight;\n\t\t\t}\n\t\t\tif ( newWidth - gridX > 0 ) {\n\t\t\t\tthat.size.width = newWidth;\n\t\t\t\tthat.position.left = op.left - ox;\n\t\t\t} else {\n\t\t\t\tnewWidth = gridX - outerDimensions.width;\n\t\t\t\tthat.size.width = newWidth;\n\t\t\t\tthat.position.left = op.left + os.width - newWidth;\n\t\t\t}\n\t\t}\n\t}\n\n} );\n\nreturn $.ui.resizable;\n\n} ) );\n","/*!\n * jQuery UI Dialog 1.12.0\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Dialog\n//>>group: Widgets\n//>>description: Displays customizable dialog windows.\n//>>docs: http://api.jqueryui.com/dialog/\n//>>demos: http://jqueryui.com/dialog/\n//>>css.structure: ../../themes/base/core.css\n//>>css.structure: ../../themes/base/dialog.css\n//>>css.theme: ../../themes/base/theme.css\n\n( function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine( [\n\t\t\t\"jquery\",\n\t\t\t\"./button\",\n\t\t\t\"./draggable\",\n\t\t\t\"./mouse\",\n\t\t\t\"./resizable\",\n\t\t\t\"../focusable\",\n\t\t\t\"../keycode\",\n\t\t\t\"../position\",\n\t\t\t\"../safe-active-element\",\n\t\t\t\"../safe-blur\",\n\t\t\t\"../tabbable\",\n\t\t\t\"../unique-id\",\n\t\t\t\"../version\",\n\t\t\t\"../widget\"\n\t\t], factory );\n\t} else {\n\n\t\t// Browser globals\n\t\tfactory( jQuery );\n\t}\n}( function( $ ) {\n\n$.widget( \"ui.dialog\", {\n\tversion: \"1.12.0\",\n\toptions: {\n\t\tappendTo: \"body\",\n\t\tautoOpen: true,\n\t\tbuttons: [],\n\t\tclasses: {\n\t\t\t\"ui-dialog\": \"ui-corner-all\",\n\t\t\t\"ui-dialog-titlebar\": \"ui-corner-all\"\n\t\t},\n\t\tcloseOnEscape: true,\n\t\tcloseText: \"Close\",\n\t\tdraggable: true,\n\t\thide: null,\n\t\theight: \"auto\",\n\t\tmaxHeight: null,\n\t\tmaxWidth: null,\n\t\tminHeight: 150,\n\t\tminWidth: 150,\n\t\tmodal: false,\n\t\tposition: {\n\t\t\tmy: \"center\",\n\t\t\tat: \"center\",\n\t\t\tof: window,\n\t\t\tcollision: \"fit\",\n\n\t\t\t// Ensure the titlebar is always visible\n\t\t\tusing: function( pos ) {\n\t\t\t\tvar topOffset = $( this ).css( pos ).offset().top;\n\t\t\t\tif ( topOffset < 0 ) {\n\t\t\t\t\t$( this ).css( \"top\", pos.top - topOffset );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresizable: true,\n\t\tshow: null,\n\t\ttitle: null,\n\t\twidth: 300,\n\n\t\t// Callbacks\n\t\tbeforeClose: null,\n\t\tclose: null,\n\t\tdrag: null,\n\t\tdragStart: null,\n\t\tdragStop: null,\n\t\tfocus: null,\n\t\topen: null,\n\t\tresize: null,\n\t\tresizeStart: null,\n\t\tresizeStop: null\n\t},\n\n\tsizeRelatedOptions: {\n\t\tbuttons: true,\n\t\theight: true,\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true,\n\t\twidth: true\n\t},\n\n\tresizableRelatedOptions: {\n\t\tmaxHeight: true,\n\t\tmaxWidth: true,\n\t\tminHeight: true,\n\t\tminWidth: true\n\t},\n\n\t_create: function() {\n\t\tthis.originalCss = {\n\t\t\tdisplay: this.element[ 0 ].style.display,\n\t\t\twidth: this.element[ 0 ].style.width,\n\t\t\tminHeight: this.element[ 0 ].style.minHeight,\n\t\t\tmaxHeight: this.element[ 0 ].style.maxHeight,\n\t\t\theight: this.element[ 0 ].style.height\n\t\t};\n\t\tthis.originalPosition = {\n\t\t\tparent: this.element.parent(),\n\t\t\tindex: this.element.parent().children().index( this.element )\n\t\t};\n\t\tthis.originalTitle = this.element.attr( \"title\" );\n\t\tif ( this.options.title == null && this.originalTitle != null ) {\n\t\t\tthis.options.title = this.originalTitle;\n\t\t}\n\n\t\t// Dialogs can't be disabled\n\t\tif ( this.options.disabled ) {\n\t\t\tthis.options.disabled = false;\n\t\t}\n\n\t\tthis._createWrapper();\n\n\t\tthis.element\n\t\t\t.show()\n\t\t\t.removeAttr( \"title\" )\n\t\t\t.appendTo( this.uiDialog );\n\n\t\tthis._addClass( \"ui-dialog-content\", \"ui-widget-content\" );\n\n\t\tthis._createTitlebar();\n\t\tthis._createButtonPane();\n\n\t\tif ( this.options.draggable && $.fn.draggable ) {\n\t\t\tthis._makeDraggable();\n\t\t}\n\t\tif ( this.options.resizable && $.fn.resizable ) {\n\t\t\tthis._makeResizable();\n\t\t}\n\n\t\tthis._isOpen = false;\n\n\t\tthis._trackFocus();\n\t},\n\n\t_init: function() {\n\t\tif ( this.options.autoOpen ) {\n\t\t\tthis.open();\n\t\t}\n\t},\n\n\t_appendTo: function() {\n\t\tvar element = this.options.appendTo;\n\t\tif ( element && ( element.jquery || element.nodeType ) ) {\n\t\t\treturn $( element );\n\t\t}\n\t\treturn this.document.find( element || \"body\" ).eq( 0 );\n\t},\n\n\t_destroy: function() {\n\t\tvar next,\n\t\t\toriginalPosition = this.originalPosition;\n\n\t\tthis._untrackInstance();\n\t\tthis._destroyOverlay();\n\n\t\tthis.element\n\t\t\t.removeUniqueId()\n\t\t\t.css( this.originalCss )\n\n\t\t\t// Without detaching first, the following becomes really slow\n\t\t\t.detach();\n\n\t\tthis.uiDialog.remove();\n\n\t\tif ( this.originalTitle ) {\n\t\t\tthis.element.attr( \"title\", this.originalTitle );\n\t\t}\n\n\t\tnext = originalPosition.parent.children().eq( originalPosition.index );\n\n\t\t// Don't try to place the dialog next to itself (#8613)\n\t\tif ( next.length && next[ 0 ] !== this.element[ 0 ] ) {\n\t\t\tnext.before( this.element );\n\t\t} else {\n\t\t\toriginalPosition.parent.append( this.element );\n\t\t}\n\t},\n\n\twidget: function() {\n\t\treturn this.uiDialog;\n\t},\n\n\tdisable: $.noop,\n\tenable: $.noop,\n\n\tclose: function( event ) {\n\t\tvar that = this;\n\n\t\tif ( !this._isOpen || this._trigger( \"beforeClose\", event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = false;\n\t\tthis._focusedElement = null;\n\t\tthis._destroyOverlay();\n\t\tthis._untrackInstance();\n\n\t\tif ( !this.opener.filter( \":focusable\" ).trigger( \"focus\" ).length ) {\n\n\t\t\t// Hiding a focused element doesn't trigger blur in WebKit\n\t\t\t// so in case we have nothing to focus on, explicitly blur the active element\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=47182\n\t\t\t$.ui.safeBlur( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\t\t}\n\n\t\tthis._hide( this.uiDialog, this.options.hide, function() {\n\t\t\tthat._trigger( \"close\", event );\n\t\t} );\n\t},\n\n\tisOpen: function() {\n\t\treturn this._isOpen;\n\t},\n\n\tmoveToTop: function() {\n\t\tthis._moveToTop();\n\t},\n\n\t_moveToTop: function( event, silent ) {\n\t\tvar moved = false,\n\t\t\tzIndices = this.uiDialog.siblings( \".ui-front:visible\" ).map( function() {\n\t\t\t\treturn +$( this ).css( \"z-index\" );\n\t\t\t} ).get(),\n\t\t\tzIndexMax = Math.max.apply( null, zIndices );\n\n\t\tif ( zIndexMax >= +this.uiDialog.css( \"z-index\" ) ) {\n\t\t\tthis.uiDialog.css( \"z-index\", zIndexMax + 1 );\n\t\t\tmoved = true;\n\t\t}\n\n\t\tif ( moved && !silent ) {\n\t\t\tthis._trigger( \"focus\", event );\n\t\t}\n\t\treturn moved;\n\t},\n\n\topen: function() {\n\t\tvar that = this;\n\t\tif ( this._isOpen ) {\n\t\t\tif ( this._moveToTop() ) {\n\t\t\t\tthis._focusTabbable();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isOpen = true;\n\t\tthis.opener = $( $.ui.safeActiveElement( this.document[ 0 ] ) );\n\n\t\tthis._size();\n\t\tthis._position();\n\t\tthis._createOverlay();\n\t\tthis._moveToTop( null, true );\n\n\t\t// Ensure the overlay is moved to the top with the dialog, but only when\n\t\t// opening. The overlay shouldn't move after the dialog is open so that\n\t\t// modeless dialogs opened after the modal dialog stack properly.\n\t\tif ( this.overlay ) {\n\t\t\tthis.overlay.css( \"z-index\", this.uiDialog.css( \"z-index\" ) - 1 );\n\t\t}\n\n\t\tthis._show( this.uiDialog, this.options.show, function() {\n\t\t\tthat._focusTabbable();\n\t\t\tthat._trigger( \"focus\" );\n\t\t} );\n\n\t\t// Track the dialog immediately upon openening in case a focus event\n\t\t// somehow occurs outside of the dialog before an element inside the\n\t\t// dialog is focused (#10152)\n\t\tthis._makeFocusTarget();\n\n\t\tthis._trigger( \"open\" );\n\t},\n\n\t_focusTabbable: function() {\n\n\t\t// Set focus to the first match:\n\t\t// 1. An element that was focused previously\n\t\t// 2. First element inside the dialog matching [autofocus]\n\t\t// 3. Tabbable element inside the content element\n\t\t// 4. Tabbable element inside the buttonpane\n\t\t// 5. The close button\n\t\t// 6. The dialog itself\n\t\tvar hasFocus = this._focusedElement;\n\t\tif ( !hasFocus ) {\n\t\t\thasFocus = this.element.find( \"[autofocus]\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.element.find( \":tabbable\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogButtonPane.find( \":tabbable\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialogTitlebarClose.filter( \":tabbable\" );\n\t\t}\n\t\tif ( !hasFocus.length ) {\n\t\t\thasFocus = this.uiDialog;\n\t\t}\n\t\thasFocus.eq( 0 ).trigger( \"focus\" );\n\t},\n\n\t_keepFocus: function( event ) {\n\t\tfunction checkFocus() {\n\t\t\tvar activeElement = $.ui.safeActiveElement( this.document[ 0 ] ),\n\t\t\t\tisActive = this.uiDialog[ 0 ] === activeElement ||\n\t\t\t\t\t$.contains( this.uiDialog[ 0 ], activeElement );\n\t\t\tif ( !isActive ) {\n\t\t\t\tthis._focusTabbable();\n\t\t\t}\n\t\t}\n\t\tevent.preventDefault();\n\t\tcheckFocus.call( this );\n\n\t\t// support: IE\n\t\t// IE <= 8 doesn't prevent moving focus even with event.preventDefault()\n\t\t// so we check again later\n\t\tthis._delay( checkFocus );\n\t},\n\n\t_createWrapper: function() {\n\t\tthis.uiDialog = $( \"<div>\" )\n\t\t\t.hide()\n\t\t\t.attr( {\n\n\t\t\t\t// Setting tabIndex makes the div focusable\n\t\t\t\ttabIndex: -1,\n\t\t\t\trole: \"dialog\"\n\t\t\t} )\n\t\t\t.appendTo( this._appendTo() );\n\n\t\tthis._addClass( this.uiDialog, \"ui-dialog\", \"ui-widget ui-widget-content ui-front\" );\n\t\tthis._on( this.uiDialog, {\n\t\t\tkeydown: function( event ) {\n\t\t\t\tif ( this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&\n\t\t\t\t\t\tevent.keyCode === $.ui.keyCode.ESCAPE ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.close( event );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Prevent tabbing out of dialogs\n\t\t\t\tif ( event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tabbables = this.uiDialog.find( \":tabbable\" ),\n\t\t\t\t\tfirst = tabbables.filter( \":first\" ),\n\t\t\t\t\tlast = tabbables.filter( \":last\" );\n\n\t\t\t\tif ( ( event.target === last[ 0 ] || event.target === this.uiDialog[ 0 ] ) &&\n\t\t\t\t\t\t!event.shiftKey ) {\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tfirst.trigger( \"focus\" );\n\t\t\t\t\t} );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if ( ( event.target === first[ 0 ] ||\n\t\t\t\t\t\tevent.target === this.uiDialog[ 0 ] ) && event.shiftKey ) {\n\t\t\t\t\tthis._delay( function() {\n\t\t\t\t\t\tlast.trigger( \"focus\" );\n\t\t\t\t\t} );\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\tmousedown: function( event ) {\n\t\t\t\tif ( this._moveToTop( event ) ) {\n\t\t\t\t\tthis._focusTabbable();\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// We assume that any existing aria-describedby attribute means\n\t\t// that the dialog content is marked up properly\n\t\t// otherwise we brute force the content as the description\n\t\tif ( !this.element.find( \"[aria-describedby]\" ).length ) {\n\t\t\tthis.uiDialog.attr( {\n\t\t\t\t\"aria-describedby\": this.element.uniqueId().attr( \"id\" )\n\t\t\t} );\n\t\t}\n\t},\n\n\t_createTitlebar: function() {\n\t\tvar uiDialogTitle;\n\n\t\tthis.uiDialogTitlebar = $( \"<div>\" );\n\t\tthis._addClass( this.uiDialogTitlebar,\n\t\t\t\"ui-dialog-titlebar\", \"ui-widget-header ui-helper-clearfix\" );\n\t\tthis._on( this.uiDialogTitlebar, {\n\t\t\tmousedown: function( event ) {\n\n\t\t\t\t// Don't prevent click on close button (#8838)\n\t\t\t\t// Focusing a dialog that is partially scrolled out of view\n\t\t\t\t// causes the browser to scroll it into view, preventing the click event\n\t\t\t\tif ( !$( event.target ).closest( \".ui-dialog-titlebar-close\" ) ) {\n\n\t\t\t\t\t// Dialog isn't getting focus when dragging (#8063)\n\t\t\t\t\tthis.uiDialog.trigger( \"focus\" );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Support: IE\n\t\t// Use type=\"button\" to prevent enter keypresses in textboxes from closing the\n\t\t// dialog in IE (#9312)\n\t\tthis.uiDialogTitlebarClose = $( \"<button type='button'></button>\" )\n\t\t\t.button( {\n\t\t\t\tlabel: $( \"<a>\" ).text( this.options.closeText ).html(),\n\t\t\t\ticon: \"ui-icon-closethick\",\n\t\t\t\tshowLabel: false\n\t\t\t} )\n\t\t\t.appendTo( this.uiDialogTitlebar );\n\n\t\tthis._addClass( this.uiDialogTitlebarClose, \"ui-dialog-titlebar-close\" );\n\t\tthis._on( this.uiDialogTitlebarClose, {\n\t\t\tclick: function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.close( event );\n\t\t\t}\n\t\t} );\n\n\t\tuiDialogTitle = $( \"<span>\" ).uniqueId().prependTo( this.uiDialogTitlebar );\n\t\tthis._addClass( uiDialogTitle, \"ui-dialog-title\" );\n\t\tthis._title( uiDialogTitle );\n\n\t\tthis.uiDialogTitlebar.prependTo( this.uiDialog );\n\n\t\tthis.uiDialog.attr( {\n\t\t\t\"aria-labelledby\": uiDialogTitle.attr( \"id\" )\n\t\t} );\n\t},\n\n\t_title: function( title ) {\n\t\tif ( this.options.title ) {\n\t\t\ttitle.text( this.options.title );\n\t\t} else {\n\t\t\ttitle.html( \"&#160;\" );\n\t\t}\n\t},\n\n\t_createButtonPane: function() {\n\t\tthis.uiDialogButtonPane = $( \"<div>\" );\n\t\tthis._addClass( this.uiDialogButtonPane, \"ui-dialog-buttonpane\",\n\t\t\t\"ui-widget-content ui-helper-clearfix\" );\n\n\t\tthis.uiButtonSet = $( \"<div>\" )\n\t\t\t.appendTo( this.uiDialogButtonPane );\n\t\tthis._addClass( this.uiButtonSet, \"ui-dialog-buttonset\" );\n\n\t\tthis._createButtons();\n\t},\n\n\t_createButtons: function() {\n\t\tvar that = this,\n\t\t\tbuttons = this.options.buttons;\n\n\t\t// If we already have a button pane, remove it\n\t\tthis.uiDialogButtonPane.remove();\n\t\tthis.uiButtonSet.empty();\n\n\t\tif ( $.isEmptyObject( buttons ) || ( $.isArray( buttons ) && !buttons.length ) ) {\n\t\t\tthis._removeClass( this.uiDialog, \"ui-dialog-buttons\" );\n\t\t\treturn;\n\t\t}\n\n\t\t$.each( buttons, function( name, props ) {\n\t\t\tvar click, buttonOptions;\n\t\t\tprops = $.isFunction( props ) ?\n\t\t\t\t{ click: props, text: name } :\n\t\t\t\tprops;\n\n\t\t\t// Default to a non-submitting button\n\t\t\tprops = $.extend( { type: \"button\" }, props );\n\n\t\t\t// Change the context for the click callback to be the main element\n\t\t\tclick = props.click;\n\t\t\tbuttonOptions = {\n\t\t\t\ticon: props.icon,\n\t\t\t\ticonPosition: props.iconPosition,\n\t\t\t\tshowLabel: props.showLabel\n\t\t\t};\n\n\t\t\tdelete props.click;\n\t\t\tdelete props.icon;\n\t\t\tdelete props.iconPosition;\n\t\t\tdelete props.showLabel;\n\n\t\t\t$( \"<button></button>\", props )\n\t\t\t\t.button( buttonOptions )\n\t\t\t\t.appendTo( that.uiButtonSet )\n\t\t\t\t.on( \"click\", function() {\n\t\t\t\t\tclick.apply( that.element[ 0 ], arguments );\n\t\t\t\t} );\n\t\t} );\n\t\tthis._addClass( this.uiDialog, \"ui-dialog-buttons\" );\n\t\tthis.uiDialogButtonPane.appendTo( this.uiDialog );\n\t},\n\n\t_makeDraggable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options;\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\tposition: ui.position,\n\t\t\t\toffset: ui.offset\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.draggable( {\n\t\t\tcancel: \".ui-dialog-content, .ui-dialog-titlebar-close\",\n\t\t\thandle: \".ui-dialog-titlebar\",\n\t\t\tcontainment: \"document\",\n\t\t\tstart: function( event, ui ) {\n\t\t\t\tthat._addClass( $( this ), \"ui-dialog-dragging\" );\n\t\t\t\tthat._blockFrames();\n\t\t\t\tthat._trigger( \"dragStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tdrag: function( event, ui ) {\n\t\t\t\tthat._trigger( \"drag\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\tvar left = ui.offset.left - that.document.scrollLeft(),\n\t\t\t\t\ttop = ui.offset.top - that.document.scrollTop();\n\n\t\t\t\toptions.position = {\n\t\t\t\t\tmy: \"left top\",\n\t\t\t\t\tat: \"left\" + ( left >= 0 ? \"+\" : \"\" ) + left + \" \" +\n\t\t\t\t\t\t\"top\" + ( top >= 0 ? \"+\" : \"\" ) + top,\n\t\t\t\t\tof: that.window\n\t\t\t\t};\n\t\t\t\tthat._removeClass( $( this ), \"ui-dialog-dragging\" );\n\t\t\t\tthat._unblockFrames();\n\t\t\t\tthat._trigger( \"dragStop\", event, filteredUi( ui ) );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_makeResizable: function() {\n\t\tvar that = this,\n\t\t\toptions = this.options,\n\t\t\thandles = options.resizable,\n\n\t\t\t// .ui-resizable has position: relative defined in the stylesheet\n\t\t\t// but dialogs have to use absolute or fixed positioning\n\t\t\tposition = this.uiDialog.css( \"position\" ),\n\t\t\tresizeHandles = typeof handles === \"string\" ?\n\t\t\t\thandles :\n\t\t\t\t\"n,e,s,w,se,sw,ne,nw\";\n\n\t\tfunction filteredUi( ui ) {\n\t\t\treturn {\n\t\t\t\toriginalPosition: ui.originalPosition,\n\t\t\t\toriginalSize: ui.originalSize,\n\t\t\t\tposition: ui.position,\n\t\t\t\tsize: ui.size\n\t\t\t};\n\t\t}\n\n\t\tthis.uiDialog.resizable( {\n\t\t\tcancel: \".ui-dialog-content\",\n\t\t\tcontainment: \"document\",\n\t\t\talsoResize: this.element,\n\t\t\tmaxWidth: options.maxWidth,\n\t\t\tmaxHeight: options.maxHeight,\n\t\t\tminWidth: options.minWidth,\n\t\t\tminHeight: this._minHeight(),\n\t\t\thandles: resizeHandles,\n\t\t\tstart: function( event, ui ) {\n\t\t\t\tthat._addClass( $( this ), \"ui-dialog-resizing\" );\n\t\t\t\tthat._blockFrames();\n\t\t\t\tthat._trigger( \"resizeStart\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tresize: function( event, ui ) {\n\t\t\t\tthat._trigger( \"resize\", event, filteredUi( ui ) );\n\t\t\t},\n\t\t\tstop: function( event, ui ) {\n\t\t\t\tvar offset = that.uiDialog.offset(),\n\t\t\t\t\tleft = offset.left - that.document.scrollLeft(),\n\t\t\t\t\ttop = offset.top - that.document.scrollTop();\n\n\t\t\t\toptions.height = that.uiDialog.height();\n\t\t\t\toptions.width = that.uiDialog.width();\n\t\t\t\toptions.position = {\n\t\t\t\t\tmy: \"left top\",\n\t\t\t\t\tat: \"left\" + ( left >= 0 ? \"+\" : \"\" ) + left + \" \" +\n\t\t\t\t\t\t\"top\" + ( top >= 0 ? \"+\" : \"\" ) + top,\n\t\t\t\t\tof: that.window\n\t\t\t\t};\n\t\t\t\tthat._removeClass( $( this ), \"ui-dialog-resizing\" );\n\t\t\t\tthat._unblockFrames();\n\t\t\t\tthat._trigger( \"resizeStop\", event, filteredUi( ui ) );\n\t\t\t}\n\t\t} )\n\t\t\t.css( \"position\", position );\n\t},\n\n\t_trackFocus: function() {\n\t\tthis._on( this.widget(), {\n\t\t\tfocusin: function( event ) {\n\t\t\t\tthis._makeFocusTarget();\n\t\t\t\tthis._focusedElement = $( event.target );\n\t\t\t}\n\t\t} );\n\t},\n\n\t_makeFocusTarget: function() {\n\t\tthis._untrackInstance();\n\t\tthis._trackingInstances().unshift( this );\n\t},\n\n\t_untrackInstance: function() {\n\t\tvar instances = this._trackingInstances(),\n\t\t\texists = $.inArray( this, instances );\n\t\tif ( exists !== -1 ) {\n\t\t\tinstances.splice( exists, 1 );\n\t\t}\n\t},\n\n\t_trackingInstances: function() {\n\t\tvar instances = this.document.data( \"ui-dialog-instances\" );\n\t\tif ( !instances ) {\n\t\t\tinstances = [];\n\t\t\tthis.document.data( \"ui-dialog-instances\", instances );\n\t\t}\n\t\treturn instances;\n\t},\n\n\t_minHeight: function() {\n\t\tvar options = this.options;\n\n\t\treturn options.height === \"auto\" ?\n\t\t\toptions.minHeight :\n\t\t\tMath.min( options.minHeight, options.height );\n\t},\n\n\t_position: function() {\n\n\t\t// Need to show the dialog to get the actual offset in the position plugin\n\t\tvar isVisible = this.uiDialog.is( \":visible\" );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.show();\n\t\t}\n\t\tthis.uiDialog.position( this.options.position );\n\t\tif ( !isVisible ) {\n\t\t\tthis.uiDialog.hide();\n\t\t}\n\t},\n\n\t_setOptions: function( options ) {\n\t\tvar that = this,\n\t\t\tresize = false,\n\t\t\tresizableOptions = {};\n\n\t\t$.each( options, function( key, value ) {\n\t\t\tthat._setOption( key, value );\n\n\t\t\tif ( key in that.sizeRelatedOptions ) {\n\t\t\t\tresize = true;\n\t\t\t}\n\t\t\tif ( key in that.resizableRelatedOptions ) {\n\t\t\t\tresizableOptions[ key ] = value;\n\t\t\t}\n\t\t} );\n\n\t\tif ( resize ) {\n\t\t\tthis._size();\n\t\t\tthis._position();\n\t\t}\n\t\tif ( this.uiDialog.is( \":data(ui-resizable)\" ) ) {\n\t\t\tthis.uiDialog.resizable( \"option\", resizableOptions );\n\t\t}\n\t},\n\n\t_setOption: function( key, value ) {\n\t\tvar isDraggable, isResizable,\n\t\t\tuiDialog = this.uiDialog;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._super( key, value );\n\n\t\tif ( key === \"appendTo\" ) {\n\t\t\tthis.uiDialog.appendTo( this._appendTo() );\n\t\t}\n\n\t\tif ( key === \"buttons\" ) {\n\t\t\tthis._createButtons();\n\t\t}\n\n\t\tif ( key === \"closeText\" ) {\n\t\t\tthis.uiDialogTitlebarClose.button( {\n\n\t\t\t\t// Ensure that we always pass a string\n\t\t\t\tlabel: $( \"<a>\" ).text( \"\" + this.options.closeText ).html()\n\t\t\t} );\n\t\t}\n\n\t\tif ( key === \"draggable\" ) {\n\t\t\tisDraggable = uiDialog.is( \":data(ui-draggable)\" );\n\t\t\tif ( isDraggable && !value ) {\n\t\t\t\tuiDialog.draggable( \"destroy\" );\n\t\t\t}\n\n\t\t\tif ( !isDraggable && value ) {\n\t\t\t\tthis._makeDraggable();\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"position\" ) {\n\t\t\tthis._position();\n\t\t}\n\n\t\tif ( key === \"resizable\" ) {\n\n\t\t\t// currently resizable, becoming non-resizable\n\t\t\tisResizable = uiDialog.is( \":data(ui-resizable)\" );\n\t\t\tif ( isResizable && !value ) {\n\t\t\t\tuiDialog.resizable( \"destroy\" );\n\t\t\t}\n\n\t\t\t// Currently resizable, changing handles\n\t\t\tif ( isResizable && typeof value === \"string\" ) {\n\t\t\t\tuiDialog.resizable( \"option\", \"handles\", value );\n\t\t\t}\n\n\t\t\t// Currently non-resizable, becoming resizable\n\t\t\tif ( !isResizable && value !== false ) {\n\t\t\t\tthis._makeResizable();\n\t\t\t}\n\t\t}\n\n\t\tif ( key === \"title\" ) {\n\t\t\tthis._title( this.uiDialogTitlebar.find( \".ui-dialog-title\" ) );\n\t\t}\n\t},\n\n\t_size: function() {\n\n\t\t// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content\n\t\t// divs will both have width and height set, so we need to reset them\n\t\tvar nonContentHeight, minContentHeight, maxContentHeight,\n\t\t\toptions = this.options;\n\n\t\t// Reset content sizing\n\t\tthis.element.show().css( {\n\t\t\twidth: \"auto\",\n\t\t\tminHeight: 0,\n\t\t\tmaxHeight: \"none\",\n\t\t\theight: 0\n\t\t} );\n\n\t\tif ( options.minWidth > options.width ) {\n\t\t\toptions.width = options.minWidth;\n\t\t}\n\n\t\t// Reset wrapper sizing\n\t\t// determine the height of all the non-content elements\n\t\tnonContentHeight = this.uiDialog.css( {\n\t\t\theight: \"auto\",\n\t\t\twidth: options.width\n\t\t} )\n\t\t\t.outerHeight();\n\t\tminContentHeight = Math.max( 0, options.minHeight - nonContentHeight );\n\t\tmaxContentHeight = typeof options.maxHeight === \"number\" ?\n\t\t\tMath.max( 0, options.maxHeight - nonContentHeight ) :\n\t\t\t\"none\";\n\n\t\tif ( options.height === \"auto\" ) {\n\t\t\tthis.element.css( {\n\t\t\t\tminHeight: minContentHeight,\n\t\t\t\tmaxHeight: maxContentHeight,\n\t\t\t\theight: \"auto\"\n\t\t\t} );\n\t\t} else {\n\t\t\tthis.element.height( Math.max( 0, options.height - nonContentHeight ) );\n\t\t}\n\n\t\tif ( this.uiDialog.is( \":data(ui-resizable)\" ) ) {\n\t\t\tthis.uiDialog.resizable( \"option\", \"minHeight\", this._minHeight() );\n\t\t}\n\t},\n\n\t_blockFrames: function() {\n\t\tthis.iframeBlocks = this.document.find( \"iframe\" ).map( function() {\n\t\t\tvar iframe = $( this );\n\n\t\t\treturn $( \"<div>\" )\n\t\t\t\t.css( {\n\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\twidth: iframe.outerWidth(),\n\t\t\t\t\theight: iframe.outerHeight()\n\t\t\t\t} )\n\t\t\t\t.appendTo( iframe.parent() )\n\t\t\t\t.offset( iframe.offset() )[ 0 ];\n\t\t} );\n\t},\n\n\t_unblockFrames: function() {\n\t\tif ( this.iframeBlocks ) {\n\t\t\tthis.iframeBlocks.remove();\n\t\t\tdelete this.iframeBlocks;\n\t\t}\n\t},\n\n\t_allowInteraction: function( event ) {\n\t\tif ( $( event.target ).closest( \".ui-dialog\" ).length ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// TODO: Remove hack when datepicker implements\n\t\t// the .ui-front logic (#8989)\n\t\treturn !!$( event.target ).closest( \".ui-datepicker\" ).length;\n\t},\n\n\t_createOverlay: function() {\n\t\tif ( !this.options.modal ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// We use a delay in case the overlay is created from an\n\t\t// event that we're going to be cancelling (#2804)\n\t\tvar isOpening = true;\n\t\tthis._delay( function() {\n\t\t\tisOpening = false;\n\t\t} );\n\n\t\tif ( !this.document.data( \"ui-dialog-overlays\" ) ) {\n\n\t\t\t// Prevent use of anchors and inputs\n\t\t\t// Using _on() for an event handler shared across many instances is\n\t\t\t// safe because the dialogs stack and must be closed in reverse order\n\t\t\tthis._on( this.document, {\n\t\t\t\tfocusin: function( event ) {\n\t\t\t\t\tif ( isOpening ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !this._allowInteraction( event ) ) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tthis._trackingInstances()[ 0 ]._focusTabbable();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\tthis.overlay = $( \"<div>\" )\n\t\t\t.appendTo( this._appendTo() );\n\n\t\tthis._addClass( this.overlay, null, \"ui-widget-overlay ui-front\" );\n\t\tthis._on( this.overlay, {\n\t\t\tmousedown: \"_keepFocus\"\n\t\t} );\n\t\tthis.document.data( \"ui-dialog-overlays\",\n\t\t\t( this.document.data( \"ui-dialog-overlays\" ) || 0 ) + 1 );\n\t},\n\n\t_destroyOverlay: function() {\n\t\tif ( !this.options.modal ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( this.overlay ) {\n\t\t\tvar overlays = this.document.data( \"ui-dialog-overlays\" ) - 1;\n\n\t\t\tif ( !overlays ) {\n\t\t\t\tthis._off( this.document, \"focusin\" );\n\t\t\t\tthis.document.removeData( \"ui-dialog-overlays\" );\n\t\t\t} else {\n\t\t\t\tthis.document.data( \"ui-dialog-overlays\", overlays );\n\t\t\t}\n\n\t\t\tthis.overlay.remove();\n\t\t\tthis.overlay = null;\n\t\t}\n\t}\n} );\n\n// DEPRECATED\n// TODO: switch return back to widget declaration at top of file when this is removed\nif ( $.uiBackCompat !== false ) {\n\n\t// Backcompat for dialogClass option\n\t$.widget( \"ui.dialog\", $.ui.dialog, {\n\t\toptions: {\n\t\t\tdialogClass: \"\"\n\t\t},\n\t\t_createWrapper: function() {\n\t\t\tthis._super();\n\t\t\tthis.uiDialog.addClass( this.options.dialogClass );\n\t\t},\n\t\t_setOption: function( key, value ) {\n\t\t\tif ( key === \"dialogClass\" ) {\n\t\t\t\tthis.uiDialog\n\t\t\t\t\t.removeClass( this.options.dialogClass )\n\t\t\t\t\t.addClass( value );\n\t\t\t}\n\t\t\tthis._superApply( arguments );\n\t\t}\n\t} );\n}\n\nreturn $.ui.dialog;\n\n} ) );\n","if (!Array.prototype.find) {\n  Array.prototype.find = function(predicate) {\n    'use strict';\n    if (this == null) {\n      throw new TypeError('Array.prototype.find called on null or undefined');\n    }\n    if (typeof predicate !== 'function') {\n      throw new TypeError('predicate must be a function');\n    }\n    var list = Object(this);\n    var length = list.length >>> 0;\n    var thisArg = arguments[1];\n    var value;\n\n    for (var i = 0; i < length; i++) {\n      value = list[i];\n      if (predicate.call(thisArg, value, i, list)) {\n        return value;\n      }\n    }\n    return undefined;\n  };\n}","'use strict';\nvar ko = (typeof window !== \"undefined\" ? window['ko'] : typeof global !== \"undefined\" ? global['ko'] : null);\n\nko.mapping = require('knockout-mapping');\n\nko.extenders.numeric = function(target, precision) {\n    //create a writeable computed observable to intercept writes to our observable\n    var result = ko.computed({\n        read: target,  //always return the original observables value\n        write: function(newValue) {\n            var current = target(),\n                roundingMultiplier = Math.pow(10, precision),\n                newValueAsNum = isNaN(newValue) ? 0 : parseFloat(+newValue),\n                valueToWrite = Math.round(newValueAsNum * roundingMultiplier) / roundingMultiplier;\n \n            //only write if it changed\n            if (valueToWrite !== current) {\n                target(valueToWrite);\n            } else {\n                //if the rounded value is the same, but a different value was written, force a notification for the current field\n                if (newValue !== current) {\n                    target.notifySubscribers(valueToWrite);\n                }\n            }\n        }\n    }).extend({ notify: 'always' });\n \n    //initialize with current value to make sure it is rounded appropriately\n    result(target());\n \n    //return the new computed observable\n    return result;\n};\n\nmodule.exports = ko;","'use strict';\nvar ko = require('./herocalc_knockout');\n    \nvar my = require(\"./herocalc_core\");\n\nmy.prototype.DamageTypeColor = {\n    'physical': '#979aa2',\n    'pure': 'goldenrod',\n    'magic': '#428bca',\n    'default': '#979aa2'\n}\n\nmy.prototype.HeroDamageMixin = function (self) {\n    self.critInfo = ko.pureComputed(function () {\n        var critSources = self.inventory.getCritSource();\n        my.prototype.extend(critSources, self.ability().getCritSource());\n        my.prototype.extend(critSources, self.buffs.getCritSource());\n        var critSourcesArray = [];\n        for (var prop in critSources) {\n            var el = critSources[prop];\n            el.name = prop\n            critSourcesArray.push(el);\n        }\n        function compareByMultiplier(a,b) {\n            if (a.multiplier < b.multiplier)\n                return 1;\n            if (a.multiplier > b.multiplier)\n                return -1;\n            return 0;\n        }\n\n        critSourcesArray.sort(compareByMultiplier);\n        \n        var result = [];\n        var critTotal = 0;\n        for (var i = 0; i < critSourcesArray.length; i++) {\n            var total = 1;\n            for (var j = 0; j < i; j++) {\n                for (var k = 0; k <critSourcesArray[j].count; k++) {\n                    total *= (1 - critSourcesArray[j].chance);\n                }\n            }\n            var total2 = 1;\n            for (var k = 0; k < critSourcesArray[i].count; k++) {\n                total2 *= (1 - critSourcesArray[i].chance);\n            }\n            total *= (1 - total2);\n            critTotal += total;\n            if (critSourcesArray[i].count > 1) {\n                result.push({\n                    'name':critSourcesArray[i].displayname + ' x' + critSourcesArray[i].count,\n                    'chance':critSourcesArray[i].chance,\n                    'multiplier':critSourcesArray[i].multiplier,\n                    'count':critSourcesArray[i].count,\n                    'totalChance':total\n                });\n            }\n            else {\n                result.push({\n                    'name':critSourcesArray[i].displayname,\n                    'chance':critSourcesArray[i].chance,\n                    'multiplier':critSourcesArray[i].multiplier,\n                    'count':critSourcesArray[i].count,\n                    'totalChance':total\n                });\n            }\n        }\n        return { sources: result, total: critTotal };\n    });\n\n    self.cleaveInfo = ko.pureComputed(function () {\n        var cleaveSources = self.inventory.getCleaveSource();\n        my.prototype.extend(cleaveSources, self.ability().getCleaveSource());\n        my.prototype.extend(cleaveSources, self.buffs.getCleaveSource());\n        var cleaveSourcesArray = [];\n        for (var prop in cleaveSources) {\n            var el = cleaveSources[prop];\n            el.name = prop\n            cleaveSourcesArray.push(el);\n        }\n        function compareByRadius(a,b) {\n            if (a.radius < b.radius)\n                return 1;\n            if (a.radius > b.radius)\n                return -1;\n            return 0;\n        }\n\n        cleaveSourcesArray.sort(compareByRadius);\n        var cleaveSourcesByRadius = {};\n        for (var i = 0; i < cleaveSourcesArray.length; i++) {\n            var total = 0;\n            for (var j = 0; j <cleaveSourcesArray.length; j++) {\n                if (cleaveSourcesArray[j].radius >= cleaveSourcesArray[i].radius) {\n                    total += cleaveSourcesArray[j].magnitude * cleaveSourcesArray[j].count;\n                }\n            }\n            cleaveSourcesByRadius[cleaveSourcesArray[i].radius] = total;\n        }\n        var result = [];\n        for (var prop in cleaveSourcesByRadius) {\n            result.push({\n                'radius':prop,\n                'magnitude':cleaveSourcesByRadius[prop]\n            });\n        }\n        return result;\n    });\n    \n    self.bashInfo = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        var bashSources = self.inventory.getBashSource(attacktype);\n        my.prototype.extend(bashSources, self.ability().getBashSource());\n        var bashSourcesArray = [];\n        for (var prop in bashSources) {\n            var el = bashSources[prop];\n            el.name = prop\n            bashSourcesArray.push(el);\n        }\n        function compareByDuration(a, b) {\n            if (a.duration < b.duration)\n                return 1;\n            if (a.duration > b.duration)\n                return -1;\n            return 0;\n        }\n\n        //bashSourcesArray.sort(compareByDuration);\n        \n        var result = [];\n        var bashTotal = 0;\n        for (var i = 0;i < bashSourcesArray.length; i++) {\n            var total = 1;\n            for (var j = 0; j < i; j++) {\n                for (var k = 0; k < bashSourcesArray[j].count; k++) {\n                    total *= (1 - bashSourcesArray[j].chance);\n                }\n            }\n            var total2 = 1;\n            for (var k = 0; k < bashSourcesArray[i].count; k++) {\n                total2 *= (1 - bashSourcesArray[i].chance);\n            }\n            total *= (1 - total2);\n            bashTotal += total;\n            if (bashSourcesArray[i].name === 'spirit_breaker_greater_bash') {\n                var d = bashSourcesArray[i].damage * self.totalMovementSpeed();\n            }\n            else {\n                var d = bashSourcesArray[i].damage;\n            }\n            if (bashSourcesArray[i].count > 1) {\n                result.push({\n                    'name':bashSourcesArray[i].displayname, // + ' x' + bashSourcesArray[i].count,\n                    'chance':bashSourcesArray[i].chance,\n                    'damage':d,\n                    'count':bashSourcesArray[i].count,\n                    'damageType':bashSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n            else {\n                result.push({\n                    'name':bashSourcesArray[i].displayname,\n                    'chance':bashSourcesArray[i].chance,\n                    'damage':d,\n                    'count':bashSourcesArray[i].count,\n                    'damageType':bashSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n\n        }\n        return { sources: result, total: bashTotal };\n    });\n    \n    self.orbProcInfo = ko.pureComputed(function () {\n        var attacktype = self.heroData().attacktype;\n        var damageSources = self.inventory.getOrbProcSource();\n        var damageSourcesArray = [];\n        for (var prop in damageSources) {\n            var el = damageSources[prop];\n            el.name = prop\n            damageSourcesArray.push(el);\n        }\n        function compareByDamage(a, b) {\n            if (a.priority > b.priority) {\n                return 1;\n            }\n            if (a.priority < b.priority) {\n                return -1;\n            }\n            if (a.damage < b.damage)\n                return 1;\n            if (a.damage > b.damage)\n                return -1;\n            return 0;\n        }\n\n        damageSourcesArray.sort(compareByDamage);\n        \n        var result = [];\n        var damageTotal = 0;\n        for (var i=0 ; i < damageSourcesArray.length; i++) {\n            var total = 1;\n            for (var j = 0; j < i; j++) {\n                for (var k = 0; k < damageSourcesArray[j].count; k++) {\n                    total *= (1 - damageSourcesArray[j].chance);\n                }\n            }\n            var total2 = 1;\n            for (var k = 0; k < damageSourcesArray[i].count; k++) {\n                total2 *= (1 - damageSourcesArray[i].chance);\n            }\n            total *= (1 - total2);\n            damageTotal += total;\n            if (damageSourcesArray[i].count > 1) {\n                result.push({\n                    'name':damageSourcesArray[i].displayname + ' x' + damageSourcesArray[i].count,\n                    'chance':damageSourcesArray[i].chance,\n                    'damage':damageSourcesArray[i].damage,\n                    'count':damageSourcesArray[i].count,\n                    'damageType':damageSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n            else {\n                result.push({\n                    'name':damageSourcesArray[i].displayname,\n                    'chance':damageSourcesArray[i].chance,\n                    'damage':damageSourcesArray[i].damage,\n                    'count':damageSourcesArray[i].count,\n                    'damageType':damageSourcesArray[i].damageType,\n                    'totalChance':total\n                });\n            }\n        }\n        return { sources: result, total: damageTotal };\n    });\n    \n    self.getReducedDamage = function (value, type) {\n        var result = value;\n        switch (type) {\n            case 'physical':\n                result = value * (1 - (0.06 * self.enemy().totalArmorPhysical()) / (1 + 0.06 * Math.abs(self.enemy().totalArmorPhysical())));\n            break;\n            case 'magic':\n                result = value * (1 - self.enemy().totalMagicResistance() / 100);\n            break;\n            case 'pure':\n                result = value;\n            break;\n            case 'composite':\n                result = value * (1 - (0.06 * self.enemy().totalArmorPhysical()) / (1 + 0.06 * Math.abs(self.enemy().totalArmorPhysical())));\n                result *= (1 - self.enemy().totalMagicResistance() / 100);\n            break;\n        }\n        result *= self.ability().getDamageAmplification() * self.debuffs.getDamageAmplification();\n        result *= self.enemy().ability().getDamageReduction() * self.enemy().buffs.getDamageReduction();\n        return result;\n    }\n    \n    self.damageTotalInfo = ko.pureComputed(function () {\n        var bonusDamageArray = [\n            self.ability().getBonusDamage().sources,\n            self.buffs.getBonusDamage().sources\n        ],\n        bonusDamagePctArray = [\n            self.ability().getBonusDamagePercent().sources,\n            self.buffs.getBonusDamagePercent().sources\n        ],\n        itemBonusDamage = self.inventory.getBonusDamage().sources,\n        itemBonusDamagePct = self.buffs.itemBuffs.getBonusDamagePercent(self.inventory.getBonusDamagePercent()).sources,\n        critSources = self.critInfo(),\n        abilityOrbSources = self.ability().getOrbSource(),\n        itemOrbSources = self.inventory.getOrbSource(),\n        itemProcOrbSources = self.orbProcInfo(),\n        bashSources = self.bashInfo(),\n        \n        attackSources = [];\n        \n        attackSources.push({\n            name: 'Base Attack',\n            cooldown: 1\n        });\n        \n        // weaver_geminate_attack\n        if (self.selectedHero().heroName === 'weaver') {\n            var a = self.ability().abilities().find(function (ability) {\n                return ability.name() === 'weaver_geminate_attack';\n            });\n            if (a) {\n                if (a.level() > 0) {\n                    var cd = a.cooldown()[a.level() - 1];\n                    attackSources.push({\n                        name: a.displayname(),\n                        cooldown: (1/cd)\n                    });\n                }\n            }\n        }\n        \n        // echo_sabre\n        var item = self.inventory.items().find(function (o) { return o.item === \"echo_sabre\" && o.enabled(); });\n        if (item && self.heroData().attacktype === 'DOTA_UNIT_CAP_MELEE_ATTACK') {\n            var item_echo_sabre = my.prototype.itemData['item_echo_sabre'];\n            attackSources.push({\n                name: item_echo_sabre.displayname,\n                cooldown: (1/item_echo_sabre.cooldown)\n            });\n        }\n\n        var attacks = attackSources.map(function (a) {\n            var baseDamage = (self.baseDamage()[0] + self.baseDamage()[1]) / 2,\n            totalDamage = 0,\n            totalCritableDamage = 0,\n            totalCrit = 0,\n            geminateAttack = { damage: 0, damageReduced: 0, cooldown: 6, active: false },\n            echoSabreAttack = { damage: 0, damageReduced: 0, cooldown: my.prototype.itemData['item_echo_sabre'].cooldown[0], active: false },\n            damage = {\n                pure: 0,\n                physical: 0,\n                magic: 0\n            },\n            result = [],\n            crits = [];\n            \n            // base damage\n            result.push({\n                name: 'Base Damage',\n                damage: baseDamage,\n                damageType: 'physical',\n                damageReduced: self.getReducedDamage(baseDamage, 'physical'),\n                enabled: ko.observable(true)\n            });\n            totalDamage += baseDamage;\n            totalCritableDamage += baseDamage;\n            damage.physical += baseDamage;\n            \n            // bonus damage from items\n            for (i in itemBonusDamage) {\n                var d = itemBonusDamage[i].damage*itemBonusDamage[i].count * self.ability().getSelfBaseDamageReductionPct() * self.enemy().ability().getBaseDamageReductionPct() * self.debuffs.itemBuffs.getBaseDamageReductionPct();\n                result.push({\n                    name: itemBonusDamage[i].displayname + (itemBonusDamage[i].count > 1 ? ' x' + itemBonusDamage[i].count : ''),\n                    damage: d,\n                    damageType: itemBonusDamage[i].damageType,\n                    damageReduced: self.getReducedDamage(d, itemBonusDamage[i].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                totalCritableDamage += d;\n                damage[itemBonusDamage[i].damageType] += d;\n            }\n\n            // bonus damage percent from items\n            for (i in itemBonusDamagePct) {\n                var d = baseDamage * itemBonusDamagePct[i].damage;\n                result.push({\n                    name: itemBonusDamagePct[i].displayname,\n                    damage: d,\n                    damageType: itemBonusDamagePct[i].damageType,\n                    damageReduced: self.getReducedDamage(d, itemBonusDamagePct[i].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                totalCritableDamage += d;\n                damage[itemBonusDamagePct[i].damageType] += d;\n            }\n            \n            // bonus damage from abilities and buffs\n            for (var i = 0; i < bonusDamageArray.length; i++) {\n                for (j in bonusDamageArray[i]) {\n                    var d = bonusDamageArray[i][j].damage;\n                    result.push({\n                        name: bonusDamageArray[i][j].displayname,\n                        damage: d,\n                        damageType: bonusDamageArray[i][j].damageType,\n                        damageReduced: self.getReducedDamage(d, bonusDamageArray[i][j].damageType),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    totalCritableDamage += d;\n                    damage[bonusDamageArray[i][j].damageType] += d;\n                }\n            }\n            \n            // bonus damage percent from abilities and buffs\n            for (var i = 0; i < bonusDamagePctArray.length; i++) {\n                for (j in bonusDamagePctArray[i]) {\n                    var d = baseDamage * bonusDamagePctArray[i][j].damage;\n                    result.push({\n                        name: bonusDamagePctArray[i][j].displayname,\n                        damage: d,\n                        damageType: bonusDamagePctArray[i][j].damageType,\n                        damageReduced: self.getReducedDamage(d, bonusDamagePctArray[i][j].damageType),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    totalCritableDamage += d;\n                    damage[bonusDamagePctArray[i][j].damageType] += d;\n                }\n            }\n            // drow_ranger_trueshot\n            if (self.heroData().attacktype === 'DOTA_UNIT_CAP_RANGED_ATTACK') {\n                if (self.selectedHero().heroName === 'drow_ranger') {\n                    var s = self.ability().getBonusDamagePrecisionAura().sources;\n                    var index = 0;\n                }\n                else {\n                    var s = self.buffs.getBonusDamagePrecisionAura().sources;\n                    var index = 1;\n                }\n                if (s[index] != undefined) {\n                    if (self.selectedHero().heroName === 'drow_ranger') {\n                        var d = s[index].damage * self.totalAgi();\n                    }\n                    else {\n                        var d = s[index].damage;\n                    }\n                    result.push({\n                        name: s[index].displayname,\n                        damage: d,\n                        damageType: 'physical',\n                        damageReduced: self.getReducedDamage(d, 'physical'),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    totalCritableDamage += d;\n                    damage.physical += d;                    \n                }\n            }\n            \n            // riki_backstab\n            if (self.selectedHero().heroName === 'riki') {\n                var s = self.ability().getBonusDamageBackstab().sources;\n                var index = 0;\n            }\n            else {\n                var s = self.buffs.getBonusDamageBackstab().sources;\n                var index = 1;\n            }\n            if (s[index] != undefined) {\n                if (self.selectedHero().heroName === 'riki') {\n                    var d = s[index].damage * self.totalAgi();\n                }\n                else {\n                    var d = s[index].damage;\n                }\n                result.push({\n                    name: s[index].displayname,\n                    damage: d,\n                    damageType: 'physical',\n                    damageReduced: self.getReducedDamage(d, 'physical'),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                //totalCritableDamage += d;\n                damage.physical += d;                    \n            }\n\n            // bash damage\n            for (var i = 0; i < bashSources.sources.length; i++) {\n                var o = bashSources.sources[i];\n                var d = bashSources.sources[i].damage;\n                var cd = self.attacksPerSecond();\n                if (o.cooldown) {\n                    cd = Math.max(1/o.cooldown, cd);\n                }\n                for (var j = 0; j < bashSources.sources[i].count; j++) {\n                    result.push({\n                        name: bashSources.sources[i].name,\n                        damage: d,\n                        damageType: bashSources.sources[i].damageType,\n                        damageReduced: self.getReducedDamage(d, bashSources.sources[i].damageType),\n                        dps: d * cd * bashSources.sources[i].chance,\n                        dpsReduced: self.getReducedDamage(d, bashSources.sources[i].damageType) * cd * bashSources.sources[i].chance,\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    damage[bashSources.sources[i].damageType] += d;\n                }\n\n            }\n            \n            // %-based orbs\n            for (var i = 0; i < itemProcOrbSources.sources.length; i++) {\n                var d = itemProcOrbSources.sources[i].damage * (1 - Math.pow(1 - itemProcOrbSources.sources[i].chance, itemProcOrbSources.sources[i].count));\n                result.push({\n                    name: itemProcOrbSources.sources[i].name,\n                    damage: d,\n                    damageType: itemProcOrbSources.sources[i].damageType,\n                    damageReduced: self.getReducedDamage(d, itemProcOrbSources.sources[i].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                damage[itemProcOrbSources.sources[i].damageType] += d;\n            }\n            \n            // ability orbs\n            for (var orb in abilityOrbSources) {\n                var d = abilityOrbSources[orb].damage * (1 - itemProcOrbSources.total);\n                result.push({\n                    name: abilityOrbSources[orb].displayname,\n                    damage: d,\n                    damageType: abilityOrbSources[orb].damageType,\n                    damageReduced: self.getReducedDamage(d, abilityOrbSources[orb].damageType),\n                    enabled: ko.observable(true)\n                });\n                totalDamage += d;\n                damage[abilityOrbSources[orb].damageType] += d;\n            }\n            \n            // item orbs\n            if (Object.keys(abilityOrbSources).length === 0) {\n                for (var orb in itemOrbSources) {\n                    var d = itemOrbSources[orb].damage * (1 - itemProcOrbSources.total);\n                    result.push({\n                        name: itemOrbSources[orb].displayname,\n                        damage: d,\n                        damageType: itemOrbSources[orb].damageType,\n                        damageReduced: self.getReducedDamage(d, itemOrbSources[orb].damageType),\n                        enabled: ko.observable(true)\n                    });\n                    totalDamage += d;\n                    damage[itemOrbSources[orb].damageType] += d;\n                }            \n            }\n            \n            // crit damage\n            for (var i = 0; i < critSources.sources.length; i++) {\n                var d = totalCritableDamage * (critSources.sources[i].multiplier - 1);// * critSources.sources[i].totalChance;\n                crits.push({\n                    name: critSources.sources[i].name + ', ' + critSources.sources[i].multiplier + 'x, ' + (critSources.sources[i].totalChance * 100).toFixed(1) + '%',\n                    damage: d,\n                    damageType: 'physical',\n                    damageReduced: self.getReducedDamage(d, 'physical'),\n                    enabled: ko.observable(true),\n                    chance: critSources.sources[i].totalChance\n                });\n                totalCrit += d;\n            }\n\n            var totalReduced = self.getReducedDamage(damage.pure, 'pure') \n                    + self.getReducedDamage(damage.physical, 'physical')\n                    + self.getReducedDamage(damage.magic, 'magic'),\n                totalCritReduced = self.getReducedDamage(totalCrit, 'physical'),\n                dps = {\n                    base: totalDamage * self.attacksPerSecond(),\n                    crit: totalCrit * self.attacksPerSecond(),\n                    geminateAttack: geminateAttack.active ? geminateAttack.damage / geminateAttack.cooldown : 0,\n                    reduced: {\n                        base: totalReduced * self.attacksPerSecond(),\n                        crit: totalCritReduced * self.attacksPerSecond(),\n                        geminateAttack: geminateAttack.active ? self.getReducedDamage(geminateAttack.damage, 'physical') / geminateAttack.cooldown : 0,\n                    }\n                }\n                \n            crits.forEach(function (o) {\n                if (!o.dps) {\n                    o.dps = o.damage * (o.cooldown || self.attacksPerSecond()) * o.chance;\n                }\n                if (!o.dpsReduced) {\n                    o.dpsReduced = o.damageReduced * (o.cooldown || self.attacksPerSecond()) * o.chance;\n                }\n            });\n                \n            result.forEach(function (o) {\n                if (!o.dps) {\n                    o.dps = o.damage * (o.cooldown || self.attacksPerSecond());\n                }\n                if (!o.dpsReduced) {\n                    o.dpsReduced = o.damageReduced * (o.cooldown || self.attacksPerSecond());\n                }\n            });\n            \n            var totalCritChance = crits.reduce(function (memo, o) { return memo + o.chance }, 0);\n                \n            var t1Crit = ko.computed(function () {\n                var c = crits.find(function (o) { return o.enabled(); });\n                return c ? c.damage : 0;\n            });\n            var t2Crit = ko.computed(function () {\n                var c = crits.find(function (o) { return o.enabled(); });\n                return c ? c.damageReduced : 0;\n            });\n            var t3Crit = ko.computed(function () {\n                return crits.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dps }, 0);\n            });\n            var t4Crit = ko.computed(function () {\n                return crits.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dpsReduced }, 0);\n            });\n                \n            var t1 = ko.computed(function () {\n                return result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.damage }, 0) + t1Crit();\n            });\n            var t2 = ko.computed(function () {\n                return result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.damageReduced }, 0) + t2Crit();\n            });\n            var t3 = ko.computed(function () {\n                return (result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dps }, 0) + t3Crit()) * a.cooldown;\n            });\n            var t4 = ko.computed(function () {\n                return (result.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.dpsReduced }, 0) + t4Crit()) * a.cooldown;\n            });\n            \n            var totalCritRow = [t1Crit, t2Crit, t3Crit, t4Crit];\n            \n            var totalRow = [t1, t2, t3, t4];\n\n            return {\n                name: a.name + ' Subtotal',\n                cooldown: a.cooldown,\n                enabled: ko.observable(true),\n                visible: ko.observable(true),\n                totalCritChance: totalCritChance,\n                totalCritRow: totalCritRow,\n                totalRow: totalRow,\n                sources: result,\n                sourcesCrit: crits,\n                total: totalDamage,\n                totalCrit: totalCrit,\n                totalGeminateAttack: totalDamage + geminateAttack.damage,\n                totalGeminateAttackReduced: totalReduced + geminateAttack.damageReduced,\n                geminateAttack: geminateAttack,\n                totalCritReduced: totalCritReduced,\n                totalReduced: totalReduced,\n                sumTotal: totalDamage + totalCrit,\n                sumTotalReduced: totalReduced + totalCritReduced,\n                dps: {\n                    base: dps.base,\n                    crit: dps.base + dps.crit,\n                    geminateAttack: dps.base + dps.geminateAttack,\n                    total: dps.base + dps.crit + dps.geminateAttack,\n                    reduced: {\n                        base: dps.reduced.base,\n                        crit: dps.reduced.base + dps.reduced.crit,\n                        geminateAttack: dps.reduced.base + dps.reduced.geminateAttack,\n                        total: dps.reduced.base + dps.reduced.crit + dps.reduced.geminateAttack\n                    }\n                }\n            };\n        });\n        \n        var t1 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[0]() }, 0);\n        });\n        var t2 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[1]() }, 0);\n        });\n        var t3 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[2]() }, 0);\n        });\n        var t4 = ko.computed(function () {\n            return attacks.filter(function (o) { return o.enabled(); }).reduce(function (memo, o) { return memo + o.totalRow[3]() }, 0);\n        });\n            \n        return {\n            attacks: attacks,\n            totalRow: [t1, t2, t3, t4]\n        }\n    });\n    \n    self.getDamageTypeColor = function (damageType) {\n        return my.prototype.DamageTypeColor[damageType] || my.prototype.DamageTypeColor['default'];\n    }\n    \n}","/*!\n * Knockout Mapping plugin v2.6.0\n * (c) 2013 Steven Sanderson, Roy Jacobs - http://knockoutjs.com/\n * License: MIT (http://www.opensource.org/licenses/mit-license.php)\n */\n(function(factory) {\n    'use strict';\n\n    /*jshint sub:true,curly:false*/\n    /*global ko,require,exports,define,module*/\n\n    if (typeof require === \"function\" && typeof exports === \"object\" && typeof module === \"object\") {\n        // CommonJS or Node: hard-coded dependency on \"knockout\"\n        factory(require(\"knockout\"), exports);\n    }\n    else if (typeof define === \"function\" && define[\"amd\"]) {\n        // AMD anonymous module with hard-coded dependency on \"knockout\"\n        define([\"knockout\", \"exports\"], factory);\n    }\n    else {\n        // <script> tag: use the global `ko` object, attaching a `mapping` property\n        if (typeof ko === 'undefined') {\n            throw new Error('Knockout is required, please ensure it is loaded before loading this mapping plug-in');\n        }\n        factory(ko, ko.mapping = {});\n    }\n}(function(ko, exports) {\n    /*jshint sub:true,curly:false*/\n    'use strict';\n\n    ko.mapping = exports;\n\n    var DEBUG=true;\n    var mappingProperty = \"__ko_mapping__\";\n    var realKoDependentObservable = ko.dependentObservable;\n    var mappingNesting = 0;\n    var dependentObservables;\n    var visitedObjects;\n    var recognizedRootProperties = [\"create\", \"update\", \"key\", \"arrayChanged\"];\n    var emptyReturn = {};\n\n    var _defaultOptions = {\n        include: [\"_destroy\"],\n        ignore: [],\n        copy: [],\n        observe: []\n    };\n    var defaultOptions = _defaultOptions;\n\n    function unionArrays() {\n        var args = arguments,\n            l = args.length,\n            obj = {},\n            res = [],\n            i, j, k;\n\n        while (l--) {\n            k = args[l];\n            i = k.length;\n\n            while (i--) {\n                j = k[i];\n                if (!obj[j]) {\n                    obj[j] = 1;\n                    res.push(j);\n                }\n            }\n        }\n\n        return res;\n    }\n\n    function extendObject(destination, source) {\n        var destType;\n\n        for (var key in source) {\n            if (source.hasOwnProperty(key) && source[key]) {\n                destType = exports.getType(destination[key]);\n                if (key && destination[key] && destType !== \"array\" && destType !== \"string\") {\n                    extendObject(destination[key], source[key]);\n                }\n                else {\n                    var bothArrays = exports.getType(destination[key]) === \"array\" && exports.getType(source[key]) === \"array\";\n                    if (bothArrays) {\n                        destination[key] = unionArrays(destination[key], source[key]);\n                    }\n                    else {\n                        destination[key] = source[key];\n                    }\n                }\n            }\n        }\n    }\n\n    function merge(obj1, obj2) {\n        var merged = {};\n        extendObject(merged, obj1);\n        extendObject(merged, obj2);\n\n        return merged;\n    }\n\n    exports.isMapped = function(viewModel) {\n        var unwrapped = ko.utils.unwrapObservable(viewModel);\n        return unwrapped && unwrapped[mappingProperty];\n    };\n\n    exports.fromJS = function(jsObject /*, inputOptions, target*/) {\n        if (arguments.length === 0) {\n            throw new Error(\"When calling ko.fromJS, pass the object you want to convert.\");\n        }\n        try {\n            if (!mappingNesting) {\n                dependentObservables = [];\n                visitedObjects = new ObjectLookup();\n            }\n            mappingNesting++;\n\n            var options;\n            var target;\n\n            if (arguments.length === 2) {\n                if (arguments[1][mappingProperty]) {\n                    target = arguments[1];\n                }\n                else {\n                    options = arguments[1];\n                }\n            }\n            if (arguments.length === 3) {\n                options = arguments[1];\n                target = arguments[2];\n            }\n\n            if (target) {\n                options = merge(options, target[mappingProperty]);\n            }\n            options = fillOptions(options);\n\n            var result = updateViewModel(target, jsObject, options);\n            if (target) {\n                result = target;\n            }\n\n            // Evaluate any dependent observables that were proxied.\n            // Do this after the model's observables have been created\n            if (!--mappingNesting) {\n                while (dependentObservables.length) {\n                    var DO = dependentObservables.pop();\n                    if (DO) {\n                        DO();\n                        // Move this magic property to the underlying dependent observable\n                        DO.__DO[\"throttleEvaluation\"] = DO[\"throttleEvaluation\"];\n                    }\n                }\n            }\n\n            // Save any new mapping options in the view model, so that updateFromJS can use them later.\n            result[mappingProperty] = merge(result[mappingProperty], options);\n\n            return result;\n        }\n        catch (e) {\n            mappingNesting = 0;\n            throw e;\n        }\n    };\n\n    exports.fromJSON = function(jsonString /*, options, target*/) {\n        var args = Array.prototype.slice.call(arguments, 0);\n        args[0] = ko.utils.parseJson(jsonString);\n        return exports.fromJS.apply(this, args);\n    };\n\n    exports.toJS = function(rootObject, options) {\n        if (!defaultOptions) exports.resetDefaultOptions();\n\n        if (arguments.length === 0) throw new Error(\"When calling ko.mapping.toJS, pass the object you want to convert.\");\n        if (exports.getType(defaultOptions.ignore) !== \"array\") throw new Error(\"ko.mapping.defaultOptions().ignore should be an array.\");\n        if (exports.getType(defaultOptions.include) !== \"array\") throw new Error(\"ko.mapping.defaultOptions().include should be an array.\");\n        if (exports.getType(defaultOptions.copy) !== \"array\") throw new Error(\"ko.mapping.defaultOptions().copy should be an array.\");\n\n        // Merge in the options used in fromJS\n        options = fillOptions(options, rootObject[mappingProperty]);\n\n        // We just unwrap everything at every level in the object graph\n        return exports.visitModel(rootObject, function(x) {\n            return ko.utils.unwrapObservable(x);\n        }, options);\n    };\n\n    exports.toJSON = function(rootObject, options, replacer, space) {\n        var plainJavaScriptObject = exports.toJS(rootObject, options);\n        return ko.utils.stringifyJson(plainJavaScriptObject, replacer, space);\n    };\n\n    exports.defaultOptions = function() {\n        if (arguments.length > 0) {\n            defaultOptions = arguments[0];\n        }\n        else {\n            return defaultOptions;\n        }\n    };\n\n    exports.resetDefaultOptions = function() {\n        defaultOptions = {\n            include: _defaultOptions.include.slice(0),\n            ignore: _defaultOptions.ignore.slice(0),\n            copy: _defaultOptions.copy.slice(0),\n            observe: _defaultOptions.observe.slice(0)\n        };\n    };\n\n    exports.getType = function(x) {\n        if ((x) && (typeof (x) === \"object\")) {\n            if (x.constructor === Date) return \"date\";\n            if (x.constructor === Array) return \"array\";\n        }\n        return typeof x;\n    };\n\n    function fillOptions(rawOptions, otherOptions) {\n        var options = merge({}, rawOptions);\n\n        // Move recognized root-level properties into a root namespace\n        for (var i = recognizedRootProperties.length - 1; i >= 0; i--) {\n            var property = recognizedRootProperties[i];\n\n            // Carry on, unless this property is present\n            if (!options[property]) continue;\n\n            // Move the property into the root namespace\n            if (!(options[\"\"] instanceof Object)) options[\"\"] = {};\n            options[\"\"][property] = options[property];\n            delete options[property];\n        }\n\n        if (otherOptions) {\n            options.ignore = mergeArrays(otherOptions.ignore, options.ignore);\n            options.include = mergeArrays(otherOptions.include, options.include);\n            options.copy = mergeArrays(otherOptions.copy, options.copy);\n            options.observe = mergeArrays(otherOptions.observe, options.observe);\n        }\n        options.ignore = mergeArrays(options.ignore, defaultOptions.ignore);\n        options.include = mergeArrays(options.include, defaultOptions.include);\n        options.copy = mergeArrays(options.copy, defaultOptions.copy);\n        options.observe = mergeArrays(options.observe, defaultOptions.observe);\n\n        options.mappedProperties = options.mappedProperties || {};\n        options.copiedProperties = options.copiedProperties || {};\n        return options;\n    }\n\n    function mergeArrays(a, b) {\n        if (a === undefined) {\n            a = [];\n        }\n        else if (exports.getType(a) !== \"array\") {\n            a = [a];\n        }\n\n        if (b === undefined) {\n            b = [];\n        }\n        else if (exports.getType(b) !== \"array\") {\n            b = [b];\n        }\n\n        return ko.utils.arrayGetDistinctValues(a.concat(b));\n    }\n\n    // When using a 'create' callback, we proxy the dependent observable so that it doesn't immediately evaluate on creation.\n    // The reason is that the dependent observables in the user-specified callback may contain references to properties that have not been mapped yet.\n    function withProxyDependentObservable(dependentObservables, callback) {\n        var localDO = ko.dependentObservable;\n        ko.dependentObservable = function(read, owner, options) {\n            options = options || {};\n\n            if (read && typeof read === \"object\") { // mirrors condition in knockout implementation of DO's\n                options = read;\n            }\n\n            var realDeferEvaluation = options.deferEvaluation;\n            var realIsPure = options.pure;\n\n            var isRemoved = false;\n\n            // We wrap the original dependent observable so that we can remove it from the 'dependentObservables' list we need to evaluate after mapping has\n            // completed if the user already evaluated the DO themselves in the meantime.\n            var wrap = function(DO) {\n                // Temporarily revert ko.dependentObservable, since it is used in ko.isWriteableObservable\n                var tmp = ko.dependentObservable;\n                ko.dependentObservable = realKoDependentObservable;\n                var isWriteable = ko.isWriteableObservable(DO);\n                ko.dependentObservable = tmp;\n\n                var wrapped = realKoDependentObservable({\n                    read: function() {\n                        if (!isRemoved) {\n                            ko.utils.arrayRemoveItem(dependentObservables, DO);\n                            isRemoved = true;\n                        }\n                        return DO.apply(DO, arguments);\n                    },\n                    write: isWriteable && function(val) {\n                        return DO(val);\n                    },\n                    deferEvaluation: true\n                });\n                if (DEBUG) wrapped._wrapper = true;\n                wrapped.__DO = DO;\n                return wrapped;\n            };\n\n            options.deferEvaluation = true; // will either set for just options, or both read/options.\n            var realDependentObservable = realKoDependentObservable(read, owner, options);\n\n            if (!realDeferEvaluation && !realIsPure) {\n                realDependentObservable = wrap(realDependentObservable);\n                dependentObservables.push(realDependentObservable);\n            }\n\n            return realDependentObservable;\n        };\n        ko.dependentObservable.fn = realKoDependentObservable.fn;\n        ko.computed = ko.dependentObservable;\n        var result = callback();\n        ko.dependentObservable = localDO;\n        ko.computed = ko.dependentObservable;\n        return result;\n    }\n\n    function updateViewModel(mappedRootObject, rootObject, options, parentName, parent, parentPropertyName, mappedParent) {\n        var isArray = exports.getType(ko.utils.unwrapObservable(rootObject)) === \"array\";\n\n        parentPropertyName = parentPropertyName || \"\";\n\n        // If this object was already mapped previously, take the options from there and merge them with our existing ones.\n        if (exports.isMapped(mappedRootObject)) {\n            var previousMapping = ko.utils.unwrapObservable(mappedRootObject)[mappingProperty];\n            options = merge(previousMapping, options);\n        }\n\n        var callbackParams = {\n            data: rootObject,\n            parent: mappedParent || parent\n        };\n\n        var hasCreateCallback = function() {\n            return options[parentName] && options[parentName].create instanceof Function;\n        };\n\n        var createCallback = function(data) {\n            return withProxyDependentObservable(dependentObservables, function() {\n\n                if (ko.utils.unwrapObservable(parent) instanceof Array) {\n                    return options[parentName].create({\n                        data: data || callbackParams.data,\n                        parent: callbackParams.parent,\n                        skip: emptyReturn\n                    });\n                }\n                else {\n                    return options[parentName].create({\n                        data: data || callbackParams.data,\n                        parent: callbackParams.parent\n                    });\n                }\n            });\n        };\n\n        var hasUpdateCallback = function() {\n            return options[parentName] && options[parentName].update instanceof Function;\n        };\n\n        var updateCallback = function(obj, data) {\n            var params = {\n                data: data || callbackParams.data,\n                parent: callbackParams.parent,\n                target: ko.utils.unwrapObservable(obj)\n            };\n\n            if (ko.isWriteableObservable(obj)) {\n                params.observable = obj;\n            }\n\n            return options[parentName].update(params);\n        };\n\n        var alreadyMapped = visitedObjects.get(rootObject);\n        if (alreadyMapped) {\n            return alreadyMapped;\n        }\n\n        parentName = parentName || \"\";\n\n        if (!isArray) {\n            // For atomic types, do a direct update on the observable\n            if (!canHaveProperties(rootObject)) {\n                switch (exports.getType(rootObject)) {\n                    case \"function\":\n                        if (hasUpdateCallback()) {\n                            if (ko.isWriteableObservable(rootObject)) {\n                                rootObject(updateCallback(rootObject));\n                                mappedRootObject = rootObject;\n                            }\n                            else {\n                                mappedRootObject = updateCallback(rootObject);\n                            }\n                        }\n                        else {\n                            mappedRootObject = rootObject;\n                        }\n                        break;\n                    default:\n                        if (ko.isWriteableObservable(mappedRootObject)) {\n                            var valueToWrite;\n                            if (hasUpdateCallback()) {\n                                valueToWrite = updateCallback(mappedRootObject);\n                                mappedRootObject(valueToWrite);\n                                return valueToWrite;\n                            }\n                            else {\n                                valueToWrite = ko.utils.unwrapObservable(rootObject);\n                                mappedRootObject(valueToWrite);\n                                return valueToWrite;\n                            }\n                        }\n                        else {\n                            var hasCreateOrUpdateCallback = hasCreateCallback() || hasUpdateCallback();\n\n                            if (hasCreateCallback()) {\n                                mappedRootObject = createCallback();\n                            }\n                            else {\n                                mappedRootObject = ko.observable(ko.utils.unwrapObservable(rootObject));\n                            }\n\n                            if (hasUpdateCallback()) {\n                                mappedRootObject(updateCallback(mappedRootObject));\n                            }\n\n                            if (hasCreateOrUpdateCallback) return mappedRootObject;\n                        }\n                }\n\n            }\n            else {\n                mappedRootObject = ko.utils.unwrapObservable(mappedRootObject);\n                if (!mappedRootObject) {\n                    if (hasCreateCallback()) {\n                        var result = createCallback();\n\n                        if (hasUpdateCallback()) {\n                            result = updateCallback(result);\n                        }\n                        return result;\n                    }\n                    else {\n                        if (hasUpdateCallback()) {\n                            //Removed ambiguous parameter result\n                            return updateCallback();\n                        }\n                        mappedRootObject = {};\n                    }\n                }\n\n                if (hasUpdateCallback()) {\n                    mappedRootObject = updateCallback(mappedRootObject);\n                }\n\n                visitedObjects.save(rootObject, mappedRootObject);\n                if (hasUpdateCallback()) return mappedRootObject;\n\n                // For non-atomic types, visit all properties and update recursively\n                visitPropertiesOrArrayEntries(rootObject, function(indexer) {\n                    var fullPropertyName = parentPropertyName.length ? parentPropertyName + \".\" + escapePropertyNameComponent(indexer) : escapePropertyNameComponent(indexer);\n\n                    if (ko.utils.arrayIndexOf(options.ignore, fullPropertyName) !== -1) {\n                        return;\n                    }\n\n                    if (ko.utils.arrayIndexOf(options.copy, fullPropertyName) !== -1) {\n                        mappedRootObject[indexer] = rootObject[indexer];\n                        return;\n                    }\n\n                    if (typeof rootObject[indexer] !== \"object\" && exports.getType(rootObject[indexer]) !== \"array\" && options.observe.length > 0 && ko.utils.arrayIndexOf(options.observe, fullPropertyName) === -1) {\n                        mappedRootObject[indexer] = rootObject[indexer];\n                        options.copiedProperties[fullPropertyName] = true;\n                        return;\n                    }\n\n                    // In case we are adding an already mapped property, fill it with the previously mapped property value to prevent recursion.\n                    // If this is a property that was generated by fromJS, we should use the options specified there\n                    var prevMappedProperty = visitedObjects.get(rootObject[indexer]);\n                    var retval = updateViewModel(mappedRootObject[indexer], rootObject[indexer], options, indexer, mappedRootObject, fullPropertyName, mappedRootObject);\n                    var value = prevMappedProperty || retval;\n\n                    if (options.observe.length > 0 && ko.utils.arrayIndexOf(options.observe, fullPropertyName) === -1) {\n                        mappedRootObject[indexer] = ko.utils.unwrapObservable(value);\n                        options.copiedProperties[fullPropertyName] = true;\n                        return;\n                    }\n\n                    if (ko.isWriteableObservable(mappedRootObject[indexer])) {\n                        value = ko.utils.unwrapObservable(value);\n                        if (mappedRootObject[indexer]() !== value) {\n                            mappedRootObject[indexer](value);\n                        }\n                    }\n                    else {\n                        value = mappedRootObject[indexer] === undefined ? value : ko.utils.unwrapObservable(value);\n                        mappedRootObject[indexer] = value;\n                    }\n\n                    options.mappedProperties[fullPropertyName] = true;\n                });\n            }\n        }\n        else { //mappedRootObject is an array\n            var changes = [];\n\n            var hasKeyCallback = false;\n            var keyCallback = function(x) {\n                return x;\n            };\n            if (options[parentName] && options[parentName].key) {\n                keyCallback = options[parentName].key;\n                hasKeyCallback = true;\n            }\n\n            if (!ko.isObservable(mappedRootObject)) {\n                // When creating the new observable array, also add a bunch of utility functions that take the 'key' of the array items into account.\n                mappedRootObject = ko.observableArray([]);\n\n                mappedRootObject.mappedRemove = function(valueOrPredicate) {\n                    var predicate = typeof valueOrPredicate === \"function\" ? valueOrPredicate : function(value) {\n                        return value === keyCallback(valueOrPredicate);\n                    };\n                    return mappedRootObject.remove(function(item) {\n                        return predicate(keyCallback(item));\n                    });\n                };\n\n                mappedRootObject.mappedRemoveAll = function(arrayOfValues) {\n                    var arrayOfKeys = filterArrayByKey(arrayOfValues, keyCallback);\n                    return mappedRootObject.remove(function(item) {\n                        return ko.utils.arrayIndexOf(arrayOfKeys, keyCallback(item)) !== -1;\n                    });\n                };\n\n                mappedRootObject.mappedDestroy = function(valueOrPredicate) {\n                    var predicate = typeof valueOrPredicate === \"function\" ? valueOrPredicate : function(value) {\n                        return value === keyCallback(valueOrPredicate);\n                    };\n                    return mappedRootObject.destroy(function(item) {\n                        return predicate(keyCallback(item));\n                    });\n                };\n\n                mappedRootObject.mappedDestroyAll = function(arrayOfValues) {\n                    var arrayOfKeys = filterArrayByKey(arrayOfValues, keyCallback);\n                    return mappedRootObject.destroy(function(item) {\n                        return ko.utils.arrayIndexOf(arrayOfKeys, keyCallback(item)) !== -1;\n                    });\n                };\n\n                mappedRootObject.mappedIndexOf = function(item) {\n                    var keys = filterArrayByKey(mappedRootObject(), keyCallback);\n                    var key = keyCallback(item);\n                    return ko.utils.arrayIndexOf(keys, key);\n                };\n\n                mappedRootObject.mappedGet = function(item) {\n                    return mappedRootObject()[mappedRootObject.mappedIndexOf(item)];\n                };\n\n                mappedRootObject.mappedCreate = function(value) {\n                    if (mappedRootObject.mappedIndexOf(value) !== -1) {\n                        throw new Error(\"There already is an object with the key that you specified.\");\n                    }\n                    var item = hasCreateCallback() ? createCallback(value) : value;\n                    if (hasUpdateCallback()) {\n                        var newValue = updateCallback(item, value);\n                        if (ko.isWriteableObservable(item)) {\n                            item(newValue);\n                        }\n                        else {\n                            item = newValue;\n                        }\n                    }\n                    mappedRootObject.push(item);\n                    return item;\n                };\n            }\n\n            var currentArrayKeys = filterArrayByKey(ko.utils.unwrapObservable(mappedRootObject), keyCallback).sort();\n            var newArrayKeys = filterArrayByKey(rootObject, keyCallback);\n            if (hasKeyCallback) newArrayKeys.sort();\n            var editScript = ko.utils.compareArrays(currentArrayKeys, newArrayKeys);\n\n            var ignoreIndexOf = {};\n\n            var i, j, key;\n\n            var unwrappedRootObject = ko.utils.unwrapObservable(rootObject);\n            var itemsByKey = {};\n            var optimizedKeys = true;\n            for (i = 0, j = unwrappedRootObject.length; i < j; i++) {\n                key = keyCallback(unwrappedRootObject[i]);\n                if (key === undefined || key instanceof Object) {\n                    optimizedKeys = false;\n                    break;\n                }\n                itemsByKey[key] = unwrappedRootObject[i];\n            }\n\n            var newContents = [];\n            var passedOver = 0;\n            var item, index;\n\n            for (i = 0, j = editScript.length; i < j; i++) {\n                key = editScript[i];\n                var mappedItem;\n                var fullPropertyName = parentPropertyName + \"[\" + escapePropertyNameComponent(i) + \"]\";\n\n                switch (key.status) {\n                    case \"added\":\n                        item = optimizedKeys ? itemsByKey[key.value] : getItemByKey(ko.utils.unwrapObservable(rootObject), key.value, keyCallback);\n                        mappedItem = updateViewModel(undefined, item, options, parentName, mappedRootObject, fullPropertyName, parent);\n                        if (!hasCreateCallback()) {\n                            mappedItem = ko.utils.unwrapObservable(mappedItem);\n                        }\n\n                        index = ignorableIndexOf(ko.utils.unwrapObservable(rootObject), item, ignoreIndexOf);\n\n                        if (mappedItem === emptyReturn) {\n                            passedOver++;\n                        }\n                        else {\n                            newContents[index - passedOver] = mappedItem;\n                        }\n\n                        ignoreIndexOf[index] = true;\n                        break;\n                    case \"retained\":\n                        item = optimizedKeys ? itemsByKey[key.value] : getItemByKey(ko.utils.unwrapObservable(rootObject), key.value, keyCallback);\n                        mappedItem = getItemByKey(mappedRootObject, key.value, keyCallback);\n                        updateViewModel(mappedItem, item, options, parentName, mappedRootObject, fullPropertyName, parent);\n\n                        index = ignorableIndexOf(ko.utils.unwrapObservable(rootObject), item, ignoreIndexOf);\n                        newContents[index] = mappedItem;\n                        ignoreIndexOf[index] = true;\n                        break;\n                    case \"deleted\":\n                        mappedItem = getItemByKey(mappedRootObject, key.value, keyCallback);\n                        break;\n                }\n\n                changes.push({\n                    event: key.status,\n                    item: mappedItem\n                });\n            }\n\n            mappedRootObject(newContents);\n\n            if (options[parentName] && options[parentName].arrayChanged) {\n                ko.utils.arrayForEach(changes, function(change) {\n                    options[parentName].arrayChanged(change.event, change.item);\n                });\n            }\n        }\n\n        return mappedRootObject;\n    }\n\n    function ignorableIndexOf(array, item, ignoreIndices) {\n        for (var i = 0, j = array.length; i < j; i++) {\n            if (ignoreIndices[i] === true) continue;\n            if (array[i] === item) return i;\n        }\n        return null;\n    }\n\n    function mapKey(item, callback) {\n        var mappedItem;\n        if (callback) mappedItem = callback(item);\n        if (exports.getType(mappedItem) === \"undefined\") mappedItem = item;\n\n        return ko.utils.unwrapObservable(mappedItem);\n    }\n\n    function getItemByKey(array, key, callback) {\n        array = ko.utils.unwrapObservable(array);\n        for (var i = 0, j = array.length; i < j; i++) {\n            var item = array[i];\n            if (mapKey(item, callback) === key) return item;\n        }\n\n        throw new Error(\"When calling ko.update*, the key '\" + key + \"' was not found!\");\n    }\n\n    function filterArrayByKey(array, callback) {\n        return ko.utils.arrayMap(ko.utils.unwrapObservable(array), function(item) {\n            if (callback) {\n                return mapKey(item, callback);\n            }\n            else {\n                return item;\n            }\n        });\n    }\n\n    function visitPropertiesOrArrayEntries(rootObject, visitorCallback) {\n        if (exports.getType(rootObject) === \"array\") {\n            for (var i = 0; i < rootObject.length; i++)\n                visitorCallback(i);\n        }\n        else {\n            for (var propertyName in rootObject) {\n                if (rootObject.hasOwnProperty(propertyName)) {\n                    visitorCallback(propertyName);\n                }\n            }\n        }\n    }\n\n    function canHaveProperties(object) {\n        if (object === null) {\n            return false;\n        }\n        var type = exports.getType(object);\n        return (type === \"object\") || (type === \"array\");\n    }\n\n    // Based on the parentName, this creates a fully classified name of a property\n\n    function getPropertyName(parentName, parent, indexer) {\n        var propertyName = parentName || \"\";\n        if (exports.getType(parent) === \"array\") {\n            if (parentName) {\n                propertyName += \"[\" + escapePropertyNameComponent(indexer) + \"]\";\n            }\n        }\n        else {\n            if (parentName) {\n                propertyName += \".\";\n            }\n            propertyName += escapePropertyNameComponent(indexer);\n        }\n        return propertyName;\n    }\n\n    function escapePropertyNameComponent(indexer) {\n        var escapedIndexer  = (''+indexer)\n            .replace(/~/g, '~~')\n            .replace(/\\[/g, '~[')\n            .replace(/]/g, '~]')\n            .replace(/\\./g, '~.');\n        return escapedIndexer;\n    }\n\n\n    exports.visitModel = function(rootObject, callback, options) {\n        options = options || {};\n        options.visitedObjects = options.visitedObjects || new ObjectLookup();\n\n        var mappedRootObject;\n        var unwrappedRootObject = ko.utils.unwrapObservable(rootObject);\n\n        if (!canHaveProperties(unwrappedRootObject)) {\n            return callback(rootObject, options.parentName);\n        }\n        else {\n            options = fillOptions(options, unwrappedRootObject[mappingProperty]);\n\n            // Only do a callback, but ignore the results\n            callback(rootObject, options.parentName);\n            mappedRootObject = exports.getType(unwrappedRootObject) === \"array\" ? [] : {};\n        }\n\n        options.visitedObjects.save(rootObject, mappedRootObject);\n\n        var parentName = options.parentName;\n        visitPropertiesOrArrayEntries(unwrappedRootObject, function(indexer) {\n            var escapedIndexer = escapePropertyNameComponent(indexer);\n            if (options.ignore && ko.utils.arrayIndexOf(options.ignore, escapedIndexer) !== -1) return;\n\n            var propertyValue = unwrappedRootObject[indexer];\n            options.parentName = getPropertyName(parentName, unwrappedRootObject, indexer);\n\n            // If we don't want to explicitly copy the unmapped property...\n            if (ko.utils.arrayIndexOf(options.copy, escapedIndexer) === -1) {\n                // ...find out if it's a property we want to explicitly include\n                if (ko.utils.arrayIndexOf(options.include, escapedIndexer) === -1) {\n                    // The mapped properties object contains all the properties that were part of the original object.\n                    // If a property does not exist, and it is not because it is part of an array (e.g. \"myProp[3]\"), then it should not be unmapped.\n                    var unwrappedRootMappingProperty = unwrappedRootObject[mappingProperty];\n                    if (unwrappedRootMappingProperty) {\n                        var mappedProperties = unwrappedRootMappingProperty.mappedProperties;\n                        if (mappedProperties && !mappedProperties[escapedIndexer]) {\n                            var copiedProperties = unwrappedRootMappingProperty.copiedProperties;\n                            if (copiedProperties && !copiedProperties[escapedIndexer] && (exports.getType(unwrappedRootObject) !== \"array\")) {\n                                return;\n                            }\n                        }\n                    }\n                }\n            }\n\n            switch (exports.getType(ko.utils.unwrapObservable(propertyValue))) {\n                case \"object\":\n                case \"array\":\n                case \"undefined\":\n                    var previouslyMappedValue = options.visitedObjects.get(propertyValue);\n                    mappedRootObject[indexer] = (exports.getType(previouslyMappedValue) !== \"undefined\") ? previouslyMappedValue : exports.visitModel(propertyValue, callback, options);\n                    break;\n                default:\n                    mappedRootObject[indexer] = callback(propertyValue, options.parentName);\n            }\n        });\n\n        return mappedRootObject;\n    };\n\n    function SimpleObjectLookup() {\n        var keys = [];\n        var values = [];\n        this.save = function(key, value) {\n            var existingIndex = ko.utils.arrayIndexOf(keys, key);\n            if (existingIndex >= 0) values[existingIndex] = value;\n            else {\n                keys.push(key);\n                values.push(value);\n            }\n        };\n        this.get = function(key) {\n            var existingIndex = ko.utils.arrayIndexOf(keys, key);\n            var value = (existingIndex >= 0) ? values[existingIndex] : undefined;\n            return value;\n        };\n    }\n\n    function ObjectLookup() {\n        var buckets = {};\n\n        var findBucket = function(key) {\n            var bucketKey;\n            try {\n                bucketKey = key;//JSON.stringify(key);\n            }\n            catch (e) {\n                bucketKey = \"$$$\";\n            }\n\n            var bucket = buckets[bucketKey];\n            if (!buckets.hasOwnProperty(bucketKey)) {\n                bucket = new SimpleObjectLookup();\n                buckets[bucketKey] = bucket;\n            }\n            return bucket;\n        };\n\n        this.save = function(key, value) {\n            findBucket(key).save(key, value);\n        };\n        this.get = function(key) {\n            return findBucket(key).get(key);\n        };\n    }\n}));\n"]}